"use strict";(self.webpackChunkcoco_next=self.webpackChunkcoco_next||[]).push([["111"],{70016(e,t,n){n.d(t,{f:()=>eT,s:()=>I,u:()=>eE,a:()=>eu,c:()=>ec,l:()=>el,p:()=>ed,r:()=>eo,i:()=>es,o:()=>e_,d:()=>ep});var r,a,i,o,_,s,u,c,l,E,p,d,T,O,f,A,I={};n.r(I),n.d(I,{setBlockGroupExtra:()=>ei,setBlockGroupProfile:()=>en,setBlockGroupSnippet:()=>ea,setBlockGroupXML:()=>er});var R=n(6252),y=n(24876),S=n(32919),m=n(38752),C=n(28413),b=n(60096);function g(e,t){var n="%{BKY_BLOCK_TAB_ICON}";e.insertBlockProfile("screen_on_open",{type:"screen_on_open",message0:"%{BKY_SCREEN_ON_OPEN}",args0:[y.e(n,!0)],message1:"%1",args1:[{type:"input_statement",name:"DO"}],colour:"%{BKY_EVENTS_HUE}",inputsInline:!0}),e.insertBlockProfile("screen_on_open_get_param_value",{type:"screen_on_open_get_param_value",message0:"%{BKY_SCREEN_PARAM}",output:"String",required_context:"screen_on_open_get_param_value_DO",colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("screen_on_open_get_param",{type:"screen_on_open_get_param",message0:"%{BKY_SCREEN_ON_OPEN_GET_PARAM}",args0:[y.e(n,!0),{type:"input_value",name:"PARAMETER",align:"CENTRE",default_shadow:'<shadow type="screen_on_open_get_param_value" />'},{type:"input_dummy",align:"CENTRE"},{type:"input_statement",name:"DO",provided_context:"screen_on_open_get_param_value_DO"}],colour:"%{BKY_EVENTS_HUE}",inputsInline:!0}),e.insertBlockProfile("screen_navigate_to",{type:"screen_navigate_to",message0:"%{BKY_SCREEN_NAVIGATE_TO}",args0:[{type:"field_coco_dropdown",name:"SCREEN_ID",custom:!0,options:function(){return[].concat(C.a(b.c().getScreenList()),[{type:"line"},{type:"basic",text:t.Msg.SCREEN_NEXT,value:"nextScreen"},{type:"basic",text:t.Msg.SCREEN_PREV,value:"prevScreen"}])}}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_EVENTS_HUE}",inputsInline:!0}),e.insertBlockProfile("screen_navigate_to_by_value",{type:"screen_navigate_to_by_value",message0:"%{BKY_SCREEN_NAVIGATE_TO_BY_VALUE}",args0:[{type:"field_coco_dropdown",name:"SCREEN_ID",custom:!0,options:function(){return[].concat(C.a(b.c().getScreenList()),[{type:"line"},{type:"basic",text:t.Msg.SCREEN_NEXT,value:"nextScreen"},{type:"basic",text:t.Msg.SCREEN_PREV,value:"prevScreen"}])}},{type:"input_value",name:"PARAMETER"}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_EVENTS_HUE}",inputsInline:!0}),e.insertBlockProfile("new_screen_navigate_to",{type:"new_screen_navigate_to",message0:"%{BKY_SCREEN_NAVIGATE_TO}",args0:[{type:"input_value",name:"SCREEN_ID",check:["String","Number"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_EVENTS_HUE}",inputsInline:!0}),e.insertBlockProfile("screen_input",{type:"screen_input",message0:"%1",args0:[{type:"field_coco_dropdown",name:"SCREEN_ID",custom:!0,options:function(){return[].concat(C.a(b.c().getScreenList()),[{type:"line"},{type:"basic",text:t.Msg.SCREEN_NEXT,value:"nextScreen"},{type:"basic",text:t.Msg.SCREEN_PREV,value:"prevScreen"}])}}],colour:"#ffffff",output:"String",tooltip:"%{BKY_SCREEN_INPUT_TOOLTIP}"}),e.insertBlockProfile("new_screen_navigate_to_by_value",{type:"new_screen_navigate_to_by_value",message0:"%{BKY_SCREEN_NAVIGATE_TO_BY_VALUE}",args0:[{type:"input_value",name:"SCREEN_ID",check:["String","Number"]},{type:"input_value",name:"PARAMETER"}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_EVENTS_HUE}",inputsInline:!0})}function N(e){e.insertBlockXML("screen_on_open"),e.insertBlockXML("screen_on_open_get_param"),e.insertBlockXML("screen_input",void 0,!0),e.insertBlockXML("screen_navigate_to"),e.insertBlockXML("screen_navigate_to_by_value",'    <value name="PARAMETER">\n  <shadow type="text">\n    <field name="TEXT">参数</field>\n  </shadow>\n</value>'),e.insertBlockXML("new_screen_navigate_to",'<value name="SCREEN_ID">\n      <shadow type="screen_input"></shadow>\n    </value>',!0),e.insertBlockXML("new_screen_navigate_to_by_value",'<value name="SCREEN_ID">\n        <shadow type="screen_input"></shadow>\n      </value>\n      <value name="PARAMETER">\n    <shadow type="text">\n      <field name="TEXT">参数</field>\n    </shadow>\n  </value>',!0),e.insertBlockXML("broadcast_on_receive",'<value name="BROADCAST">\n      <shadow type="broadcast_input"></shadow>\n    </value>',!0),e.insertBlockXML("broadcast_send",'<value name="BROADCAST">\n      <shadow type="broadcast_input"></shadow>\n    </value>',!0),e.insertBlockXML("broadcast_send_and_wait",'<value name="BROADCAST">\n      <shadow type="broadcast_input"></shadow>\n    </value>',!0)}function L(e){e.insertBlockSnippetGenerator("screen_input",function(t,n){var r=t.blocks[n];return JSON.stringify(e.getFieldValue(r,"SCREEN_ID"))}),e.insertBlockSnippetGenerator("screen_on_open",function(t,n){var r=e.statementToCode(t,n,"DO");return r?y.m("onScreenOpen",[y.o(e.getDynamicValue("__CURRENT_SCREEN_ID__"))],r):""}),e.insertBlockSnippetGenerator("screen_on_open_get_param_value",function(){return"screenOpenParamValue"}),e.insertBlockSnippetGenerator("screen_on_open_get_param",function(t,n){var r=e.statementToCode(t,n,"DO");if(!r)return"";var a=e.valueToCode(t,n,"PARAMETER",e.ORDER_FUNCTION_CALL);return y.n("onScreenOpen",[y.o(e.getDynamicValue("__CURRENT_SCREEN_ID__"))],r,[a])}),e.insertBlockSnippetGenerator("screen_navigate_to",function(t,n){var r=y.o(e.getFieldValue(t.blocks[n],"SCREEN_ID")||"");return r===y.o("nextScreen")?y.n("navigateToNextScreen",[y.o(e.getDynamicValue("__CURRENT_SCREEN_ID__"))]):r===y.o("prevScreen")?y.n("navigateToPrevScreen",[y.o(e.getDynamicValue("__CURRENT_SCREEN_ID__"))]):y.n("navigateToScreen",[r])}),e.insertBlockSnippetGenerator("screen_navigate_to_by_value",function(t,n){var r=y.o(e.getFieldValue(t.blocks[n],"SCREEN_ID")||""),a=e.valueToCode(t,n,"PARAMETER",e.ORDER_FUNCTION_CALL);return r===y.o("nextScreen")?y.n("navigateToNextScreen",[y.o(e.getDynamicValue("__CURRENT_SCREEN_ID__")),a]):r===y.o("prevScreen")?y.n("navigateToPrevScreen",[y.o(e.getDynamicValue("__CURRENT_SCREEN_ID__")),a]):y.n("navigateToScreen",[r,a])}),e.insertBlockSnippetGenerator("new_screen_navigate_to",function(t,n){var r=t.blocks[n],a=e.valueToCode(t,n,"SCREEN_ID",e.ORDER_FUNCTION_CALL);return a.includes(y.o("nextScreen"))?y.l(y.n("navigateToNextScreen",[y.o(e.getDynamicValue("__CURRENT_SCREEN_ID__"))]),r,e):a.includes(y.o("prevScreen"))?y.l(y.n("navigateToPrevScreen",[y.o(e.getDynamicValue("__CURRENT_SCREEN_ID__"))]),r,e):y.l(y.n("navigateToScreen",[a]),r,e)}),e.insertBlockSnippetGenerator("new_screen_navigate_to_by_value",function(t,n){var r=t.blocks[n],a=e.valueToCode(t,n,"SCREEN_ID",e.ORDER_FUNCTION_CALL),i=e.valueToCode(t,n,"PARAMETER",e.ORDER_FUNCTION_CALL);return a.includes(y.o("nextScreen"))?y.l(y.n("navigateToNextScreen",[y.o(e.getDynamicValue("__CURRENT_SCREEN_ID__")),i]),r,e):a.includes(y.o("prevScreen"))?y.l(y.n("navigateToPrevScreen",[y.o(e.getDynamicValue("__CURRENT_SCREEN_ID__")),i]),r,e):y.l(y.n("navigateToScreen",[a,i]),r,e)})}function v(e,t){e.insertBlockProfile("loop_finitely",{type:"loop_finitely",message0:"%{BKY_REPEAT}",args0:[{type:"input_value",name:"TIMES",check:"Number",align:"CENTRE"},{type:"input_dummy",align:"CENTRE"},{type:"input_statement",name:"DO"}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_CONTROL_HUE}",inputsInline:!0}),e.insertBlockProfile("sleep",{type:"sleep",message0:"%{BKY_WAIT_SECS}",args0:[{type:"input_value",name:"SECONDS",check:"Number",align:"CENTRE"}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_CONTROL_HUE}",inputsInline:!0}),e.insertBlockProfile("loop_conditionally",{type:"loop_conditionally",message0:"%{BKY_REPEAT_WHEN}",args0:[{type:"input_value",name:"CONDITION",check:"Boolean",align:"CENTRE"},{type:"input_dummy",align:"CENTRE"},{type:"input_statement",name:"DO"}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_CONTROL_HUE}",inputsInline:!0,tooltip:"%{BKY_REPEAT_WHEN_TOOLTIP}"}),e.insertBlockProfile("loop_infinitely",{type:"loop_infinitely",message0:"%{BKY_REPEAT_FOREVER}",args0:[{type:"input_dummy",align:"CENTRE"},{type:"input_statement",name:"DO"}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_CONTROL_HUE}",inputsInline:!0}),e.insertBlockProfile("wait_until",{type:"wait_until",message0:"%{BKY_SLEEP_UTIL}",args0:[{type:"input_value",name:"CONDITION",check:"Boolean",align:"CENTRE"}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_CONTROL_HUE}",inputsInline:!0}),e.insertBlockProfile("break_loop",{type:"break_loop",message0:"%{BKY_BREAK}",args0:[],previousStatement:!0,nextStatement:!0,colour:"%{BKY_CONTROL_HUE}",inputsInline:!0,tooltip:"%{BKY_BREAK_TOOLTIP}"}),e.insertBlockProfile("continue_loop",{type:"continue_loop",message0:"%{BKY_CONTINUE}",args0:[],previousStatement:!0,nextStatement:!0,colour:"%{BKY_CONTROL_HUE}",inputsInline:!0}),e.insertBlockProfile("console_log",{type:"console_log",message0:"%{BKY_CONSOLE_LOG}",args0:[{type:"input_value",name:"VALUE",align:"CENTRE"}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_CONTROL_HUE}",inputsInline:!0,mutator:"CONSOLE_MUTATOR"}),e.insertBlockProfile("new_console_log",{type:"new_console_log",message0:"%{BKY_NEW_CONSOLE_LOG}",args0:[{type:"field_coco_dropdown",custom:!0,name:"TYPE",options:[["%{BKY_TO_LOG}",l.LOG],["%{BKY_TO_ERROR}",l.ERROR],["%{BKY_TO_WARNING}",l.WARNING]]},{type:"input_value",name:"VALUE",align:"CENTRE"}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_CONTROL_HUE}",inputsInline:!0,mutator:"CONSOLE_MUTATOR"}),e.insertBlockProfile("console_error",{type:"console_error",message0:"%{BKY_CONSOLE_ERROR}",args0:[{type:"input_value",name:"VALUE",align:"CENTRE"}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_CONTROL_HUE}",inputsInline:!0,mutator:"CONSOLE_MUTATOR"}),e.insertBlockProfile("controls_for",{type:"controls_for",message0:"%{BKY_CONTROLS_FOR}",args0:[{type:"input_value",name:"VALUE",check:["Number"],default_shadow:'<shadow type="controls_for_value" />'},{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"},{type:"input_value",name:"BY",check:"Number"}],message1:"%1",args1:[{type:"input_statement",name:"DO",provided_context:"controls_for_DO"}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_CONTROL_HUE}",inputsInline:!0,tooltip:"%{BKY_CONTROLS_FOR_TOOLTIP}"}),e.insertBlockProfile("controls_for_closed_range",{type:"controls_for_closed_range",message0:"%{BKY_CONTROLS_FOR_CLOSED_RANGE}",args0:[{type:"input_value",name:"VALUE",check:["Number"],default_shadow:'<shadow type="controls_for_value" />'},{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"},{type:"input_value",name:"BY",check:"Number"}],message1:"%1",args1:[{type:"input_statement",name:"DO",provided_context:"controls_for_DO"}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_CONTROL_HUE}",inputsInline:!0,tooltip:"%{BKY_CONTROLS_FOR_CLOSED_RANGE_TOOLTIP}"}),e.insertBlockProfile("controls_for_value",{type:"controls_for_value",message0:"%{BKY_CONTROLS_NUMBER}",output:"Number",required_context:"controls_for_DO",colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]})}function h(e,t){e.insertBlockXML("controls_if",['\n    <value name="IF0">\n      <empty type="logic_empty">\n        <field name="BOOL"></field>\n      </empty>\n    </value>\n  ',' \n    <mutation else="1"></mutation>\n    <value name="IF0">\n      <empty type="logic_empty">\n        <field name="BOOL"></field>\n      </empty>\n    </value>']),e.insertBlockXML("controls_for_closed_range",['\n    <value name="FROM">\n      <shadow type="math_number">\n        <field name="NUM" constraints=",,1">1</field>\n      </shadow>\n    </value>\n    <value name="TO">\n      <shadow type="math_number">\n        <field name="NUM" constraints=",,1">10</field>\n      </shadow>\n    </value>\n    <value name="BY">\n      <shadow type="math_number">\n        <field name="NUM" constraints=",,1">1</field>\n      </shadow>\n    </value>']),e.insertBlockXML("loop_finitely",'\n    <value name="TIMES">\n      <shadow type="math_number">\n        <field name="NUM" constraints="1,,1">20</field>\n      </shadow>\n    </value>\n    '),e.insertBlockXML("sleep",'\n    <value name="SECONDS">\n      <shadow type="math_number">\n        <field name="NUM" constraints="0">1</field>\n      </shadow>\n    </value>\n    '),e.insertBlockXML("loop_conditionally",'\n    <value name="CONDITION">\n      <empty type="logic_empty">\n        <field name="BOOL"></field>\n      </empty>\n    </value>\n  '),e.insertBlockXML("loop_infinitely"),e.insertBlockXML("wait_until",'\n    <value name="CONDITION">\n      <empty type="logic_empty">\n        <field name="BOOL"></field>\n      </empty>\n    </value>\n    '),e.insertBlockXML("console_log",'\n    <mutation items="0"></mutation>\n    <value name="VALUE">\n      <shadow type="text">\n        <field name="TEXT">'.concat(t.Msg.CONSOLE_LOG_DEFAULT_VALUE,"</field>\n      </shadow>\n    </value>\n    ")),e.insertBlockXML("new_console_log",'\n    <mutation items="0"></mutation>\n    <value name="VALUE">\n      <shadow type="text">\n        <field name="TEXT">'.concat(t.Msg.CONSOLE_LOG_DEFAULT_VALUE,"</field>\n      </shadow>\n    </value>\n    ")),e.insertBlockXML("console_error",'\n    <mutation items="0"></mutation>\n    <value name="VALUE">\n      <shadow type="text">\n        <field name="TEXT">'.concat(t.Msg.CONSOLE_ERROR_DEFAULT_VALUE,"</field>\n      </shadow>\n    </value>\n    ")),e.insertBlockXML("break_loop"),e.insertBlockXML("continue_loop")}function D(e){e.insertBlockSnippetGenerator("loop_conditionally",function(t,n){var r=e.valueToCode(t,n,"CONDITION",e.ORDER_FUNCTION_CALL)||"false",a=e.statementToCode(t,n,"DO");return a?y.i("asyncScheduler.loopConditionally",a,[y.g(r,!0)]):""}),e.insertBlockSnippetGenerator("break_loop",function(){return y.i("asyncScheduler.breakLoop")}),e.insertBlockSnippetGenerator("continue_loop",function(){return y.i("asyncScheduler.continueLoop")}),e.insertBlockSnippetGenerator("loop_finitely",function(t,n){var r=e.valueToCode(t,n,"TIMES",e.ORDER_FUNCTION_CALL),a=e.statementToCode(t,n,"DO");return a?y.i("asyncScheduler.loopFinitely",a,[r]):""}),e.insertBlockSnippetGenerator("loop_infinitely",function(t,n){var r=e.statementToCode(t,n,"DO");return r?y.i("asyncScheduler.loopInfinitely",r):""}),e.insertBlockSnippetGenerator("sleep",function(t,n){var r=e.valueToCode(t,n,"SECONDS",e.ORDER_FUNCTION_CALL)||"0";return"await AsyncScheduler.sleep(".concat(r," * 1000);\n")}),e.insertBlockSnippetGenerator("wait_until",function(t,n){var r=e.valueToCode(t,n,"CONDITION",e.ORDER_FUNCTION_CALL)||"false";return y.i("asyncScheduler.waitUntil",void 0,[y.g(r,!0)])}),e.insertBlockSnippetGenerator("console_log",function(t,n){for(var r=t.blocks[n],a=[e.valueToCode(t,n,"VALUE",e.ORDER_FUNCTION_CALL)||""],i=r.mutation,o=m.Z.xml.text_to_dom(i).getAttribute("items"),_=o?parseInt(o):0,s=0;s<_;s++){var u=e.valueToCode(t,n,"VALUE".concat(s),e.ORDER_FUNCTION_CALL);u&&a.push(u)}var c=e.getDynamicValue("__CURRENT_SCREEN_ID__");return y.n("consoleLog",[y.o(c),y.o(r.id)].concat(a))}),e.insertBlockSnippetGenerator("new_console_log",function(t,n){for(var r=t.blocks[n],a=e.getFieldValue(r,"TYPE"),i=[e.valueToCode(t,n,"VALUE",e.ORDER_FUNCTION_CALL)||""],o=r.mutation,_=m.Z.xml.text_to_dom(o).getAttribute("items"),s=_?parseInt(_):0,u=0;u<s;u++){var c=e.valueToCode(t,n,"VALUE".concat(u),e.ORDER_FUNCTION_CALL);c&&i.push(c)}var E="consoleLog";a===l.ERROR?E="consoleError":a===l.WARNING&&(E="consoleWarning");var p=e.getDynamicValue("__CURRENT_SCREEN_ID__");return y.n(E,[y.o(p),y.o(r.id)].concat(i))}),e.insertBlockSnippetGenerator("console_error",function(t,n){for(var r=t.blocks[n],a=[e.valueToCode(t,n,"VALUE",e.ORDER_FUNCTION_CALL)||""],i=r.mutation,o=m.Z.xml.text_to_dom(i).getAttribute("items"),_=o?parseInt(o):0,s=0;s<_;s++){var u=e.valueToCode(t,n,"VALUE".concat(s),e.ORDER_FUNCTION_CALL);u&&a.push(u)}var c=e.getDynamicValue("__CURRENT_SCREEN_ID__");return y.n("consoleError",[y.o(c),y.o(r.id)].concat(a))}),e.insertBlockSnippetGenerator("controls_for",function(t,n){var r=e.valueToCode(t,n,"FROM",e.ORDER_FUNCTION_CALL),a=e.valueToCode(t,n,"TO",e.ORDER_FUNCTION_CALL),i=e.valueToCode(t,n,"BY",e.ORDER_FUNCTION_CALL),o=e.valueToCode(t,n,"VALUE",e.ORDER_FUNCTION_CALL),_=e.statementToCode(t,n,"DO");return _?y.i("asyncScheduler.loopStep",_,[r,a,i],[o]):""}),e.insertBlockSnippetGenerator("controls_for_closed_range",function(t,n){var r=e.valueToCode(t,n,"FROM",e.ORDER_FUNCTION_CALL),a=e.valueToCode(t,n,"TO",e.ORDER_FUNCTION_CALL),i=e.valueToCode(t,n,"BY",e.ORDER_FUNCTION_CALL),o=e.valueToCode(t,n,"VALUE",e.ORDER_FUNCTION_CALL),_=e.statementToCode(t,n,"DO");return _?y.i("asyncScheduler.loopStepClosedRange",_,[r,a,i],[o]):""}),e.insertBlockSnippetGenerator("controls_for_value",function(){return"".concat(y.a,"value")})}function x(e){var t='<shadow type="text"><field name="TEXT"></field></shadow>';e.extensions.register_mutator("CONSOLE_MUTATOR",{updateShape_:function(){e.events.disable();for(var n=0;n<this.itemCount_;n++){var r="VALUE".concat(n);this.get_input(r)||this.append_shadow_input(r,t)}0===this.itemCount_?this.get_input("MUTATE_REMOVE_BUTTON")&&this.remove_input("MUTATE_REMOVE_BUTTON"):this.get_input("MUTATE_REMOVE_BUTTON")||this.append_dummy_input("MUTATE_REMOVE_BUTTON").append_field(y.q(void 0),"MUTATE_REMOVE_BUTTON"),this.get_input("MUTATE_ADD_BUTTON")||this.append_dummy_input("MUTATE_ADD_BUTTON").append_field(y.p(),"MUTATE_ADD_BUTTON"),e.events.enable()},addMutation:function(e){var n=this,r="VALUE".concat(this.itemCount_);y.b.call(this,r,function(){n.get_input("MUTATE_REMOVE_BUTTON")||n.append_dummy_input("MUTATE_REMOVE_BUTTON","MUTATE_ADD_BUTTON").append_field(y.q(void 0),"MUTATE_REMOVE_BUTTON");var e=n.append_value_input(r,"MUTATE_REMOVE_BUTTON");return n.itemCount_++,e},t,e)},removeMutation:function(){var e=this,t="VALUE".concat(this.itemCount_-1);y.t.call(this,t,"TEXT",function(){e.remove_input(t),1===e.itemCount_&&e.remove_input("MUTATE_REMOVE_BUTTON"),e.itemCount_--})},mutationToDom:function(){var e=document.createElement("mutation");return e.setAttribute("items",String(this.itemCount_)),e},domToMutation:function(e){this.itemCount_=parseInt(e.getAttribute("items"),10),this.cacheId={},this.updateShape_()}})}function B(e,t){e.insertBlockProfile("variables_get",{type:"variables_get",message0:"%1",args0:[{type:"field_coco_dropdown",name:"VAR",custom:!0,advancedOptions:function(){return b.c().getPrimitiveVariableList(this)}}],output:!0,colour:"%{BKY_VARIABLES_HUE}",inputsInline:!0}),e.insertBlockProfile("variables_set",{type:"variables_set",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_coco_dropdown",name:"VAR",custom:!0,advancedOptions:function(){return b.c().getPrimitiveVariableList(this)}},{type:"input_value",name:"VALUE",align:"CENTRE"}],inputsInline:!0,previousStatement:!0,nextStatement:!0,colour:"%{BKY_VARIABLES_HUE}"}),e.insertBlockProfile("variables_change",{type:"variables_change",message0:"%{BKY_CHANGE_VARIABLE}",args0:[{type:"field_coco_dropdown",name:"VAR",custom:!0,advancedOptions:function(){return b.c().getPrimitiveVariableList(this)}},{type:"field_coco_dropdown",name:"METHOD",custom:!0,options:function(){return[[t.Msg.INCREASE,"increase"],[t.Msg.DECREASE,"decrease"]]}},{type:"input_value",name:"VALUE",check:["Number","String","Boolean","Array"],align:"CENTRE"}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_VARIABLES_HUE}",inputsInline:!0})}function k(e){e.insertBlockXML("variables_get","",!0),e.insertBlockXML("variables_set",'<value name="VALUE">\n        <shadow type="math_number">\n          <field name="NUM">0</field>\n        </shadow>\n    </value>',!0),e.insertBlockXML("variables_change",'<value name="VALUE">\n        <shadow type="math_number">\n          <field name="NUM">1</field>\n        </shadow>\n    </value>',!0)}function U(e){e.insertBlockSnippetGenerator("variables_get",function(t,n){var r=t.blocks[n],a=e.getFieldValue(r,"VAR");return a!==S.h&&a?y.s("getVariableValue",[y.o(a)]):""}),e.insertBlockSnippetGenerator("variables_set",function(t,n){var r=t.blocks[n],a=e.valueToCode(t,n,"VALUE",e.ORDER_ASSIGNMENT)||"0",i=e.getFieldValue(r,"VAR")||"";return i!==S.h&&i?y.n("setVariableValue",[y.o(i),a]):""}),e.insertBlockSnippetGenerator("variables_change",function(t,n){var r=t.blocks[n],a=e.getFieldValue(r,"METHOD")||"",i=e.getFieldValue(r,"VAR")||"",o=e.valueToCode(t,n,"VALUE",e.ORDER_FUNCTION_CALL)||"0",_=Number(o);return isNaN(_)||(o=_>0?o:"(".concat(o,")")),"increase"===a?y.n("increaseVariable",[y.o(i),o]):"decrease"===a?y.n("decreaseVariable",[y.o(i),o]):""})}(r=l||(l={})).LOG="LOG",r.ERROR="ERROR",r.WARNING="WARNING";var P=n(69878);function M(e,t){e.insertBlockProfile("object_get",{type:"object_get",message0:"%{BKY_OBJECT_GET}",args0:[{type:"field_coco_dropdown",name:"OBJECT",custom:!0,advancedOptions:function(){return b.c().getObjectVariableList(this)}}],output:"Object",colour:"%{BKY_SOUND_HUE}",inputsInline:!0}),e.insertBlockProfile("object_create",{type:"object_create",message0:"",colour:"%{BKY_SOUND_HUE}",inputsInline:!0,output:"Object",mutator:"OBJECT_CREATE_MUTATOR"}),e.insertBlockProfile("object_set_item",{type:"object_set_item",message0:"%{BKY_OBJECT_SET_ITEM}",args0:[{type:"input_value",name:"OBJECT",check:["Object"]},{type:"input_value",name:"KEY",check:["String","Number"]},{type:"input_value",name:"VALUE"}],colour:"%{BKY_SOUND_HUE}",inputsInline:!0,previousStatement:!0,nextStatement:!0}),e.insertBlockProfile("object_delete_item",{type:"object_delete_item",message0:"%{BKY_OBJECT_DELETE_ITEM}",args0:[{type:"input_value",name:"OBJECT",check:["Object"]},{type:"input_value",name:"KEY",check:["String","Number"]}],colour:"%{BKY_SOUND_HUE}",inputsInline:!0,previousStatement:!0,nextStatement:!0}),e.insertBlockProfile("object_clear",{type:"object_clear",message0:"%{BKY_OBJECT_CLEAR}",args0:[{type:"input_value",name:"OBJECT",check:["Object"]}],colour:"%{BKY_SOUND_HUE}",inputsInline:!0,previousStatement:!0,nextStatement:!0}),e.insertBlockProfile("object_length",{type:"object_length",message0:"%{BKY_OBJECT_LENGTH}",args0:[{type:"input_value",name:"OBJECT",check:["Object"]}],colour:"%{BKY_SOUND_HUE}",inputsInline:!0,output:"Number"}),e.insertBlockProfile("object_get_item",{type:"object_get_item",message0:"%{BKY_OBJECT_GET_ITEM}",args0:[{type:"input_value",name:"OBJECT",check:["Object"]},{type:"input_value",name:"KEY",check:["String","Number"]}],colour:"%{BKY_SOUND_HUE}",inputsInline:!0,output:!0}),e.insertBlockProfile("object_include_key",{type:"object_include_key",message0:"%{BKY_OBJECT_INCLUDE_KEY}",args0:[{type:"input_value",name:"OBJECT",check:["Object"]},{type:"input_value",name:"KEY",check:["String","Number"]}],colour:"%{BKY_SOUND_HUE}",inputsInline:!0,output:"Boolean"})}function w(e){e.insertBlockXML("object_get",void 0,!0),e.insertBlockXML("object_create","<mutation items='1'></mutation>",!0),e.insertBlockXML("object_set_item",'<value name="OBJECT">\n      <shadow type="object_get"></shadow>\n    </value>\n    <value name="KEY">\n      <shadow type="text">\n        <field name="TEXT">key</field>\n      </shadow>\n    </value>\n    <value name="VALUE">\n      <shadow type="math_number">\n        <field name="NUM" allow_text="true">0</field>\n      </shadow>\n    </value>',!0),e.insertBlockXML("object_delete_item",'<value name="OBJECT">\n      <shadow type="object_get"></shadow>\n    </value>\n    <value name="KEY">\n      <shadow type="text">\n        <field name="TEXT">key</field>\n      </shadow>\n    </value>',!0),e.insertBlockXML("object_clear",'<value name="OBJECT">\n      <shadow type="object_get"></shadow>\n    </value>',!0),e.insertBlockXML("object_length",'<value name="OBJECT">\n      <shadow type="object_get"></shadow>\n    </value>',!0),e.insertBlockXML("object_get_item",'<value name="OBJECT">\n      <shadow type="object_get"></shadow>\n    </value>\n    <value name="KEY">\n      <shadow type="text">\n        <field name="TEXT">key</field>\n      </shadow>\n    </value>',!0),e.insertBlockXML("object_include_key",'<value name="OBJECT">\n      <shadow type="object_get"></shadow>\n    </value>\n    <value name="KEY">\n      <shadow type="text">\n        <field name="TEXT">key</field>\n      </shadow>\n    </value>',!0)}function G(e){var t=function(t,n){var r=P.a(n),a=r.blockId&&t.blocks[r.blockId];return JSON.stringify(a&&e.getFieldValue(a,"OBJECT"))};e.insertBlockSnippetGenerator("object_get",function(t,n){var r=t.blocks[n],a=e.getFieldValue(r,"OBJECT")||"";return y.s("getVariableValue",[y.o(a)])}),e.insertBlockSnippetGenerator("object_create",function(t,n){for(var r=0,a="[";;){var i=e.valueToCode(t,n,"KEY".concat(r),e.ORDER_FUNCTION_CALL),o=e.valueToCode(t,n,"VALUE".concat(r),e.ORDER_FUNCTION_CALL);if(!i||!o)break;a+="[".concat(i,", ").concat(o,"],"),r++}a+="]";var _=t.blocks[n];return y.l(y.s("createTempObject",[a]),_,e,!1,!0)}),e.insertBlockSnippetGenerator("object_set_item",function(n,r){var a=n.blocks[r],i=e.valueToCode(n,r,"OBJECT",e.ORDER_FUNCTION_CALL),o=e.valueToCode(n,r,"KEY",e.ORDER_FUNCTION_CALL),_=e.valueToCode(n,r,"VALUE",e.ORDER_FUNCTION_CALL),s=t(n,i);return y.l(y.n("setObjectItem",[s,i,o,_]),a,e)}),e.insertBlockSnippetGenerator("object_delete_item",function(n,r){var a=n.blocks[r],i=e.valueToCode(n,r,"OBJECT",e.ORDER_FUNCTION_CALL),o=e.valueToCode(n,r,"KEY",e.ORDER_FUNCTION_CALL),_=t(n,i);return y.l(y.n("deleteObjectItem",[_,i,o]),a,e)}),e.insertBlockSnippetGenerator("object_get_item",function(t,n){var r=e.valueToCode(t,n,"OBJECT",e.ORDER_FUNCTION_CALL),a=e.valueToCode(t,n,"KEY",e.ORDER_FUNCTION_CALL),i=t.blocks[n];return y.l(y.s("getObjectItem",[r,a]),i,e,!1,!0)}),e.insertBlockSnippetGenerator("object_clear",function(n,r){var a=n.blocks[r],i=e.valueToCode(n,r,"OBJECT",e.ORDER_FUNCTION_CALL),o=t(n,i);return y.l(y.n("clearObject",[o,i]),a,e)}),e.insertBlockSnippetGenerator("object_length",function(t,n){var r=e.valueToCode(t,n,"OBJECT",e.ORDER_FUNCTION_CALL),a=t.blocks[n];return y.l(y.s("getObjectLength",[r]),a,e,!1,!0)}),e.insertBlockSnippetGenerator("object_include_key",function(t,n){var r=e.valueToCode(t,n,"OBJECT",e.ORDER_FUNCTION_CALL),a=e.valueToCode(t,n,"KEY",e.ORDER_FUNCTION_CALL),i=t.blocks[n];return y.l(y.s("checkKeyInObject",[r,a]),i,e,!1,!0)})}function Y(e){e.extensions.register_mutator("OBJECT_CREATE_MUTATOR",{itemCount_:0,updateShape_:function(){e.events.disable(),this.get_input("TITLE")||this.append_dummy_input("TITLE").append_field(e.Msg.OBJECT,"TEXT"),this.get_input("MUTATE_REMOVE_BUTTON")&&this.remove_input("MUTATE_REMOVE_BUTTON"),this.get_input("MUTATE_ADD_BUTTON")&&this.remove_input("MUTATE_ADD_BUTTON");for(var t=this.itemCount_;;t++){var n="KEY".concat(t);if(!this.get_input(n))break;this.remove_input(n);var r="VALUE".concat(t);if(!this.get_input(r))break;this.remove_input(r)}for(var a=0;a<this.itemCount_;a++){var i="KEY".concat(a);if(!this.get_input(i)){var o=this.append_shadow_input(i,'<shadow type="text"><field name="TEXT">key'.concat(a+1,"</field></shadow>"));o.set_check(["Number","String"]),0!==a&&o.append_field(",")}var _="VALUE".concat(a);this.get_input(_)||this.append_shadow_input(_,'<shadow type="math_number"><field name="NUM" allow_text="true">0</field></shadow>').append_field(":")}0===this.itemCount_?this.get_input("MUTATE_REMOVE_BUTTON")&&this.remove_input("MUTATE_REMOVE_BUTTON"):this.append_dummy_input("MUTATE_REMOVE_BUTTON").append_field(y.q(void 0),"MUTATE_REMOVE_BUTTON"),this.append_dummy_input("MUTATE_ADD_BUTTON").append_field(y.p(),"MUTATE_ADD_BUTTON"),e.events.enable()},addMutation:function(t){if(e.events.is_undoing())"number"==typeof t&&(this.itemCount_=t,this.updateShape_());else{var n=this.itemCount_;this.itemCount_++,this.updateShape_();var r=y.c("mutation",{block:this,old_value:n,new_value:this.itemCount_});e.events.fire(r)}},removeMutation:function(t){if(e.events.is_undoing())"number"==typeof t&&(this.itemCount_=t,this.updateShape_());else{var n=this.itemCount_;this.itemCount_--,this.updateShape_();var r=y.c("mutation",{block:this,old_value:n,new_value:this.itemCount_});e.events.fire(r)}},mutationToDom:function(){var e=document.createElement("mutation");return e.setAttribute("items",String(this.itemCount_)),e},domToMutation:function(e){this.itemCount_=parseInt(e.getAttribute("items"),10),this.updateShape_()}})}function V(e,t){var n="%{BKY_BLOCK_CLOUD_ICON}";e.insertBlockProfile("app_on_mount",{type:"app_on_mount",message0:"%{BKY_APP_ON_MOUNT}",args0:[y.e(n,!0),{type:"input_dummy",align:"CENTRE"},{type:"input_statement",name:"DO"}],colour:"%{BKY_EVENTS_HUE}",inputsInline:!0}),e.insertBlockProfile("app_on_switch_background",{type:"app_on_switch_background",message0:"%{BKY_APP_ON_SWITCH}",args0:[y.e(n,!0),{type:"field_coco_dropdown",name:"APP_STATE",custom:!0,options:function(){return[[t.Msg.APP_BACKGROUND,"background"],[t.Msg.APP_ACTIVE,"active"]]}},{type:"input_dummy",align:"CENTRE"},{type:"input_statement",name:"DO"}],colour:"%{BKY_EVENTS_HUE}",inputsInline:!0}),e.insertBlockProfile("broadcast_input",{type:"broadcast_input",message0:"%1",args0:[{type:"field_coco_dropdown",name:"BROADCAST",custom:!0,advancedOptions:function(){return b.c().getBroadcastList(this)}}],colour:"#ffffff",output:"String",tooltip:"%{BKY_BROADCAST_INPUT_TOOLTIP}"}),e.insertBlockProfile("broadcast_on_receive",{type:"broadcast_on_receive",message0:"%{BKY_BROADCAST_ON_RECEIVE}",args0:[y.e(n,!0),{type:"input_value",name:"BROADCAST",check:["String","Boolean"]},{type:"input_dummy",align:"CENTRE"},{type:"input_statement",name:"DO"}],colour:"%{BKY_EVENTS_HUE}",inputsInline:!0}),e.insertBlockProfile("broadcast_send",{type:"broadcast_send",message0:"%{BKY_BROADCAST_SEND}",args0:[{type:"input_value",name:"BROADCAST",check:["String","Boolean"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_EVENTS_HUE}",inputsInline:!0}),e.insertBlockProfile("broadcast_send_and_wait",{type:"broadcast_send_and_wait",message0:"%{BKY_BROADCAST_SEND_AND_WAIT}",args0:[{type:"input_value",name:"BROADCAST",check:["String","Boolean"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_EVENTS_HUE}",inputsInline:!0})}function W(e){e.insertBlockXML("app_on_mount"),e.insertBlockXML("app_on_switch_background"),e.insertBlockXML("when",'\n      <value name="CONDITION">\n        <empty type="logic_empty">\n          <field name="BOOL"></field>\n        </empty>\n      </value>\n      '),e.insertBlockXML("broadcast_input",void 0,!0)}function H(e){var t=function(t,n){var r=e.valueToCode(t,n,"BROADCAST",e.ORDER_FUNCTION_CALL),a=JSON.stringify(e.getDynamicValue("__CURRENT_SCREEN_ID__"));return"".concat(a," + ").concat(r)};e.insertBlockSnippetGenerator("app_on_mount",function(t,n){var r=e.statementToCode(t,n,"DO");return r?y.m("onAppMount",void 0,r):""}),e.insertBlockSnippetGenerator("app_on_switch_background",function(t,n){var r=t.blocks[n],a=e.statementToCode(t,n,"DO");return a?"active"===(e.getFieldValue(r,"APP_STATE")||"")?y.m("onAppActive",void 0,a):y.m("onAppBackground",void 0,a):""}),e.insertBlockSnippetGenerator("broadcast_input",function(t,n){var r=t.blocks[n];return JSON.stringify(e.getFieldValue(r,"BROADCAST"))}),e.insertBlockSnippetGenerator("broadcast_on_receive",function(n,r){var a=e.statementToCode(n,r,"DO");return a?y.m("onCustomEvent",[t(n,r)],a):""}),e.insertBlockSnippetGenerator("broadcast_send",function(e,n){return y.n("emitCustomEvent",[t(e,n)])}),e.insertBlockSnippetGenerator("broadcast_send_and_wait",function(e,n){return y.j("emitCustomEventAndWait",[t(e,n)])})}function K(e){e.insertBlockProfile("math_compare",{type:"math_compare",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:["Number","String","Boolean","Array"]},{type:"field_coco_dropdown",custom:!0,name:"OP",options:[["=",E.EQUAL],["≠",E.UNEQUAL],["<",E.LESS_THAN],["≤",E.LESS_THAN_OR_EQUAL],[">",E.GREATER_THAN],["≥",E.GREATER_THAN_OR_EQUAL]]},{type:"input_value",name:"B",check:["Number","String","Boolean","Array"]}],inputsInline:!0,output:"Boolean",colour:"%{BKY_LOGIC_HUE}"}),e.insertBlockProfile("math_operation",{type:"math_operation",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_coco_dropdown",name:"OP",custom:!0,options:[["%{BKY_MATH_ADDITION_SYMBOL}",f.ADD],["%{BKY_MATH_SUBTRACTION_SYMBOL}",f.MINUS],["%{BKY_MATH_MULTIPLICATION_SYMBOL}",f.MULTIPLY],["%{BKY_MATH_DIVISION_SYMBOL}",f.DIVIDE],["%{BKY_MATH_POWER_SYMBOL}",f.POWER]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",colour:"%{BKY_MATH_HUE}"}),e.insertBlockProfile("math_random_integer",{type:"math_random_integer",message0:"%{BKY_RANDOM_NUM}",args0:[{type:"input_value",name:"INPUT_A",check:"Number",align:"CENTRE"},{type:"input_value",name:"INPUT_B",check:"Number",align:"CENTRE"}],output:"Number",colour:"%{BKY_LOGIC_HUE}",inputsInline:!0}),e.insertBlockProfile("math_number_property",{type:"math_number_property",message0:"%1 %{BKY_MATH_IS} %2",args0:[{type:"input_value",name:"NUMBER_TO_CHECK",check:"Number",align:"CENTRE"},{type:"field_coco_dropdown",name:"PROPERTY",custom:!0,options:[["%{BKY_MATH_EVEN}",A.EVEN],["%{BKY_MATH_ODD}",A.ODD],["%{BKY_MATH_PRIME}",A.PRIME],["%{BKY_MATH_WHOLE}",A.WHOLE],["%{BKY_MATH_POSITIVE}",A.POSITIVE],["%{BKY_MATH_NEGATIVE}",A.NEGATIVE]]}],inputsInline:!0,output:"Boolean",colour:"%{BKY_MATH_HUE}"}),e.insertBlockProfile("logic_operation",{type:"logic_operation",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"field_coco_dropdown",custom:!0,name:"OP",options:[["%{BKY_LOGIC_OPERATION_AND}",O.AND],["%{BKY_LOGIC_OPERATION_OR}",O.OR]]},{type:"input_value",name:"B",check:"Boolean"}],inputsInline:!0,output:"Boolean",colour:"%{BKY_LOGIC_HUE}"}),e.insertBlockProfile("math_complex_operation",{type:"math_complex_operation",message0:"%1 %2",args0:[{type:"field_coco_dropdown",custom:!0,name:"OP",options:[["%{BKY_MATH_SINGLE_OP_ROOT}",T.ROOT],["%{BKY_MATH_SINGLE_OP_ABSOLUTE}",T.ABS],["-",T.NEG],["ln",T.LN],["log10",T.LOG10],["e^",T.EXP],["10^",T.POW10]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",colour:"%{BKY_MATH_HUE}"}),e.insertBlockProfile("math_round",{type:"math_round",message0:"%1 %2",args0:[{type:"field_coco_dropdown",custom:!0,name:"OP",options:[["%{BKY_MATH_ROUND_OPERATOR_ROUND}",p.ROUND],["%{BKY_MATH_ROUND_OPERATOR_CEIL}",p.CEIL],["%{BKY_MATH_ROUND_OPERATOR_FLOOR}",p.FLOOR]]},{type:"input_shadow",name:"NUM",field_type:"math",default_text:"0"}],output:"Number",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_ROUND_TOOLTIP}"}),e.insertBlockProfile("logic_boolean",{type:"logic_boolean",message0:"%1",args0:[{type:"field_coco_dropdown",custom:!0,name:"BOOL",options:[["%{BKY_LOGIC_BOOLEAN_TRUE}","TRUE"],["%{BKY_LOGIC_BOOLEAN_FALSE}","FALSE"]]}],output:"Boolean",colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_LOGIC_BOOLEAN_TOOLTIP}"}),e.insertBlockProfile("math_check_divisible",{type:"math_check_divisible",message0:"%{BKY_DIVISIBLE_BY}",args0:[{type:"input_value",name:"NUMBER_TO_CHECK",check:"Number"},{type:"input_value",name:"DIVISOR",check:"Number"}],output:"Boolean",colour:"%{BKY_LOGIC_HUE}",inputsInline:!0}),e.insertBlockProfile("math_calculate_expression",{type:"math_calculate_expression",message0:"%{BKY_CALCULATE}",args0:[{type:"input_value",name:"INPUT",check:["String","Number","Boolean"]}],output:"Number",colour:"%{BKY_LOGIC_HUE}",inputsInline:!0}),e.insertBlockProfile("text_convert_type",{type:"text_convert_type",message0:"%{BKY_CONVERT_TYPE}",args0:[{type:"input_value",name:"ORIGINAL_VALUE",check:["String","Number","Array","Boolean","Object"],align:"CENTRE"},{type:"field_coco_dropdown",name:"TYPE",custom:!0,options:[["%{BKY_NUMBER_TYPE}","number"],["%{BKY_STRING_TYPE}","string"],["%{BKY_BOOLEAN_TYPE}","boolean"]]}],output:["String","Number","Boolean"],colour:"%{BKY_LOGIC_HUE}",inputsInline:!0}),e.insertBlockProfile("text_get_length",{type:"text_get_length",message0:"%{BKY_TEXT_LENGTH}",args0:[{type:"input_value",name:"VALUE",check:["String","Number","Boolean"]}],output:"Number",colour:"%{BKY_LOGIC_HUE}",inputsInline:!0}),e.insertBlockProfile("text_slice",{type:"text_slice",message0:"%{BKY_TEXT_SLICE}",args0:[{type:"input_value",name:"STRING",check:["String","Boolean","Number"]},{type:"input_value",name:"NUM0",check:["Number"]}],output:"String",inputsInline:!0,colour:"%{BKY_LOGIC_HUE}",mutator:"TEXT_SLICE_MUTATOR"}),e.insertBlockProfile("text_check_contain",{type:"text_check_contain",message0:"%{BKY_TEXT_CONTAIN}",args0:[{type:"input_value",name:"TEXT1",check:["String","Number","Boolean"]},{type:"input_value",name:"TEXT2",check:["String","Number","Boolean"]}],output:"Boolean",colour:"%{BKY_LOGIC_HUE}",inputsInline:!0}),e.insertBlockProfile("text_split_text",{type:"text_split_text",message0:"%{BKY_TEXT_SPLIT}",args0:[{type:"input_value",name:"STR_TO_SPLIT",check:["String","Number","Boolean"]},{type:"input_value",name:"SPLIT_STR",check:["String","Number","Boolean"]}],output:"Array",colour:"%{BKY_LOGIC_HUE}",inputsInline:!0}),e.insertBlockProfile("text_shadow",{type:"text_shadow",message0:"%1",args0:[{type:"input_value",name:"VALUE",check:["String"]}],output:"String",colour:"%{BKY_LOGIC_HUE}",inputsInline:!0}),e.insertBlockProfile("text_rich_text",{type:"text_rich_text",message0:"%1",args0:[{type:"field_input",name:"TEXT",text:""}],output:"String",colour:"%{BKY_LOGIC_HUE}",inputsInline:!0,extensions:["text_quotes","parent_tooltip_when_inline"]}),e.insertBlockProfile("math_shadow_number",{type:"math_shadow_number",message0:"%1",args0:[{type:"input_value",name:"VALUE",check:["Number"]}],output:"Number",colour:"%{BKY_LOGIC_HUE}",inputsInline:!0}),e.insertBlockProfile("text_multiline",{type:"text_multiline",message0:"%1",args0:[{type:"field_multiline_input",name:"TEXT",text:"",max_width:310}],output:"String",colour:"%{BKY_TEXT_HUE}",extensions:["text_quotes","parent_tooltip_when_inline"]})}function j(e){e.insertBlockXML("math_shadow_number",'\n  <value name="VALUE">\n    <shadow type="math_number">\n      <field name="NUM">0</field>\n    </shadow>\n  </value>\n'),e.insertBlockXML("math_calculate_expression",'\n  <value name="INPUT">\n    <shadow type="text">\n      <field name="TEXT">1+2</field>\n    </shadow>\n  </value>\n  '),e.insertBlockXML("math_operation",'\n  <value name="A">\n    <shadow type="math_number">\n      <field name="NUM">0</field>\n    </shadow>\n  </value>\n  <value name="B">\n    <shadow type="math_number">\n      <field name="NUM">0</field>\n    </shadow>\n  </value>\n'),e.insertBlockXML("math_random_integer",'\n  <value name="INPUT_A">\n    <shadow type="math_number">\n      <field name="NUM">0</field>\n    </shadow>\n  </value>\n  <value name="INPUT_B">\n    <shadow type="math_number">\n      <field name="NUM">5</field>\n    </shadow>\n  </value>\n  '),e.insertBlockXML("math_number_property",'\n  <mutation divisor_input="false"></mutation>\n  <field name="PROPERTY">EVEN</field>\n  <value name="NUMBER_TO_CHECK">\n    <shadow type="math_number">\n      <field name="NUM">0</field>\n    </shadow>\n  </value>\n'),e.insertBlockXML("math_check_divisible",'\n  <value name="NUMBER_TO_CHECK">\n    <shadow type="math_number">\n      <field name="NUM">9</field>\n    </shadow>\n  </value>\n  <value name="DIVISOR">\n    <shadow type="math_number">\n      <field name="NUM">3</field>\n    </shadow>\n  </value>\n'),e.insertBlockXML("logic_operation",'\n  <value name="A">\n    <empty type="logic_empty">\n      <field name="BOOL"></field>\n    </empty>\n  </value>\n  <value name="B">\n    <empty type="logic_empty">\n      <field name="BOOL"></field>\n    </empty>\n  </value>\n  '),e.insertBlockXML("math_complex_operation",'\n  <value name="NUM">\n    <shadow type="math_number">\n      <field name="NUM">0</field>\n    </shadow>\n  </value>\n'),e.insertBlockXML("math_modulo",'\n  <value name="DIVIDEND">\n    <shadow type="math_number">\n      <field name="NUM">64</field>\n    </shadow>\n  </value>\n  <value name="DIVISOR">\n    <shadow type="math_number">\n      <field name="NUM">10</field>\n    </shadow>\n  </value>\n'),e.insertBlockXML("math_trig",'\n  <field name="OP">SIN</field>\n  <value name="NUM">\n    <shadow type="math_number">\n      <field name="NUM">45</field>\n    </shadow>\n  </value>\n'),e.insertBlockXML("math_round",'\n  <field name="OP">ROUND</field>\n  <value name="NUM">\n    <shadow type="math_number">\n      <field name="NUM">3.1</field>\n    </shadow>\n  </value>\n  '),e.insertBlockXML("math_compare",'\n  <value name="A">\n    <shadow type="math_number">\n      <field name="NUM">0</field>\n    </shadow>\n  </value>\n  <value name="B">\n    <shadow type="math_number">\n      <field name="NUM">0</field>\n    </shadow>\n  </value>\n'),e.insertBlockXML("logic_boolean"),e.insertBlockXML("logic_negate",'\n  <value name="BOOL">\n    <empty type="logic_empty">\n      <field name="BOOL"></field>\n    </empty>\n  </value>\n'),e.insertBlockXML("text_shadow",'\n  <value name="VALUE">\n    <shadow type="text">\n      <field name="TEXT">Hello</field>\n    </shadow>\n  </value>\n'),e.insertBlockXML("text_convert_type",'\n  <value name="ORIGINAL_VALUE">\n    <shadow type="text">\n      <field name="TEXT">123</field>\n    </shadow>\n  </value>\n'),e.insertBlockXML("text_join",'\n  <mutation items="2"></mutation>\n  <value name="ADD0">\n    <shadow type="text">\n      <field name="TEXT">ab</field>\n    </shadow>\n  </value>\n  <value name="ADD1">\n    <shadow type="text">\n      <field name="TEXT">c</field>\n    </shadow>\n  </value>\n'),e.insertBlockXML("text_get_length",'\n  <value name="VALUE">\n    <shadow type="text">\n      <field name="TEXT">abc</field>\n    </shadow>\n  </value>\n'),e.insertBlockXML("text_slice",'\n      <mutation items="1"></mutation>\n      <value name="STRING">\n        <shadow type="text">\n          <field name="TEXT">abc</field>\n        </shadow>\n      </value>\n      <value name="NUM0">\n        <shadow type="math_number">\n          <field name="NUM" constraints="1,,1">1</field>\n        </shadow>\n      </value>\n    '),e.insertBlockXML("text_check_contain",'\n  <value name="TEXT1">\n    <shadow type="text">\n      <field name="TEXT">abc</field>\n    </shadow>\n  </value>\n  <value name="TEXT2">\n    <shadow type="text">\n      <field name="TEXT">abc</field>\n    </shadow>\n  </value>\n'),e.insertBlockXML("text_split_text",'\n  <value name="STR_TO_SPLIT">\n    <shadow type="text">\n      <field name="TEXT">1,2,3,4</field>\n    </shadow>\n  </value>\n  <value name="SPLIT_STR">\n    <shadow type="text">\n      <field name="TEXT">,</field>\n    </shadow>\n  </value>\n')}function F(e,t){e.Blocks.math_trig={shadow:'<shadow type="math_number"><field name="NUM">45</field></shadow>',init:function(){this.set_colour(e.theme.block_color.MATH_HUE.fill);var n=new t({type:"field_coco_dropdown",name:"OP",custom:!0,options:[[e.Msg.MATH_TRIG_SIN,d.SIN],[e.Msg.MATH_TRIG_COS,d.COS],[e.Msg.MATH_TRIG_TAN,d.TAN],[e.Msg.MATH_TRIG_ASIN,d.ASIN],[e.Msg.MATH_TRIG_ACOS,d.ACOS],[e.Msg.MATH_TRIG_ATAN,d.ATAN]],optOnchange:function(e){var t;(null==(t=this.source_block)?void 0:t.updateShape_)&&this.source_block.updateShape_("SIN"===e||"COS"===e||"TAN"===e)}});this.append_dummy_input().append_field(n,"OP"),this.append_shadow_input("NUM",e.Blocks.math_trig.shadow).set_check("Number"),this.append_dummy_input("DEGREES").append_field(e.Msg.MATH_DEGREES),this.set_inputs_inline(!0),this.set_output(!0)},updateShape_:function(t){var n=this.get_input("DEGREES");t?n||this.append_dummy_input("DEGREES").append_field(e.Msg.MATH_DEGREES):n&&this.remove_input("DEGREES")}};var n='<shadow type="math_number"><field name="NUM" constraints="1,,1">2</field></shadow>';e.extensions.register_mutator("TEXT_SLICE_MUTATOR",{updateShape_:function(){e.events.disable(),1===this.itemCount_?(this.append_dummy_input("TITLE_TAIL").append_field(e.Msg.OPERATORS_TEXT_SELECT_CHANGEABLE_END),this.append_dummy_input("MUTATE_BUTTON").append_field(y.p(),"MUTATE_BUTTON")):(this.append_dummy_input("CONTENT_TO").append_field(e.Msg.OPERATORS_TEXT_SELECT_CHANGEABLE_TO),this.append_shadow_input("NUM".concat(this.itemCount_-1),n),this.append_dummy_input("TITLE_TAIL").append_field(e.Msg.OPERATORS_TEXT_SELECT_CHANGEABLE_END),this.append_dummy_input("MUTATE_BUTTON").append_field(y.q(void 0),"MUTATE_BUTTON")),e.events.enable()},addMutation:function(t){var r=this,a="NUM".concat(this.itemCount_);y.b.call(this,a,function(){r.append_dummy_input("CONTENT_TO","TITLE_TAIL").append_field(e.Msg.OPERATORS_TEXT_SELECT_CHANGEABLE_TO);var t=r.append_value_input(a,"TITLE_TAIL");return r.itemCount_++,r.get_input("MUTATE_BUTTON")&&r.remove_input("MUTATE_BUTTON"),r.append_dummy_input("MUTATE_BUTTON").append_field(y.q(void 0),"MUTATE_BUTTON"),t},n,t)},removeMutation:function(){var e=this,t="NUM".concat(this.itemCount_-1);y.t.call(this,t,"NUM",function(){e.remove_input("CONTENT_TO"),e.remove_input(t),e.itemCount_--,e.get_input("MUTATE_BUTTON")&&e.remove_input("MUTATE_BUTTON"),e.append_dummy_input("MUTATE_BUTTON").append_field(y.p(),"MUTATE_BUTTON")})},mutationToDom:function(){var e=document.createElement("mutation");return e.setAttribute("items",String(this.itemCount_)),e},domToMutation:function(e){this.itemCount_=parseInt(e.getAttribute("items"),10),this.cacheId={},this.updateShape_()}})}function X(e){e.insertBlockSnippetGenerator("math_shadow_number",function(t,n){return e.valueToCode(t,n,"VALUE",e.ORDER_NONE)}),e.insertBlockSnippetGenerator("math_operation",function(t,n){var r={ADD:e.ORDER_ADDITION,MINUS:e.ORDER_SUBTRACTION,MULTIPLY:e.ORDER_MULTIPLICATION,DIVIDE:e.ORDER_DIVISION,POWER:e.ORDER_COMMA},a=t.blocks[n],i=e.getFieldValue(a,"OP")||"",o=r[i],_=e.valueToCode(t,n,"A",o),s=e.valueToCode(t,n,"B",o);return y.s("mathOperation",[y.o(i),_,s])}),e.insertBlockSnippetGenerator("math_random_integer",function(t,n){var r=e.valueToCode(t,n,"INPUT_A",e.ORDER_COMMA),a=e.valueToCode(t,n,"INPUT_B",e.ORDER_COMMA);return y.s("getRandomInteger",[r,a])}),e.insertBlockSnippetGenerator("math_number_property",function(t,n){var r=t.blocks[n],a=e.valueToCode(t,n,"NUMBER_TO_CHECK",e.ORDER_MODULUS),i=e.getFieldValue(r,"PROPERTY")||"";return y.s("determineNumberType",[y.o(i),a])}),e.insertBlockSnippetGenerator("math_check_divisible",function(t,n){var r=e.valueToCode(t,n,"NUMBER_TO_CHECK",e.ORDER_MODULUS),a=e.valueToCode(t,n,"DIVISOR",e.ORDER_MODULUS);return y.s("checkDivisibility",[r,a])}),e.insertBlockSnippetGenerator("logic_operation",function(t,n){var r=t.blocks[n],a=e.getFieldValue(r,"OP")||"",i="AND"===a?e.ORDER_LOGICAL_AND:e.ORDER_LOGICAL_OR,o=e.valueToCode(t,n,"A",i)||"false",_=e.valueToCode(t,n,"B",i)||"false";return y.s("logicOperation",[y.o(a),o,_])}),e.insertBlockSnippetGenerator("math_calculate_expression",function(t,n){var r=e.valueToCode(t,n,"INPUT",e.ORDER_MEMBER);return y.s("calculateMathExpression",[r])}),e.insertBlockSnippetGenerator("math_complex_operation",function(t,n){var r=t.blocks[n],a=e.getFieldValue(r,"OP")||"",i=e.valueToCode(t,n,"NUM",e.ORDER_FUNCTION_CALL);return y.s("complexMathOperation",[y.o(a),i])}),e.insertBlockSnippetGenerator("math_modulo",function(t,n){var r=e.valueToCode(t,n,"DIVIDEND",e.ORDER_MODULUS),a=e.valueToCode(t,n,"DIVISOR",e.ORDER_MODULUS);return y.s("remainderOperation",[r,a])}),e.insertBlockSnippetGenerator("math_trig",function(t,n){var r=t.blocks[n],a=e.getFieldValue(r,"OP")||"",i=e.valueToCode(t,n,"NUM",e.ORDER_FUNCTION_CALL);return y.s("mathTrig",[y.o(a),i])}),e.insertBlockSnippetGenerator("math_round",function(t,n){var r=t.blocks[n],a=e.getFieldValue(r,"OP")||"",i=e.valueToCode(t,n,"NUM",e.ORDER_FUNCTION_CALL);return y.s("mathRound",[y.o(a),i])}),e.insertBlockSnippetGenerator("math_compare",function(t,n){var r=t.blocks[n],a=e.getFieldValue(r,"OP")||"",i="EQ"===a||"NEQ"===a?e.ORDER_EQUALITY:e.ORDER_RELATIONAL,o=e.valueToCode(t,n,"A",i),_=e.valueToCode(t,n,"B",i);return y.s("compareNumbers",[y.o(a),o,_])}),e.insertBlockSnippetGenerator("text_convert_type",function(t,n){var r=t.blocks[n],a=e.getFieldValue(r,"TYPE")||"",i=e.valueToCode(t,n,"ORIGINAL_VALUE",e.ORDER_FUNCTION_CALL);return i?y.s("convertValueType",[i,y.o(a)]):""}),e.insertBlockSnippetGenerator("text_slice",function(t,n){var r=e.valueToCode(t,n,"STRING",e.ORDER_MEMBER),a=e.valueToCode(t,n,"NUM0",e.ORDER_COMMA),i=e.valueToCode(t,n,"NUM1",e.ORDER_COMMA);return i?y.s("extractString",[r,a,i]):y.s("extractString",[r,a])}),e.insertBlockSnippetGenerator("text_join",function(t,n){for(var r=Object.keys(t.connections[n]).length,a=Array(r),i=0;i<r;i++)a[i]=e.valueToCode(t,n,"ADD".concat(i),e.ORDER_COMMA)||"''";return y.s("concatStrings",a)}),e.insertBlockSnippetGenerator("text_shadow",function(t,n){return e.valueToCode(t,n,"VALUE",e.ORDER_NONE)}),e.insertBlockSnippetGenerator("text_get_length",function(t,n){var r=e.valueToCode(t,n,"VALUE",e.ORDER_FUNCTION_CALL);return y.s("getStringLength",[r])}),e.insertBlockSnippetGenerator("text_check_contain",function(t,n){var r=e.valueToCode(t,n,"TEXT1",e.ORDER_FUNCTION_CALL),a=e.valueToCode(t,n,"TEXT2",e.ORDER_COMMA);return y.s("checkStringContain",[r,a])}),e.insertBlockSnippetGenerator("text_split_text",function(t,n){var r=e.valueToCode(t,n,"STR_TO_SPLIT",e.ORDER_FUNCTION_CALL)||"''",a=e.valueToCode(t,n,"SPLIT_STR",e.ORDER_COMMA);return y.s("splitString",[r,a])}),e.insertBlockSnippetGenerator("text_multiline",function(t,n){var r=t.blocks[n];return[JSON.stringify(e.getFieldValue(r,"TEXT")||""),e.ORDER_ATOMIC]}),e.insertBlockSnippetGenerator("text_rich_text",function(t,n){var r=t.blocks[n];return[JSON.stringify(e.getFieldValue(r,"TEXT")||""),e.ORDER_ATOMIC]})}(a=A||(A={})).EVEN="EVEN",a.ODD="ODD",a.PRIME="PRIME",a.WHOLE="WHOLE",a.POSITIVE="POSITIVE",a.NEGATIVE="NEGATIVE",(i=f||(f={})).ADD="ADD",i.MINUS="MINUS",i.MULTIPLY="MULTIPLY",i.DIVIDE="DIVIDE",i.POWER="POWER",(o=O||(O={})).AND="AND",o.OR="OR",(_=T||(T={})).ROOT="ROOT",_.ABS="ABS",_.NEG="NEG",_.LN="LN",_.LOG10="LOG10",_.EXP="EXP",_.POW10="POW10",(s=d||(d={})).SIN="SIN",s.COS="COS",s.TAN="TAN",s.ASIN="ASIN",s.ACOS="ACOS",s.ATAN="ATAN",(u=p||(p={})).ROUND="ROUND",u.CEIL="CEIL",u.FLOOR="FLOOR",(c=E||(E={})).EQUAL="EQ",c.UNEQUAL="NEQ",c.LESS_THAN="LT",c.LESS_THAN_OR_EQUAL="LTE",c.GREATER_THAN="GT",c.GREATER_THAN_OR_EQUAL="GTE";var J=n(89404);function z(e){e.insertBlockProfile("procedures_2_param_block",{type:"procedures_2_param_block",message0:"%1",args0:[{type:"field_label_serializable",name:"param",text:"x"}],output:!0,colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]})}function q(e){e.insertBlockXML(J.PROCEDURE_BLOCK_TYPES.DEF,"",!0),e.insertBlockXML(J.PROCEDURE_BLOCK_TYPES.CALL_RETURN,"",!0),e.insertBlockXML(J.PROCEDURE_BLOCK_TYPES.CALL_NORETURN,"",!0)}function Q(e){function t(t,n,r){var a=n.blocks[r],i=e.getDynamicValue("__CURRENT_SCREEN_ID__"),o=e.getFieldValue(a,"NAME")||"",_=y.f(o,i),s=Object.keys(a.shadows).filter(function(e){return e.startsWith("ARG")}).map(function(t){return e.valueToCode(n,r,t,e.ORDER_ATOMIC)});return y.l("(await Coco.tryExecute(".concat(["".concat(_),JSON.stringify({functionName:_,screenId:i})].concat(C.a(s)).join(", "),"))"),a,e,!0,!0)}e.insertBlockSnippetGenerator("procedures_2_param_block",function(t,n){var r=t.blocks[n];return e.getFieldValue(r,"param")||""}),e.insertBlockSnippetGenerator(J.PROCEDURE_BLOCK_TYPES.DEF,function(t,n){var r=t.blocks[n],a=e.getDynamicValue("__CURRENT_SCREEN_ID__"),i=e.getFieldValue(r,"NAME")||"",o=Object.keys(r.shadows).filter(function(e){return e.startsWith("PARAMS")}).map(function(r){return e.valueToCode(t,n,r,e.ORDER_ATOMIC)});e.setDynamicValue("__DEFINING_PROCEDURE__","true");var _=e.statementToCode(t,n,"STACK");return e.deleteDynamicValue("__DEFINING_PROCEDURE__"),"async function ".concat(y.f(i,a),"(").concat(o.join(", "),") {\n").concat(_,"}\n")}),e.insertBlockSnippetGenerator(J.PROCEDURE_BLOCK_TYPES.RETURN,function(t,n){var r=t.blocks[n];return"return /* blockId=".concat(n,";blockType=").concat(J.PROCEDURE_BLOCK_TYPES.RETURN," */ ").concat(Object.keys(r.shadows).length+Object.keys(r.fields).length>2?e.valueToCode(t,n,"VALUE",e.ORDER_NONE):"",";\n")}),e.insertBlockSnippetGenerator(J.PROCEDURE_BLOCK_TYPES.CALL_NORETURN,function(e,n){return t(J.PROCEDURE_BLOCK_TYPES.CALL_NORETURN,e,n)+";\n"}),e.insertBlockSnippetGenerator(J.PROCEDURE_BLOCK_TYPES.CALL_RETURN,function(n,r){return[t(J.PROCEDURE_BLOCK_TYPES.CALL_RETURN,n,r),e.ORDER_FUNCTION_CALL]}),e.insertBlockSnippetGenerator(J.PROCEDURE_BLOCK_TYPES.PARAM,function(t,n){var r=t.blocks[n],a=e.getFieldValue(r,"param_name");return[a?"".concat(a," /* blockId=").concat(n,";blockType=").concat(J.PROCEDURE_BLOCK_TYPES.PARAM," */"):"",e.ORDER_ATOMIC]}),e.insertBlockSnippetGenerator(J.PROCEDURE_BLOCK_TYPES.PARAM_ON_BLOCK,function(t,n){var r=t.blocks[n];return[e.getFieldValue(r,"param_name")||"",e.ORDER_ATOMIC]})}function Z(e,t){e.insertBlockProfile("date_get_current_date",{type:"date_get_current_date",message0:"%{BKY_DATE_GET_CURRENT_DATE}",args0:[{type:"field_coco_dropdown",name:"DATE_TYPE",custom:!0,options:function(){return[[t.Msg.DATE_CURRENT_TIME,"time"],[t.Msg.DATE_CURRENT_YEAR,"year"],[t.Msg.DATE_CURRENT_MONTH,"month"],[t.Msg.DATE_CURRENT_DATE,"date"],[t.Msg.DATE_CURRENT_DAY_NAME,"dayName"],[t.Msg.DATE_CURRENT_DAY_NUM,"day"],[t.Msg.DATE_CURRENT_HOUR,"hour"],[t.Msg.DATE_CURRENT_MINUTE,"minute"],[t.Msg.DATE_CURRENT_SECOND,"second"]]}}],output:["Number","String"],colour:"%{BKY_BLUE_6}",inputsInline:!0,tooltip:"%{BKY_DATE_GET_CURRENT_DATE_TOOLTIP}"}),e.insertBlockProfile("date_check_date_is_equal",{type:"date_check_date_is_equal",message0:"%{BKY_DATE_CHECK_DATE_IS_EQUAL}",args0:[{type:"input_value",name:"DATE_A",check:"String"},{type:"input_value",name:"DATE_B",check:"String"}],output:"Boolean",colour:"%{BKY_BLUE_6}",inputsInline:!0}),e.insertBlockProfile("date_get_date_minus_operation",{type:"date_get_date_minus_operation",message0:"%{BKY_DATE_GET_DATE_MINUS_OPERATION}",args0:[{type:"input_value",name:"DATE_A",check:"String"},{type:"input_value",name:"DATE_B",check:"String"},{type:"field_coco_dropdown",name:"OPERATION_TYPE",custom:!0,options:[["%{BKY_DAYS}","days"],["%{BKY_YEAR}","year"],["%{BKY_MONTH}","month"],["%{BKY_HOUR}","hour"],["%{BKY_MINUTE}","minute"],["%{BKY_SECOND}","second"]]}],output:"Number",colour:"%{BKY_BLUE_6}",inputsInline:!0})}function $(e){e.insertBlockSnippetGenerator("date_get_current_date",function(t,n){var r=t.blocks[n];switch(e.getFieldValue(r,"DATE_TYPE")){case"time":return y.s("getCurrentFormatDateTime");case"year":return y.s("getCurrentYear");case"month":return y.s("getCurrentMonth");case"date":return y.s("getCurrentDate");case"dayName":return y.s("getCurrentDayName");case"day":return y.s("getCurrentDay");case"hour":return y.s("getCurrentHour");case"minute":return y.s("getCurrentMinute");case"second":return y.s("getCurrentSecond");default:return""}}),e.insertBlockSnippetGenerator("date_check_date_is_equal",function(t,n){var r=e.valueToCode(t,n,"DATE_A",e.ORDER_FUNCTION_CALL),a=e.valueToCode(t,n,"DATE_B",e.ORDER_FUNCTION_CALL);return r&&a?y.s("checkDateIsEqual",[r,a]):""}),e.insertBlockSnippetGenerator("date_get_date_minus_operation",function(t,n){var r=e.valueToCode(t,n,"DATE_A",e.ORDER_FUNCTION_CALL),a=e.valueToCode(t,n,"DATE_B",e.ORDER_FUNCTION_CALL),i=t.blocks[n],o=e.getFieldValue(i,"OPERATION_TYPE");return o&&r&&a?y.s("getDateOperation",[r,a,y.o(o)]):""})}var ee=n(51411),et='<shadow type="math_number"><field name="NUM" constraints="1,,1">1</field></shadow>';function en(e,t){function n(e){if(!t.events.is_undoing()){var n,r,a=this.source_block;a&&("nth"===e?null!=(n=a.addMutation)&&n.call(a):null!=(r=a.removeMutation)&&r.call(a))}}e.insertBlockProfile("array_get",{type:"array_get",message0:"%1",args0:[{type:"field_coco_dropdown",name:"ARRAY",custom:!0,advancedOptions:function(){return b.c().getArrayVariableList(this)}}],output:"Array",colour:"%{BKY_LISTS_HUE}",inputsInline:!0}),e.insertBlockProfile("array_create",{type:"array_create",message0:"",colour:"%{BKY_LISTS_HUE}",inputsInline:!0,output:"Array",mutator:"ARRAY_CREATE_MUTATOR"}),e.insertBlockProfile("lists_append",{type:"lists_append",message0:"%{BKY_LISTS_APPEND}",args0:[{type:"input_value",name:"VALUE"},{type:"input_value",name:"ARRAY",check:["Array"]}],colour:"%{BKY_LISTS_HUE}",inputsInline:!0,previousStatement:!0,nextStatement:!0}),e.insertBlockProfile("lists_insert_value",{type:"lists_insert_value",message0:"%{BKY_INSERT_LISTS_ITEM_BY_INDEX}",args0:[{type:"input_value",name:"ARRAY",check:["Array"]},{type:"input_value",check:"Number",name:"INDEX",align:"CENTRE"},{type:"input_value",name:"VALUE",align:"CENTRE"}],colour:"%{BKY_LISTS_HUE}",inputsInline:!0,previousStatement:!0,nextStatement:!0}),e.insertBlockProfile("array_copy",{type:"array_copy",message0:"%{BKY_COPY_ARRAY}",args0:[{type:"input_value",name:"FROM",check:["Array"]},{type:"input_value",name:"TO",check:["Array"]}],colour:"%{BKY_LISTS_HUE}",inputsInline:!0,previousStatement:!0,nextStatement:!0}),e.insertBlockProfile("array_get_length",{type:"array_get_length",message0:"%{BKY_GET_ARRAY_LENGTH}",args0:[{type:"input_value",name:"ARRAY",check:["Array"]}],output:"Number",colour:"%{BKY_LISTS_HUE}",inputsInline:!0}),e.insertBlockProfile("lists_index_of",{type:"lists_index_of",message0:"%{BKY_GET_ARRAY_ITEM_INDEX}",args0:[{type:"input_value",name:"VALUE",align:"CENTRE"},{type:"input_value",name:"ARRAY",check:["Array"]}],colour:"%{BKY_LISTS_HUE}",output:"Number",inputsInline:!0}),e.insertBlockProfile("lists_is_exist",{type:"lists_is_exist",message0:"%{BKY_CHECK_ITEM_IN_ARRAY}",args0:[{type:"input_value",name:"ARRAY",check:["Array"]},{type:"input_value",name:"VALUE",align:"CENTRE"}],colour:"%{BKY_LISTS_HUE}",output:"Boolean",inputsInline:!0}),e.insertBlockProfile("array_remove_item",{type:"array_remove_item",message0:"%{BKY_REMOVE_ARRAY_ITEM}",args0:[{type:"input_value",name:"ARRAY",check:["Array"]},{type:"field_coco_dropdown",name:"ITEM_POS",custom:!0,optOnchange:n,options:function(){return[[t.Msg.NTH,"nth"],[t.Msg.LAST_ITEM,"lastItem"],[t.Msg.ALL_ITEM,"allItem"]]}}],message1:"%1",args1:[{type:"input_value",name:"INDEX",check:["Number"]}],message2:"%{BKY_ARRAY_ITEM} %1",args2:[{type:"input_dummy",name:"ITEM"}],colour:"%{BKY_LISTS_HUE}",inputsInline:!0,previousStatement:!0,nextStatement:!0,mutator:"ARRAY_ITEM_MUTATOR"}),e.insertBlockProfile("lists_replace",{type:"lists_replace",message0:"%{BKY_LISTS_REPLACE}",args0:[{type:"input_value",name:"ARRAY",check:["Array"]},{type:"field_coco_dropdown",name:"ITEM_POS",custom:!0,optOnchange:n,options:function(){return[[t.Msg.NTH,"nth"],[t.Msg.LAST_ITEM,"lastItem"]]}}],message1:"%1",args1:[{type:"input_value",name:"INDEX",check:["Number"]}],message2:"%{BKY_ARRAY_ITEM} %1",args2:[{type:"input_dummy",name:"ITEM"}],message3:"%{BKY_IS} %1",args3:[{type:"input_value",name:"VALUE"}],colour:"%{BKY_LISTS_HUE}",inputsInline:!0,previousStatement:!0,nextStatement:!0,mutator:"ARRAY_ITEM_MUTATOR"}),e.insertBlockProfile("array_get_item",{type:"array_get_item",message0:"%1 %2",args0:[{type:"input_value",name:"ARRAY",check:["Array"]},{type:"field_coco_dropdown",name:"ITEM_POS",custom:!0,optOnchange:n,options:function(){return[[t.Msg.NTH,"nth"],[t.Msg.LAST_ITEM,"lastItem"]]}}],message1:"%1",args1:[{type:"input_value",name:"INDEX",check:["Number"]}],message2:"%{BKY_ARRAY_ITEM} %1",args2:[{type:"input_dummy",name:"ITEM"}],colour:"%{BKY_LISTS_HUE}",output:!0,inputsInline:!0,mutator:"ARRAY_ITEM_MUTATOR"}),e.insertBlockProfile("array_current_item",{type:"array_current_item",message0:"%{BKY_ARRAY_CURRENT_ITEM}",output:["String","Number","Array","Boolean"],required_context:"array_foreach_DO",colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("array_foreach",{type:"array_foreach",message0:"%{BKY_ARRAY_FOREACH}",args0:[{type:"input_value",name:"ARRAY",check:["Array"]},{type:"input_value",name:"ARRAY_CURRENT_ITEM",default_shadow:'<shadow type="array_current_item" />'},{type:"input_dummy",align:"CENTRE"},{type:"input_statement",name:"DO",provided_context:"array_foreach_DO"}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_LISTS_HUE}",inputsInline:!0})}function er(e){e.insertBlockXML("array_create",'<mutation items="1"></mutation>',!0),e.insertBlockXML("lists_replace",'\n    <mutation pos=\'nth\'></mutation>\n    <value name="ARRAY">\n      <shadow type="array_get"></shadow>\n    </value>\n    <value name="INDEX">\n      <shadow type="math_number">\n        <field name="NUM" constraints="1,,1">1</field>\n      </shadow>\n    </value>\n    <value name="VALUE">\n      <shadow type="math_number">\n        <field name="NUM">0</field>\n      </shadow>\n    </value>\n    ',!0),e.insertBlockXML("array_remove_item",'\n    <mutation pos=\'nth\'></mutation>\n    <value name="ARRAY">\n      <shadow type="array_get"></shadow>\n    </value>\n    <value name="INDEX">\n      <shadow type="math_number">\n        <field name="NUM" constraints=\'1,,1\'>1</field>\n      </shadow>\n    </value>\n  ',!0),e.insertBlockXML("array_get",void 0,!0),e.insertBlockXML("lists_append",'\n    <value name="ARRAY">\n      <shadow type="array_get"></shadow>\n    </value>\n    <value name="VALUE">\n      <shadow type="math_number">\n        <field name="NUM">0</field>\n      </shadow>\n    </value>\n  ',!0),e.insertBlockXML("lists_insert_value",'\n    <value name="ARRAY">\n      <shadow type="array_get"></shadow>\n    </value>\n    <value name="INDEX">\n      <shadow type="math_number">\n        <field name="NUM" constraints=\'1,,1\'>1</field>\n      </shadow>\n    </value>\n    <value name="VALUE">\n      <shadow type="math_number">\n        <field name="NUM">0</field>\n      </shadow>\n    </value>\n  ',!0),e.insertBlockXML("array_copy",'\n    <value name="FROM">\n      <shadow type="array_get"></shadow>\n    </value>\n    <value name="TO">\n      <shadow type="array_get"></shadow>\n    </value>\n    ',!0),e.insertBlockXML("array_get_item",'\n    <mutation pos=\'nth\'></mutation>\n    <value name="ARRAY">\n      <shadow type="array_get"></shadow>\n    </value>\n    <value name="INDEX">\n      <shadow type="math_number">\n        <field name="NUM" constraints=\'1,,1\'>1</field>\n      </shadow>\n    </value>\n  ',!0),e.insertBlockXML("array_get_length",'\n    <value name="ARRAY">\n      <shadow type="array_get"></shadow>\n    </value>\n    ',!0),e.insertBlockXML("lists_index_of",'\n    <value name="ARRAY">\n      <shadow type="array_get"></shadow>\n    </value>\n    <value name="VALUE">\n      <shadow type="math_number">\n        <field name="NUM">0</field>\n      </shadow>\n    </value>\n  ',!0),e.insertBlockXML("lists_is_exist",'\n    <value name="ARRAY">\n      <shadow type="array_get"></shadow>\n    </value>\n    <value name="VALUE">\n      <shadow type="math_number">\n        <field name="NUM">0</field>\n      </shadow>\n    </value>\n  ',!0),e.insertBlockXML("array_foreach",'<value name="ARRAY">\n      <shadow type="array_get"></shadow>\n    </value>',!0)}function ea(e){e.insertBlockSnippetGenerator("array_get",function(t,n){var r=t.blocks[n],a=e.getFieldValue(r,"ARRAY")||"";return y.s("getVariableValue",[y.o(a)])}),e.insertBlockSnippetGenerator("array_create",function(t,n){for(var r=0,a="[";;){var i=e.valueToCode(t,n,"ITEM".concat(r),e.ORDER_FUNCTION_CALL);if(!i)break;a+=`${i},`,r++}a+="]";var o=t.blocks[n];return y.l(a,o,e,!1,!0)});var t=function(t,n){var r=P.a(n),a=r.blockId&&t.blocks[r.blockId];return a&&e.getFieldValue(a,"ARRAY")||""};e.insertBlockSnippetGenerator("lists_append",function(n,r){var a=n.blocks[r],i=e.valueToCode(n,r,"ARRAY",e.ORDER_FUNCTION_CALL),o=t(n,i),_=e.valueToCode(n,r,"VALUE",e.ORDER_FUNCTION_CALL);return y.l(y.n("pushArrayItem",[i,_,y.o(o)]),a,e)}),e.insertBlockSnippetGenerator("lists_insert_value",function(n,r){var a=n.blocks[r],i=e.valueToCode(n,r,"ARRAY",e.ORDER_FUNCTION_CALL),o=t(n,i),_=e.valueToCode(n,r,"VALUE",e.ORDER_FUNCTION_CALL),s=e.valueToCode(n,r,"INDEX",e.ORDER_FUNCTION_CALL);return y.l(y.n("insertArrayItemByIndex",[i,_,s+" - 1",y.o(o)]),a,e)}),e.insertBlockSnippetGenerator("array_remove_item",function(n,r){var a=e.valueToCode(n,r,"ARRAY",e.ORDER_FUNCTION_CALL),i=t(n,a),o=n.blocks[r],_=e.getFieldValue(o,"ITEM_POS")||"";if("nth"===_){var s=e.valueToCode(n,r,"INDEX",e.ORDER_FUNCTION_CALL);return y.l(y.n("removeArrayItemByIndex",[a,s+" - 1",y.o(i)]),o,e)}return"lastItem"===_?y.l(y.n("removeLastArrayItem",[a,y.o(i)]),o,e):y.l(y.n("removeAllArrayItem",[a,y.o(i)]),o,e)}),e.insertBlockSnippetGenerator("lists_replace",function(n,r){var a=n.blocks[r],i=e.valueToCode(n,r,"ARRAY",e.ORDER_FUNCTION_CALL),o=t(n,i),_=e.getFieldValue(a,"ITEM_POS")||"",s=e.valueToCode(n,r,"VALUE",e.ORDER_FUNCTION_CALL);if("nth"===_){var u=e.valueToCode(n,r,"INDEX",e.ORDER_FUNCTION_CALL);return y.l(y.n("setArrayItemByIndex",[i,s,u+" - 1",y.o(o)]),a,e)}return y.l(y.n("setArrayLastItem",[i,s,y.o(o)]),a,e)}),e.insertBlockSnippetGenerator("array_copy",function(n,r){var a=n.blocks[r],i=e.valueToCode(n,r,"FROM",e.ORDER_FUNCTION_CALL),o=e.valueToCode(n,r,"TO",e.ORDER_FUNCTION_CALL);return y.l(y.n("copyArray",[i,o,y.o(t(n,o))]),a,e)}),e.insertBlockSnippetGenerator("array_get_item",function(t,n){var r=t.blocks[n],a=e.valueToCode(t,n,"ARRAY",e.ORDER_FUNCTION_CALL);if("nth"===(e.getFieldValue(r,"ITEM_POS")||"")){var i=e.valueToCode(t,n,"INDEX",e.ORDER_FUNCTION_CALL);return y.l(y.s("getArrayItemByIndex",[a,i+" - 1"]),r,e,!1,!0)}return y.l(y.s("getArrayLastItem",[a]),r,e,!1,!0)}),e.insertBlockSnippetGenerator("array_get_length",function(t,n){var r=e.valueToCode(t,n,"ARRAY",e.ORDER_FUNCTION_CALL);return y.s("getArrayLength",[r])}),e.insertBlockSnippetGenerator("lists_index_of",function(t,n){var r=t.blocks[n],a=e.valueToCode(t,n,"ARRAY",e.ORDER_FUNCTION_CALL),i=e.valueToCode(t,n,"VALUE",e.ORDER_FUNCTION_CALL);return y.l(y.s("getArrayItemIndex",[a,i,"1"]),r,e,!1,!0)}),e.insertBlockSnippetGenerator("lists_is_exist",function(t,n){var r=e.valueToCode(t,n,"ARRAY",e.ORDER_FUNCTION_CALL),a=e.valueToCode(t,n,"VALUE",e.ORDER_FUNCTION_CALL);return y.s("checkItemInArray",[r,a])}),e.insertBlockSnippetGenerator("array_current_item",function(){return"arrayCurrentItem"}),e.insertBlockSnippetGenerator("array_foreach",function(t,n){var r=e.valueToCode(t,n,"ARRAY",e.ORDER_FUNCTION_CALL),a=e.valueToCode(t,n,"ARRAY_CURRENT_ITEM",e.ORDER_FUNCTION_CALL),i=e.statementToCode(t,n,"DO");return i?y.l(y.i("asyncScheduler.listForEach",i,[r],[a]),t.blocks[n],e,!0):""})}function ei(e){e.extensions.register_mutator("ARRAY_CREATE_MUTATOR",{itemCount_:0,updateShape_(){e.events.disable(),this.get_input("TITLE")||(this.append_dummy_input("TITLE").append_field(e.Msg.NEXT_MARK,"TEXT"),this.append_dummy_input("TITLE").append_field(e.Msg.LIST,"TEXT")),this.get_input("MUTATE_REMOVE_BUTTON")&&this.remove_input("MUTATE_REMOVE_BUTTON"),this.get_input("MUTATE_ADD_BUTTON")&&this.remove_input("MUTATE_ADD_BUTTON");for(var t=this.itemCount_;;t++){var n="ITEM".concat(t);if(!this.get_input(n))break;this.remove_input(n)}for(var r=0;r<this.itemCount_;r++){var a="ITEM".concat(r);if(!this.get_input(a)){var i=this.append_shadow_input(a,'<shadow type="text"><field name="TEXT">item'.concat(r+1,"</field></shadow>"));i.set_check(["Number","String","Array","Boolean","Object"]),0!==r&&i.append_field(",")}}0===this.itemCount_?this.get_input("MUTATE_REMOVE_BUTTON")&&this.remove_input("MUTATE_REMOVE_BUTTON"):this.append_dummy_input("MUTATE_REMOVE_BUTTON").append_field(y.q(void 0),"MUTATE_REMOVE_BUTTON"),this.append_dummy_input("MUTATE_ADD_BUTTON").append_field(y.p(),"MUTATE_ADD_BUTTON"),e.events.enable()},addMutation(t){if(e.events.is_undoing())"number"==typeof t&&(this.itemCount_=t,this.updateShape_());else{var n=this.itemCount_;this.itemCount_++,this.updateShape_();var r=y.c("mutation",{block:this,old_value:n,new_value:this.itemCount_});e.events.fire(r)}},removeMutation(t){if(e.events.is_undoing())"number"==typeof t&&(this.itemCount_=t,this.updateShape_());else{var n=this.itemCount_;this.itemCount_--,this.updateShape_();var r=y.c("mutation",{block:this,old_value:n,new_value:this.itemCount_});e.events.fire(r)}},mutationToDom(){var e=document.createElement("mutation");return e.setAttribute("items",String(this.itemCount_)),e},domToMutation(e){this.itemCount_=parseInt(e.getAttribute("items"),10),this.updateShape_()}}),e.extensions.register_mutator("ARRAY_ITEM_MUTATOR",{updateShape_:function(t){var n=this.get_input("INDEX");if("add"===t){if(!n){var r=this.get_input_index("VALUE"),a=-1===r?r:2;this.append_shadow_input("INDEX",et,a).set_check("Number"),this.append_dummy_input("ITEM",a+1).append_field(e.Msg.ARRAY_ITEM)}}else n&&(this.remove_input("INDEX"),this.remove_input("ITEM"))},addMutation:function(t){var n=this;y.b.call(this,"INDEX",function(){var t=n.get_input_index("VALUE"),r=-1===t?2:t,a=n.append_value_input("INDEX",r).set_check("Number");return n.append_dummy_input("ITEM",r+1).append_field(e.Msg.ARRAY_ITEM),a},et,t)},removeMutation:function(){var e=this;y.t.call(this,"INDEX","NUM",function(){e.remove_input("INDEX"),e.remove_input("ITEM")})},domToMutation:function(){this.cacheId={};var e,t=null==(e=this.get_field("ITEM_POS"))?void 0:e.get_value();this.updateShape_("nth"===t?"add":"remove")},mutationToDom:function(){var e,t=document.createElement("mutation"),n=null==(e=this.get_field("ITEM_POS"))?void 0:e.get_value();return t.setAttribute("pos",n||""),t}})}var eo={};Object.defineProperty(eo,"setBlockGroupProfile",{get:function(){return R.v}}),Object.defineProperty(eo,"setBlockGroupXML",{get:function(){return R.b}}),Object.defineProperty(eo,"setBlockGroupSnippet",{get:function(){return R.y}});var e_={};Object.defineProperty(e_,"setBlockGroupProfile",{get:function(){return g}}),Object.defineProperty(e_,"setBlockGroupXML",{get:function(){return N}}),Object.defineProperty(e_,"setBlockGroupSnippet",{get:function(){return L}});var es={};Object.defineProperty(es,"setBlockGroupProfile",{get:function(){return v}}),Object.defineProperty(es,"setBlockGroupXML",{get:function(){return h}}),Object.defineProperty(es,"setBlockGroupSnippet",{get:function(){return D}}),Object.defineProperty(es,"setBlockGroupExtra",{get:function(){return x}});var eu={};Object.defineProperty(eu,"setBlockGroupProfile",{get:function(){return B}}),Object.defineProperty(eu,"setBlockGroupXML",{get:function(){return k}}),Object.defineProperty(eu,"setBlockGroupSnippet",{get:function(){return U}});var ec={};Object.defineProperty(ec,"setBlockGroupProfile",{get:function(){return M}}),Object.defineProperty(ec,"setBlockGroupXML",{get:function(){return w}}),Object.defineProperty(ec,"setBlockGroupSnippet",{get:function(){return G}}),Object.defineProperty(ec,"setBlockGroupExtra",{get:function(){return Y}});var el={};Object.defineProperty(el,"setBlockGroupProfile",{get:function(){return V}}),Object.defineProperty(el,"setBlockGroupXML",{get:function(){return W}}),Object.defineProperty(el,"setBlockGroupSnippet",{get:function(){return H}});var eE={};Object.defineProperty(eE,"setBlockGroupProfile",{get:function(){return K}}),Object.defineProperty(eE,"setBlockGroupXML",{get:function(){return j}}),Object.defineProperty(eE,"setBlockGroupExtra",{get:function(){return F}}),Object.defineProperty(eE,"setBlockGroupSnippet",{get:function(){return X}});var ep={};Object.defineProperty(ep,"setBlockGroupProfile",{get:function(){return z}}),Object.defineProperty(ep,"setBlockGroupXML",{get:function(){return q}}),Object.defineProperty(ep,"setBlockGroupSnippet",{get:function(){return Q}});var ed={};Object.defineProperty(ed,"setBlockGroupProfile",{get:function(){return Z}}),Object.defineProperty(ed,"setBlockGroupSnippet",{get:function(){return $}});var eT={};Object.defineProperty(eT,"setBlockGroupProfile",{get:function(){return ee._e}}),Object.defineProperty(eT,"setBlockGroupSnippet",{get:function(){return ee.ve}})},51411(e,t,n){n.d(t,{_e:()=>T,ve:()=>O,be:()=>f});var r=n(32919),a=n(33383),i=n(66106);function o(e,t){let n,i;if(Array.isArray(e)){let r=typeof t;n="number"===r||"string"===r||"boolean"===r&&e.includes(r)?r:e[0]}else n=e;let o=`<shadow type="text">
    <field name="TEXT">${t}</field>
  </shadow>`;switch(n){case"number":o=`<shadow type="math_number">
      <field name="NUM">${t}</field>
    </shadow>`;break;case"boolean":o=`<shadow type="widget_boolean">
      <field name="BOOL">${t?"TRUE":"FALSE"}</field>
    </shadow>`;break;case"color":o=`<shadow type="color_picker">
      <field name="COLOR_PALETTE">${a.i(t)?"#ffffff":t}</field>
    </shadow>`;break;case"image":o=`<shadow type="image_file_list_dropdown">
        <field name="IMAGE_FILE_ID">${r.h}</field>
      </shadow>`;break;case"icon":o=`<shadow type="icon_file_list_dropdown">
          <field name="ICON_FILE_ID">${r.h}</field>
        </shadow>`;break;case"multilineString":o=`<shadow type="text_multiline">
        <field name="TEXT">${t}</field>
      </shadow>`;break;case"richTextString":o=`<shadow type="text_rich_text">
          <field name="TEXT">${i={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"},t.replace(/[&"'<>]/g,e=>i[e])}</field>
        </shadow>`}return o}function _(e,t){return t.map(function(t){var n=i.a(e,t.label);return void 0===n&&(n=t.label),t.image?[n,String(t.value),{src:t.image,width:30,height:30,margin_right:4,is_hide:t.isHideFieldImage}]:[n,String(t.value)]})}var s=n(65141),u=n(2980),c=n(60096),l=n(24876),E=n(38752),p=n(95994),d=n(35322);function T(e,t){t.extensions.register_mutator("widget_event_mutator",{event:"event",widgetType:"",updateShape_(){var e=this;let n=u.G1(this.widgetType,this.event);if(!n){console.error("WIDGET_EVENT_MUTATOR getWidgetEvent error",this.widgetType,this.event),this.append_statement_input("DO",void 0),this.set_disabled(!0),this.set_field_value(t.Msg.INVALID_BLOCK,"EVENT"),this.set_colour("#abafb6");return}this.set_disabled(!1);let{label:r,params:a,subTypes:o,tooltip:l,blockOptions:E,key:p}=n,d=i.a(this.widgetType,r);if(this.isAnyWidget){let e="任意"+u.L(this.widgetType);this.get_input("WIDGET_ID_CONTAINER")?.append_field(e)}else{let t=new s.a({type:"field_coco_dropdown",name:"WIDGET_ID",custom:!0,options:()=>c.c().getWidgetListByType(e.widgetType)});this.get_input("WIDGET_ID_CONTAINER")?.append_field(t,"WIDGET_ID")}if(l){let e=i.a(this.widgetType,l);this.set_tooltip(e)}if(E?.icon){let e=this.inputList[0].fieldRow[0];if(!e||"FieldIcon"!==e.field_type)return;e.set_value(t.utils.replace_message_references(E.icon))}let T=u.Rk(this.widgetType,p);if(this.append_statement_input("DO",void 0,T),o?(this.set_field_value(d,"EVENT"),o.forEach(({key:t,dropdown:n})=>{let r="PARAM_".concat(t),a=new s.a({type:"field_coco_dropdown",name:r,custom:!0,options:_(e.widgetType,n)});e.append_dummy_input("","DO").append_field(a,r)})):this.set_field_value(d+t.Msg.WIDGET_EVENT_SUFFIX,"EVENT"),a.forEach(({key:t,label:n,dropdown:r})=>{let a="PARAM_".concat(t),o=i.a(e.widgetType,n);if(r){let t=new s.a({type:"field_coco_dropdown",name:a,custom:!0,options:_(e.widgetType,r)}),n=e.append_dummy_input("","DO");o&&n.append_field(o,"".concat(a,"_LABEL")),n.append_field(t,a)}else e.append_shadow_input(a,'<shadow type="widget_event_param">\n              <field name="PARAM_NAME">'.concat(o,'</field>\n              <mutation widget_type="').concat(e.widgetType,'" event="').concat(e.event,'" param="').concat(t,'"></mutation>\n            </shadow>'),"DO")}),this.isAnyWidget){let e=u.uD,t="PARAM_".concat(e),n=u.Bp;this.append_shadow_input(t,'<shadow type="widget_event_param">\n          <field name="PARAM_NAME">'.concat(n,'</field>\n          <mutation widget_type="').concat(this.widgetType,'" event="').concat(this.event,'" param="').concat(e,'"></mutation>\n        </shadow>'),"DO")}},domToMutation(e){this.event=e.getAttribute("event")||this.event,this.widgetType=e.getAttribute("widget_type")||this.widgetType,this.isAnyWidget="true"===e.getAttribute("is_any_widget"),this.updateShape_()},mutationToDom(){var e=document.createElement("mutation");return e.setAttribute("event",this.event),e.setAttribute("widget_type",this.widgetType),e.setAttribute("is_any_widget",String(this.isAnyWidget)),e}}),t.extensions.register_mutator("widget_event_param_mutator",{param:"",event:"",widgetType:"",domToMutation(e){let t=this;this.param=e.getAttribute("param")||this.param,this.event=e.getAttribute("event")||this.event,this.widgetType=e.getAttribute("widget_type")||this.widgetType;let n=u.G1(this.widgetType,this.event);if(this.widgetType||this.event){if(!n){console.error("WIDGET_EVENT_PARAM_MUTATOR getWidgetEvent error",this.widgetType,this.event,this.param),this.set_output(!0),this.set_disabled(!0);return}this.set_disabled(!1);let e=u.Rk(this.widgetType,this.event);if(this.param===u.uD)this.set_output(!0,"string",e);else{let r=n.params.find(e=>e.key===t.param);if(!r)return void console.error("WIDGET_EVENT_PARAM_MUTATOR get param error",this.widgetType,this.event,this.param);let{valueType:a}=r,i=u.P8(a);this.set_output(!0,i,e)}}else this.set_output(!0)},mutationToDom(){let e=document.createElement("mutation");return e.setAttribute("param",this.param),e.setAttribute("event",this.event),e.setAttribute("widget_type",this.widgetType),e}}),t.define_blocks_with_json_array([{type:"widget_event",message0:"%{BKY_WIDGET_EVENT_MSG}",args0:[l.e("%{BKY_BLOCK_TAB_ICON}",!0),{type:"input_dummy",name:"WIDGET_ID_CONTAINER"},{type:"field_label",name:"EVENT",text:""}],colour:"%{BKY_EVENTS_HUE}",inputsInline:!0,mutator:"widget_event_mutator"}]),t.define_blocks_with_json_array([{type:"widget_event_param",message0:"%{BKY_WIDGET_EVENT_PARAM_MSG}",args0:[{type:"field_label_serializable",name:"PARAM_NAME",text:""}],inputsInline:!0,colour:"%{BKY_PARAM_BLOCK_COLOR}",mutator:"widget_event_param_mutator",extensions:["param_block"]}]),t.extensions.register_mutator("widget_get_mutator",{property:"",widgetType:"",updateShape_(){var e;let n,r=this,a=u.tV(this.widgetType,this.property);if(!a){console.error("WIDGET_GET_MUTATOR getWidgetProperty error",this.widgetType,this.property),this.set_disabled(!0),this.set_output(!0),this.set_field_value(t.Msg.INVALID_BLOCK,"PROPERTY"),this.set_colour("#abafb6");return}this.set_disabled(!1);let{label:o,valueType:_,tooltip:l,blockOptions:E={}}=a,p=i.a(this.widgetType,o);if(this.set_field_value(t.Msg.WIDGET_OF,"PROPERTY"),this.isAnyWidget){let e=u.L(this.widgetType);this.get_input("WIDGET_ID_CONTAINER")?.append_field(e),this.append_shadow_input("WIDGET_ID",'<empty type="widget_any_id"></empty>',"PROPERTY")}else{let e=new s.a({type:"field_coco_dropdown",name:"WIDGET_ID",custom:!0,options:function(){return c.c().getWidgetListByType(r.widgetType)}});this.get_input("WIDGET_ID_CONTAINER")?.append_field(e,"WIDGET_ID")}if("object"==typeof E.getter&&(n=E.getter.keys)?.length){let e=[];n.forEach(t=>{let n=u.tV(r.widgetType,t);if(n){let a=i.a(r.widgetType,n.label);e.push([a,t])}else console.error("WIDGET_GET_MUTATOR getWidgetProperty error",r.widgetType,t)}),this.append_dummy_input().append_field(new s.a({type:"field_coco_dropdown",name:"PROPERTY_KEY",custom:!0,options:()=>e}),"PROPERTY_KEY"),p&&this.append_dummy_input().append_field("".concat(p))}switch(a.key){case"__position":this.append_dummy_input().append_field(new s.a({type:"field_coco_dropdown",name:"POSITION_TYPE",custom:!0,options:function(){return[[t.Msg.POSITION_X,"positionX"],[t.Msg.POSITION_Y,"positionY"]]}}),"POSITION_TYPE");break;case"__opacity":this.set_field_value("".concat(t.Msg.WIDGET_OF," ").concat(t.Msg.WIDGET_OPACITY),"PROPERTY");break;case"__visible":this.set_field_value(t.Msg.WIDGET_VISIBLE,"PROPERTY");break;case"__disabled":this.set_field_value(t.Msg.WIDGET_DISABLED,"PROPERTY");break;default:(null==(e=n)?void 0:e.length)||this.set_field_value("".concat("boolean"===_?"":t.Msg.WIDGET_OF," ").concat(p),"PROPERTY")}let d=u.P8(_);if(this.set_output(!0,d),l){let e=i.a(this.widgetType,l);this.set_tooltip(e)}},domToMutation(e){this.property=e.getAttribute("property")||this.property,this.widgetType=e.getAttribute("widget_type")||this.widgetType,this.isAnyWidget="true"===e.getAttribute("is_any_widget"),this.updateShape_()},mutationToDom(){let e=document.createElement("mutation");return e.setAttribute("property",this.property),e.setAttribute("widget_type",this.widgetType),e.setAttribute("is_any_widget",String(this.isAnyWidget)),e}}),t.define_blocks_with_json_array([{type:"widget_get",message0:"%{BKY_WIDGET_GET_MSG}",args0:[{type:"input_dummy",name:"WIDGET_ID_CONTAINER"},{type:"field_label",name:"PROPERTY",text:"property"}],output:["String"],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0,mutator:"widget_get_mutator"}]),t.extensions.register_mutator("widget_set_mutator",{property:"property",widgetType:"",updateShape_(){let e,n,r,a=this,l=u.tV(this.widgetType,this.property);if(!l)return console.error("WIDGET_SET_MUTATOR getWidgetProperty error",this.widgetType,this.property),this.set_disabled(!0),this.set_field_value(t.Msg.INVALID_BLOCK,"PROPERTY"),void this.set_colour("#abafb6");this.set_disabled(!1);let{valueType:p,defaultValue:d,label:T,tooltip:O,checkType:f,dropdown:A,validators:I,blockOptions:R={}}=l,y=i.a(this.widgetType,T),S=!1;if(I&&"number"===p){let{isInteger:t}=I;S=!!t,e=u.uh(I),n=u.DS(I)}if(("__position"===l.key||"__size"===l.key)&&(S=!0),"__visible"!==l.key&&"__disabled"!==l.key&&this.get_input("WIDGET_ID_CONTAINER")?.insert_field_at(0,t.Msg.WIDGET_SET),this.isAnyWidget){let e=u.L(this.widgetType);this.get_input("WIDGET_ID_CONTAINER")?.append_field(e),this.append_shadow_input("WIDGET_ID",'<empty type="widget_any_id"></empty>',"PROPERTY")}else{let e=new s.a({type:"field_coco_dropdown",name:"WIDGET_ID",custom:!0,options:function(){return c.c().getWidgetListByType(a.widgetType)}});this.get_input("WIDGET_ID_CONTAINER")?.append_field(e,"WIDGET_ID")}if("object"==typeof R.setter&&(r=R.setter.keys)?.length){let o=[];r.forEach((t,r)=>{let _=u.tV(a.widgetType,t);if(_){0===r&&"number"===_.valueType&&(_.validators&&(n=u.DS(_.validators),e=u.uh(_.validators)),void 0===e&&("__width"===_.key||"__height"===_.key)&&(e=0));let s=i.a(a.widgetType,_.label);o.push([s,t])}else console.error("WIDGET_GET_MUTATOR getWidgetProperty error",a.widgetType,t)}),this.set_field_value(t.Msg.WIDGET_OF,"PROPERTY"),this.append_dummy_input().append_field(new s.a({type:"field_coco_dropdown",name:"PROPERTY_KEY",custom:!0,options:()=>o,optOnchange(e){let t=u.tV(a.widgetType,e);if(t){let e,n,r;"color"===t.valueType&&(e="COLOR");let i=a.get_shadow_field("VALUE",e);i&&(i.set_value(String(t.defaultValue)),"number"===t.valueType&&(t.validators&&(n=u.uh(t.validators),r=u.DS(t.validators)),void 0===n&&("__width"===t.key||"__height"===t.key)&&(n=0),i.set_constraints(n,r,S?1:void 0)))}}}),"PROPERTY_KEY");let _=y?"".concat(y," ").concat(t.Msg.WIDGET_SET_TO):t.Msg.WIDGET_SET_TO;this.append_dummy_input().append_field(_)}switch(l.key){case"__position":this.set_field_value(t.Msg.WIDGET_OF,"PROPERTY"),this.append_dummy_input().append_field(new s.a({type:"field_coco_dropdown",name:"POSITION_TYPE",custom:!0,options:function(){return[[t.Msg.POSITION_X,"positionX"],[t.Msg.POSITION_Y,"positionY"]]}}),"POSITION_TYPE"),this.append_dummy_input().append_field(t.Msg.WIDGET_SET_TO);break;case"__opacity":this.set_field_value("".concat(t.Msg.WIDGET_OF," ").concat(t.Msg.WIDGET_OPACITY," ").concat(t.Msg.WIDGET_SET_TO),"PROPERTY");break;case"__visible":this.append_dummy_input("",0).append_field(new s.a({type:"field_coco_dropdown",name:"VALUE",custom:!0,options:function(){return[[t.Msg.SHOW,"show"],[t.Msg.HIDE,"hide"]]}}),"VALUE"),this.inputList.forEach(function(e){e.get_field("PROPERTY")&&e.remove_field("PROPERTY")});break;case"__disabled":this.append_dummy_input("",0).append_field(new s.a({type:"field_coco_dropdown",name:"VALUE",custom:!0,options:function(){return[[t.Msg.ABLE,"able"],[t.Msg.DISABLED,"disabled"]]}}),"VALUE"),this.inputList.forEach(function(e){e.get_field("PROPERTY")&&e.remove_field("PROPERTY")});break;default:r?.length||this.set_field_value("".concat(t.Msg.WIDGET_OF," ").concat(y," ").concat(t.Msg.WIDGET_SET_TO),"PROPERTY")}let m=u.Cl(p,f,d);if("__visible"!==l.key&&"__disabled"!==l.key)if(A){let e=new s.a({type:"field_coco_dropdown",name:"VALUE",custom:!0,options:_(this.widgetType,A)});e.set_value(String(d)),this.append_dummy_input().append_field(e,"VALUE")}else{let e="";"string"===p&&(e=i.a(this.widgetType,String(d)));var C=o(p,e||d);this.append_shadow_input("VALUE",C).set_check(m)}if("number"===p&&(I||"__position"===l.key||"__size"===l.key)){let r=this.get_shadow_field("VALUE");r.set_constraints(e,n,S?1:void 0),"__opacity"===l.key&&r.set_controller_option({type:E.I.ControllerType.SLIDER,left_text:t.Msg["opacity.invisible"],right_text:t.Msg["opacity.visible"]})}if(O){let e=i.a(this.widgetType,O);this.set_tooltip(e)}},domToMutation(e){this.property=e.getAttribute("property")||this.property,this.widgetType=e.getAttribute("widget_type")||this.widgetType,this.isAnyWidget="true"===e.getAttribute("is_any_widget"),this.updateShape_()},mutationToDom(){var e=document.createElement("mutation");return e.setAttribute("property",this.property),e.setAttribute("widget_type",this.widgetType),e.setAttribute("is_any_widget",String(this.isAnyWidget)),e}}),t.define_blocks_with_json_array([{type:"widget_set",message0:"%{BKY_WIDGET_SET_MSG}",args0:[{type:"input_dummy",name:"WIDGET_ID_CONTAINER"},{type:"field_label",name:"PROPERTY",text:"property"}],previousStatement:!0,nextStatement:!0,inputsInline:!0,colour:"%{BKY_APPEARANCE_HUE}",mutator:"widget_set_mutator"}]),t.extensions.register_mutator("widget_method_mutator",{method:"method",widgetType:"",isAnyWidget:!1,updateShape_(){let e,n=this,r=u.HM(this.widgetType,this.method);if(!r){console.error("WIDGET_METHOD_MUTATOR getWidgetMethod error",this.widgetType,this.method),this.set_disabled(!0),this.append_dummy_input().append_field(t.Msg.INVALID_BLOCK,"METHOD"),this.set_colour("#abafb6");return}this.set_disabled(!1);let a=this.get_input("WIDGET_ID_CONTAINER");if(this.isAnyWidget){let e=u.L(this.widgetType);if(a?.append_field(e),this.append_shadow_input("WIDGET_ID",'<empty type="widget_any_id"></empty>'),"__setVisible"===r.key){let e=new s.a({type:"field_coco_dropdown",name:"DISPLAY",custom:!0,options:function(){return[[t.Msg.SHOW,"show"],[t.Msg.HIDE,"hide"]]}});this.append_dummy_input().append_field(e,"DISPLAY")}if("__setDisabled"===r.key){let e=new s.a({type:"field_coco_dropdown",name:"DISABLED",custom:!0,options:function(){return[[t.Msg.ABLE,"able"],[t.Msg.DISABLED,"disabled"]]}});this.append_dummy_input().append_field(e,"DISABLED")}}else{let e=new s.a({type:"field_coco_dropdown",name:"WIDGET_ID",custom:!0,options:function(){return c.c().getWidgetListByType(n.widgetType)}});a?.append_field(e,"WIDGET_ID")}let{label:l,params:T,tooltip:O,blockOptions:f={},valueType:A}=r;if(!1!==f.callMethodLabel){let e=f.callMethodLabel?.toString()||"",n=i.a(this.widgetType,e)||t.Msg.WIDGET_METHOD_CALL_MSG,r=new d.FieldLabel({text:n});a?.insert_field_at(0,r)}if(f.icon&&(t.Msg[f.icon]?e=t.Msg[f.icon]:f.icon.startsWith("https://")&&(e=f.icon),e)){let t=new p.FieldImage({src:e});this.append_dummy_input("ICON_CONTAINER","WIDGET_ID_CONTAINER").append_field(t)}if(f.color&&this.set_colour(f.color),A){this.set_next_statement(!1),this.set_previous_statement(!1);let e=u.P8(A);this.set_output(!0,e)}let I=i.a(this.widgetType,l);if(I&&this.append_dummy_input().append_field(I,"METHOD"),O){let e=i.a(this.widgetType,O);this.set_tooltip(e)}!1===f.inputsInline&&this.set_inputs_inline(f.inputsInline),T.forEach(({label:e,labelAfter:t,valueType:r,checkType:a,defaultValue:c,key:l,dropdown:p,controller:d})=>{let T=i.a(n.widgetType,e),O="PARAM_".concat(l);if(p){let e=new s.a({type:"field_coco_dropdown",name:O,custom:!0,options:_(n.widgetType,p)}),t=n.append_dummy_input();T&&t.append_field(T,"".concat(O,"_LABEL")),t.append_field(e,O)}else{let e=o(r,c),t=n.append_shadow_input(O,e),i=u.Cl(r,a,c);if(t.set_check(i),T&&t.insert_field_at(0,T,"".concat(O,"_LABEL")),"number"===r&&d){let e=n.get_shadow_field(O);e?.set_constraints(d.min,d.max,1),d.leftText&&d.rightText&&e?.set_controller_option({type:E.I.ControllerType.SLIDER,left_text:d.leftText,right_text:d.rightText})}}if(t){let e=i.a(n.widgetType,t);n.append_dummy_input("").append_field(e,"".concat(O,"_LABEL_AFTER"))}})},domToMutation(e){this.method=e.getAttribute("method")||this.method,this.widgetType=e.getAttribute("widget_type")||this.widgetType,this.isAnyWidget="true"===e.getAttribute("is_any_widget"),this.updateShape_()},mutationToDom(){var e=document.createElement("mutation");return e.setAttribute("method",this.method),e.setAttribute("widget_type",this.widgetType),e.setAttribute("is_any_widget",String(this.isAnyWidget)),e}}),t.define_blocks_with_json_array([{type:"widget_method",message0:"%{BKY_WIDGET_METHOD_MSG}",args0:[{type:"input_dummy",name:"WIDGET_ID_CONTAINER"}],previousStatement:!0,nextStatement:!0,inputsInline:!0,colour:"%{BKY_VARIABLES_HUE}",mutator:"widget_method_mutator"}]),t.extensions.register_mutator("widget_dropdown_mutator",{property:"property",widgetType:"",updateShape_(){let e=this,t=u.tV(this.widgetType,this.property);if(t){let{defaultValue:n,dropdown:r}=t;if(r){this.set_shadow(!0);let t=new s.a({type:"field_coco_dropdown",name:"VALUE",custom:!0,options:function(){return _(e.widgetType,r)}});this.get_field("VALUE")||(this.append_dummy_input("").append_field(t,"VALUE"),t.set_value(String(n)))}else console.error("WIDGET_DROPDOWN_MUTATOR dropdown is invalid",r)}else console.error("WIDGET_DROPDOWN_MUTATOR getWidgetProperty error",this.widgetType,this.property)},domToMutation(e){this.property=e.getAttribute("property")||this.property,this.widgetType=e.getAttribute("widget_type")||this.widgetType,this.updateShape_()},mutationToDom(){var e=document.createElement("mutation");return e.setAttribute("property",this.property),e.setAttribute("widget_type",this.widgetType),e}}),t.define_blocks_with_json_array([{type:"widget_color",message0:"%{BKY_WIDGET_COLOR_MSG}",args0:[{type:"field_colour",name:"COLOR",colour:"#ffffff"}],colour:"#ffffff",output:["Color"]}]),t.define_blocks_with_json_array([{type:"widget_boolean",message0:"%{BKY_WIDGET_BOOLEAN_MSG}",args0:[{type:"field_coco_dropdown",name:"BOOL",custom:!0,options:[["%{BKY_WIDGET_BOOLEAN_TRUE}","TRUE"],["%{BKY_WIDGET_BOOLEAN_FALSE}","FALSE"]]}],output:"Boolean",colour:"%{BKY_LOGIC_HUE}"}]),t.define_blocks_with_json_array([{type:"widget_dropdown",message0:"",args0:[],output:["String","Boolean","Number"],colour:"%{BKY_APPEARANCE_HUE}",mutator:"widget_dropdown_mutator"}]),t.define_blocks_with_json_array([{type:"widget_any_id",message0:"",args0:[],output:"String"}])}function O(e){e.insertBlockSnippetGenerator("widget_get",function(t,n){var r,a,i=t.blocks[n],o=i.mutation,_=E.Z.xml.text_to_dom(o),s=_.getAttribute("property"),c=_.getAttribute("widget_type"),p="true"===_.getAttribute("is_any_widget");if(!s||!c)return"";var d=e.getFieldValue(i,"WIDGET_ID")||"";d=l.o(d),p&&(d=e.valueToCode(t,n,"WIDGET_ID",e.ORDER_FUNCTION_CALL));var T=u.tV(c,s);if(!T)return"";var O=T.blockOptions,f=void 0===O?{}:O;if("object"==typeof f.getter&&(null==(a=f.getter.keys)?void 0:a.length)){s=e.getFieldValue(i,"PROPERTY_KEY")||"";var A=u.tV(c,s);if(!A)return"";f=A.blockOptions||{}}var I=e.getFieldValue(i,"POSITION_TYPE")||"";if("__opacity"===s)return l.s("getWidgetOpacity",[d]);if("__visible"===s)return l.s("getWidgetVisible",[d]);if("__disabled"===s)return l.s("getWidgetDisabled",[d]);if("__width"===s||"__height"===s){var R="__width"===s?"getWidgetWidth":"getWidgetHeight";return l.s(R,[d])}return I?l.s("positionX"===I?"getWidgetPositionX":"getWidgetPositionY",[d]):"string"==typeof(null==(r=f.getter)?void 0:r.func)?l.s(f.getter.func,[d,l.o(s)]):l.s("getProperty",[d,l.o(s)],u.q(c))}),e.insertBlockSnippetGenerator("widget_set",function(t,n){var r,a,i=t.blocks[n],o=i.mutation,_=E.Z.xml.text_to_dom(o),s=_.getAttribute("property"),c=_.getAttribute("widget_type"),p="true"===_.getAttribute("is_any_widget");if(!s||!c)return"";var d=e.getFieldValue(i,"WIDGET_ID")||"";d=l.o(d),p&&(d=e.valueToCode(t,n,"WIDGET_ID",e.ORDER_FUNCTION_CALL));var T=u.tV(c,s);if(!T)return"";var O=T.blockOptions,f=void 0===O?{}:O;if("object"==typeof f.setter&&(null==(a=f.setter.keys)?void 0:a.length)){s=e.getFieldValue(i,"PROPERTY_KEY")||"";var A=u.tV(c,s);if(!A)return"";f=A.blockOptions||{}}var I=e.valueToCode(t,n,"VALUE",e.ORDER_FUNCTION_CALL);T.dropdown&&(I=l.o(e.getFieldValue(i,"VALUE")||""));var R=e.getFieldValue(i,"POSITION_TYPE")||"";if("__opacity"===s)return l.l(l.n("setWidgetOpacity",[d,I]),i,e);if("__visible"===s){var y="show"===e.getFieldValue(i,"VALUE");return l.l(l.n("setWidgetVisible",[d,y]),i,e)}if("__disabled"===s){var S="disabled"===e.getFieldValue(i,"VALUE");return l.l(l.n("setWidgetAttribute",[d,l.o("disabled"),S]),i,e)}if("__width"===s||"__height"===s){var m="__width"===s?"setWidgetWidth":"setWidgetHeight";return l.l(l.n(m,[d,I]),i,e)}return R?l.l(l.n("positionX"===R?"setWidgetPositionX":"setWidgetPositionY",[d,I]),i,e):"string"==typeof(null==(r=f.setter)?void 0:r.func)?l.l(l.n(f.setter.func,[d,I]),i,e):l.l(l.n("setProperty",[d,l.o(s),I],void 0,void 0,u.q(c)),i,e)}),e.insertBlockSnippetGenerator("widget_event",function(t,n){var r=t.blocks[n],a=e.getFieldValue(r,"WIDGET_ID")||"",i=r.mutation,o=E.Z.xml.text_to_dom(i),_=o.getAttribute("event"),s=e.getDynamicValue("__CURRENT_SCREEN_ID__"),c=o.getAttribute("widget_type"),p="true"===o.getAttribute("is_any_widget");if(!_||!c)return"";var d=u.G1(c,_);if(!d)return"";var T=d.params,O=d.subTypes,f=[];null!=O&&O.forEach(function(t){_+=e.getFieldValue(r,"PARAM_".concat(t.key))||""}),T.forEach(function(e){f.push("".concat(l.a).concat(e.key))}),p&&f.push("".concat(l.a).concat(u.uD));var A=e.statementToCode(t,n,"DO");return A?l.n("onWidgetEvent",[l.o(c),l.o(_),p?l.o(s):l.o(a)],A,f,u.q(c)):""}),e.insertBlockSnippetGenerator("widget_event_param",function(e,t){var n=e.blocks[t].mutation,r=E.Z.xml.text_to_dom(n).getAttribute("param");return"".concat(l.a).concat(r)}),e.insertBlockSnippetGenerator("widget_method",function(t,n){var r=t.blocks[n],a=r.mutation,i=E.Z.xml.text_to_dom(a),o=i.getAttribute("method"),_=i.getAttribute("widget_type"),s="true"===i.getAttribute("is_any_widget");if(!o||!_)return"";var c=u.HM(_,o);if(!c)return"";var p=[],d=e.getFieldValue(r,"WIDGET_ID")||"";s?(d=e.valueToCode(t,n,"WIDGET_ID",e.ORDER_FUNCTION_CALL),p.push(d)):p.push(l.o(d)),p.push(l.o(o));var T=c.params,O=c.valueType,f=[];if(T.forEach(function(a){var i=a.key,o=a.dropdown,_="PARAM_".concat(i),s="''";try{s=e.valueToCode(t,n,_,e.ORDER_FUNCTION_CALL)||"''"}catch(e){console.error("widget_method valueToCode error",e)}o&&(s=l.o(e.getFieldValue(r,_)||"")),p.push(s),f.push(s)}),"__setVisible"===c.key){var A="show"===e.getFieldValue(r,"DISPLAY");return l.l(l.n("setWidgetVisible",[d,A]),r,e)}if("__setDisabled"===c.key){var I="disabled"===e.getFieldValue(r,"DISABLED");return l.l(l.n("setWidgetAttribute",[d,l.o("disabled"),I]),r,e)}return O?l.l(l.r("callMethod",p),r,e,!0,!0):l.l(l.j("callMethod",p,void 0,void 0,u.q(_)),r,e)}),e.insertBlockSnippetGenerator("widget_color",function(t,n){var r=t.blocks[n],a=e.getFieldValue(r,"COLOR");return l.o(a)}),e.insertBlockSnippetGenerator("color_picker",function(t,n){var r,a=t.blocks[n],i=E.Z.xml.text_to_dom(a.mutation),o=function(r){return e.valueToCode(t,n,r,e.ORDER_COMMA)};switch(Number(i.getAttribute("format"))){case E.I.EColorFormat.ColorPalette:r=l.s("getColorHex",[l.o(i.getAttribute("color")||"")]);break;case E.I.EColorFormat.ColorString:r=l.s("getColorHex",[o("COLOR_STRING")]);break;case E.I.EColorFormat.HSVA:r=l.s("getColorHsva",[o("H"),o("S"),o("V"),o("A")]);break;case E.I.EColorFormat.RGBA:r=l.s("getColorRgba",[o("R"),o("G"),o("B"),o("A")])}return r||""}),e.insertBlockSnippetGenerator("widget_boolean",function(t,n){var r=t.blocks[n];return["TRUE"===e.getFieldValue(r,"BOOL")?"true":"false",e.ORDER_ATOMIC]}),e.insertBlockSnippetGenerator("widget_dropdown",function(t,n){var r=t.blocks[n],a=e.getFieldValue(r,"VALUE");return l.o(a)}),e.insertBlockSnippetGenerator("widget_any_id",function(e,t){return l.o("")})}let f={"zh-CN":{PRESS:"点击",PRESS_IN:"按下",PRESS_OUT:"松开",PRESS_HOLD:"按住",SIZE:"尺寸大小",HUGE:"超大",LARGE:"大",MEDIUM:"中",SMALL:"小",TINY:"超小",INCREASE:"增加",DECREASE:"减少",SET:"设置",OF:"的",IMAGE:"图片",CONTENT:"文本内容",TEXT_CONTENT:"文本",TEXT_COLOR:"文本颜色",BACKGROUND_COLOR:"背景颜色",ALIGN:"对齐方式",LEFT_ALIGN:"居左",CENTER_ALIGN:"居中",RIGHT_ALIGN:"居右",TOP_ALIGN:"居上",BOTTOM_ALIGN:"居下",FONT_SIZE:"字号",HEIGHT:"高度",WIDTH:"宽度",POSITION_X:"X坐标",POSITION_Y:"Y坐标",TEXT:"文本",SHOW:"显示",HIDE:"隐藏",DISABLED:"禁用",ABLE:"启用",BRIGHTNESS:"亮度",ALPHA:"透明度",HUE:"色相",SATURATION:"饱和度",HORIZONTAL:"水平",HORIZONTAL_FLIPPED:"水平翻转",VERTICAL_FLIPPED:"垂直翻转",VERTICAL:"垂直",MOVE_TOP:"最上层",MOVE_BOTTOM:"最底层",MOVE_UP:"上一层",MOVE_DOWN:"下一层","opacity.invisible":"透明","opacity.visible":"不透明",INVALID_BLOCK:"无效积木：相关控件已被移除",COLOR:"颜色",MODE:"样式",ICON:"图标",SYSTEM:"系统",EVENT:"事件",CONTROL:"控制",PHONE:"功能",OPERATOR:"运算",PRIMITIVE:"变量",ARRAY:"列表",OBJECT:"字典",FUNCTION:"函数",STORAGE:"数据库",SENSE:"传感",COMPONENTS:"界面控件",INVISIBLE_COMPONENTS:"屏幕功能",GLOBAL_COMPONENTS:"全局功能",ANY_COMPONENTS:"任意控件",NEXT_MARK:"[N]",WHEN:"%1 当 %2 %3",REPEAT_FOREVER:"重复执行 %1 %2",REPEAT:"重复执行 %1 次 %2 %3",REPEAT_WHEN:"当 %1 重复执行 %2 %3",REPEAT_WHEN_TOOLTIP:"如果值为真(true)，则重复执行C口内的代码。\n如果值为假(false)，则结束重复执行。",BREAK:"退出循环",BREAK_TOOLTIP:"结束循环，执行重复执行下面的代码。",WAIT_SECS:"等待 %1 秒",SLEEP_UTIL:"保持等待直到%1",CONTINUE:"跳过此次循环，进入下次循环",CONSOLE_LOG:"在控制台打印 %1",NEW_CONSOLE_LOG:"在控制台 %1 %2",CONSOLE_ERROR:"在控制台报错 %1",TO_LOG:"打印",TO_ERROR:"报错",TO_WARNING:"预警",CONSOLE_LOG_DEFAULT_VALUE:"调试信息",CONSOLE_ERROR_DEFAULT_VALUE:"报错信息",CONTROLS_FOR:"重复执行 %1 从 %2 到 %3 前，间隔 %4",CONTROLS_FOR_TOOLTIP:"for循环积木。变量“数字”初始时为1，每次重复执行后增加1；直到“数字”等于10时，结束重复执行。",CONTROLS_FOR_CLOSED_RANGE:"重复执行 %1 从 %2 到 %3，间隔 %4",CONTROLS_FOR_CLOSED_RANGE_TOOLTIP:"for 循环积木。变量“数字”初始值为1，每次重复执行后增加1；当“数字”小于或者等于10时，执行开口里的语句",CONTROLS_NUMBER:"数字",VARIABLE:"变量",VARIABLES_GLOBAL:"全局变量 %1",VARIABLES_GET:"%1",VARIABLES_SET:"设置变量 %1 的值为 %2",CHANGE_VARIABLE:"将变量 %1 %2 %3",VARIABLES_CREATE:"创建变量 %1 为 %2",SHOW_HIDE_VARIABLE:"%1 变量 %2",LISTS_APPEND:"添加 %1 到 %2 末尾",INSERT_LISTS_ITEM_BY_INDEX:"插入 %3 到 %1 的第 %2 项",COPY_ARRAY:"复制 %1 到 %2",GET_ARRAY_LENGTH:"%1 的长度",GET_ARRAY_ITEM_INDEX:"%2 中第一个 %1 的位置",CHECK_ITEM_IN_ARRAY:"%1 中包含 %2",LIST:"列表",NTH:"第",LAST_ITEM:"最后一项",ALL_ITEM:"所有项",ITEM:"项",DELETE:"删除",REPLACE:"替换",IS:"为",REMOVE_ARRAY_ITEM:"删除 %1 %2",ARRAY_ITEM:"项",LISTS_REPLACE:"替换 %1 %2",ARRAY_CURRENT_ITEM:"当前项",ARRAY_FOREACH:"遍历 %1 取 %2，重复执行 %3 %4",OBJECT_GET_VALUE:"获取对象 %1 属性为 %2 的值",OBJECT_GET_VALUE_TOOLTIP:'获取对象中某个属性的值。比如对象A为：\n{"province":"广东","city":"深圳","weather":"多云"}\n那其属性为province的值为广东，属性为city的值为深圳，属性为weather的值为多云。',OBJECT_JSON_PARSE:"将文本 %1 解析为对象",OBJECT_JSON_PARSE_TOOLTIP:"将符合json结构的文本内容（比如HTTP客户端获得文本时的文本内容）转换成对象类型，嵌入到“获取对象？属性为（“”）的值”积木中，可以进一步获取对象中某个属性的值。",OBJECT_GET:"%1",OBJECT_SET_ITEM:"设置 %1 键 %2 的值为 %3",OBJECT_DELETE_ITEM:"删除 %1 中的键 %2",OBJECT_CLEAR:"清空 %1",OBJECT_LENGTH:"%1 键的总数",OBJECT_GET_ITEM:"%1 键 %2 的值",OBJECT_INCLUDE_KEY:"键 %2 存在于 %1",MATH_IS:"是",MATH_EVEN:"偶数",MATH_ODD:"奇数",MATH_PRIME:"质数",MATH_WHOLE:"整数",MATH_POSITIVE:"正数",MATH_NEGATIVE:"负数",MATH_ROUND_OPERATOR_ROUND:"四舍五入",MATH_ROUND_OPERATOR_CEIL:"向上舍入",MATH_ROUND_OPERATOR_FLOOR:"向下舍入",REMINDER_OPERATION:"%1 \xf7 %2 的余数",RANDOM_NUM:"在 %1 到 %2 间随机整数",DIVISIBLE_BY:"%1 能被 %2 整除",CALCULATE:"数学运算 %1",TEXT_SELECT:"%1 的第 %2 到第 %3 个字符",TEXT_LENGTH:"%1 的长度",TEXT_CONTAIN:"%1 包含 %2",TEXT_SPLIT:"把 %1 按 %2 分开成列表",CONVERT_TYPE:"把 %1 转换为 %2 类型",NUMBER_TYPE:"数字",STRING_TYPE:"字符串",BOOLEAN_TYPE:"布尔值",TEXT_SLICE:"%1 的第 %2",OPERATORS_TEXT_SELECT_CHANGEABLE_TO:"到第",OPERATORS_TEXT_SELECT_CHANGEABLE_END:"个字符串",APP_ON_MOUNT:"%1 当打开应用时 %2 %3",APP_ON_SWITCH:"%1 当应用 %2 时 %3 %4",APP_ACTIVE:"返回前台",APP_BACKGROUND:"切到后台",BROADCAST_ON_RECEIVE:"%1 当 收到 广播 %2 时 %3 %4",BROADCAST_SEND:"发送广播 %1",BROADCAST_SEND_AND_WAIT:"发送广播 %1 并等待",BROADCAST_INPUT_TOOLTIP:"嵌入“字符串” ：按 “广播名称” 检索",SCREEN_ON_OPEN:"%1 当打开屏幕时",SCREEN_ON_OPEN_GET_PARAM:"%1 当打开屏幕时 %2 %3 %4",SCREEN_ON_PRESS:"%1 当屏幕被点击时 %2 %3 %4 %5",SCREEN_ON_PRESS_MSG0:"%1 当 屏幕 被 %2 时 %3 %4 %5 %6",SCREEN_UPDATE_BACKGROUND_COLOR:"设置 %1 的 背景颜色 为 %2",SCREEN_SET_BACKGROUND_IMAGE:"设置 %1 的 背景图片 为 %2",NEW_SCREEN_UPDATE_BACKGROUND_COLOR:"设置 屏幕 的 背景颜色 为 %1",NEW_SCREEN_SET_BACKGROUND_IMAGE:"设置 屏幕 的 背景图片 为 %1",SCREEN_GET_BACKGROUND_IMAGE:"%1 的 背景图片",SCREEN_NAVIGATE_TO:"切换到屏幕 %1",SCREEN_NAVIGATE_TO_BY_VALUE:"切换到屏幕 %1 并传值 %2",SCREEN_HEIGHT:"高度",SCREEN_WIDTH:"宽度",SCREEN_GET_COLOR:"%1 的 背景颜色",SCREEN_GET_SIZE:"%1 的 %2",NEW_SCREEN_GET_COLOR:"屏幕 的 背景颜色",NEW_SCREEN_GET_SIZE:"屏幕 的 %1",NEW_SCREEN_GET_BACKGROUND_IMAGE:"屏幕 的 背景图片",SCREEN_PREV:"上一屏",SCREEN_NEXT:"下一屏",SCREEN_PARAM:"参数",SCREEN_CHECK_IF_PRESSED:"屏幕 被 按住",SCREEN_INPUT_TOOLTIP:"嵌入“字符串”：按“屏幕名称”检索\n 嵌入“数字”：按“屏幕序号”检索",PHONE_VIBRATE:"手机振动 %1 秒",PHONE_BATTERY_LEVEL:"当前电量",BRIGHTNESS_SET_BRIGHTNESS:"设置屏幕亮度为 %1",BRIGHTNESS_GET_BRIGHTNESS:"当前屏幕亮度",BRIGHTNESS_SET_KEEP_SCREEN_ON:"设置屏幕是否保持常亮 %1",GYROSCOPE_ON_PHONE_SHAKE:"%1 当手机被摇晃时 %2 %3",GYROSCOPE_PHONE_GET_COMPASS:"指南针",GYROSCOPE_PHONE_GET_COMPASS_TOOLTIP:"手机设备顶部朝向。\n正北为 0\n正南为 180\n正西为 270\n正东为 90",GYROSCOPE_PHONE_GET_ORIENTATION_VALUE:"手机在 %1 方向的 %2",VOLUME_SENSOR_SET_DETECTION_STATE:"%1 环境音量传感器",VOLUME_SENSOR_GET_CURRENT_VALUE:"当前环境音量",ROTATION:"倾斜角度",GRAVITY:"加速度分量",TIME:"时间",YEAR:"年",MONTH:"月",DATE:"日",DAYS:"天数",DAY_NAME:"星期（文本）",DAY_NUM:"星期（数字）",HOUR:"小时",MINUTE:"分钟",SECOND:"秒",DATE_OBJECT:"日期",START:"开始",STOP:"停止",RESET:"重置",OPEN:"开启",CLOSE:"关闭",DATE_SET_TIMER_STATE:"%1 %2",DATE_TIMER:"%1",DATE_GET_CURRENT_DATE:"%1",DATE_GET_CURRENT_DATE_TOOLTIP:"电脑上运行时，获取的是电脑系统当前的时间。\n手机上运行时，获取的是手机系统当前的时间。",DATE_CURRENT_TIME:"当前 时间",DATE_CURRENT_YEAR:"当前 年",DATE_CURRENT_MONTH:"当前 月",DATE_CURRENT_DATE:"当前 日",DATE_CURRENT_DAY_NAME:"当前 星期（文本）",DATE_CURRENT_DAY_NUM:"当前 星期（数字）",DATE_CURRENT_HOUR:"当前 小时",DATE_CURRENT_MINUTE:"当前 分钟",DATE_CURRENT_SECOND:"当前 秒",DATE_CHECK_DATE_IS_EQUAL:"%1 与 %2 是否相等",DATE_GET_DATE_MINUS_OPERATION:"%1 减去 %2 的 %3",DATE_PICKER_ON_SELECT_DONE:"%1 当 %2 完成选择时 %3 %4 %5 %6 %7",DATE_PICKER_OPEN_SELECT_DIALOG:"调用 %1 进行选择",DATE_PICKER_GET_DATE:"%1 的日期",TIME_PICKER_ON_SELECT_DONE:"%1 当 %2 完成选择时 %3 %4 %5 %6 %7",TIME_PICKER_OPEN_SELECT_DIALOG:"调用 %1 进行选择",TIME_PICKER_GET_TIME:"%1 的时间",HTTP_CLIENT_ON_SUCCESS:"%1 当 %2 获得文本时 %3 %4 %5 %6",HTTP_CLIENT_ON_SUCCESS_TOOLTIP:"请求成功时触发该事件，返回内容存储在“文本内容”积木中。",HTTP_CLIENT_ON_ERROR:"%1 当 %2 出错时 %3 %4 %5 %6",HTTP_CLIENT_ON_ERROR_TOOLTIP:"请求失败时触发该事件，错误原因存储在“错误消息”积木中。",HTTP_CLIENT_SET_URL:"设置 %1 的网址为 %2",HTTP_CLIENT_SET_HEADER:"设置 %1 的请求头为 %2",HTTP_CLIENT_SEND_WITH_GET_REQUEST:"调用 %1 发送 GET 请求",HTTP_CLIENT_SEND_WITH_GET_REQUEST_TOOLTIP:"如果使用的api接口的调用方式为get，则设置好网址和请求参数后，使用该积木发送get请求。",HTTP_CLIENT_SEND_WITH_POST_REQUEST:"调用 %1 发送 POST 请求，文本为 %2",HTTP_CLIENT_SEND_WITH_POST_REQUEST_TOOLTIP:"如果使用的api接口的调用方式为post，则设置好网址和请求文本后，使用该积木发送post请求。",HTTP_CLIENT_GET_URL:"%1 的网址",HTTP_CLIENT_STATUS:"响应代码",HTTP_CLIENT_RESPONSE:"文本内容",HTTP_CLIENT_ERROR_STATUS:"错误代码",HTTP_CLIENT_ERROR_RESPONSE:"错误消息",HTTP_CLIENT_SEND_DELETE_REQUEST:"调用 %1 发送 DELETE 请求",HTTP_CLIENT_SEND_PUT_REQUEST:"调用 %1 发送 PUT 请求，文本为 %2",HTTP_CLIENT_SEND_PATCH_REQUEST:"调用 %1 发送 PATCH 请求，文本为 %2",SOUND_MAN:"男声",SOUND_WOMAN:"女声",SOUND_CHILD:"童声",SOUND_VOLUME:"音量",SOUND_RATE:"音速",AUDIO_PLAY_SOUND:"播放 %1",AUDIO_STOP_SOUND:"停止 %1",AUDIO_PAUSE_SOUND:"暂停 %1",AUDIO_SET_SOUND_FILE:"设置 %1 的音源为 %2",AUDIO_SET_VOLUME_OR_RATE:"设置 %1 %2 大小为 %3",AUDIO_CHANGE_VOLUME_OR_RATE:"设置 %1 %2 %3 %4",TEXT2SPEECH_SPEAK_TEXT:"%1 朗读 %2",TEXT2SPEECH_SPEAK_TEXT_AND_WAIT:"%1 朗读 %2 直到结束",TEXT2SPEECH_DEFAULT_TEXT:"你好",CAMERA_PHOTO:"照片",CAMERA_VIDEO:"视频",CAMERA_SET_CAMERA_DIRECTION:"设置相机为 %1 摄像头",CAMERA_GET_CAMERA_TAKE_PHOTO:"调用相机拍照，当完成时返回 %1 %2",CAMERA_GET_CAMERA_TAKE_VIDEO:"调用相机录像，当完成时返回 %1 %2",CAMERA_GET_CAMERA_CHOOSE_PHOTO:"打开相册进行选择，当完成时返回 %1 %2",TEXT_WIDGET_ON_PRESS:"%1 当 %2 被点击时 %3 %4",TEXT_WIDGET_GET_PROPERTY:"%1 的 %2",TEXT_WIDGET_GET_CONTENT:"%1 的 文本",TEXT_WIDGET_SET_PROPERTY:"设置 %1 的 %2 为 %3",TEXT_WIDGET_SET_ALIGN:"设置 %1 的 %2 为",TEXT_WIDGET_SET_CONTENT:"设置 %1 的 文本 为 %2",TEXT_WIDGET_SET_FONT_SIZE:"设置 %1 的 字号 为 %2",TEXT_WIDGET_GET_FONT_SIZE:"%1 的 字号",TEXT_WIDGET_HORIZONTAL_ALIGN:"水平对齐",TEXT_WIDGET_VERTICAL_ALIGN:"垂直对齐",BUTTON_ON_PRESS:"%1 当按钮 %2 被 %3 %4 %5",BUTTON_SET_CONTENT:"设置 %1 的文本为 %2",BUTTON_SET_COLOR:"设置 %1 的颜色为 %2",BUTTON_SET_SIZE_TYPE:"设置 %1 的尺寸大小为 %2",BUTTON_SET_MODE:"设置 %1 的样式为 %2",BUTTON_GET_COLOR:"%1 的颜色",BUTTON_GET_CONTENT:"%1 的文本",BUTTON_CONTAINED_TEXT:"底色白字",BUTTON_OUTLINED_TEXT:"白底彩字",BUTTON_CONTAINED_ICON:"底色图标",BUTTON_OUTLINED_ICON:"白底图标",BUTTON_DEFAULT_TEXT:"按钮",INPUT_ON_FOCUS:"%1 当输入框 %2 获取焦点时 %3 %4",INPUT_ON_BLUR:"%1 当输入框 %2 失去焦点时 %3 %4",INPUT_ON_CHANGE:"%1 当输入框 %2 的内容改变时 %3 %4",INPUT_SET_INPUT_CONTENT:"设置 %1 的 %2 为 %3",INPUT_SET_MODE:"设置 %1 的 样式为 %2",INPUT_SET_COLOR:"设置 %1 的 颜色 %2",INPUT_SET_POSITION:"设置 %1 的 %2 为",INPUT_SET_SIZE:"设置 %1 的 尺寸 %2",INPUT_GET_COLOR:" %1 的 颜色",INPUT_GET_CONTENT:"%1 的 %2",INPUT_GET_POSITION:"%1 的 %2",INPUT_ASSERT_STATE:"%1 是否 %2",INPUT_GET_HAS_ERROR_MESSAGE:"%1 是否 报错",INPUT_GET_PROPERTY:"%1 的 %2",INPUT_ERROR_TIPS:"%1 %2 报错提示",INPUT_OUTLINED_NORMAL:"线框",INPUT_CONTAINED_NORMAL:"底色",INPUT_CONTAINED_ROUND:"圆角",INPUT_OUTLINED_FLAT:"横线",INPUT_CONTENT:"输入文案",INPUT_PLACEHOLDER:"提示文案",INPUT_ERROR_MESSAGE:"报错文案",INPUT_REPORT_ERROR:"报错",INPUT_DEFAULT_ERROR_MESSAGE:"输入错误",INPUT_DEFAULT_VALUE:"输入框内容",INPUT_DEFAULT_PLACEHOLDER:"提示语内容",LOCAL_STORAGE_GET_ALL_FIELD_KEYS:"%1 的所有键",LOCAL_STORAGE_GET_KEY_VALUE_COUNT:"%1 键的总数",LOCAL_STORAGE_ASSERT_KEY_IN:"键 %1 存在于 %2",LOCAL_STORAGE_SET_VALUE_BY_KEY:"设置 %1 键 %2 的值为 %3",LOCAL_STORAGE_SET_VALUE_BY_KEY_TOOLTIP:"如果数据库中存在该键，则修改键的值。\n如果不存在，则新增一个键值对。",LOCAL_STORAGE_GET_VALUE_BY_KEY:"%1 键 %2 的值",LOCAL_STORAGE_CLEAR_ALL_DATA:"清空 %1",LOCAL_STORAGE_DELETE_ITEM:"删除 %1 的键 %2",NEW_LOCAL_STORAGE_GET_ALL_FIELD_KEYS:"%1%2 的所有键",CLOUD_STORAGE_ON_ERROR:"%1 当 %2 出错时 %3 %4 %5 %6",CLOUD_STORAGE_ON_ERROR_TOOLTIP:"当新增、修改、删除、获取数据库的键值对出现错误时，触发该事件，错误原因存储在“错误消息”积木中。",CLOUD_STORAGE_SET_VALUE_BY_KEY:"%1 设置 %2 %3 的值为 %4, 失败时返回 %5",CLOUD_STORAGE_SET_VALUE_BY_KEY_TOOLTIP:"如果云数据库中存在该键，则修改键的值。\n如果不存在，则新增一个键值对。",CLOUD_STORAGE_GET_ALL_FIELD_KEYS:"%1 %2  的所有键, 失败时返回 %3",CLOUD_STORAGE_GET_KEY_VALUE_COUNT:"%1 %2 的键值对个数, 失败时返回 %3",CLOUD_STORAGE_ASSERT_KEY_IN:"%1 键 %2 是否存在于 %3, 失败时返回 %4",CLOUD_STORAGE_GET_VALUE_BY_KEY:"%1 %2 中键为 %3 的值, 失败时返回 %4",CLOUD_STORAGE_CLEAR_ALL_DATA:"%1 清空 %2 所有键值对, 失败时返回 %3",CLOUD_STORAGE_DELETE_ITEM:"%1 删除 %2 的 %3 和值, 失败时返回 %4",CLOUD_STORAGE_CANNOT_REMOVED_ITEM:"无法删除键和值",CLOUD_STORAGE_CANNOT_SET_ITEM:"无法设置该值",CLOUD_STORAGE_CANNOT_CLEAR:"无法清空所有键值对",CLOUD_STORAGE_CANNOT_GET_ITEM:"无法获取值",CLOUD_STORAGE_CANNOT_GET_ITEM_COUNT:"无法获取键值对个数",CLOUD_STORAGE_CANNOT_GET_ALL_ITEM:"无法获取所有键",CLOUD_STORAGE_CANNOT_ASSERT_KEY:"无法判断键是否存在",CLOUD_STORAGE_PARAM_ERROR_TYPE:"错误类型",CLOUD_STORAGE_PARAM_ERROR_MESSAGE:"错误信息",IMAGE_ON_PRESS:"%1当 %2 被点击时 %3 %4",IMAGE_SET_PROPERTY:"设置 %1 的 %2 为 %3",IMAGE_GET_PROPERTY:"%1 的 %2",IMAGE_GET_FILE_ID:"%1 的 图片",IMAGE_SET_FIELD_ID:"设置 %1 图片为 %2",IMAGE_GET_FILE_ID_TOOLTIP:"返回图片名称或链接。",IMAGE_SET_FIELD_ID_TOOLTIP:"设置图片显示的图片，可以嵌入项目内图片资源的名称或网络图片的链接。",CANVAS_CLEAR_ALL_BRUSH:"清除 %1 的 笔迹",CANVAS_TO_DATA_URL:"保存 %1 为图片",CANVAS_SET_VISIBLE:"%2 %1",CANVAS_SET_PROPERTY:"设置 %1 的 %2 为 %3",CANVAS_SET_BACKGROUND_COLOR:"设置 %1 的 背景颜色 为 %2",CANVAS_SET_BACKGROUND_IMAGE:"设置 %1 的 背景图片 为 %2",CANVAS_GET_PROPERTY:"%1 的 %2",CANVAS_GET_BACKGROUND_COLOR:"%1 的 背景颜色",CANVAS_GET_BACKGROUND_IMAGE:"%1 的 背景图片",CANVAS_ON_CANVAS_PRESS_MSG0:"%1 当 %2 被 %3 时 %4 %5",CANVAS_ON_CANVAS_PRESS_MSG1:"%1",CANVAS_ON_CANVAS_SWIPE:"%1 当 %2 被 划过时",CANVAS_CHECK_IF_PRESSED:"%1 被 按住",PARAM_POSITION_X:"X坐标",PARAM_POSITION_Y:"Y坐标",BRUSH:"画笔",BRUSH_SET_PEN_UP:"%1 抬笔",BRUSH_SET_PEN_DOWN:"%1 落笔",PEN_UP:"抬笔",PEN_DOWN:"落笔",BRUSH_SET_PEN_UP_OR_DOWN:"%1 %2",BRUSH_DRAW_POINT:"%1 画点：x %2 y %3",BRUSH_DRAW_LINE:"%1 画线：x1 %2 y1 %3 x2 %4 y2 %5",BRUSH_DRAW_CIRCLE:"%1 画圆：半径 %2",BRUSH_DRAW_ARC:"%1 画弧：半径 %2 角度 %3",BRUSH_DRAW_POLYGON:"%1 画 %2 边形：边长 %3",BRUSH_SET_COLOR:"设置 %1 的 颜色 为 %2",BRUSH_SET_FILL_COLOR:"设置 %1 的 填充色 为 %2",BRUSH_SET_FILL_PATH:"设置 当前 为 %1 填充 %2",POINT_START:"起点",POINT_END:"终点",BRUSH_SET_PROPERTY:"设置 %1 的 %2 为 %3",BRUSH_SET_PEN_SIZE:"设置 %1 的 粗细 为 %2",BRUSH_CHANGE_PEN_SIZE:"将 %1 的 粗细 %2 %3",BRUSH_CHANGE_PROPERTY:"将 %1 的 %2 %3 %4",BRUSH_GET_PROPERTY:"%1 的 %2",BRUSH_GET_DRAW_PROCESS:"%1 是否开启 绘画过程",BRUSH_GET_COLOR:"%1 的 颜色",BRUSH_GET_PEN_SIZE:"%1 的 粗细",BRUSH_MOVE_FORWARD:"%1 移动 %2 步",BRUSH_MOVE_FORWARD_OR_BACKWARD:"%1 %2 移动 %3 像素",FORWARD:"向前",BACKWARD:"向后",BRUSH_ROTATE:"%1 旋转 %2 度",ROTATE_LEFT:"向左",ROTATE_RIGHT:"向右",BRUSH_ROTATE_LEFT_OR_RIGHT:"%1 %2 旋转 %3 度",BRUSH_SET_ROTATION:"设置 %1 的 方向 为 %2 度",BRUSH_GET_ROTATION:"%1 的 方向",BRUSH_FACE_TO:"%1 面向 %2",BRUSH_MOVE_TO_POSITION:"%1 移动到 x %2 y %3",BRUSH_MOVE_TO:"%1 移动到 %2",BRUSH_CHANGE_POSITION:"将 %1 的 %2 %3 %4",BRUSH_CHANGE_POSITION_IN_TIME:"在 %2 秒内，%1 移动到 x %3 y %4",BRUSH_CHANGE_POSITION_TYPE_IN_TIME:"在 %2 秒内，将 %1 的 %3 %4 %5",BRUSH_CHANGE_Z_INDEX:"将 %1 移至 %2",INDEX_UP:"上一层",INDEX_DOWN:"下一层",INDEX_TOP:"最上层",INDEX_BOTTOM:"最底层",ACTOR:"角色",TOUCH_POINT:"触碰点",BOUNDARY:"边缘",BOUNDARY_TOP:"上边缘",BOUNDARY_RIGHT:"右边缘",BOUNDARY_BOTTOM:"下边缘",BOUNDARY_LEFT:"左边缘",BOUNDARY_ANY:"画布边缘",SCALE_A:"比例大小",SCALE_X:"宽度比例",SCALE_Y:"高度比例",RANDOM:"随机",SCALE:"大小",DEGREE:"角度",FADE_IN:"逐渐显示",FADE_OUT:"逐渐隐藏",PLAY_CIRCULARLY:"循环",PLAY_INFINITELY:"无限循环",PLAY_TIME:"次",ACTOR_STOP_ACTION:"停止 %1 的 动作播放",ACTOR_PLAY_ACTION:"播放 %1 的 %2 间隔 %3 毫秒，%4",ACTOR_PLAY_ACTION_AND_WAIT:"播放 %1 的 %2 间隔 %3 毫秒，循环 %4 次， 直到结束",ACTOR_PLAY_COUNT:"%1",ACTOR_ON_ACTOR_BUMP_MSG0:"%1 当 %2 碰到 %3 时",ACTOR_ON_ACTOR_BUMP_MSG1:"%1",ACTOR_ON_ACTOR_LEAVE_MSG0:"%1 当 %2 离开 %3 时",ACTOR_ON_ACTOR_LEAVE_MSG1:"%1",ACTOR_ON_ACTOR_PRESS_MSG0:"%1 当 %2 被 %3 时 %4 %5",ACTOR_ON_ACTOR_PRESS_MSG1:"%1",ACTOR_ROTATE:"%1 旋转 %2 度",ACTOR_MOVE_FORWARD:"%1 移动 %2 像素",ACTOR_SET_PROPERTY:"设置 %1 的 %2 为 %3",ACTOR_SET_ROTATION:"设置 %1 的 方向 为 %2 度",ACTOR_FACE_TO:"%1 面向 %2",ACTOR_ROTATE_AROUND:"%1 绕 %2 旋转 %3 度",ACTOR_MOVE_TO_POSITION:"%1 移动到 x %2 y %3",ACTOR_MOVE_TO:"%1 移动到 %2",ACTOR_CHANGE_POSITION:"将 %1 的 %2 %3 %4",ACTOR_CHANGE_POSITION_TYPE_IN_TIME:"在 %2 秒内，将 %1 的 %3 %4 %5",ACTOR_CHANGE_POSITION_IN_TIME:"在 %2 秒内，%1 移动到 x %3 y %4",ACTOR_SET_VISIBLE:"%2 %1",ACTOR_SHOW_HIDE_IN_TIME:"在 %2 秒内，%3 %1",ACTOR_CHANGE_OPACITY:"将 %1 的 不透明度 %2 %3",ACTOR_SET_SCALE:"设置 %1 的 大小 为 %2",ACTOR_CHANGE_SCALE:"将 %1 的 大小 %2 %3",ACTOR_SET_SCALE_WITH_SECTION:"设置 %1 的 %2 为 %3",ACTOR_CHANGE_SCALE_WITH_SECTION:"将 %1 的 %2 %3 %4",ACTOR_GET_SCALE_WITH_SECTION:"%1 的 %2",ACTOR_SET_FLIPPED:"%1 %2",ACTOR_CHECK_IF_FLIPPED:"%1 是否 %2",ACTOR_GET_PROPERTY:"%1 的 %2",ACTOR_MOVE_Z_INDEX:"%1 移至 %2",ACTOR_PREVIOUS_NEXT_STYLE:"切换 %1 的 %2 造型",ACTOR_SET_CURRENT_STYLE:"设置 %1 的 造型 为 %2 %3",ACTOR_SET_CURRENT_ACTION_TOOLTIP:"嵌入为“字符串”类型：按“动作名称”检索。",ACTOR_SET_CURRENT_STYLE_TOOLTIP:"嵌入为“数字”类型：按“造型编号”检索。",ACTOR_TALK:"对话",ACTOR_THINK:"思考",ACTOR_SHOW_DIALOG:"%1 %2 %3",ACTOR_SHOW_DIALOG_IN_TIME:"%1 %2 %3 持续 %4 秒",ACTOR_STYLE:"造型编号",ACTOR_GET_STYLE_INDEX:"%1 的 造型编号",ACTOR_GET_ACTION_NAME:"%1 的 动作名称",ACTOR_GET_ROTATION:"%1 的 方向",ACTOR_NEXT_ONE:"下一个",ACTOR_PREVIOUS_ONE:"上一个",ACTOR_CHECK_IF_PRESSED:"%1 被 按住",ACTOR_CHECK_IF_BUMPED:"%1 碰到 %2",ACTOR_CHECK_IF_LEFT:"%1 离开 %2",RADIO_ON_SELECTED:"%1 当 %2 被选中时%3 %4 %5 %6",RADIO_ON_SELECTED_TOOLTIP:"选中项：被选中选项的序号，数字类型\n选中内容：被选中选项的文本内容，字符串类型",RADIO_SET_HEADLINE:"设置 %1 的题干内容为 %2",RADIO_SET_OPTION_COUNT:"设置 %1 的选项数量为 %2",RADIO_SET_OPTION_CONTENT:"设置 %1 第 %2 项的内容为 %3",RADIO_SET_OPTION_SELECTED_OR_DISABLED:"%1 %2 第 %3 项",RADIO_CLEAR_SELECTED:"清空 %1 所有选项状态",RADIO_CLEAR_SELECTED_TOOLTIP:"取消选中当前选中项。",RADIO_SET_OPTION_FEEDBACK:"设置 %1 第 %2 项的反馈为 %3",RADIO_SET_OPTION_FEEDBACK_TOOLTIP:"如果某一项为正确选项，则设置反馈为正确，当前选项会变为绿色，出现√。\n如果某一项为错误选项，则设置反馈为错误，当前选项会变为红色，出现\xd7。",RADIO_CLEAR_FEEDBACK:"清空 %1 所有选项的反馈",RADIO_CLEAR_FEEDBACK_TOOLTIP:"清除所有选项正确和错误的样式反馈。",RADIO_DELETE_OPTION:"删除 %1 第 %2 项",RADIO_PUSH_OPTION:"添加选项 %1 到 %2 的末尾",RADIO_SET_WIDGET_POSITION:"设置 %1 的 %2 为 %3",RADIO_GET_SELECTED_OPTION_INDEX:"%1 的选中项",RADIO_GET_SELECTED_OPTION_INDEX_TOOLTIP:"返回被选中选项的序号",RADIO_GET_SELECTED_OPTION_CONTENT:"%1的选中项内容",RADIO_GET_SELECTED_OPTION_CONTENT_TOOLTIP:"返回被选中选项的文本内容",RADIO_GET_OPTION_CONTENT_BY_INDEX:"%1 第 %2 项的内容",RADIO_GET_HEADLINE:"%1 的题干内容 ",RADIO_GET_PROPERTY:"%1 的 %2",RADIO_PARAM_SELECTED_INDEX:"选中项",RADIO_PARAM_SELECTED_CONTENT:"选中项内容",SELECTED:"选中",OPTION_COUNT:"项数",CORRECT:"正确",INCORRECT:"错误",UNSELECTED:"取消选中",CHECKBOX_ON_SELECTED:"%1 当 %2 被 %3 时 %4 %5 %6 %7",CHECKBOX_ON_SELECTED_TOOLTIP:"选中项列表：被选中所有选项的序号，列表类型\n选中内容列表：被选中所有选项的文本内容，列表类型",CHECKBOX_ON_CHANGE:"%1 当 %2 选项状态发生改变时 %3 %4 %5 %6",CHECKBOX_ON_CHANGE_TOOLTIP:"某一项被选中或取消选中时都会触发该事件。\n改变项：被选中或被取消的选项序号\n改变结果：值为真(true)时表示该项被选中，值为假(false)时表示该项被取消选中",CHECKBOX_SET_HEADLINE:"设置 %1 的题干内容为 %2",CHECKBOX_SET_OPTION_COUNT:"设置 %1 的选项数量为 %2",CHECKBOX_SET_OPTION_CONTENT:"设置 %1 第 %2 项内容为 %3",CHECKBOX_SET_OPTION_STATE:"%1 %2 第 %3 项",CHECKBOX_CLEAR_SELECTED:"清空 %1 所有选项状态",CHECKBOX_CLEAR_SELECTED_TOOLTIP:"取消多选框所有选项的选中状态。",CHECKBOX_SET_OPTION_FEEDBACK:"设置 %1 第 %2 项的反馈为 %3",CHECKBOX_SET_OPTION_FEEDBACK_TOOLTIP:"如果某一项为正确选项，则设置反馈为正确，当前选项会变为绿色，出现√。\n如果某一项为错误选项，则设置反馈为错误，当前选项会变为红色，出现\xd7。",CHECKBOX_CLEAR_FEEDBACK:"清空 %1 所有选项的反馈",CHECKBOX_CLEAR_FEEDBACK_TOOLTIP:"清除所有选项正确和错误的样式反馈。",CHECKBOX_DELETE_OPTION:"删除 %1 第 %2 项",CHECKBOX_PUSH_OPTION:"添加选项 %1 到 %2 的末尾",CHECKBOX_SET_WIDGET_POSITION:"设置 %1 的 %2 为 %3",CHECKBOX_GET_SELECTED_OPTION_INDEX:"%1 的选中项列表",CHECKBOX_GET_SELECTED_OPTION_INDEX_TOOLTIP:"返回被选中所有选项的序号，列表类型",CHECKBOX_GET_SELECTED_OPTION_CONTENT:"%1 的选中内容列表",CHECKBOX_GET_SELECTED_OPTION_CONTENT_TOOLTIP:"返回被选中所有选项的文本内容，列表类型",CHECKBOX_GET_OPTION_CONTENT_BY_INDEX:"%1 第 %2 项的内容",CHECKBOX_GET_HEADLINE:"%1 的题干内容 ",CHECKBOX_GET_PROPERTY:"%1 的 %2",CHECKBOX_PARAM_SELECTED_INDEX_LIST:"选中项列表",CHECKBOX_PARAM_SELECTED_CONTENT_LIST:"选中内容列表",CHECKBOX_PARAM_SELECTED_INDEX:"改变项",CHECKBOX_PARAM_SELECTED_RESULT:"改变结果",WEBVIEW_ON_START_LOAD:"%1 当 %2 开始加载时 %3 %4",WEBVIEW_ON_LOADED:"%1 当 %2 加载完成时 %3 %4",WEBVIEW_ON_LOAD_ERROR:"%1 当 %2 加载失败时 %3 %4",WEBVIEW_SET_URL:"设置 %1 的网址为 %2",WEBVIEW_REFRESH:"重新加载 %1",WEBVIEW_GET_URL:"%1 的网址",WEBVIEW_GET_PROPERTY:"%1 的 %2",SWITCH_ON_STATE_CHANGE:"%1 当 %2 状态发生改变时 %3 %4 %5",SWITCH_SET_STATE:"设置 %1 的状态为 %2",SWITCH_SET_POSITION:"设置 %1 的 %2 为 %3",SWITCH_GET_STATE:"%1 的状态",SWITCH_GET_POSITION:"%1 的 %2",SWITCH_PARAM_STATE:"状态",SLIDER_ON_CHANGE:"%1 当 %2 滑块位置改变时 %3 %4 %5",SLIDER_ON_SLIDE_START_AND_END:"%1 当 %2 %3 时 %4 %5 %6",SLIDER_SET_VALUE:"设置 %1 的 %2 为 %3",SLIDER_SET_SLIDE_VALUE:"设置 %1 的 滑块位置 为 %2",SLIDER_SET_PROPERTY:"设置 %1 的 %2 为 %3",SLIDER_GET_VALUE:"%1 的 滑块位置",SLIDER_GET_SLIDE_VALUE:"%1 的 滑块位置",SLIDER_GET_PROPERTY:"%1 的 %2",SLIDER_START_TO_SLIDE:"开始滑动",SLIDER_END_TO_SLIDE:"结束滑动",SLIDER_MAX_VALUE:"最大值",SLIDER_MIN_VALUE:"最小值",SLIDER_VALUE:"滑块位置",SLIDER_PARAM_VALUE:"滑块位置",ROOM_CREATE_ROOM:"创建房间 %1 房间人数 %2 %3 %4",ROOM_FAILED_TEXT:"失败则执行",ROOM_SUCCESS_TEXT:"成功则执行",ROOM_DEFAULT_ROOM_NAME:"房间名",ROOM_USERS:"房间人数",ROOM_LIST:"房间名称列表",ROOM_DEFAULT_CREATE_ERROR:"失败原因",ROOM_DEFAULT_NICKNAME:"昵称",ROOM_CREATE_NICKNAME:"设置我在房间的昵称 %1 %2 %3",ROOM_GET_ROOM_LIST:"获取房间列表 %1 %2 %3",ROOM_ENTER_ROOM:"进入房间 %1 %2 %3",ROOM_SEND_MESSAGE:"发送房间信息 %1",ROOM_RECEIVE_MESSAGE:"%1 当收到房间消息  %2 %3 %4",ROOM_ENTER:"进入房间",ROOM_EXIT:"退出房间",ROOM_RECEIVE_ROOM_INFO:"%1 当收到房间通知  %2 %3 %4 %5",ROOM_EXIT_ROOM:"退出房间",ROOM_NETWORK_ERROR:"%1 当发生错误%2 %3 %4",ROOM_GET_ONLINE_USERS:"房间人员列表",ROOM_NAME:"房间名",ROOM_USER_NAME:"用户名",ROOM_MESSAGE:"消息",ROOM_ERROR_INFO:"错误信息",ROOM_CURRENT_ROOM_NAME:"当前进入的房间名",ROOM_CURRENT_ROOM_USERS:"当前进入的房间人员列表",LIST_VIEWER_ON_PRESS:"%1 当 %2 被点击时 %3 %4 %5",LIST_VIEWER_SET_PROPERTY:"设置 %1 的 %2 为 %3",LIST_VIEWER_SET_DATA_SOURCE:"设置 %1 的数据源为 %2",LIST_VIEWER_GET_PROPERTY:"%1 的 %2",LIST_VIEWER_GET_DATA_SOURCE:"%1 的数据源",LIST_VIEWER_CHILD_WIDGET_ON_PRESS:"%1 当 %2 的 %3 被点击时 %4 %5 %6",LIST_VIEWER_CHILD_WIDGET_BIND_COLUMN:"将 %1 的 %2 绑定 %3",LIST_VIEWER_CHILD_WIDGET_SET_ATTRIBUTES:"设置 %1 第 %2 行 %3 的 %4 为 %5",LIST_VIEWER_CHILD_WIDGET_SET_FONT_SIZE:"设置 %1 第 %2 行 %3 的字号为 %4",LIST_VIEWER_CHILD_WIDGET_GET_ATTRIBUTES:"%1 第 %2 行 %3 的 %4",LIST_VIEWER_CHILD_WIDGET_GET_FONT_SIZE:"%1 第 %2 行 %3 的字号",LIST_VIEWER_ROW_INDEX:"行数",WIDGET_OF:"的",WIDGET_GET_MSG:"%1 %2",WIDGET_SET:"设置",WIDGET_SET_MSG:"%1 %2",WIDGET_SET_TO:"为",WIDGET_EVENT_MSG:"%1 当 %2 %3",WIDGET_EVENT_SUFFIX:"时",WIDGET_EVENT_PARAM_MSG:"%1",WIDGET_METHOD_MSG:"%1",WIDGET_METHOD_CALL_MSG:"调用",WIDGET_COLOR_MSG:"%1",WIDGET_BOOLEAN_MSG:"%1",WIDGET_BOOLEAN_TRUE:"是",WIDGET_BOOLEAN_FALSE:"否",WIDGET_OPACITY:"不透明度",WIDGET_VISIBLE:"是否 显示",WIDGET_DISABLED:"是否 启用",CLOUD_DB_QUERY_BY_COLUMN_RESULT:"查询结果",CLOUD_DB_QUERY_BY_COUNT_RESULT:"查询结果",CLOUD_DB_ERROR_NAME:"错误数据库名称",CLOUD_DB_ERROR_INFO:"错误信息",CLOUD_DB_ERROR:"%1 当 云数据库出错时 %2 %3 %4 %5",CLOUD_DB_INSERT:"新增行 %1 到 %2 %3 %4 %5",CLOUD_DB_DELETE:"删除 %1 中满足条件 %2 %3 %4 的行 %5 %6 %7",CLOUD_DB_UPDATE:"更新 %1 中满足条件 %2 %3 %4 的行 %5 为 %6 %7 %8",CLOUD_DB_QUERY_BY_COLUMN:"查询 %1 中满足条件 %2 %3 %4 的数据 %5 %6 %7",CLOUD_DB_ASC:"升序",CLOUD_DB_DESC:"降序",CLOUD_DB_QUERY_BY_COUNT:"查询 %1 的 %2 %3 %4 %5",CLOUD_DB_ROW:"行数",CLOUD_DB_COLUMN:"列数",CLOUD_DB_FAIL_RESULT:"失败原因",TABLE_DATA_ON_CHANGE:"%1 当 %2 数据发生变动时 %3 %4 ",TABLE_DATA_ON_ERROR:"%1 当 数据表出错时 %2 %3 %4 %5",TABLE_DATA_PARAM_ERROR_WIDGET_TITLE:"错误数据表名称",TABLE_DATA_PARAM_ERROR_MESSAGE:"错误信息",TABLE_DATA_SET_VALUE_BY_ROW_AND_COLUMN:"替换 %1 列:%2 行:%3 的值为 %4",TABLE_DATA_INSERT_ROW_DATA:"插入行 %1",TABLE_DATA_DELETE_ROW_DATA:"删除 %1 %2",TABLE_DATA_CLEAR_DATA:"清空 %1",TABLE_DATA_GET_VALUE_BY_ROW_AND_COLUMN:"%1 列:%2 行:%3 的值",TABLE_DATA_GET_ROW_LENGTH:"%1 的总行数",TABLE_DATA_GET_COLUMN_DATA:"%1 %2 的 %3",TABLE_DATA_GET_ROW_DATA:"%1 %2 的 %3",LAST_ROW:"最后一行",ALL_ROW:"所有行",ROW:"行",COLUMN:"列",EVENT_ADD:"新增",EVENT_SETTER:"设置",EVENT_DELETE:"删除",EVENT_QUERY:"查询",EVENT_CLEAR:"清空",ERROR_INFO:"错误信息",QUERY_RESULT:"查询结果",FAIL_RESULT:"失败原因",ALL_KEYS_RESULT:"%1 查询结果",CLOUD_SPACE_DICT_ON_ERROR:"%1 当 %2 %3 出错时 %4 %5 %6",CLOUD_SPACE_DICT_ON_ERROR_TOOLTIP:"捕获云字典积木执行时的错误信息。",CLOUD_SPACE_DICT_SET_KEY_VALUE:"设置 %1 键 %2 的值为 %3 %4 %5 %6",CLOUD_SPACE_DICT_SET_KEY_VALUE_TOOLTIP:"输入已有键名则修改其值，输入新的键名则直接新建一个键值对。",CLOUD_SPACE_DICT_DELETE_KEY:"删除 %1 的键 %2 %3 %4 %5",CLOUD_SPACE_DICT_DELETE_KEY_TOOLTIP:"删除云字典中某个键值对，不可撤销。",CLOUD_SPACE_DICT_GET_VALUE_BY_KEY:"查询 %1 中 键为 %2 的值 %3 %4 %5",CLOUD_SPACE_DICT_GET_VALUE_BY_KEY_TOOLTIP:"查询云字典某个键的值。",CLOUD_SPACE_DICT_GET_KEY_COUNT:"查询 %1 键的总数 %2 %3 %4",CLOUD_SPACE_DICT_GET_KEY_COUNT_TOOLTIP:"查询云字典键值对个数。",CLOUD_SPACE_DICT_GET_ALL_KEYS:"查询 %1 所有键名 %2 %3 %4",CLOUD_SPACE_DICT_GET_ALL_KEYS_TOOLTIP:"查询云字典所有键名，返回列表结构。",CLOUD_SPACE_DICT_CLEAR_DATA:"清空 %1 %2 %3 %4",CLOUD_SPACE_DICT_CLEAR_DATA_TOOLTIP:"清空云字典所有数据，不可撤销。",CLOUD_TABLE_EVENT_ADD:"新增",CLOUD_TABLE_EVENT_SETTER:"替换",CLOUD_TABLE_EVENT_DELETE:"删除",CLOUD_TABLE_EVENT_QUERY:"查询",CLOUD_TABLE_EVENT_CLEAR:"清空",CLOUT_TABLE_FAILED_TEXT:"失败则执行",CLOUD_TABLE_QUERY_BY_COLUMN_LIST_RESULT:"%1查询结果",CLOUD_TABLE_QUERY_BY_COLUMN_LINE_NUMBER_RESULT:"%1行号列表",CLOUD_TABLE_QUERY_BY_COLUMN_RESULT:"查询结果",CLOUD_TABLE_QUERY_BY_COUNT_RESULT:"查询结果",CLOUD_TABLE_ERROR_NAME:"错误云数据表名称",CLOUD_TABLE_ERROR_INFO:"错误信息",CLOUD_TABLE_ERROR:"%1 当 %2 %3出错时 %4 %5 %6",CLOUD_TABLE_ERROR_TOOLTIP:"捕获云数据表积木执行时的错误信息。",CLOUD_TABLE_INSERT:"新增行 %1 到 %2 %3 %4 %5",CLOUD_TABLE_INSERT_TOOLTIP:"在云数据表最后一行新增数据：支持嵌入字符或列表数据，均以逗号为分列标识。",CLOUD_TABLE_DELETE:"删除 %1 中 %2 %3 %4 的行 %5 %6 %7",CLOUD_TABLE_DELETE_TOOLTIP:"删除云数据表中满足条件的行，不可撤销。",CLOUD_TABLE_UPDATE:"更新 %1 中 %2 %3 %4 的行： %5 为 %6 %7 %8",CLOUD_TABLE_UPDATE_TOOLTIP:"更新云数据表中满足条件的行，不可撤销。",CLOUD_TABLE_QUERY_BY_COLUMN:"查询 %1 中 %2 %3 %4 的数据 %5 %6 %7",CLOUD_TABLE_QUERY_BY_COLUMN_TOOLTIP:"查询云数据表满足条件的数据：返回列表结构，若有多个数据则返回二维列表。",CLOUD_TABLE_ASC:"升序",CLOUD_TABLE_DESC:"降序",CLOUD_TABLE_QUERY_BY_COUNT:"查询 %1 的 %2 %3 %4 %5",CLOUD_TABLE_QUERY_BY_COUNT_TOOLTIP:"查询云数据表的行数或列数。",CLOUD_TABLE_ROW:"行数",CLOUD_TABLE_COLUMN:"列数",CLOUD_TABLE_FAIL_RESULT:"失败原因",CLOUD_TABLE_CLEAR_ALL:"清空 %1 %2 %3 %4",CLOUD_TABLE_CLEAR_ALL_TOOLTIP:"清空云数据表所有数据，不可撤销。"}}},17438(e,t,n){n.d(t,{a:()=>o,b:()=>i,c:()=>_,d:()=>c,e:()=>u,f:()=>s});var r=n(32919),a=n(36303),i={PRIMITIVE:"PRIMITIVE",ARRAY:"ARRAY",OBJECT:"OBJECT",STORAGE:"STORAGE"};let o={NUMBER:{id:"category_number",label:"数字"},BOOL:{id:"category_bool",label:"布尔"},STRING:{id:"category_string",label:"字符"},CONDITION:{id:"category_condition",label:"条件"},CIRCLE:{id:"category_circle",label:"循环"},WAIT:{id:"category_wait",label:"等待"},CONSOLE:{id:"category_console",label:"控制台"}},_="-----",s={event:{id:"toolbox-event",text:"%{BKY_EVENT}",iconId:"icon-toolbox-event",blocks:["screen_on_open","screen_on_open_get_param","app_on_switch_background","new_screen_navigate_to","new_screen_navigate_to_by_value",_,"broadcast_on_receive","broadcast_send","broadcast_send_and_wait"]},control:{id:"toolbox-control",text:"%{BKY_CONTROL}",iconId:"icon-toolbox-control",blocks:[`<label type="${o.CONDITION.id}"></label>`,"controls_if",_,`<label type="${o.CIRCLE.id}"></label>`,"loop_conditionally","loop_finitely","loop_infinitely","controls_for_closed_range",_,"break_loop","continue_loop",_,`<label type="${o.WAIT.id}"></label>`,"sleep","wait_until",_,`<label type="${o.CONSOLE.id}"></label>`,"new_console_log"]},feature:{id:"toolbox-feature",text:"%{BKY_PHONE}",iconId:"icon-toolbox-feature",blocks:["phone_vibrate",_,"date_get_current_date","date_check_date_is_equal","date_get_date_minus_operation",_,"brightness_set_brightness","brightness_get_brightness","brightness_set_keep_screen_on",_,"phone_battery_level"]},operator:{id:"toolbox-operator",text:"%{BKY_OPERATOR}",iconId:"icon-toolbox-operation",blocks:[`<label type="${o.NUMBER.id}"></label>`,"math_shadow_number","math_operation","math_random_integer",_,"math_round","math_complex_operation","math_modulo","math_trig",_,"math_check_divisible","math_number_property",_,`<label type="${o.BOOL.id}"></label>`,"math_compare","logic_operation","logic_negate","logic_boolean",_,`<label type="${o.STRING.id}"></label>`,"text_shadow","text_join","text_get_length","text_split_text","text_slice","text_check_contain",_,"text_convert_type"]},primitive:{id:"toolbox-primitive",text:"%{BKY_PRIMITIVE}",iconId:"icon-toolbox-variable",blocks:[`<label type="${i.PRIMITIVE}" width="10" height="10" align="center"></label>`,"variables_get","variables_set","variables_change"]},array:{id:"toolbox-array",text:"%{BKY_ARRAY}",iconId:"icon-toolbox-list",blocks:[`<label type="${i.ARRAY}" width="10" height="10" align="center"></label>`,"array_get","array_create","lists_append","lists_insert_value","array_remove_item","lists_replace","array_copy",_,"array_get_item","array_get_length","lists_index_of","lists_is_exist",_,"array_foreach"]},object:{id:"toolbox-object",text:"%{BKY_OBJECT}",iconId:"icon-toolbox-object",blocks:[`<label type="${i.OBJECT}" width="10" height="10" align="center"></label>`,"object_get","object_create","object_set_item","object_delete_item","object_clear",_,"object_length","object_get_item","object_include_key"]},function:{id:"toolbox-function",text:"%{BKY_FUNCTION}",iconId:"icon-toolbox-function",blocks:"PROCEDURE"}};var u=function(){return r.O()},c=function(e){var t;for(var n in s)s[n].id===e&&(t=s[n].text);return t?a.b()[t.slice(6,-1)]:""}},43234(e,t,n){n.d(t,{E:()=>ek,An:()=>ek,Cn:()=>eD,En:()=>eL,Tn:()=>ex,wn:()=>eh,yn:()=>eN,On:()=>ev,Sn:()=>eB});var r={};n.r(r),n.d(r,{drop:()=>v,pick:()=>L});var a={};n.r(a),n.d(a,{addMallExtensionWidget:()=>k,addUnsafeExtensionWidget:()=>x,removeUnsafeExtensionWidget:()=>B});var i={};n.r(i),n.d(i,{drop:()=>G,pick:()=>w});var o={};n.r(o),n.d(o,{clientOp:()=>a,serverOp:()=>i});var _=n(11680),s=n(10097),u=n(67786),c=n(16651),l=n(28556),E=n(14605),p=n(75158),d=n(55831),T=n(2980),O=n(5762),f=n(26816),A=n(16699),I=n(71691),R=n(32919),y=n(51877),S=n(59994),m=n(34221),C=n(7452),b=n.n(C),g=n(94220),N=n(43222);function L(e){var t;(0,d.nn)(e.path)&&(t=e.path[1])&&A.h(y.Mf(t,void 0,!1))}function v(e){var t,n,r,a,i,o,_,s,u,c,l,E,p;(0,d.nn)(e.path)&&function(e){h.apply(this,arguments)}(e),2===(t=e.path).length&&"globalWidgetIds"===t[0]&&e.path,4===(n=e.path).length&&(0,d.tn)(n)&&"attributes"===n[2]&&(r=e.op,a=e.path,i=r.i,o=a[1],_=a[3],A.h(y.Lg(o,_,i,!1,!0,!1))),3===(s=e.path).length&&(0,d.tn)(s)&&(u=e.op,c=e.path,l=u.i,E=c[1],"title"===(p=c[2])?A.h(y.Ng(E,l,!1,!0,!1)):A.h(y.Lg(E,p,l,!1,!0,!1)))}function h(){return(h=m.a(b().mark(function e(t){var n,r,a,i,o,_,s,u,c,l,E;return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.op.i,!f.e(n.type)||R.Db(n.type)||!(i=null==(r=S.a.getDoc())||null==(a=r.extensionWidgetList)?void 0:a.find(function(e){return e.type===n.type}))){e.next=11;break}return o=i.cdnUrl,_=i.id,I.a(y.zh({title:O.c(O.b,"ExtensionWidget.loading").toString(),cancelBtnVisible:!1,confirmBtnVisible:!1})),e.next=9,T.u(o,_);case 9:(s=e.sent)&&(u=s.title,c=s.type,l=f.f(c,!0),I.a(y.Vg()),I.a(y.zh({title:O.c(O.b,"ExtensionWidget.finishRegistration",{title:u,type:l}).toString(),cancelBtnVisible:!1})));case 11:R.Ub(n.id,n),A.h(y.hf(n.id)),n.type===g.B||n.type===g.y?(E=n.attributes.fields,I.a(y.bf(N.a(n.type,{id:n.id,name:n.title,value:E,defaultValue:"no-use"},{isWatching:!1})))):n.type===g.G&&I.a(y.bf(N.a(g.G,{id:n.id,name:n.title,value:n.attributes.db,defaultValue:"no-use"},{isWatching:!1})));case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}var D=n(75083);async function x(e){let t=S.a.getDoc()?.unsafeExtensionWidgetList;if(void 0===t)return;let n=(()=>{for(let n=0;n<t.length;n++)if(t[n].type===e.type)return n;return -1})();if(-1!==n){let t=D.replaceOp(["unsafeExtensionWidgetList",n],!0,e);S.a.applyClient(t)}else{let n=D.insertOp(["unsafeExtensionWidgetList",t.length],e);S.a.applyClient(n)}}async function B(e){let t=S.a.getDoc()?.unsafeExtensionWidgetList;if(void 0===t)return;let n=t.findIndex(t=>t.type==e);if(-1===n)return;let r=D.removeOp(["unsafeExtensionWidgetList",n],!0);S.a.applyClient(r)}function k(e){return U.apply(this,arguments)}function U(){return(U=m.a(b().mark(function e(t){var n,r,a,i,o;return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(r=null==(n=S.a.getDoc())?void 0:n.extensionWidgetList)){e.next=3;break}return e.abrupt("return");case 3:a=function(){for(var e=0;e<r.length;e++)if(r[e].type===t.type)return e;return -1}(),i={id:t.id,cdnUrl:t.cdnUrl,type:t.type,version:t.version||0},-1===a&&(o=D.insertOp(["extensionWidgetList",r.length],i),S.a.applyClient(o));case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}var P=n(7683),M=n(27493);function w(e){let{path:t,op:n}=e;if(2!==t.length||"unsafeExtensionWidgetList"!==t[0]||!n.r)return;let r=t[1],a=S.a.getPreviousDoc()?.unsafeExtensionWidgetList;if(void 0===a)return;let{type:i}=a[r],o=(0,T.L)(i);M.ht(M.hY.EXTENSION,i),P.CY(i),(0,I.A)(y.H_H()),(0,I.A)(y.xqZ({title:O.GP(O.xC,"ExtensionWidget.finishRemove",{title:o,type:i}),cancelBtnVisible:!1}))}function G(e){var t,n;2===(t=e.path).length&&"unsafeExtensionWidgetList"===t[0]&&function(e){Y.apply(this,arguments)}(e),2===(n=e.path).length&&n[0]}function Y(){return(Y=m.a(b().mark(function e(t){var n,r,a,i,o,_,s;return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.path,!(n=t.op.i.code)){e.next=16;break}return I.a(y.zh({title:O.c(O.b,"ExtensionWidget.loading").toString(),cancelBtnVisible:!1,confirmBtnVisible:!1})),e.next=6,T.r(n,!1);case 6:a=(r=e.sent).types,i=r.widget,T.v({types:a,widget:i}),o=a.title,_=a.type,s=f.f(_,!1),P.a({type:_,types:a,code:n}),I.a(y.Rj()),I.a(y.Vg()),I.a(y.zh({title:O.c(O.b,"ExtensionWidget.finishRegistration",{title:o,type:s}).toString(),cancelBtnVisible:!1}));case 16:case"end":return e.stop()}},e)}))).apply(this,arguments)}var V={};Object.defineProperty(V,"addWidgetOp",{get:function(){return _.le}}),Object.defineProperty(V,"addInvisibleWidgetOp",{get:function(){return _.de}}),Object.defineProperty(V,"addBrushAndActorWidgetOp",{get:function(){return _.fe}}),Object.defineProperty(V,"deleteWidgetOp",{get:function(){return _.me}}),Object.defineProperty(V,"deleteInvisibleWidgetOp",{get:function(){return _.ge}}),Object.defineProperty(V,"replaceWidgetAttributeOp",{get:function(){return _._e}}),Object.defineProperty(V,"moveWidget",{get:function(){return _.ve}});var W={};Object.defineProperty(W,"pick",{get:function(){return s.Se}}),Object.defineProperty(W,"drop",{get:function(){return s.Ae}});var H={};Object.defineProperty(H,"clientOp",{get:function(){return V}}),Object.defineProperty(H,"serverOp",{get:function(){return W}});var K={};Object.defineProperty(K,"changeProjectProperty",{get:function(){return s.je}});var j={};Object.defineProperty(j,"pick",{get:function(){return s.Ne}}),Object.defineProperty(j,"drop",{get:function(){return s.Re}});var F={};Object.defineProperty(F,"clientOp",{get:function(){return K}}),Object.defineProperty(F,"serverOp",{get:function(){return j}});var X={};Object.defineProperty(X,"addScreen",{get:function(){return u.Me}}),Object.defineProperty(X,"removeScreen",{get:function(){return u.Le}}),Object.defineProperty(X,"moveScreen",{get:function(){return u.Pe}}),Object.defineProperty(X,"updateScreenStyle",{get:function(){return u.Be}});var J={};Object.defineProperty(J,"pick",{get:function(){return u.Fe}}),Object.defineProperty(J,"drop",{get:function(){return u.Ge}});var z={};Object.defineProperty(z,"clientOp",{get:function(){return X}}),Object.defineProperty(z,"serverOp",{get:function(){return J}});var q={};Object.defineProperty(q,"add",{get:function(){return c.Ue}}),Object.defineProperty(q,"remove",{get:function(){return c.Ve}}),Object.defineProperty(q,"replaceImageFileId",{get:function(){return c.ze}}),Object.defineProperty(q,"replaceImageFileCdnUrl",{get:function(){return c.Ye}});var Q={};Object.defineProperty(Q,"pick",{get:function(){return c.qe}}),Object.defineProperty(Q,"drop",{get:function(){return c.Xe}});var Z={};Object.defineProperty(Z,"clientOp",{get:function(){return q}}),Object.defineProperty(Z,"serverOp",{get:function(){return Q}});var $={};Object.defineProperty($,"add",{get:function(){return c.Qe}}),Object.defineProperty($,"remove",{get:function(){return c.Je}}),Object.defineProperty($,"replaceSoundName",{get:function(){return c.$e}}),Object.defineProperty($,"replaceSoundFileCdnUrl",{get:function(){return c.et}});var ee={};Object.defineProperty(ee,"pick",{get:function(){return l.rt}}),Object.defineProperty(ee,"drop",{get:function(){return l.ot}});var et={};Object.defineProperty(et,"clientOp",{get:function(){return $}}),Object.defineProperty(et,"serverOp",{get:function(){return ee}});var en={};Object.defineProperty(en,"add",{get:function(){return l.it}}),Object.defineProperty(en,"remove",{get:function(){return l.st}}),Object.defineProperty(en,"replaceIconName",{get:function(){return l.lt}}),Object.defineProperty(en,"replaceIconFileCdnUrl",{get:function(){return l.ut}});var er={};Object.defineProperty(er,"pick",{get:function(){return l.pt}}),Object.defineProperty(er,"drop",{get:function(){return l.ft}});var ea={};Object.defineProperty(ea,"clientOp",{get:function(){return en}}),Object.defineProperty(ea,"serverOp",{get:function(){return er}});var ei={};Object.defineProperty(ei,"add",{get:function(){return E._t}}),Object.defineProperty(ei,"remove",{get:function(){return E.bt}}),Object.defineProperty(ei,"update",{get:function(){return E.yt}});var eo={};Object.defineProperty(eo,"pick",{get:function(){return E.Et}}),Object.defineProperty(eo,"drop",{get:function(){return E.Ot}});var e_={};Object.defineProperty(e_,"clientOp",{get:function(){return ei}}),Object.defineProperty(e_,"serverOp",{get:function(){return eo}});var es={};Object.defineProperty(es,"add",{get:function(){return E.Tt}}),Object.defineProperty(es,"remove",{get:function(){return E.At}}),Object.defineProperty(es,"updateProperty",{get:function(){return E.It}});var eu={};Object.defineProperty(eu,"pick",{get:function(){return E.jt}}),Object.defineProperty(eu,"drop",{get:function(){return E.Nt}});var ec={};Object.defineProperty(ec,"clientOp",{get:function(){return es}}),Object.defineProperty(ec,"serverOp",{get:function(){return eu}});var el={};Object.defineProperty(el,"add",{get:function(){return E.xt}}),Object.defineProperty(el,"remove",{get:function(){return E.Mt}}),Object.defineProperty(el,"updateProperty",{get:function(){return E.Lt}});var eE={};Object.defineProperty(eE,"pick",{get:function(){return E.Pt}}),Object.defineProperty(eE,"drop",{get:function(){return E.Bt}});var ep={};Object.defineProperty(ep,"clientOp",{get:function(){return el}}),Object.defineProperty(ep,"serverOp",{get:function(){return eE}});var ed={};Object.defineProperty(ed,"add",{get:function(){return E.Gt}});var eT={};Object.defineProperty(eT,"pick",{get:function(){return E.Ut}}),Object.defineProperty(eT,"drop",{get:function(){return E.Ht}});var eO={};Object.defineProperty(eO,"clientOp",{get:function(){return ed}}),Object.defineProperty(eO,"serverOp",{get:function(){return eT}});var ef={};Object.defineProperty(ef,"focusItem",{get:function(){return p.Kt}}),Object.defineProperty(ef,"userColors",{get:function(){return p.Xt}}),Object.defineProperty(ef,"cloudDb",{get:function(){return p.Qt}});var eA={};Object.defineProperty(eA,"emit",{get:function(){return ef}}),Object.defineProperty(eA,"accept",{get:function(){return d.Jt}});var eI={};Object.defineProperty(eI,"add",{get:function(){return d.rn}}),Object.defineProperty(eI,"del",{get:function(){return d.an}}),Object.defineProperty(eI,"replaceWidgetAttributeOp",{get:function(){return d.sn}});var eR={};Object.defineProperty(eR,"clientOp",{get:function(){return eI}}),Object.defineProperty(eR,"serverOp",{get:function(){return r}});var ey={};Object.defineProperty(ey,"updateCloudDictKeys",{get:function(){return eN}}),Object.defineProperty(ey,"updateCloudTableColumns",{get:function(){return eL}}),Object.defineProperty(ey,"updateCloudTableData",{get:function(){return ev}}),Object.defineProperty(ey,"updateCloudDictList",{get:function(){return eh}}),Object.defineProperty(ey,"updateCloudTableList",{get:function(){return eD}});var eS={};Object.defineProperty(eS,"pick",{get:function(){return ex}}),Object.defineProperty(eS,"drop",{get:function(){return eB}});var em={};Object.defineProperty(em,"clientOp",{get:function(){return ey}}),Object.defineProperty(em,"serverOp",{get:function(){return eS}});var eC={};Object.defineProperty(eC,"oTHelper",{get:function(){return ek}});var eb=n(35396),eg=n(73615);function eN(e,t){var n,r,a=null==(n=S.a.getDoc())?void 0:n.cloudDictKeysList;r=(null==a?void 0:a[e])?D.replaceOp(["cloudDictKeysList",e.toString()],!0,t):D.insertOp(["cloudDictKeysList",e.toString()],t),S.a.applyClient(r)}function eL(e,t){var n,r,a=null==(n=S.a.getDoc())?void 0:n.cloudTableColumnList;r=(null==a?void 0:a[e])?D.replaceOp(["cloudTableColumnList",e.toString()],!0,t):D.insertOp(["cloudTableColumnList",e.toString()],t),S.a.applyClient(r)}function ev(e,t){var n,r,a=null==(n=S.a.getDoc())?void 0:n.cloudTableDataList;r=(null==a?void 0:a[e])?D.replaceOp(["cloudTableDataList",e.toString()],!0,t):D.insertOp(["cloudTableDataList",e.toString()],t),S.a.applyClient(r)}function eh(e){var t,n;n=(null==(t=S.a.getDoc())?void 0:t.cloudDictList)?D.replaceOp(["cloudDictList"],!0,e):D.insertOp(["cloudDictList"],e),S.a.applyClient(n)}function eD(e){var t,n;n=(null==(t=S.a.getDoc())?void 0:t.cloudTableList)?D.replaceOp(["cloudTableList"],!0,e):D.insertOp(["cloudTableList"],e),S.a.applyClient(n)}function ex(e){}function eB(e,t){var n,r,a,i,o,_,s,u,c,l,E,p,d,T,O,f,I,R,y;2===(n=e.path).length&&"cloudDictKeysList"===n[0]&&(r=e.path,a=e.op,i=r[1],o=a.i,A.h(eg.H(Number(i),o,!1))),2===(_=e.path).length&&"cloudTableColumnList"===_[0]&&(s=e.path,u=e.op,c=s[1],l=u.i,A.h(eg.J(Number(c),l,!1))),2===(E=e.path).length&&"cloudTableDataList"===E[0]&&(p=e.path,d=e.op,T=p[1],O=d.i,A.h(eg.S(Number(T),O))),1===(f=e.path).length&&"cloudDictList"===f[0]&&(e.path,I=e.op.i,A.h(eg.I(I,!1))),1===(R=e.path).length&&"cloudTableList"===R[0]&&(e.path,y=e.op.i,A.h(eg.K(y,!1)))}let ek=new class{projectOt;blink;widget;screen;imageFileList;soundFileList;iconFileList;primitiveVariables;arrayVariables;objectVariables;localStorage;focus;broadcasts;customEvent;globalWidget;extensionWidget;cloudSpace;constructor(){this.projectOt=void 0,this.blink=void 0,this.widget=void 0,this.screen=void 0,this.imageFileList=void 0,this.soundFileList=void 0,this.iconFileList=void 0,this.primitiveVariables=void 0,this.arrayVariables=void 0,this.objectVariables=void 0,this.localStorage=void 0,this.focus=void 0,this.broadcasts=void 0,this.customEvent=void 0,this.globalWidget=void 0,this.extensionWidget=void 0,this.cloudSpace=void 0}init(){this.blink=eb,this.widget=H,this.screen=z,this.imageFileList=Z,this.soundFileList=et,this.iconFileList=ea,this.primitiveVariables=e_,this.arrayVariables=ec,this.objectVariables=ep,this.localStorage=localStorage,this.focus=eC,this.broadcasts=eO,this.projectOt=F,this.customEvent=eA,this.globalWidget=eR,this.extensionWidget=o,this.cloudSpace=em}dispose(){Object.keys(this).forEach(e=>this[e]=void 0)}}},51877(e,t,n){n.d(t,{A:()=>or,Ab:()=>iY,Ac:()=>tf,Ad:()=>eT,Ae:()=>v,Af:()=>aX,Ah:()=>P,Ai:()=>aD,Aj:()=>aB,B:()=>n7,Bc:()=>nD,Bd:()=>tu,Be:()=>tt,Bf:()=>n8,Bh:()=>tC,Bi:()=>rf,Bj:()=>r_,Cc:()=>iW,Cd:()=>rW,Ce:()=>i5,Cg:()=>aV,Ch:()=>es,Ci:()=>eq,Cj:()=>ry,D:()=>t0,Dc:()=>rF,Dd:()=>rY,De:()=>et,Df:()=>t2,Dh:()=>aC,Di:()=>a6,Dj:()=>rm,E:()=>ap,Ec:()=>y,Ed:()=>nT,Ee:()=>tT,Ef:()=>ad,Ei:()=>Y,Ej:()=>C,F:()=>nN,Fb:()=>iC,Fc:()=>N,Fd:()=>ni,Fe:()=>ri,Ff:()=>nL,Fg:()=>ib,Fi:()=>w,Fj:()=>oe,FuR:()=>tn,Gb:()=>rK,Gc:()=>U,Gd:()=>nu,Ge:()=>ax,Gf:()=>ng,Gg:()=>rj,Gh:()=>tH,Gi:()=>tz,Gj:()=>tE,H:()=>tQ,H_H:()=>c,Hb:()=>r2,Hc:()=>tm,Hd:()=>nr,He:()=>ro,Hf:()=>tZ,Hg:()=>r3,Hh:()=>oK,Hi:()=>nA,Hj:()=>td,I:()=>rh,Ib:()=>av,Ic:()=>e_,Id:()=>n_,Ie:()=>rR,If:()=>rD,Ig:()=>nE,Ii:()=>no,J:()=>oi,Jb:()=>nl,Jc:()=>am,Jd:()=>nt,Je:()=>rS,Jf:()=>oo,Jg:()=>n4,Ji:()=>nO,K:()=>rw,Kb:()=>n3,Kd:()=>r1,Ke:()=>m,Kf:()=>rG,Kg:()=>nP,Kh:()=>e8,Ki:()=>nc,L:()=>rL,Lb:()=>nU,Ld:()=>rZ,Le:()=>i9,Lf:()=>rv,Lg:()=>nW,Lh:()=>ru,Li:()=>na,M:()=>t3,Mb:()=>nV,Mc:()=>tW,Md:()=>ah,Me:()=>tl,Mf:()=>t4,Mg:()=>nY,Mh:()=>rl,Mi:()=>ns,N:()=>nm,NEw:()=>ag,Nb:()=>nG,Nc:()=>oH,Nd:()=>rO,Ne:()=>tp,Nf:()=>tq,Ng:()=>nw,Nh:()=>og,Ni:()=>nd,Ob:()=>nM,Oc:()=>e7,Od:()=>ez,Oe:()=>io,Of:()=>nC,Og:()=>ac,Oh:()=>oJ,Oi:()=>nn,Pb:()=>au,Pc:()=>rs,Pd:()=>a5,Pe:()=>ij,Pg:()=>oq,Ph:()=>oh,Pi:()=>K,Pj:()=>iF,Qb:()=>oz,Qc:()=>rc,Qd:()=>G,Qe:()=>i,Qg:()=>n6,Qh:()=>tj,Qi:()=>W,Qj:()=>o,Rb:()=>n5,Rc:()=>ob,Rd:()=>M,Re:()=>u,Rg:()=>ok,Rh:()=>oZ,Ri:()=>tw,Rj:()=>c,S:()=>tD,Sb:()=>oB,Sc:()=>oX,Sd:()=>tJ,Se:()=>_,Sg:()=>Z,Sh:()=>e4,Si:()=>F,Szx:()=>E,T:()=>nI,Tb:()=>Q,Tc:()=>ov,TcO:()=>aH,Td:()=>np,Te:()=>nX,Tf:()=>tx,Tg:()=>iZ,Th:()=>nK,Ti:()=>a2,Ub:()=>iQ,Uc:()=>tK,Ud:()=>H,Ue:()=>n0,Ug:()=>aO,Uh:()=>nF,Ui:()=>a8,Uj:()=>s,V:()=>a3,Vb:()=>aT,Vc:()=>oQ,Vd:()=>V,Ve:()=>n9,Vf:()=>nR,Vg:()=>g,Vh:()=>oR,Vi:()=>eC,Vj:()=>nJ,W:()=>tN,Wb:()=>b,Wbp:()=>aK,Wc:()=>e3,Wd:()=>tM,We:()=>n$,Wf:()=>a4,Wg:()=>aE,Wh:()=>iq,Wi:()=>eE,Wj:()=>n2,X:()=>o_,Xb:()=>al,Xc:()=>nH,Xd:()=>j,Xe:()=>ot,Xf:()=>tL,Xg:()=>k,Xh:()=>rp,Xi:()=>eK,Xj:()=>re,Y:()=>ou,Y_2:()=>tq,Yb:()=>L,Yc:()=>nj,Yd:()=>a0,Ye:()=>r7,Yf:()=>os,Yg:()=>tg,Yh:()=>eo,Yi:()=>ed,Yj:()=>n1,YsV:()=>aW,Z:()=>oT,Zb:()=>B,Zc:()=>oI,Zd:()=>a7,Ze:()=>ai,Zf:()=>oc,Zg:()=>ec,Zh:()=>at,Zi:()=>eA,Zj:()=>on,_$u:()=>ng,a:()=>r6,ab:()=>aw,ac:()=>tb,ad:()=>iz,ae:()=>em,af:()=>iD,ag:()=>oO,ah:()=>r9,ai:()=>ar,aj:()=>i1,b:()=>aa,bb:()=>a$,bc:()=>eu,bd:()=>rE,be:()=>el,bf:()=>iK,bg:()=>aG,bh:()=>iJ,bi:()=>te,bj:()=>th,bwe:()=>nv,c:()=>iH,cc:()=>ay,cd:()=>ei,ce:()=>eH,cf:()=>tV,cg:()=>a1,ch:()=>rM,ci:()=>eR,d:()=>tY,db:()=>e0,dc:()=>aZ,dd:()=>a,de:()=>ep,df:()=>oP,dh:()=>rQ,di:()=>eF,dqt:()=>es,e:()=>oU,eb:()=>aI,ec:()=>r8,ed:()=>an,ee:()=>ef,ef:()=>e6,eg:()=>e2,eh:()=>nq,ei:()=>ee,ej:()=>O,epe:()=>k,f:()=>op,fb:()=>af,fc:()=>ao,fd:()=>ae,fe:()=>i$,ff:()=>rU,fg:()=>aR,fh:()=>tG,fi:()=>tP,fj:()=>eS,g:()=>e5,g01:()=>nb,gb:()=>t5,gc:()=>iX,gd:()=>eI,ge:()=>tv,gf:()=>rz,gg:()=>aA,gh:()=>it,gi:()=>tk,gj:()=>e1,h:()=>rk,hb:()=>aN,hc:()=>od,hd:()=>e9,he:()=>T,hf:()=>rn,hg:()=>t6,hh:()=>iU,hi:()=>A,hj:()=>iB,i:()=>rJ,ib:()=>ih,ic:()=>rP,id:()=>ej,ie:()=>ey,if:()=>nZ,ig:()=>aL,ih:()=>ii,ii:()=>tX,ij:()=>ta,j:()=>rt,jb:()=>t9,jc:()=>rq,jd:()=>nf,je:()=>e$,jf:()=>ra,jg:()=>ne,jh:()=>id,ji:()=>iM,jj:()=>to,k:()=>nQ,kb:()=>nB,kc:()=>nz,kd:()=>$,ke:()=>a9,kf:()=>oS,kg:()=>nk,kh:()=>d,ki:()=>aM,kj:()=>ts,l:()=>rr,lb:()=>t7,lc:()=>ie,ld:()=>tU,le:()=>ir,lg:()=>t8,lh:()=>ic,li:()=>ew,lj:()=>iE,m:()=>oy,mb:()=>oV,mc:()=>ia,md:()=>tB,me:()=>ix,mg:()=>oW,mh:()=>tS,mi:()=>eW,mj:()=>E,n:()=>z,nb:()=>t$,nc:()=>ik,nd:()=>f,ne:()=>tr,nf:()=>q,ng:()=>t1,nh:()=>i4,ni:()=>eh,nj:()=>is,o:()=>rg,ob:()=>oN,oc:()=>ip,od:()=>tF,oe:()=>ti,of:()=>rN,og:()=>oL,oh:()=>iI,oi:()=>ek,oj:()=>tR,p:()=>a_,pb:()=>oj,pc:()=>p,pd:()=>iP,pe:()=>t_,pf:()=>as,pg:()=>oF,ph:()=>im,pi:()=>eY,pj:()=>i2,q:()=>oM,qb:()=>oD,qc:()=>iu,qd:()=>aP,qe:()=>il,qf:()=>ow,qg:()=>ox,qh:()=>eL,qi:()=>eP,qj:()=>iO,r:()=>oG,rb:()=>aJ,rc:()=>ty,rd:()=>eM,re:()=>l,rf:()=>oY,rg:()=>az,rh:()=>x,ri:()=>ex,rj:()=>iy,s:()=>ol,sb:()=>aq,sc:()=>i3,sd:()=>eV,se:()=>i_,sf:()=>oE,sg:()=>aQ,sh:()=>i8,si:()=>eJ,sj:()=>eg,t:()=>rx,tb:()=>ab,tc:()=>iL,td:()=>ev,te:()=>tI,tf:()=>rB,tg:()=>ag,th:()=>ea,ti:()=>iG,tj:()=>eZ,u:()=>rC,ub:()=>rd,uc:()=>iA,ud:()=>eB,ue:()=>i0,uf:()=>rb,ug:()=>rT,uh:()=>iv,ui:()=>eO,uj:()=>h,v:()=>om,vb:()=>rA,vc:()=>iS,vd:()=>eG,ve:()=>ig,vf:()=>oC,vg:()=>rI,vh:()=>aS,vi:()=>tc,w:()=>of,wb:()=>I,wc:()=>eN,wd:()=>eU,we:()=>iT,wf:()=>oA,wg:()=>R,wh:()=>tA,wi:()=>rH,wj:()=>i6,x:()=>ny,xYE:()=>aj,xb:()=>ak,xc:()=>D,xd:()=>eD,xe:()=>iR,xf:()=>nS,xg:()=>aU,xh:()=>nx,xi:()=>rV,xj:()=>en,xqZ:()=>S,y:()=>X,yFv:()=>nh,yb:()=>r4,yc:()=>i7,yd:()=>eX,ye:()=>eb,yf:()=>J,yg:()=>r5,yh:()=>rX,yi:()=>r0,yj:()=>iN,z:()=>aF,zb:()=>aY,zc:()=>er,zd:()=>iw,ze:()=>eQ,zf:()=>oa,zg:()=>iV,zh:()=>S,zi:()=>r$,zj:()=>tO});var r=n(28950);let a="SET_APP_LANGUAGE",i="UPDATE_EDIT_AREA";function o(){return{payload:void 0,type:i}}let _="UPDATE_PREVIEW_AREA";function s(){return{payload:void 0,type:_}}let u="UPDATE_EXTENSION_WIDGET_LIST";function c(){return{payload:void 0,type:u}}let l="SHOW_COMMON_TOAST_INFO";function E(e){return{payload:e,type:l}}let p="HIDE_COMMON_TOAST_INFO";function d(){return{payload:void 0,type:p}}let T="SET_USER_INFO";function O(e){return{payload:e,type:T}}let f="SET_FETCH_USER_INFO_DONE";function A(){return{payload:!0,type:f}}let I="ASYNC_SET_USER_INFO";function R(e){return{payload:e,type:I}}let y="OPEN_CONFIRM_DIALOG";function S(e){return{type:y,payload:e}}let m="TOGGLE_PERMISSION_DIALOG";function C(e){return{type:m,payload:e}}let b="CLOSE_CONFIRM_DIALOG";function g(){return{type:b,payload:void 0}}let N="OPEN_ICON_LIB_DIALOG",L="CLOSE_ICON_LIB_DIALOG",v="SHOW_IMPORT_FAIL_TOAST";function h(e,t){return{type:v,payload:{importFailResults:e,fileType:t}}}let D="HIDE_IMPORT_FAIL_TOAST";function x(){return{type:D,payload:void 0}}let B="CLOSE_PROJECT_DIALOG";function k(){return{type:B,payload:void 0}}let U="OPEN_PROJECT_DIALOG";function P(e){return{type:U,payload:{selected:e}}}let M="SET_PROJECT_MODIFIED";function w(e){return{payload:e,type:M}}let G="SET_PROJECT_LAST_SAVED_TIME";function Y(e){return{type:G,payload:e}}let V="SET_PROJECT_SAVE_PROGRESS_DIALOG";function W(e){return{payload:e,type:V}}let H="SET_PROJECT_SAVE_PROGRESS";function K(e){return{payload:e,type:H}}let j="SET_PROJECT_SAVING";function F(e){return{payload:e,type:j}}let X="ASYNC_CANCEL_SAVE_PROJECT";function J(){return{payload:void 0,type:X}}let z="APPEND_MESSAGE_TO_CONSOLE";function q(e){return{type:z,payload:e}}let Q="CLEAR_CONSOLE_MESSAGE";function Z(){return{type:Q,payload:void 0}}let $="SET_CONSOLE_HEIGHT";function ee(e){return{type:$,payload:e}}let et="SHOW_STAGE_TOAST";function en(e,t){return{type:et,payload:{toast:e,showIcon:t}}}let er="HIDE_STAGE_TOAST";function ea(){return{type:er,payload:void 0}}let ei="SET_ACTOR_DRAGGING";function eo(e){return{type:ei,payload:e}}let e_="OPEN_SIGN_IN_DIALOG";function es(e){return{type:e_,payload:{onSuccess:e}}}let eu="CLOSE_SIGN_IN_DIALOG";function ec(){return{type:eu,payload:void 0}}let el="SET_STAGE_RULER_VISIBLE";function eE(e){return{type:el,payload:e}}let ep="SET_STAGE_VISIBLE";function ed(e){return{type:ep,payload:e}}let eT="SET_IS_HOVER_BLOCK_AREA";function eO(e){return{type:eT,payload:e}}let ef="SET_STAGE_WIDTH";function eA(e){return{type:ef,payload:e}}let eI="SET_BLOCKY_TOOLBOX_PINED";function eR(e){return{type:eI,payload:e}}let ey="SET_WIDGET_ATTRIBUTE_VISIBLE";function eS(e){return{type:ey,payload:e}}let em="SET_RIGHT_SIDE_ACTIVE_MENU";function eC(e){return{type:em,payload:e}}let eb="SHOW_GRID_DIALOG";function eg(e){return{type:eb,payload:e}}let eN="HIDE_GRID_DIALOG";function eL(){return{type:eN,payload:void 0}}let ev="SET_GRID_COPIED_CONTENT";function eh(e,t){return{type:ev,payload:{rowId:e,columnId:t}}}let eD="SET_GRID_SELECTED_CONTENT";function ex(e,t){return{type:eD,payload:{rowId:e,columnId:t}}}let eB="SET_GRID_EDITING_HEADER";function ek(e){return{type:eB,payload:{columnId:e}}}let eU="SET_GRID_ERROR_HEADERS";function eP(e){return{type:eU,payload:{columnIds:e}}}let eM="SET_GRID_ANIMATION_HEADERS";function ew(e){return{type:eM,payload:{columnIds:e}}}let eG="SET_GRID_ERROR_CELL";function eY(e){return{type:eG,payload:{errorCells:e}}}let eV="SET_GRID_COLUMN_CUSTOM_WIDTH";function eW(e){return{type:eV,payload:e}}let eH="SET_STAGE_SCALE";function eK(e){return{type:eH,payload:e}}let ej="SET_COLL_AUTO_SAVE";function eF(e){return{type:ej,payload:e}}let eX="SET_HISTORY_ARCHIVE_ID";function eJ(e){return{type:eX,payload:e}}let ez="SET_PROJECT_EDIT_PERMISSION";function eq(e){return{type:ez,payload:e}}let eQ="SHOW_HISTORY_DIALOG";function eZ(e){return{type:eQ,payload:e}}let e$="SET_WIDGET_MALL_VISIBLE";function e1(e){return{type:e$,payload:e}}let e0="ASYNC_INITIAL_MY_EXTENSION_WIDGETS";function e2(){return{type:e0,payload:void 0}}let e3="REPLACE_MY_EXTENSION_WIDGETS";function e4(e){return{type:e3,payload:{widgets:e}}}let e5="ADD_MY_EXTENSION_WIDGETS";function e6(e){return{type:e5,payload:{widgets:e}}}let e7="REMOVE_MY_EXTENSION_WIDGETS";function e8(e){return{type:e7,payload:{widgetTypes:e}}}let e9="SET_BLOCK_IMAGE_DIALOG_INFO";function te(e,t){return{type:e9,payload:{visible:e,imgSrc:t}}}let tt="SHOW_RELEASE_INFO_DIALOG";function tn(e){return{type:tt,payload:e}}var tr="";function ta(e,t,n,r,a){return{type:tr,payload:{widgetName:e,visible:t,cloudDBId:n,isProd:r,callback:a}}}let ti="SHOW_CLOUD_DB_MANAGER_DIALOG";function to(e){return{type:ti,payload:e}}let t_="SHOW_CLOUD_DB_PUBLISH_DIALOG";function ts(e,t,n){return{type:t_,payload:{visible:e,type:t,callback:n}}}let tu="SET_IS_OFF_LINE";function tc(e){return{type:tu,payload:e}}let tl="TOGGLE_SLIDER_IMAGE_DIALOG";function tE(e){return{type:tl,payload:e}}let tp="TOGGLE_SWITCH_IMAGE_DIALOG";function td(e){return{type:tp,payload:e}}let tT="SHOW_TABLE_DATA_DIALOG";function tO(e){return{type:tT,payload:e}}let tf="HIDE_TABLE_DATA_DIALOG";function tA(){return{type:tf,payload:void 0}}let tI="SHOW_CREATE_TABLE_DATA_DIALOG";function tR(e){return{type:tI,payload:e}}let ty="HIDE_CREATE_TABLE_DATA_DIALOG";function tS(){return{type:ty,payload:void 0}}let tm="OPEN_RICH_TEXT_EDITOR_DIALOG";function tC(e){return{type:tm,payload:e}}let tb="CLOSE_RICH_TEXT_EDITOR_DIALOG";function tg(){return{type:tb,payload:void 0}}let tN="ASYNC_GET_TEMPLATE_LIST";function tL(){return{payload:void 0,type:tN}}let tv="SET_TEMPLATE_LIST";function th(e){return{payload:e,type:tv}}let tD="ASYNC_GET_COURSE_LIST";function tx(){return{payload:void 0,type:tD}}let tB="SET_COURSE_LIST";function tk(e){return{payload:e,type:tB}}let tU="SET_COURSE_DIALOG_VISIBLE";function tP(e){return{payload:e,type:tU}}let tM="SET_PROJECT_SAVE_PROMPT";function tw(e){return{payload:e,type:tM}}var tG={withClose:!1,visible:!0};let tY="ADD_FLOAT_ICON";function tV(e){return{payload:r.a(r.a({},tG),e),type:tY}}let tW="REMOVE_FLOAT_ICON";function tH(e){return{payload:e,type:tW}}let tK="REPLACE_FLOAT_ICON";function tj(e,t){return{payload:{name:e,icon:r.a(r.a({},tG),t)},type:tK}}let tF="SET_FLOAT_ICON_VISIBLE_STATUS";function tX(e,t){return{payload:{name:e,visible:t},type:tF}}let tJ="SET_PROJECT_OPEN_FINISHED";function tz(e){return{payload:e,type:tJ}}function tq(e,t){return new Promise((n,r)=>{e({...t,resolve:n,reject:r})})}let tQ="ASYNC_CREATE_PROJECT_SCREEN";function tZ(e){return{payload:{index:e},type:tQ}}let t$="ASYNC_REMOVE_PROJECT_SCREEN";function t1(e,t){return{type:t$,payload:{screenId:e,isEmitOT:t}}}let t0="ASYNC_COPY_PROJECT_SCREEN";function t2(e){return{type:t0,payload:{screenId:e}}}let t3="ASYNC_DELETE_PROJECT_WIDGET";function t4(e,t,n){return{payload:{screenId:t,widgetId:e,isEmitOT:n},type:t3}}let t5="ASYNC_INSERT_PROJECT_WIDGET";function t6(e,t,n,r,a){return{payload:{screenId:e,widgetType:t,position:n,attributes:r,setBlockValue:a},type:t5}}let t7="ASYNC_REGISTER_EXTENSION_WIDGET";function t8(e){return{type:t7,payload:{widgetType:e}}}let t9="ASYNC_PACKAGE_PROJECT";function ne(){return{payload:void 0,type:t9}}let nt="SET_PACKAGING_PROJECT";function nn(e,t){return{payload:{isPackaging:e,packageUrl:t},type:nt}}let nr="SET_PACKAGE_PROJECT_PROGRESS_VISIBLE";function na(e){return{payload:{packageProgressVisible:e},type:nr}}let ni="SET_PACKAGE_PROGRESS_DIALOG_VISIBLE";function no(e){return{payload:{packageDialogVisible:e},type:ni}}let n_="SET_PACKAGE_QRCODE_DIALOG_VISIBLE";function ns(e){return{payload:{packageQrCodeVisible:e},type:n_}}let nu="SET_PACKAGE_PROJECT_PROGRESS";function nc(e){return{payload:{packageProgress:e},type:nu}}let nl="ASYNC_UPDATE_PROJECT_PACKAGE_PROGRESS";function nE(){return{type:nl,payload:null}}let np="SET_PROJECT_PACKAGE_TASK_LABEL";function nd(e){return{type:np,payload:{label:e}}}let nT="SET_PACKAGE_INFO";function nO(e){return{payload:e,type:nT}}let nf="SET_COMPLETE_PACKAGE_DIALOG";function nA(e){return{payload:{packageCompleteVisible:e},type:nf}}let nI="ASYNC_GET_PACKAGE_INFO";function nR(){return{payload:null,type:nI}}let ny="ASYNC_CANCEL_PACKAGE";function nS(){return{payload:null,type:ny}}let nm="ASYNC_EXPORT_PROJECT_AS_JSON";function nC(e){return{payload:{shouldCloneCloud:e},type:nm}}let nb="ASYNC_CREATE_PROJECT";function ng({json:e,jsonFrom:t,lastSavedTime:n,isAuthor:r,isCollWork:a,projectId:i,editPermission:o,sourceTag:_,sourceId:s}={}){return{payload:{json:e,jsonFrom:t,lastSavedTime:n,isAuthor:r,isCollWork:a,projectId:i,editPermission:o,sourceTag:_,sourceId:s},type:nb}}let nN="ASYNC_CREATE_PLAYER_PROJECT";function nL(e){return{payload:{json:e},type:nN}}let nv="ASYNC_GET_PROJECT_ERROR";function nh(e){return{payload:{code:e.code},type:nv}}let nD="IMPORT_PROJECT_FROM_TO_DOC";function nx(e){return{type:nD,payload:{json:e}}}let nB="ASYNC_PLAY_PROJECT";function nk(e){return{payload:{isPlayCurrentScreen:e},type:nB}}let nU="ASYNC_UPDATE_PROJECT_WIDGET_ATTRIBUTE";function nP(e,t,n){return{payload:{widgetId:e,key:t,value:n},type:nU}}let nM="ASYNC_UPDATE_PROJECT_WIDGET_TITLE";function nw(e,t,n,r,a){return{payload:{widgetId:e,title:t,shouldUpdatePreviewArea:n,shouldUpdateEditArea:r,isEmitOT:a},type:nM}}let nG="ASYNC_UPDATE_PROJECT_WIDGET_IDS";function nY(e,t,n,r,a,i){return{payload:{screenId:e,widgetId:t,widgetIds:n,shouldUpdatePreviewArea:r,shouldUpdateEditArea:a,isEmitOT:i},type:nG}}let nV="ASYNC_UPDATE_PROJECT_WIDGET_COMMON_ATTRIBUTE";function nW(e,t,n,r,a,i,o){return{payload:{widgetId:e,key:t,value:n,shouldUpdatePreviewArea:r,shouldUpdateEditArea:a,isEmitOT:i,isBasePropertyPriority:o},type:nV}}let nH="REPLACE_PROJECT";function nK(e){return{type:nH,payload:{project:e}}}let nj="REPLACE_PROJECT_ID";function nF(e){return{type:nj,payload:{projectId:e}}}let nX="UPDATE_PROJECT_BCM_URL";function nJ(e){return{type:nX,payload:{bcmUrl:e}}}let nz="DELETE_PROJECT_SCREEN";function nq(e){return{payload:{screenId:e},type:nz}}let nQ="ADD_PROJECT_SCREEN";function nZ(e,t){return{payload:{screen:e,index:t},type:nQ}}let n$="UPDATE_PROJECT_SCREEN_TITLE";function n1(e,t){return{type:n$,payload:{screenId:e,title:t}}}let n0="UPDATE_PROJECT_SCREEN_COMMON_ATTRIBUTE";function n2(e,t,n){return{type:n0,payload:{screenId:e,key:t,value:n}}}let n3="ASYNC_UPDATE_PROJECT_SCREEN_COMMON_ATTRIBUTE";function n4(e,t,n,r){return{type:n3,payload:{screenId:e,key:t,value:n,isEmitOT:r}}}let n5="CHANGE_PROJECT_TITLE";function n6(e){return{type:n5,payload:{title:e}}}let n7="ASYNC_CHANGE_PROJECT_TITLE";function n8(e,t){return{type:n7,payload:{title:e,isEmitOT:t}}}let n9="UPDATE_PROJECT_SCREEN_SNAPSHOT";function re(e,t){return{type:n9,payload:{screenId:e,snapshot:t}}}let rt="ADD_PROJECT_GLOBAL_WIDGET";function rn(e){return{payload:{widgetId:e},type:rt}}let rr="ADD_PROJECT_WIDGET";function ra(e,t,n){return{payload:{screenId:e,widgetId:t,isInvisibleWidget:n},type:rr}}let ri="SORT_PROJECT_GLOBAL_WIDGET_IDS",ro="SORT_PROJECT_SCREEN_WIDGET_IDS";function r_(e,t,n){return{type:ro,payload:{widgetIds:t,screenId:e,isInvisibleWidget:n}}}let rs="REMOVE_PROJECT_GLOBAL_WIDGET";function ru(e){return{payload:{widgetId:e},type:rs}}let rc="REMOVE_PROJECT_WIDGET";function rl(e,t,n){return{payload:{screenId:e,widgetId:t,isInvisibleWidget:n},type:rc}}let rE="SELECT_PROJECT_WIDGET";function rp(e){return{payload:{widgetId:e},type:rE}}let rd="ASYNC_SELECT_PROJECT_WIDGET";function rT(e,t){return{payload:{widgetId:e,isEmitOT:t},type:rd}}let rO="SET_PROJECT_CURRENT_SCREEN_INDEX";function rf(e){return{payload:e,type:rO}}let rA="ASYNC_SET_PROJECT_CURRENT_SCREEN_INDEX";function rI(e,t){return{payload:{index:e,shouldSaveCurrentData:t},type:rA}}let rR="START_PLAYING_PROJECT";function ry(){return{payload:void 0,type:rR}}let rS="STOP_PLAYING_PROJECT";function rm(){return{payload:void 0,type:rS}}let rC="ASYNC_ADD_PRIMITIVE_VARIABLE";function rb(e,t,n,r,a,i,o,_){return{payload:{variableType:e,id:t,name:n,defaultValue:r,screenId:a,index:i,setBlockValue:o,isEmitOT:_},type:rC}}let rg="ASYNC_ADD_ARRAY_VARIABLE";function rN(e,t,n,r,a,i,o,_){return{payload:{arrayType:e,id:t,name:n,defaultValue:r,screenId:a,setBlockValue:o,isEmitOT:_,index:i},type:rg}}let rL="ASYNC_DELETE_PRIMITIVE_VARIABLE";function rv(e,t,n,r){return{payload:{variableType:e,id:t,screenId:n,isEmitOT:r},type:rL}}let rh="ASYNC_DELETE_ARRAY_VARIABLE";function rD(e,t,n,r){return{payload:{arrayType:e,id:t,screenId:n,isEmitOT:r},type:rh}}let rx="ASYNC_ADD_OBJECT_VARIABLE";function rB(e){return{payload:e,type:rx}}let rk="ADD_OBJECT_VARIABLE";function rU(e){return{payload:e,type:rk}}let rP="DELETE_OBJECT_VARIABLE";function rM(e,t,n){return{payload:{scopeType:e,id:t,screenId:n},type:rP}}let rw="ASYNC_DELETE_OBJECT_VARIABLE";function rG(e,t,n,r){return{payload:{scopeType:e,id:t,screenId:n,isEmitOT:r},type:rw}}let rY="SET_OBJECT_VARIABLE_NAME";function rV(e,t,n,r){return{payload:{scopeType:e,id:t,name:n,screenId:r},type:rY}}let rW="SET_OBJECT_VARIABLE_DEFAULT_VALUE";function rH(e,t,n,r){return{payload:{scopeType:e,id:t,defaultValue:n,screenId:r},type:rW}}let rK="ASYNC_UPDATE_OBJECT_VARIABLE_PROPERTY";function rj(e){return{type:rK,payload:e}}let rF="MOVE_PROJECT_SCREEN";function rX(e,t){return{type:rF,payload:{from:e,to:t}}}let rJ="ADD_PRIMITIVE_VARIABLE";function rz(e,t,n,r,a,i){return{payload:{variableType:e,id:t,name:n,defaultValue:r,screenId:a,index:i},type:rJ}}let rq="DELETE_PRIMITIVE_VARIABLE";function rQ(e,t,n){return{payload:{variableType:e,id:t,screenId:n},type:rq}}let rZ="SET_PRIMITIVE_VARIABLE_NAME";function r$(e,t,n,r){return{payload:{variableType:e,id:t,name:n,screenId:r},type:rZ}}let r1="SET_PRIMITIVE_VARIABLE_DEFAULT_VALUE";function r0(e,t,n,r){return{payload:{variableType:e,id:t,defaultValue:n,screenId:r},type:r1}}let r2="ASYNC_UPDATE_PRIMITIVE_VARIABLE_PROPERTY";function r3(e,t,n,r,a,i){return{type:r2,payload:{variableType:e,id:t,key:n,value:r,screenId:a,isEmitOT:i}}}let r4="ASYNC_UPDATE_ARRAY_VARIABLE_PROPERTY";function r5(e,t,n,r,a,i){return{type:r4,payload:{arrayType:e,id:t,key:n,value:r,screenId:a,isEmitOT:i}}}let r6="ADD_ARRAY_VARIABLE";function r7(e,t,n,r,a,i){return{payload:{arrayType:e,id:t,name:n,defaultValue:r,screenId:a,index:i},type:r6}}let r8="DELETE_ARRAY_VARIABLE";function r9(e,t,n){return{payload:{arrayType:e,id:t,screenId:n},type:r8}}let ae="SET_ARRAY_VARIABLE_NAME";function at(e,t,n,r){return{payload:{arrayType:e,id:t,name:n,screenId:r},type:ae}}let an="SET_ARRAY_VARIABLE_DEFAULT_VALUE";function ar(e,t,n,r){return{payload:{arrayType:e,id:t,defaultValue:n,screenId:r},type:an}}let aa="ADD_BROADCAST";function ai(e,t,n){return{payload:{name:e,screenId:t,index:n},type:aa}}let ao="DELETE_BROADCAST",a_="ASYNC_ADD_BROADCAST";function as(e,t,n,r,a){return{payload:{name:e,screenId:t,setBlockValue:r,index:n,isEmitOT:a},type:a_}}let au="CHANGE_CONTEXT_MENU_INFO";function ac(e){return{payload:e,type:au}}let al="CLOSE_CONTEXT_MENU";function aE(){return{type:al,payload:void 0}}let ap="ASYNC_COPY_WIDGET_TO_SCREEN";function ad(e,t){return{type:ap,payload:{widgetCloneList:e,screenId:t}}}let aT="CLEAR_PROJECT";function aO(){return{type:aT,payload:void 0}}let af="ASYNC_INSERT_BRUSH_WIDGET";function aA(e,t){return{type:af,payload:{widgetId:e,position:t}}}let aI="ASYNC_INSERT_ACTOR_WIDGET";function aR(e,t){return{type:aI,payload:{widgetId:e,position:t}}}let ay="CLOSE_STYLE_DIALOG";function aS(){return{type:ay}}let am="OPEN_STYLE_DIALOG";function aC(e,t){return{type:am,payload:{actorId:e,onSelect:t}}}let ab="ASYNC_SAVE_PROJECT";function ag({isUpdate:e,isAutoSave:t,isNeedReport:n,isSaveAs:r}){return{payload:{isUpdate:e,isAutoSave:t,isNeedReport:n,isSaveAs:r},type:ab}}let aN="ASYNC_LOCATE_BLOCK_POSITION";function aL(e,t){return{type:aN,payload:{blockId:e,screenId:t}}}let av="ASYNC_UPDATE_PROJECT_API_TOKEN",ah="SET_PROJECT_API_TOKEN";function aD(e){return{type:ah,payload:{token:e}}}let ax="SORT_PROJECT_SCREEN";function aB(e){return{type:ax,payload:{screens:e}}}let ak="SORT_SCREEN_BY_SCREEN_IDS";function aU(e){return{type:ak,payload:{screenIds:e}}}let aP="SET_FOCUSED_WORKSPACE_AREA";function aM(e){return{type:aP,payload:{area:e}}}let aw="ASYNC_INITIAL_CLOUD_DB_DATA";function aG(){return{type:aw,payload:void 0}}let aY="ASYNC_UPDATE_CLOUD_DATABASE_FIELDS";function aV(e,t,n){return{type:aY,payload:{widgetId:e,fields:t,setBlockValue:n}}}let aW="PUBLISH_WORK_TO_COMMUNITY";function aH(e,t,n,r){return{type:aW,payload:{name:e,description:t,operation:n,coverUrl:r}}}let aK="PUBLISH_WORK_TO_H5";function aj(e){return{type:aK,payload:{info:e}}}let aF="ASYNC_CHANGE_DATA_VIEWER_TEMPLATE";function aX(e,t,n){return{type:aF,payload:{widgetId:e,templateType:t,onSuccess:n}}}let aJ="ASYNC_RESET_DATA_VIEWER_BINDINGS";function az(e,t){return{type:aJ,payload:{gridId:e,deleteColumnIdList:t}}}let aq="ASYNC_REVERT_HISTORY_VERSION";function aQ(e){return{type:aq,payload:{archiveId:e}}}let aZ="COLL_SET_DOC",a$="ASYNC_INITIAL_CLOUD_DB_WIDGET";function a1(){return{type:a$,payload:void 0}}let a0="SET_PROJECT_SHARE_INFO";function a2(e){return{payload:e,type:a0}}let a3="ASYNC_GET_PROJECT_SHARE_INFO";function a4(e){return{payload:{callback:e},type:a3}}let a5="SET_PROJECT_JSON_FROM";function a6(e){return{type:a5,payload:e}}let a7="SET_PROJECT_SOURCE";function a8(e){return{type:a7,payload:e}}let a9="SHOW_BLOCKS_DROPDOWN",ie="HIDE_BLOCKS_DROPDOWN";function it(){return{payload:void 0,type:ie}}let ir="SHOW_BLOCKS_SLIDER",ia="HIDE_BLOCKS_SLIDER";function ii(){return{payload:void 0,type:ia}}let io="UPDATE_BLOCKS_SLIDER_VALUE",i_="SHOW_CREATE_DYNAMIC_DATA_DIALOG";function is(e){return{payload:e,type:i_}}let iu="HIDE_CREATE_DYNAMIC_DATA_DIALOG";function ic(){return{payload:void 0,type:iu}}let il="SHOW_COMMON_INPUT_DIALOG";function iE(e){return{payload:e,type:il}}let ip="HIDE_COMMON_INPUT_DIALOG";function id(){return{payload:void 0,type:ip}}let iT="SHOW_EDIT_ARRAY_DIALOG";function iO(e){return{payload:e,type:iT}}let iA="HIDE_EDIT_ARRAY_DIALOG";function iI(){return{payload:void 0,type:iA}}let iR="SHOW_EDIT_OBJECT_DIALOG";function iy(e){return{payload:e,type:iR}}let iS="HIDE_EDIT_OBJECT_DIALOG";function im(){return{payload:void 0,type:iS}}let iC="ASYNC_UPDATE_DOCUMENT_DATA";function ib(e,t,n){return{type:iC,payload:{id:e,fields:t,isEmitOT:n}}}let ig="SHOW_DOCUMENT_DIALOG";function iN(e){return{type:ig,payload:e}}let iL="HIDE_DOCUMENT_DIALOG";function iv(){return{type:iL,payload:void 0}}let ih="ASYNC_OPEN_TOAST_ON_NOT_SELECT_DOCUMENT";function iD(e,t){return{type:"CLOUD_DATABASE",payload:{name:t,id:e}}}let ix="SHOW_BLOCK_PALETTE";function iB(e){return{type:ix,payload:e}}let ik="HIDE_BLOCK_PALETTE";function iU(){return{type:ik,payload:void 0}}let iP="SET_FLYOUT_VISIBLE";function iM(e){return{payload:e,type:iP}}let iw="SET_IS_BLOCK_DRAG_DELETE_AREA";function iG(e){return{payload:e,type:iw}}let iY="ASYNC_UPDATE_CLOUD_DB_DATA";function iV(e,t,n){return{type:iY,payload:{id:e,columns:t,isEmitOT:n}}}let iW="INIT_PROJECT_DATA_WATCH",iH="ADD_DATA_WATCH_VARIABLE";function iK(e){return{payload:e,type:iH}}let ij="UPDATE_DATA_WATCH_VARIABLE_PROPERTY";function iF(e,t,n){return{payload:{id:e,property:t,value:n},type:ij}}let iX="DELETE_DATA_WATCH_VARIABLE";function iJ(e){return{payload:e,type:iX}}let iz="RESET_DATA_WATCH_VALUE";function iq(){return{type:iz,payload:void 0}}let iQ="CLEAR_DATA_WATCH_VALUE";function iZ(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:iQ,payload:e}}let i$="SET_TABLE_DATA_WATCH_DIALOG";function i1(e,t){return{type:i$,payload:{visible:e,id:t}}}let i0="SHOW_DATAWATCH_TOAST";function i2(e,t){return{type:i0,payload:{toast:e,showIcon:t}}}let i3="HIDE_DATAWATCH_TOAST";function i4(){return{type:i3,payload:void 0}}let i5="SHOW_RESOURCE_LIBRARY_DIALOG";function i6(e,t,n,r,a){return{type:i5,payload:{mode:e,onSelect:t,multiple:n,sidebarType:r,setTab:a}}}let i7="HIDE_RESOURCE_LIBRARY_DIALOG";function i8(){return{type:i7,payload:void 0}}let i9="TOGGLE_RESOURCE_LIBRARY_DIALOG_VISIBLE";function oe(e){return{type:i9,payload:{visible:e}}}let ot="UPDATE_RESOURCE_LIBRARY_AREA";function on(){return{payload:void 0,type:ot}}let or="ASYNC_CHANGE_IMAGE_FILE_ID";function oa(e,t,n){return{type:or,payload:{newId:e,oldId:t,isEmitOT:n}}}let oi="ASYNC_DELETE_IMAGE_FILE";function oo(e,t){return{type:oi,payload:{imageFileId:e,isEmitOT:t}}}let o_="ASYNC_IMPORT_IMAGE_TO_IMAGE_WIDGET";function os(e,t){return{type:o_,payload:{imageFile:e,widgetId:t}}}let ou="ASYNC_IMPORT_IMAGE_TO_RESOURCE_LIBRARY";function oc(e,t,n){return{type:ou,payload:{fileList:e,onSuccess:t,isMultipleFiles:n}}}let ol="ASYNC_ADD_IMAGE_FROM_RESOURCE";function oE(e,t){return{type:ol,payload:{imageFiles:e,isEmitOT:t}}}let op="ADD_IMAGE_RESOURCE_LIBRARY",od="DELETE_IMAGE_RESOURCE_LIBRARY",oT="ASYNC_IMPORT_SOUND_TO_AUDIO_WIDGET";function oO(e,t){return{type:oT,payload:{soundFile:e,widgetId:t}}}let of="ASYNC_ADD_SOUND_UPLOAD";function oA(e,t,n){return{type:of,payload:{fileList:e,onSuccess:t,isMultipleFiles:n}}}let oI="REPLACE_SOUND_RESOURCE";function oR(e){return{payload:{soundFileList:e},type:oI}}let oy="ADD_SOUND_STATE";function oS(e,t){return{payload:{soundFiles:e,index:t},type:oy}}let om="ASYNC_ADD_SOUND_FROM_RESOURCE";function oC(e,t){return{payload:{soundFiles:e,isEmitOT:t},type:om}}let ob="REMOVE_SOUND_STATE";function og(e){return{payload:{id:e},type:ob}}let oN="ASYNC_REMOVE_SOUND";function oL(e,t){return{payload:{id:e,isEmitOT:t},type:oN}}let ov="RENAME_SOUND_STATE";function oh(e,t){return{payload:{id:e,name:t},type:ov}}let oD="ASYNC_RENAME_SOUND";function ox(e,t,n,r){return{payload:{id:e,oldName:t,newName:n,isEmitOT:r},type:oD}}let oB="CHANGE_SOUND_URL";function ok(e,t){return{type:oB,payload:{id:e,cdnUrl:t}}}let oU="ADD_ICON_STATE";function oP(e,t){return{payload:{iconFiles:e,index:t},type:oU}}let oM="ASYNC_ADD_ICON_FROM_RESOURCE";function ow(e,t){return{payload:{iconFiles:e,isEmitOT:t},type:oM}}let oG="ASYNC_ADD_ICON_FROM_UPLOAD";function oY(e,t){return{payload:{fileList:e,onSuccess:t},type:oG}}let oV="ASYNC_REMOVE_ICON";function oW(e,t){return{payload:{id:e,isEmitOT:t},type:oV}}let oH="REMOVE_ICON_STATE";function oK(e){return{payload:{id:e},type:oH}}let oj="ASYNC_RENAME_ICON";function oF(e,t,n,r){return{payload:{id:e,oldName:t,newName:n,isEmitOT:r},type:oj}}let oX="RENAME_ICON_STATE";function oJ(e,t){return{payload:{id:e,name:t},type:oX}}let oz="CHANGE_ICON_URL";function oq(e,t){return{type:oz,payload:{id:e,cdnUrl:t}}}let oQ="REPLACE_ICON_RESOURCE";function oZ(e){return{payload:{iconFileList:e},type:oQ}}},80512(e,t,n){n.d(t,{Ms:()=>n9,Si:()=>td,wc:()=>rG});var r,a,i=n(74848),o=n(45915),_=n(6492),s=n(20137),u=n(33762),c=n(77119),l=n(13123),E=n(91307),p=n(50439),d=n(15364),T=n(8517),O=n(43222),f=n(92380),A=n(73400),I=n(36137),R=n(80911),y=n(71480),S=n(91703),m=n(36961),C=n(90326),b=n.n(C),g=n(27690),N=n(6468),L=n(75755),v=n(96724),h=n(7683),D=n(2980),x=n(1864),B=n(39008),k=n(43721),U=n(33383),P=n(35685),M=n(59994),w=n(5762),G=n(99432),Y=n(94220),V=n(12118),W=n(94032),H=n(32919),K=n(63763),j=n(3035),F=n(19042),X=n(63888),J=n(81270),z=n(50862),q=n(99282),Q=n(1725),Z=n(37298),$=n(78588),ee=n(47594),et=n(13244),en=n(34221),er=n(76679),ea=n(7452),ei=n.n(ea),eo=n(27071),e_=n(92136),es=n(75195),eu=n(22224),ec=n(26816),el=n(88963),eE=n(51877),ep=n(73615),ed=n(56577),eT=n(46621),eO=n(28950),ef=n(28413),eA=n(41594),eI=n.n(eA),eR=n(99085),ey=n(94082),eS=n(75206),em=n.n(eS),eC=n(46942),eb=n.n(eC),eg=n(33007),eN=n(41586),eL=n.n(eN),ev=n(50687),eh=function(e){var t=e.title,n=e.onConfirm,r=e.content,a=e.onDeny,o=e.className,_=e.onCancel,s=e.isDangerous,u=e.cancelText,c=e.allowText,l=e.denyText,E=e.cancelBtnVisible,p=e.confirmBtnVisible,d=e.mask,T=function(){n&&n()};return(0,i.jsxs)(eg.nh,{visible:!0,showCloseButton:!1,withPortal:!0,maskClosable:!1,mask:void 0===d||d,className:eb()(eL().dialog,o,l&&eL().dialogSecondary),children:[(0,i.jsx)(ev.a,{children:(0,i.jsx)(ev.b,{keys:"enter",callback:T})}),(0,i.jsx)("h3",{children:t}),(0,i.jsx)("span",{children:r}),(0,i.jsxs)("div",{className:eb()(eL().dialogButtons),children:[(void 0===E||E)&&(0,i.jsx)(eg.d,{type:"light",onClick:function(){_&&_()},children:u}),l&&(0,i.jsx)(eg.d,{onClick:function(){a&&a()},className:eL().denyButton,children:l}),(void 0===p||p)&&(0,i.jsx)(eg.d,{type:"primary",danger:s,onClick:T,children:c})]})]})},eD=new(function(){function e(){eR.a(this,e),this.boxQueue=[],this.currentBox=null}return ey.a(e,[{key:"appendDialog",value:function(e){var t,n,r,a=this,i=document.createElement("div"),o=G.a("dialog");i.id=o;var _=e.onConfirm,s=e.onCancel,u=e.onClose,c=(t=en.a(ei().mark(function e(){return ei().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!_){e.next=3;break}return e.next=3,_();case 3:a.openDialog();case 4:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)}),l=(n=en.a(ei().mark(function e(){return ei().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!s){e.next=3;break}return e.next=3,s();case 3:a.openDialog();case 4:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)}),E=(r=en.a(ei().mark(function e(){return ei().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!u){e.next=3;break}return e.next=3,u();case 3:a.openDialog();case 4:case"end":return e.stop()}},e)})),function(){return r.apply(this,arguments)}),p=eO.a(eO.a({},e),{},{onConfirm:c,onClose:E,onCancel:l});return this.boxQueue.push({id:o,element:i,config:p}),this.currentBox||this.openDialog(),o}},{key:"openDialog",value:function(){this.destroyCurrentBox();var e=this.boxQueue.shift();return e&&(em().render(eI().createElement(eh,e.config),e.element),document.body.appendChild(e.element),this.currentBox=e),e}},{key:"removeDialog",value:function(e){if(!e)return e;if(e===(null==(t=this.currentBox)?void 0:t.id))return this.destroyCurrentBox(),e;var t,n=this.boxQueue.findIndex(function(t){return t.id===e});return n>=0&&this.boxQueue.splice(n,1),e}},{key:"destroyCurrentBox",value:function(){this.currentBox&&(this.destroyBox(this.currentBox.element),this.currentBox=null)}},{key:"destroyBox",value:function(e){em().unmountComponentAtNode(e),document.body.removeChild(e)}}]),e}()),ex=ei().mark(e0),eB=ei().mark(e2),ek=ei().mark(e3),eU=ei().mark(e4),eP=ei().mark(e5),eM=ei().mark(e6),ew=ei().mark(e7),eG=ei().mark(e8),eY=ei().mark(e9),eV=ei().mark(te),eW=ei().mark(tt),eH=ei().mark(tn),eK=ei().mark(tr),ej=ei().mark(ta),eF=ei().mark(ti),eX=ei().mark(to),eJ=ei().mark(t_),ez=ei().mark(ts),eq=ei().mark(tu),eQ=ei().mark(tc),eZ=ei().mark(tl),e$=ei().mark(tE),e1=ei().mark(td);function e0(){var e;return ei().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,er.f(E.s);case 2:return e=t.sent,t.next=5,er.e(eE.xqZ({onConfirm:function(){l.M_.dispatch(eE.dqt())},allowText:w.c(e,"cloudSpace.login").toString(),cancelText:w.c(e,"cloudSpace.cancelLogin").toString(),title:w.c(e,"cloudSpace.NotLoginTitle").toString(),content:w.c(e,"cloudSpace.notLoginDescription").toString()}));case 5:case"end":return t.stop()}},ex)}function e2(e){var t,n,r;return ei().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,er.f(E.s);case 2:return t=a.sent,n=e.map(function(e){return(0,i.jsx)("div",{className:"removedCloudDB",children:(0,i.jsx)("li",{children:e.title,className:"removedDBName"},e.id)},e.id)}),r=(0,i.jsx)("div",{className:"removedCloudDBWrapper",children:[n]}),a.next=7,er.e(eE.xqZ({allowText:w.c(t,"know").toString(),title:w.c(t,"cloudSpace.dataSourceNotExistDesc").toString(),content:r,cancelBtnVisible:!1,onConfirm:function(){l.M_.dispatch(ep.N(new Date().getTime()))}}));case 7:case"end":return a.stop()}},eB)}function e3(e,t){var n,r,a,o;return ei().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,er.f(E.s);case 2:n=_.sent,r=w.c(n,t)?w.c(n,t):t,a=e.map(function(e){return(0,i.jsx)("div",{className:"removedCloudDB",children:(0,i.jsx)("li",{children:e.title,className:"removedDBName"},e.id)},e.id)}),o=(0,i.jsx)("div",{className:"removedCloudDBWrapper",children:[a]}),eD.appendDialog({allowText:w.c(n,"know").toString(),title:"以下控件绑定的云数据源发生异常(".concat(r,")，请重新绑定"),content:o,cancelBtnVisible:!1});case 7:case"end":return _.stop()}},ek)}function e4(e,t){var n,r,a,o;return ei().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,er.f(E.s);case 2:n=_.sent,r=w.c(n,t),a=e.map(function(e){return(0,i.jsx)("div",{className:"removedCloudDB",children:(0,i.jsx)("li",{children:e.title,className:"removedDBName"},e.id)},e.id)}),o=(0,i.jsx)("div",{className:"removedCloudDBWrapper",children:[a]}),eD.appendDialog({allowText:w.c(n,"know").toString(),title:w.c(n,"cloudSpace.dataSourceExceedLimitError",{type:r}).toString(),content:o,cancelBtnVisible:!1});case 7:case"end":return _.stop()}},eU)}function e5(){var e,t,n;return ei().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,er.f(E.r);case 2:if(!r.sent){r.next=21;break}return r.prev=4,r.next=7,er.a({dicts:er.b(d.g),tables:er.b(d.j)});case 7:return t=(e=r.sent).dicts,n=e.tables,r.next=12,er.e(ep.I(t,!0));case 12:return r.next=14,er.e(ep.K(n,!0));case 14:r.next=19;break;case 16:r.prev=16,r.t0=r.catch(4),console.error(r.t0);case 19:r.next=23;break;case 21:return r.next=23,er.b(e6);case 23:case"end":return r.stop()}},eP,null,[[4,16]])}function e6(){var e,t,n,r;return ei().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,er.f(E.y);case 2:return e=a.sent,a.prev=3,a.next=6,er.a({dicts:er.b(d.g,e),tables:er.b(d.j,e)});case 6:return n=(t=a.sent).dicts,r=t.tables,a.next=11,er.e(ep.I(n,!0));case 11:return a.next=13,er.e(ep.K(r,!0));case 13:a.next=18;break;case 15:a.prev=15,a.t0=a.catch(3),console.error(a.t0);case 18:case"end":return a.stop()}},eM,null,[[3,15]])}function e7(){var e,t,n,r,a,i,o,_,s,u,c,l,p,d,O,f;return ei().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,er.f(E.z);case 2:return e=A.sent,A.next=5,er.f(E.b);case 5:return t=A.sent,A.next=8,er.f(E.d);case 8:for(n=A.sent,r=[],a=[],i=[],e===el.d.LOCAL_FILE&&T.b.forEach(function(e){e.type===Y.j&&e.attributes.cloudDictId!==H.i&&r.push(e),e.type===Y.k&&e.attributes.cloudTableId!==H.i&&a.push(e),e.type===Y.A&&"number"==typeof e.attributes.dataSource&&i.push(e)}),T.g.forEach(function(e){e.type===Y.j&&e.attributes.cloudDictId!==H.i&&r.push(e),e.type===Y.k&&e.attributes.cloudTableId!==H.i&&a.push(e),e.type===Y.A&&"number"==typeof e.attributes.dataSource&&i.push(e)}),o=[],_=function(){var e=u[s];0>t.findIndex(function(t){return t.id===e.attributes.cloudDictId})&&o.push(e)},s=0,u=r;s<u.length;s++)_();for(c=function(){var e=p[l];0>n.findIndex(function(t){return t.id===e.attributes.cloudTableId})&&o.push(e)},l=0,p=a;l<p.length;l++)c();for(d=function(){var e=f[O];0>n.findIndex(function(t){return t.id===e.attributes.dataSource})&&o.push(e)},O=0,f=i;O<f.length;O++)d();return A.abrupt("return",o);case 22:case"end":return A.stop()}},ew)}function e8(e){var t;return ei().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,er.f(E.h);case 2:return t=n.sent,n.next=5,er.b(e5);case 5:return n.next=7,er.b(tn);case 7:return n.next=9,er.b(tr);case 9:return n.next=11,er.b(to);case 11:return n.next=13,er.b(e9,e.payload);case 13:t||z.z.rerenderCurrentScreenWorkspaceData();case 14:case"end":return n.stop()}},eG)}function e9(e){var t,n,r,a;return ei().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,er.b(e7);case 2:if(!((t=i.sent).length>0&&e)){i.next=6;break}return i.next=6,er.b(e2,t);case 6:if(0!==t.length){i.next=8;break}return i.abrupt("return",[]);case 8:n=e_.a(t),i.prev=9,n.s();case 11:if((r=n.n()).done){i.next=30;break}if((a=r.value).type!==Y.j){i.next=18;break}return i.next=16,er.e(eE.Lg(a.id,"cloudDictId",H.i,!1,!0,!0));case 16:return i.next=18,er.e(ep.L([a.attributes.cloudDictId]));case 18:if(a.type!==Y.k){i.next=23;break}return i.next=21,er.e(eE.Lg(a.id,"cloudTableId",H.i,!1,!0,!0));case 21:return i.next=23,er.e(ep.M([a.attributes.cloudTableId]));case 23:if(a.type!==Y.A){i.next=28;break}return i.next=26,er.e(eE.Lg(a.id,"dataSource","",!1,!0,!0));case 26:return i.next=28,er.e(ep.M([a.attributes.dataSource]));case 28:i.next=11;break;case 30:i.next=35;break;case 32:i.prev=32,i.t0=i.catch(9),n.e(i.t0);case 35:return i.prev=35,n.f(),i.finish(35);case 38:return i.abrupt("return",t);case 39:case"end":return i.stop()}},eY,null,[[9,32,35,38]])}function te(){var e,t,n,r,a,i,o,_,s,u,c,l,p,O,f,A,I,R,y,S,m,C,b,g,N,L,v,h;return ei().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(0!==T.b.size){D.next=2;break}return D.abrupt("return");case 2:return D.next=4,er.f(E.J);case 4:if(D.sent){D.next=9;break}return D.next=8,er.b(e0);case 8:return D.abrupt("return");case 9:return D.next=11,er.b(e9,!1);case 11:if(e=D.sent,t=new Set,n=new Set,e.forEach(function(e){e.type===Y.j&&t.add(e.attributes.cloudDictId),e.type===Y.k&&n.add(e.attributes.cloudTableId),e.type===Y.A&&"number"==typeof e.attributes.dataSource&&n.add(e.attributes.dataSource)}),r=[],a=[],i=[],o=[],_=[],D.prev=20,!(t.size>0)){D.next=26;break}return D.next=24,er.b(d.b,ef.a(t));case 24:s=D.sent,e.forEach(function(e){if(e.type===Y.j){var t=T.b.get(e.id);if(t){var n=s[e.attributes.cloudDictId];n===H.e?(r.push(e),t.attributes.cloudDictId=H.i):n&&(t.attributes.cloudDictId=parseInt(s[e.attributes.cloudDictId]))}}});case 26:D.next=39;break;case 28:D.prev=28,D.t0=D.catch(20),console.error(D.t0),c=(u=JSON.parse(D.t0.message)).code,l=u.msg,D.t1=c,D.next=0x2687807===D.t1?35:37;break;case 35:return o.push.apply(o,ef.a(e.filter(function(e){return e.type===Y.j}))),D.abrupt("break",39);case 37:return D.next=39,er.b(e3,e.filter(function(e){return e.type===Y.j}),l);case 39:if(D.prev=39,!(n.size>0)){D.next=45;break}return D.next=43,er.b(d.c,ef.a(n));case 43:p=D.sent,e.forEach(function(e){if(e.type===Y.k){var t=p[e.attributes.cloudTableId],n=T.b.get(e.id);n&&(t===H.e?(a.push(e),n.attributes.cloudTableId=H.i):t&&(n.attributes.cloudTableId=parseInt(p[e.attributes.cloudTableId])))}if(e.type===Y.A){var r=p[e.attributes.dataSource],o=T.b.get(e.id);o&&(r===H.e?(i.push(e),o.attributes.dataSource=""):r&&(o.attributes.dataSource=parseInt(p[e.attributes.dataSource])))}});case 45:D.next=58;break;case 47:D.prev=47,D.t2=D.catch(39),console.error(D.t2),f=(O=JSON.parse(D.t2.message)).code,A=O.msg,D.t3=f,D.next=0x268781f===D.t3?54:56;break;case 54:return _.push.apply(_,ef.a(e.filter(function(e){return e.type===Y.k||e.type===Y.A}))),D.abrupt("break",58);case 56:return D.next=58,er.b(e3,e.filter(function(e){return e.type===Y.k}),A);case 58:if(!(r.length>0||a.length>0||i.length>0)){D.next=61;break}return D.next=61,er.b(e3,[].concat(r,a,i),"cloudSpace.dataSourceNotExist");case 61:if(!(o.length>0)){D.next=64;break}return D.next=64,er.b(e4,[].concat(o),"cloudSpace.cloudDict");case 64:if(!(_.length>0)){D.next=67;break}return D.next=67,er.b(e4,[].concat(_),"cloudSpace.cloudTable");case 67:I=[],T.b.forEach(function(e){e.type===Y.j&&I.push(e)}),R=ei().mark(function e(){var t,n,a,i;return ei().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=S[y],!(n=T.b.get(t.id))){e.next=8;break}return a=o.find(function(e){return e.id===n.id}),i=r.find(function(e){return e.id===n.id}),e.next=7,er.e(eE.Lg(t.id,"cloudDictId",a||i?H.i:n.attributes.cloudDictId,!0,!0,!0));case 7:T.b.delete(t.id);case 8:case"end":return e.stop()}},e)}),y=0,S=I;case 71:if(!(y<S.length)){D.next=76;break}return D.delegateYield(R(),"t4",73);case 73:y++,D.next=71;break;case 76:m=[],T.b.forEach(function(e){e.type===Y.k&&m.push(e)}),C=ei().mark(function e(){var t,n,a,i;return ei().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=g[b],!(n=T.b.get(t.id))){e.next=8;break}return a=_.find(function(e){return e.id===n.id}),i=r.find(function(e){return e.id===n.id}),e.next=7,er.e(eE.Lg(t.id,"cloudTableId",a||i?H.i:n.attributes.cloudTableId,!0,!0,!0));case 7:T.b.delete(t.id);case 8:case"end":return e.stop()}},e)}),b=0,g=m;case 80:if(!(b<g.length)){D.next=85;break}return D.delegateYield(C(),"t5",82);case 82:b++,D.next=80;break;case 85:N=[],T.b.forEach(function(e){e.type===Y.A&&N.push(e)}),L=ei().mark(function e(){var t,n,a,i;return ei().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=h[v],!(n=T.b.get(t.id))){e.next=8;break}return a=_.find(function(e){return e.id===n.id}),i=r.find(function(e){return e.id===n.id}),e.next=7,er.e(eE.Lg(t.id,"dataSource",a||i?"":n.attributes.dataSource,!0,!0,!0));case 7:T.b.delete(t.id);case 8:case"end":return e.stop()}},e)}),v=0,h=N;case 89:if(!(v<h.length)){D.next=94;break}return D.delegateYield(L(),"t6",91);case 91:v++,D.next=89;break;case 94:return D.next=96,er.b(tn);case 96:return D.next=98,er.b(to);case 98:return D.next=100,er.e(ep.D());case 100:return D.next=102,er.b(tr);case 102:return D.next=104,er.e(eE.Qj());case 104:case"end":return D.stop()}},eV,null,[[20,28],[39,47]])}function tt(){var e;return ei().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,er.e(ed.f({header:{cloudDBManager:el.j.Hide}}));case 2:return t.next=4,er.b(g.h);case 4:if(!((e=t.sent)&&e.length>0)){t.next=8;break}return t.next=8,er.e(ed.f({header:{cloudDBManager:el.j.Show}}));case 8:case"end":return t.stop()}},eW)}function tn(){var e,t;return ei().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:e={},T.g.forEach(function(t){t.type===Y.j&&t.attributes.cloudDictId&&(e[t.attributes.cloudDictId]=!1)}),n.t0=ei().keys(e);case 3:if((n.t1=n.t0()).done){n.next=10;break}return t=Number(n.t1.value),n.next=8,er.e(ep.C(t));case 8:n.next=3;break;case 10:case"end":return n.stop()}},eH)}function tr(){var e,t;return ei().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:e={},T.g.forEach(function(t){t.type===Y.A&&"number"==typeof t.attributes.dataSource&&(e[t.attributes.dataSource]=!1)}),n.t0=ei().keys(e);case 3:if((n.t1=n.t0()).done){n.next=10;break}return t=Number(n.t1.value),n.next=8,er.e(ep.F(t));case 8:n.next=3;break;case 10:case"end":return n.stop()}},eK)}function ta(e){var t,n,r,a,i,o;return ei().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return n=(t=e.payload).id,r=t.showToast,_.prev=1,_.next=4,er.f(E.u);case 4:return a=_.sent,_.next=7,er.f(E.r);case 7:if(i=_.sent,o=[],!a||i){_.next=15;break}return _.next=12,er.b(d.k,n,a);case 12:o=_.sent,_.next=18;break;case 15:return _.next=17,er.b(d.f,n);case 17:o=_.sent;case 18:return _.next=20,er.e(ep.H(n,o,!0));case 20:_.next=27;break;case 22:if(_.prev=22,_.t0=_.catch(1),!r){_.next=27;break}return _.next=27,er.e(eE.Szx({type:"error",message:_.t0.message}));case 27:case"end":return _.stop()}},ej,null,[[1,22]])}function ti(e){var t,n,r,a,i,o,_,s,u;return ei().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return r=(n=e.payload).id,a=n.data,i=n.isEmitOT,c.next=3,er.f(E.a);case 3:return o=c.sent.find(function(e){return e.id===r}),c.next=7,er.e(ep.O(r,a));case 7:i&&null!=(_=P.E.cloudSpace)&&_.clientOp.updateCloudDictKeys(r,a),(null==o||null==(t=o.data)?void 0:t.length)&&(s=[],u=[],o.data.forEach(function(e){var t=!0;a.forEach(function(n){e.id===n.id&&(t=!1,e.key!==n.key&&u.push(eO.a(eO.a({},n),{},{oldKey:e.key})))}),t&&s.push(e)}),s.forEach(function(e){z.q(z.c.CLOUD_DICT_KEYS,e.key)}),u.forEach(function(e){z.v(r,e.oldKey,e.key)}));case 9:case"end":return c.stop()}},eF)}function to(){var e,t;return ei().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:e={},T.g.forEach(function(t){t.type===Y.k&&t.attributes.cloudTableId!==H.i&&(e[t.attributes.cloudTableId]=!1),t.type===Y.A&&"number"==typeof t.attributes.dataSource&&(e[t.attributes.dataSource]=!1)}),n.t0=ei().keys(e);case 3:if((n.t1=n.t0()).done){n.next=10;break}return t=Number(n.t1.value),n.next=8,er.e(ep.E(t,!1));case 8:n.next=3;break;case 10:case"end":return n.stop()}},eX)}function t_(e){var t,n,r,a,i,o;return ei().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return n=(t=e.payload).id,r=t.showToast,_.prev=1,_.next=4,er.f(E.y);case 4:return a=_.sent,_.next=7,er.f(E.r);case 7:if(i=_.sent,!a||i){_.next=14;break}return _.next=11,er.b(d.m,n,a);case 11:o=_.sent,_.next=17;break;case 14:return _.next=16,er.b(d.i,n);case 16:o=_.sent;case 17:return _.next=19,er.e(ep.J(n,o.columns,!0));case 19:_.next=26;break;case 21:if(_.prev=21,_.t0=_.catch(1),!r){_.next=26;break}return _.next=26,er.e(eE.Szx({type:"error",message:_.t0.message}));case 26:case"end":return _.stop()}},eJ,null,[[1,21]])}function ts(e,t){var n,r,a,i,o,_,s,u;return ei().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:n=[],T.g.forEach(function(t){t.type===Y.A&&t.attributes.dataSource===e&&n.push(t)}),r=0,a=n;case 3:if(!(r<a.length)){c.next=14;break}for(s in o=(i=a[r]).attributes.templateSlotMap,_=!1,o)(u=o[s].dataBindings)&&t.includes(u)&&(o[s].dataBindings="",_=!0);if(!_){c.next=11;break}return c.next=11,er.e(eE.Lg(i.id,"templateSlotMap",o,!1,!0,!0));case 11:r++,c.next=3;break;case 14:case"end":return c.stop()}},ez)}function tu(e){var t,n,r,a,i,o,_,s,u;return ei().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return r=(n=e.payload).id,a=n.columns,i=n.isEmitOT,c.next=3,er.f(E.c);case 3:return o=c.sent.find(function(e){return e.id===r}),c.next=7,er.e(ep.R(r,a));case 7:return c.next=9,er.e(ep.T(r,a));case 9:if(i&&(null==(_=P.E.cloudSpace)||_.clientOp.updateCloudTableColumns(r,a)),!(null==o||null==(t=o.columns)?void 0:t.length)||(s=[],u=[],o.columns.forEach(function(e){var t=!0;a.forEach(function(n){e.id===n.id&&(t=!1,e.name!==n.name&&u.push(eO.a(eO.a({},n),{},{oldName:e.name})))}),t&&s.push(e)}),s.forEach(function(e){z.q(z.c.CLOUD_TABLE_COLUMNS,e.name)}),u.forEach(function(e){z.w(r,e.oldName,e.name)}),!(s.length>0))){c.next=19;break}return c.next=19,er.b(ts,r,s.map(function(e){return e.id}));case 19:case"end":return c.stop()}},eq)}function tc(e){var t,n,r,a,i;return ei().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload.id,o.prev=1,o.next=4,er.f(E.u);case 4:return r=o.sent,o.next=7,er.f(E.r);case 7:if(a=o.sent,i=[],!r||a){o.next=15;break}return o.next=12,er.b(d.l,t,r);case 12:i=o.sent,o.next=18;break;case 15:return o.next=17,er.b(d.h,t);case 17:i=o.sent;case 18:return o.next=20,er.e(ep.S(t,i));case 20:null!=(n=P.E.cloudSpace)&&n.clientOp.updateCloudTableData(t,i),o.next=25;break;case 23:o.prev=23,o.t0=o.catch(1);case 25:case"end":return o.stop()}},eQ,null,[[1,23]])}function tl(e){var t,n,r;return ei().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=(t=e.payload).list,t.isEmitOT&&null!=(r=P.E.cloudSpace)&&r.clientOp.updateCloudDictList(n),a.next=4,er.e(ep.P(n));case 4:case"end":return a.stop()}},eZ)}function tE(e){var t,n,r,a;return ei().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=(t=e.payload).list,r=t.isEmitOT,i.next=3,er.e(ep.Q(n));case 3:r&&null!=(a=P.E.cloudSpace)&&a.clientOp.updateCloudTableList(n);case 4:case"end":return i.stop()}},e$)}r={},et.a(r,ep.h,te),et.a(r,ep.c,e8),et.a(r,ep.d,ta),et.a(r,ep.i,ti),et.a(r,ep.f,t_),et.a(r,ep.k,tu),et.a(r,ep.g,tc),et.a(r,ep.j,tl),et.a(r,ep.l,tE);var tp=(0,u.qn)(r);function td(){return ei().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,er.g(Object.keys(r),tp);case 2:return e.next=4,er.h([ep.e],e5);case 4:case"end":return e.stop()}},e1)}var tT=ei().mark(nb),tO=ei().mark(ng),tf=ei().mark(nN),tA=ei().mark(nL),tI=ei().mark(nv),tR=ei().mark(nh),ty=ei().mark(nD),tS=ei().mark(nx),tm=ei().mark(nB),tC=ei().mark(nk),tb=ei().mark(nU),tg=ei().mark(nP),tN=ei().mark(nM),tL=ei().mark(nw),tv=ei().mark(nG),th=ei().mark(nY),tD=ei().mark(nV),tx=ei().mark(nW),tB=ei().mark(nH),tk=ei().mark(nK),tU=ei().mark(nj),tP=ei().mark(nF),tM=ei().mark(nX),tw=ei().mark(nJ),tG=ei().mark(nz),tY=ei().mark(nq),tV=ei().mark(n$),tW=ei().mark(n0),tH=ei().mark(n2),tK=ei().mark(n3),tj=ei().mark(n4),tF=ei().mark(n5),tX=ei().mark(n6),tJ=ei().mark(n7),tz=ei().mark(n8),tq=ei().mark(n9),tQ=ei().mark(rt),tZ=ei().mark(rn),t$=ei().mark(rr),t1=ei().mark(ra),t0=ei().mark(ri),t2=ei().mark(ro),t3=ei().mark(r_),t4=ei().mark(rs),t5=ei().mark(ru),t6=ei().mark(rc),t7=ei().mark(rl),t8=ei().mark(rE),t9=ei().mark(rp),ne=ei().mark(rd),nt=ei().mark(rT),nn=ei().mark(rO),nr=ei().mark(rf),na=ei().mark(rA),ni=ei().mark(rI),no=ei().mark(rR),n_=ei().mark(ry),ns=ei().mark(rS),nu=ei().mark(rm),nc=ei().mark(rC),nl=ei().mark(rb),nE=ei().mark(rg),np=ei().mark(rN),nd=ei().mark(rL),nT=ei().mark(rv),nO=ei().mark(rh),nf=ei().mark(rD),nA=ei().mark(rx),nI=ei().mark(rB),nR=ei().mark(rk),ny=ei().mark(rU),nS=ei().mark(rP),nm=ei().mark(rM),nC=ei().mark(rG);function nb(e){var t,n,r,a,i,o,_,s,u,c;return ei().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return r=(n=e.payload).index,i=void 0===(a=n.shouldSaveCurrentData)||a,l.next=3,er.f(E.x);case 3:return o=l.sent,l.next=6,er.f(E.C);case 6:if(s=(_=l.sent).get(r),u=-1===o?"__EMPTY_ID__":(null==(t=_.get(o))?void 0:t.id)||"__EMPTY_ID__",!(null==s?void 0:s.id)||s.id===u){l.next=17;break}return z.g.setSelectedItem(),l.next=13,er.e(eE.Bi(r));case 13:return l.next=15,er.e(eE.ug(void 0));case 15:z.z.selectWorkspaceByScreenId(s.id,i),null!=(c=P.E.customEvent)&&c.emit.focusItem("widget");case 17:case"end":return l.stop()}},tT)}function ng(e){var t,n,r,a,i,o,_,s,u,c;return ei().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return r=e.payload.index,l.next=3,er.f(E.s);case 3:return a=l.sent,l.next=6,er.f(E.C);case 6:return i=l.sent,o=H.B(w.c(a,"defaultScreenTitle").toString(),i),_=H.A(o),s=i.size,u=z.z.addWorkspaceData({screenId:_.id}),c=void 0!==r?r:s,l.next=14,er.e(eE.if(_,c));case 14:return l.next=16,er.e(eE.vg(c));case 16:return l.next=18,er.e(eE.Fi(!0));case 18:null!=(t=P.E.screen)&&t.clientOp.addScreen(_,c),null!=(n=P.E.blink)&&n.clientOp.addWorkspace(_.id,{screenId:_.id,workspaceJson:null==u?void 0:u.getWorkspaceJson(),workspaceOffset:null==u?void 0:u.getWorkspaceOffset()});case 20:case"end":return l.stop()}},tO)}function nN(e){var t,n;return ei().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload.code,r.next=3,er.f(E.s);case 3:return n=r.sent,r.next=6,er.e(eE._$u());case 6:if(0x269fb87!==t){r.next=11;break}return r.next=9,er.e(eE.xqZ({title:"error",content:w.c(n,"MyProject.projectHasDeleted").toString(),cancelBtnVisible:!1}));case 9:case 14:r.next=19;break;case 11:if(0x269fb85!==t){r.next=16;break}return r.next=14,er.e(eE.xqZ({title:"error",content:w.c(n,"MyProject.projectHasNoRermission").toString(),cancelBtnVisible:!1}));case 16:if(0x268780a!==t){r.next=19;break}return r.next=19,er.e(eE.xqZ({title:w.c(n,"OT.editPermissionLostTitle").toString(),content:w.c(n,"OT.editPermissionLostDescription").toString(),cancelBtnVisible:!1}));case 19:case"end":return r.stop()}},tf)}function nL(e){var t,n,r,a,i,o,_,u,l,p,d,T,O,f,A,R,y;return ei().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return n=(t=e.payload).json,a=void 0===(r=t.jsonFrom)?el.d.OTHER:r,i=t.lastSavedTime,o=t.projectId,_=t.isCollWork,l=void 0===(u=t.isAuthor)||u,p=t.editPermission,d=t.sourceTag,T=t.sourceId,S.next=3,er.e(eE.Gi(!1));case 3:return S.next=5,er.f(E.s);case 5:return O=S.sent,S.next=8,er.e(eE.Ug());case 8:return f=n,A=d||el.g.FREEDOM,R=T||"",S.next=13,er.e(eE.Di(a));case 13:return f||(f=function(e){var t=H.A(w.c(e,"defaultScreenTitle").toString());return{title:w.c(e,"newProjectTitle").toString(),version:es.e,blockly:et.a({},t.id,{screenId:t.id,workspaceJson:{blocks:{},connections:{},comments:{}},workspaceOffset:{x:0,y:0}}),screens:et.a({},t.id,eO.a(eO.a({},t),{},{widgets:{}})),screenIds:[t.id],imageFileList:[],globalVariableList:[],globalArrayList:[],globalObjectList:[]}}(O)),S.next=16,er.b(nx,f);case 16:return S.next=18,er.e(eE.Uh(o||G.a("PROJECT")));case 18:return S.next=20,er.e(eE.Ei(i));case 20:return S.next=22,er.e(eE.Fi(!1));case 22:return S.next=24,er.e(eo.n());case 24:if(a!==el.d.MY_WORK){S.next=29;break}return S.next=27,er.e(eE.Tg(!0));case 27:return S.next=29,er.e(ep.B(!0));case 29:if(!o){S.next=38;break}if(!_){S.next=33;break}return S.next=33,er.e(eo.o(o));case 33:U.jb(o),A=f.sourceTag||el.g.FREEDOM,R=f.sourceId||"",S.next=44;break;case 38:return(0,s.Gn)(),S.next=41,er.e(eE.Tg(!0));case 41:return U.k(["workId","inviteCode","jsonUrl"]),S.next=44,er.b(nh,A,R);case 44:return S.next=46,er.e(eo.q(!!l));case 46:return S.next=48,er.e(eE.Sg());case 48:return S.next=50,er.e(eE.bg());case 50:return S.next=52,er.e(eE.cg());case 52:if(a!==el.d.LOCAL_FILE){S.next=57;break}return S.next=55,er.e(ep.G());case 55:S.next=63;break;case 57:return S.next=59,er.b(tn);case 59:return S.next=61,er.b(to);case 61:return S.next=63,er.b(tr);case 63:return S.next=65,er.e(eE.Ci(p||el.c.Edit));case 65:return S.t0=z.z,S.next=68,er.f(E.y);case 68:return S.t1=S.sent,S.t0.setCurrentProjectId.call(S.t0,S.t1),S.next=72,er.e(eE.Ui({tag:A,id:R}));case 72:return a!==el.d.HOME_COURSE&&U.k(["courseId"]),a!==el.d.HOME_TEMPLATE&&U.k(["templateId"]),S.next=76,er.b(c.go);case 76:if(o&&(y=(0,s.Bn)())&&(0,s.Fn)(y),a===el.d.HOME_COURSE||a===el.d.COURSE){S.next=81;break}return Z.a.isLoaded()&&(Z.a.show(),Z.a.close({closeAnimationPos:{x:150,y:30}})),S.next=81,er.e(eE.Gh(I.a));case 81:return S.next=83,er.e(eE.Gi(!0));case 83:case"end":return S.stop()}},tA)}function nv(e){var t,n,r,a;return ei().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload.json,i.next=3,er.e(eE.Gi(!1));case 3:return i.next=5,er.e(eE.Ug());case 5:return n=S.a(t),i.next=8,er.b(nx,n);case 8:return i.next=10,er.e(eE.Uh(t.id));case 10:return i.next=12,er.e(eE.Fi(!1));case 12:return i.next=14,er.e(eE.bg());case 14:return i.next=16,er.e(eE.cg());case 16:return i.next=18,er.b(tn);case 18:return i.next=20,er.b(to);case 20:return i.next=22,er.b(tr);case 22:return i.next=24,er.e(eE.Ci(el.c.Edit));case 24:return i.t0=z.z,i.next=27,er.f(E.y);case 27:return i.t1=i.sent,i.t0.setCurrentProjectId.call(i.t0,i.t1),i.next=31,er.e(eE.Gi(!0));case 31:r=z.z.generateAllWorkspaceCodes(t.screenList),void 0!==(a=$.minify(r,{keep_fnames:!0})).code&&(r=a.code),window.parent.postMessage({type:"PLAYER_BLOCK_CODE",payload:r},"*");case 35:case"end":return i.stop()}},tI)}function nh(e,t){var n,r;return ei().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,er.f(E.y);case 2:return n=a.sent,a.next=5,er.f(E.G);case 5:r=a.sent,F.a("WorkCreate",{sourceTag:e,sourceId:t,workId:n,workType:"APP工匠",workName:r,isSuccess:!0,failReason:""});case 7:case"end":return a.stop()}},tR)}function nD(e){var t;return ei().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload.json,n.next=3,er.e(eE.cg());case 3:return n.next=5,er.e(eE.bg());case 5:return n.next=7,er.b(nx,t);case 7:return n.next=9,er.e(ep.B(!0));case 9:case"end":return n.stop()}},ty)}function nx(e){var t,n,r,a,i,o,_,s,u,l,p,d,O,I,R,m,C,b,g,N,v,h,x,B;let P,M,w,G,V,W,K,j,F,X,J,q,Q,Z,$,ee,et,en,ea;return ei().wrap(function(eo){for(;;)switch(eo.prev=eo.next){case 0:return S.b(e),T.b.clear(),{blockly:P,title:M,imageFileList:w,soundFileList:G,iconFileList:V,screenIds:W,globalVariableList:K,globalArrayList:j,globalWidgetIds:F=[],globalWidgets:X={},extensionWidgetList:J=[],unsafeExtensionWidgetList:q=[],globalObjectList:Q,version:Z=1,cloudDictKeysList:$,cloudTableColumnList:ee,cloudTableDataList:et,cloudDictList:en,cloudTableList:ea}=e,eo.next=5,er.b(D.Ci,J,q);case 5:return t=k.f(e.screens),eo.next=8,er.b(D.w,J,t,X);case 8:return eo.next=10,er.f(E.z);case 10:return n=eo.sent,S.c(t,Z),r=k.e(e.screens,W),eo.next=15,er.e(eE.Th({screens:r,title:M,globalVariableList:K,globalArrayList:j,globalWidgetIds:F,globalObjectList:Q}));case 15:return eo.next=17,er.f(E.y);case 17:if(a=eo.sent,A.clearLocalDocuments(a,F),f.a.clear(),n===el.d.LOCAL_FILE){i=H.Zb(X),o=e_.a(i);try{for(o.s();!(_=o.n()).done;)s=_.value,T.b.set(s.id,s)}catch(e){o.e(e)}finally{o.f()}u=H.Zb(t),l=e_.a(u);try{for(l.s();!(p=l.n()).done;)d=p.value,T.b.set(d.id,d)}catch(e){l.e(e)}finally{l.f()}}return H.Sb(eO.a(eO.a({},t),X)),eo.next=24,er.b(c.go);case 24:return H.Qb(w),function(e){for(let{workspaceJson:t}of Object.values(e)){let{blocks:e,connections:n,comments:r}=t;for(let[t,a]of Object.entries(e))a.is_shadow&&null==a.parent_id&&(delete e[t],delete n[t],delete r[t])}}(P),z.z.replaceWorkspaces(P),L.b(),eo.next=29,er.b(n9);case 29:return eo.next=31,er.b(c.$r,G||[]);case 31:return eo.next=33,er.b(c.uo,V||[]);case 33:return eo.next=35,er.e(eE.vg(0,!1));case 35:return eo.next=37,er.e(eE.Zj());case 37:return eo.next=39,er.f(E.j);case 39:for(R in O=eo.sent,I={},O.forEach(function(e){e.cdnUrl&&(I[e.id]=e.cdnUrl)}),t)(m=t[R]).type===Y.H&&(C=m.attributes.fontFamily)&&I[C]&&!U.db[C]&&(U.bb(C,I[C]),U.db[C]=!0),m&&m.attributes&&"EXTENSION_QUILL_RICH_TEXT_WIDGET"===m.type&&(g=void 0===(b=m.attributes.content)?"":b,y.a(g).forEach(function(e){e&&I[e]&&!U.db[e]&&(U.bb(e,I[e]),U.db[e]=!0)}));if(n===el.d.LOCAL_FILE){eo.next=50;break}return N=H.ab(),eo.next=47,er.e(ep.U(N.map(function(e){return e.attributes.cloudDictId})));case 47:return v=H.rb(),eo.next=50,er.e(ep.V(v));case 50:if(!$){eo.next=58;break}eo.t0=ei().keys($);case 52:if((eo.t1=eo.t0()).done){eo.next=58;break}return h=eo.t1.value,eo.next=56,er.e(ep.O(Number(h),$[h]));case 56:eo.next=52;break;case 58:if(!ee){eo.next=66;break}eo.t2=ei().keys(ee);case 60:if((eo.t3=eo.t2()).done){eo.next=66;break}return x=eo.t3.value,eo.next=64,er.e(ep.R(Number(x),ee[x]));case 64:eo.next=60;break;case 66:if(!et){eo.next=74;break}eo.t4=ei().keys(et);case 68:if((eo.t5=eo.t4()).done){eo.next=74;break}return B=eo.t5.value,eo.next=72,er.e(ep.S(Number(B),et[B]));case 72:eo.next=68;break;case 74:if(!en){eo.next=77;break}return eo.next=77,er.e(ep.P(en));case 77:if(!ea){eo.next=80;break}return eo.next=80,er.e(ep.Q(ea));case 80:case"end":return eo.stop()}},tS)}function nB(e){var t,n,r,a,i,o,_,s,u,c,l,p;return ei().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return n=(t=e.payload).screenId,a=void 0===(r=t.isEmitOT)||r,d.next=3,er.f(E.C);case 3:return o=(i=d.sent).findIndex(function(e){return e.id===n}),_=i.get(o),d.next=8,er.f(E.x);case 8:return s=d.sent,d.next=11,er.f(E.f);case 11:if(u=d.sent,!(o>-1&&_&&u)){d.next=29;break}return z.q(z.c.SCREEN,n),z.z.removeWorkspaceByScreenId(n),_.get("widgetIds").forEach(function(e){return H.F(e)}),c=o<s?Math.max(s-1,0):Math.min(s,i.size-2),d.next=19,er.e(eE.eh(n));case 19:return d.next=21,er.e(eE.Bi(c));case 21:return d.next=23,er.e(eE.Fi(!0));case 23:return d.next=25,er.f(E.C);case 25:(l=d.sent.get(c))&&l.id!==u.id&&z.z.selectWorkspaceByScreenId(l.id,!1),a&&null!=(p=P.E.screen)&&p.clientOp.removeScreen(o,n);case 29:case"end":return d.stop()}},tm)}function nk(e){var t,n,r,a,i,o,_,s,u,c,l,p,d,T,O,f,A,I,R,y,S,m;return ei().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return t=e.payload.screenId,C.next=3,er.f(E.C);case 3:return r=(n=C.sent).findIndex(function(e){return e.id===t}),a=n.get(r),C.next=8,er.f(E.f);case 8:if(i=C.sent,o=r+1,!a||!i){C.next=48;break}return u=H.B(a.get("title"),n),c=H.A(u),l=a.get("widgetIds"),p=ef.a(l),l.forEach(function(e){H.v(e,p)}),c.widgetIds=p,d=a.get("invisibleWidgetIds"),T=ef.a(d),d.forEach(function(e){H.v(e,T)}),c.invisibleWidgetIds=T,O=new Map,p.forEach(function(e,t){O.set(l[t],e)}),f=eu.cloneDeep(a.get("primitiveVariables")),A=new Map,f.forEach(function(e){var t=G.a("VARIABLE");A.set(e.id,t),e.id=t}),c.primitiveVariables=f,I=eu.cloneDeep(a.get("arrayVariables")),R=new Map,I.forEach(function(e){var t=G.a("VARIABLE");R.set(e.id,t),e.id=t}),c.arrayVariables=I,y=eu.cloneDeep(a.get("objectVariables")),S=new Map,y.forEach(function(e){var t=G.a("OBJECT");S.set(e.id,t),e.id=t}),c.objectVariables=y,c.snapshot=a.get("snapshot"),c.backgroundColor=a.get("backgroundColor"),m=z.z.copyWorkspaceData(a.toJS().id,c.id,O,A,R,S),c.backgroundImage=a.get("backgroundImage"),c.backgroundImageResizeMode=a.get("backgroundImageResizeMode"),C.next=42,er.e(eE.if(c,o));case 42:return C.next=44,er.e(eE.vg(o));case 44:return C.next=46,er.e(eE.Fi(!0));case 46:null!=(_=P.E.screen)&&_.clientOp.addScreen(c,o),null!=(s=P.E.blink)&&s.clientOp.addWorkspace(c.id,m);case 48:case"end":return C.stop()}},tC)}function nU(e,t){var n;return ei().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(e.type!==Y.y){r.next=5;break}return r.next=3,er.b(nP,e.id);case 3:r.next=9;break;case 5:if(e.type!==Y.l||!t){r.next=9;break}return r.next=9,er.b(o.Ut,e.attributes.cloudDbId);case 9:return H.F(e.id),z.q(e.type,e.id),r.next=13,er.e(eE.Lh(e.id));case 13:return r.next=15,er.e(eE.bh(e.id));case 15:t&&null!=(n=P.E.globalWidget)&&n.clientOp.del(e.id);case 16:case"end":return r.stop()}},tb)}function nP(e){var t;return ei().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,er.f(E.y);case 2:t=n.sent,H.yb(e).forEach(function(e){z.q(z.c.DOC_KEYS,e.id)}),(0,_.gn)(t);case 6:case"end":return n.stop()}},tg)}function nM(e,t,n){var r,a,i,o,_,s,u,c,l,E,p,d,T,O,f,A,I,R,y,S;return ei().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(r=e.type,a=e.id,i=H.Db(r),r!==Y.f){m.next=25;break}o=e,_=ef.a(o.widgetIds),s=e_.a(_),m.prev=7,s.s();case 9:if((u=s.n()).done){m.next=15;break}return c=u.value,m.next=13,er.e(eE.Mf(c,t,!1));case 13:m.next=9;break;case 15:m.next=20;break;case 17:m.prev=17,m.t0=m.catch(7),s.e(m.t0);case 20:return m.prev=20,s.f(),m.finish(20);case 23:m.next=48;break;case 25:if(r!==Y.x&&r!==Y.A){m.next=47;break}l=e,E=ef.a(l.widgetIds),p=e_.a(E),m.prev=29,p.s();case 31:if((d=p.n()).done){m.next=37;break}return T=d.value,m.next=35,er.e(eE.Mf(T,t,!1));case 35:m.next=31;break;case 37:m.next=42;break;case 39:m.prev=39,m.t1=m.catch(29),p.e(m.t1);case 42:return m.prev=42,p.f(),m.finish(42);case 45:m.next=48;break;case 47:(r===Y.c||r===Y.a)&&((O=null==e?void 0:e.parentId)&&H.Bb(O)&&(A=(f=H.Bb(O).widgetIds).indexOf(a))>-1&&(f.splice(A,1),null!=(I=P.E.widget)&&I.clientOp.replaceWidgetAttributeOp(t,O,"widgetIds",f)),(R=W.b(a))&&B.b(R,a));case 48:return H.F(e.id),m.next=51,er.e(eE.Mh(t,a,null==i?void 0:i.isInvisibleWidget));case 51:return m.next=53,er.e(eE.bh(a));case 53:n&&((null==i?void 0:i.isInvisibleWidget)?null!=(y=P.E.widget)&&y.clientOp.deleteInvisibleWidgetOp(t,a):null!=(S=P.E.widget)&&S.clientOp.deleteWidgetOp(t,a)),z.q(r,a),("CANVAS_WIDGET"===r||"ACTOR_WIDGET"===r)&&z.l();case 56:case"end":return m.stop()}},tN,null,[[7,17,20,23],[29,39,42,45]])}function nw(e){var t,n,r;return ei().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,er.f(E.s);case 2:return t=a.sent,a.next=5,er.f(E.r);case 5:if(n=a.sent,r=!0,e.type!==Y.l||n){a.next=11;break}return a.next=10,er.e(eE.Szx({type:"error",message:w.c(t,"notHavePermissionToDeleteCloudDb").toString()}));case 10:r=!1;case 11:return a.abrupt("return",r);case 12:case"end":return a.stop()}},tL)}function nG(e){var t,n,r;return ei().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,er.f(E.s);case 2:return t=a.sent,a.next=5,er.f(E.r);case 5:if(n=a.sent,r=!0,e.type!==Y.l){a.next=18;break}if(!(H.cb().length>=V.f)){a.next=14;break}return a.next=11,er.e(eE.Szx({type:"error",message:w.c(t,"cloudDbCountOverflowTitle").toString()}));case 11:r=!1,a.next=18;break;case 14:if(n){a.next=18;break}return a.next=17,er.e(eE.Szx({type:"error",message:w.c(t,"notHavePermissionToAddCloudDb").toString()}));case 17:r=!1;case 18:return a.abrupt("return",r);case 19:case"end":return a.stop()}},tv)}function nY(e){var t,n,r,a,i,o,_,s,u,c,l,p,d,T,O,f;return ei().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return n=(t=e.payload).screenId,r=t.widgetId,i=void 0===(a=t.isEmitOT)||a,o=H.Bb(r),A.next=4,er.f(E.D);case 4:if(_=A.sent,o){A.next=7;break}return A.abrupt("return");case 7:if(!i){A.next=13;break}return A.next=10,er.b(nw,o);case 10:if(A.sent){A.next=13;break}return A.abrupt("return");case 13:if(o.type!==Y.h){A.next=21;break}return A.next=16,er.f(E.y);case 16:if(s=A.sent,!k.a(s)){A.next=21;break}return u=o.attributes.cloudDbId,A.next=21,er.b(g.d,u,s);case 21:if(o.id===_&&n&&z.g.setSelectedItemByWidgetId(n),!o.isGlobalWidget){A.next=27;break}return A.next=25,er.b(nU,o,i);case 25:A.next=30;break;case 27:if(!n||!o){A.next=30;break}return A.next=30,er.b(nM,o,n,i);case 30:if(o.type!==Y.G){A.next=57;break}c=H.L(Y.A),l=e_.a(c),A.prev=33,l.s();case 35:if((p=l.n()).done){A.next=47;break}if(d=p.value,(null==(T=H.Bb(d))?void 0:T.type)!==Y.A||T.attributes.dataSource!==r){A.next=45;break}for(f in O=T.attributes.templateSlotMap)O[f].dataBindings="";return A.next=43,er.e(eE.Kg(d,"dataSource",""));case 43:return A.next=45,er.e(eE.Kg(d,"templateSlotMap",O));case 45:A.next=35;break;case 47:A.next=52;break;case 49:A.prev=49,A.t0=A.catch(33),l.e(A.t0);case 52:return A.prev=52,l.f(),A.finish(52);case 55:return A.next=57,er.e(eE.Uj());case 57:return A.next=59,er.e(eE.Fi(!0));case 59:case"end":return A.stop()}},th,null,[[33,49,52,55]])}function nV(e,t,n){var r,a,i,o,_,s,u,c,l,p,d,T,O;return ei().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return s=function(e){return"string"==typeof e?w.f(r,e):(e.constructor!==Array&&e.constructor!==Object||Object.entries(e).forEach(function(t){var n=et.a(t,2),r=n[0],a=n[1];e[r]=s(a)}),e)},f.next=3,er.f(E.s);case 3:return r=f.sent,f.next=6,er.f(E.n);case 6:if(a=f.sent,i=H.Db(e)){f.next=10;break}return f.abrupt("return",null);case 10:if(_=(o=U.q(i.widget)).attributes,i.isInvisibleWidget||void 0!==o.opacity||(o.opacity=100),s(_),u=[],!i.widget.isGlobalWidget){f.next=19;break}u=a,f.next=24;break;case 19:if(!n){f.next=24;break}return f.next=22,er.f(E.H,n);case 22:(c=f.sent)&&(u=[].concat(ef.a(c.widgetIds),ef.a(c.invisibleWidgetIds)));case 24:return l=i.title,i.contentTextField&&i.contentTextField?(p=_[i.contentTextField],p=H.D(e,u,p)):(l=null==(d=w.c(r,i.title))?void 0:d.toString(),l=H.D(e,u,l)),T=G.a(e),O=eO.a(eO.a({animationRecord:{},size:{width:10,height:10}},o),{},{id:T,title:l,contentTitle:p,type:e,position:t,visible:!0,attributes:_,isGlobalWidget:i.widget.isGlobalWidget}),f.abrupt("return",O);case 30:case"end":return f.stop()}},tD)}function nW(e){var t;return ei().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,er.b(o.Bt,e.title);case 2:return t=n.sent,n.abrupt("return",t);case 4:case"end":return n.stop()}},tx)}function nH(e,t){var n,r;return ei().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(n=H.Db(e.type)){a.next=3;break}return a.abrupt("return");case 3:if(H.Ub(e.id,e),!e.isGlobalWidget){a.next=9;break}return a.next=7,er.e(eE.hf(e.id));case 7:a.next=12;break;case 9:if(!t){a.next=12;break}return a.next=12,er.e(eE.jf(t,e.id,n.isInvisibleWidget));case 12:if(e.type!==Y.B&&e.type!==Y.y){a.next=18;break}return r=e.attributes.fields,a.next=16,er.e(eE.bf(O.a(e.type,{id:e.id,name:e.title,value:r,defaultValue:"no-use"},{isWatching:!1})));case 16:a.next=21;break;case 18:if(e.type!==Y.G){a.next=21;break}return a.next=21,er.e(eE.bf(O.a(Y.G,{id:e.id,name:e.title,value:e.attributes.db,defaultValue:"no-use"},{isWatching:!1})));case 21:case"end":return a.stop()}},tB)}function nK(e){var t,n,r,a,i,o,_,s,u,c,l,p,d,T,O;return ei().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return n=(t=e.payload).screenId,r=t.widgetType,a=t.position,i=t.attributes,o=t.setBlockValue,_=H.Db(r),f.next=4,er.b(nV,r,a,n);case 4:if((s=f.sent)&&_){f.next=8;break}return console.error("Can not create widget"),f.abrupt("return");case 8:return f.next=10,er.b(nG,s);case 10:if(f.sent){f.next=13;break}return f.abrupt("return");case 13:return f.next=15,er.f(E.J);case 15:if(u=f.sent,s.type!==Y.LB&&s.type!==Y.AT){f.next=20;break}s.attributes.timeStamp=Date.now(),f.next=68;break;case 20:if(s.type!==Y.NO){f.next=30;break}if(u){f.next=25;break}return f.next=24,er.e(eE.dqt());case 24:case 49:case 61:return f.abrupt("return");case 25:return f.next=27,er.b(nW,s);case 27:s.attributes.cloudDbId=f.sent,f.next=68;break;case 30:if(s.type!==Y.x&&s.type!==Y.A){f.next=38;break}return f.next=33,er.b(nF,n,s.id,s.attributes.templateType);case 33:c=f.sent,s.widgetIds=c.widgetIds,s.attributes.templateSlotMap=c.templateSlotMap,f.next=68;break;case 38:if(s.type!==Y.m){f.next=42;break}i&&(eu.isString(i.name)&&(s.title=i.name),i.header&&(s.attributes.db.header=i.header),i.data&&(s.attributes.db.data=i.data)),f.next=68;break;case 42:if(s.type!==Y.h){f.next=67;break}return f.next=45,er.f(E.y);case 45:if(l=f.sent,u){f.next=50;break}return f.next=49,er.e(eE.dqt());case 50:if(i&&(s.attributes.cloudDbId=i.cloudDbId,s.attributes.name=i.name,s.attributes.columns=i.columns,s.attributes.primaryKey=i.primaryKey),"_EMPTY_CLOUD_DB_ID_"!==s.attributes.cloudDbId){f.next=64;break}return f.next=54,er.f(E.s);case 54:return p=f.sent,f.next=57,er.b(g.b,w.c(p,"cloudDb.defaultName").toString(),k.a(l)?l:"");case 57:if((d=f.sent).id){f.next=62;break}return f.next=61,er.e(eE.Szx({type:"error",message:w.c(p,"cloudDBWidget.generateError").toString()}));case 62:s.attributes.cloudDbId=d.id,s.attributes.name=d.name;case 64:s.title=s.attributes.name,f.next=68;break;case 67:s.type===Y.G&&(s.attributes.db=m.d());case 68:return f.next=70,er.b(nH,s,n);case 70:return o&&o(s.id),s.isGlobalWidget?P.E.globalWidget?.clientOp.add(s):n&&(_.isInvisibleWidget?null!=(T=P.E.widget)&&T.clientOp.addInvisibleWidgetOp(n,s):null!=(O=P.E.widget)&&O.clientOp.addWidgetOp(n,s)),f.next=74,er.e(eE.Fi(!0));case 74:if(s.type===Y.m){f.next=79;break}return f.next=77,er.b(nX,s);case 77:return f.next=79,er.e(eE.ug(s.id));case 79:return f.next=81,er.b(nJ,n,s);case 81:return v.a(s.type,null==u?void 0:u.id),f.abrupt("return",s);case 83:case"end":return f.stop()}},tk)}function nj(e){var t,n,r,a,i,o;return ei().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(t=e.payload.widgetType,H.Db(t)){_.next=17;break}return _.next=4,er.f(E.t);case 4:if(!(n=_.sent.find(function(e){return ec.c(e.type,!0)===t}))){_.next=11;break}return _.next=9,er.b(D.u,n.cdnUrl,n.id);case 9:_.next=16;break;case 11:return _.next=13,er.f(E.s);case 13:return r=_.sent,_.next=16,er.e(eE.Szx({type:"error",message:w.c(r,"WidgetList.addFailureToast").toString()}));case 16:ec.QA(t)&&(o={id:(i=h.f(t)).id,cdnUrl:i.cdnUrl,type:i.type},null!=(a=P.E.extensionWidget)&&a.clientOp.addMallExtensionWidget(o));case 17:case"end":return _.stop()}},tU)}function nF(e,t,n){var r,a,i,o,_,s,u,c,l;return ei().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,er.f(E.s);case 2:r=p.sent,a=x.n[n],i=[],o={},p.t0=ei().keys(a);case 7:if((p.t1=p.t0()).done){p.next=28;break}return u=a[_=p.t1.value],c=H.Db(u.widgetType),p.next=13,er.b(nV,u.widgetType,{x:0,y:0},e);case 13:if((l=p.sent)&&c){p.next=17;break}return console.error("can not create widget"),p.abrupt("return");case 17:return l.parentId=t,l.title=w.c(r,u.titleMessageId).toString(),l.attributes=eO.a(eO.a({},l.attributes),u.attributes),l.type===Y.H&&(l.attributes.content=w.c(r,u.contentMessageId||"").toString(),l.attributes.textAlign="left"),p.next=23,er.b(nH,l,e);case 23:o[_]={label:l.title,widgetId:l.id,dataBindings:""},i.push(l.id),null!=(s=P.E.widget)&&s.clientOp.addWidgetOp(e,l),p.next=7;break;case 28:return p.abrupt("return",{widgetIds:i,templateSlotMap:o});case 29:case"end":return p.stop()}},tP)}function nX(e){var t,n,r,a,i;return ei().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,er.f(E.s);case 2:if(t=o.sent,n=H.Db(e.type)){o.next=6;break}return o.abrupt("return");case 6:if(!n.isInvisibleWidget){o.next=11;break}return a=null==(r=w.c(t,n.title))?void 0:r.toString(),i=w.c(t,"WidgetList.addSuccessToast",{widgetTitle:a}).toString(),o.next=11,er.e(eE.xj("".concat(i),!0));case 11:case"end":return o.stop()}},tM)}function nJ(e,t){var n,r,a,i,o,_;return ei().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,er.f(E.s);case 2:if(r=s.sent,a=H.Db(t.type)){s.next=6;break}return s.abrupt("return");case 6:return s.next=8,er.f(E.f);case 8:return i=s.sent,s.next=11,er.f(E.u);case 11:o=s.sent,_=null==(n=w.c(r,a.previewAreaWidgetTitle))?void 0:n.toString(),F.a("AddWidgetToStage",{screenId:e,screenName:(null==i?void 0:i.title)||"",isCooperation:!!o,widgetName:_});case 14:case"end":return s.stop()}},tw)}function nz(e){var t,n,r,a,i,o,_,s,u,c,l,p;return ei().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return a=(r=e.payload).widgetId,i=r.templateType,o=r.onSuccess,_=H.Bb(a),d.next=4,er.f(E.g);case 4:if(s=d.sent,_&&s){d.next=7;break}return d.abrupt("return");case 7:if(_.type===Y.x||_.type===Y.A){d.next=9;break}return d.abrupt("return");case 9:u=e_.a(_.widgetIds),d.prev=10,u.s();case 12:if((c=u.n()).done){d.next=18;break}return l=c.value,d.next=16,er.e(eE.Mf(l,s,!0));case 16:d.next=12;break;case 18:d.next=23;break;case 20:d.prev=20,d.t0=d.catch(10),u.e(d.t0);case 23:return d.prev=23,u.f(),d.finish(23);case 26:return z.t(a),d.next=29,er.b(nF,s,a,i);case 29:return p=d.sent,H.Wb(a,p.widgetIds),d.next=33,er.e(eE.Kg(a,"templateSlotMap",p.templateSlotMap));case 33:null!=(t=P.E.widget)&&t.clientOp.replaceWidgetAttributeOp(s,a,"widgetIds",p.widgetIds),null!=(n=P.E.widget)&&n.clientOp.replaceWidgetAttributeOp(s,a,"templateSlotMap",p.templateSlotMap),o();case 36:case"end":return d.stop()}},tG,null,[[10,20,23,26]])}function nq(e){var t,n,r,a,i,o,_,s,u,c,l,p,d;return ei().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return n=(t=e.payload).gridId,r=t.deleteColumnIdList,T.next=3,er.f(E.f);case 3:if(a=T.sent){T.next=6;break}return T.abrupt("return");case 6:i=a.id,o=e_.a(a.widgetIds),T.prev=8,o.s();case 10:if((_=o.n()).done){T.next=23;break}if(s=_.value,(null==(u=H.Bb(s))?void 0:u.type)!==Y.x&&(null==u?void 0:u.type)!==Y.A||u.attributes.dataSource!==n){T.next=21;break}for(p in c=!1,l=u.attributes.templateSlotMap)r.includes(l[p].dataBindings)&&(l[p].dataBindings="",c=!0);if(!c){T.next=21;break}return T.next=20,er.e(eE.Kg(s,"templateSlotMap",l));case 20:null!=(d=P.E.widget)&&d.clientOp.replaceWidgetAttributeOp(i,s,"templateSlotMap",l);case 21:T.next=10;break;case 23:T.next=28;break;case 25:T.prev=25,T.t0=T.catch(8),o.e(T.t0);case 28:return T.prev=28,o.f(),T.finish(28);case 31:case"end":return T.stop()}},tY,null,[[8,25,28,31]])}function nQ(){return nZ.apply(this,arguments)}function nZ(){return(nZ=en.a(ei().mark(function e(){var t,n,r;return ei().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=H.Y().map(function(e){return e.attributes.cloudDbId})).length){e.next=6;break}return e.next=4,g.j(t);case 4:(n=e.sent)&&(r=l.M_.getState().common.language,l.M_.dispatch(eE.Szx({type:"error",duration:4e3,message:w.c(r,n).toString()})));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function n$(){var e,t,n,r,a,i;return ei().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,er.f(E.y);case 2:return e=_.sent,_.next=5,er.b(function(){return n1(!1)});case 5:return t=_.sent,_.next=8,er.f(E.J);case 8:if(n=_.sent,t){_.next=11;break}return _.abrupt("return");case 11:if(n){_.next=15;break}return _.next=14,er.e(eE.dqt());case 14:return _.abrupt("return");case 15:return _.prev=15,r=H.cb(),_.next=19,er.f(E.A);case 19:return a=_.sent,_.next=22,er.b(Q.l,a,t);case 22:return i=_.sent,_.next=25,er.e(eE.Ni(i.pack_label));case 25:return _.next=27,er.e(eE.Ig());case 27:return(0,o.qt)(r.map(function(e){return e.attributes.cloudDbId}),2,1,k.a(e)?e:void 0),_.next=30,nQ();case 30:_.next=38;break;case 32:return _.prev=32,_.t0=_.catch(15),_.next=36,er.e(eE.Ki(-1));case 36:return _.next=38,er.b(n2,_.t0.message);case 38:case"end":return _.stop()}},tV,null,[[15,32]])}function*n1(e,t){var n;let r=yield er.f(E.y),a=yield er.f(E.s),i=yield er.f(E.C),o=yield er.f(E.m),_=yield er.f(E.k),s=yield er.f(E.l),u=yield er.f(E.n),c=yield er.f(E.f),l=yield er.f(E.v);if(!c)return;z.z.updateCurrentWorkspaceData();let p=z.z.hasCloudBlock("cloudRoom"),d=z.z.hasCloudBlock("cloudStorage"),T=z.z.hasCloudBlock("cloudDB"),O=z.z.hasCloudBlock("cloudDict"),f=z.z.hasCloudBlock("cloudTable");n=H.q(),(p||T||d||O||f||n)&&(k.a(r)||(yield er.e(eE.Szx({duration:4e3,showPrefixIcon:!1,message:w.c(a,"project.saving").toString()})),r=yield er.b(ra,eE.NEw({isUpdate:!1,isAutoSave:!0}))),l||(yield er.b(r_),l=yield er.f(E.v)));let A=e?c.id:i.toArray()[0].id,I=yield rt(),R=yield rn(),y=yield rr(),S=Q.c(r,z.z,i.toArray(),o,_,H.kb(),I,R,A,l,u,s);!t&&S.unsafeExtensionWidgetList?.length&&(S.bypassAudit={unsafeExtensionWidgetList:S.unsafeExtensionWidgetList},S.unsafeExtensionWidgetList=[]),S.fontFileMap=y,S.blockCode=z.z.generateAllWorkspaceCodes(S.screenList,t);let m=$.minify(S.blockCode,{keep_fnames:!0});return void 0!==m.code&&(S.blockCode=m.code),S}function n0(){var e,t,n,r,a,i,o;return ei().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,er.f(E.B);case 2:return e=_.sent,_.next=5,er.e(eE.Oi(!0));case 5:return _.next=7,er.e(eE.Ii(!1));case 7:return _.next=9,er.e(eE.Ki(0));case 9:t=0,_.prev=10;case 11:if(!(t<100&&t>=0&&e)){_.next=22;break}return _.next=14,er.b(Q.a,e);case 14:return t=_.sent.progress,_.next=18,er.e(eE.Ki(t));case 18:return _.next=20,er.c(1e3);case 20:_.next=11;break;case 22:if(-1!==t){_.next=27;break}return _.next=25,er.e(eE.Oi(!1));case 25:return _.next=27,er.b(n2,"-1");case 27:if(-2!==t){_.next=32;break}return _.next=30,er.e(eE.Oi(!1));case 30:return _.next=32,er.b(n2,"取消打包");case 32:if(100!==t){_.next=49;break}return _.next=35,er.b(Q.i,e);case 35:return r=(n=_.sent).url,a=n.version,i=n.expireTime,_.next=41,er.e(eE.Oi(!1,r));case 41:return _.next=43,er.e(eE.Ji({version:a,expireTime:i,startTimeTamp:Date.now()}));case 43:return _.next=45,er.e(eE.Mi(!0));case 45:return _.next=47,er.e(eE.Li(!1));case 47:return _.next=49,er.b(n2);case 49:_.next=61;break;case 51:return _.prev=51,_.t0=_.catch(10),_.next=55,er.e(eE.Ki(-1));case 55:return _.next=57,er.e(eE.Oi(!1));case 57:return o=_.t0,console.error(_.t0),_.next=61,er.b(n2,o.message);case 61:case"end":return _.stop()}},tW,null,[[10,51]])}function n2(e){var t,n,r,a,i;return ei().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,er.f(E.y);case 2:return t=o.sent,o.next=5,er.f(E.F);case 5:return n=o.sent,o.next=8,er.f(E.A);case 8:return r=o.sent,o.next=11,er.f(E.w);case 11:a=o.sent,i=r.apkSplash.match(/splash0(\d)\.png/),F.a("WorkPack",{workId:t,sourceTag:n.tag,sourceId:n.id,launchScreenId:i?i[1]:"0",apkName:r.apkName,isSuccess:!e,failReason:e||"",bcmUrl:e?a:"",packLabel:e&&r.packLabel?r.packLabel:""});case 14:case"end":return o.stop()}},tH)}function n3(e){var t,n,r,a,i,o,_,s,u,c;return ei().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.payload.isPlayCurrentScreen,l.next=3,er.f(E.s);case 3:return n=l.sent,l.next=6,er.e(eE.Sg());case 6:return l.prev=6,l.next=9,er.b(function(){return n1(t,!0)});case 9:if(r=l.sent){l.next=12;break}return l.abrupt("return");case 12:if(a=r.widgetMap,i=new Set,o=new Set,_=new Set,s=!0,Object.values(a).forEach(function(e){var t,r=e.type,a=h.f(r);if(r.includes(ec.c_),null==a||null==(t=a.types)?void 0:t.platforms){var i=a.types.platforms.includes("web");if(!i){if(D.q(r))_.add(a.types.title);else{var o=H.Db(r);if(o){var u=w.c(n,o.title);_.add(u)}}s=i}}}),!o.size){l.next=22;break}return l.next=21,er.e(eE.xqZ({allowText:w.c(n,"cloudDb.know").toString(),title:"error",content:w.c(n,"Play.widgetNotSupportsForbiddenKeywords",{widgetTypeNames:Array.from(i).join("、"),keywords:Array.from(o).join("、")}).toString(),cancelBtnVisible:!1}));case 21:return l.abrupt("return");case 22:if(s){l.next=25;break}return l.next=25,er.e(eE.Szx({type:"info",duration:4e3,message:w.c(n,"Play.widgetNotSupportsWebPlatform",{widgetTypeNames:Array.from(_).join("、")}).toString()}));case 25:return l.next=27,er.f(E.y);case 27:return u=l.sent,z.z.stopWarningAnimation(),l.next=31,er.b(Q.b,u,r);case 31:return l.next=33,er.e(eE.Cj());case 33:return l.next=35,er.b(n4,a);case 35:return N.b({playing:!0}),l.next=38,er.b(n5);case 38:l.next=51;break;case 40:if(l.prev=40,l.t0=l.catch(6),!(l.t0 instanceof J.b)){l.next=48;break}return c={type:"lintError",screenId:l.t0.screenId,blockId:l.t0.blockId,message:w.c(n,l.t0.message,l.t0.data)+""},l.next=46,er.e(eE.nf(c));case 46:return l.next=48,er.b(n6,c);case 48:return console.error(l.t0),l.next=51,er.b(n5,l.t0.message);case 51:case"end":return l.stop()}},tK,null,[[6,40]])}function n4(e){var t,n,r,a,i,o,_,s,u,c;return ei().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,er.f(E.s);case 2:t=l.sent,n=0,r=Object.values(e);case 4:if(!(n<r.length)){l.next=19;break}if((a=r[n]).type!==Y.E){l.next=16;break}if(o=(i=a.attributes).maxValue,_=i.minValue,s=i.step,o!==_){l.next=12;break}return u={type:"warning",screenId:"",blockId:"",message:w.c(t,"slider.maxValueEqualMinValue",{title:a.title}).toString()},l.next=12,er.e(eE.nf(u));case 12:if(!(s>o-_)){l.next=16;break}return c={type:"warning",screenId:"",blockId:"",message:w.c(t,"slider.stepGreaterThanRange",{title:a.title}).toString()},l.next=16,er.e(eE.nf(c));case 16:n++,l.next=4;break;case 19:case"end":return l.stop()}},tj)}function n5(e){var t,n;return ei().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,er.f(E.y);case 2:return t=r.sent,r.next=5,er.f(E.G);case 5:n=r.sent,F.a("WorkRun",{workId:t,workName:n,workType:"APP工匠",isSuccess:!e,failReason:e||""});case 7:case"end":return r.stop()}},tF)}function n6(e){var t,n,r;return ei().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,er.f(E.e);case 2:n=(t=a.sent).filter(function(e){return"error"===e.get("type")}).size+t.filter(function(e){return"customError"===e.get("type")}).size,r=t.filter(function(e){return"warning"===e.get("type")}).size,F.a("ConsoleDetail",{errorCount:n,warningCount:r,errorMessage:e.message,warningMessage:""});case 6:case"end":return a.stop()}},tX)}function n7(e){var t,n,r,a,i,_,s,u,c,l;return ei().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,er.f(E.y);case 2:return t=p.sent,n=k.a(t),p.next=6,er.b(ra,eE.NEw({isUpdate:n,isAutoSave:!0}));case 6:return r=p.sent,a=e.payload.info,p.next=10,er.f(E.J);case 10:return i=p.sent,p.next=13,er.b(function(){return n1(!1)});case 13:if(_=p.sent){p.next=16;break}throw Error("can not generate player data");case 16:if(i){p.next=18;break}throw Error("user not login");case 18:return u=new File([s=new Blob([JSON.stringify(eO.a(eO.a({},_),{},{userInfo:{name:i.nickname,avatarUrl:i.avatar_url},title:a.title,description:a.desc,coverUrl:a.img}))],{type:"application/json,charset=utf-8;"})],"test.json",{type:s.type}),p.next=22,er.b(X.e,u,"JSON");case 22:return c=p.sent,(0,o.qt)(H.cb().map(function(e){return e.attributes.cloudDbId}),2,1,k.a(r)?r:void 0),p.next=27,nQ();case 27:return p.next=29,er.b(Q.n,r,c.url);case 29:if(200===(l=p.sent).code){p.next=32;break}throw Error("".concat(l.code));case 32:return p.abrupt("return",r);case 33:case"end":return p.stop()}},tJ)}function n8(e){var t,n,r,a;return ei().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload.shouldCloneCloud,i.next=3,er.f(E.f);case 3:return n=i.sent,i.next=6,er.f(E.G);case 6:if(r=i.sent,!n){i.next=13;break}return i.next=10,er.b(k.b,t);case 10:a=new Blob([JSON.stringify(i.sent)],{type:"application/json,charset=utf-8;"}),U.s(URL.createObjectURL(a),r);case 13:case"end":return i.stop()}},tz)}function n9(){var e;return ei().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,er.f(E.J);case 2:if(e=t.sent,t.prev=3,!e){t.next=7;break}return t.next=7,er.b(X.c,H.jb(),function(e){var t;null!=(t=P.E.imageFileList)&&t.clientOp.replaceImageFileCdnUrl(e.id,e.cdnUrl)});case 7:t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(3),t.t0,X.a,t.t0;case 13:case"end":return t.stop()}},tq,null,[[3,9]])}function re(){return(re=en.a(ei().mark(function e(t,n){var r;return ei().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n||!(r=document.getElementById(t.id))){e.next=12;break}return e.prev=3,e.next=6,j.a(r,1);case 6:t.snapshot=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),console.error("uploadImageDataUrlToCdn htmlToImage error",e.t0);case 12:if(!t.snapshot.startsWith("http")){e.next=14;break}return e.abrupt("return",Promise.resolve());case 14:return e.prev=14,e.next=17,X.f(t.snapshot);case 17:t.snapshot=e.sent,e.next=25;break;case 21:e.prev=21,e.t1=e.catch(14),e.t1,X.a,console.error("uploadImageDataUrlToCdn error",e.t1);case 25:case"end":return e.stop()}},e,null,[[3,9],[14,21]])}))).apply(this,arguments)}function rt(){var e,t,n,r=arguments;return ei().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e=r.length>0&&void 0!==r[0]&&r[0],a.next=3,er.f(E.I);case 3:return t=a.sent,n={},t.forEach(function(t){n[t.id]=eO.a(eO.a({},t),{},{cdnUrl:e&&t.source||t.cdnUrl})}),a.abrupt("return",n);case 7:case"end":return a.stop()}},tQ)}function rn(){var e,t,n,r=arguments;return ei().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e=r.length>0&&void 0!==r[0]&&r[0],a.next=3,er.f(E.o);case 3:return t=a.sent,n={},t.forEach(function(t){n[t.id]=eO.a(eO.a({},t),{},{cdnUrl:e&&t.source||t.cdnUrl})}),a.abrupt("return",n);case 7:case"end":return a.stop()}},tZ)}function rr(){var e,t,n,r;return ei().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,er.f(E.j);case 2:return e=a.sent,t={},a.next=6,er.f(E.C);case 6:return n=a.sent,r={},e.forEach(function(e){t[e.id]=e}),n.forEach(function(e){e.widgetIds.forEach(function(e){var n=H.Bb(e);if((null==n?void 0:n.type)===Y.H||(null==n?void 0:n.type)===Y.z||(null==n?void 0:n.type)===Y.w){var a,i=n.attributes.fontFamily;!r[i]&&(null==(a=t[i])?void 0:a.cdnUrl)&&(r[i]=t[i])}if(n&&n.attributes&&"EXTENSION_QUILL_RICH_TEXT_WIDGET"===n.type){var o=n.attributes.content,_=void 0===o?"":o;y.a(_).forEach(function(e){var n;!r[e]&&(null==(n=t[e])?void 0:n.cdnUrl)&&(r[e]=t[e])})}})}),a.abrupt("return",r);case 11:case"end":return a.stop()}},t$)}function ra(e){var t,n,r,a,i,o,_,u,c,l,d,T,O,f,A,I,R,y,S,m,C,b,g,N;return ei().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return n=(t=e.payload).isUpdate,r=t.isNeedReport,a=t.isAutoSave,i=t.isSaveAs,L.next=3,er.f(E.C);case 3:return o=L.sent,L.next=6,er.f(E.y);case 6:return _=L.sent,u=Math.ceil(10*Math.random())+10,L.next=10,er.f(E.J);case 10:return c=L.sent,L.next=13,er.f(E.F);case 13:l=L.sent,d=20,L.next=17;break;case 17:if(c){L.next=21;break}return L.next=20,er.e(eE.dqt());case 20:return L.abrupt("return");case 21:return L.next=24,er.b(e9,!0);case 24:if(!(L.sent.length>0)){L.next=27;break}throw Error(p.a.CLOUD_SPACE_DATA_ERROR);case 27:return L.next=29,er.f(E.G);case 29:if(T=L.sent,!i){L.next=35;break}return T+="-副本",L.next=35,er.e(eE.Bf(T));case 35:return L.next=37,er.e(eE.Pi(u));case 37:return L.next=39,er.e(eE.Si(!0));case 39:return f=(O=o.map(function(e){return e.toJS()}).toJS()).map(function(e,t){return function(e,t){return re.apply(this,arguments)}(e,0===t)}),L.next=43,Promise.all(f);case 43:A=O[0].snapshot,I=e_.a(O),L.prev=46,I.s();case 48:if((R=I.n()).done){L.next=56;break}if(!(S=(y=R.value).snapshot).startsWith("http")){L.next=54;break}return L.next=54,er.e(eE.Xj(y.id,S));case 54:L.next=48;break;case 56:L.next=61;break;case 58:L.prev=58,L.t0=L.catch(46),I.e(L.t0);case 61:return L.prev=61,I.f(),L.finish(61);case 64:return A.startsWith("http")||(A="https://creation.codemao.cn/716/appcraft/IMAGE_ssdp_AuDw_1645089354494.png"),L.next=67,er.b(k.b);case 67:return m=L.sent,L.next=70,er.b(q.h,JSON.stringify(m));case 70:return C=L.sent,L.next=73,er.e(eE.Vj(C));case 73:return L.next=75,er.e(eE.Pi(50));case 75:if(!n){L.next=106;break}return b={name:T.substring(0,d),bcmUrl:C,coverUrl:A,id:_,saveType:a?es.g.AutoSave:es.g.ByUser},L.prev=77,L.next=80,er.b(q.g,b);case 80:if(!r){L.next=83;break}return L.next=83,er.b(ri,!0);case 83:L.next=93;break;case 85:return L.prev=85,L.t1=L.catch(77),L.next=89,er.e(eE.Si(!1));case 89:if(!r){L.next=92;break}return L.next=92,er.b(ri,!1,L.t1.message);case 92:throw L.t1;case 93:return L.next=95,er.e(eE.Pi(100));case 95:return L.next=97,er.e(eE.Fi(!1));case 97:return L.next=99,er.e(eE.Si(!1));case 99:return L.next=101,er.e(eE.Ei(Date.now()));case 101:return L.next=103,er.b(rU,_);case 103:return L.abrupt("return",_);case 106:return g={name:T.substring(0,d),bcmUrl:C,coverUrl:A,saveType:a?es.g.AutoSave:es.g.ByUser,sourceTag:l.tag},L.prev=107,L.next=110,er.b(q.f,g);case 110:if(N=L.sent,!r){L.next=114;break}return L.next=114,er.b(ri,!0);case 114:L.next=124;break;case 116:return L.prev=116,L.t2=L.catch(107),L.next=120,er.e(eE.Si(!1));case 120:if(!r){L.next=123;break}return L.next=123,er.b(ri,!1,L.t2.message);case 123:throw L.t2;case 124:if(!N){L.next=141;break}return L.next=127,er.e(eE.Pi(100));case 127:return L.next=129,er.e(eE.Fi(!1));case 129:return L.next=131,er.e(eE.Uh(N));case 131:return L.next=133,er.e(eE.Ei(Date.now()));case 133:return L.next=135,er.e(eE.Si(!1));case 135:return z.z.setCurrentProjectId(N),L.next=138,er.b(r_);case 138:return U.jb(N),L.next=141,er.b(rU,N);case 141:if(!i){L.next=144;break}return L.next=144,er.e(eo.n());case 144:return U.k(["courseId","templateId"]),(0,s.Pn)(),L.abrupt("return",N);case 147:case"end":return L.stop()}},t1,null,[[46,58,61,64],[77,85],[107,116]])}function ri(e,t){var n,r,a;return ei().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,er.f(E.y);case 2:return n=i.sent,i.next=5,er.f(E.G);case 5:return r=i.sent,i.next=8,er.f(E.F);case 8:a=i.sent,F.a("WorkSave",{workId:n,workName:r,workType:"APP工匠",sourceTag:a.tag,sourceId:a.id,isSuccess:e,failReason:t||""});case 10:case"end":return i.stop()}},t0)}function ro(){return ei().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,er.e(eE.Si(!1));case 2:return e.next=4,er.e(eE.Qi(!1));case 4:case"end":return e.stop()}},t2)}function r_(){var e,t;return ei().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,er.f(E.y);case 2:return e=n.sent,n.next=5,er.b(Q.k,e);case 5:return t=n.sent,n.next=8,er.e(eE.Ai(t));case 8:case"end":return n.stop()}},t3)}function rs(e){var t,n,r,a,i,o,_,s,u,c,l,p,d,T,O,f;return ei().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return n=(t=e.payload).key,r=t.value,a=t.widgetId,o=void 0===(i=t.shouldUpdatePreviewArea)||i,s=void 0===(_=t.shouldUpdateEditArea)||_,c=void 0===(u=t.isEmitOT)||u,p=void 0===(l=t.isBasePropertyPriority)||l,d=H.Bb(a),A.next=4,er.f(E.C);case 4:if(T=A.sent.find(function(e){var t;return e.widgetIds.includes(a)||(null==(t=e.invisibleWidgetIds)?void 0:t.includes(a))}),d&&d.type){A.next=8;break}return A.abrupt("return");case 8:if(c&&(d.isGlobalWidget?null==(O=P.E.globalWidget)||O.clientOp.replaceWidgetAttributeOp(a,n.toString(),r,p):T&&(null==(f=P.E.widget)||f.clientOp.replaceWidgetAttributeOp(T.id,a,n.toString(),r,p))),!H.o.includes(n)&&!(n in d)||!p){A.next=14;break}return A.next=12,er.b(rc,n,r,a);case 12:case 17:A.next=22;break;case 14:if(!(n in d.attributes)){A.next=19;break}return A.next=17,er.e(eE.Kg(a,n,r));case 19:return console.warn("This property ".concat(n," maybe is invalid")),A.next=22,er.e(eE.Kg(a,n,r));case 22:if(!o){A.next=25;break}return A.next=25,er.e(eE.Uj());case 25:if(!s){A.next=28;break}return A.next=28,er.e(eE.Qj());case 28:case"end":return A.stop()}},t4)}function ru(e){var t,n,r,a,i,o,_,s,u,c,E;return ei().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(n=(t=e.payload).widgetId,r=t.key,a=t.value,H.Vb(n,r,a),i=l.M_.getState().project.id,n.includes(Y.G)&&"db"===r&&f.a.get(n).then(function(e){e?er.e(eE.Pj(n,"value",e)):er.e(eE.Pj(n,"value",a))}),!n.includes(Y.B)&&!n.includes(Y.y)||"fields"!==r){p.next=14;break}if(o=A.getLocalDocumentObject(i,n)){p.next=12;break}return p.next=10,er.e(eE.Pj(n,"value",a));case 10:p.next=14;break;case 12:return p.next=14,er.e(eE.Pj(n,"value",o));case 14:return p.next=16,er.e(eE.Fi(!0));case 16:if(_=H.Bb(n)){p.next=19;break}return p.abrupt("return");case 19:if(_.type===Y.B&&"fields"===r&&z.o(_.id,a),_.type===Y.G&&"db"===r&&z.p(_.id,a),!_.title){p.next=23;break}return p.abrupt("return");case 23:if(s=H.Db(_.type)){p.next=26;break}return p.abrupt("return");case 26:s.contentTextField===r&&(u=_.contentTitle,(c=(c=(c=a).replace(es.E,"")).trim())?c=H.C(n,_.type,c):(E=s.previewAreaWidgetTitle,E=w.d(E),c=H.C(n,_.type,E)),u!==c&&(_.contentTitle=c,z.g.updateToolBoxWidgetTitle(n,c),z.y(n,c,_.type)));case 28:case"end":return p.stop()}},t5)}function rc(e,t,n){var r;return ei().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(r=H.Bb(n)){a.next=3;break}return a.abrupt("return");case 3:return a.next=5,er.e(eE.Fi(!0));case 5:(H.o.includes(e)||e in r)&&(("size"===e||"position"===e)&&(t=eO.a(eO.a({},r[e]),t)),r[e]=t);case 6:case"end":return a.stop()}},t6)}function rl(e,t){return ei().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return z.g.updateToolBoxWidgetTitle(e,t),z.x(e,t),n.next=4,er.e(eE.Yj(e,t));case 4:case"end":return n.stop()}},t7)}function rE(e,t){var n,r,a;return ei().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,er.f(E.y);case 2:if(n=i.sent,(r=H.Bb(e))&&r.type===Y.l){i.next=6;break}return i.abrupt("return");case 6:return a=r.attributes.cloudDbId,i.next=9,er.b(o.Gt,a,t,k.a(n)?n:void 0);case 9:case"end":return i.stop()}},t8)}function rp(e,t){var n,r,a,i;return ei().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,er.f(E.y);case 2:if(n=o.sent,(r=H.Bb(e))&&r.type===Y.h){o.next=6;break}return o.abrupt("return",t);case 6:return a=r.attributes.cloudDbId,o.next=9,er.b(g.p,a,t,k.a(n)?n:void 0);case 9:return i=o.sent,o.abrupt("return",i||t);case 11:case"end":return o.stop()}},t9)}function rd(e){var t,n,r,a,i,o,_,s,u,c,l,p,d,T;return ei().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(n=(t=e.payload).widgetId,r=t.title,a=t.shouldUpdatePreviewArea,i=t.shouldUpdateEditArea,_=void 0===(o=t.isEmitOT)||o,s=H.Bb(n)){O.next=4;break}return O.abrupt("return");case 4:return O.next=6,er.f(E.f);case 6:return c=null==(u=O.sent)?void 0:u.id,l=s.type,O.next=11,er.b(rE,n,r);case 11:return O.next=13,er.b(rp,n,r);case 13:return p=O.sent,H.Xb(n,p),H.Vb(n,"name",p),z.g.updateToolBoxWidgetTitle(n,p),z.y(n,p,l),O.next=20,er.e(eE.Fi(!0));case 20:if(!a){O.next=23;break}return O.next=23,er.e(eE.Uj());case 23:if(!i){O.next=26;break}return O.next=26,er.e(eE.Qj());case 26:return O.next=28,er.e(eE.Pj(s.id,"name",p));case 28:_&&(s.isGlobalWidget?null!=(d=P.E.globalWidget)&&d.clientOp.replaceWidgetAttributeOp(n,"title",p):c&&null!=(T=P.E.widget)&&T.clientOp.replaceWidgetAttributeOp(c,n,"title",p));case 29:case"end":return O.stop()}},ne)}function rT(){var e,t,n,r,a,i,o,_;return ei().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,e=[],t=1,n=100,s.next=6,er.b(v.c,t,n);case 6:if(a=(r=s.sent).list,i=Math.ceil(r.total/n),e=e.concat(a),!(i>1)){s.next=22;break}t+=1;case 13:if(!(t<=i)){s.next=22;break}return s.next=16,er.b(v.c,t,n);case 16:o=s.sent.list,e=e.concat(o);case 19:t++,s.next=13;break;case 22:return s.next=24,er.e(eE.Sh(e));case 24:s.next=30;break;case 26:if(s.prev=26,s.t0=s.catch(0),0x26874e4!==(null==(_=s.t0.response)?void 0:_.data.code)){s.next=30;break}return s.abrupt("return");case 30:case"end":return s.stop()}},nt,null,[[0,26]])}function rO(e){var t,n,r,a;return ei().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=(t=e.payload).widgetCloneList,r=t.screenId,i.next=3,er.f(E.g);case 3:if(a=i.sent,r&&a!==r){i.next=9;break}return i.next=7,er.b(rA,n);case 7:i.next=11;break;case 9:return i.next=11,er.b(rf,n,r);case 11:case"end":return i.stop()}},nn)}function rf(e,t){var n,r,a,i,o,_,s,u,c,l;return ei().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,er.f(E.C);case 2:return n=p.sent,p.next=5,er.f(E.J);case 5:if(r=p.sent,a=n.findIndex(function(e){return e.id===t}),!(i=n.get(a))||!e.length){p.next=36;break}_=e_.a(e),p.prev=11,_.s();case 13:if((s=_.n()).done){p.next=21;break}return c=s.value,null!=(u=P.E.widget)&&u.clientOp.addWidgetOp(t,c),p.next=18,er.e(eE.jf(i.id,c.id));case 18:c.parentId||v.a(c.type,null==r?void 0:r.id);case 19:p.next=13;break;case 21:p.next=26;break;case 23:p.prev=23,p.t0=p.catch(11),_.e(p.t0);case 26:return p.prev=26,_.f(),p.finish(26);case 29:return p.next=31,er.b(nb,eE.vg(a));case 31:return l=null==(o=e[0])?void 0:o.id,p.next=34,er.e(eE.ug(l));case 34:return p.next=36,er.e(eE.Fi(!0));case 36:case"end":return p.stop()}},nr,null,[[11,23,26,29]])}function rA(e){var t,n,r,a,i,o,_,s,u,c,l,p,d,T;return ei().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,er.f(E.x);case 2:return t=O.sent,O.next=5,er.f(E.C);case 5:return n=O.sent,O.next=8,er.f(E.J);case 8:if(r=O.sent,a=n.get(t),!e.length||!a){O.next=50;break}o=a.get("id"),_=e_.a(e),O.prev=13,_.s();case 15:if((s=_.n()).done){O.next=37;break}if(!(c=s.value).parentId){O.next=29;break}if(c.position.x+=20,c.position.y-=20,c.type!==Y.a&&c.type!==Y.c||!(l=H.Bb(c.parentId))){O.next=27;break}return d=(p=l).widgetIds.includes(c.id)?ef.a(p.widgetIds):[].concat(ef.a(p.widgetIds),[c.id]),O.next=27,er.e(eE.Lg(c.parentId,"widgetIds",d,!0,!0,!0,!0));case 27:O.next=31;break;case 29:c.position.x+=10,c.position.y+=10;case 31:return null!=(u=P.E.widget)&&u.clientOp.addWidgetOp(o,c),O.next=34,er.e(eE.jf(o,c.id));case 34:c.parentId||v.a(c.type,null==r?void 0:r.id);case 35:O.next=15;break;case 37:O.next=42;break;case 39:O.prev=39,O.t0=O.catch(13),_.e(O.t0);case 42:return O.prev=42,_.f(),O.finish(42);case 45:return T=null==(i=e[0])?void 0:i.id,O.next=48,er.e(eE.ug(T));case 48:return O.next=50,er.e(eE.Fi(!0));case 50:case"end":return O.stop()}},na,null,[[13,39,42,45]])}function rI(e){var t,n,r,a,i,o,_,s,u,c,l,p,d,T,O,f,A;return ei().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return n=(t=e.payload).widgetId,r=t.position,a=Y.c,i=H.Db(a),I.next=5,er.f(E.s);case 5:return o=I.sent,I.next=8,er.f(E.x);case 8:return _=I.sent,I.next=11,er.f(E.C);case 11:if(s=I.sent,(u=_>-1?s.get(_):void 0)&&i){I.next=15;break}return I.abrupt("return");case 15:return I.next=17,er.f(E.J);case 17:if(c=I.sent,l=i.widget.attributes,p=i.widget.isGlobalWidget,d=i.title?H.D(a,u.widgetIds,w.c(o,i.title).toString()):"",O={id:T=G.a(a),title:d,type:Y.c,position:r,visible:!0,size:i.widget.size,parentId:n,animationRecord:{},attributes:eO.a({},l),isGlobalWidget:p},H.Ub(T,O),!(f=H.Bb(n))){I.next=39;break}return f.widgetIds.push(T),I.next=29,er.e(eE.Uj());case 29:return I.next=31,er.e(eE.Qj());case 31:return I.next=33,er.e(eE.jf(u.id,O.id));case 33:return I.next=35,er.e(eE.ug(O.id));case 35:return I.next=37,er.b(nJ,u.id,O);case 37:null!=(A=P.E.widget)&&A.clientOp.addBrushAndActorWidgetOp(u.id,O,f.id,ef.a(f.widgetIds)),v.a(O.type,null==c?void 0:c.id);case 39:case"end":return I.stop()}},ni)}function rR(e){var t,n,r,a,i,o,_,s,u,c,l,p,d,T,O,f,A,I;return ei().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return n=(t=e.payload).widgetId,r=t.position,a=n,i=Y.a,o=H.Db(i),y.next=6,er.f(E.s);case 6:return _=y.sent,y.next=9,er.f(E.x);case 9:return s=y.sent,y.next=12,er.f(E.C);case 12:if(u=y.sent,c=s>-1?u.get(s):void 0){y.next=16;break}return y.abrupt("return");case 16:if(o){y.next=18;break}return y.abrupt("return");case 18:return y.next=20,er.f(E.J);case 20:if(l=y.sent,p=eu.cloneDeep(o.widget.attributes),d=o.widget.isGlobalWidget,p.actionList.push({id:G.a(R.a),name:w.c(_,"ActorStyleDialog.defaultActionName").toString(),styleList:[],interval:200}),T=o.title?H.D(i,c.widgetIds,w.c(_,o.title).toString()):"",f={id:O=G.a(i),title:T,type:Y.a,position:r,visible:!0,parentId:a,animationRecord:{},size:{width:0,height:0},attributes:p,isGlobalWidget:d},H.Ub(O,f),!(A=H.Bb(a))){y.next=43;break}return A.widgetIds.push(O),y.next=33,er.e(eE.Uj());case 33:return y.next=35,er.e(eE.Qj());case 35:return y.next=37,er.e(eE.jf(c.id,f.id));case 37:return y.next=39,er.e(eE.ug(f.id));case 39:return y.next=41,er.b(nJ,c.id,f);case 41:null!=(I=P.E.widget)&&I.clientOp.addBrushAndActorWidgetOp(c.id,f,A.id,ef.a(A.widgetIds)),v.a(f.type,null==l?void 0:l.id);case 43:case"end":return y.stop()}},no)}function ry(e){var t,n,r,a,i,o;return ei().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return n=(t=e.payload).screenId,r=t.blockId,_.next=3,er.f(E.s);case 3:return a=_.sent,_.next=6,er.f(E.f);case 6:return i=_.sent,_.next=9,er.f(E.C);case 9:if(o=_.sent.findIndex(function(e){return e.id===n}),(null==i?void 0:i.id)!==n){_.next=16;break}return _.next=14,er.b(z.z.playWarningAnimation,r);case 14:_.next=19;break;case 16:if(!(o>-1)){_.next=19;break}return _.next=19,er.b(nb,eE.vg(o));case 19:if(!z.z.getBlockById(r)){_.next=25;break}return _.next=23,er.b(z.z.playWarningAnimation,r);case 23:_.next=27;break;case 25:return _.next=27,er.e(eE.Szx({message:w.c(a,"theBlockHasBeRemoved").toString(),showCloseIcon:!1,showPrefixIcon:!1,type:"error"}));case 27:case"end":return _.stop()}},n_)}function rS(e){var t,n,r,a,i,o;return ei().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return t=e.payload.screenIds,_.next=3,er.f(E.C);case 3:return r=(n=_.sent).map(function(e){return e.id}).toJSON(),_.next=7,er.f(E.f);case 7:if(a=_.sent,eu.isEqual(r,t)){_.next=16;break}return i=[],t.forEach(function(e){var t=n.find(function(t){return t.id===e});t&&i.push(t)}),_.next=13,er.e(eE.Aj(eT.a.List(i)));case 13:return o=t.indexOf(a.id),_.next=16,er.e(eE.Bi(o));case 16:case"end":return _.stop()}},ns)}function rm(e){var t,n,r,a,i,o,_;return ei().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(n=(t=e.payload).screenId,r=t.key,a=t.value,o=void 0===(i=t.isEmitOT)||i,"title"!==r||"string"!=typeof a){s.next=7;break}return s.next=4,er.b(rl,n,a);case 4:z.y(n,a,"SCREEN"),s.next=9;break;case 7:return s.next=9,er.e(eE.Wj(n,r,a));case 9:return s.next=11,er.e(eE.Fi(!0));case 11:o&&null!=(_=P.E.screen)&&_.clientOp.updateScreenStyle(n,r,a);case 12:case"end":return s.stop()}},nu)}function rC(e){var t,n,r,a,i,o,_,s;return ei().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return r=void 0===(n=(t=e.payload).isEmitOT)||n,a=t.widgetId,u.next=3,er.f(E.f);case 3:return i=u.sent,u.next=6,er.f(E.i);case 6:return o=u.sent,u.next=9,er.e(eE.Xh(a));case 9:o&&setTimeout(function(){return z.g.setSelectedItemByWidgetId(a||i.id)},10),r&&null!=(_=P.E.customEvent)&&null!=(s=_.emit)&&s.focusItem("widget",a);case 11:case"end":return u.stop()}},nc)}function rb(e){var t,n,r,a,i;return ei().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return n=(t=e.payload).title,a=void 0===(r=t.isEmitOT)||r,o.next=3,er.e(eE.Qg(n));case 3:return o.next=5,er.e(eE.Fi(!0));case 5:a&&null!=(i=P.E.projectOt)&&i.clientOp.changeProjectProperty("title",n);case 6:case"end":return o.stop()}},nl)}function rg(e){var t,n,r,a,i,o,_,s;return ei().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return n=(t=e.payload).screenId,r=t.widgetId,a=t.widgetIds,o=void 0===(i=t.isEmitOT)||i,(_=H.Bb(r))&&(_.widgetIds=a),u.next=5,er.e(eE.Fi(!0));case 5:return u.next=7,er.e(eE.Uj());case 7:return u.next=9,er.e(eE.Qj());case 9:o&&null!=(s=P.E.widget)&&s.clientOp.replaceWidgetAttributeOp(n,r,"widgetIds",a);case 10:case"end":return u.stop()}},nE)}function rN(){var e,t,n,r;return ei().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,er.f(E.y);case 2:return e=a.sent,a.next=5,er.f(E.G);case 5:return t=a.sent,a.next=8,er.b(Q.e,e);case 8:if(!(n=a.sent)||!n.pack_label){a.next=14;break}return a.next=12,er.e(eE.Ji({apkIcon:n.apk_icon,apkName:n.apk_name,packLabel:n.pack_label,apkSplash:n.app_splash||""}));case 12:a.next=16;break;case 14:return a.next=16,er.e(eE.Ji({apkName:t}));case 16:if(!(H.Y().length>0&&"true"!==localStorage.getItem("cloudDBPublishGuide"))){a.next=23;break}return r=function(){return l.M_.dispatch(eE.Ii(!0))},a.next=21,er.e(eE.kj(!0,"pack",r));case 21:a.next=25;break;case 23:return a.next=25,er.e(eE.Ii(!0));case 25:case"end":return a.stop()}},np)}function rL(){var e,t,n;return ei().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,er.f(E.B);case 2:return e=r.sent,r.next=5,er.b(Q.d,e);case 5:return r.next=7,er.e(eE.Li(!1));case 7:return r.next=9,er.f(E.y);case 9:return t=r.sent,r.next=12,er.f(E.A);case 12:n=r.sent,F.a("CancelWorkPack",{workId:t,apkName:n.apkName});case 14:case"end":return r.stop()}},nd)}function rv(){var e;return ei().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,er.f(E.s);case 2:return e=t.sent,t.next=5,er.e(eE.xqZ({onConfirm:function(){l.M_.dispatch(eE.dqt())},allowText:w.c(e,"cloudDbUserLogin").toString(),cancelText:w.c(e,"cloudDbUserCancelLogin").toString(),title:w.c(e,"cloudDbUserNotLoginTitle").toString(),content:w.c(e,"cloudDbUserNotLoginDescription").toString()}));case 5:case"end":return t.stop()}},nT)}function rh(){var e,t,n,r,a,i,_,s,u,c,l,p,d,T,O,f,A,I,R,y,S,m,C,b,g,N,L,v,h,D;return ei().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,er.f(E.y);case 2:return e=x.sent,t=H.cb(),n=[],x.prev=5,x.next=8,er.b(o.Lt,k.a(e)?e:void 0);case 8:n=x.sent,x.next=17;break;case 11:if(x.prev=11,x.t0=x.catch(5),!(0x26874e4===(null==(r=x.t0.response)?void 0:r.data.code)&&t.length>0)){x.next=16;break}return x.next=16,er.b(rv);case 16:return x.abrupt("return");case 17:a=!1,i=[],_=[],s=t.filter(function(e){return!n.some(function(t){return t.id===e.attributes.cloudDbId})}),u=e_.a(n),x.prev=22,u.s();case 24:if((c=u.n()).done){x.next=31;break}return l=c.value,x.next=28,er.b(rB,l.id);case 28:l.fields=x.sent;case 29:x.next=24;break;case 31:x.next=36;break;case 33:x.prev=33,x.t1=x.catch(22),u.e(x.t1);case 36:return x.prev=36,u.f(),x.finish(36);case 39:n.reverse().forEach(function(e){var t=H.cb().find(function(t){return t.attributes.cloudDbId===e.id});t?(H.Vb(t.id,"fields",e.fields),i.push(t)):_.push(e)}),p=0,d=_;case 41:if(!(p<d.length)){x.next=56;break}return T=d[p],x.next=45,er.b(nV,Y.l,{x:0,y:0});case 45:if(!(O=x.sent)){x.next=53;break}return O.title=T.name,O.attributes.cloudDbId=T.id,O.attributes.fields=T.fields,i.push(O),x.next=53,er.b(nH,O);case 53:p++,x.next=41;break;case 56:if(!(s.length+i.length<=V.f)){x.next=83;break}f=i.map(function(e){return e.title}),A=e_.a(s),x.prev=59,A.s();case 61:if((I=A.n()).done){x.next=73;break}return R=I.value,f.includes(R.title)&&(a=!0,R.title=H.ac(R.title,f),f.push(R.title)),x.next=66,er.b(o.Bt,R.title);case 66:return y=x.sent,R.attributes.cloudDbId=y,x.next=70,er.b(o.Yt,y,{addItems:ef.a(R.attributes.fields),editItems:[],deleteItems:[]},k.a(e)?e:void 0);case 70:(0,o.qt)([y],2,0,k.a(e)?e:void 0);case 71:x.next=61;break;case 73:x.next=78;break;case 75:x.prev=75,x.t2=x.catch(59),A.e(x.t2);case 78:return x.prev=78,A.f(),x.finish(78);case 81:x.next=106;break;case 83:S=e_.a(s),x.prev=84,S.s();case 86:if((m=S.n()).done){x.next=95;break}return b=(C=m.value).type,g=C.id,z.q(b,g),H.F(C.id),x.next=93,er.e(eE.Lh(g));case 93:x.next=86;break;case 95:x.next=100;break;case 97:x.prev=97,x.t3=x.catch(84),S.e(x.t3);case 100:return x.prev=100,S.f(),x.finish(100);case 103:N=w.d("cloudDbCountOverflowTitle"),L=w.d("cloudDbCountOverflowDescription",{workDbCount:s.length.toString(),selfDbCount:i.length.toString(),maxCount:V.f.toString()}),ee.a.info({title:N,icon:null,centered:!0,content:L,okText:"确认",width:480,okButtonProps:{shape:"circle"}});case 106:return a&&(v=w.d("cloudDbNameConflictTitle"),h=w.d("cloudDbNameConflictDescription"),ee.a.info({title:v,icon:null,centered:!0,content:h,okText:"确认",width:480,okButtonProps:{shape:"circle"}})),x.next=109,er.e(eE.Qj());case 109:return x.next=111,er.f(E.n);case 111:D=x.sent,z.g.updateGlobalWidget(D);case 113:case"end":return x.stop()}},nO,null,[[5,11],[22,33,36,39],[59,75,78,81],[84,97,100,103]])}function rD(){var e,t,n,r,a,i;return ei().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,er.f(E.s);case 2:return e=o.sent,t=H.Y(),o.next=6,er.f(E.J);case 6:return n=o.sent,o.next=9,er.f(E.K);case 9:if(o.sent){o.next=12;break}return o.abrupt("return");case 12:return o.next=14,er.b(tt);case 14:if(0!==t.length){o.next=16;break}return o.abrupt("return");case 16:if(n){o.next=23;break}return t.forEach(function(e){H.F(e.id)}),o.next=20,er.e(eE.Szx({message:w.c(e,"cloudDb.noLoginError").toString(),type:"info"}));case 20:return o.next=22,er.e(eE.dqt());case 22:return o.abrupt("return");case 23:return o.next=25,er.b(g.g,"dev");case 25:if(r=o.sent){o.next=28;break}return o.abrupt("return");case 28:if(a=!1,i=!1,t.forEach(function(e){var t=e.attributes.cloudDbId,n=e.id,o=r.find(function(e){return e.id===t});if(o){if(e.title!==o.name){i=!0;var _=o.name;H.Xb(n,_),z.g.updateToolBoxWidgetTitle(n,_),z.y(e.id,_,"CLOUD_DB"),H.Vb(n,"name",_),l.M_.dispatch(eE.Uj()),l.M_.dispatch(eE.Qj())}e.attributes.primaryKey!==o.primary_column&&(i=!0,H.Vb(n,"primaryKey",o.primary_column)),JSON.stringify(e.attributes.columns)!==JSON.stringify(o.columns)&&(i=!0,l.M_.dispatch(eE.zg(t,o.columns)))}else a=!0,H.F(n),z.q("CLOUD_DB",n)}),!a){o.next=36;break}return o.next=34,er.e(eE.xqZ({allowText:w.c(e,"cloudDb.know").toString(),title:w.c(e,"cloudDb.dataRemoveTitle").toString(),content:w.c(e,"cloudDb.dataRemoveContent").toString(),cancelBtnVisible:!1}));case 34:o.next=39;break;case 36:if(!i){o.next=39;break}return o.next=39,er.e(eE.Szx({message:w.c(e,"cloudDb.dataChangeNotice").toString(),type:"error"}));case 39:return o.next=41,er.e(eE.Qj());case 41:case"end":return o.stop()}},nf)}function rx(e){var t,n,r,a,i,_,s,u,c,l,p,d,T;return ei().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(n=(t=e.payload).fields,r=t.setBlockValue,a=t.widgetId,(i=H.Bb(a))&&i.type===Y.l){O.next=4;break}return O.abrupt("return");case 4:return _=i.attributes.cloudDbId,s=i.attributes.fields,u=[],c=[],l=[],O.next=11,er.f(E.y);case 11:if(p=O.sent,d=n.length!==s.length,n.forEach(function(e){var t=!0;s.forEach(function(n){n.id===e.id&&(eu.isEqual(e,n)||(d=!0,c.push(e)),t=!1)}),t&&(d=!0,u.push({key:e.key,value:e.value,type:e.type}))}),s.forEach(function(e){n.some(function(t){return t.id===e.id})||(l.push(e.id),d=!0)}),!d){O.next=26;break}return O.next=18,er.b(o.Yt,_,{addItems:u,editItems:c,deleteItems:l},k.a(p)?p:void 0);case 18:return(T=O.sent).addItems&&T.addItems.forEach(function(e){e.id=e.id+"",n.forEach(function(t){e.key===t.key&&(t.id=e.id)})}),O.next=22,er.b(rs,eE.Lg(a,"fields",n,!1,!0));case 22:r&&1===T.addItems.length&&r(T.addItems[0].key),c.forEach(function(e){var t=s.find(function(t){return t.id===e.id});t&&z.n(a,t.key,e.key)}),T.deleteItems&&T.deleteItems.forEach(function(e){var t=s.find(function(t){return t.id===e.toString()});t&&z.n(a,t.key,"")}),(0,o.qt)([_],2,0,k.a(p)?p:void 0);case 26:case"end":return O.stop()}},nA)}function rB(e){var t,n,r,a,i,_,s;return ei().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,er.f(E.y);case 2:return t=u.sent,n=[],r=1,a=500,u.next=8,er.b(o.Vt,e,r,a,k.a(t)?t:void 0);case 8:if(i=u.sent,n=n.concat(i.items),!((_=Math.ceil(i.total/a))>1)){u.next=21;break}r+=1;case 13:if(!(r<=_)){u.next=21;break}return u.next=16,er.b(o.Vt,e,r,a,k.a(t)?t:void 0);case 16:s=u.sent,n=n.concat(s.items);case 18:r++,u.next=13;break;case 21:return u.abrupt("return",n);case 22:case"end":return u.stop()}},nI)}function rk(e){var t,n,r,a,i;return ei().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,er.f(function(e){return e.oTState.collWorkId});case 2:return t=o.sent,n=e.payload.archiveId,o.next=6,er.e(eE.si(""));case 6:if(!n){o.next=33;break}return o.next=9,er.b(q.e,n);case 9:if(!(r=o.sent.content)){o.next=32;break}return o.next=14,er.e(eE.bg());case 14:return o.next=16,er.e(eE.cg());case 16:return o.next=18,er.b(nx,r);case 18:return o.next=20,er.e(ep.G());case 20:return o.next=22,er.e(eE.Ei(void 0));case 22:return o.next=24,er.e(eE.Fi(!1));case 24:return o.next=26,er.e(eE.tj(!1));case 26:return o.next=28,er.f(E.s);case 28:return a=o.sent,o.next=31,er.e(eE.Szx({message:w.c(a,"History.revertSuccess").toString(),type:"success"}));case 31:t&&null!=(i=M.a.client)&&i.forceSetDoc();case 32:(0,s.Gn)();case 33:case"end":return o.stop()}},nR)}function rU(e){var t,n,r,a,i,o;return ei().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return(0,s.Pn)(),n=(t=H.Y()).map(function(e){return e.attributes.cloudDbId}),_.next=5,er.b(H.R);case 5:return r=_.sent,_.next=8,er.b(H.sb);case 8:return a=_.sent,_.next=11,er.b(H.S);case 11:return i=_.sent,_.next=14,er.b(H.tb);case 14:if(o=_.sent,!(t.length>0)){_.next=18;break}return _.next=18,er.b(g.a,n,e);case 18:if(_.prev=18,!(r.length>0)){_.next=24;break}return _.next=22,er.b(d.d,e,r);case 22:return _.next=24,er.e(ep.z(r));case 24:_.next=29;break;case 26:_.prev=26,_.t0=_.catch(18),console.error(_.t0);case 29:if(_.prev=29,!(a.length>0)){_.next=35;break}return _.next=33,er.b(d.v,e,a);case 33:return _.next=35,er.e(ep.L(a));case 35:_.next=40;break;case 37:_.prev=37,_.t1=_.catch(29),console.error(_.t1);case 40:if(_.prev=40,!(i.length>0)){_.next=46;break}return _.next=44,er.b(d.e,e,i);case 44:return _.next=46,er.e(ep.A(i));case 46:_.next=51;break;case 48:_.prev=48,_.t2=_.catch(40),console.error(_.t2);case 51:if(_.prev=51,!(o.length>0)){_.next=57;break}return _.next=55,er.b(d.w,e,o);case 55:return _.next=57,er.e(ep.M(o));case 57:_.next=62;break;case 59:_.prev=59,_.t3=_.catch(51),console.error(_.t3);case 62:case"end":return _.stop()}},ny,null,[[18,26],[29,37],[40,48],[51,59]])}function rP(e){var t;return ei().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(t=e.payload.json)){n.next=4;break}return n.next=4,er.b(nx,t);case 4:case"end":return n.stop()}},nS)}function rM(e){var t,n,r,a,i,o,_,s;return ei().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.payload.callback,u.next=3,er.f(E.E);case 3:return n=u.sent,u.next=6,er.f(E.y);case 6:if(r=u.sent,a=k.a(r),n.title){u.next=29;break}if(!a){u.next=24;break}return u.next=12,er.b(Q.g,r,0);case 12:if(!(i=u.sent)||!i.data){u.next=22;break}return u.next=16,er.b(fetch,i.data.bcmc_url);case 16:return o=u.sent,u.next=19,o.json();case 19:return _=u.sent,u.next=22,er.e(eE.Ti({title:_.title,desc:_.description||K.c,img:_.coverUrl||b()}));case 22:u.next=29;break;case 24:return u.next=26,er.f(E.G);case 26:return s=u.sent,u.next=29,er.e(eE.Ti({title:s,desc:K.c,img:b()}));case 29:if(!(H.Y().length>0&&"true"!==localStorage.getItem("cloudDBPublishGuide"))){u.next=35;break}return u.next=33,er.e(eE.kj(!0,"share",t));case 33:u.next=36;break;case 35:t();case 36:return u.abrupt("return");case 37:case"end":return u.stop()}},nm)}a={},et.a(a,eE.H,ng),et.a(a,eE.M,nY),et.a(a,eE.gb,nK),et.a(a,eE.lb,nj),et.a(a,eE.jb,n$),et.a(a,eE.Jb,n0),et.a(a,eE.kb,n3),et.a(a,eE.Mb,rs),et.a(a,eE.Lb,ru),et.a(a,eE.Ob,rd),et.a(a,eE.db,rT),et.a(a,eE.nb,nB),et.a(a,eE.D,nk),et.a(a,eE.N,n8),et.a(a,eE.g01,nL),et.a(a,eE.F,nv),et.a(a,eE.bwe,nN),et.a(a,eE.vb,nb),et.a(a,eE.E,rO),et.a(a,eE.fb,rI),et.a(a,eE.eb,rR),et.a(a,eE.tb,ra),et.a(a,eE.Ib,r_),et.a(a,eE.hb,ry),et.a(a,eE.y,ro),et.a(a,eE.xb,rS),et.a(a,eE.Kb,rm),et.a(a,eE.Bc,nD),et.a(a,eE.Nb,rg),et.a(a,eE.ub,rC),et.a(a,eE.B,rb),et.a(a,eE.T,rN),et.a(a,eE.x,rL),et.a(a,eE.ab,rh),et.a(a,eE.zb,rx),et.a(a,eE.YsV,function*(e){let t=yield er.b(()=>n1(!1));if(!t)throw Error("can not generate player data");let n=yield er.f(E.y);yield er.b(eE.Bf,e.payload.name);let r=new Blob([JSON.stringify(t)],{type:"application/json,charset=utf-8;"}),a=new File([r],"test.json",{type:r.type}),i=yield er.b(X.e,a,"JSON"),{payload:_}=e,{name:s,description:u,operation:c,coverUrl:l}=_,p={name:s,description:u||K.a,operation:c||K.b,coverUrl:l,workId:n,bcmcUrl:i.url,playerUrl:U.iE(n)},d=yield er.b(Q.m,p);if(200!==d.code)throw Error(`${d.code}`);return(0,o.qt)(H.cb().map(e=>e.attributes.cloudDbId),2,1,k.a(n)?n:void 0),yield nQ(),n}),et.a(a,eE.Wbp,n7),et.a(a,eE.z,nz),et.a(a,eE.rb,nq),et.a(a,eE.sb,rk),et.a(a,eE.dc,rP),et.a(a,eE.bb,rD),et.a(a,eE.V,rM);var rw=(0,u.qn)(a);function rG(){return ei().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,er.g(Object.keys(a),rw);case 2:case"end":return e.stop()}},nC)}},13123(e,t,n){n.d(t,{JD:()=>H,KA:()=>W,Ll:()=>K,M_:()=>V,Ml:()=>H,Z0:()=>K,xl:()=>V});var r,a,i=n(4343),o=n(80512),_=n(33762),s=n(77119),u=n(83105),c=n(59994),l=n(13244),E=n(76679),p=n(7452),d=n.n(p),T=n(27071),O=n(51877),f=n(28950),A=n(83518),I=n(95766),R=n(87973),y=n(37027),S=d().mark(g),m=d().mark(N),C=d().mark(L),b=d().mark(h);function g(e){var t;return d().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,n.next=3,E.e(O.ej(e.payload));case 3:if(!t){n.next=9;break}return R.a(t.id,t.nickname),n.next=7,E.b(o.Ms);case 7:n.next=15;break;case 9:return c.a.disconnect(),n.next=12,E.e(O._$u());case 12:return n.next=14,E.e(T.n());case 14:R.b();case 15:case"end":return n.stop()}},S)}function N(e){var t;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.b(y.b);case 3:return t=e.sent,e.next=6,E.e(O.gi(t));case 6:e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}},m,null,[[0,8]])}function L(e){var t;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.b(y.c);case 3:return t=e.sent,e.next=6,E.e(O.bj(t));case 6:e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}},C,null,[[0,8]])}var v=(0,_.qn)((r={},l.a(r,O.wb,g),l.a(r,O.S,N),l.a(r,O.W,L),r));function h(){return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.g([O.wb],v);case 2:return e.next=4,E.g([O.S],v);case 4:return e.next=6,E.g([O.W],v);case 6:case"end":return e.stop()}},b)}var D=d().mark(k),x=d().mark(U),B=d().mark(M);function k(e){var t;return d().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload.list,n.next=3,E.e(T.u(t));case 3:case"end":return n.stop()}},D)}function U(e){var t,n,r,a;return d().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload.info,i.next=3,E.f(function(e){return e.oTState.userFocusOTInfoList});case 3:return r=(a=(n=i.sent).findIndex(function(e){return e.userId===t.userId}))>-1?n.update(a,function(){return f.a(f.a({},n.get(a)),t)}):n.push(t),i.next=8,E.e(T.v(r));case 8:case"end":return i.stop()}},x)}a={},l.a(a,T.a,k),l.a(a,T.b,U);var P=(0,_.qn)(a);function M(){return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.g(Object.keys(a),P);case 2:case"end":return e.stop()}},B)}var w=d().mark(G);function G(){return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a([E.d(o.wc),E.d(u.cl),E.d(h),E.d(M),E.d(s.ho),E.d(o.Si)]);case 2:case"end":return e.stop()}},w)}window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||window.compose;let Y=(0,A.a)(),V=I.createStore(i.Ot,I.applyMiddleware(Y));function W(){return V}function H(e){return V.dispatch(e)}function K(){return V.getState().common.language}Y.run(G)},77861(e,t,n){n.d(t,{C:()=>l,E:()=>s,O:()=>u,_:()=>a,b:()=>o,v:()=>i,w:()=>c,y:()=>_});var r=n(8330),a=20,i=40;let o=r.rE;var _=[],s=320,u=.8,c="http://www.w3.org/2000/svg",l=3},94220(e,t,n){n.d(t,{$x:()=>x,A:()=>T,AT:()=>C,B:()=>v,C:()=>u,C6:()=>f,D:()=>P,D8:()=>A,E:()=>p,F:()=>E,G:()=>U,H:()=>_,I:()=>b,J:()=>C,K:()=>S,Kp:()=>g,L:()=>l,LB:()=>m,M:()=>r,NO:()=>h,Sn:()=>T,a:()=>A,b:()=>R,b5:()=>d,c:()=>f,d:()=>a,e:()=>I,f:()=>O,g:()=>c,h:()=>B,i:()=>N,j:()=>D,k:()=>k,l:()=>h,m:()=>x,n:()=>m,o:()=>F,p:()=>K,q:()=>H,r:()=>X,s:()=>W,t:()=>y,u:()=>g,v:()=>s,w:()=>o,x:()=>d,y:()=>L,yV:()=>O,z:()=>i}),(Y=W||(W={})).SMALL="SMALL",Y.MEDIUM="MEDIUM",Y.LARGE="LARGE",(V=H||(H={}))[V.FIXED=0]="FIXED",V[V.AUTO_WIDTH=1]="AUTO_WIDTH",V[V.AUTO_HEIGHT=2]="AUTO_HEIGHT",V[V.AUTO_ALL=3]="AUTO_ALL";let r="WIDGET",a="BUTTON_WIDGET",i="NEW_BUTTON_WIDGET",o="INPUT_WIDGET",_="TEXT_WIDGET",s="IMAGE_WIDGET",u="RADIO_WIDGET",c="CHECKBOX_WIDGET",l="WEB_VIEW_WIDGET",E="SWITCH_WIDGET",p="SLIDER_WIDGET",d="LIST_VIEWER_WIDGET",T="NEW_LIST_VIEWER_WIDGET",O="CANVAS_WIDGET",f="BRUSH_WIDGET",A="ACTOR_WIDGET",I="CAMERA_WIDGET",R="AUDIO_WIDGET",y="GYROSCOPE_WIDGET",S="VOLUME_SENSOR_WIDGET",m="DATE_PICKER_WIDGET",C="TIME_PICKER_WIDGET",b="TIMER_WIDGET",g="HTTP_CLIENT_WIDGET",N="CLOUD_ROOM_WIDGET",L="LOCAL_STORAGE_WIDGET",v="NEW_LOCAL_STORAGE_WIDGET",h="CLOUD_STORAGE_WIDGET",D="CLOUD_SPACE_DICT_WIDGET",x="DATABASE_WIDGET",B="CLOUD_DB_WIDGET",k="CLOUD_SPACE_TABLE_WIDGET",U="TABLE_DATA_WIDGET",P="SCREEN";var M,w,G,Y,V,W,H,K,j,F,X={CREATE:"CREATE"};(M=K||(K={})).DEFAULT="DEFAULT",M.PROPORTIONAL="PROPORTIONAL",(w=j||(j={})).HORIZONTAL="HORIZONTAL",w.VERTICAL="VERTICAL",w.BOTH="BOTH",w.NONE="NONE",(G=F||(F={})).ONLY_TITLE="ONLY_TITLE",G.TITLE_AND_SUBTITLE="TITLE_AND_SUBTITLE",G.IMAGE_TITLE_AND_SUBTITLE="IMAGE_TITLE_AND_SUBTITLE",G.AVATAR_AND_TITLE_SUBTITLE="AVATAR_AND_TITLE_SUBTITLE",G.IMAGE_AND_TITLE_DESC="IMAGE_AND_TITLE_DESC",G.AVATAR_TITLE_SUBTITLE_AND_IMAGE_DESC="AVATAR_TITLE_SUBTITLE_AND_IMAGE_DESC",G.IMAGE_AND_AVATAR_TITLE_SUBTITLE_AND_DESC="IMAGE_AND_AVATAR_TITLE_SUBTITLE_AND_DESC"},27493(e,t,n){n.d(t,{A:()=>c,B:()=>S,D:()=>A,F:()=>m,G:()=>C,I:()=>l,L:()=>R,M:()=>I,N:()=>p,P:()=>y,R:()=>d,W:()=>b,hY:()=>_,ht:()=>T,j:()=>E,k:()=>O,r:()=>_,x:()=>f});var r,a=n(39947),i=n(8517),o=n(94220),_=((r={})[r.UI=0]="UI",r[r.STAGE=1]="STAGE",r[r.MEDIA=2]="MEDIA",r[r.SENSOR=3]="SENSOR",r[r.DATE=4]="DATE",r[r.LOCAL_STORAGE=5]="LOCAL_STORAGE",r[r.CLOUD_STORAGE=6]="CLOUD_STORAGE",r[r.NETWORK=7]="NETWORK",r[r.EXTENSION=8]="EXTENSION",r[r.DATABASE=9]="DATABASE",r[r.SOCIAL=10]="SOCIAL",r[r.CLOUD_SPACE=11]="CLOUD_SPACE",r);let s=new Map,u=new Map;function c(e,t){t.forEach(t=>{let{type:n}=t;if(s.has(n))console.error(`Component ${n} is registered`);else{s.set(n,t);let r=u.get(e)||[];r.push(t),u.set(e,r)}})}function l(){var e=[];return s.forEach(function(t){e.push(t)}),e}function E(){var e=[];return s.forEach(function(t){return e.push(t.type)}),e}function p(e){return s.get(e)}function d(e){return u.get(e)||[]}function T(e,t){let n=u.get(e);void 0===n?console.error(`Component ${t} is not registered`):(s.delete(t),u.set(e,n.filter(e=>e.type!==t)))}function O(e){u.get(e)?.forEach(({type:t})=>{if(s.has(t)){s.delete(t);let n=(u.get(e)||[]).filter(e=>e.type!==t);u.set(e,n)}else console.error(`Component ${t} is not registered`)}),u.delete(e)}function f(){var e=[];return i.g.forEach(function(t){(t.type===o.y||t.type===o.B)&&e.push({id:t.id,title:t.title})}),e}function A(){var e=[];return i.g.forEach(function(t){t.type===o.l&&e.push({id:t.id,title:t.title})}),e}function I(){var e=[];return i.g.forEach(function(t){t.type===o.h&&e.push({id:t.id,title:t.title})}),e}function R(e){var t=(0,a.Se)(e);if(t&&(t.type===o.y||t.type===o.B||t.type===o.l)){var n=t.attributes.fields;return void 0===n?[]:n}return[]}function y(e){var t=(0,a.Se)(e);return t&&t.type===o.l?t.attributes.cloudDbId:null}function S(e){var t=(0,a.Se)(e);return t&&t.type===o.h?t.attributes.columns:[]}function m(e){var t=(0,a.Se)(e);return t&&t.type===o.h?t.attributes.cloudDbId:null}function C(e){var t=(0,a.Se)(e);return t&&t.type===o.k?t.attributes.cloudTableId:null}function b(e){var t=(0,a.Se)(e);return t&&t.type===o.j?t.attributes.cloudDictId:null}},24355(){},55956(){},51725(){},8330(e){e.exports=JSON.parse('{"rE":"1.23.2","Al":"/docs/","mp":"/docs/guide/feedback"}')}}]);
//# sourceMappingURL=111.2ca2e2c337817c9a.js.map