(self.webpackChunkcoco_next=self.webpackChunkcoco_next||[]).push([["349"],{77407(e,t,r){"use strict";r.d(t,{a:()=>d});var n=r(28950),a=r(5762),i=r(73400),s=r(50983),c=r(30476),u={};function l(e){var t=e.type,r=e.messageId,n=e.message,a=e.values,u=e.widgetId,l=i.currentContext(),d=n;if(r&&(d=s.o(r)),!d)throw Error("message not set");c.b.push({type:t||"warning",message:d,values:a,widgetId:void 0===u?"":u,screenId:(null==l?void 0:l.screenId)||"",blockId:(null==l?void 0:l.blockId)||""})}u["string.notEmpty"]=function(e,t){t=String(t);var r="object"==typeof e?e.value:e;return"object"==typeof e&&e.trim&&(t=t.trim()),0===t.length!==r},u["string.maxLength"]=function(e,t){t=String(t);var r="object"==typeof e?e.value:e;return"object"==typeof e&&e.trim&&(t=t.trim()),t.length<=r},u["string.minLength"]=function(e,t){t=String(t);var r="object"==typeof e?e.value:e;return"object"==typeof e&&e.trim&&(t=t.trim()),t.length>=r},u["number.greaterThan"]=function(e,t){return(t=Number(t))>=("object"==typeof e?e.value:e)},u["number.lessThan"]=function(e,t){return(t=Number(t))<=("object"==typeof e?e.value:e)},u["number.isInteger"]=function(e,t){return(t=Number(t))%1==0};var d={range:function(e,t,r){var n=t.min,a=t.max;return this.condition((void 0===n||e>=n)&&(void 0===a||e<=a),r)},condition:function(e,t){return e||l(t),e},emptyContent:function(e,t){return this.condition(!!e,t)},isNumber:function(e,t){return this.condition("number"==typeof e,t)},validate:function(e){var t=e.ruleKey,r=e.ruleOptions,i=e.inputValue,s=e.values,c=e.widgetId,d=!0,p=u[t];if(!p)return console.error("validator is not found",t),!0;var f="WidgetValidators.".concat(t),h="";"object"==typeof r?(h=r.value,r.message&&(f=r.message)):h=r;var g=n.a(n.a({},void 0===s?{}:s),{},{ruleValue:h,inputValue:i});try{(d=p(r,i))||l({widgetId:c,type:"error",message:a.d(f,g)})}catch(e){console.error("validate error",e)}return d},log:l}},70155(e,t,r){"use strict";r.d(t,{a:()=>i});var n=r(10913),a=r(52385);function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,i=n.a(e);return r=t?Reflect.construct(i,arguments,n.a(this).constructor):i.apply(this,arguments),a.a(this,r)}}},10765(e){e.exports=function(){try{var e,t,r,n,a,i,s,c,u,l,d,p,f,h,g=function(){this.sendingData=0,this.sendingItemKeys=[]},_={modules:{}},v=_._={};(function(){var e={function:!0,object:!0},t=e[typeof window]&&window||this,r=t.JSON,n=t.JSON3,a=!1,i=function r(n,a){n||(n=t.Object()),a||(a=t.Object());var i=n.Number||t.Number,s=n.String||t.String,c=n.Object||t.Object,u=n.Date||t.Date,l=n.SyntaxError||t.SyntaxError,d=n.TypeError||t.TypeError,p=n.Math||t.Math,f=n.JSON||t.JSON;"object"==typeof f&&f&&(a.stringify=f.stringify,a.parse=f.parse);var h=c.prototype,g=h.toString,_=h.hasOwnProperty;function v(e,t){try{e()}catch(e){t&&t()}}var y=new u(-0xc782b5b800cec);function b(e){if(null!=b[e])return b[e];if("bug-string-char-index"==e)c=!1;else if("json"==e)c=b("json-stringify")&&b("date-serialization")&&b("json-parse");else if("date-serialization"==e){if(c=b("json-stringify")&&y){var t=a.stringify;v(function(){c='"-271821-04-20T00:00:00.000Z"'==t(new u(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==t(new u(864e13))&&'"-000001-01-01T00:00:00.000Z"'==t(new u(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==t(new u(-1))})}}else{var r='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var n="function"==typeof(t=a.stringify);n&&((l=function(){return 1}).toJSON=l,v(function(){n="0"===t(0)&&"0"===t(new i)&&'""'==t(new s)&&t(g)===E&&t(E)===E&&t()===E&&"1"===t(l)&&"[1]"==t([l])&&"[null]"==t([E])&&"null"==t(null)&&"[null,null,null]"==t([E,g,null])&&t({a:[l,!0,!1,null,"\0\b\n\f\r	"]})==r&&"1"===t(null,l)&&"[\n 1,\n 2\n]"==t([1,2],null,1)},function(){n=!1})),c=n}if("json-parse"==e){var c,l,d,p=a.parse;"function"==typeof p&&v(function(){!(0!==p("0")||p(!1))&&(l=p(r),(d=5==l.a.length&&1===l.a[0])&&(v(function(){d=!p('"	"')}),d&&v(function(){d=1!==p("01")}),d&&v(function(){d=1!==p("1.")})))},function(){d=!1}),c=d}}return b[e]=!!c}if(v(function(){y=-109252==y.getUTCFullYear()&&0===y.getUTCMonth()&&1===y.getUTCDate()&&10==y.getUTCHours()&&37==y.getUTCMinutes()&&6==y.getUTCSeconds()&&708==y.getUTCMilliseconds()}),b["bug-string-char-index"]=b["date-serialization"]=b.json=b["json-stringify"]=b["json-parse"]=null,!b("json")){var w=b("bug-string-char-index"),S=function(t,r){var n,a,i,s=0;for(i in(n=function(){this.valueOf=0}).prototype.valueOf=0,a=new n)_.call(a,i)&&s++;return n=a=null,s?S=function(e,t){var r,n,a="[object Function]"==g.call(e);for(r in e)a&&"prototype"==r||!_.call(e,r)||(n="constructor"===r)||t(r);(n||_.call(e,r="constructor"))&&t(r)}:(a=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],S=function(t,r){var n,i,s="[object Function]"==g.call(t),c=!s&&"function"!=typeof t.constructor&&e[typeof t.hasOwnProperty]&&t.hasOwnProperty||_;for(n in t)s&&"prototype"==n||!c.call(t,n)||r(n);for(i=a.length;n=a[--i];)c.call(t,n)&&r(n)}),S(t,r)};if(!b("json-stringify")&&!b("date-serialization")){var k={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},x=function(e,t){return("000000"+(t||0)).slice(-e)},j=function(e){if(y)t=function(e){r=e.getUTCFullYear(),n=e.getUTCMonth(),a=e.getUTCDate(),s=e.getUTCHours(),c=e.getUTCMinutes(),u=e.getUTCSeconds(),l=e.getUTCMilliseconds()};else{var t,r,n,a,i,s,c,u,l,d=p.floor,f=[0,31,59,90,120,151,181,212,243,273,304,334],h=function(e,t){return f[t]+365*(e-1970)+d((e-1969+(t=+(t>1)))/4)-d((e-1901+t)/100)+d((e-1601+t)/400)};t=function(e){for(a=d(e/864e5),r=d(a/365.2425)+1970-1;h(r+1,0)<=a;r++);for(n=d((a-h(r,0))/30.42);h(r,n+1)<=a;n++);a=1+a-h(r,n),s=d((i=(e%864e5+864e5)%864e5)/36e5)%24,c=d(i/6e4)%60,u=d(i/1e3)%60,l=i%1e3}}return(j=function(e){return e>-1/0&&e<1/0?(t(e),e=(r<=0||r>=1e4?(r<0?"-":"+")+x(6,r<0?-r:r):x(4,r))+"-"+x(2,n+1)+"-"+x(2,a)+"T"+x(2,s)+":"+x(2,c)+":"+x(2,u)+"."+x(3,l)+"Z",r=n=a=s=c=u=l=null):e=null,e})(e)};if(b("json-stringify")&&!b("date-serialization")){var O=function(e){return j(this)},P=a.stringify;a.stringify=function(e,t,r){var n=u.prototype.toJSON;u.prototype.toJSON=O;var a=P(e,t,r);return u.prototype.toJSON=n,a}}else{var A=function(e){var t=e.charCodeAt(0);return k[t]||"\\u00"+x(2,t.toString(16))},C=/[\x00-\x1f\x22\x5c]/g,D=function(e){return C.lastIndex=0,'"'+(C.test(e)?e.replace(C,A):e)+'"'},N=function e(t,r,n,a,i,s,c){var l,p,f,h,_,y,b,w,k;if(v(function(){l=r[t]}),"object"==typeof l&&l&&(l.getUTCFullYear&&"[object Date]"==g.call(l)&&l.toJSON===u.prototype.toJSON?l=j(l):"function"==typeof l.toJSON&&(l=l.toJSON(t))),n&&(l=n.call(r,t,l)),l==E)return l===E?l:"null";switch("object"==(p=typeof l)&&(f=g.call(l)),f||p){case"boolean":case"[object Boolean]":return""+l;case"number":case"[object Number]":return l>-1/0&&l<1/0?""+l:"null";case"string":case"[object String]":return D(""+l)}if("object"==typeof l){for(b=c.length;b--;)if(c[b]===l)throw d();if(c.push(l),h=[],w=s,s+=i,"[object Array]"==f){for(y=0,b=l.length;y<b;y++)_=e(y,l,n,a,i,s,c),h.push(_===E?"null":_);k=h.length?i?"[\n"+s+h.join(",\n"+s)+"\n"+w+"]":"["+h.join(",")+"]":"[]"}else S(a||l,function(t){var r=e(t,l,n,a,i,s,c);r!==E&&h.push(D(t)+":"+(i?" ":"")+r)}),k=h.length?i?"{\n"+s+h.join(",\n"+s)+"\n"+w+"}":"{"+h.join(",")+"}":"{}";return c.pop(),k}};a.stringify=function(t,r,n){if(e[typeof r]&&r){if("[object Function]"==(c=g.call(r)))i=r;else if("[object Array]"==c){s={};for(var a,i,s,c,u,l=0,d=r.length;l<d;)u=r[l++],("[object String]"==(c=g.call(u))||"[object Number]"==c)&&(s[u]=1)}}if(n)if("[object Number]"==(c=g.call(n))){if((n-=n%1)>0)for(n>10&&(n=10),a="";a.length<n;)a+=" "}else"[object String]"==c&&(a=n.length<=10?n:n.slice(0,10));return N("",((u={})[""]=t,u),i,s,a,"",[])}}}if(!b("json-parse")){var E,T,I,R=s.fromCharCode,L={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},$=function(){throw T=I=null,l()},U=function(){for(var e,t,r,n,a,i=I,s=i.length;T<s;)switch(a=i.charCodeAt(T)){case 9:case 10:case 13:case 32:T++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=w?i.charAt(T):i[T],T++,e;case 34:for(e="@",T++;T<s;)if((a=i.charCodeAt(T))<32)$();else if(92==a)switch(a=i.charCodeAt(++T)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=L[a],T++;break;case 117:for(t=++T,r=T+4;T<r;T++)(a=i.charCodeAt(T))>=48&&a<=57||a>=97&&a<=102||a>=65&&a<=70||$();e+=R("0x"+i.slice(t,T));break;default:$()}else{if(34==a)break;for(a=i.charCodeAt(T),t=T;a>=32&&92!=a&&34!=a;)a=i.charCodeAt(++T);e+=i.slice(t,T)}if(34==i.charCodeAt(T))return T++,e;$();default:if(t=T,45==a&&(n=!0,a=i.charCodeAt(++T)),a>=48&&a<=57){for(48==a&&(a=i.charCodeAt(T+1))>=48&&a<=57&&$(),n=!1;T<s&&(a=i.charCodeAt(T))>=48&&a<=57;T++);if(46==i.charCodeAt(T)){for(r=++T;r<s&&!((a=i.charCodeAt(r))<48||a>57);r++);r==T&&$(),T=r}if(101==(a=i.charCodeAt(T))||69==a){for(43!=(a=i.charCodeAt(++T))&&45!=a||T++,r=T;r<s&&!((a=i.charCodeAt(r))<48||a>57);r++);r==T&&$(),T=r}return+i.slice(t,T)}n&&$();var c=i.slice(T,T+4);if("true"==c)return T+=4,!0;if("fals"==c&&101==i.charCodeAt(T+4))return T+=5,!1;if("null"==c)return T+=4,null;$()}return"$"},J=function(e,t,r){var n=H(e,t,r);n===E?delete e[t]:e[t]=n},H=function(e,t,r){var n,a=e[t];if("object"==typeof a&&a)if("[object Array]"==g.call(a))for(n=a.length;n--;)J(g,S,a);else S(a,function(e){J(a,e,r)});return r.call(e,t,a)};a.parse=function(e,t){var r,n;return T=0,I=""+e,r=function e(t){var r,n;if("$"==t&&$(),"string"==typeof t){if("@"==(w?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(r=[];"]"!=(t=U());)n?","==t?"]"==(t=U())&&$():$():n=!0,","==t&&$(),r.push(e(t));return r}if("{"==t){for(r={};"}"!=(t=U());)n?","==t?"}"==(t=U())&&$():$():n=!0,(","==t||"string"!=typeof t||"@"!=(w?t.charAt(0):t[0])||":"!=U())&&$(),r[t.slice(1)]=e(U());return r}$()}return t}(U()),"$"!=U()&&$(),T=I=null,t&&"[object Function]"==g.call(t)?H(((n={})[""]=r,n),"",t):r}}}return a.runInContext=r,a}(t,t.JSON3={noConflict:function(){return a||(a=!0,t.JSON=r,t.JSON3=n,r=n=null),i}});t.JSON={parse:i.parse,stringify:i.stringify}}).call(this);var y=window;if(y.atob)try{y.atob(" ")}catch(e){b=y.atob,(w=function(e){return b(String(e).replace(/[\t\n\f\r ]+/g,""))}).original=b,y.atob=w}else{var b,w,S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",k=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/;y.btoa=function(e){for(var t,r,n,a,i="",s=0,c=(e=String(e)).length%3;s<e.length;)((r=e.charCodeAt(s++))>255||(n=e.charCodeAt(s++))>255||(a=e.charCodeAt(s++))>255)&&_.log("Failed to execute 'btoa' on 'Window': The string to be encoded contains characters outside of the Latin1 range."),i+=S.charAt((t=r<<16|n<<8|a)>>18&63)+S.charAt(t>>12&63)+S.charAt(t>>6&63)+S.charAt(63&t);return c?i.slice(0,c-3)+"===".substring(c):i},y.atob=function(e){e=String(e).replace(/[\t\n\f\r ]+/g,""),k.test(e)||_.log("Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded."),e+="==".slice(2-(3&e.length));for(var t,r,n,a="",i=0;i<e.length;)t=S.indexOf(e.charAt(i++))<<18|S.indexOf(e.charAt(i++))<<12|(r=S.indexOf(e.charAt(i++)))<<6|(n=S.indexOf(e.charAt(i++))),a+=64===r?String.fromCharCode(t>>16&255):64===n?String.fromCharCode(t>>16&255,t>>8&255):String.fromCharCode(t>>16&255,t>>8&255,255&t);return a}}String.prototype.replaceAll||(String.prototype.replaceAll=function(e,t){return"[object regexp]"===Object.prototype.toString.call(e).toLowerCase()?this.replace(e,t):this.replace(RegExp(e,"g"),t)}),a=Array.prototype,i=Function.prototype,s=Object.prototype,c=a.slice,u=s.toString,l=s.hasOwnProperty,i.bind,d=a.forEach,a.indexOf,p=Array.isArray,f={},h=v.each=function(e,t,r){if(null==e)return!1;if(d&&e.forEach===d)e.forEach(t,r);else if(v.isArray(e)&&e.length===+e.length){for(var n=0,a=e.length;n<a;n++)if(n in e&&t.call(r,e[n],n,e)===f)return!1}else for(var i in e)if(l.call(e,i)&&t.call(r,e[i],i,e)===f)return!1},v.map=function(e,t){var r=[];return null==e?r:Array.prototype.map&&e.map===Array.prototype.map?e.map(t):(h(e,function(e,n,a){r.push(t(e,n,a))}),r)},v.extend=function(e){return h(c.call(arguments,1),function(t){for(var r in t)l.call(t,r)&&void 0!==t[r]&&(e[r]=t[r])}),e},v.extend2Lev=function(e){return h(c.call(arguments,1),function(t){for(var r in t)void 0!==t[r]&&(v.isObject(t[r])&&v.isObject(e[r])?v.extend(e[r],t[r]):e[r]=t[r])}),e},v.coverExtend=function(e){return h(c.call(arguments,1),function(t){for(var r in t)void 0!==t[r]&&void 0===e[r]&&(e[r]=t[r])}),e},v.isArray=p||function(e){return"[object Array]"===u.call(e)},v.isFunction=function(e){if(!e)return!1;var t=Object.prototype.toString.call(e);return"[object Function]"==t||"[object AsyncFunction]"==t},v.isArguments=function(e){return!(!e||!l.call(e,"callee"))},v.toArray=function(e){return e?e.toArray?e.toArray():v.isArray(e)||v.isArguments(e)?c.call(e):v.values(e):[]},v.values=function(e){var t=[];return null!=e&&h(e,function(e){t[t.length]=e}),t},v.indexOf=function(e,t){var r=e.indexOf;if(r)return r.call(e,t);for(var n=0;n<e.length;n++)if(t===e[n])return n;return -1},v.hasAttributes=function(e,t){if("string"==typeof t)return v.hasAttribute(e,t);if(v.isArray(t)){for(var r=!1,n=0;n<t.length;n++)if(v.hasAttribute(e,t[n])){r=!0;break}return r}},v.hasAttribute=function(e,t){return e.hasAttribute?e.hasAttribute(t):!(!e.attributes[t]||!e.attributes[t].specified)},v.filter=function(e,t,r){var n=Object.prototype.hasOwnProperty;if(e.filter)return e.filter(t);for(var a=[],i=0;i<e.length;i++)if(n.call(e,i)){var s=e[i];t.call(r,s,i,e)&&a.push(s)}return a},v.inherit=function(e,t){return e.prototype=new t,e.prototype.constructor=e,e.superclass=t.prototype,e},v.trim=function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},v.isObject=function(e){return null!=e&&"[object Object]"==u.call(e)},v.isEmptyObject=function(e){if(v.isObject(e)){for(var t in e)if(l.call(e,t))return!1;return!0}return!1},v.isUndefined=function(e){return void 0===e},v.isString=function(e){return"[object String]"==u.call(e)},v.isDate=function(e){return"[object Date]"==u.call(e)},v.isBoolean=function(e){return"[object Boolean]"==u.call(e)},v.isNumber=function(e){return"[object Number]"==u.call(e)&&/[\d\.]+/.test(String(e))},v.isElement=function(e){return!(!e||1!==e.nodeType)},v.isJSONString=function(e){try{JSON.parse(e)}catch(e){return!1}return!0},v.safeJSONParse=function(e){var t=null;try{t=JSON.parse(e)}catch(e){return!1}return t},v.decodeURIComponent=function(e){var t=e;try{t=decodeURIComponent(e)}catch(r){t=e}return t},v.decodeURI=function(e){var t=e;try{t=decodeURI(e)}catch(r){t=e}return t},v.isDecodeURI=function(e,t){return e?v.decodeURI(t):t},v.encodeDates=function(e){return v.each(e,function(t,r){v.isDate(t)?e[r]=v.formatDate(t):v.isObject(t)&&(e[r]=v.encodeDates(t))}),e},v.mediaQueriesSupported=function(){return void 0!==window.matchMedia||void 0!==window.msMatchMedia},v.getScreenOrientation=function(){var e=screen.msOrientation||screen.mozOrientation||(screen.orientation||{}).type,t="未取到值";if(e)t=e.indexOf("landscape")>-1?"landscape":"portrait";else if(v.mediaQueriesSupported()){var r=window.matchMedia||window.msMatchMedia;r("(orientation: landscape)").matches?t="landscape":r("(orientation: portrait)").matches&&(t="portrait")}return t},v.now=Date.now||function(){return new Date().getTime()},v.throttle=function(e,t,r){var n,a,i,s=null,c=0;r||(r={});var u=function(){c=!1===r.leading?0:v.now(),s=null,i=e.apply(n,a),s||(n=a=null)};return function(){var l=v.now();c||!1!==r.leading||(c=l);var d=t-(l-c);return n=this,a=arguments,d<=0||d>t?(s&&(clearTimeout(s),s=null),c=l,i=e.apply(n,a),s||(n=a=null)):s||!1===r.trailing||(s=setTimeout(u,d)),i}},v.hashCode=function(e){if("string"!=typeof e)return 0;var t=0;if(0==e.length)return t;for(var r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t&=t;return t},v.formatDate=function(e){function t(e){return e<10?"0"+e:e}return e.getFullYear()+"-"+t(e.getMonth()+1)+"-"+t(e.getDate())+" "+t(e.getHours())+":"+t(e.getMinutes())+":"+t(e.getSeconds())+"."+t(e.getMilliseconds())},e=new Date().getTime(),v.getRandomBasic=function(t){return Math.ceil((e=(9301*e+49297)%233280)/233280*t)},v.getRandom=function(){if("function"==typeof Uint32Array){var e="";if("undefined"!=typeof crypto?e=crypto:"undefined"!=typeof msCrypto&&(e=msCrypto),v.isObject(e)&&e.getRandomValues){var t=new Uint32Array(1);return e.getRandomValues(t)[0]/0x100000000}}return v.getRandomBasic(1e19)/1e19},v.searchObjDate=function(e){v.isObject(e)&&v.each(e,function(t,r){v.isObject(t)?v.searchObjDate(e[r]):v.isDate(t)&&(e[r]=v.formatDate(t))})},v.searchZZAppStyle=function(e){void 0!==e.properties.$project&&(e.project=e.properties.$project,delete e.properties.$project),void 0!==e.properties.$token&&(e.token=e.properties.$token,delete e.properties.$token)},v.formatJsonString=function(e){try{return JSON.stringify(e,null,"  ")}catch(t){return JSON.stringify(e)}},v.formatString=function(e,t){return v.isNumber(t)&&e.length>t?(_.log("字符串长度超过限制，已经做截取--"+e),e.slice(0,t)):e},v.searchObjString=function(e){var t=["$element_selector","$element_path"];v.isObject(e)&&v.each(e,function(r,n){v.isObject(r)?v.searchObjString(e[n]):v.isString(r)&&(e[n]=v.formatString(r,v.indexOf(t,n)>-1?1024:_.para.max_string_length))})},v.parseSuperProperties=function(e){var t=e.properties,r=JSON.parse(JSON.stringify(e));v.isObject(t)&&(v.each(t,function(e,n){if(v.isFunction(e))try{t[n]=e(r),v.isFunction(t[n])&&(_.log("您的属性- "+n+" 格式不满足要求，我们已经将其删除"),delete t[n])}catch(e){delete t[n],_.log("您的属性- "+n+" 抛出了异常，我们已经将其删除")}}),v.strip_sa_properties(t))},v.filterReservedProperties=function(e){v.isObject(e)&&v.each(["distinct_id","user_id","id","date","datetime","event","events","first_id","original_id","device_id","properties","second_id","time","users"],function(t,r){t in e&&(r<3?(delete e[t],_.log("您的属性- "+t+"是保留字段，我们已经将其删除")):_.log("您的属性- "+t+"是保留字段，请避免其作为属性名"))})},v.searchConfigData=function(e){if("object"==typeof e&&e.$option){var t=e.$option;return delete e.$option,t}return{}},v.unique=function(e){for(var t,r=[],n={},a=0;a<e.length;a++)(t=e[a])in n||(n[t]=!0,r.push(t));return r},v.strip_sa_properties=function(e){return v.isObject(e)&&v.each(e,function(t,r){if(v.isArray(t)){var n=[];v.each(t,function(e){v.isString(e)?n.push(e):_.log("您的数据-",r,t,"的数组里的值必须是字符串,已经将其删除")}),e[r]=n}v.isString(t)||v.isNumber(t)||v.isDate(t)||v.isBoolean(t)||v.isArray(t)||v.isFunction(t)||"$option"===r||(_.log("您的数据-",r,t,"-格式不满足要求，我们已经将其删除"),delete e[r])}),e},v.strip_empty_properties=function(e){var t={};return v.each(e,function(e,r){null!=e&&(t[r]=e)}),t},v.base64Encode=function(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode("0x"+t)}))},v.base64Decode=function(e){var t=v.map(atob(e).split(""),function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)});return decodeURIComponent(t.join(""))},t=function(){for(var e=+new Date,t=0;e==+new Date;)t++;return e.toString(16)+t.toString(16)},v.UUID=function(){var e=String(screen.height*screen.width);return e=e&&/\d{5,}/.test(e)?e.toString(16):String(31242*v.getRandom()).replace(".","").slice(0,8),t()+"-"+v.getRandom().toString(16).replace(".","")+"-"+function(e){var t,r,n=navigator.userAgent,a=[],i=0;function s(e,t){var r,n=0;for(r=0;r<t.length;r++)n|=a[r]<<8*r;return e^n}for(t=0;t<n.length;t++)r=n.charCodeAt(t),a.unshift(255&r),a.length>=4&&(i=s(i,a),a=[]);return a.length>0&&(i=s(i,a)),i.toString(16)}()+"-"+e+"-"+t()||(String(v.getRandom())+String(v.getRandom())+String(v.getRandom())).slice(2,15)},v.getQueryParam=function(e,t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),e=v.decodeURIComponent(e);var r=RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return null===r||r&&"string"!=typeof r[1]&&r[1].length?"":v.decodeURIComponent(r[1])},v.urlParse=function(e){var t=function(e){this._fields={Username:4,Password:5,Port:7,Protocol:2,Host:6,Path:8,URL:0,QueryString:9,Fragment:10},this._values={},this._regex=null,this._regex=/^((\w+):\/\/)?((\w+):?(\w+)?@)?([^\/\?:]+):?(\d+)?(\/?[^\?#]+)?\??([^#]+)?#?(\w*)/,void 0!==e&&this._parse(e)};return t.prototype.setUrl=function(e){this._parse(e)},t.prototype._initValues=function(){for(var e in this._fields)this._values[e]=""},t.prototype.addQueryString=function(e){if("object"!=typeof e)return!1;var t=this._values.QueryString||"";for(var r in e)t=RegExp(r+"[^&]+").test(t)?t.replace(RegExp(r+"[^&]+"),r+"="+e[r]):"&"===t.slice(-1)?t+r+"="+e[r]:""===t?r+"="+e[r]:t+"&"+r+"="+e[r];this._values.QueryString=t},t.prototype.getUrl=function(){var e="";return e+=this._values.Origin,e+=this._values.Port?":"+this._values.Port:"",e+=this._values.Path,(e+=this._values.QueryString?"?"+this._values.QueryString:"")+(this._values.Fragment?"#"+this._values.Fragment:"")},t.prototype.getUrl=function(){var e="";return e+=this._values.Origin,e+=this._values.Port?":"+this._values.Port:"",(e+=this._values.Path)+(this._values.QueryString?"?"+this._values.QueryString:"")},t.prototype._parse=function(e){this._initValues();var t=this._regex.exec(e);for(var r in t||_.log("DPURLParser::_parse -> Invalid URL"),this._fields)void 0!==t[this._fields[r]]&&(this._values[r]=t[this._fields[r]]);this._values.Hostname=this._values.Host.replace(/:\d+$/,""),this._values.Origin=this._values.Protocol+"://"+this._values.Hostname},new t(e)},v.addEvent=function(){function e(t){return t&&(t.preventDefault=e.preventDefault,t.stopPropagation=e.stopPropagation,t._getPath=e._getPath),t}e._getPath=function(){var e=this;return this.path||this.composedPath&&this.composedPath()||function(){try{var t=e.target,r=[t];if(null===t||null===t.parentElement)return[];for(;null!==t.parentElement;)t=t.parentElement,r.unshift(t);return r}catch(e){return[]}}()},e.preventDefault=function(){this.returnValue=!1},e.stopPropagation=function(){this.cancelBubble=!0},(function(t,r,n){var a=!(!v.isObject(_.para.heatmap)||!_.para.heatmap.useCapture);if(v.isObject(_.para.heatmap)&&void 0===_.para.heatmap.useCapture&&"click"===r&&(a=!0),t&&t.addEventListener)t.addEventListener(r,function(t){t._getPath=e._getPath,n.call(this,t)},a);else{var i="on"+r,s=t[i];t[i]=function(r){if(r=r||e(window.event)){r.target=r.srcElement;var a,i,c=!0;return"function"==typeof s&&(a=s(r)),i=n.call(t,r),(!1===a||!1===i)&&(c=!1),c}}}}).apply(null,arguments)},v.addHashEvent=function(e){var t="pushState"in window.history?"popstate":"hashchange";v.addEvent(window,t,e)},v.addSinglePageEvent=function(e){var t=location.href,r=window.history.pushState,n=window.history.replaceState;window.history.pushState=function(){r.apply(window.history,arguments),e(t),t=location.href},window.history.replaceState=function(){n.apply(window.history,arguments),e(t),t=location.href};var a=r?"popstate":"hashchange";v.addEvent(window,a,function(){e(t),t=location.href})},v.cookie={get:function(e){for(var t=e+"=",r=document.cookie.split(";"),n=0;n<r.length;n++){for(var a=r[n];" "==a.charAt(0);)a=a.substring(1,a.length);if(0==a.indexOf(t))return v.decodeURIComponent(a.substring(t.length,a.length))}return null},set:function(e,t,r,n){var a="",i="",s="";if(r=null==r?73e3:r,n=void 0===n?_.para.cross_subdomain:n){var c=v.getCurrentDomain(location.href);"url解析失败"===c&&(c=""),a=c?"; domain="+c:""}if(0!==r){var u=new Date;"s"===String(r).slice(-1)?u.setTime(u.getTime()+1e3*Number(String(r).slice(0,-1))):u.setTime(u.getTime()+24*r*36e5),i="; expires="+u.toGMTString()}function l(e){return!!e&&e.replaceAll(/\r\n/g,"")}_.para.is_secure_cookie&&(s="; secure");var d="",p="",f="";e&&(d=l(e)),t&&(p=l(t)),a&&(f=l(a)),d&&p&&(document.cookie=d+"="+encodeURIComponent(p)+i+"; path=/"+f+s)},encrypt:function(e){return"data:enc;"+v.rot13obfs(e)},decrypt:function(e){return e=e.substring(9),v.rot13defs(e)},resolveValue:function(e){return v.isString(e)&&0===e.indexOf("data:enc;")&&(e=v.cookie.decrypt(e)),e},remove:function(e,t){t=void 0===t?_.para.cross_subdomain:t,v.cookie.set(e,"",-1,t)},getCookieName:function(e,t){var r="";if(t=t||location.href,!1===_.para.cross_subdomain){try{r=v.URL(t).hostname}catch(e){_.log(e)}r="string"==typeof r&&""!==r?"sajssdk_2015_"+e+"_"+r.replace(/\./g,"_"):"sajssdk_2015_root_"+e}else r="sajssdk_2015_cross_"+e;return r},getNewUser:function(){return null!==this.get("sensorsdata_is_new_user")||null!==this.get(this.getCookieName("new_user"))}},v.getElementContent=function(e,t){var r="",n="";return e.textContent?r=v.trim(e.textContent):e.innerText&&(r=v.trim(e.innerText)),r&&(r=r.replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)),n=r||"",("input"===t||"INPUT"===t)&&("button"===e.type||"submit"===e.type||_.para.heatmap&&"function"==typeof _.para.heatmap.collect_input&&_.para.heatmap.collect_input(e))&&(n=e.value||""),n},v.getEleInfo=function(e){if(!e.target)return!1;var t=e.target,r=t.tagName.toLowerCase(),n={};return n.$element_type=r,n.$element_name=t.getAttribute("name"),n.$element_id=t.getAttribute("id"),n.$element_class_name="string"==typeof t.className?t.className:null,n.$element_target_url=t.getAttribute("href"),n.$element_content=v.getElementContent(t,r),(n=v.strip_empty_properties(n)).$url=v.isDecodeURI(_.para.url_is_decode,location.href),n.$url_path=location.pathname,n.$title=document.title,n.$viewport_width=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||0,n},v.localStorage={get:function(e){return window.localStorage.getItem(e)},parse:function(e){var t;try{t=JSON.parse(v.localStorage.get(e))||null}catch(e){_.log(e)}return t},set:function(e,t){window.localStorage.setItem(e,t)},remove:function(e){window.localStorage.removeItem(e)},isSupport:function(){var e=!0;try{var t="__sensorsdatasupport__",r="testIsSupportStorage";v.localStorage.set(t,r),v.localStorage.get(t)!==r&&(e=!1),v.localStorage.remove(t)}catch(t){e=!1}return e}},v.sessionStorage={isSupport:function(){var e=!0,t="testIsSupportStorage";try{sessionStorage&&sessionStorage.setItem?(sessionStorage.setItem("__sensorsdatasupport__",t),sessionStorage.removeItem("__sensorsdatasupport__",t),e=!0):e=!1}catch(t){e=!1}return e}},v.isSupportCors=function(){return void 0!==window.XMLHttpRequest&&("withCredentials"in new XMLHttpRequest||"undefined"!=typeof XDomainRequest)},v.xhr=function(e){if(e)return void 0!==window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest?new XMLHttpRequest:"undefined"!=typeof XDomainRequest?new XDomainRequest:null;if(void 0!==window.XMLHttpRequest)return new XMLHttpRequest;if(window.ActiveXObject)try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){_.log(e)}}},v.ajax=function(e){function t(e){if(!e)return"";try{return JSON.parse(e)}catch(e){return{}}}e.timeout=e.timeout||2e4,e.credentials=void 0===e.credentials||e.credentials;var r,n=v.xhr(e.cors);if(!n)return!1;e.type||(e.type=e.data?"POST":"GET"),e=v.extend({success:function(){},error:function(){}},e),_.debug.protocol.ajax(e.url);var a=e.success,i=e.error;e.success=function(e){a(e),r&&(clearTimeout(r),r=null)},e.error=function(e){i(e),r&&(clearTimeout(r),r=null)},r=setTimeout(function(){try{v.isObject(n)&&n.abort&&n.abort()}catch(e){_.log(e)}r&&(clearTimeout(r),r=null,e.error&&e.error(),n.onreadystatechange=null,n.onload=null,n.onerror=null)},e.timeout),"undefined"!=typeof XDomainRequest&&n instanceof XDomainRequest&&(n.onload=function(){e.success&&e.success(t(n.responseText)),n.onreadystatechange=null,n.onload=null,n.onerror=null},n.onerror=function(){e.error&&e.error(t(n.responseText),n.status),n.onreadystatechange=null,n.onerror=null,n.onload=null}),n.onreadystatechange=function(){try{4==n.readyState&&(n.status>=200&&n.status<300||304==n.status?e.success(t(n.responseText)):e.error(t(n.responseText),n.status),n.onreadystatechange=null,n.onload=null)}catch(e){n.onreadystatechange=null,n.onload=null}},n.open(e.type,e.url,!0);try{e.credentials&&(n.withCredentials=!0),v.isObject(e.header)&&v.each(e.header,function(e,t){n.setRequestHeader&&n.setRequestHeader(t,e)}),e.data&&(!e.cors&&n.setRequestHeader&&n.setRequestHeader("X-Requested-With","XMLHttpRequest"),"application/json"===e.contentType?n.setRequestHeader&&n.setRequestHeader("Content-type","application/json; charset=UTF-8"):n.setRequestHeader&&n.setRequestHeader("Content-type","application/x-www-form-urlencoded"))}catch(e){_.log(e)}n.send(e.data||null)},v.loadScript=function(e){e=v.extend({success:function(){},error:function(){},appendCall:function(e){document.getElementsByTagName("head")[0].appendChild(e)}},e);var t=null;"css"===e.type&&((t=document.createElement("link")).rel="stylesheet",t.href=e.url),"js"===e.type&&((t=document.createElement("script")).async="async",t.setAttribute("charset","UTF-8"),t.src=e.url,t.type="text/javascript"),t.onload=t.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(e.success(),t.onload=t.onreadystatechange=null)},t.onerror=function(){e.error(),t.onerror=null},e.appendCall(t)},v.getHostname=function(e,t){t&&"string"==typeof t||(t="hostname解析异常");var r=null;try{r=v.URL(e).hostname}catch(e){_.log("getHostname传入的url参数不合法！")}return r||t},v.getQueryParamsFromUrl=function(e){var t={},r=e.split("?")[1]||"";return r&&(t=v.getURLSearchParams("?"+r)),t},v.getURLSearchParams=function(e){for(var t=function(e){return decodeURIComponent(e)},r={},n=(e=e||"").substring(1).split("&"),a=0;a<n.length;a++){var i=n[a].indexOf("=");if(-1!==i){var s=n[a].substring(0,i),c=n[a].substring(i+1);s=t(s),c=t(c),r[s]=c}}return r},v.URL=function(e){var t,r={};if("function"==typeof window.URL&&function(){try{return"http://modernizr.com/"===new URL("http://modernizr.com/").href}catch(e){return!1}}())(r=new URL(e)).searchParams||(r.searchParams=(t=v.getURLSearchParams(r.search),{get:function(e){return t[e]}}));else{!1===/^https?:\/\/.+/.test(e)&&_.log("Invalid URL");var n,a=v.urlParse(e);r.hash="",r.host=a._values.Host?a._values.Host+(a._values.Port?":"+a._values.Port:""):"",r.href=a._values.URL,r.password=a._values.Password,r.pathname=a._values.Path,r.port=a._values.Port,r.search=a._values.QueryString?"?"+a._values.QueryString:"",r.username=a._values.Username,r.hostname=a._values.Hostname,r.protocol=a._values.Protocol?a._values.Protocol+":":"",r.origin=a._values.Origin?a._values.Origin+(a._values.Port?":"+a._values.Port:""):"",r.searchParams=(n=v.getURLSearchParams("?"+a._values.QueryString),{get:function(e){return n[e]}})}return r},v.getCurrentDomain=function(e){var t=_.para.current_domain;switch(typeof t){case"function":var r=t();return""===r||""===v.trim(r)?"url解析失败":-1!==r.indexOf(".")?r:"url解析失败";case"string":return""===t||""===v.trim(t)?"url解析失败":-1!==t.indexOf(".")?t:"url解析失败";default:var n=v.getCookieTopLevelDomain();return""===e||""===n?"url解析失败":n}},v.getCookieTopLevelDomain=function(e){var t=(e=e||location.hostname)||!1;if(!t)return"";var r=t.split(".");if(v.isArray(r)&&r.length>=2&&!/^(\d+\.)+\d+$/.test(t)){for(var n="."+r.splice(r.length-1,1);r.length>0;)if(n="."+r.splice(r.length-1,1)+n,document.cookie="sensorsdata_domain_test=true; path=/; domain="+n,-1!==document.cookie.indexOf("sensorsdata_domain_test=true")){var a=new Date;return a.setTime(a.getTime()-1e3),document.cookie="sensorsdata_domain_test=true; expires="+a.toGMTString()+"; path=/; domain="+n,n}}return""},v.isReferralTraffic=function(e){return""===(e=e||document.referrer)||v.getCookieTopLevelDomain(v.getHostname(e))!==v.getCookieTopLevelDomain()},v.ry=function(e){return new v.ry.init(e)},v.ry.init=function(e){this.ele=e},v.ry.init.prototype={addClass:function(e){return -1===(" "+this.ele.className+" ").indexOf(" "+e+" ")&&(this.ele.className=this.ele.className+(""===this.ele.className?"":" ")+e),this},removeClass:function(e){var t=" "+this.ele.className+" ";return -1!==t.indexOf(" "+e+" ")&&(this.ele.className=t.replace(" "+e+" "," ").slice(1,-1)),this},hasClass:function(e){return -1!==(" "+this.ele.className+" ").indexOf(" "+e+" ")},attr:function(e,t){return"string"==typeof e&&v.isUndefined(t)?this.ele.getAttribute(e):("string"==typeof e&&(t=String(t),this.ele.setAttribute(e,t)),this)},offset:function(){var e=this.ele.getBoundingClientRect();if(e.width||e.height){var t=this.ele.ownerDocument.documentElement;return{top:e.top+window.pageYOffset-t.clientTop,left:e.left+window.pageXOffset-t.clientLeft}}return{top:0,left:0}},getSize:function(){if(!window.getComputedStyle)return{width:this.ele.offsetWidth,height:this.ele.offsetHeight};try{var e=this.ele.getBoundingClientRect();return{width:e.width,height:e.height}}catch(e){return{width:0,height:0}}},getStyle:function(e){return this.ele.currentStyle?this.ele.currentStyle[e]:this.ele.ownerDocument.defaultView.getComputedStyle(this.ele,null).getPropertyValue(e)},wrap:function(e){var t=document.createElement(e);return this.ele.parentNode.insertBefore(t,this.ele),t.appendChild(this.ele),v.ry(t)},getCssStyle:function(e){var t=this.ele.style.getPropertyValue(e);if(t)return t;var r=null;if("function"==typeof window.getMatchedCSSRules&&(r=getMatchedCSSRules(this.ele)),!r||!v.isArray(r))return null;for(var n=r.length-1;n>=0;n--)if(t=r[n].style.getPropertyValue(e))return t},sibling:function(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e},next:function(){return this.sibling(this.ele,"nextSibling")},prev:function(e){return this.sibling(this.ele,"previousSibling")},siblings:function(e){return this.siblings((this.ele.parentNode||{}).firstChild,this.ele)},children:function(e){return this.siblings(this.ele.firstChild)},parent:function(){var e=this.ele.parentNode;return e=e&&11!==e.nodeType?e:null,v.ry(e)},previousElementSibling:function(){var e=this.ele;if("previousElementSibling"in document.documentElement)return v.ry(e.previousElementSibling);for(;e=e.previousSibling;)if(1===e.nodeType)return v.ry(e);return v.ry(null)},getSameTypeSiblings:function(){for(var e=this.ele,t=e.parentNode,r=e.tagName.toLowerCase(),n=[],a=0;a<t.children.length;a++){var i=t.children[a];1===i.nodeType&&i.tagName.toLowerCase()===r&&n.push(t.children[a])}return n}},v.strToUnicode=function(e){if("string"!=typeof e)return _.log("转换unicode错误",e),e;for(var t="",r=0;r<e.length;r++)t+="\\"+e.charCodeAt(r).toString(16);return t},v.getReferrer=function(e){return"string"!=typeof(e=e||document.referrer)?"取值异常_referrer异常_"+String(e):(0===e.indexOf("https://www.baidu.com/")&&(e=e.split("?")[0]),"string"==typeof(e=e.slice(0,_.para.max_referrer_string_length))?e:"")},v.getKeywordFromReferrer=function(e){e=e||document.referrer;var t=_.para.source_type.keyword;if(document&&"string"==typeof e){if(0===e.indexOf("http")){var r=v.getReferSearchEngine(e),n=v.getQueryParamsFromUrl(e);if(v.isEmptyObject(n))return"未取到值";var a=null;for(var i in t)if(r===i&&"object"==typeof n){if(a=t[i],v.isArray(a))for(i=0;i<a.length;i++){var s=n[a[i]];if(s)return s}else if(n[a])return n[a]}return"未取到值"}return""===e?"未取到值_直接打开":"未取到值_非http的url"}return"取值异常_referrer异常_"+String(e)},v.getWxAdIdFromUrl=function(e){var t=v.getQueryParam(e,"gdt_vid"),r=v.getQueryParam(e,"hash_key"),n=v.getQueryParam(e,"callbacks"),a={click_id:"",hash_key:"",callbacks:""};return v.isString(t)&&t.length&&(a.click_id=16==t.length||18==t.length?t:"参数解析不合法",v.isString(r)&&r.length&&(a.hash_key=r),v.isString(n)&&n.length&&(a.callbacks=n)),a},v.getReferSearchEngine=function(e){var t=v.getHostname(e);if(!t||"hostname解析异常"===t)return"";_.para.source_type.keyword;var r={baidu:[/^.*\.baidu\.com$/],bing:[/^.*\.bing\.com$/],google:[/^www\.google\.com$/,/^www\.google\.com\.[a-z]{2}$/,/^www\.google\.[a-z]{2}$/],sm:[/^m\.sm\.cn$/],so:[/^.+\.so\.com$/],sogou:[/^.*\.sogou\.com$/],yahoo:[/^.*\.yahoo\.com$/]};for(var n in r)for(var a=r[n],i=0,s=a.length;i<s;i++)if(a[i].test(t))return n;return"未知搜索引擎"},v.getSourceFromReferrer=function(){function e(e,t){for(var r=0;r<e.length;r++)if(-1!==t.split("?")[0].indexOf(e[r]))return!0}var t="("+_.para.source_type.utm.join("|")+")\\=[^&]+",r=_.para.source_type.search,n=_.para.source_type.social,a=document.referrer||"",i=v.info.pageProp.url;if(i){var s=i.match(new RegExp(t));return s&&s[0]?"付费广告流量":e(r,a)?"自然搜索流量":e(n,a)?"社交网站流量":""===a?"直接流量":"引荐流量"}return"获取url异常"},v.info={initPage:function(){var e=v.getReferrer(),t=location.href,r=v.getCurrentDomain(t);r||_.debug.jssdkDebug("url_domain异常_"+t+"_"+r),this.pageProp={referrer:e,referrer_host:e?v.getHostname(e):"",url:t,url_host:v.getHostname(t,"url_host取值异常"),url_domain:r}},pageProp:{},campaignParams:function(){var e=_.source_channel_standard.split(" "),t="",r={};return v.isArray(_.para.source_channel)&&_.para.source_channel.length>0&&(e=e.concat(_.para.source_channel),e=v.unique(e)),v.each(e,function(e){(t=v.getQueryParam(location.href,e)).length&&(r[e]=t)}),r},campaignParamsStandard:function(e,t){e=e||"",t=t||"";var r=v.info.campaignParams(),n={},a={};return v.each(r,function(r,i,s){-1!==(" "+_.source_channel_standard+" ").indexOf(" "+i+" ")?n[e+i]=s[i]:a[t+i]=s[i]}),{$utms:n,otherUtms:a}},properties:function(){return{$timezone_offset:new Date().getTimezoneOffset(),$screen_height:Number(screen.height)||0,$screen_width:Number(screen.width)||0,$lib:"js",$lib_version:String(_.lib_version)}},currentProps:{},register:function(e){v.extend(v.info.currentProps,e)}},v.autoExeQueue=function(){return{items:[],enqueue:function(e){this.items.push(e),this.start()},dequeue:function(){return this.items.shift()},getCurrentItem:function(){return this.items[0]},isRun:!1,start:function(){this.items.length>0&&!this.isRun&&(this.isRun=!0,this.getCurrentItem().start())},close:function(){this.dequeue(),this.isRun=!1,this.start()}}},v.trackLink=function(e,t,r){var n=null;if((e=e||{}).ele&&(n=e.ele),e.event&&(n=e.target?e.target:e.event.target),r=r||{},!n||"object"!=typeof n)return!1;if(!n.href||/^javascript/.test(n.href)||n.target||n.download||n.onclick)return _.track(t,r),!1;function a(e){e.stopPropagation(),e.preventDefault();var a=!1;function i(){a||(a=!0,location.href=n.href)}setTimeout(i,1e3),_.track(t,r,i)}e.event&&a(e.event),e.ele&&v.addEvent(e.ele,"click",function(e){a(e)})},v.eventEmitter=function(){this._events=[],this.pendingEvents=[]},v.eventEmitter.prototype={emit:function(e){var t=[].slice.call(arguments,1);v.each(this._events,function(r){r.type===e&&r.callback.apply(r.context,t)}),this.pendingEvents.push({type:e,data:t}),this.pendingEvents.length>20&&this.pendingEvents.shift()},on:function(e,t,r,n){"function"==typeof t&&(this._events.push({type:e,callback:t,context:r||this}),n=!1!==n,this.pendingEvents.length>0&&n&&v.each(this.pendingEvents,function(n){n.type===e&&t.apply(r,n.data)}))},tempAdd:function(e,t){if(t&&e)return this.emit(e,t)},isReady:function(){}},v.rot13obfs=function(e,t){t="number"==typeof t?t:13;for(var r=(e=String(e)).split(""),n=0,a=r.length;n<a;n++)126>r[n].charCodeAt(0)&&(r[n]=String.fromCharCode((r[n].charCodeAt(0)+t)%126));return r.join("")},v.rot13defs=function(e){return e=String(e),v.rot13obfs(e,113)},r={"+":"-","/":"_","=":"."},n={"-":"+",_:"/",".":"="},v.urlSafeBase64={encode:function(e){return e.replace(/[+\/=]/g,function(e){return r[e]})},decode:function(e){return e.replace(/[-_.]/g,function(e){return n[e]})},trim:function(e){return e.replace(/[.=]{1,2}$/,"")},isBase64:function(e){return/^[A-Za-z0-9+\/]*[=]{0,2}$/.test(e)},isUrlSafeBase64:function(e){return/^[A-Za-z0-9_-]*[.]{0,2}$/.test(e)}},v.setCssStyle=function(e){var t=document.createElement("style");t.type="text/css";try{t.appendChild(document.createTextNode(e))}catch(r){t.styleSheet.cssText=e}var r=document.getElementsByTagName("head")[0],n=document.getElementsByTagName("script")[0];r?r.children.length?r.insertBefore(t,r.children[0]):r.appendChild(t):n.parentNode.insertBefore(t,n)},v.isIOS=function(){return!!navigator.userAgent.match(/iPhone|iPad|iPod/i)},v.getIOSVersion=function(){try{var e=navigator.appVersion.match(/OS (\d+)[._](\d+)[._]?(\d+)?/);return e&&e[1]?Number.parseInt(e[1],10):""}catch(e){return""}},v.getUA=function(){var e,t={},r=navigator.userAgent.toLowerCase();return(e=r.match(/opera.([\d.]+)/))?t.opera=Number(e[1].split(".")[0]):(e=r.match(/msie ([\d.]+)/))?t.ie=Number(e[1].split(".")[0]):(e=r.match(/edge.([\d.]+)/))?t.edge=Number(e[1].split(".")[0]):(e=r.match(/firefox\/([\d.]+)/))?t.firefox=Number(e[1].split(".")[0]):(e=r.match(/chrome\/([\d.]+)/))?t.chrome=Number(e[1].split(".")[0]):(e=r.match(/version\/([\d.]+).*safari/))&&(t.safari=Number(e[1].match(/^\d*.\d*/))),t},v.getDomBySelector=function(e){if(!v.isString(e))return null;var t,r=e.split(">");return(t=function e(t){var n,a=r.shift();if(!a)return t;try{n=function(e,t){var r;if("body"===(e=v.trim(e)))return document.getElementsByTagName("body")[0];if(0===e.indexOf("#"))e=e.slice(1),r=document.getElementById(e);else if(e.indexOf(":nth-of-type")>-1){var n=e.split(":nth-of-type");if(!n[0]||!n[1])return null;var a=n[0],i=n[1].match(/\(([0-9]+)\)/);if(!i||!i[1])return null;var s=Number(i[1]);if(!(v.isElement(t)&&t.children&&t.children.length>0))return null;for(var c=t.children,u=0;u<c.length;u++)if(v.isElement(c[u])&&c[u].tagName.toLowerCase()===a&&0==--s){r=c[u];break}if(s>0)return null}return r||null}(a,t)}catch(e){_.log(e)}return n&&v.isElement(n)?e(n):null}())&&v.isElement(t)?t:null},v.jsonp=function(e){if(!v.isObject(e)||!v.isString(e.callbackName))return _.log("JSONP 请求缺少 callbackName"),!1;e.success=v.isFunction(e.success)?e.success:function(){},e.error=v.isFunction(e.error)?e.error:function(){},e.data=e.data||"";var t=document.createElement("script"),r=document.getElementsByTagName("head")[0],n=null,a=!1;if(r.appendChild(t),v.isNumber(e.timeout)&&(n=setTimeout(function(){if(a)return!1;e.error("timeout"),window[e.callbackName]=function(){_.log("call jsonp error")},n=null,r.removeChild(t),a=!0},e.timeout)),window[e.callbackName]=function(){clearTimeout(n),n=null,e.success.apply(null,arguments),window[e.callbackName]=function(){_.log("call jsonp error")},r.removeChild(t)},e.url.indexOf("?")>-1?e.url+="&callbackName="+e.callbackName:e.url+="?callbackName="+e.callbackName,v.isObject(e.data)){var i=[];v.each(e.data,function(e,t){i.push(t+"="+e)}),e.data=i.join("&"),e.url+="&"+e.data}t.onerror=function(i){if(a)return!1;window[e.callbackName]=function(){_.log("call jsonp error")},clearTimeout(n),n=null,r.removeChild(t),e.error(i),a=!0},t.src=e.url},v.listenPageState=function(e){({visibleHandle:v.isFunction(e.visible)?e.visible:function(){},hiddenHandler:v.isFunction(e.hidden)?e.hidden:function(){},visibilityChange:null,hidden:null,isSupport:function(){return void 0!==document[this.hidden]},init:function(){void 0!==document.hidden?(this.hidden="hidden",this.visibilityChange="visibilitychange"):void 0!==document.mozHidden?(this.hidden="mozHidden",this.visibilityChange="mozvisibilitychange"):void 0!==document.msHidden?(this.hidden="msHidden",this.visibilityChange="msvisibilitychange"):void 0!==document.webkitHidden&&(this.hidden="webkitHidden",this.visibilityChange="webkitvisibilitychange"),this.listen()},listen:function(){if(this.isSupport()){var e=this;document.addEventListener(e.visibilityChange,function(){document[e.hidden]?e.hiddenHandler():e.visibleHandle()},1)}else document.addEventListener?(window.addEventListener("focus",this.visibleHandle,1),window.addEventListener("blur",this.hiddenHandler,1)):(document.attachEvent("onfocusin",this.visibleHandle),document.attachEvent("onfocusout",this.hiddenHandler))}}).init()},v.isSupportBeaconSend=function(){var e=v.getUA(),t=!1,r=navigator.userAgent.toLowerCase();if(/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)){var n=(r.match(/os [\d._]*/gi)+"").replace(/[^0-9|_.]/gi,"").replace(/_/gi,".").split(".");void 0===e.safari&&(e.safari=n[0]),n[0]&&n[0]<13?(e.chrome>41||e.firefox>30||e.opera>25||e.safari>12)&&(t=!0):(e.chrome>41||e.firefox>30||e.opera>25||e.safari>11.3)&&(t=!0)}else(e.chrome>38||e.edge>13||e.firefox>30||e.opera>25||e.safari>11)&&(t=!0);return t},v.secCheck={isHttpUrl:function(e){return"string"==typeof e&&(!1!==/^https?:\/\/.+/.test(e)||(_.log("Invalid URL"),!1))},removeScriptProtocol:function(e){if("string"!=typeof e)return"";for(var t=/^\s*javascript/i;t.test(e);)e=e.replace(t,"");return e}},_.para_default={preset_properties:{latest_utm:!0,latest_traffic_source_type:!0,latest_search_keyword:!0,latest_referrer:!0,latest_referrer_host:!1,latest_landing_page:!1,latest_wx_ad_click_id:void 0,url:!0,title:!0},encrypt_cookie:!1,img_use_crossorigin:!1,name:"sa",max_referrer_string_length:200,max_string_length:500,cross_subdomain:!0,show_log:!0,is_debug:!1,debug_mode:!1,debug_mode_upload:!1,session_time:0,use_client_time:!1,source_channel:[],send_type:"image",vtrack_ignore:{},auto_init:!0,is_track_single_page:!1,is_single_page:!1,batch_send:!1,source_type:{},callback_timeout:200,datasend_timeout:3e3,queue_timeout:300,is_track_device_id:!1,ignore_oom:!0,app_js_bridge:!1,url_is_decode:!1},_.addReferrerHost=function(e){v.isObject(e.properties)&&(e.properties.$first_referrer&&(e.properties.$first_referrer_host=v.getHostname(e.properties.$first_referrer,"取值异常")),("track"===e.type||"track_signup"===e.type)&&("$referrer"in e.properties&&(e.properties.$referrer_host=""===e.properties.$referrer?"":v.getHostname(e.properties.$referrer,"取值异常")),_.para.preset_properties.latest_referrer&&_.para.preset_properties.latest_referrer_host&&(e.properties.$latest_referrer_host=""===e.properties.$latest_referrer?"":v.getHostname(e.properties.$latest_referrer,"取值异常"))))},_.addPropsHook=function(e){_.para.preset_properties&&_.para.preset_properties.url&&("track"===e.type||"track_signup"===e.type)&&void 0===e.properties.$url&&(e.properties.$url=v.isDecodeURI(_.para.url_is_decode,window.location.href)),_.para.preset_properties&&_.para.preset_properties.title&&("track"===e.type||"track_signup"===e.type)&&void 0===e.properties.$title&&(e.properties.$title=document.title)},_.initPara=function(e){_.para=e||_.para||{};var t,r={};if(v.isObject(_.para.is_track_latest))for(var n in _.para.is_track_latest)r["latest_"+n]=_.para.is_track_latest[n];for(t in _.para.preset_properties=v.extend({},_.para_default.preset_properties,r,_.para.preset_properties||{}),_.para_default)void 0===_.para[t]&&(_.para[t]=_.para_default[t]);"string"==typeof _.para.server_url&&(_.para.server_url=v.trim(_.para.server_url),_.para.server_url&&("://"===_.para.server_url.slice(0,3)?_.para.server_url=location.protocol.slice(0,-1)+_.para.server_url:"//"===_.para.server_url.slice(0,2)?_.para.server_url=location.protocol+_.para.server_url:"http"!==_.para.server_url.slice(0,4)&&(_.para.server_url=""))),"string"==typeof _.para.web_url&&("://"===_.para.web_url.slice(0,3)||"//"===_.para.web_url.slice(0,2))&&("://"===_.para.web_url.slice(0,3)?_.para.web_url=location.protocol.slice(0,-1)+_.para.web_url:_.para.web_url=location.protocol+_.para.web_url),"image"!==_.para.send_type&&"ajax"!==_.para.send_type&&"beacon"!==_.para.send_type&&(_.para.send_type="image"),_.debug.protocol.serverUrl(),_.bridge.initPara(),_.bridge.initState();var a={datasend_timeout:6e3,send_interval:6e3};v.localStorage.isSupport()&&v.isSupportCors()&&"object"==typeof localStorage?!0===_.para.batch_send?(_.para.batch_send=v.extend({},a),_.para.use_client_time=!0):"object"==typeof _.para.batch_send&&(_.para.use_client_time=!0,_.para.batch_send=v.extend({},a,_.para.batch_send)):_.para.batch_send=!1;var i=["utm_source","utm_medium","utm_campaign","utm_content","utm_term"],s=["www.baidu.","m.baidu.","m.sm.cn","so.com","sogou.com","youdao.com","google.","yahoo.com/","bing.com/","ask.com/"],c=["weibo.com","renren.com","kaixin001.com","douban.com","qzone.qq.com","zhihu.com","tieba.baidu.com","weixin.qq.com"],u={baidu:["wd","word","kw","keyword"],google:"q",bing:"q",yahoo:"p",sogou:["query","keyword"],so:"q",sm:"q"};"object"==typeof _.para.source_type&&(_.para.source_type.utm=v.isArray(_.para.source_type.utm)?_.para.source_type.utm.concat(i):i,_.para.source_type.search=v.isArray(_.para.source_type.search)?_.para.source_type.search.concat(s):s,_.para.source_type.social=v.isArray(_.para.source_type.social)?_.para.source_type.social.concat(c):c,_.para.source_type.keyword=v.isObject(_.para.source_type.keyword)?v.extend(u,_.para.source_type.keyword):u);var l=["mark","/mark","strong","b","em","i","u","abbr","ins","del","s","sup"];if(_.para.heatmap&&!v.isObject(_.para.heatmap)&&(_.para.heatmap={}),v.isObject(_.para.heatmap)){_.para.heatmap.clickmap=_.para.heatmap.clickmap||"default",_.para.heatmap.scroll_notice_map=_.para.heatmap.scroll_notice_map||"default",_.para.heatmap.scroll_delay_time=_.para.heatmap.scroll_delay_time||4e3,_.para.heatmap.scroll_event_duration=_.para.heatmap.scroll_event_duration||18e3,_.para.heatmap.renderRefreshTime=_.para.heatmap.renderRefreshTime||1e3,_.para.heatmap.loadTimeout=_.para.heatmap.loadTimeout||1e3,!0!==_.para.heatmap.get_vtrack_config&&(_.para.heatmap.get_vtrack_config=!1);var d=v.isArray(_.para.heatmap.track_attr)?v.filter(_.para.heatmap.track_attr,function(e){return e&&"string"==typeof e}):[];d.push("data-sensors-click"),_.para.heatmap.track_attr=d,v.isObject(_.para.heatmap.collect_tags)?!0===_.para.heatmap.collect_tags.div?_.para.heatmap.collect_tags.div={ignore_tags:l,max_level:1}:v.isObject(_.para.heatmap.collect_tags.div)?(_.para.heatmap.collect_tags.div.ignore_tags?v.isArray(_.para.heatmap.collect_tags.div.ignore_tags)||(_.log("ignore_tags 参数必须是数组格式"),_.para.heatmap.collect_tags.div.ignore_tags=l):_.para.heatmap.collect_tags.div.ignore_tags=l,_.para.heatmap.collect_tags.div.max_level&&-1===v.indexOf([1,2,3],_.para.heatmap.collect_tags.div.max_level)&&(_.para.heatmap.collect_tags.div.max_level=1)):_.para.heatmap.collect_tags.div=!1:_.para.heatmap.collect_tags={div:!1}}if(v.isArray(_.para.server_url)&&_.para.server_url.length)for(t=0;t<_.para.server_url.length;t++)/sa\.gif[^\/]*$/.test(_.para.server_url[t])||(_.para.server_url[t]=_.para.server_url[t].replace(/\/sa$/,"/sa.gif").replace(/(\/sa)(\?[^\/]+)$/,"/sa.gif$2"));else/sa\.gif[^\/]*$/.test(_.para.server_url)||"string"!=typeof _.para.server_url||(_.para.server_url=_.para.server_url.replace(/\/sa$/,"/sa.gif").replace(/(\/sa)(\?[^\/]+)$/,"/sa.gif$2"));"string"==typeof _.para.server_url&&(_.para.debug_mode_url=_.para.debug_mode_url||_.para.server_url.replace("sa.gif","debug")),!0===_.para.noCache?_.para.noCache="?"+new Date().getTime():_.para.noCache="",_.para.callback_timeout>_.para.datasend_timeout&&(_.para.datasend_timeout=_.para.callback_timeout),_.para.callback_timeout>_.para.queue_timeout&&(_.para.queue_timeout=_.para.callback_timeout),_.para.queue_timeout>_.para.datasend_timeout&&(_.para.datasend_timeout=_.para.queue_timeout)},_.readyState={state:0,historyState:[],stateType:{1:"1-init未开始",2:"2-init开始",3:"3-store完成"},getState:function(){return this.historyState.join("\n")},setState:function(e){String(e)in this.stateType&&(this.state=e),this.historyState.push(this.stateType[e])}},_.setPreConfig=function(e){_.para=e.para,_._q=e._q},_.setInitVar=function(){_._t=_._t||+new Date,_.lib_version="1.18.6",_.is_first_visitor=!1,_.source_channel_standard="utm_source utm_medium utm_campaign utm_content utm_term"},_.log=function(){if((v.sessionStorage.isSupport()&&"true"===sessionStorage.getItem("sensorsdata_jssdk_debug")||_.para.show_log)&&(v.isObject(arguments[0])&&(!0===_.para.show_log||"string"===_.para.show_log||!1===_.para.show_log)&&(arguments[0]=v.formatJsonString(arguments[0])),"object"==typeof console&&console.log))try{return console.log.apply(console,arguments)}catch(e){console.log(arguments[0])}},_.enableLocalLog=function(){if(v.sessionStorage.isSupport())try{sessionStorage.setItem("sensorsdata_jssdk_debug","true")}catch(e){_.log("enableLocalLog error: "+e.message)}},_.disableLocalLog=function(){v.sessionStorage.isSupport()&&sessionStorage.removeItem("sensorsdata_jssdk_debug")},_.debug={distinct_id:function(){},jssdkDebug:function(){},_sendDebug:function(e){_.track("_sensorsdata2019_debug",{_jssdk_debug_info:e})},apph5:function(e){var t="app_h5打通失败-",r=e.output,n=e.step,a=e.data||"";("all"===r||"console"===r)&&_.log({1:t+"use_app_track为false",2:t+"Android或者iOS，没有暴露相应方法",3.1:t+"Android校验server_url失败",3.2:t+"iOS校验server_url失败",4.1:t+"H5 校验 iOS server_url 失败",4.2:t+"H5 校验 Android server_url 失败"}[n]),("all"===r||"code"===r)&&v.isObject(_.para.is_debug)&&_.para.is_debug.apph5&&!(a.type&&"profile"===a.type.slice(0,7))&&(a.properties._jssdk_debug_info="apph5-"+String(n))},defineMode:function(e){var t={1:{title:"当前页面无法进行可视化全埋点",message:"App SDK 与 Web JS SDK 没有进行打通，请联系贵方技术人员修正 App SDK 的配置，详细信息请查看文档。",link_text:"配置文档",link_url:"https://manual.sensorsdata.cn/sa/latest/tech_sdk_client_link-1573913.html"},2:{title:"当前页面无法进行可视化全埋点",message:"App SDK 与 Web JS SDK 没有进行打通，请联系贵方技术人员修正 Web JS SDK 的配置，详细信息请查看文档。",link_text:"配置文档",link_url:"https://manual.sensorsdata.cn/sa/latest/tech_sdk_client_link-1573913.html"},3:{title:"当前页面无法进行可视化全埋点",message:"Web JS SDK 没有开启全埋点配置，请联系贵方工作人员修正 SDK 的配置，详细信息请查看文档。",link_text:"配置文档",link_url:"https://manual.sensorsdata.cn/sa/latest/tech_sdk_client_web_all-1573964.html"},4:{title:"当前页面无法进行可视化全埋点",message:"Web JS SDK 配置的数据校验地址与 App SDK 配置的数据校验地址不一致，请联系贵方工作人员修正 SDK 的配置，详细信息请查看文档。",link_text:"配置文档",link_url:"https://manual.sensorsdata.cn/sa/latest/tech_sdk_client_link-1573913.html"}};return!(!e||!t[e])&&t[e]},protocol:{protocolIsSame:function(e,t){try{if(v.URL(e).protocol!==v.URL(t).protocol)return!1}catch(e){return _.log("不支持 _.URL 方法"),!1}return!0},serverUrl:function(){v.isString(_.para.server_url)&&""!==_.para.server_url&&!this.protocolIsSame(_.para.server_url,location.href)&&_.log("SDK 检测到您的数据发送地址和当前页面地址的协议不一致，建议您修改成一致的协议。\n因为：1、https 下面发送 http 的图片请求会失败。2、http 页面使用 https + ajax 方式发数据，在 ie9 及以下会丢失数据。")},ajax:function(e){if(e===_.para.server_url)return!1;v.isString(e)&&""!==e&&!this.protocolIsSame(e,location.href)&&_.log("SDK 检测到您的数据发送地址和当前页面地址的协议不一致，建议您修改成一致的协议。因为 http 页面使用 https + ajax 方式发数据，在 ie9 及以下会丢失数据。")}}};var x={setOnlineState:function(e){if(!0===e&&v.isObject(_.para.jsapp)&&"function"==typeof _.para.jsapp.getData){_.para.jsapp.isOnline=!0;var t=_.para.jsapp.getData();v.isArray(t)&&t.length>0&&v.each(t,function(e){v.isJSONString(e)&&_.sendState.pushSend(JSON.parse(e))})}else _.para.jsapp.isOnline=!1},autoTrackIsUsed:!1,isReady:function(e){e()},getUtm:function(){return v.info.campaignParams()},getStayTime:function(){return(new Date-_._t)/1e3},setProfileLocal:function(e){if(!v.localStorage.isSupport())return _.setProfile(e),!1;if(!v.isObject(e)||v.isEmptyObject(e))return!1;var t=v.localStorage.parse("sensorsdata_2015_jssdk_profile"),r=!1;if(v.isObject(t)&&!v.isEmptyObject(t)){for(var n in e)(!(n in t)||t[n]===e[n])&&n in t||(t[n]=e[n],r=!0);r&&(v.localStorage.set("sensorsdata_2015_jssdk_profile",JSON.stringify(t)),_.setProfile(e))}else v.localStorage.set("sensorsdata_2015_jssdk_profile",JSON.stringify(e)),_.setProfile(e)},setInitReferrer:function(){var e=v.getReferrer();_.setOnceProfile({_init_referrer:e,_init_referrer_host:v.info.pageProp.referrer_host})},setSessionReferrer:function(){var e=v.getReferrer();A.setSessionPropsOnce({_session_referrer:e,_session_referrer_host:v.info.pageProp.referrer_host})},setDefaultAttr:function(){v.info.register({_current_url:location.href,_referrer:v.getReferrer(),_referring_host:v.info.pageProp.referrer_host})},trackHeatMap:function(e,t,r){if("object"==typeof e&&e.tagName){var n=e.tagName.toLowerCase(),a=e.parentNode.tagName.toLowerCase(),i=_.para.heatmap&&_.para.heatmap.track_attr?_.para.heatmap.track_attr:["data-sensors-click"];"button"===n||"a"===n||"a"===a||"button"===a||"input"===n||"textarea"===n||v.hasAttributes(e,i)||D.start(null,e,n,t,r)}},trackAllHeatMap:function(e,t,r){if("object"==typeof e&&e.tagName){var n=e.tagName.toLowerCase();D.start(null,e,n,t,r)}},autoTrackSinglePage:function(e,t){if(this.autoTrackIsUsed)var r=v.info.pageProp.url;else r=v.info.pageProp.referrer;function n(){var e=v.info.campaignParams(),t={};return v.each(e,function(e,r,n){-1!==(" "+_.source_channel_standard+" ").indexOf(" "+r+" ")?t["$"+r]=n[r]:t[r]=n[r]}),t}function a(e,t){_.track("$pageview",v.extend({$referrer:v.isDecodeURI(_.para.url_is_decode,r),$url:v.isDecodeURI(_.para.url_is_decode,location.href),$url_path:location.pathname,$title:document.title},e,n()),t),r=location.href}e=v.isObject(e)?e:{},e=v.isObject(e)?e:{},_.is_first_visitor&&!e.not_set_profile&&(_.setOnceProfile(v.extend({$first_visit_time:new Date,$first_referrer:v.isDecodeURI(_.para.url_is_decode,v.getReferrer()),$first_browser_language:navigator.language||"取值异常",$first_browser_charset:"string"==typeof document.charset?document.charset.toUpperCase():"取值异常",$first_traffic_source_type:v.getSourceFromReferrer(),$first_search_keyword:v.getKeywordFromReferrer()},n())),_.is_first_visitor=!1),e.not_set_profile&&delete e.not_set_profile,a(e,t),this.autoTrackSinglePage=a},autoTrackWithoutProfile:function(e,t){e=v.isObject(e)?e:{},this.autoTrack(v.extend(e,{not_set_profile:!0}),t)},autoTrack:function(e,t){e=v.isObject(e)?e:{};var r=v.info.campaignParams(),n={};v.each(r,function(e,t,r){-1!==(" "+_.source_channel_standard+" ").indexOf(" "+t+" ")?n["$"+t]=r[t]:n[t]=r[t]}),_.is_first_visitor&&!e.not_set_profile&&(_.setOnceProfile(v.extend({$first_visit_time:new Date,$first_referrer:v.isDecodeURI(_.para.url_is_decode,v.getReferrer()),$first_browser_language:navigator.language||"取值异常",$first_browser_charset:"string"==typeof document.charset?document.charset.toUpperCase():"取值异常",$first_traffic_source_type:v.getSourceFromReferrer(),$first_search_keyword:v.getKeywordFromReferrer()},n)),_.is_first_visitor=!1),e.not_set_profile&&delete e.not_set_profile;var a=location.href;_.para.is_single_page&&v.addHashEvent(function(){var r=v.getReferrer(a);_.track("$pageview",v.extend({$referrer:v.isDecodeURI(_.para.url_is_decode,r),$url:v.isDecodeURI(_.para.url_is_decode,location.href),$url_path:location.pathname,$title:document.title},n,e),t),a=location.href}),_.track("$pageview",v.extend({$referrer:v.isDecodeURI(_.para.url_is_decode,v.getReferrer()),$url:v.isDecodeURI(_.para.url_is_decode,location.href),$url_path:location.pathname,$title:document.title},n,e),t),this.autoTrackIsUsed=!0},getAnonymousID:function(){return v.isEmptyObject(_.store._state)?"请先初始化SDK":_.store._state._first_id||_.store._state.first_id||_.store._state._distinct_id||_.store._state.distinct_id},setPlugin:function(e){if(!v.isObject(e))return!1;v.each(e,function(e,t){v.isFunction(e)&&(v.isObject(window.SensorsDataWebJSSDKPlugin)&&window.SensorsDataWebJSSDKPlugin[t]?e(window.SensorsDataWebJSSDKPlugin[t]):_.log(t+"没有获取到,请查阅文档，调整"+t+"的引入顺序！"))})},useModulePlugin:function(){_.use.apply(_,arguments)},useAppPlugin:function(){this.setPlugin.apply(this,arguments)}};_.quick=function(){var e=Array.prototype.slice.call(arguments),t=e[0],r=e.slice(1);if("string"==typeof t&&x[t])return x[t].apply(x,r);"function"==typeof t?t.apply(_,r):_.log("quick方法中没有这个功能"+e[0])},_.use=function(e,t){return v.isString(e)?v.isObject(window.SensorsDataWebJSSDKPlugin)&&v.isObject(window.SensorsDataWebJSSDKPlugin[e])&&v.isFunction(window.SensorsDataWebJSSDKPlugin[e].init)?(window.SensorsDataWebJSSDKPlugin[e].init(_,t),window.SensorsDataWebJSSDKPlugin[e]):v.isObject(_.modules)&&v.isObject(_.modules[e])&&v.isFunction(_.modules[e].init)?(_.modules[e].init(_,t),_.modules[e]):void _.log(e+"没有获取到,请查阅文档，调整"+e+"的引入顺序！"):(_.log("use插件名称必须是字符串！"),!1)},_.track=function(e,t,r){P.check({event:e,properties:t})&&P.send({type:"track",event:e,properties:t},r)},_.trackLink=function(e,t,r){"object"==typeof e&&e.tagName?v.trackLink({ele:e},t,r):"object"==typeof e&&e.target&&e.event&&v.trackLink(e,t,r)},_.trackLinks=function(e,t,r){return r=r||{},!(!e||"object"!=typeof e)&&!(!e.href||/^javascript/.test(e.href)||e.target)&&void v.addEvent(e,"click",function(n){n.preventDefault();var a=!1;function i(){a||(a=!0,location.href=e.href)}setTimeout(i,1e3),_.track(t,r,i)})},_.setProfile=function(e,t){P.check({propertiesMust:e})&&P.send({type:"profile_set",properties:e},t)},_.setOnceProfile=function(e,t){P.check({propertiesMust:e})&&P.send({type:"profile_set_once",properties:e},t)},_.appendProfile=function(e,t){P.check({propertiesMust:e})&&(v.each(e,function(t,r){v.isString(t)?e[r]=[t]:v.isArray(t)?e[r]=t:(delete e[r],_.log("appendProfile属性的值必须是字符串或者数组"))}),v.isEmptyObject(e)||P.send({type:"profile_append",properties:e},t))},_.incrementProfile=function(e,t){var r=e;v.isString(e)&&((e={})[r]=1),P.check({propertiesMust:e})&&(function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&!/-*\d+/.test(String(e[t])))return!1;return!0}(e)?P.send({type:"profile_increment",properties:e},t):_.log("profile_increment的值只能是数字"))},_.deleteProfile=function(e){P.send({type:"profile_delete"},e),A.set("distinct_id",v.UUID()),A.set("first_id","")},_.unsetProfile=function(e,t){var r=e,n={};v.isString(e)&&(e=[]).push(r),v.isArray(e)?(v.each(e,function(e){v.isString(e)?n[e]=!0:_.log("profile_unset给的数组里面的值必须时string,已经过滤掉",e)}),P.send({type:"profile_unset",properties:n},t)):_.log("profile_unset的参数是数组")},_.identify=function(e,t){"number"==typeof e&&(e=String(e));var r=A.getFirstId();if(void 0===e){var n=v.UUID();r?A.set("first_id",n):A.set("distinct_id",n)}else P.check({distinct_id:e})?!0===t?r?A.set("first_id",e):A.set("distinct_id",e):r?A.change("first_id",e):A.change("distinct_id",e):_.log("identify的参数必须是字符串")},_.trackSignup=function(e,t,r,n){if(P.check({distinct_id:e,event:t,properties:r})){var a=A.getFirstId()||A.getDistinctId();A.set("distinct_id",e),P.send({original_id:a,distinct_id:e,type:"track_signup",event:t,properties:r},n)}},_.registerPage=function(e){P.check({properties:e})?v.extend(v.info.currentProps,e):_.log("register输入的参数有误")},_.clearAllRegister=function(e){A.clearAllProps(e)},_.clearPageRegister=function(e){if(v.isArray(e)&&e.length>0)for(var t=0;t<e.length;t++)v.isString(e[t])&&e[t]in v.info.currentProps&&delete v.info.currentProps[e[t]];else if(!0===e)for(var t in v.info.currentProps)delete v.info.currentProps[t]},_.register=function(e){P.check({properties:e})?A.setProps(e):_.log("register输入的参数有误")},_.registerOnce=function(e){P.check({properties:e})?A.setPropsOnce(e):_.log("registerOnce输入的参数有误")},_.registerSession=function(e){P.check({properties:e})?A.setSessionProps(e):_.log("registerSession输入的参数有误")},_.registerSessionOnce=function(e){P.check({properties:e})?A.setSessionPropsOnce(e):_.log("registerSessionOnce输入的参数有误")},_.login=function(e,t){if("number"==typeof e&&(e=String(e)),P.check({distinct_id:e})){var r=A.getFirstId(),n=A.getDistinctId();e!==n?(r||A.set("first_id",n),_.trackSignup(e,"$SignUp",{},t)):t&&t()}else _.log("login的参数必须是字符串"),t&&t()},_.logout=function(e){var t=A.getFirstId();if(t)if(A.set("first_id",""),!0===e){var r=v.UUID();A.set("distinct_id",r)}else A.set("distinct_id",t);else _.log("没有first_id，logout失败")},_.getPresetProperties=function(){var e,t,r={$is_first_day:v.cookie.getNewUser(),$referrer:v.isDecodeURI(_.para.url_is_decode,v.info.pageProp.referrer)||"",$referrer_host:v.info.pageProp.referrer?v.getHostname(v.info.pageProp.referrer):"",$url:v.isDecodeURI(_.para.url_is_decode,location.href),$url_path:location.pathname,$title:document.title||"",_distinct_id:A.getDistinctId()},n=v.extend({},v.info.properties(),_.store.getProps(),(e=v.info.campaignParams(),t={},v.each(e,function(e,r,n){-1!==(" "+_.source_channel_standard+" ").indexOf(" "+r+" ")?t["$"+r]=n[r]:t[r]=n[r]}),t),r);return _.para.preset_properties.latest_referrer&&_.para.preset_properties.latest_referrer_host&&(n.$latest_referrer_host=""===n.$latest_referrer?"":v.getHostname(n.$latest_referrer)),n},_.detectMode=function(){var e={searchKeywordMatch:location.search.match(/sa-request-id=([^&#]+)/),isSeachHasKeyword:function(){var e=this.searchKeywordMatch;return!!(e&&e[0]&&e[1])&&("string"==typeof sessionStorage.getItem("sensors-visual-mode")&&sessionStorage.removeItem("sensors-visual-mode"),!0)},hasKeywordHandle:function(){var e=this.searchKeywordMatch,t=location.search.match(/sa-request-type=([^&#]+)/),r=location.search.match(/sa-request-url=([^&#]+)/);D.setNotice(r),v.sessionStorage.isSupport()&&(r&&r[0]&&r[1]&&sessionStorage.setItem("sensors_heatmap_url",decodeURIComponent(r[1])),sessionStorage.setItem("sensors_heatmap_id",e[1]),t&&t[0]&&t[1]?"1"===t[1]||"2"===t[1]||"3"===t[1]?(t=t[1],sessionStorage.setItem("sensors_heatmap_type",t)):t=null:t=null!==sessionStorage.getItem("sensors_heatmap_type")?sessionStorage.getItem("sensors_heatmap_type"):null),this.isReady(e[1],t)},isReady:function(e,t,r){_.para.heatmap_url?v.loadScript({success:function(){setTimeout(function(){"undefined"!=typeof sa_jssdk_heatmap_render&&(sa_jssdk_heatmap_render(_,e,t,r),"object"!=typeof console||"function"!=typeof console.log||_.heatmap_version&&_.heatmap_version===_.lib_version||console.log("heatmap.js与sensorsdata.js版本号不一致，可能存在风险!"))},0)},error:function(){},type:"js",url:_.para.heatmap_url}):_.log("没有指定heatmap_url的路径")},isStorageHasKeyword:function(){return v.sessionStorage.isSupport()&&"string"==typeof sessionStorage.getItem("sensors_heatmap_id")},storageHasKeywordHandle:function(){D.setNotice(),e.isReady(sessionStorage.getItem("sensors_heatmap_id"),sessionStorage.getItem("sensors_heatmap_type"),location.href)}},t={isStorageHasKeyword:function(){return v.sessionStorage.isSupport()&&"string"==typeof sessionStorage.getItem("sensors-visual-mode")},isSearchHasKeyword:function(){return!!location.search.match(/sa-visual-mode=true/)&&("string"==typeof sessionStorage.getItem("sensors_heatmap_id")&&sessionStorage.removeItem("sensors_heatmap_id"),!0)},loadVtrack:function(){v.loadScript({success:function(){},error:function(){},type:"js",url:_.para.vtrack_url?_.para.vtrack_url:location.protocol+"//static.sensorsdata.cn/sdk/"+_.lib_version+"/vtrack.min.js"})},messageListener:function(e){if("sa-fe"!==e.data.source)return!1;if("v-track-mode"===e.data.type){if(e.data.data&&e.data.data.isVtrack)if(v.sessionStorage.isSupport()&&sessionStorage.setItem("sensors-visual-mode","true"),e.data.data.userURL&&location.search.match(/sa-visual-mode=true/)){var r=e.data.data.userURL,n=v.secCheck.isHttpUrl(r)?v.secCheck.removeScriptProtocol(r):(_.log("可视化模式检测 URL 失败"),!1);n&&(window.location.href=n)}else t.loadVtrack();window.removeEventListener("message",t.messageListener,!1)}},removeMessageHandle:function(){window.removeEventListener&&window.removeEventListener("message",t.messageListener,!1)},verifyVtrackMode:function(){window.addEventListener&&window.addEventListener("message",t.messageListener,!1),t.postMessage()},postMessage:function(){window.parent&&window.parent.postMessage&&window.parent.postMessage({source:"sa-web-sdk",type:"v-is-vtrack",data:{sdkversion:"1.18.6"}},"*")},notifyUser:function(){window.addEventListener&&window.addEventListener("message",function e(t){if("sa-fe"!==t.data.source)return!1;"v-track-mode"===t.data.type&&(t.data.data&&t.data.data.isVtrack&&alert("当前版本不支持，请升级部署神策数据治理"),window.removeEventListener("message",e,!1))},!1),t.postMessage()}},r=function(e){var t=_.bridge.initDefineBridgeInfo();function r(){var e=[];t.touch_app_bridge||e.push(_.debug.defineMode("1")),v.isObject(_.para.app_js_bridge)||(e.push(_.debug.defineMode("2")),t.verify_success=!1),v.isObject(_.para.heatmap)&&"default"==_.para.heatmap.clickmap||e.push(_.debug.defineMode("3")),"fail"===t.verify_success&&e.push(_.debug.defineMode("4"));var r={callType:"app_alert",data:e};SensorsData_App_Visual_Bridge&&SensorsData_App_Visual_Bridge.sensorsdata_visualized_alert_info?SensorsData_App_Visual_Bridge.sensorsdata_visualized_alert_info(JSON.stringify(r)):window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.sensorsdataNativeTracker&&window.webkit.messageHandlers.sensorsdataNativeTracker.postMessage&&window.webkit.messageHandlers.sensorsdataNativeTracker.postMessage(JSON.stringify(r))}if(v.isObject(window.SensorsData_App_Visual_Bridge)&&window.SensorsData_App_Visual_Bridge.sensorsdata_visualized_mode&&(!0===window.SensorsData_App_Visual_Bridge.sensorsdata_visualized_mode||window.SensorsData_App_Visual_Bridge.sensorsdata_visualized_mode()))if(v.isObject(_.para.heatmap)&&"default"==_.para.heatmap.clickmap)if(v.isObject(_.para.app_js_bridge)&&"success"===t.verify_success)if(e)sa_jssdk_app_define_mode(_,e);else{var n=location.protocol;n=v.indexOf(["http:","https:"],n)>-1?n:"https:",v.loadScript({success:function(){setTimeout(function(){"undefined"!=typeof sa_jssdk_app_define_mode&&sa_jssdk_app_define_mode(_,e)},0)},error:function(){},type:"js",url:n+"//static.sensorsdata.cn/sdk/"+_.lib_version+"/vapph5define.min.js"})}else r();else r()};_.para.heatmap&&_.para.heatmap.collect_tags&&v.isObject(_.para.heatmap.collect_tags)&&v.each(_.para.heatmap.collect_tags,function(e,t){"div"!==t&&e&&_.heatmap.otherTags.push(t)}),e.isSeachHasKeyword()?e.hasKeywordHandle():window.parent!==self&&t.isSearchHasKeyword()?t.verifyVtrackMode():e.isStorageHasKeyword()?e.storageHasKeywordHandle():window.parent!==self&&t.isStorageHasKeyword()?t.verifyVtrackMode():(_.readyState.setState(3),new _.JSBridge({type:"visualized",app_call_js:function(){"undefined"!=typeof sa_jssdk_app_define_mode?r(!0):r(!1)}}),r(!1),_.bridge.app_js_bridge_v1(),v.info.initPage(),_.para.is_track_single_page&&v.addSinglePageEvent(function(e){var t=function(t){t=t||{},e!==location.href&&(v.info.pageProp.referrer=e,e=v.isDecodeURI(_.para.url_is_decode,e),_.quick("autoTrack",v.extend({$url:v.isDecodeURI(_.para.url_is_decode,location.href),$referrer:e},t)))};if("boolean"==typeof _.para.is_track_single_page)t();else if("function"==typeof _.para.is_track_single_page){var r=_.para.is_track_single_page();v.isObject(r)?t(r):!0===r&&t()}}),_.para.batch_send&&(v.addEvent(window,"onpagehide"in window?"pagehide":"unload",function(e){_.batchSend.clearPendingStatus()}),_.batchSend.batchInterval()),_.store.init(),_.vtrackcollect.init(),_.readyState.setState(4),_._q&&v.isArray(_._q)&&_._q.length>0&&v.each(_._q,function(e){_[e[0]].apply(_,Array.prototype.slice.call(e[1]))}),v.isObject(_.para.heatmap)&&(D.initHeatmap(),D.initScrollmap()),t.notifyUser())},g.prototype={add:function(e){v.isObject(e)&&(this.writeStore(e),("track_signup"===e.type||"$pageview"===e.event)&&this.sendStrategy())},clearPendingStatus:function(){this.sendingItemKeys.length&&this.removePendingItems(this.sendingItemKeys)},remove:function(e){this.sendingData>0&&--this.sendingData,v.isArray(e)&&e.length>0&&v.each(e,function(e){v.localStorage.remove(e)})},send:function(e){var t,r=this;v.isString(_.para.server_url)&&""!==_.para.server_url||v.isArray(_.para.server_url)&&_.para.server_url.length?(t=v.isArray(_.para.server_url)?_.para.server_url[0]:_.para.server_url,v.ajax({url:t,type:"POST",data:"data_list="+encodeURIComponent(v.base64Encode(JSON.stringify(e.vals))),credentials:!1,timeout:_.para.batch_send.datasend_timeout,cors:!0,success:function(){r.remove(e.keys),r.removePendingItems(e.keys)},error:function(){r.sendingData>0&&--r.sendingData,r.removePendingItems(e.keys)}})):_.log("当前 server_url 为空或不正确，只在控制台打印日志，network 中不会发数据，请配置正确的 server_url！")},appendPendingItems:function(e){if(!1!==v.isArray(e)){this.sendingItemKeys=v.unique(this.sendingItemKeys.concat(e));try{var t=this.getPendingItems(),r=v.unique(t.concat(e));localStorage.setItem("sawebjssdk-sendingitems",JSON.stringify(r))}catch(e){}}},removePendingItems:function(e){if(!1!==v.isArray(e)){this.sendingItemKeys.length&&(this.sendingItemKeys=v.filter(this.sendingItemKeys,function(t){return -1===v.indexOf(e,t)}));try{var t=this.getPendingItems(),r=v.filter(t,function(t){return -1===v.indexOf(e,t)});localStorage.setItem("sawebjssdk-sendingitems",JSON.stringify(r))}catch(e){}}},getPendingItems:function(){var e=[];try{var t=localStorage.getItem("sawebjssdk-sendingitems");t&&(e=JSON.parse(t))}catch(e){}return e},sendPrepare:function(e){this.appendPendingItems(e.keys);var t=e.vals;t.length>0&&this.send({keys:e.keys,vals:t})},sendStrategy:function(){if(!1===document.hasFocus())return!1;var e=this.readStore();e.keys.length>0&&0===this.sendingData&&(this.sendingData=1,this.sendPrepare(e))},batchInterval:function(){var e=this;setInterval(function(){e.sendStrategy()},_.para.batch_send.send_interval)},readStore:function(){for(var e=[],t=[],r=null,n=new Date().getTime(),a=localStorage.length,i=this.getPendingItems(),s=0;s<a;s++){var c=localStorage.key(s);if(0===c.indexOf("sawebjssdk-")&&/^sawebjssdk\-\d+$/.test(c)){if(i.length&&v.indexOf(i,c)>-1)continue;(r=localStorage.getItem(c))?(r=v.safeJSONParse(r))&&v.isObject(r)?(r._flush_time=n,e.push(c),t.push(r)):(localStorage.removeItem(c),_.log("localStorage-数据parse异常"+r)):(localStorage.removeItem(c),_.log("localStorage-数据取值异常"+r))}}return{keys:e,vals:t}},writeStore:function(e){var t=String(v.getRandom()).slice(2,5)+String(v.getRandom()).slice(2,5)+String(new Date().getTime()).slice(3);localStorage.setItem("sawebjssdk-"+t,JSON.stringify(e))}},_.batchSend=new g;var j={getSendUrl:function(e,t){var r=v.base64Encode(t),n="crc="+v.hashCode(r);return -1!==e.indexOf("?")?e+"&data="+encodeURIComponent(r)+"&ext="+encodeURIComponent(n):e+"?data="+encodeURIComponent(r)+"&ext="+encodeURIComponent(n)},getSendData:function(e){var t=v.base64Encode(e),r="crc="+v.hashCode(t);return"data="+encodeURIComponent(t)+"&ext="+encodeURIComponent(r)},getInstance:function(e){var t=new this[this.getSendType(e)](e),r=t.start;return t.start=function(){v.isObject(_.para.is_debug)&&_.para.is_debug.storage&&_.store.requests&&_.store.requests.push({name:this.server_url,initiatorType:this.img?"img":"xmlhttprequest",entryType:"resource",requestData:this.data});var e=this;r.apply(this,arguments),setTimeout(function(){e.isEnd(!0)},_.para.callback_timeout)},t.end=function(){this.callback&&this.callback();var e=this;setTimeout(function(){e.lastClear&&e.lastClear()},_.para.datasend_timeout-_.para.callback_timeout)},t.isEnd=function(e){if(!this.received){this.received=!0,this.end();var t=this;e?_.para.queue_timeout-_.para.callback_timeout<=0?t.close():setTimeout(function(){t.close()},_.para.queue_timeout-_.para.callback_timeout):t.close()}},t},getRealtimeInstance:function(e){var t=new this[this.getSendType(e)](e),r=t.start;return t.start=function(){var e=this;r.apply(this,arguments),setTimeout(function(){e.isEnd(!0)},_.para.callback_timeout)},t.end=function(){this.callback&&this.callback();var e=this;setTimeout(function(){e.lastClear&&e.lastClear()},_.para.datasend_timeout-_.para.callback_timeout)},t.isEnd=function(e){this.received||(this.received=!0,this.end())},t},getSendType:function(e){var t=["image","ajax","beacon"],r=t[0];return"beacon"===(r=e.config&&v.indexOf(t,e.config.send_type)>-1?e.config.send_type:_.para.send_type)&&!1===v.isSupportBeaconSend()&&(r="image"),"ajax"===r&&!1===v.isSupportCors()&&(r="image"),r},image:function(e){this.callback=e.callback,this.img=document.createElement("img"),this.img.width=1,this.img.height=1,_.para.img_use_crossorigin&&(this.img.crossOrigin="anonymous"),this.data=e.data,this.server_url=j.getSendUrl(e.server_url,e.data)}};j.image.prototype.start=function(){var e=this;_.para.ignore_oom&&(this.img.onload=function(){this.onload=null,this.onerror=null,this.onabort=null,e.isEnd()},this.img.onerror=function(){this.onload=null,this.onerror=null,this.onabort=null,e.isEnd()},this.img.onabort=function(){this.onload=null,this.onerror=null,this.onabort=null,e.isEnd()}),this.img.src=this.server_url},j.image.prototype.lastClear=function(){this.img.src=""},j.ajax=function(e){this.callback=e.callback,this.server_url=e.server_url,this.data=j.getSendData(e.data)},j.ajax.prototype.start=function(){var e=this;v.ajax({url:this.server_url,type:"POST",data:this.data,credentials:!1,timeout:_.para.datasend_timeout,cors:!0,success:function(){e.isEnd()},error:function(){e.isEnd()}})},j.beacon=function(e){this.callback=e.callback,this.server_url=e.server_url,this.data=j.getSendData(e.data)},j.beacon.prototype.start=function(){var e=this;"object"==typeof navigator&&"function"==typeof navigator.sendBeacon&&navigator.sendBeacon(this.server_url,this.data),setTimeout(function(){e.isEnd()},40)};var O={};_.sendState=O,_.events=new v.eventEmitter,O.queue=v.autoExeQueue(),O.getSendCall=function(e,t,r){if(_.is_heatmap_render_mode)return!1;if(_.readyState.state<3)return _.log("初始化没有完成"),!1;e._track_id=Number(String(v.getRandom()).slice(2,5)+String(v.getRandom()).slice(2,4)+String(new Date().getTime()).slice(-4)),_.para.use_client_time&&(e._flush_time=new Date().getTime());var n=e;e=JSON.stringify(e);var a={data:n,config:t,callback:r};if(_.events.tempAdd("send",n),!_.para.app_js_bridge&&_.para.batch_send&&localStorage.length<200)return _.log(n),_.batchSend.add(a.data),!1;_.bridge.dataSend(a,this,r),_.log(n)},O.prepareServerUrl=function(e){if("object"==typeof e.config&&e.config.server_url)this.sendCall(e,e.config.server_url,e.callback);else if(v.isArray(_.para.server_url)&&_.para.server_url.length)for(var t=0;t<_.para.server_url.length;t++)this.sendCall(e,_.para.server_url[t]);else"string"==typeof _.para.server_url&&""!==_.para.server_url?this.sendCall(e,_.para.server_url,e.callback):_.log("当前 server_url 为空或不正确，只在控制台打印日志，network 中不会发数据，请配置正确的 server_url！")},O.sendCall=function(e,t,r){var n={server_url:t,data:JSON.stringify(e.data),callback:r,config:e.config};v.isObject(_.para.jsapp)&&!_.para.jsapp.isOnline&&"function"==typeof _.para.jsapp.setData?(delete n.callback,n=JSON.stringify(n),_.para.jsapp.setData(n)):_.para.use_client_time?this.realtimeSend(n):this.pushSend(n)},O.pushSend=function(e){var t=j.getInstance(e),r=this;t.close=function(){r.queue.close()},this.queue.enqueue(t)},O.realtimeSend=function(e){j.getRealtimeInstance(e).start()};var P={};_.saEvent=P,P.checkOption={regChecks:{regName:/^((?!^distinct_id$|^original_id$|^time$|^properties$|^id$|^first_id$|^second_id$|^users$|^events$|^event$|^user_id$|^date$|^datetime$)[a-zA-Z_$][a-zA-Z\d_$]{0,99})$/i},checkPropertiesKey:function(e){var t=this,r=!0;return v.each(e,function(e,n){t.regChecks.regName.test(n)||(r=!1)}),r},check:function(e,t){return"string"==typeof this[e]?this[this[e]](t):v.isFunction(this[e])?this[e](t):void 0},str:function(e){return!!v.isString(e)||(_.log("请检查参数格式,必须是字符串"),!0)},properties:function(e){return v.strip_sa_properties(e),!e||(v.isObject(e)?!!this.checkPropertiesKey(e)||(_.log("properties 里的自定义属性名需要是合法的变量名，不能以数字开头，且只包含：大小写字母、数字、下划线，自定义属性不能以 $ 开头"),!0):(_.log("properties可以没有，但有的话必须是对象"),!0))},propertiesMust:function(e){return v.strip_sa_properties(e),void 0===e||!v.isObject(e)||v.isEmptyObject(e)?(_.log("properties必须是对象且有值"),!0):!!this.checkPropertiesKey(e)||(_.log("properties 里的自定义属性名需要是合法的变量名，不能以数字开头，且只包含：大小写字母、数字、下划线，自定义属性不能以 $ 开头"),!0)},event:function(e){return!(!v.isString(e)||!this.regChecks.regName.test(e))||(_.log("请检查参数格式，eventName 必须是字符串，且需是合法的变量名，即不能以数字开头，且只包含：大小写字母、数字、下划线和 $,其中以 $ 开头的表明是系统的保留字段，自定义事件名请不要以 $ 开头"),!0)},test_id:"str",group_id:"str",distinct_id:function(e){return!(!v.isString(e)||!/^.{1,255}$/.test(e))||(_.log("distinct_id必须是不能为空，且小于255位的字符串"),!1)}},P.check=function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&!this.checkOption.check(t,e[t]))return!1;return!0},P.send=function(e,t){var r={distinct_id:A.getDistinctId(),lib:{$lib:"js",$lib_method:"code",$lib_version:String(_.lib_version)},properties:{}};v.isObject(e)&&v.isObject(e.properties)&&!v.isEmptyObject(e.properties)&&(e.properties.$lib_detail&&(r.lib.$lib_detail=e.properties.$lib_detail,delete e.properties.$lib_detail),e.properties.$lib_method&&(r.lib.$lib_method=e.properties.$lib_method,delete e.properties.$lib_method)),v.extend(r,_.store.getUnionId(),e),v.isObject(e.properties)&&!v.isEmptyObject(e.properties)&&v.extend(r.properties,e.properties),!(e.type&&"profile"===e.type.slice(0,7))&&(r.properties=v.extend({},v.info.properties(),A.getProps(),A.getSessionProps(),v.info.currentProps,r.properties),_.para.preset_properties.latest_referrer&&!v.isString(r.properties.$latest_referrer)&&(r.properties.$latest_referrer="取值异常"),_.para.preset_properties.latest_search_keyword&&!v.isString(r.properties.$latest_search_keyword)&&(r.properties.$latest_search_keyword="取值异常"),_.para.preset_properties.latest_traffic_source_type&&!v.isString(r.properties.$latest_traffic_source_type)&&(r.properties.$latest_traffic_source_type="取值异常"),_.para.preset_properties.latest_landing_page&&!v.isString(r.properties.$latest_landing_page)&&(r.properties.$latest_landing_page="取值异常"),"not_collect"===_.para.preset_properties.latest_wx_ad_click_id?(delete r.properties._latest_wx_ad_click_id,delete r.properties._latest_wx_ad_hash_key,delete r.properties._latest_wx_ad_callbacks):_.para.preset_properties.latest_wx_ad_click_id&&!v.isString(r.properties._latest_wx_ad_click_id)&&(r.properties._latest_wx_ad_click_id="取值异常",r.properties._latest_wx_ad_hash_key="取值异常",r.properties._latest_wx_ad_callbacks="取值异常"),v.isString(r.properties._latest_wx_ad_click_id)&&(r.properties.$url=v.isDecodeURI(_.para.url_is_decode,window.location.href))),r.properties.$time&&v.isDate(r.properties.$time)?(r.time=+r.properties.$time,delete r.properties.$time):_.para.use_client_time&&(r.time=+new Date);var n=_.vtrackcollect.customProp.getVtrackProps(JSON.parse(JSON.stringify(r)));v.isObject(n)&&!v.isEmptyObject(n)&&(r.properties=v.extend(r.properties,n)),v.parseSuperProperties(r),v.filterReservedProperties(r.properties),v.searchObjDate(r),v.searchObjString(r),v.searchZZAppStyle(r);var a=v.searchConfigData(r.properties);C.checkIsAddSign(r),C.checkIsFirstTime(r),_.addReferrerHost(r),_.addPropsHook(r),!0===_.para.debug_mode?(_.log(r),this.debugPath(JSON.stringify(r),t)):_.sendState.getSendCall(r,a,t)},P.debugPath=function(e,t){var r;r=-1!==_.para.debug_mode_url.indexOf("?")?_.para.debug_mode_url+"&data="+encodeURIComponent(v.base64Encode(e)):_.para.debug_mode_url+"?data="+encodeURIComponent(v.base64Encode(e)),v.ajax({url:r,type:"GET",cors:!0,header:{"Dry-Run":String(_.para.debug_mode_upload)},success:function(t){!0===v.isEmptyObject(t)?alert("debug数据发送成功"+e):alert("debug失败 错误原因"+JSON.stringify(t))}})};var A=_.store={requests:[],_sessionState:{},_state:{distinct_id:"",first_id:"",props:{}},getProps:function(){return this._state.props||{}},getSessionProps:function(){return this._sessionState},getDistinctId:function(){return this._state._distinct_id||this._state.distinct_id},getUnionId:function(){var e={},t=this._state._first_id||this._state.first_id,r=this._state._distinct_id||this._state.distinct_id;return t&&r?(e.login_id=r,e.anonymous_id=t):e.anonymous_id=r,e},getFirstId:function(){return this._state._first_id||this._state.first_id},toState:function(e){var t=null;if(null!=e&&v.isJSONString(e))if(t=JSON.parse(e),this._state=v.extend(t),t.distinct_id){if("object"==typeof t.props){for(var r in t.props)"string"==typeof t.props[r]&&(t.props[r]=t.props[r].slice(0,_.para.max_referrer_string_length));this.save()}}else this.set("distinct_id",v.UUID()),_.debug.distinct_id("1",e);else this.set("distinct_id",v.UUID()),_.debug.distinct_id("2",e)},initSessionState:function(){var e=v.cookie.get("sensorsdata2015session"),t=null;null!==e&&"object"==typeof(t=JSON.parse(e))&&(this._sessionState=t||{})},setOnce:function(e,t){e in this._state||this.set(e,t)},set:function(e,t){this._state=this._state||{};var r=this._state.distinct_id;this._state[e]=t,"first_id"===e?delete this._state._first_id:"distinct_id"===e&&delete this._state._distinct_id,this.save(),"distinct_id"===e&&r&&_.events.tempAdd("changeDistinctId",t)},change:function(e,t){this._state["_"+e]=t},setSessionProps:function(e){var t=this._sessionState;v.extend(t,e),this.sessionSave(t)},setSessionPropsOnce:function(e){var t=this._sessionState;v.coverExtend(t,e),this.sessionSave(t)},setProps:function(e,t){var r={};for(var n in r=t?e:v.extend(this._state.props||{},e))"string"==typeof r[n]&&(r[n]=r[n].slice(0,_.para.max_referrer_string_length));this.set("props",r)},setPropsOnce:function(e){var t=this._state.props||{};v.coverExtend(t,e),this.set("props",t)},clearAllProps:function(e){if(this._sessionState={},v.isArray(e)&&e.length>0)for(var t=0;t<e.length;t++)v.isString(e[t])&&-1===e[t].indexOf("latest_")&&e[t]in this._state.props&&delete this._state.props[e[t]];else for(var t in this._state.props)1!==t.indexOf("latest_")&&delete this._state.props[t];this.sessionSave({}),this.save()},sessionSave:function(e){this._sessionState=e,v.cookie.set("sensorsdata2015session",JSON.stringify(this._sessionState),0)},save:function(){var e=JSON.parse(JSON.stringify(this._state));delete e._first_id,delete e._distinct_id;var t=JSON.stringify(e);_.para.encrypt_cookie&&(t=v.cookie.encrypt(t)),v.cookie.set(this.getCookieName(),t,73e3,_.para.cross_subdomain)},getCookieName:function(){var e="";if(!1===_.para.cross_subdomain){try{e=v.URL(location.href).hostname}catch(e){_.log(e)}e="string"==typeof e&&""!==e?"sa_jssdk_2015_"+e.replace(/\./g,"_"):"sa_jssdk_2015_root"}else e="sensorsdata2015jssdkcross";return e},init:function(){this.initSessionState();var e=v.UUID(),t=v.cookie.get(this.getCookieName());null===(t=v.cookie.resolveValue(t))?(_.is_first_visitor=!0,this.set("distinct_id",e)):(v.isJSONString(t)&&JSON.parse(t).distinct_id||(_.is_first_visitor=!0),this.toState(t)),C.setDeviceId(e),C.storeInitCheck(),C.checkIsFirstLatest()}},C={checkIsAddSign:function(e){"track"===e.type&&(v.cookie.getNewUser()?e.properties.$is_first_day=!0:e.properties.$is_first_day=!1)},is_first_visit_time:!1,checkIsFirstTime:function(e){"track"===e.type&&"$pageview"===e.event&&(this.is_first_visit_time?(e.properties.$is_first_time=!0,this.is_first_visit_time=!1):e.properties.$is_first_time=!1)},setDeviceId:function(e){var t=null,r=v.cookie.get("sensorsdata2015jssdkcross"),n={};null!=(r=v.cookie.resolveValue(r))&&v.isJSONString(r)&&(n=JSON.parse(r)).$device_id&&(t=n.$device_id),t=t||e,!0===_.para.cross_subdomain?A.set("$device_id",t):(n.$device_id=t,n=JSON.stringify(n),_.para.encrypt_cookie&&(n=v.cookie.encrypt(n)),v.cookie.set("sensorsdata2015jssdkcross",n,null,!0)),_.para.is_track_device_id&&(v.info.currentProps.$device_id=t)},storeInitCheck:function(){if(_.is_first_visitor){var e=new Date,t={h:23-e.getHours(),m:59-e.getMinutes(),s:59-e.getSeconds()};v.cookie.set(v.cookie.getCookieName("new_user"),"1",3600*t.h+60*t.m+t.s+"s"),this.is_first_visit_time=!0}else v.cookie.getNewUser()||(this.checkIsAddSign=function(e){"track"===e.type&&(e.properties.$is_first_day=!1)}),this.checkIsFirstTime=function(e){"track"===e.type&&"$pageview"===e.event&&(e.properties.$is_first_time=!1)}},checkIsFirstLatest:function(){for(var e=v.info.pageProp.url_domain,t=["$utm_source","$utm_medium","$utm_campaign","$utm_content","$utm_term"],r=A.getProps(),n=0;n<t.length;n++)t[n]in r&&delete r[t[n]];A.setProps(r,!0);var a={};if(""===e&&(e="url解析失败"),v.each(_.para.preset_properties,function(t,r){if(-1===r.indexOf("latest_"))return!1;if(r=r.slice(7),t){if("wx_ad_click_id"===r&&"not_collect"===t)return!1;if("utm"!==r&&"url解析失败"===e)"wx_ad_click_id"===r?(a._latest_wx_ad_click_id="url的domain解析失败",a._latest_wx_ad_hash_key="url的domain解析失败",a._latest_wx_ad_callbacks="url的domain解析失败"):a["$latest_"+r]="url的domain解析失败";else if(v.isReferralTraffic(document.referrer))switch(r){case"traffic_source_type":a.$latest_traffic_source_type=v.getSourceFromReferrer();break;case"referrer":a.$latest_referrer=v.isDecodeURI(_.para.url_is_decode,v.info.pageProp.referrer);break;case"search_keyword":a.$latest_search_keyword=v.getKeywordFromReferrer();break;case"landing_page":a.$latest_landing_page=v.isDecodeURI(_.para.url_is_decode,location.href);break;case"wx_ad_click_id":var n=v.getWxAdIdFromUrl(location.href);a._latest_wx_ad_click_id=n.click_id,a._latest_wx_ad_hash_key=n.hash_key,a._latest_wx_ad_callbacks=n.callbacks}}else if("utm"===r&&_.store._state.props)for(var i in _.store._state.props)(0===i.indexOf("$latest_utm")||0===i.indexOf("_latest_")&&0>i.indexOf("_latest_wx_ad_"))&&delete _.store._state.props[i];else _.store._state.props&&"$latest_"+r in _.store._state.props?delete _.store._state.props["$latest_"+r]:"wx_ad_click_id"==r&&_.store._state.props&&!1===t&&v.each(["_latest_wx_ad_click_id","_latest_wx_ad_hash_key","_latest_wx_ad_callbacks"],function(e){e in _.store._state.props&&delete _.store._state.props[e]})}),_.register(a),_.para.preset_properties.latest_utm){var i=v.info.campaignParamsStandard("$latest_","_latest_"),s=i.$utms,c=i.otherUtms;v.isEmptyObject(s)||_.register(s),v.isEmptyObject(c)||_.register(c)}}};_.bridge={is_verify_success:!1,initPara:function(){var e={is_send:!0,white_list:[],is_mui:!1};"object"==typeof _.para.app_js_bridge?_.para.app_js_bridge=v.extend({},e,_.para.app_js_bridge):!0===_.para.use_app_track||!0===_.para.app_js_bridge||"only"===_.para.use_app_track?((!1===_.para.use_app_track_is_send||"only"===_.para.use_app_track)&&(e.is_send=!1),_.para.app_js_bridge=v.extend({},e)):"mui"===_.para.use_app_track&&(e.is_mui=!0,_.para.app_js_bridge=v.extend({},e)),!1===_.para.app_js_bridge.is_send&&_.log("设置了 is_send:false,如果打通失败，数据将被丢弃！")},initState:function(){function e(e){function t(e){var t={hostname:"",project:""};try{t.hostname=v.URL(e).hostname,t.project=v.URL(e).searchParams.get("project")||"default"}catch(e){_.log(e)}return t}var r=t(e),n=t(_.para.server_url);if(r.hostname===n.hostname&&r.project===n.project)return!0;if(_.para.app_js_bridge.white_list.length>0)for(var a=0;a<_.para.app_js_bridge.white_list.length;a++){var i=t(_.para.app_js_bridge.white_list[a]);if(i.hostname===r.hostname&&i.project===r.project)return!0}return!1}if(v.isObject(_.para.app_js_bridge)&&!_.para.app_js_bridge.is_mui){if(window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.sensorsdataNativeTracker&&v.isObject(window.SensorsData_iOS_JS_Bridge)&&window.SensorsData_iOS_JS_Bridge.sensorsdata_app_server_url)e(window.SensorsData_iOS_JS_Bridge.sensorsdata_app_server_url)&&(_.bridge.is_verify_success=!0);else if(v.isObject(window.SensorsData_APP_New_H5_Bridge)&&window.SensorsData_APP_New_H5_Bridge.sensorsdata_get_server_url&&window.SensorsData_APP_New_H5_Bridge.sensorsdata_track){var t=window.SensorsData_APP_New_H5_Bridge.sensorsdata_get_server_url();t&&e(t)&&(_.bridge.is_verify_success=!0)}}},initDefineBridgeInfo:function(){var e={touch_app_bridge:!0,verify_success:!1};return window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.sensorsdataNativeTracker&&window.webkit.messageHandlers.sensorsdataNativeTracker.postMessage&&v.isObject(window.SensorsData_iOS_JS_Bridge)&&window.SensorsData_iOS_JS_Bridge.sensorsdata_app_server_url||v.isObject(window.SensorsData_APP_New_H5_Bridge)&&window.SensorsData_APP_New_H5_Bridge.sensorsdata_get_server_url&&window.SensorsData_APP_New_H5_Bridge.sensorsdata_track?_.bridge.is_verify_success?e.verify_success="success":e.verify_success="fail":"object"==typeof SensorsData_APP_JS_Bridge&&(SensorsData_APP_JS_Bridge.sensorsdata_verify&&SensorsData_APP_JS_Bridge.sensorsdata_visual_verify||SensorsData_APP_JS_Bridge.sensorsdata_track)?SensorsData_APP_JS_Bridge.sensorsdata_verify&&SensorsData_APP_JS_Bridge.sensorsdata_visual_verify?SensorsData_APP_JS_Bridge.sensorsdata_visual_verify(JSON.stringify({server_url:_.para.server_url}))?e.verify_success="success":e.verify_success="fail":e.verify_success="success":(/sensors-verify/.test(navigator.userAgent)||/sa-sdk-ios/.test(navigator.userAgent))&&!window.MSStream?_.bridge.iOS_UA_bridge()?e.verify_success="success":e.verify_success="fail":e.touch_app_bridge=!1,e},iOS_UA_bridge:function(){if(/sensors-verify/.test(navigator.userAgent)){var e=navigator.userAgent.match(/sensors-verify\/([^\s]+)/);if(e&&e[0]&&"string"==typeof e[1]&&2===e[1].split("?").length){e=e[1].split("?");var t=null,r=null;try{t=v.URL(_.para.server_url).hostname,r=v.URL(_.para.server_url).searchParams.get("project")||"default"}catch(e){_.log(e)}return!(!t||t!==e[0]||!r||r!==e[1])}return!1}return!!/sa-sdk-ios/.test(navigator.userAgent)},dataSend:function(e,t,r){var n=e.data;if(v.isObject(_.para.app_js_bridge)&&!_.para.app_js_bridge.is_mui)if(window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.sensorsdataNativeTracker&&window.webkit.messageHandlers.sensorsdataNativeTracker.postMessage&&v.isObject(window.SensorsData_iOS_JS_Bridge)&&window.SensorsData_iOS_JS_Bridge.sensorsdata_app_server_url)_.bridge.is_verify_success?(window.webkit.messageHandlers.sensorsdataNativeTracker.postMessage(JSON.stringify({callType:"app_h5_track",data:v.extend({server_url:_.para.server_url},n)})),"function"==typeof r&&r()):_.para.app_js_bridge.is_send?(_.debug.apph5({data:n,step:"4.1",output:"all"}),t.prepareServerUrl(e)):"function"==typeof r&&r();else if(v.isObject(window.SensorsData_APP_New_H5_Bridge)&&window.SensorsData_APP_New_H5_Bridge.sensorsdata_get_server_url&&window.SensorsData_APP_New_H5_Bridge.sensorsdata_track)_.bridge.is_verify_success?(SensorsData_APP_New_H5_Bridge.sensorsdata_track(JSON.stringify(v.extend({server_url:_.para.server_url},n))),"function"==typeof r&&r()):_.para.app_js_bridge.is_send?(_.debug.apph5({data:n,step:"4.2",output:"all"}),t.prepareServerUrl(e)):"function"==typeof r&&r();else if("object"==typeof SensorsData_APP_JS_Bridge&&(SensorsData_APP_JS_Bridge.sensorsdata_verify||SensorsData_APP_JS_Bridge.sensorsdata_track))SensorsData_APP_JS_Bridge.sensorsdata_verify?SensorsData_APP_JS_Bridge.sensorsdata_verify(JSON.stringify(v.extend({server_url:_.para.server_url},n)))?"function"==typeof r&&r():_.para.app_js_bridge.is_send?(_.debug.apph5({data:n,step:"3.1",output:"all"}),t.prepareServerUrl(e)):"function"==typeof r&&r():(SensorsData_APP_JS_Bridge.sensorsdata_track(JSON.stringify(v.extend({server_url:_.para.server_url},n))),"function"==typeof r&&r());else if((/sensors-verify/.test(navigator.userAgent)||/sa-sdk-ios/.test(navigator.userAgent))&&!window.MSStream){var a=null;if(_.bridge.iOS_UA_bridge()){a=document.createElement("iframe");var i,s=(i=(i=JSON.stringify(v.extend({server_url:_.para.server_url},n))).replaceAll(/\r\n/g,""),"sensorsanalytics://trackEvent?event="+encodeURIComponent(i));a.setAttribute("src",s),document.documentElement.appendChild(a),a.parentNode.removeChild(a),a=null,"function"==typeof r&&r()}else _.para.app_js_bridge.is_send?(_.debug.apph5({data:n,step:"3.2",output:"all"}),t.prepareServerUrl(e)):"function"==typeof r&&r()}else v.isObject(_.para.app_js_bridge)&&!0===_.para.app_js_bridge.is_send?(_.debug.apph5({data:n,step:"2",output:"all"}),t.prepareServerUrl(e)):"function"==typeof r&&r();else v.isObject(_.para.app_js_bridge)&&_.para.app_js_bridge.is_mui?v.isObject(window.plus)&&window.plus.SDAnalytics&&window.plus.SDAnalytics.trackH5Event?(window.plus.SDAnalytics.trackH5Event(data),"function"==typeof r&&r()):v.isObject(_.para.app_js_bridge)&&!0===_.para.app_js_bridge.is_send?t.prepareServerUrl(e):"function"==typeof r&&r():(_.debug.apph5({data:n,step:"1",output:"code"}),t.prepareServerUrl(e))},app_js_bridge_v1:function(){var e=null,t=null;window.sensorsdata_app_js_bridge_call_js=function(r){e=r,v.isJSONString(e)&&(e=JSON.parse(e)),t&&(t(e),t=null,e=null)},_.getAppStatus=function(r){if(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream){var n=document.createElement("iframe");n.setAttribute("src","sensorsanalytics://getAppInfo"),document.documentElement.appendChild(n),n.parentNode.removeChild(n),n=null}if("object"==typeof window.SensorsData_APP_JS_Bridge&&window.SensorsData_APP_JS_Bridge.sensorsdata_call_app&&(e=SensorsData_APP_JS_Bridge.sensorsdata_call_app(),v.isJSONString(e)&&(e=JSON.parse(e))),!r)return e;null===e?t=r:(r(e),e=null)}},supportAppCallJs:function(){window.sensorsdata_app_call_js=function(e,t){e in window.sensorsdata_app_call_js.modules&&window.sensorsdata_app_call_js.modules[e](t)},window.sensorsdata_app_call_js.modules={}}},_.JSBridge=function(e){this.list={},this.type=e.type,this.app_call_js=v.isFunction(e.app_call_js)?e.app_call_js:function(){},this.init()},_.JSBridge.prototype.init=function(){var e=this;window.sensorsdata_app_call_js.modules[this.type]||(window.sensorsdata_app_call_js.modules[this.type]=function(t){e.app_call_js(t)})},_.JSBridge.prototype.jsCallApp=function(e){var t={callType:this.type,data:e};if(window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.sensorsdataNativeTracker&&window.webkit.messageHandlers.sensorsdataNativeTracker.postMessage)window.webkit.messageHandlers.sensorsdataNativeTracker.postMessage(JSON.stringify(t));else{if(!v.isObject(window.SensorsData_APP_New_H5_Bridge)||!window.SensorsData_APP_New_H5_Bridge.sensorsdata_js_call_app)return _.log("数据发往App失败，App没有暴露bridge"),!1;window.SensorsData_APP_New_H5_Bridge.sensorsdata_js_call_app(JSON.stringify(t))}},_.JSBridge.prototype.hasAppBridge=function(){return window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.sensorsdataNativeTracker&&window.webkit.messageHandlers.sensorsdataNativeTracker.postMessage?"ios":v.isObject(window.SensorsData_APP_New_H5_Bridge)&&window.SensorsData_APP_New_H5_Bridge.sensorsdata_js_call_app?"android":(_.log("App端bridge未暴露"),!1)},_.JSBridge.prototype.requestToApp=function(e){var t=this,r=v.isObject(e.data)?e.data:{};v.isFunction(e.callback)||(e.callback=function(){}),v.isObject(e.timeout)&&v.isNumber(e.timeout.time)&&(v.isFunction(e.timeout.callback)||(e.timeout.callback=function(){}),e.timer=setTimeout(function(){e.timeout.callback(),delete t.list[n]},e.timeout.time));var n=new Date().getTime().toString(16)+"-"+String(v.getRandom()).replace(".","").slice(1,8);this.list[n]=e;var a={callType:this.type,data:r};if(a.data.message_id=n,window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.sensorsdataNativeTracker&&window.webkit.messageHandlers.sensorsdataNativeTracker.postMessage)window.webkit.messageHandlers.sensorsdataNativeTracker.postMessage(JSON.stringify(a));else{if(!v.isObject(window.SensorsData_APP_New_H5_Bridge)||!window.SensorsData_APP_New_H5_Bridge.sensorsdata_js_call_app)return _.log("数据发往App失败，App没有暴露bridge"),!1;window.SensorsData_APP_New_H5_Bridge.sensorsdata_js_call_app(JSON.stringify(a))}},_.JSBridge.prototype.double=function(e){if(e.message_id){var t=this.list[e.message_id];t&&(t.timer&&clearTimeout(t.timer),t.callback(e),delete this.list[e.message_id])}};var D=_.heatmap={otherTags:[],getTargetElement:function(e,t){if("object"!=typeof e||"string"!=typeof e.tagName)return null;var r=e.tagName.toLowerCase();if("body"===r.toLowerCase()||"html"===r.toLowerCase()||!e||!e.parentNode||!e.parentNode.children)return null;var n=e.parentNode,a=this.hasElement(t.originalEvent||t),i=_.para.heatmap.track_attr,s=this.otherTags;if("a"===r||"button"===r||"input"===r||"textarea"===r||v.hasAttributes(e,i)||v.indexOf(s,r)>-1)return e;if("button"===n.tagName.toLowerCase()||"a"===n.tagName.toLowerCase()||v.hasAttributes(n,i))return n;if("area"===r&&"map"===n.tagName.toLowerCase()&&v.ry(n).prev().tagName&&"img"===v.ry(n).prev().tagName.toLowerCase())return v.ry(n).prev();if(a)return a;if("div"===r&&_.para.heatmap.collect_tags.div&&this.isDivLevelValid(e))return(_.para.heatmap&&_.para.heatmap.collect_tags&&_.para.heatmap.collect_tags.div&&_.para.heatmap.collect_tags.div.max_level||1)>1||this.isCollectableDiv(e)?e:null;if(this.isStyleTag(r)&&_.para.heatmap.collect_tags.div){var c=this.getCollectableParent(e);if(c&&this.isDivLevelValid(c))return c}return null},getDivLevels:function(e,t){var r=D.getElementPath(e,!0,t).split(" > "),n=0;return v.each(r,function(e){"div"===e&&n++}),n},isDivLevelValid:function(e){for(var t=_.para.heatmap&&_.para.heatmap.collect_tags&&_.para.heatmap.collect_tags.div&&_.para.heatmap.collect_tags.div.max_level||1,r=e.getElementsByTagName("div"),n=r.length-1;n>=0;n--)if(D.getDivLevels(r[n],e)>t)return!1;return!0},getElementPath:function(e,t,r){for(var n=[];e.parentNode;){if(e.id&&!t&&/^[A-Za-z][-A-Za-z0-9_:.]*$/.test(e.id)){n.unshift(e.tagName.toLowerCase()+"#"+e.id);break}if(r&&e===r){n.unshift(e.tagName.toLowerCase());break}if(e===document.body){n.unshift("body");break}n.unshift(e.tagName.toLowerCase()),e=e.parentNode}return n.join(" > ")},getClosestLi:function(e){for(var t=e;t&&t!==document&&1===t.nodeType;t=t.parentNode)if("li"===t.tagName.toLowerCase())return t;return null},getElementPosition:function(e,t,r){var n=_.heatmap.getClosestLi(e);if(!n)return null;var a=e.tagName.toLowerCase(),i=n.getElementsByTagName(a),s=i.length,c=[];if(s>1){for(var u=0;u<s;u++)_.heatmap.getElementPath(i[u],r)===t&&c.push(i[u]);if(c.length>1)return v.indexOf(c,e)}if(n.tagName.toLowerCase(),!n.parentNode)return"";if(1===v.ry(n).getSameTypeSiblings().length)return 0;for(var l=0,d=n;v.ry(d).previousElementSibling().ele;d=v.ry(d).previousElementSibling().ele,l++);return l},setNotice:function(e){_.is_heatmap_render_mode=!0,_.para.heatmap||(_.errorMsg="您SDK没有配置开启点击图，可能没有数据！"),e&&e[0]&&e[1]&&"http:"===e[1].slice(0,5)&&"https:"===location.protocol&&(_.errorMsg="您的当前页面是https的地址，神策分析环境也必须是https！"),_.para.heatmap_url||(_.para.heatmap_url=location.protocol+"//static.sensorsdata.cn/sdk/"+_.lib_version+"/heatmap.min.js")},getDomIndex:function(e){if(!e.parentNode)return -1;for(var t=0,r=e.tagName,n=e.parentNode.children,a=0;a<n.length;a++)if(n[a].tagName===r){if(e===n[a])return t;t++}return -1},selector:function(e,t){var r=e.parentNode&&9==e.parentNode.nodeType?-1:this.getDomIndex(e);return e.getAttribute&&e.getAttribute("id")&&/^[A-Za-z][-A-Za-z0-9_:.]*$/.test(e.getAttribute("id"))&&(!_.para.heatmap||_.para.heatmap&&"not_use_id"!==_.para.heatmap.element_selector)&&!t?"#"+e.getAttribute("id"):e.tagName.toLowerCase()+(~r?":nth-of-type("+(r+1)+")":"")},getDomSelector:function(e,t,r){if(!e||!e.parentNode||!e.parentNode.children)return!1;t=t&&t.join?t:[];var n=e.nodeName.toLowerCase();return e&&"body"!==n&&1==e.nodeType?(t.unshift(this.selector(e,r)),e.getAttribute&&e.getAttribute("id")&&/^[A-Za-z][-A-Za-z0-9_:.]*$/.test(e.getAttribute("id"))&&_.para.heatmap&&"not_use_id"!==_.para.heatmap.element_selector&&!r?t.join(" > "):this.getDomSelector(e.parentNode,t,r)):(t.unshift("body"),t.join(" > "))},na:function(){var e=document.documentElement.scrollLeft||window.pageXOffset;return parseInt(isNaN(e)?0:e,10)},i:function(){var e=0;try{e=o.documentElement&&o.documentElement.scrollTop||m.pageYOffset,e=isNaN(e)?0:e}catch(t){e=0}return parseInt(e,10)},getBrowserWidth:function(){var e=window.innerWidth||document.body.clientWidth;return isNaN(e)?0:parseInt(e,10)},getBrowserHeight:function(){var e=window.innerHeight||document.body.clientHeight;return isNaN(e)?0:parseInt(e,10)},getScrollWidth:function(){var e=parseInt(document.body.scrollWidth,10);return isNaN(e)?0:e},W:function(e){var t=parseInt(+e.clientX+Number(this.na()),10);return e=parseInt(+e.clientY+Number(this.i()),10),{x:isNaN(t)?0:t,y:isNaN(e)?0:e}},getEleDetail:function(e){var t=this.getDomSelector(e),r=v.getEleInfo({target:e});r.$element_selector=t||"",r.$element_path=_.heatmap.getElementPath(e,_.para.heatmap&&"not_use_id"===_.para.heatmap.element_selector);var n=_.heatmap.getElementPosition(e,r.$element_path,_.para.heatmap&&"not_use_id"===_.para.heatmap.element_selector);return v.isNumber(n)&&(r.$element_position=n),r},start:function(e,t,r,n,a){var i=v.isObject(n)?n:{},s=v.isFunction(a)?a:v.isFunction(n)?n:void 0;if(_.para.heatmap&&_.para.heatmap.collect_element&&!_.para.heatmap.collect_element(t))return!1;var c=this.getEleDetail(t);if(_.para.heatmap&&_.para.heatmap.custom_property){var u=_.para.heatmap.custom_property(t);v.isObject(u)&&(c=v.extend(c,u))}c=v.extend(c,i),"a"===r&&_.para.heatmap&&!0===_.para.heatmap.isTrackLink?v.trackLink({event:e,target:t},"$WebClick",c):_.track("$WebClick",c,s)},hasElement:function(e){var t=e._getPath?e._getPath():D.getElementPath(e.target,!0).split(" > ");if(v.isArray(t)&&t.length>0){for(var r=0;r<t.length;r++)if(t[r]&&t[r].tagName&&"a"===t[r].tagName.toLowerCase())return t[r]}return!1},isStyleTag:function(e,t){return!(v.indexOf(["a","div","input","button","textarea"],e)>-1)&&(!t||_.para.heatmap&&_.para.heatmap.collect_tags&&_.para.heatmap.collect_tags.div?!!(v.isObject(_.para.heatmap)&&v.isObject(_.para.heatmap.collect_tags)&&v.isObject(_.para.heatmap.collect_tags.div)&&v.indexOf(_.para.heatmap.collect_tags.div.ignore_tags,e)>-1):v.indexOf(["mark","/mark","strong","b","em","i","u","abbr","ins","del","s","sup"],e)>-1)},isCollectableDiv:function(e,t){try{if(0===e.children.length)return!0;for(var r=0;r<e.children.length;r++)if(1===e.children[r].nodeType){var n=e.children[r].tagName.toLowerCase(),a=_.para&&_.para.heatmap&&_.para.heatmap.collect_tags&&_.para.heatmap.collect_tags.div&&_.para.heatmap.collect_tags.div.max_level;if(!("div"===n&&a>1||this.isStyleTag(n,t))||!this.isCollectableDiv(e.children[r],t))return!1}return!0}catch(e){_.log(e)}return!1},getCollectableParent:function(e,t){try{var r=e.parentNode,n=r?r.tagName.toLowerCase():"";if("body"===n)return!1;var a=_.para&&_.para.heatmap&&_.para.heatmap.collect_tags&&_.para.heatmap.collect_tags.div&&_.para.heatmap.collect_tags.div.max_level;if(n&&"div"===n&&(a>1||this.isCollectableDiv(r,t)))return r;if(r&&this.isStyleTag(n,t))return this.getCollectableParent(r,t)}catch(e){_.log(e)}return!1},initScrollmap:function(){if(!v.isObject(_.para.heatmap)||"default"!==_.para.heatmap.scroll_notice_map)return!1;var e,t,r=function(){return!(_.para.scrollmap&&v.isFunction(_.para.scrollmap.collect_url)&&!_.para.scrollmap.collect_url())},n=(e={timeout:1e3,func:function(e,t){var r=document.documentElement&&document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop||0,n=new Date,a=n-this.current_time;(a>_.para.heatmap.scroll_delay_time&&r-e.$viewport_position!=0||t)&&(e.$url=v.isDecodeURI(_.para.url_is_decode,location.href),e.$title=document.title,e.$url_path=location.pathname,e.event_duration=Math.min(_.para.heatmap.scroll_event_duration,parseInt(a)/1e3),_.track("$WebStay",e)),this.current_time=n}},(t={}).timeout=e.timeout||1e3,t.func=e.func,t.hasInit=!1,t.inter=null,t.main=function(e,t){this.func(e,t),this.inter=null},t.go=function(e){var r={};this.inter||(r.$viewport_position=document.documentElement&&document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop||0,r.$viewport_position=Math.round(r.$viewport_position)||0,r.$viewport_height=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0,r.$viewport_width=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||0,e?t.main(r,!0):this.inter=setTimeout(function(){t.main(r)},this.timeout))},t);n.current_time=new Date,v.addEvent(window,"scroll",function(){if(!r())return!1;n.go()}),v.addEvent(window,"unload",function(){if(!r())return!1;n.go("notime")})},initHeatmap:function(){var e=this;return!(!v.isObject(_.para.heatmap)||"default"!==_.para.heatmap.clickmap)&&!(v.isFunction(_.para.heatmap.collect_url)&&!_.para.heatmap.collect_url())&&("all"===_.para.heatmap.collect_elements?_.para.heatmap.collect_elements="all":_.para.heatmap.collect_elements="interact",void("all"===_.para.heatmap.collect_elements?v.addEvent(document,"click",function(t){var r=t||window.event;if(!r)return!1;var n=r.target||r.srcElement;if("object"!=typeof n||"string"!=typeof n.tagName)return!1;var a=n.tagName.toLowerCase();if("body"===a||"html"===a||!n||!n.parentNode||!n.parentNode.children)return!1;var i=n.parentNode.tagName.toLowerCase();"a"===i||"button"===i?e.start(r,n.parentNode,i):e.start(r,n,a)}):v.addEvent(document,"click",function(t){var r=t||window.event;if(!r)return!1;var n=r.target||r.srcElement,a=_.heatmap.getTargetElement(n,t);a?e.start(r,a,a.tagName.toLowerCase()):v.isElement(n)&&"div"===n.tagName.toLowerCase()&&v.isObject(_.para.heatmap)&&_.para.heatmap.get_vtrack_config&&_.unlimitedDiv.events.length>0&&_.unlimitedDiv.isTargetEle(n)&&e.start(r,n,n.tagName.toLowerCase(),{$lib_method:"vtrack"})})))}};if(_.unlimitedDiv={events:[],init:function(){this.filterWebClickEvents()},filterWebClickEvents:function(e){this.events=_.vtrackcollect.getAssignConfigs(function(e){return!(!v.isObject(e)||!0!==e.event.unlimited_div||"webclick"!==e.event_type)},e)},isTargetEle:function(e){var t=_.heatmap.getEleDetail(e);if(!v.isObject(t)||!v.isString(t.$element_path))return!1;for(var r=0;r<this.events.length;r++)if(v.isObject(this.events[r])&&v.isObject(this.events[r].event)&&_.vtrackcollect.configIsMatch(t,this.events[r].event))return!0;return!1}},_.customProp={events:[],configSwitch:!1,collectAble:function(){return this.configSwitch&&v.isObject(_.para.heatmap)&&_.para.heatmap.get_vtrack_config},updateEvents:function(){this.events=_.vtrackcollect.getAssignConfigs(function(e){return!!(v.isObject(e)&&v.isArray(e.properties)&&e.properties.length>0)}),this.events.length?this.configSwitch=!0:this.configSwitch=!1},getVtrackProps:function(e){var t={};return this.collectAble()?("$WebClick"===e.event&&(t=this.clickCustomPropMaker(e,this.events)),t):{}},clickCustomPropMaker:function(e,t,r){var n=this;r=r||this.filterConfig(e,t,_.vtrackcollect.url_info.page_url);var a={};return r.length?(v.each(r,function(t){v.isArray(t.properties)&&t.properties.length>0&&v.each(t.properties,function(t){var r=n.getProp(t,e);v.isObject(r)&&v.extend(a,r)})}),a):{}},getProp:function(e,t){if(!v.isObject(e))return!1;if(!(v.isString(e.name)&&e.name.length>0))return _.log("----vtrackcustom----属性名不合法,属性抛弃",e.name),!1;var r,n,a,i={};if("content"===e.method){if(v.isString(e.element_selector)&&e.element_selector.length>0)a=v.getDomBySelector(e.element_selector);else{if(!v.isString(e.list_selector))return _.log("----vtrackcustom----属性配置异常，属性抛弃",e.name),!1;var s=v.getDomBySelector(t.properties.$element_selector);if(!s)return _.log("----vtrackcustom----点击元素获取异常，属性抛弃",e.name),!1;var c=_.heatmap.getClosestLi(s);a=this.getPropElInLi(c,e.list_selector)}if(!a||!v.isElement(a))return _.log("----vtrackcustom----属性元素获取失败，属性抛弃",e.name),!1;if("input"===a.tagName.toLowerCase())r=a.value||"";else if("select"===a.tagName.toLowerCase()){var u=a.selectedIndex;v.isNumber(u)&&v.isElement(a[u])&&(r=_._.getElementContent(a[u],"select"))}else r=v.getElementContent(a,a.tagName.toLowerCase());if(e.regular){try{n=new RegExp(e.regular).exec(r)}catch(t){return _.log("----vtrackcustom----正则处理失败，属性抛弃",e.name),!1}if(null===n)return _.log("----vtrackcustom----属性规则处理，未匹配到结果,属性抛弃",e.name),!1;if(!v.isArray(n)||!v.isString(n[0]))return _.log("----vtrackcustom----正则处理异常，属性抛弃",e.name,n),!1;r=n[0]}if("STRING"===e.type)i[e.name]=r;else if("NUMBER"===e.type){if(r.length<1)return _.log("----vtrackcustom----未获取到数字内容，属性抛弃",e.name,r),!1;if(isNaN(Number(r)))return _.log("----vtrackcustom----数字类型属性转换失败，属性抛弃",e.name,r),!1;i[e.name]=Number(r)}return i}return _.log("----vtrackcustom----属性不支持此获取方式",e.name,e.method),!1},getPropElInLi:function(e,t){if(!(e&&v.isElement(e)&&v.isString(t))||"li"!==e.tagName.toLowerCase())return null;var r,n=_.heatmap.getDomSelector(e);return n?(r=n+t,v.getDomBySelector(r)||null):(_.log("----vtrackcustom---获取同级属性元素失败，selector信息异常",n,t),null)},filterConfig:function(e,t,r){var n=[];if(!r){var a=_.vtrackcollect.initUrl();if(!a)return[];r=a.page_url}return"$WebClick"===e.event&&v.each(t,function(t,a){v.isObject(t)&&"webclick"===t.event_type&&v.isObject(t.event)&&t.event.url_host===r.host&&t.event.url_path===r.pathname&&_.vtrackcollect.configIsMatch(e.properties,t.event)&&n.push(t)}),n}},_.vtrackcollect={unlimitedDiv:_.unlimitedDiv,config:{},storageEnable:!0,storage_name:"webjssdkvtrackcollect",para:{session_time:18e5,timeout:5e3,update_interval:18e5},url_info:{},timer:null,update_time:null,customProp:_.customProp,initUrl:function(){var e,t,r,n={server_url:{project:"",host:""},page_url:{host:"",pathname:""},api_url:""};if(!v.isString(_.para.server_url))return _.log("----vtrackcollect---server_url必须为字符串"),!1;try{e=v.URL(_.para.server_url),n.server_url.project=e.searchParams.get("project")||"default",n.server_url.host=e.host}catch(e){return _.log("----vtrackcollect---server_url解析异常",e),!1}try{t=v.URL(location.href),n.page_url.host=t.hostname,n.page_url.pathname=t.pathname}catch(e){return _.log("----vtrackcollect---页面地址解析异常",e),!1}try{(r=new v.urlParse(_.para.server_url))._values.Path="/config/visualized/Web.conf",n.api_url=r.getUrl()}catch(e){return _.log("----vtrackcollect---API地址解析异常",e),!1}return this.url_info=n,n},init:function(){if(!v.isObject(_.para.heatmap)||!_.para.heatmap.get_vtrack_config)return!1;if(v.localStorage.isSupport()||(this.storageEnable=!1),!this.initUrl())return _.log("----vtrackcustom----初始化失败，url信息解析失败"),!1;if(this.storageEnable){var e=v.localStorage.parse(this.storage_name);if(v.isObject(e)&&v.isObject(e.data))if(this.serverUrlIsSame(e.serverUrl)){this.config=e.data,this.update_time=e.updateTime,this.updateConfig(e.data);var t=new Date().getTime()-this.update_time;if(v.isNumber(t)&&t>0&&t<this.para.session_time){var r=this.para.update_interval-t;this.setNextFetch(r)}else this.getConfigFromServer()}else this.getConfigFromServer();else this.getConfigFromServer()}else this.getConfigFromServer();this.pageStateListenner()},serverUrlIsSame:function(e){return!!v.isObject(e)&&e.host===this.url_info.server_url.host&&e.project===this.url_info.server_url.project},getConfigFromServer:function(){var e=this;this.sendRequest(function(t,r){e.update_time=new Date().getTime();var n={};200===t?r&&v.isObject(r)&&"Web"===r.os&&(n=r,e.updateConfig(n)):205===t?e.updateConfig(n):304===t?n=e.config:(_.log("----vtrackcustom----数据异常",t),e.updateConfig(n)),e.updateStorage(n),e.setNextFetch()},function(t){e.update_time=new Date().getTime(),_.log("----vtrackcustom----配置拉取失败",t),e.setNextFetch()})},setNextFetch:function(e){var t=this;this.timer&&(clearTimeout(this.timer),this.timer=null),e=e||this.para.update_interval,this.timer=setTimeout(function(){t.getConfigFromServer()},e)},pageStateListenner:function(){var e=this;v.listenPageState({visible:function(){var t=new Date().getTime()-e.update_time;if(v.isNumber(t)&&t>0&&t<e.para.update_interval){var r=e.para.update_interval-t;e.setNextFetch(r)}else e.getConfigFromServer()},hidden:function(){e.timer&&(clearTimeout(e.timer),e.timer=null)}})},updateConfig:function(e){if(!v.isObject(e))return!1;this.config=e,this.customProp.updateEvents(),this.unlimitedDiv.init(e)},updateStorage:function(e){if(!this.storageEnable||!v.isObject(e))return!1;if(this.url_info.server_url)t=this.url_info.server_url;else{var t,r=_.vtrackcollect.initUrl();if(!r)return!1;t=r.server_url}var n={updateTime:new Date().getTime(),data:e,serverUrl:t};v.localStorage.set(this.storage_name,JSON.stringify(n))},sendRequest:function(e,t){var r={app_id:this.url_info.page_url.host};this.config.version&&(r.v=this.config.version),v.jsonp({url:this.url_info.api_url,callbackName:"saJSSDKVtrackCollectConfig",data:r,timeout:this.para.timeout,success:function(t,r){e(t,r)},error:function(e){t(e)}})},getAssignConfigs:function(e,t){if(!this.url_info.server_url&&!this.initUrl())return[];var r=this,n=[];return(t=t||this.config).events=t.events||t.eventList,v.isObject(t)&&v.isArray(t.events)&&t.events.length>0?(v.each(t.events,function(t){v.isObject(t)&&v.isObject(t.event)&&t.event.url_host===r.url_info.page_url.host&&t.event.url_path===r.url_info.page_url.pathname&&e(t)&&n.push(t)}),n):[]},isDiv:function(e){if(e.element_path){var t=e.element_path.split(">");if("div"!==v.trim(t.pop()).slice(0,3))return!1}return!0},configIsMatch:function(e,t){if(!t.element_path||t.limit_element_content&&t.element_content!==e.$element_content||t.limit_element_position&&t.element_position!==String(e.$element_position))return!1;if(void 0!==e.$element_position){if(t.element_path!==e.$element_path)return!1}else if(_.vtrackcollect.isDiv({element_path:t.element_path})){if(0>e.$element_path.indexOf(t.element_path))return!1}else if(t.element_path!==e.$element_path)return!1;return!0}},_.init=function(e){if(_.readyState&&_.readyState.state&&_.readyState.state>=2)return!1;_.setInitVar(),_.readyState.setState(2),_.initPara(e),_.bridge.supportAppCallJs(),_.detectMode(),_._.isIOS()&&_._.getIOSVersion()&&13>_._.getIOSVersion()&&(_.para.heatmap&&_.para.heatmap.collect_tags&&_.para.heatmap.collect_tags.div&&_._.setCssStyle("div, [data-sensors-click] { cursor: pointer; -webkit-tap-highlight-color: rgba(0,0,0,0); }"),_.para.heatmap&&_.para.heatmap.track_attr&&_._.setCssStyle("["+_.para.heatmap.track_attr.join("], [")+"] { cursor: pointer; -webkit-tap-highlight-color: rgba(0,0,0,0); }"))},v.each(["getAppStatus","track","quick","register","registerPage","registerOnce","trackSignup","setProfile","setOnceProfile","appendProfile","incrementProfile","deleteProfile","unsetProfile","identify","login","logout","trackLink","clearAllRegister","clearPageRegister"],function(e){var t=_[e];_[e]=function(){if(_.readyState.state<3)return v.isArray(_._q)||(_._q=[]),_._q.push([e,arguments]),!1;if(_.readyState.getState())return t.apply(_,arguments);try{console.error("请先初始化神策JS SDK")}catch(e){_.log(e)}}}),_.modules.Amp=function(){"use strict";var e={sd:null,init:function(e){if(this.sd||(this.sd=e,!this.sd||!this.sd._))return!1;var t=this.sd._.cookie.get("sensors_amp_id"),r=this.sd.store._state.distinct_id;if(t&&t.length>0){var n="amp-"===t.slice(0,4);if(t!==r){if(!n)return!1;this.sd.store._state.first_id?(this.sd.identify(t,!0),this.sd.saEvent.send({original_id:t,distinct_id:r,type:"track_signup",event:"$SignUp",properties:{}},null),this.setAmpId(r)):this.sd.identify(t,!0)}}else this.setAmpId(r);this.addListener()},addListener:function(){var e=this;this.sd.events.on("changeDistinctId",function(t){e.setAmpId(t)}),this.sd.events.isReady()},setAmpId:function(e){this.sd._.cookie.set("sensors_amp_id",e)}};return window.SensorsDataWebJSSDKPlugin&&"[object Object]"===Object.prototype.toString.call(window.SensorsDataWebJSSDKPlugin)?window.SensorsDataWebJSSDKPlugin.Amp=window.SensorsDataWebJSSDKPlugin.Amp||e:window.SensorsDataWebJSSDKPlugin={Amp:e},e}(),_.modules.Channel=function(){"use strict";var e,t,r={event_list:[],latest_event_initial_time:null,max_save_time:2592e6,init:function(r){return!t&&!!(t=r)&&!!(e=t._).localStorage.isSupport()&&(t.para.max_string_length=1024,this.eventList.init(),this.addLatestChannelUrl(),void this.addIsChannelCallbackEvent())},addIsChannelCallbackEvent:function(){t.registerPage({$is_channel_callback_event:function(e){if(e.event&&"$WebClick"!==e.event&&"$pageview"!==e.event&&"$WebStay"!==e.event&&"$SignUp"!==e.event)return!r.eventList.hasEvent(e.event)&&(r.eventList.add(e.event),!0)}})},addLatestChannelUrl:function(){var n=this.getUrlDomain(),a=this.cookie.getChannel();if("url解析失败"===n)this.registerAndSave({_sa_channel_landing_url:"",_sa_channel_landing_url_error:"url的domain解析失败"});else if(e.isReferralTraffic(document.referrer)){var i=e.getQueryParam(location.href,"sat_cf");e.isString(i)&&i.length>0?(this.registerAndSave({_sa_channel_landing_url:location.href}),r.channelLinkHandler()):this.registerAndSave({_sa_channel_landing_url:""})}else a?t.registerPage(a):t.registerPage({_sa_channel_landing_url:"",_sa_channel_landing_url_error:"取值异常"})},registerAndSave:function(e){t.registerPage(e),this.cookie.saveChannel(e)},cookie:{getChannel:function(){var r;try{r=JSON.parse(e.cookie.get("sensorsdata2015jssdkchannel"))}catch(e){t.log(e)}return!(!e.isObject(r)||!r.prop)&&r.prop},saveChannel:function(t){e.cookie.set("sensorsdata2015jssdkchannel",JSON.stringify({prop:t}))}},channelLinkHandler:function(){this.eventList.reset(),t.track("$ChannelLinkReaching")},getUrlDomain:function(){var t=e.info.pageProp.url_domain;return""===t&&(t="url解析失败"),t},eventList:{init:function(){var t=this.get(),n=new Date().getTime();if(t&&e.isNumber(t.latest_event_initial_time)&&e.isArray(t.eventList)){var a=n-t.latest_event_initial_time;a>0&&a<r.max_save_time?(r.event_list=t.eventList,r.latest_event_initial_time=t.latest_event_initial_time):this.reset()}else this.reset()},get:function(){var r={};try{r=JSON.parse(e.localStorage.get("sawebjssdkchannel"))}catch(e){t.log(e)}return r},add:function(e){r.event_list.push(e),this.save()},save:function(){var t={latest_event_initial_time:r.latest_event_initial_time,eventList:r.event_list};e.localStorage.set("sawebjssdkchannel",JSON.stringify(t))},reset:function(){r.event_list=[],r.latest_event_initial_time=new Date().getTime(),this.save()},hasEvent:function(t){var n=!1;return e.each(r.event_list,function(e){e===t&&(n=!0)}),n}}};return window.SensorsDataWebJSSDKPlugin&&"[object Object]"===Object.prototype.toString.call(window.SensorsDataWebJSSDKPlugin)?window.SensorsDataWebJSSDKPlugin.SensorsChannel=window.SensorsDataWebJSSDKPlugin.SensorsChannel||r:window.SensorsDataWebJSSDKPlugin={SensorsChannel:r},r}(),_.modules.Deeplink=function(){"use strict";/micromessenger\/([\d.]+)/i.test(navigator.userAgent||"");var e,t=function(){var e={};return void 0!==document.hidden?(e.hidden="hidden",e.visibilityChange="visibilitychange"):void 0!==document.msHidden?(e.hidden="msHidden",e.visibilityChange="msvisibilitychange"):void 0!==document.webkitHidden&&(e.hidden="webkitHidden",e.visibilityChange="webkitvisibilitychange"),e};function r(){return void 0!==e&&document[e]}e=t().hidden;var n={android:/Android/i,iOS:/iPhone|iPad|iPod/i},a=function(){for(var e in n)if(navigator.userAgent.match(n[e]))return e;return""}(),i=function(e){return null!=e&&"[object Object]"==Object.prototype.toString.call(e)},s={key:null,timer:null,sd:null,data:null,timeout:2500,apiURL:"{origin}/sdk/deeplink/param?key={key}&system_type=JS&project={project}",init:function(){if(this.sd)return this.log("deeplink已经初始化"),!1;if(i(sensorsDataAnalytic201505)&&(this.sd=sensorsDataAnalytic201505),this.log("init()"),null===this.sd)return this.log("神策JS SDK未成功引入"),!1;var e,t,r={};if(arguments.length>0&&(1==arguments.length&&i(arguments[0])?r=arguments[0]:arguments.length>=2&&i(arguments[1])&&(r=arguments[1])),!n.hasOwnProperty(a))return this.log("不支持当前系统，目前只支持Android和iOS"),!1;if(i(r)&&this.sd._.isNumber(r.timeout)&&r.timeout>=2500&&(this.timeout=r.timeout),!this.sd.para.server_url)return this.log("神策JS SDK配置项server_url未正确配置"),!1;var c={origin:(t=(e=this.sd)._.URL(e.para.server_url)).origin,project:t.searchParams.get("project")||"default"};this.apiURL=this.apiURL.replace("{origin}",c.origin).replace("{project}",c.project);var u=this.sd._.URL(window.location.href).searchParams.get("deeplink");if(!u)return this.log("当前页面缺少deeplink参数"),!1;var l=(u=window.decodeURIComponent(u)).match(/\/sd\/(\w+)\/(\w+)$/);if(!l)return this.log("当前页面的deeplink参数无效"),!1;this.key=l[2],this.apiURL=this.apiURL.replace("{key}",window.encodeURIComponent(l[2])),this.sd._.ajax({url:this.apiURL,type:"GET",cors:!0,credentials:!1,success:(function(e){if(e.errorMsg)return s.log("API报错："+e.errorMsg),!1;s.data=e,s.log("API查询成功，数据："+JSON.stringify(e,null,"  ")),this.data.app_key&&(this.data.android_info&&this.data.android_info.url_schemes&&(this.data.android_info.url_schemes+="://sensorsdata/sd/"+this.data.app_key+"/"+this.key),this.data.ios_info&&this.data.ios_info.url_schemes&&(this.data.ios_info.url_schemes+="://sensorsdata/sd/"+this.data.app_key+"/"+this.key))}).bind(this),error:function(e){s.log("API查询出错")}}),this.addListeners()},openDeepLink:function(){if(this.log("openDeeplink()"),!this.data)return this.log("没有Deep link数据!"),!1;if("iOS"===a){this.log("当前系统是iOS");var t,n,i,s,c,u=this.sd&&this.sd._&&this.sd._.getIOSVersion()>=9&&this.data.ios_info.ios_wake_url?this.data.ios_info.ios_wake_url:this.data.ios_info.url_schemes;this.log("唤起APP的地址："+u),s=this,c=this.data.ios_info.download_url,s.log("尝试唤起 iOS app:"+u),window.location.href=u,s.timer=setTimeout(function(){if(r())return s.log("The page is hidden, stop navigating to download page"),!1;s.log("App可能未安装，跳转到下载地址"),window.location.href=c},s.timeout),s.log("new timer:"+s.timer)}else this.log("当前系统是 android"),t=this,n=this.data.android_info.url_schemes,i=this.data.android_info.download_url,t.log("尝试唤起 android app"),t.log("唤起APP的地址："+n),window.location=n,t.timer=setTimeout(function(){var n=r();if(t.log("hide:"+e+":"+document[e]),n)return t.log("The page is hidden, stop navigating to download page"),!1;t.log("App可能未安装，跳转到下载地址"),window.location=i},t.timeout)},log:function(e){this.sd&&this.sd.log(e)},addListeners:function(){var e=t().visibilityChange;e&&document.addEventListener(e,(function(){clearTimeout(this.timer),this.log("visibilitychange, clear timeout:"+this.timer)}).bind(this),!1),window.addEventListener("pagehide",(function(){this.log("page hide, clear timeout:"+this.timer),clearTimeout(this.timer)}).bind(this),!1)}};return i(window.SensorsDataWebJSSDKPlugin)?(window.SensorsDataWebJSSDKPlugin.Deeplink=window.SensorsDataWebJSSDKPlugin.Deeplink||s,window.SensorsDataWebJSSDKPlugin.deeplink=window.SensorsDataWebJSSDKPlugin.deeplink||s):window.SensorsDataWebJSSDKPlugin={Deeplink:s,deeplink:s},s}(),_.modules.SiteLinker=function(){"use strict";var e={getPart:function(e){var t=this.option.length;if(t){for(var r=0;r<t;r++)if(e.indexOf(this.option[r].part_url)>-1)return!0}return!1},getPartHash:function(e){var t=this.option.length;if(t){for(var r=0;r<t;r++)if(e.indexOf(this.option[r].part_url)>-1)return this.option[r].after_hash}return!1},getCurrenId:function(){var e=this.store.getDistinctId()||"",t=this.store.getFirstId()||"";return this._.urlSafeBase64&&this._.urlSafeBase64.encode?e=e?this._.urlSafeBase64.trim(this._.urlSafeBase64.encode(v.base64Encode(e))):"":this._.rot13obfs&&(e=e?this._.rot13obfs(e):""),encodeURIComponent(t?"f"+e:"d"+e)},rewireteUrl:function(e,t){var r=/([^?#]+)(\?[^#]*)?(#.*)?/.exec(e),n="";if(r){var a,i=r[1]||"",s=r[2]||"",c=r[3]||"";return this.getPartHash(e)?(a=c.indexOf("_sasdk"),n=c.indexOf("?")>-1?a>-1?i+s+"#"+c.substring(1,a)+"_sasdk="+this.getCurrenId():i+s+"#"+c.substring(1)+"&_sasdk="+this.getCurrenId():i+s+"#"+c.substring(1)+"?_sasdk="+this.getCurrenId()):(a=s.indexOf("_sasdk"),n=/^\?(\w)+/.test(s)?a>-1?i+"?"+s.substring(1,a)+"_sasdk="+this.getCurrenId()+c:i+"?"+s.substring(1)+"&_sasdk="+this.getCurrenId()+c:i+"?"+s.substring(1)+"_sasdk="+this.getCurrenId()+c),t&&(t.href=n),n}},getUrlId:function(){var e=location.href.match(/_sasdk=([aufd][^\?\#\&\=]+)/);if(this._.isArray(e)&&e[1]){var t=decodeURIComponent(e[1]);return!(!t||"f"!==t.substring(0,1)&&"d"!==t.substring(0,1))&&(this._.urlSafeBase64&&this._.urlSafeBase64.isUrlSafeBase64&&this._.urlSafeBase64.isUrlSafeBase64(t)?t=t.substring(0,1)+v.base64Decode(this._.urlSafeBase64.decode(t.substring(1))):this._.rot13defs&&(t=t.substring(0,1)+this._.rot13defs(t.substring(1)))),t}return""},setRefferId:function(){var e=this.store.getDistinctId(),t=this.getUrlId();if(""===t)return!1;var r="a"===t.substring(0,1)||"d"===t.substring(0,1);if((t=t.substring(1))===e)return!1;t&&r&&this.store.getFirstId()&&(this.sd.identify(t,!0),this.sd.saEvent.send({original_id:t,distinct_id:e,type:"track_signup",event:"$SignUp",properties:{}},null)),t&&r&&!this.store.getFirstId()&&this.sd.identify(t,!0),!t||r||this.store.getFirstId()||this.sd.login(t)},addListen:function(){var e=this,t=function(t){var r,n,a=t.target,i=a.tagName.toLowerCase(),s=a.parentNode;if("a"===i&&a.href||s&&s.tagName&&"a"===s.tagName.toLowerCase()&&s.href){"a"===i&&a.href?(r=a.href,n=a):(r=s.href,n=s);var c=e._.URL(r).protocol;("http:"===c||"https:"===c)&&e.getPart(r)&&e.rewireteUrl(r,n)}};e._.addEvent(document,"mousedown",t),window.PointerEvent&&"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>=0&&e._.addEvent(document,"pointerdown",t)},init:function(e,t){this.sd=e,this._=e._,this.store=e.store,this.para=e.para,this._.isObject(t)&&this._.isArray(t.linker)&&t.linker.length>0?(this.setRefferId(),this.addListen(),this.option=t.linker,this.option=function(t){for(var r=t.length,n=[],a=0;a<r;a++)/[A-Za-z0-9]+\./.test(t[a].part_url)&&"[object Boolean]"==Object.prototype.toString.call(t[a].after_hash)?n.push(t[a]):e.log("linker 配置的第 "+(a+1)+" 项格式不正确，请检查参数格式！");return n}(this.option)):e.log("请配置打通域名参数！")}};return v.isObject(window.SensorsDataWebJSSDKPlugin)?window.SensorsDataWebJSSDKPlugin.SiteLinker=window.SensorsDataWebJSSDKPlugin.SiteLinker||e:window.SensorsDataWebJSSDKPlugin={SiteLinker:e},e}(),"string"!=typeof window.sensorsDataAnalytic201505)return void 0===window.sensorsDataAnalytic201505?(window.sensorsDataAnalytic201505=_,_):window.sensorsDataAnalytic201505;_.setPreConfig(window[sensorsDataAnalytic201505]),window[sensorsDataAnalytic201505]=_,window.sensorsDataAnalytic201505=_,_.init()}catch(e){if("object"==typeof console&&console.log)try{console.log(e)}catch(e){_.log(e)}}}()},19042(e,t,r){"use strict";r.d(t,{a:()=>l,b:()=>d});var n,a=r(10765),i=r.n(a),s=r(50983),c=r(10138),u=r(67240).b();function l(e,t){i().track(e,function(e){if(!e)return{};var t={};for(var r in e)t[r.replace(/([A-Z])/g,"_$1").toLowerCase()]=e[r];return t}(t))}function d(e){i().login(e+"")}i().init({server_url:"development"===u||"test"===u?"https://shence-data.codemao.cn/sa?project=default":"https://shence-data.codemao.cn/sa?project=production",is_track_single_page:!0,use_client_time:!0,show_log:!!c.q(window.location.href).showSensorsLog,send_type:s.d()?"ajax":"beacon",max_string_length:5e3,heatmap:{clickmap:"default",scroll_notice_map:"default"}});var p="editor";s.d()&&(p="cordova-player"),(null==(n=window.location)?void 0:n.pathname.includes("/player/"))&&(p="h5-player"),i().registerPage({$app_id:window.location.host,$app_name:"APP工匠",product_name:"APP工匠",page:p}),i().quick("autoTrack")},7757(e,t,r){"use strict";function n(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.d(t,{a:()=>n})},80911(e,t,r){"use strict";r.d(t,{a:()=>h,b:()=>p,c:()=>c,d:()=>f,e:()=>u,f:()=>d,g:()=>l,h:()=>s,i:()=>i,j:()=>g});var n=r(92136),a=r(9958),i="STYLE_DEFAULT_STYLE_ID",s={id:i,source:a.a},c=100,u=.01,l=!1,d=!1,p=9999,f=10,h="ACTOR_ACTION";function g(e,t){var r=n.a(e);try{for(r.s();!(i=r.n()).done;){var a,i,c,u=i.value,l=n.a(u.styleList);try{for(l.s();!(c=l.n()).done;){var d=c.value;if(d.id===t)return d;a||(a=d)}}catch(e){l.e(e)}finally{l.f()}}}catch(e){r.e(e)}finally{r.f()}return a||s}},39008(e,t,r){"use strict";r.d(t,{a:()=>v,b:()=>I,c:()=>C,d:()=>b,e:()=>D,f:()=>A,g:()=>P,h:()=>T,i:()=>j,j:()=>O,k:()=>x,l:()=>N,m:()=>E,n:()=>g,o:()=>p,p:()=>h,q:()=>_,r:()=>S});var n=r(7452),a=r.n(n),i=r(34221),s=r(36243),c=r(33383),u=r(99432),l=r(99820);function d(e){var t=e.scenes.get_current_scene();if(t){var r=e.scenes.get_scene(t),n=r.is_error,a=r.value;if(!n(a))return a;console.error("Get scene error")}else console.error("Get current scene id error")}function p(e,t,r){return f.apply(this,arguments)}function f(){return(f=i.a(a().mark(function e(t,r,n){var i,s;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i="emptyStyleId",!r){e.next=7;break}return i=u.a("CANVAS_STYLE"),e.next=5,t.textures.load_texture(i,r);case 5:e.next=9;break;case 7:return e.next=9,t.textures.load_texture(i,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=");case 9:(s=d(t))&&(s.get_background().set_texture(i,{adaption:n}),t.render());case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function h(e,t){var r=d(e);r&&(r.get_background().set_adaption_mode(t),e.render())}function g(e,t){if(c.i(t))e.set_background_color(0),e.set_background_alpha(0);else{try{var r,n,a=(0,s.A)(t);r=a.rgbNumber(),n=a.alpha()}catch(e){console.error("Color error",e)}void 0!==r&&e.set_background_color(r),void 0!==n&&e.set_background_alpha(n)}e.render()}function _(e,t,r){e.resize(t,r),e.render()}function v(e,t,r){return y.apply(this,arguments)}function y(){return(y=i.a(a().mark(function e(t,r,n){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(e,t){var r=t.id,n=t.source;if(n)return e.textures.load_texture(r,n)}(t,n);case 2:r.add_style({style_id:n.id,texture_id:n.id,pivot:{x:0,y:0}});case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function b(e,t,r,n){return w.apply(this,arguments)}function w(){return(w=i.a(a().mark(function e(t,r,n,i){var s,c,u;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.scenes.get_current_scene()){e.next=4;break}return console.error("Get current scene id error"),e.abrupt("return");case 4:if(!(0,(c=t.actors.load_actor({actor_id:r,parent_scene_id:s,position:n})).is_error)(u=c.value)){e.next=8;break}return console.error("loadBrush load_actor error",u),e.abrupt("return");case 8:u.set_draggable(!i),t.render();case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function S(e,t,r,n,a,i,s){return k.apply(this,arguments)}function k(){return(k=i.a(a().mark(function e(t,r,n,i,s,c,u){var d,p,f;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.scenes.get_current_scene()){e.next=4;break}return console.error("Get current scene id error"),e.abrupt("return");case 4:if(!(0,(d=t.actors.get_actor(r)).is_error)(p=d.value)){e.next=8;break}return console.error("updateBrushStyle get_actor error",p),e.abrupt("return");case 8:return p.get_style_ids().includes(r)&&(p.remove_style(r),t.textures.destroy_texture(r)),f=s===l.a.ARROW?function(e,t){var r=document.createElement("canvas"),n=Math.min(Math.max(e,14),50);r.width=n+2,r.height=n+2,r.style.position="absolute",r.style.left="-200px",r.style.top="-200px",document.body.appendChild(r);var a=r.getContext("2d");if(a){a.beginPath(),a.lineWidth=2,a.moveTo(n,n/2),a.lineTo(.05*n,.95*n),a.lineTo(.2*n,n/2),a.lineTo(.05*n,.05*n),a.lineTo(n,n/2),a.fillStyle=t,a.strokeStyle="#efefef",a.closePath(),a.fill(),a.stroke();var i=Math.floor(255*Math.random()),s=Math.floor(255*Math.random()),c=Math.floor(255*Math.random());a.fillStyle="rgba(".concat(i,",").concat(s,",").concat(c,",0.01)");var u=Math.floor(Math.random()*n),l=Math.floor(Math.random()*n);a.fillRect(u,l,1,1),a.fillStyle="rgba(".concat(s,",").concat(c,",").concat(i,",0.01)"),a.fillRect(0,0,n,n);var d=r.toDataURL();return document.body.removeChild(r),d}return console.error("createArrowBrushTexture error"),""}(n,i):s===l.a.CIRCLE?function(e,t){var r=document.createElement("canvas"),n=Math.min(Math.max(e,14),50),a={x:(n+2)/2,y:(n+2)/2};r.width=n+2,r.height=n+2,r.style.position="absolute",r.style.left="-200px",r.style.top="-200px",document.body.appendChild(r);var i=r.getContext("2d");if(i){i.beginPath(),i.lineWidth=2,i.arc(a.x,a.y,n/2,0,2*Math.PI),i.strokeStyle=t,i.fillStyle="#fff",i.fill(),i.stroke(),i.closePath(),i.beginPath(),i.arc(a.x,a.y,Math.max(n/2-3-2,1),0,2*Math.PI),i.fillStyle=t,i.fill(),i.closePath();var s=Math.floor(255*Math.random()),c=Math.floor(255*Math.random()),u=Math.floor(255*Math.random());i.fillStyle="rgba(".concat(s,",").concat(c,",").concat(u,",0.01)");var l=Math.floor(Math.random()*n),d=Math.floor(Math.random()*n);i.fillRect(l,d,1,1),i.fillStyle="rgba(".concat(c,",").concat(u,",").concat(s,",0.01)"),i.fillRect(0,0,n,n);var p=r.toDataURL();return document.body.removeChild(r),p}return console.error("createCircleBrushTexture error"),""}(n,i):function(e,t,r,n){var a=document.createElement("canvas"),i=2*r,s=Math.min(Math.max(e,12),50),c={x:(s+i)/2,y:(s+i)/2};a.width=s+i,a.height=s+i,a.style.position="absolute",a.style.left="-200px",a.style.top="-200px",document.body.appendChild(a);var u=a.getContext("2d");if(u){n||(u.beginPath(),u.lineWidth=2*r,u.arc(c.x,c.y,Math.floor(s/2),0,2*Math.PI),u.strokeStyle="#d8d8d8",u.stroke(),u.closePath());var l=Math.floor(255*Math.random()),d=Math.floor(255*Math.random()),p=Math.floor(255*Math.random());u.fillStyle="rgba(".concat(l,",").concat(d,",").concat(p,",0.01)");var f=Math.floor(Math.random()*s),h=Math.floor(Math.random()*s);u.fillRect(f,h,1,1),u.fillStyle="rgba(".concat(d,",").concat(p,",").concat(l,",0.01)"),u.fillRect(0,0,s,s);var g=a.toDataURL();return document.body.removeChild(a),g}return console.error("createNoneBrushTexture error"),""}(n,0,c,u),e.prev=11,e.next=14,t.textures.load_texture(r,f);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(11),console.error("load_texture error");case 19:p.add_style({style_id:r,texture_id:r,pivot:{x:0,y:0}}),p.set_current_style(r),t.render();case 22:case"end":return e.stop()}},e,null,[[11,16]])}))).apply(this,arguments)}function x(e,t,r){var n=e.actors.get_actor(t),a=n.is_error,i=n.value;a(i)?console.error("setActorVisible error",i):(i.set_visible(r),e.render())}function j(e,t,r){var n=e.actors.get_actor(t),a=n.is_error,i=n.value;a(i)?console.error("setActorRotation error",i):(i.set_rotation(r),e.render())}function O(e,t,r,n){var a=e.actors.get_actor(t),i=a.is_error,s=a.value;i(s)?console.error("setActorScale error",s):(s.set_scale(r,n),e.render())}function P(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,n=e.actors.get_actor(t),a=n.is_error,i=n.value;a(i)?console.error("setActorScale error",i):(i.set_alpha(r/100),e.render())}function A(e,t,r){var n=e.actors.get_actor(t),a=n.is_error,i=n.value;a(i)?console.error("setActorScale error",i):(r.horizontal!==i.get_horizontal_flipped()&&i.set_flipped("horizontal"),r.vertical!==i.get_vertical_flipped()&&i.set_flipped("vertical"),e.render())}function C(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{x:0,y:0},a=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0,c=arguments.length>7?arguments[7]:void 0,u=e.actors.get_actor(t),l=u.is_error,d=u.value;if(l(d))console.error("setActorScale error",d);else{var p=r.x+n.x,f=r.y+n.y;d.set_position(p,f),s&&(s.horizontal!==d.get_horizontal_flipped()&&d.set_flipped("horizontal"),s.vertical!==d.get_vertical_flipped()&&d.set_flipped("vertical")),c?d.set_scale(c.x,c.y):a&&d.set_scale(a),d.set_rotation(i),d.set_pivot_by_stage_point(r.x,r.y),e.render()}}function D(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0},n=e.actors.get_actor(t),a=n.is_error,i=n.value;if(a(i))console.error("setActorScale error",i);else{var s=i.get_position(),c=i.get_center_position(),u=s.x+r.x-c.x,l=s.y+r.y-c.y;i.set_position(s.x+u,s.y+l),i.set_pivot_by_stage_point(s.x,s.y),e.render()}}function N(e,t,r){var n=e.actors.get_actor(t),a=n.is_error,i=n.value;if(a(i))console.error("setBrushPenColor error",i);else{var s=r.startsWith("#")?r.slice(1):r;i.get_brush().set_color(s),e.render()}}function E(e,t,r){var n=e.actors.get_actor(t),a=n.is_error,i=n.value;a(i)?console.error("setBrushPenSize error",i):(i.get_brush().set_size(r),e.render())}function T(e,t,r){var n=e.actors.get_actor(t),a=n.is_error,i=n.value;a(i)||(i.set_position(r.x,r.y),e.render())}function I(e,t){e.actors.destroy_actor(t),e.render()}},86897(e,t,r){"use strict";r.d(t,{a:()=>y,b:()=>i,c:()=>v,d:()=>l,e:()=>s,f:()=>u,g:()=>c,h:()=>p,i:()=>d,j:()=>_,k:()=>g,l:()=>h,m:()=>f});var n=r(90612),a=r(99888),i="icon-widget-text",s="#111111ff",c=16,u="sans-serif",l=a.a,d=!1,p=!1,f=40,h=40,g=n.l,_=n.g,v=240,y=40},27690(e,t,r){"use strict";r.d(t,{a:()=>I,b:()=>g,c:()=>E,d:()=>L,e:()=>v,f:()=>D,g:()=>b,h:()=>S,i:()=>O,j:()=>Y,k:()=>B,l:()=>H,m:()=>K,n:()=>V,o:()=>W,p:()=>U,q:()=>x,r:()=>A});var n=r(28950),a=r(7452),i=r.n(a),s=r(34221),c=r(50983),u=r(14104),l=r(67240),d=r(66961),p=r(26434),f="".concat(l.a.serverHost,"/coconut"),h=c.e()?"dev":"prod";function g(e,t){return _.apply(this,arguments)}function _(){return(_=s.a(i().mark(function e(t,r){var n,a;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(f,"/clouddb"),e.next=3,u.a.post(n,{name:t,work_id:r});case 3:if(200!==(a=e.sent.data).code){e.next=9;break}return e.abrupt("return",{name:a.data.name,id:a.data.id});case 9:return e.abrupt("return",{name:"",id:""});case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function v(e,t){return y.apply(this,arguments)}function y(){return(y=s.a(i().mark(function e(t,r){var n,a;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(f,"/clouddb/").concat(t,"/detail"),e.next=3,u.a.get(n,{headers:{env:+("dev"!==r)}});case 3:if(200!==(a=e.sent.data).code){e.next=7;break}return e.abrupt("return",a.data);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function b(e){return w.apply(this,arguments)}function w(){return(w=s.a(i().mark(function e(t){var r,n;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(f,"/clouddb/user/list/detail"),e.next=3,u.a.get(r,{headers:{env:+("dev"!==t)}});case 3:if(200!==(n=e.sent.data).code){e.next=7;break}return e.abrupt("return",n.data);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function S(){return k.apply(this,arguments)}function k(){return(k=s.a(i().mark(function e(){var t,r;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(f,"/clouddb/user/list"),e.next=3,u.a.get(t);case 3:if(200!==(r=e.sent.data).code){e.next=7;break}return e.abrupt("return",r.data);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function x(e,t,r,n){return j.apply(this,arguments)}function j(){return(j=s.a(i().mark(function e(t,r,n,a){var s,c;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=a?"".concat(f,"/clouddb/").concat(t,"/columns?work_id=").concat(a):"".concat(f,"/clouddb/").concat(t,"/columns"),e.next=3,u.a.put(s,{columns:r},{headers:{env:+("dev"!==n)}});case 3:if(200!==(c=e.sent.data).code){e.next=7;break}return e.abrupt("return",c.data.columns);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function O(e,t,r,n,a){return P.apply(this,arguments)}function P(){return(P=s.a(i().mark(function e(t,r,n,a,s){var c,l;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=s?"".concat(f,"/clouddb/").concat(t,"/import?work_id=").concat(s):"".concat(f,"/clouddb/").concat(t,"/import"),e.next=3,u.a.post(c,{primary_column:a,add_items:r},{headers:{env:+("dev"!==n)}});case 3:if(200!==(l=e.sent.data).code){e.next=9;break}return e.abrupt("return","");case 9:return e.abrupt("return",l.msg);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function A(e,t,r,n,a){return C.apply(this,arguments)}function C(){return(C=s.a(i().mark(function e(t,r,n,a,s){var c,l;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=s?"".concat(f,"/clouddb/").concat(t,"/datas?work_id=").concat(s):"".concat(f,"/clouddb/").concat(t,"/datas"),e.next=3,u.a.put(c,{add_items:r.add,edit_items:r.update,delete_items:r.delete,primary_column:a},{headers:{env:+("dev"!==n)}});case 3:if(200!==(l=e.sent.data).code){e.next=9;break}return e.abrupt("return","");case 9:return e.abrupt("return",l.msg);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function D(e,t,r,n){return N.apply(this,arguments)}function N(){return(N=s.a(i().mark(function e(t,r,n,a){var s,c;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s="".concat(f,"/clouddb/").concat(t,"/data_list?offset=").concat(n,"&limit=").concat(a),e.next=3,u.a.get(s,{headers:{env:+("dev"!==r)}});case 3:if(200!==(c=e.sent.data).code){e.next=7;break}return e.abrupt("return",c.data.records);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function E(e){return T.apply(this,arguments)}function T(){return(T=s.a(i().mark(function e(t){var r;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(f,"/clouddb/").concat(t),e.next=3,u.a.delete(r);case 3:if(200!==e.sent.data.code){e.next=7;break}return e.abrupt("return");case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function I(e,t){return R.apply(this,arguments)}function R(){return(R=s.a(i().mark(function e(t,r){var n;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(f,"/clouddb/reference?work_id=").concat(r),e.next=3,u.a.post(n,{db_ids:t});case 3:if(200!==e.sent.data.code){e.next=7;break}return e.abrupt("return");case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function L(e,t){return $.apply(this,arguments)}function $(){return($=s.a(i().mark(function e(t,r){var n;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(f,"/clouddb/reference?db_id=").concat(t,"&work_id=").concat(r),e.next=3,u.a.delete(n);case 3:if(200!==e.sent.data.code){e.next=7;break}return e.abrupt("return");case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function U(e,t,r){return J.apply(this,arguments)}function J(){return(J=s.a(i().mark(function e(t,r,n){var a,s;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n?"".concat(f,"/clouddb/").concat(t,"?work_id=").concat(n):"".concat(f,"/clouddb/").concat(t),e.next=3,u.a.put(a,{name:r});case 3:if(200!==(s=e.sent.data).code){e.next=7;break}return e.abrupt("return",s.data.name);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function H(e,t){return M.apply(this,arguments)}function M(){return(M=s.a(i().mark(function e(t,r){var a,s,c,l,g,_,v,y,b;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="".concat(f,"/clouddb/runtime/").concat(t,"/insert"),s={values:r},e.next=5,p.a("".concat(JSON.stringify(s)));case 5:return l=(c=e.sent).sign,g=c.timestamp,e.next=10,u.a.post(a,s,{headers:n.a({env:+("dev"!==h),sign:l,timestamp:g},d.a())});case 10:if(200!==(_=e.sent.data).code){e.next=16;break}return e.abrupt("return",_.data);case 16:throw Error(JSON.stringify({msg:_.msg,code:_.code}));case 17:case 31:e.next=34;break;case 19:if(e.prev=19,e.t0=e.catch(0),console.error(e.t0),!(v=e.t0.response)){e.next=33;break}if(y=v.status,b=v.data,403!==y){e.next=30;break}throw Error(JSON.stringify({msg:b.msg,code:b.code}));case 30:throw Error(JSON.stringify({msg:"服务器错误",code:"E0"}));case 33:throw e.t0;case 34:case"end":return e.stop()}},e,null,[[0,19]])}))).apply(this,arguments)}function B(e,t,r,n){return F.apply(this,arguments)}function F(){return(F=s.a(i().mark(function e(t,r,a,s){var c,l,g,_,v,y,b,w,S;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c="".concat(f,"/clouddb/runtime/").concat(t,"/delete"),l={querys:{querys:[{column_id:r,op:a,value:s.toString()}]}},e.next=5,p.a("".concat(JSON.stringify(l)));case 5:return _=(g=e.sent).sign,v=g.timestamp,e.next=10,u.a.put(c,{querys:{querys:[{column_id:r,op:a,value:s}]}},{headers:n.a({env:+("dev"!==h),sign:_,timestamp:v},d.a())});case 10:if(200!==(y=e.sent.data).code){e.next=16;break}return e.abrupt("return",y.data);case 16:throw Error(JSON.stringify({msg:y.msg,code:y.code}));case 17:case 31:e.next=34;break;case 19:if(e.prev=19,e.t0=e.catch(0),console.error(e.t0),!(b=e.t0.response)){e.next=33;break}if(w=b.status,S=b.data,403!==w){e.next=30;break}throw Error(JSON.stringify({msg:S.msg,code:S.code}));case 30:throw Error(JSON.stringify({msg:"服务器错误",code:"E0"}));case 33:throw e.t0;case 34:case"end":return e.stop()}},e,null,[[0,19]])}))).apply(this,arguments)}function W(e,t,r,n,a,i){return q.apply(this,arguments)}function q(){return(q=s.a(i().mark(function e(t,r,a,s,c,l){var g,_,v,y,b,w,S,k,x;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g="".concat(f,"/clouddb/runtime/").concat(t,"/update"),_={querys:{querys:[{column_id:r,op:a,value:s.toString()}]},values:[{column_id:c,value:l.toString()}]},e.next=5,p.a("".concat(JSON.stringify(_)));case 5:return y=(v=e.sent).sign,b=v.timestamp,e.next=10,u.a.put(g,{querys:{querys:[{column_id:r,op:a,value:s}]},values:[{column_id:c,value:l}]},{headers:n.a({env:+("dev"!==h),sign:y,timestamp:b},d.a())});case 10:if(200!==(w=e.sent.data).code){e.next=16;break}return e.abrupt("return",w.data);case 16:throw Error(JSON.stringify({msg:w.msg,code:w.code}));case 17:case 31:e.next=34;break;case 19:if(e.prev=19,e.t0=e.catch(0),console.error(e.t0),!(S=e.t0.response)){e.next=33;break}if(k=S.status,x=S.data,403!==k){e.next=30;break}throw Error(JSON.stringify({msg:x.msg,code:x.code}));case 30:throw Error(JSON.stringify({msg:"服务器错误",code:"E0"}));case 33:throw e.t0;case 34:case"end":return e.stop()}},e,null,[[0,19]])}))).apply(this,arguments)}function K(e,t,r,n){return z.apply(this,arguments)}function z(){return(z=s.a(i().mark(function e(t,r,a,s){var c,l,g,_,v,y,b,w,S;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c="".concat(f,"/clouddb/runtime/").concat(t,"/select"),l={querys:{querys:[{column_id:r,op:a,value:s.toString()}]}},e.next=5,p.a("".concat(JSON.stringify(l)));case 5:return _=(g=e.sent).sign,v=g.timestamp,e.next=10,u.a.post(c,{querys:{querys:[{op:a,column_id:r,value:s}]}},{headers:n.a({env:+("dev"!==h),sign:_,timestamp:v},d.a())});case 10:if(200!==(y=e.sent.data).code){e.next=16;break}return e.abrupt("return",y.data);case 16:throw Error(JSON.stringify({msg:y.msg,code:y.code}));case 17:case 31:e.next=34;break;case 19:if(e.prev=19,e.t0=e.catch(0),console.error(e.t0),!(b=e.t0.response)){e.next=33;break}if(w=b.status,S=b.data,403!==w){e.next=30;break}throw Error(JSON.stringify({msg:S.msg,code:S.code}));case 30:throw Error(JSON.stringify({msg:"服务器错误",code:"E0"}));case 33:throw e.t0;case 34:case"end":return e.stop()}},e,null,[[0,19]])}))).apply(this,arguments)}function V(e,t){return X.apply(this,arguments)}function X(){return(X=s.a(i().mark(function e(t,r){var a,s,c,l,g,_,v,y,b;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="row"===r?"RECORD":"COLUMN",e.next=3,p.a("id=".concat(t,"&type=").concat(a));case 3:return c=(s=e.sent).sign,l=s.timestamp,e.prev=6,g="".concat(f,"/clouddb/runtime/").concat(t,"/count?type=").concat(a),e.next=10,u.a.get(g,{headers:n.a({env:+("dev"!==h),sign:c,timestamp:l},d.a())});case 10:if(200!==(_=e.sent.data).code){e.next=16;break}return e.abrupt("return",_.data);case 16:throw Error(JSON.stringify({msg:_.msg,code:_.code}));case 17:case 31:e.next=34;break;case 19:if(e.prev=19,e.t0=e.catch(6),console.error(e.t0),!(v=e.t0.response)){e.next=33;break}if(y=v.status,b=v.data,403!==y){e.next=30;break}throw Error(JSON.stringify({msg:b.msg,code:b.code}));case 30:throw Error(JSON.stringify({msg:"服务器错误",code:"E0"}));case 33:throw e.t0;case 34:case"end":return e.stop()}},e,null,[[6,19]])}))).apply(this,arguments)}function Y(e){return Z.apply(this,arguments)}function Z(){return(Z=s.a(i().mark(function e(t){var r,n;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(f,"/clouddb/migrate?db_ids=").concat(t),e.next=3,u.a.put(r);case 3:if(200!==(n=e.sent.data).code){e.next=7;break}return e.abrupt("return","");case 7:if(0x268781b!==n.code){e.next=9;break}return e.abrupt("return","cloudDBPublishError.uniqueColumnError");case 9:return e.abrupt("return","cloudDBPublishError.migrateError");case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}},58677(e,t,r){"use strict";r.d(t,{e:()=>p,f:()=>u,g:()=>h,a:()=>c,b:()=>d,c:()=>l,d:()=>f});var n,a=r(13244),i=r(63554),s=r(94220),c="icon-widget-radio",u="#ff2f2fff",l="#34c958ff",d="#148cefff",p=!1,f=!1;n={},a.a(n,s.s.SMALL,{headlineFontSize:14,innerSize:16,optionFontSize:12,optionPadding:"5px 28px",iconFontSize:20,minWidth:90,maxWidth:i.e}),a.a(n,s.s.MEDIUM,{headlineFontSize:16,optionFontSize:14,optionPadding:"8px 32px",iconFontSize:24,innerSize:20,minWidth:90,maxWidth:i.e}),a.a(n,s.s.LARGE,{headlineFontSize:18,optionFontSize:16,optionPadding:"14px 36px",iconFontSize:28,innerSize:24,minWidth:90,maxWidth:i.e});var h=n},69460(e,t,r){"use strict";r.d(t,{a:()=>u,b:()=>n,c:()=>c,d:()=>a,e:()=>s,f:()=>i,g:()=>l});var n="#5DC5FBFF",a="icon-widget-slider",i=!1,s=!1,c="https://static.bcmcdn.com/coco/image/slider_default_handle_image.png?v=2",u="https://static.bcmcdn.com/coco/image/slider_default_background_image.png?v=2",l="https://static.bcmcdn.com/coco/image/slider_default_track_image.png?v=2"},42923(e,t,r){e.exports=r(32657)},66241(e,t,r){"use strict";r.d(t,{a:()=>c});var n=function(e){return+setTimeout(e,16)},a=function(e){return clearTimeout(e)};"undefined"!=typeof window&&"requestAnimationFrame"in window&&(n=function(e){return window.requestAnimationFrame(e)},a=function(e){return window.cancelAnimationFrame(e)});var i=0,s=new Map;function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=i+=1;return!function t(a){if(0===a)s.delete(r),e();else{var i=n(function(){t(a-1)});s.set(r,i)}}(t),r}c.cancel=function(e){var t=s.get(e);return s.delete(t),a(t)}},67439(e,t,r){"use strict";function n(e,t,r,n,a,i,s){try{var c=e[i](s),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,a)}function a(e){return function(){var t=this,r=arguments;return new Promise(function(a,i){var s=e.apply(t,r);function c(e){n(s,a,i,c,u,"next",e)}function u(e){n(s,a,i,c,u,"throw",e)}c(void 0)})}}r.d(t,{a:()=>a})},2880(e,t,r){"use strict";function n(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}r.d(t,{a:()=>n})},7443(e,t,r){"use strict";r.d(t,{a:()=>s,b:()=>i,c:()=>c});var n=r(2822),a=r(90550);function i(e,t){"function"==typeof e?e(t):"object"===n.a(e)&&e&&"current"in e&&(e.current=t)}function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){t.forEach(function(t){i(t,e)})}}function c(e){var t,r,n=a.isMemo(e)?e.type.type:e.type;return!("function"==typeof n&&!(null==(t=n.prototype)?void 0:t.render))&&!("function"==typeof e&&!(null==(r=e.prototype)?void 0:r.render))}},83876(e,t,r){"use strict";r.d(t,{a:()=>i});var n=r(75206),a=r.n(n);function i(e){return e instanceof HTMLElement?e:a().findDOMNode(e)}},53096(e,t,r){"use strict";r.d(t,{a:()=>i});var n=r(75206),a=r.n(n);function i(e,t,r,n){var i=a().unstable_batchedUpdates?function(e){a().unstable_batchedUpdates(r,e)}:r;return e.addEventListener&&e.addEventListener(t,i,n),{remove:function(){e.removeEventListener&&e.removeEventListener(t,i)}}}},24918(e,t){"use strict";t.a=function(e){if(!e)return!1;if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox();if(t.width||t.height)return!0}if(e.getBoundingClientRect){var r=e.getBoundingClientRect();if(r.width||r.height)return!0}return!1}},15453(e,t,r){"use strict";r.d(t,{a:()=>ef});var n,a,i=r(41594),s=r.n(i),c=r(7443),u=r(24918);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var p={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function f(){if(void 0!==n)return n;n="";var e=document.createElement("p").style;for(var t in p)t+"Transform"in e&&(n=t);return n}function h(){return f()?"".concat(f(),"TransitionProperty"):"transitionProperty"}function g(){return f()?"".concat(f(),"Transform"):"transform"}function _(e,t){var r=h();r&&(e.style[r]=t,"transitionProperty"!==r&&(e.style.transitionProperty=t))}function v(e,t){var r=g();r&&(e.style[r]=t,"transform"!==r&&(e.style.transform=t))}var y=/matrix\((.*)\)/,b=/matrix3d\((.*)\)/;function w(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function S(e,t,r){var n=r;if("object"!==l(t))return void 0!==n?("number"==typeof n&&(n="".concat(n,"px")),void(e.style[t]=n)):a(e,t);for(var i in t)t.hasOwnProperty(i)&&S(e,i,t[i])}function k(e,t){var r=e["page".concat(t?"Y":"X","Offset")],n="scroll".concat(t?"Top":"Left");if("number"!=typeof r){var a=e.document;"number"!=typeof(r=a.documentElement[n])&&(r=a.body[n])}return r}function x(e){var t,r,n,a,i,s,c=(i=(a=e.ownerDocument).body,s=a&&a.documentElement,r=(t=e.getBoundingClientRect()).left,n=t.top,{left:r-=s.clientLeft||i.clientLeft||0,top:n-=s.clientTop||i.clientTop||0}),u=e.ownerDocument,l=u.defaultView||u.parentWindow;return c.left+=k(l),c.top+=k(l,!0),c}function j(e){return null!=e&&e==e.window}function O(e){return j(e)?e.document:9===e.nodeType?e:e.ownerDocument}var P=RegExp("^(".concat(/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,")(?!px)[a-z%]+$"),"i"),A=/^(top|right|bottom|left)$/,C="left";function D(e,t){return"left"===e?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function N(e){return"left"===e?"right":"right"===e?"left":"top"===e?"bottom":"bottom"===e?"top":void 0}function E(e,t,r){"static"===S(e,"position")&&(e.style.position="relative");var n=-999,a=-999,i=D("left",r),s=D("top",r),c=N(i),u=N(s);"left"!==i&&(n=999),"top"!==s&&(a=999);var l="",d=x(e);("left"in t||"top"in t)&&(l=e.style.transitionProperty||e.style[h()]||"",_(e,"none")),"left"in t&&(e.style[c]="",e.style[i]="".concat(n,"px")),"top"in t&&(e.style[u]="",e.style[s]="".concat(a,"px")),w(e);var p=x(e),f={};for(var g in t)if(t.hasOwnProperty(g)){var v=D(g,r),y="left"===g?n:a,b=d[g]-p[g];f[v]=v===g?y+b:y-b}S(e,f),w(e),("left"in t||"top"in t)&&_(e,l);var k={};for(var j in t)if(t.hasOwnProperty(j)){var O=D(j,r),P=t[j]-d[j];k[O]=j===O?f[O]+P:f[O]-P}S(e,k)}function T(e,t){for(var r=0;r<e.length;r++)t(e[r])}function I(e){return"border-box"===a(e,"boxSizing")}"undefined"!=typeof window&&(a=window.getComputedStyle?function(e,t,r){var n=r,a="",i=O(e);return(n=n||i.defaultView.getComputedStyle(e,null))&&(a=n.getPropertyValue(t)||n[t]),a}:function(e,t){var r=e.currentStyle&&e.currentStyle[t];if(P.test(r)&&!A.test(t)){var n=e.style,a=n[C],i=e.runtimeStyle[C];e.runtimeStyle[C]=e.currentStyle[C],n[C]="fontSize"===t?"1em":r||0,r=n.pixelLeft+"px",n[C]=a,e.runtimeStyle[C]=i}return""===r?"auto":r});var R=["margin","border","padding"];function L(e,t,r){var n,i,s,c=0;for(i=0;i<t.length;i++)if(n=t[i])for(s=0;s<r.length;s++){var u=void 0;u="border"===n?"".concat(n).concat(r[s],"Width"):n+r[s],c+=parseFloat(a(e,u))||0}return c}var $={getParent:function(e){var t=e;do t=11===t.nodeType&&t.host?t.host:t.parentNode;while(t&&1!==t.nodeType&&9!==t.nodeType);return t}};function U(e,t,r){var n=r;if(j(e))return"width"===t?$.viewportWidth(e):$.viewportHeight(e);if(9===e.nodeType)return"width"===t?$.docWidth(e):$.docHeight(e);var i="width"===t?["Left","Right"]:["Top","Bottom"],s="width"===t?e.getBoundingClientRect().width:e.getBoundingClientRect().height;a(e);var c=I(e),u=0;(null==s||s<=0)&&(s=void 0,(null==(u=a(e,t))||0>Number(u))&&(u=e.style[t]||0),u=parseFloat(u)||0),void 0===n&&(n=c?1:-1);var l=void 0!==s||c,d=s||u;return -1===n?l?d-L(e,["border","padding"],i):u:l?1===n?d:d+(2===n?-L(e,["border"],i):L(e,["margin"],i)):u+L(e,R.slice(n),i)}T(["Width","Height"],function(e){$["doc".concat(e)]=function(t){var r=t.document;return Math.max(r.documentElement["scroll".concat(e)],r.body["scroll".concat(e)],$["viewport".concat(e)](r))},$["viewport".concat(e)]=function(t){var r="client".concat(e),n=t.document,a=n.body,i=n.documentElement[r];return"CSS1Compat"===n.compatMode&&i||a&&a[r]||i}});var J={position:"absolute",visibility:"hidden",display:"block"};function H(){for(var e,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];return 0!==a.offsetWidth?e=U.apply(void 0,r):!function(e,t,r){var n,a={},i=e.style;for(n in t)t.hasOwnProperty(n)&&(a[n]=i[n],i[n]=t[n]);for(n in r.call(e),t)t.hasOwnProperty(n)&&(i[n]=a[n])}(a,J,function(){e=U.apply(void 0,r)}),e}function M(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}T(["width","height"],function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);$["outer".concat(t)]=function(t,r){return t&&H(t,e,+!r)};var r="width"===e?["Left","Right"]:["Top","Bottom"];$[e]=function(t,n){var i=n;return void 0===i?t&&H(t,e,-1):t?(a(t),I(t)&&(i+=L(t,["padding","border"],r)),S(t,e,i)):void 0}});var B={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getDocument:O,offset:function(e,t,r){if(void 0===t)return x(e);!function(e,t,r){if(r.ignoreShake){var n=x(e),a=n.left.toFixed(0),i=n.top.toFixed(0),s=t.left.toFixed(0),c=t.top.toFixed(0);if(a===s&&i===c)return}r.useCssRight||r.useCssBottom?E(e,t,r):r.useCssTransform&&g()in document.body.style?function(e,t){var r=x(e),n=function(e){var t=window.getComputedStyle(e,null),r=t.getPropertyValue("transform")||t.getPropertyValue(g());if(r&&"none"!==r){var n=r.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(n[12]||n[4],0),y:parseFloat(n[13]||n[5],0)}}return{x:0,y:0}}(e),a={x:n.x,y:n.y};"left"in t&&(a.x=n.x+t.left-r.left),"top"in t&&(a.y=n.y+t.top-r.top);var i=window.getComputedStyle(e,null),s=i.getPropertyValue("transform")||i.getPropertyValue(g());if(s&&"none"!==s){var c,u=s.match(y);u?((c=(u=u[1]).split(",").map(function(e){return parseFloat(e,10)}))[4]=a.x,c[5]=a.y,v(e,"matrix(".concat(c.join(","),")"))):((c=s.match(b)[1].split(",").map(function(e){return parseFloat(e,10)}))[12]=a.x,c[13]=a.y,v(e,"matrix3d(".concat(c.join(","),")")))}else v(e,"translateX(".concat(a.x,"px) translateY(").concat(a.y,"px) translateZ(0)"))}(e,t):E(e,t,r)}(e,t,r||{})},isWindow:j,each:T,css:S,clone:function(e){var t,r={};for(t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);if(e.overflow)for(t in e)e.hasOwnProperty(t)&&(r.overflow[t]=e.overflow[t]);return r},mix:M,getWindowScrollLeft:function(e){return k(e)},getWindowScrollTop:function(e){return k(e,!0)},merge:function(){for(var e={},t=0;t<arguments.length;t++)B.mix(e,t<0||arguments.length<=t?void 0:arguments[t]);return e},viewportWidth:0,viewportHeight:0};M(B,$);var F=B.getParent;function W(e){if(B.isWindow(e)||9===e.nodeType)return null;var t,r=B.getDocument(e).body,n=B.css(e,"position");if("fixed"!==n&&"absolute"!==n)return"html"===e.nodeName.toLowerCase()?null:F(e);for(t=F(e);t&&t!==r&&9!==t.nodeType;t=F(t))if("static"!==(n=B.css(t,"position")))return t;return null}var q=B.getParent;function K(e,t){for(var r={left:0,right:1/0,top:0,bottom:1/0},n=W(e),a=B.getDocument(e),i=a.defaultView||a.parentWindow,s=a.body,c=a.documentElement;n;){if(-1!==navigator.userAgent.indexOf("MSIE")&&0===n.clientWidth||n===s||n===c||"visible"===B.css(n,"overflow")){if(n===s||n===c)break}else{var u=B.offset(n);u.left+=n.clientLeft,u.top+=n.clientTop,r.top=Math.max(r.top,u.top),r.right=Math.min(r.right,u.left+n.clientWidth),r.bottom=Math.min(r.bottom,u.top+n.clientHeight),r.left=Math.max(r.left,u.left)}n=W(n)}var l=null;B.isWindow(e)||9===e.nodeType||(l=e.style.position,"absolute"===B.css(e,"position")&&(e.style.position="fixed"));var d=B.getWindowScrollLeft(i),p=B.getWindowScrollTop(i),f=B.viewportWidth(i),h=B.viewportHeight(i),g=c.scrollWidth,_=c.scrollHeight,v=window.getComputedStyle(s);if("hidden"===v.overflowX&&(g=i.innerWidth),"hidden"===v.overflowY&&(_=i.innerHeight),e.style&&(e.style.position=l),t||function(e){if(B.isWindow(e)||9===e.nodeType)return!1;var t=B.getDocument(e).body,r=null;for(r=q(e);r&&r!==t;r=q(r))if("fixed"===B.css(r,"position"))return!0;return!1}(e))r.left=Math.max(r.left,d),r.top=Math.max(r.top,p),r.right=Math.min(r.right,d+f),r.bottom=Math.min(r.bottom,p+h);else{var y=Math.max(g,d+f);r.right=Math.min(r.right,y);var b=Math.max(_,p+h);r.bottom=Math.min(r.bottom,b)}return r.top>=0&&r.left>=0&&r.bottom>r.top&&r.right>r.left?r:null}function z(e){if(B.isWindow(e)||9===e.nodeType){var t,r,n,a=B.getWindow(e);t={left:B.getWindowScrollLeft(a),top:B.getWindowScrollTop(a)},r=B.viewportWidth(a),n=B.viewportHeight(a)}else t=B.offset(e),r=B.outerWidth(e),n=B.outerHeight(e);return t.width=r,t.height=n,t}function V(e,t){var r=t.charAt(0),n=t.charAt(1),a=e.width,i=e.height,s=e.left,c=e.top;return"c"===r?c+=i/2:"b"===r&&(c+=i),"c"===n?s+=a/2:"r"===n&&(s+=a),{left:s,top:c}}function X(e,t,r,n,a){var i=V(t,r[1]),s=V(e,r[0]),c=[s.left-i.left,s.top-i.top];return{left:Math.round(e.left-c[0]+n[0]-a[0]),top:Math.round(e.top-c[1]+n[1]-a[1])}}function Y(e,t,r){return e.left<r.left||e.left+t.width>r.right}function Z(e,t,r){return e.top<r.top||e.top+t.height>r.bottom}function Q(e,t,r){var n=[];return B.each(e,function(e){n.push(e.replace(t,function(e){return r[e]}))}),n}function G(e,t){return e[t]=-e[t],e}function ee(e,t){return(/%$/.test(e)?parseInt(e.substring(0,e.length-1),10)/100*t:parseInt(e,10))||0}function et(e,t){e[0]=ee(e[0],t.width),e[1]=ee(e[1],t.height)}function er(e,t,r,n){var a=r.points,i=r.offset||[0,0],s=r.targetOffset||[0,0],c=r.overflow,u=r.source||e;i=[].concat(i),s=[].concat(s);var l={},d=0,p=K(u,!!(c=c||{}).alwaysByViewport),f=z(u);et(i,f),et(s,t);var h=X(f,t,a,i,s),g=B.merge(f,h);if(p&&(c.adjustX||c.adjustY)&&n){if(c.adjustX&&Y(h,f,p)){var _,v,y,b,w=Q(a,/[lr]/gi,{l:"r",r:"l"}),S=G(i,0),k=G(s,0);b=X(f,t,w,S,k),b.left>p.right||b.left+f.width<p.left||(d=1,a=w,i=S,s=k)}if(c.adjustY&&Z(h,f,p)){var x,j=Q(a,/[tb]/gi,{t:"b",b:"t"}),O=G(i,1),P=G(s,1);x=X(f,t,j,O,P),x.top>p.bottom||x.top+f.height<p.top||(d=1,a=j,i=O,s=P)}d&&(h=X(f,t,a,i,s),B.mix(g,h));var A=Y(h,f,p),C=Z(h,f,p);if(A||C){var D=a;A&&(D=Q(a,/[lr]/gi,{l:"r",r:"l"})),C&&(D=Q(a,/[tb]/gi,{t:"b",b:"t"})),a=D,i=r.offset||[0,0],s=r.targetOffset||[0,0]}l.adjustX=c.adjustX&&A,l.adjustY=c.adjustY&&C,(l.adjustX||l.adjustY)&&(_=h,v=B.clone(_),y={width:f.width,height:f.height},l.adjustX&&v.left<p.left&&(v.left=p.left),l.resizeWidth&&v.left>=p.left&&v.left+y.width>p.right&&(y.width-=v.left+y.width-p.right),l.adjustX&&v.left+y.width>p.right&&(v.left=Math.max(p.right-y.width,p.left)),l.adjustY&&v.top<p.top&&(v.top=p.top),l.resizeHeight&&v.top>=p.top&&v.top+y.height>p.bottom&&(y.height-=v.top+y.height-p.bottom),l.adjustY&&v.top+y.height>p.bottom&&(v.top=Math.max(p.bottom-y.height,p.top)),g=B.mix(v,y))}return g.width!==f.width&&B.css(u,"width",B.width(u)+g.width-f.width),g.height!==f.height&&B.css(u,"height",B.height(u)+g.height-f.height),B.offset(u,{left:g.left,top:g.top},{useCssRight:r.useCssRight,useCssBottom:r.useCssBottom,useCssTransform:r.useCssTransform,ignoreShake:r.ignoreShake}),{points:a,offset:i,targetOffset:s,overflow:l}}function en(e,t,r){var n,a,i=r.target||t;return er(e,z(i),r,(n=K(i,r.overflow&&r.overflow.alwaysByViewport),a=z(i),!!n&&!(a.left+a.width<=n.left)&&!(a.top+a.height<=n.top)&&!(a.left>=n.right)&&!(a.top>=n.bottom)))}en.__getOffsetParent=W,en.__getVisibleRectForElement=K;var ea=r(2822),ei=r(72541),eo=r(53096),es=r(43591),ec=r(22844);function eu(e,t){var r=null,n=null,a=new es.default(function(e){var a=ei.a(e,1)[0].target;if(document.documentElement.contains(a)){var i=a.getBoundingClientRect(),s=i.width,c=i.height,u=Math.floor(s),l=Math.floor(c);(r!==u||n!==l)&&Promise.resolve().then(function(){t({width:u,height:l})}),r=u,n=l}});return e&&a.observe(e),function(){a.disconnect()}}function el(e){return"function"!=typeof e?null:e()}function ed(e){return"object"===ea.a(e)&&e?e:null}var ep=s().forwardRef(function(e,t){var r=e.children,n=e.disabled,a=e.target,i=e.align,l=e.onAlign,p=e.monitorWindowResize,f=e.monitorBufferTime,h=s().useRef({}),g=s().useRef(),_=s().Children.only(r),v=s().useRef({});v.current.disabled=n,v.current.target=a,v.current.onAlign=l;var y=function(e,t){var r=s().useRef(!1),n=s().useRef(null);function a(){window.clearTimeout(n.current)}return[function i(s){if(r.current&&!0!==s)a(),n.current=window.setTimeout(function(){r.current=!1,i()},t);else{if(!1===e())return;r.current=!0,a(),n.current=window.setTimeout(function(){r.current=!1},t)}},function(){r.current=!1,a()}]}(function(){var e=v.current,t=e.disabled,r=e.target,n=e.onAlign;if(!t&&r){var a,s,c,l,p,f,_,y,b,w=g.current,S=el(r),k=ed(r);h.current.element=S,h.current.point=k;var x=document.activeElement;return S&&u.a(S)?b=en(w,S,i):k&&(l=(c=B.getDocument(w)).defaultView||c.parentWindow,p=B.getWindowScrollLeft(l),f=B.getWindowScrollTop(l),_=B.viewportWidth(l),y=B.viewportHeight(l),a="pageX"in k?k.pageX:p+k.clientX,b=er(w,{left:a,top:s="pageY"in k?k.pageY:f+k.clientY,width:0,height:0},function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(r,!0).forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},i,{points:[i.points[0],"cc"]}),a>=0&&a<=p+_&&s>=0&&s<=f+y)),x!==document.activeElement&&ec.a(w,x)&&"function"==typeof x.focus&&x.focus(),n&&b&&n(w,b),!0}return!1},void 0===f?0:f),b=ei.a(y,2),w=b[0],S=b[1],k=s().useRef({cancel:function(){}}),x=s().useRef({cancel:function(){}});s().useEffect(function(){var e,t=el(a),r=ed(a);g.current!==x.current.element&&(x.current.cancel(),x.current.element=g.current,x.current.cancel=eu(g.current,w)),h.current.element===t&&((e=h.current.point)===r||e&&r&&("pageX"in r&&"pageY"in r?e.pageX===r.pageX&&e.pageY===r.pageY:"clientX"in r&&"clientY"in r&&e.clientX===r.clientX&&e.clientY===r.clientY))||(w(),k.current.element!==t&&(k.current.cancel(),k.current.element=t,k.current.cancel=eu(t,w)))}),s().useEffect(function(){n?S():w()},[n]);var j=s().useRef(null);return s().useEffect(function(){p?j.current||(j.current=eo.a(window,"resize",w)):j.current&&(j.current.remove(),j.current=null)},[p]),s().useEffect(function(){return function(){k.current.cancel(),x.current.cancel(),j.current&&j.current.remove(),S()}},[]),s().useImperativeHandle(t,function(){return{forceAlign:function(){return w(!0)}}}),s().isValidElement(_)&&(_=s().cloneElement(_,{ref:c.a(_.ref,g)})),_});ep.displayName="Align";var ef=ep},22844(e,t,r){"use strict";function n(e,t){return!!e&&e.contains(t)}r.d(t,{a:()=>n})},32657(e){var t=function(e){"use strict";var t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var a,i=Object.create((t&&t.prototype instanceof p?t:p).prototype),s=new x(n||[]);return a="suspendedStart",i._invoke=function(t,n){if("executing"===a)throw Error("Generator is already running");if("completed"===a){if("throw"===t)throw n;return O()}for(s.method=t,s.arg=n;;){var i=s.delegate;if(i){var c=function e(t,r){var n=t.iterator[r.method];if(void 0===n){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=void 0,e(t,r),"throw"===r.method))return d;r.method="throw",r.arg=TypeError("The iterator does not provide a 'throw' method")}return d}var a=l(n,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,d;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,d):i:(r.method="throw",r.arg=TypeError("iterator result is not an object"),r.delegate=null,d)}(i,s);if(c){if(c===d)continue;return c}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if("suspendedStart"===a)throw a="completed",s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);a="executing";var u=l(e,r,s);if("normal"===u.type){if(a=s.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:s.done}}"throw"===u.type&&(a="completed",s.method="throw",s.arg=u.arg)}},i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var d={};function p(){}function f(){}function h(){}var g={};g[a]=function(){return this};var _=Object.getPrototypeOf,v=_&&_(_(j([])));v&&v!==t&&r.call(v,a)&&(g=v);var y=h.prototype=p.prototype=Object.create(g);function b(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var n;this._invoke=function(a,i){function s(){return new t(function(n,s){!function n(a,i,s,c){var u=l(e[a],e,i);if("throw"!==u.type){var d=u.arg,p=d.value;return p&&"object"==typeof p&&r.call(p,"__await")?t.resolve(p.__await).then(function(e){n("next",e,s,c)},function(e){n("throw",e,s,c)}):t.resolve(p).then(function(e){d.value=e,s(d)},function(e){return n("throw",e,s,c)})}c(u.arg)}(a,i,n,s)})}return n=n?n.then(s,s):s()}}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function j(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:O}}function O(){return{value:void 0,done:!0}}return f.prototype=y.constructor=h,h.constructor=f,f.displayName=c(h,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),w.prototype[i]=function(){return this},e.AsyncIterator=w,e.async=function(t,r,n,a,i){void 0===i&&(i=Promise);var s=new w(u(t,r,n,a),i);return e.isGeneratorFunction(r)?s:s.next().then(function(e){return e.done?e.value:s.next()})},b(y),c(y,s,"Generator"),y[a]=function(){return this},y.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=j,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return s.type="throw",s.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;k(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:j(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}},78966(e,t,r){"use strict";r.d(t,{a:()=>i,c:()=>c,i:()=>a,l:()=>u,s:()=>s,u:()=>l});var n=r(92136);function a(e,t,r){return(e/t*100).toFixed(r)}function i(e,t,r){return Math.min(Math.max(e,t),r)}function s(e,t){var r=t.indexOf(e);return r>-1?t[r]:t.reduce(function(t,r){return Math.abs(r-e)<Math.abs(t-e)?r:t})}function c(e){if("string"!=typeof e||e.startsWith("0x")||""===e.trim()||"Infinity"===e)return e;var t=Number(e);return isNaN(t)?e:t}function u(e,t){var r,a=new Set(e),i=new Set(t),s=[],c=n.a(a);try{for(c.s();!(r=c.n()).done;){var u=r.value;i.has(u)||s.push(u)}}catch(e){c.e(e)}finally{c.f()}return s}function l(e){return/^[\u4E00-\u9FA5A-Za-z][\u4E00-\u9FA5A-Za-z0-9_]*$/.test(e)}},35309(e,t,r){"use strict";r.d(t,{A:()=>b,C:()=>_,E:()=>f,O:()=>h,S:()=>y,T:()=>v,_:()=>u,b:()=>d,g:()=>c,v:()=>l,w:()=>g,y:()=>p});var n=r(36243),a=r(22224),i=r(83623),s=r.n(i),c="#B3B3B3",u=function(e){return"#00000000"===e||"rgba(0,0,0,0)"===e||"transparent"===e},l=function(e,t){return(0,n.A)(e).fade(1-t).string()},d=function(e){return"#ffffff"===(0,n.A)(e).hex().toLowerCase()},p=function(e,t){return window.Color=n.A,(0,n.A)(e).darken(t).hex()},f=function(e){try{return(0,n.A)(e).toString()}catch(t){console.error("formatColor error",e)}return e},h=function(e){return(0,n.A)(e).hsl().lightness()>85.7},g=function(e){if("string"!=typeof e)return!1;var t=!0;try{(0,n.A)(e).toString()}catch(e){t=!1}return t},_=function(e){var t=e.alpha(),r=Math.round(255*a.clamp(t,0,1)),n=r.toString(16),i=r<=15?"0".concat(n):n;return e.hex()+i.toUpperCase()};function v(e){try{return _((0,n.A)(e))}catch(e){return""}}var y=function(e){var t=0,r=0;return a.each(["r","g","b","a","h","s","l","v"],function(n){e[n]&&(t+=1,isNaN(e[n])||(r+=1),"s"===n||"l"===n)&&/^\d+%$/.test(e[n])&&(r+=1)}),t===r&&e},b=function(e,t){var r=e.HEX?s()(e.HEX):s()(e),n=r.toHsl(),a=r.toHsv(),i=r.toRgb(),c=r.toHex();return 0===n.s&&(n.h=t||0,a.h=t||0),{hsl:n,hex:"000000"===c&&0===i.a?"transparent":"#".concat(c),rgb:i,hsv:a,oldHue:e.h||t||n.h,source:e.source}}},74380(e,t,r){"use strict";function n(){var e=navigator.userAgent;return!!["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"].find(function(t){return e.includes(t)})}function a(){return navigator.userAgent.includes("Chrome")}function i(){var e=navigator.userAgent.indexOf("Chrome")>-1;return navigator.userAgent.indexOf("Safari")>-1&&!e}r.d(t,{N:()=>a,R:()=>i,j:()=>n}),r(58797)},97707(e,t,r){"use strict";function n(e,t){var r=new Date(e);return r.setDate(r.getDate()+t),r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0),r.getTime()}function a(e){var t=e.getHours(),r="0".concat(e.getMinutes()).slice(-2);return"".concat(t,":").concat(r)}r.d(t,{D:()=>a,x:()=>n}),r(10138)},55242(e,t,r){"use strict";r.d(t,{B:()=>c,F:()=>u,H:()=>p,K:()=>_,U:()=>function e(t){if("object"==typeof t){var r=Array.isArray(t)?[]:{};return Object.entries(t).forEach(function(t){var a=n.a(t,2),i=a[0],s=a[1];r[i]=e(s)}),r}return t},V:()=>f,W:()=>d,Y:()=>g,z:()=>h});var n=r(451),a=r(7452),i=r.n(a),s=r(34221),c={};function u(e,t){return l.apply(this,arguments)}function l(){return(l=s.a(i().mark(function e(t,r){var n;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new FontFace(t,"url(".concat(r,")")),e.next=3,n.load();case 3:document.fonts.add(n);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function d(e,t,r){var n=null;return r?function(){if(n&&window.clearTimeout(n),!n){for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];e.apply(this,a)}n=window.setTimeout(function(){n=null},t)}:function(){for(var r=this,a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];n&&window.clearTimeout(n),n=window.setTimeout(function(){return e.apply(r,i)},t)}}function p(e){return new Promise(function(t){setTimeout(function(){t()},e)})}function f(e){return new Promise(function(t,r){var n=document.createElement("script");n.onload=function(){t(null)},n.src=e,document.head.appendChild(n)})}function h(e){return new Promise(function(t,r){var n=document.createElement("link");n.setAttribute("rel","stylesheet"),n.onload=function(){t(null)},n.onerror=function(){r()},n.setAttribute("href",e),document.head.appendChild(n)})}function g(e,t){if(e&&t){var r=e.getClientRects()[0],n=t.getClientRects()[0];return{left:r.x-n.x,top:r.y-n.y}}}function _(e){return e&&e.replace?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\\/g,"&#92;").replace(/\'/g,"&#39;").replace(/\"/g,"&quot;"):e}}}]);
//# sourceMappingURL=349.2f642c240a085d44.js.map