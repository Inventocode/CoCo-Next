"use strict";(self.webpackChunkcoco_next=self.webpackChunkcoco_next||[]).push([[4800],{474:(e,t,r)=>{var n;r.r(t),r.d(t,{A:()=>Et,Ab:()=>tt,B:()=>T,Bb:()=>ot,C:()=>Ce,Cb:()=>nt,D:()=>je,Db:()=>$e,E:()=>Te,Eb:()=>Bt,F:()=>De,Fb:()=>be,G:()=>W,Gb:()=>It,H:()=>F,Hb:()=>Qe,I:()=>D,Ib:()=>qe,J:()=>j,Jb:()=>Ge,K:()=>ae,Kb:()=>kt,L:()=>ie,Lb:()=>Ct,M:()=>se,Mb:()=>m,N:()=>we,Nb:()=>M,O:()=>Se,Ob:()=>N,P:()=>Ie,Pb:()=>Ae,Q:()=>Ne,Qb:()=>Me,R:()=>ke,Rb:()=>Pe,S:()=>Ke,Sb:()=>B,T:()=>Fe,Tb:()=>V,U:()=>ze,Ub:()=>L,V:()=>Lt,Vb:()=>U,W:()=>Ut,Wb:()=>oe,X:()=>Dt,Xb:()=>ue,Y:()=>R,Yb:()=>ce,Z:()=>O,Zb:()=>Re,a:()=>n,ab:()=>wt,ac:()=>Tt,b:()=>v,bb:()=>I,bc:()=>jt,c:()=>Le,cb:()=>b,cc:()=>Pt,d:()=>_e,db:()=>y,dc:()=>A,default:()=>Ft,e:()=>Oe,eb:()=>Y,ec:()=>x,f:()=>Ee,fb:()=>yt,fc:()=>ne,g:()=>xe,gb:()=>mt,gc:()=>le,h:()=>Ye,hb:()=>de,hc:()=>me,i:()=>Be,ib:()=>he,ic:()=>pe,j:()=>Ve,jb:()=>fe,jc:()=>ve,k:()=>gt,kb:()=>ge,kc:()=>Ot,l:()=>_t,lb:()=>St,lc:()=>xt,m:()=>bt,mb:()=>Nt,mc:()=>ft,n:()=>ht,nb:()=>vt,nc:()=>E,o:()=>Ue,ob:()=>We,oc:()=>H,p:()=>it,pb:()=>pt,pc:()=>G,q:()=>st,qb:()=>ut,qc:()=>J,r:()=>dt,rb:()=>ct,rc:()=>Wt,s:()=>q,sb:()=>lt,sc:()=>ye,t:()=>te,tb:()=>w,tc:()=>Xe,u:()=>Q,ub:()=>z,uc:()=>Je,v:()=>$,vb:()=>K,vc:()=>He,w:()=>et,wb:()=>X,wc:()=>Rt,x:()=>at,xb:()=>re,xc:()=>h,y:()=>rt,yb:()=>Z,z:()=>Ze,zb:()=>ee});const a=r(7452);var o,i,u=(i=(o=a)&&o.__esModule?function(){return o.default}:function(){return o},Object.defineProperty(i,"a",{enumerable:!0,get:i}),i);const s=r(21009),c=r(81324),d=r(70817);var l,f=new Map,p="!@_APP_@!";function g(e){return f.get(e)}function v(e,t,r){var n=g(t);n||function(e,t){f.set(e,t)}(t,n=new Map);var a=n.get(e);a?a.push(r):n.set(e,[r])}function h(e,t,r){var n=g(t);if(n){var a=n.get(e);if(a){var o=a.findIndex(function(e){return e===r});o>-1&&a.splice(o,1)}}}function m(e,t){var r,n=g(t);return n&&(r=n.get(e)),r||[]}function b(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];m(e,t).forEach(function(e){e.call.apply(e,[void 0].concat(n))})}function y(e,t){return _.apply(this,arguments)}function _(){return(_=s.a(u.a.mark(function e(t,r){var n,a,o,i,s=arguments;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(n=s.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=s[o];return i=m(t,r),e.next=4,Promise.all(i.map(function(e){return e.call.apply(e,[void 0].concat(a))}));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function w(e){b(n.ERROR,"!@_RUNTIME_LOG_@!",e)}function E(e){v(n.ERROR,"!@_RUNTIME_LOG_@!",e)}function I(){b(n.SHAKE,"!@_DEVICE_@!")}function x(e){v(n.SHAKE,"!@_DEVICE_@!",e)}function N(e){h(n.SHAKE,"!@_DEVICE_@!",e)}function O(e){return S.apply(this,arguments)}function S(){return(S=s.a(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(n.CUSTOM,t);case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function R(e){return k.apply(this,arguments)}function k(){return(k=s.a(u.a.mark(function e(t){var r,a,o,i=arguments;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.lb(10);case 2:for(r=i.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=i[o];b.apply(void 0,[n.CUSTOM,t].concat(a));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function A(e,t){v(n.CUSTOM,e,t)}(l=n||(n={})).ACTIVE="ACTIVE",l.BACKGROUND="BACKGROUND",l.BLUR="BLUR",l.CHANGE="CHANGE",l.CUSTOM="CUSTOM",l.ERROR="ERROR",l.FOCUS="FOCUS",l.MOUNT="MOUNT",l.PRESS="PRESS",l.PRESS_IN="PRESS_IN",l.PRESS_OUT="PRESS_OUT",l.PRESS_HOLD="PRESS_HOLD",l.SELECTED="SELECTED",l.UNSELECTED="UNSELECTED",l.SHAKE="SHAKE",l.SWITCH_TO="SWITCH_TO",l.SCREEN_OPEN="SCREEN_OPEN",l.UNMOUNT="UNMOUNT",l.SWIPE="SWIPE",l.START_LOAD="START_LOAD",l.LOADED="LOADED",l.LOADED_ERROR="LOADED_ERROR",l.START_TO_SLIDE="START_TO_SLIDE",l.END_TO_SLIDE="END_TO_SLIDE",l.CLOUD_DOCUMENT_ERROR="CLOUD_DOCUMENT_ERROR",l.HTTP_CLIENT_SUCCESS="HTTP_CLIENT_SUCCESS",l.HTTP_CLIENT_ERROR="HTTP_CLIENT_ERROR",l.ROOM_MESSAGE="ROOM_MESSAGE",l.ROOM_MEMBER_JOIN="ROOM_MEMBER_JOIN",l.ROOM_MEMBER_LEAVE="ROOM_MEMBER_LEAVE",l.ROOM_ERROR="ROOM_ERROR",l.DATA_PICKER_SELECT_DONE="DATA_PICKER_SELECT_DONE",l.TIME_PICKER_SELECT_DONE="TIME_PICKER_SELECT_DONE",l.WIDGET_EVENT="WIDGET_EVENT",l.CLOUD_DB_ERROR="CLOUD_DB_ERROR",l.CLOUD_DICT_ERROR="CLOUD_DICT_ERROR",l.CLOUD_TABLE_ERROR="CLOUD_TABLE_ERROR";var C=Promise.all([]);function M(e){C=Promise.all(e)}function T(){return P.apply(this,arguments)}function P(){return(P=s.a(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C;case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function D(){b(n.MOUNT,p)}function L(e){v(n.MOUNT,p,e)}function j(){b(n.UNMOUNT,p)}function U(e){v(n.UNMOUNT,p,e)}function W(){b(n.ACTIVE,p)}function B(e){v(n.ACTIVE,p,e)}function F(){b(n.BACKGROUND,p)}function V(e){v(n.BACKGROUND,p,e)}function z(e){b(n.MOUNT,e)}function Y(e){b(n.SHAKE,e)}function K(e,t){b(n.SCREEN_OPEN,e,t)}function H(e,t){v(n.MOUNT,e,t)}function G(e,t){v(n.SCREEN_OPEN,e,t)}function J(e,t){v(n.PRESS_IN,e,t)}function q(e,t){v(n.PRESS,e,t)}function X(e,t,r){b(n.PRESS,e,Math.ceil(t),Math.ceil(r))}function Q(e,t){v(n.PRESS_IN,e,t)}function Z(e,t,r){b(n.PRESS_IN,e,Math.ceil(t),Math.ceil(r))}function $(e,t){v(n.PRESS_OUT,e,t)}function ee(e,t,r){b(n.PRESS_OUT,e,Math.ceil(t),Math.ceil(r))}function te(e,t){v(n.PRESS_HOLD,e,t)}function re(e,t,r){return y(n.PRESS_HOLD,e,Math.ceil(t),Math.ceil(r))}function ne(e,t){v(n.SHAKE,e,t)}function ae(e){b(n.PRESS,e)}function oe(e,t){v(n.PRESS,e,t)}function ie(e){b(n.PRESS_IN,e)}function ue(e,t){v(n.PRESS_IN,e,t)}function se(e){b(n.PRESS_OUT,e)}function ce(e,t){v(n.PRESS_OUT,e,t)}function de(e){b(n.PRESS_OUT,e)}function le(e,t){v(n.PRESS_OUT,e,t)}function fe(e){b(n.CHANGE,e)}function pe(e,t){v(n.CHANGE,e,t)}function ge(e){b(n.FOCUS,e)}function ve(e,t){v(n.FOCUS,e,t)}function he(e){b(n.BLUR,e)}function me(e,t){v(n.BLUR,e,t)}function be(e){b(n.PRESS_OUT,e)}function ye(e,t){v(n.PRESS_OUT,e,t)}function _e(e,t){v(n.PRESS,e,t)}function we(e,t){b(n.PRESS,e,Math.round(t.x),Math.round(t.y))}function Ee(e,t){v(n.PRESS_IN,e,t)}function Ie(e,t){b(n.PRESS_IN,e,Math.round(t.x),Math.round(t.y))}function xe(e,t){v(n.PRESS_OUT,e,t)}function Ne(e,t){b(n.PRESS_OUT,e,Math.round(t.x),Math.round(t.y))}function Oe(e,t){v(n.PRESS_HOLD,e,t)}function Se(e,t){return y(n.PRESS_HOLD,e,Math.round(t.x),Math.round(t.y))}function Re(e,t){v(n.SWIPE,e,t)}function ke(e,t){b(n.SWIPE,e,t)}function Ae(e,t){v(n.PRESS,e,t)}function Ce(e,t){b(n.PRESS,e,Math.round(t.x),Math.round(t.y))}function Me(e,t){v(n.PRESS_IN,e,t)}function Te(e,t){b(n.PRESS_IN,e,Math.round(t.x),Math.round(t.y))}function Pe(e,t){v(n.PRESS_OUT,e,t)}function De(e,t){b(n.PRESS_OUT,e,Math.round(t.x),Math.round(t.y))}function Le(e,t){v(n.PRESS_HOLD,e,t)}function je(e,t){return y(n.PRESS_HOLD,e,Math.round(t.x),Math.round(t.y))}function Ue(e,t){v(n.SELECTED,e,t)}function We(e,t,r){b(n.SELECTED,e,t,r)}function Be(e,t){v(n.SELECTED,e,t)}function Fe(e,t,r){b(n.SELECTED,e,t,r)}function Ve(e,t){v(n.UNSELECTED,e,t)}function ze(e,t,r){b(n.UNSELECTED,e,t,r)}function Ye(e,t){v(n.CHANGE,e,t)}function Ke(e,t,r){b(n.CHANGE,e,t,r)}function He(e,t){v(n.START_LOAD,e,t)}function Ge(e){b(n.START_LOAD,e)}function Je(e,t){v(n.LOADED,e,t)}function qe(e){b(n.LOADED,e)}function Xe(e,t){v(n.LOADED_ERROR,e,t)}function Qe(e){b(n.LOADED_ERROR,e)}function Ze(e,t){v(n.CHANGE,e,t)}function $e(e,t){b(n.CHANGE,e,t)}function et(e,t){v(n.CHANGE,e,t)}function tt(e,t){b(n.CHANGE,e,t)}function rt(e,t){v(n.START_TO_SLIDE,e,t)}function nt(e,t){b(n.START_TO_SLIDE,e,t)}function at(e,t){v(n.END_TO_SLIDE,e,t)}function ot(e,t){b(n.END_TO_SLIDE,e,t)}function it(e){v(n.ROOM_MEMBER_JOIN,p,e)}function ut(e){b(n.ROOM_MEMBER_JOIN,p,e)}function st(e){v(n.ROOM_MEMBER_LEAVE,p,e)}function ct(e){b(n.ROOM_MEMBER_LEAVE,p,e)}function dt(e,t){v(n.ROOM_MESSAGE,e,t)}function lt(e,t){b(n.ROOM_MESSAGE,e,t)}function ft(e){v(n.ROOM_ERROR,p,e)}function pt(e){b(n.ROOM_ERROR,p,e)}function gt(e,t){v(n.CLOUD_DOCUMENT_ERROR,e,t)}function vt(e,t,r){b(n.CLOUD_DOCUMENT_ERROR,e,t,r)}function ht(e,t){v(n.HTTP_CLIENT_SUCCESS,e,t)}function mt(e,t,r){b(n.HTTP_CLIENT_SUCCESS,e,t,r)}function bt(e,t){v(n.HTTP_CLIENT_ERROR,e,t)}function yt(e,t,r){b(n.HTTP_CLIENT_ERROR,e,t,r)}function _t(e,t){v(n.DATA_PICKER_SELECT_DONE,e,t)}function wt(e,t,r,a,o){b(n.DATA_PICKER_SELECT_DONE,e,t,r,a,o)}function Et(e,t){v(n.TIME_PICKER_SELECT_DONE,e,t)}function It(e,t,r,a,o){b(n.TIME_PICKER_SELECT_DONE,e,t,r,a,o)}function xt(e,t){v(n.PRESS,e,t)}function Nt(e,t){b(n.PRESS,e,t)}function Ot(e,t){v(n.PRESS,e,t)}function St(e,t){b(n.PRESS,e,t)}function Rt(e,t,r,a){var o=[e,t,r].join("_@@_");v(n.WIDGET_EVENT,o,a)}function kt(e,t,r){return At.apply(this,arguments)}function At(){return(At=s.a(u.a.mark(function e(t,r,a){var o,i,s,c,l,f,p=arguments;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(o=[t,r,a].join("_@@_"),i=d.a().getState().currentScreenId,s=p.length,c=new Array(s>3?s-3:0),l=3;l<s;l++)c[l-3]=p[l];b.apply(void 0,[n.WIDGET_EVENT,o].concat(c)),f=[t,r,i].join("_@@_"),b.apply(void 0,[n.WIDGET_EVENT,f,a].concat(c));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ct(e,t){return Mt.apply(this,arguments)}function Mt(){return(Mt=s.a(u.a.mark(function e(t,r){var a,o,i,s,c=arguments;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(a=c.length,o=new Array(a>2?a-2:0),i=2;i<a;i++)o[i-2]=c[i];s=t+"_@@_"+r+"_@@_",Array.from(f.keys()).forEach(function(e){e.startsWith(s)&&b.apply(void 0,[n.WIDGET_EVENT,e].concat(o))});case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Tt(e){v(n.CLOUD_DB_ERROR,p,e)}function Pt(e,t){v(n.CLOUD_TABLE_ERROR,e,t)}function Dt(e,t){var r=[JSON.parse(t).errorInfo];b.apply(void 0,[n.CLOUD_TABLE_ERROR,e].concat(r))}function Lt(e){var t=JSON.parse(e),r=[t.cloudDBName,t.errorInfo];b.apply(void 0,[n.CLOUD_DB_ERROR,p].concat(r))}function jt(e,t){v(n.CLOUD_DICT_ERROR,e,t)}function Ut(e,t){b(n.CLOUD_DICT_ERROR,e,t)}function Wt(e,t){v(n.CHANGE,e,t)}function Bt(e){b(n.CHANGE,e)}const Ft=n},3167:(e,t,r)=>{e.exports=r(91118)},4378:(e,t,r)=>{r.r(t),r.d(t,{a:()=>f,b:()=>l,c:()=>d,d:()=>o,default:()=>v,e:()=>g,f:()=>p,g:()=>a,h:()=>n,i:()=>c,j:()=>s,k:()=>u,l:()=>i});var n="icon-widget-date-picker",a=202,o=36,i=155,u=30,s=360,c=640,d=16,l="#111111ff",f="#e4f5ffff",p=!1,g=!1;const v=f},5958:(e,t,r)=>{r.r(t),r.d(t,{a:()=>C,default:()=>M});const n=r(41460),a=r(89843),o=r(42155),i=r(11903),u=r(96540);var s,c,d=(c=(s=u)&&s.__esModule?function(){return s.default}:function(){return s},Object.defineProperty(c,"a",{enumerable:!0,get:c}),c),l=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return Object.defineProperty(t,"a",{enumerable:!0,get:t}),t}(r(11412));const f=r(68363),p=r(30275),g=r(43848);var v={};function h(e,t){}var m=function(e,t){!function(e,t,r){t||v[r]||(e(!1,r),v[r]=!0)}(h,e,t)};function b(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function y(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("undefined"==typeof window||!window.document||!window.document.createElement)return null;var a=document.createElement("style");(null===(t=n.csp)||void 0===t?void 0:t.nonce)&&(a.nonce=null===(r=n.csp)||void 0===r?void 0:r.nonce),a.innerHTML=e;var o=b(n),i=o.firstChild;return n.prepend&&o.prepend?o.prepend(a):n.prepend&&i?o.insertBefore(a,i):o.appendChild(a),a}var _=new Map;function w(e){return"object"===p.a(e)&&"string"==typeof e.name&&"string"==typeof e.theme&&("object"===p.a(e.icon)||"function"==typeof e.icon)}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce(function(t,r){var n=e[r];return"class"===r?(t.className=n,delete t.class):t[r]=n,t},{})}function I(e){return g.a(e)[0]}function x(e){return e?Array.isArray(e)?e:[e]:[]}var N=["icon","className","onClick","style","primaryColor","secondaryColor"],O={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1},S=function(e){var t,r,a=e.icon,o=e.className,s=e.onClick,c=e.style,l=e.primaryColor,p=e.secondaryColor,g=i.a(e,N),v=O;if(l&&(v={primaryColor:l,secondaryColor:p||I(l)}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n",t=u.useContext(f.a).csp;u.useEffect(function(){!function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=b(r);if(!_.has(n)){var a=y("",r),o=a.parentNode;_.set(n,o),o.removeChild(a)}var i,u,s,c=Array.from(_.get(n).children).find(function(e){return"STYLE"===e.tagName&&e["rc-util-key"]===t});if(c)return(null===(i=r.csp)||void 0===i?void 0:i.nonce)&&c.nonce!==(null===(u=r.csp)||void 0===u?void 0:u.nonce)&&(c.nonce=null===(s=r.csp)||void 0===s?void 0:s.nonce),c.innerHTML!==e&&(c.innerHTML=e),c;y(e,r)["rc-util-key"]=t}(e,"@ant-design-icons",{prepend:!0,csp:t})},[])}(),t=w(a),r="icon should be icon definiton, but got ".concat(a),m(t,"[@ant-design/icons] ".concat(r)),!w(a))return null;var h=a;return h&&"function"==typeof h.icon&&(h=n.a(n.a({},h),{},{icon:h.icon(v.primaryColor,v.secondaryColor)})),function e(t,r,a){return a?d.a.createElement(t.tag,n.a(n.a({key:r},E(t.attrs)),a),(t.children||[]).map(function(n,a){return e(n,"".concat(r,"-").concat(t.tag,"-").concat(a))})):d.a.createElement(t.tag,n.a({key:r},E(t.attrs)),(t.children||[]).map(function(n,a){return e(n,"".concat(r,"-").concat(t.tag,"-").concat(a))}))}(h.icon,"svg-".concat(h.name),n.a({className:o,onClick:s,style:c,"data-icon":h.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},g))};S.displayName="IconReact",S.getTwoToneColors=function(){return n.a({},O)},S.setTwoToneColors=function(e){var t=e.primaryColor,r=e.secondaryColor;O.primaryColor=t,O.secondaryColor=r||I(t),O.calculated=!!r};var R=S;function k(e){var t=x(e),r=a.a(t,2),n=r[0],o=r[1];return R.setTwoToneColors({primaryColor:n,secondaryColor:o})}var A=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];k("#1890ff");var C=u.forwardRef(function(e,t){var r,s=e.className,c=e.icon,d=e.spin,p=e.rotate,g=e.tabIndex,v=e.onClick,h=e.twoToneColor,m=i.a(e,A),b=u.useContext(f.a).prefixCls,y=void 0===b?"anticon":b,_=l()(y,(r={},o.a(r,"".concat(y,"-").concat(c.name),!!c.name),o.a(r,"".concat(y,"-spin"),!!d||"loading"===c.name),r),s),w=g;void 0===w&&v&&(w=-1);var E=p?{msTransform:"rotate(".concat(p,"deg)"),transform:"rotate(".concat(p,"deg)")}:void 0,I=x(h),N=a.a(I,2),O=N[0],S=N[1];return u.createElement("span",n.a(n.a({role:"img","aria-label":c.name},m),{},{ref:t,tabIndex:w,onClick:v,className:_}),u.createElement(R,{icon:c,primaryColor:O,secondaryColor:S,style:E}))});C.displayName="AntdIcon",C.getTwoToneColor=function(){var e=R.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},C.setTwoToneColor=k;const M=C},18005:(e,t,r)=>{var n;r.r(t),r.d(t,{a:()=>b,default:()=>y});const a=r(7452);var o,i,u=(i=(o=a)&&o.__esModule?function(){return o.default}:function(){return o},Object.defineProperty(i,"a",{enumerable:!0,get:i}),i);const s=r(21009),c=r(66905),d=r(99666),l=r(94193),f=r(27516),p=r(40739);var g;(g=n||(n={})).BREAK="BREAK",g.CONTINUE="CONTINUE",g.TERMINATE="TERMINATE";var v=function(e){l.a(r,e);var t=f.a(r);function r(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Scheduler terminated!";return c.a(this,r),(e=t.call(this,a)).name=n.TERMINATE,e}return r}(p.a(Error)),h=function(e){l.a(r,e);var t=f.a(r);function r(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Repetition continued!";return c.a(this,r),(e=t.call(this,a)).name=n.CONTINUE,e}return r}(p.a(Error)),m=function(e){l.a(r,e);var t=f.a(r);function r(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Repetition broken!";return c.a(this,r),(e=t.call(this,a)).name=n.BREAK,e}return r}(p.a(Error)),b=function(){function e(){c.a(this,e),this._continuous=void 0,this._terminated=void 0,this._continuous={promise:Promise.resolve()},this._terminated=!1}var t;return d.a(e,[{key:"checkContinuity",value:function(){return this._continuous.promise}},{key:"hangUp",value:function(){var e=this;this._continuous.promise=new Promise(function(t,r){e._continuous.resolve=t,e._continuous.reject=r})}},{key:"goOn",value:function(){this._terminated||(this._continuous.resolve&&this._continuous.resolve(),this._continuous={promise:Promise.resolve()})}},{key:"giveUp",value:function(){this._terminated=!0,this._continuous.reject&&this._continuous.reject(new v),this._continuous={promise:Promise.reject(new v)}}},{key:"run",value:function(){var e=s.a(u.a.mark(function e(t){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.checkContinuity();case 3:return e.next=5,t();case 5:return r=e.sent,e.abrupt("return",r);case 9:if(e.prev=9,e.t0=e.catch(0),e.t0.name!==n.TERMINATE){e.next=14;break}e.next=15;break;case 14:throw e.t0;case 15:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t){return e.apply(this,arguments)}}()},{key:"plan",value:function(e){var t=this;return function(){return t.run(e)}}},{key:"breakLoop",value:function(){throw new m}},{key:"continueLoop",value:function(){throw new h}},{key:"loop",value:(t=s.a(u.a.mark(function t(r,a){var o,i;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:o=-1,i=function(){var e=s.a(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),"number"==typeof a?o=Math.round(a):i=a;case 3:if(t.t0=o--,!t.t0){t.next=8;break}return t.next=7,i();case 7:t.t0=t.sent;case 8:if(!t.t0){t.next=29;break}return t.prev=9,t.next=12,this.checkContinuity();case 12:return t.next=14,r();case 14:t.next=25;break;case 16:if(t.prev=16,t.t1=t.catch(9),t.t1.name!==n.BREAK){t.next=20;break}return t.abrupt("break",29);case 20:if(t.t1.name!==n.CONTINUE){t.next=24;break}return t.next=23,e.sleep();case 23:return t.abrupt("continue",3);case 24:throw t.t1;case 25:return t.next=27,e.sleep();case 27:t.next=3;break;case 29:case"end":return t.stop()}},t,this,[[9,16]])})),function(e,r){return t.apply(this,arguments)})},{key:"loopConditionally",value:function(){var e=s.a(u.a.mark(function e(t,r){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loop(t,r);case 2:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()},{key:"loopStep",value:function(){var t=s.a(u.a.mark(function t(r,a,o,i){var s,c;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:s=a>o,i=Math.abs(i),s&&(i*=-1),c=a;case 4:if(!(s?c>o:c<o)){t.next=22;break}return t.next=7,e.sleep();case 7:return t.prev=7,t.next=10,r(c);case 10:t.next=19;break;case 12:if(t.prev=12,t.t0=t.catch(7),t.t0.name!==n.BREAK){t.next=16;break}return t.abrupt("break",22);case 16:if(t.t0.name!==n.CONTINUE){t.next=18;break}return t.abrupt("continue",19);case 18:throw t.t0;case 19:c+=i,t.next=4;break;case 22:case"end":return t.stop()}},t,null,[[7,12]])}));return function(e,r,n,a){return t.apply(this,arguments)}}()},{key:"loopStepClosedRange",value:function(){var t=s.a(u.a.mark(function t(r,a,o,i){var s,c;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:s=a>o,i=Math.abs(i),s&&(i*=-1),c=a;case 4:if(!(s?c>=o:c<=o)){t.next=22;break}return t.next=7,e.sleep();case 7:return t.prev=7,t.next=10,r(c);case 10:t.next=19;break;case 12:if(t.prev=12,t.t0=t.catch(7),t.t0.name!==n.BREAK){t.next=16;break}return t.abrupt("break",22);case 16:if(t.t0.name!==n.CONTINUE){t.next=18;break}return t.abrupt("continue",19);case 18:throw t.t0;case 19:c+=i,t.next=4;break;case 22:case"end":return t.stop()}},t,null,[[7,12]])}));return function(e,r,n,a){return t.apply(this,arguments)}}()},{key:"listForEach",value:function(){var t=s.a(u.a.mark(function t(r,a){var o;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:o=0;case 1:if(!(o<a.length)){t.next=19;break}return t.next=4,e.sleep();case 4:return t.prev=4,t.next=7,r(a[o]);case 7:t.next=16;break;case 9:if(t.prev=9,t.t0=t.catch(4),t.t0.name!==n.BREAK){t.next=13;break}return t.abrupt("break",19);case 13:if(t.t0.name!==n.CONTINUE){t.next=15;break}return t.abrupt("continue",16);case 15:throw t.t0;case 16:o++,t.next=1;break;case 19:case"end":return t.stop()}},t,null,[[4,9]])}));return function(e,r){return t.apply(this,arguments)}}()},{key:"loopFinitely",value:function(){var e=s.a(u.a.mark(function e(t,r){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!((n=Number(r))>0)){e.next=4;break}return e.next=4,this.loop(t,n);case 4:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()},{key:"loopInfinitely",value:function(){var e=s.a(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loop(t,-1);case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"waitUntil",value:function(){var e=s.a(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loopConditionally(function(){},s.a(u.a.mark(function e(){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:return r=e.sent,e.abrupt("return",!r);case 4:case"end":return e.stop()}},e)})));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}],[{key:"sleep",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.DEFAULT_SLEEP_DURATION;return new Promise(function(r){setTimeout(r,Math.min(t,e.MAX_TIMEOUT))})}}]),e}();b.DEFAULT_SLEEP_DURATION=10,b.MAX_TIMEOUT=Math.pow(2,31)-1;const y=b},19034:(e,t,r)=>{r.r(t),r.d(t,{a:()=>I,b:()=>_,c:()=>y,d:()=>b,default:()=>N,e:()=>x});const n=r(7452);var a,o,i=(o=(a=n)&&a.__esModule?function(){return a.default}:function(){return a},Object.defineProperty(o,"a",{enumerable:!0,get:o}),o);const u=r(21009),s=r(5197),c=r(24842),d=r(59196),l=r(30691),f=r(2536),p=r(81324),g=r(79955),v=r(50047),h=r(91264),m=r(93833);function b(){Object.keys(m.h()).forEach(function(e){y(e)})}function y(e){s.Blink.mainWorkspace.register_toolbox_category_callback(e,function(){var t=m.g.getToolbox(),r=I();return t&&r?w(e,r,!1):[]}),s.Blink.mainWorkspace.register_toolbox_category_callback("ANY_"+e,function(){return m.g.getToolbox()?w(e,"",!0):[]})}function _(e){var t,r=l.d.dispatch;d.register_procedure_blocks(s.Blink,e,(t=u.a(i.a.mark(function t(n){var a,o,u;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e(),o=a.get_procedure_by_def(n)){t.next=4;break}return t.abrupt("return");case 4:return u=o.name,t.abrupt("return",new Promise(function(e){r(f.lj({title:"procedureDialogTitle",defaultValue:u,placeholder:"procedureDialogPlaceholder",maxLength:20,validator:function(e){if(""===e)return"emptyProcedureName";var t=a.get_occupied_procedure_names();return t.splice(t.indexOf(u),1),t.includes(e)?"procedureNameExists":e[0].match(/[0-9_]/)?"invalidVariableFirstChar":p.j(e)?["函数","函數","function"].includes(e)?"preservedProcedureName":void 0:"invalidVariableName"},confirmCallback:function(t){t!==u&&e(t),e(void 0)},cancelCallback:function(){return e(void 0)}}))}));case 6:case"end":return t.stop()}},t)})),function(e){return t.apply(this,arguments)}),function(){var t=u.a(i.a.mark(function t(n){var a,o;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e(),o=a.get_procedure_by_def(n)){t.next=4;break}throw Error("Trying to add param to undefined procedure");case 4:return t.abrupt("return",new Promise(function(e){r(f.lj({title:"parameterDialogTitle",placeholder:"parameterDialogPlaceholder",maxLength:20,validator:function(e){return""===e?"emptyParameterName":o.params.find(function(t){return t.param_name===e})?"parameterExists":e[0].match(/[0-9_]/)?"invalidVariableFirstChar":p.j(e)?void 0:"invalidVariableName"},confirmCallback:function(t){return e({param_name:t,default_value:void 0})},cancelCallback:function(){return e(void 0)}}))}));case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),s.Blink.mainWorkspace.register_toolbox_category_callback("PROCEDURE",function(){return e().get_all_procedures_xml()}),c.register_default_procedure_events(s.Blink.mainWorkspace,e)}function w(e,t,r){var n=function(e,t,r){return g.Cb(e,t,r)}(e,t,r),a="<xml>";return n.forEach(function(e){a+=e}),a+="</xml>",Array.from(s.Blink.xml.text_to_dom(a).children)}var E="";function I(){return E}function x(e){E=e;var t=l.d.getState(),r=t.project.screens.get(t.project.currentScreenIndex),n=g.Fb(e)||h.d(e);v.a("BlockCategoryClick",{isCooperation:!!t.oTState.collWorkId,screenId:(null==r?void 0:r.id)||"",screenName:(null==r?void 0:r.title)||"",blockCategory:n})}const N=I},21958:(e,t,r)=>{var n=r(42811);n.prototype.toPostfix=function(){for(var e,t,r,a,o,i=[],u=[{value:"(",type:4,pre:0}],s=this.value,c=1;c<s.length;c++)if(1===s[c].type||3===s[c].type||13===s[c].type)1===s[c].type&&(s[c].value=Number(s[c].value)),i.push(s[c]);else if(4===s[c].type)u.push(s[c]);else if(5===s[c].type)for(;4!==(t=u.pop()).type;)i.push(t);else if(11===s[c].type){for(;4!==(t=u.pop()).type;)i.push(t);u.push(t)}else{a=(e=s[c]).pre,r=(o=u[u.length-1]).pre;var d="Math.pow"==o.value&&"Math.pow"==e.value;if(a>r)u.push(e);else{for(;r>=a&&!d||d&&a<r;)t=u.pop(),o=u[u.length-1],i.push(t),r=o.pre,d="Math.pow"==e.value&&"Math.pow"==o.value;u.push(e)}}return new n(i)},e.exports=n},24038:(e,t,r)=>{var n=r(21958);n.prototype.postfixEval=function(e){(e=e||{}).PI=Math.PI,e.E=Math.E;for(var t,r,a,o=[],i=this.value,u=void 0!==e.n,s=0;s<i.length;s++)1===i[s].type?o.push({value:i[s].value,type:1}):3===i[s].type?o.push({value:e[i[s].value],type:1}):0===i[s].type||7===i[s].type?void 0===o[o.length-1].type?o[o.length-1].value.push(i[s]):o[o.length-1].value=i[s].value(o[o.length-1].value):8===i[s].type?(t=o.pop(),r=o.pop(),o.push({type:1,value:i[s].value(r.value,t.value)})):10===i[s].type?(t=o.pop(),void 0===(r=o.pop()).type?(r.value=r.concat(t),r.value.push(i[s]),o.push(r)):void 0===t.type?(t.unshift(r),t.push(i[s]),o.push(t)):o.push({type:1,value:i[s].value(r.value,t.value)})):2===i[s].type||9===i[s].type?(t=o.pop(),void 0===(r=o.pop()).type?((r=r.concat(t)).push(i[s]),o.push(r)):void 0===t.type?(t.unshift(r),t.push(i[s]),o.push(t)):o.push({type:1,value:i[s].value(r.value,t.value)})):12===i[s].type?(void 0!==(t=o.pop()).type&&(t=[t]),r=o.pop(),a=o.pop(),o.push({type:1,value:i[s].value(a.value,r.value,new n(t))})):13===i[s].type&&(u?o.push({value:e[i[s].value],type:3}):o.push([i[s]]));if(o.length>1)throw new n.Exception("Uncaught Syntax error");return o[0].value>1e15?"Infinity":parseFloat(o[0].value.toFixed(15))},n.eval=function(e,t,r){return void 0===t?this.lex(e).toPostfix().postfixEval():void 0===r?void 0!==t.length?this.lex(e,t).toPostfix().postfixEval():this.lex(e).toPostfix().postfixEval(t):this.lex(e,t).toPostfix().postfixEval(r)},e.exports=n},24370:(e,t,r)=>{r.r(t),r.d(t,{a:()=>o,b:()=>n,c:()=>i,d:()=>a,default:()=>u});var n=new Map,a=new Map,o=new Map,i=new Map;const u=o},24842:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.register_default_procedure_events=void 0;var n=r(31635),a=r(53307),o=(0,n.__importStar)(r(31132)),i=r(18978),u=r(24042),s=r(88772),c=r(96361),d=r(41207);t.register_default_procedure_events=function(e,t){var r=(0,a.get_instance)().get(a.BINDING.events),n=(0,a.get_instance)().get(a.BINDING.ChangeEvent);e.add_custom_change_event("procedure_rename",function(a){var o=(0,u.is_func)(t)?t():t,d=this.get_old_value(),l=this.get_new_value(),f=this.get_block_id();(0,i.assert)("string"==typeof d),(0,i.assert)("string"==typeof l);var p=e.get_block_by_id(f);(0,i.assert)(p);var g=o.get_procedure_name_by_def(f),v=a?l:d,h=(0,c.get_legal_procedure_name)(v,o.get_occupied_procedure_names());r.disable(),o.rename_procedure(g,h);var m=p.get_field("NAME");m&&m.set_value(h),r.enable(),r.fire(n("procedure_rename",{block:p,old_value:g,new_value:h,name:s.PROCEDURE_BLOCK_FIELD_NAMES.PROCEDURE_NAME}))}),e.add_custom_change_event("change_procedure_param",function(a){var o,c,d,l,f=(0,u.is_func)(t)?t():t,p=this.get_old_value(),g=this.get_new_value(),v=this.get_block_id(),h=a?g:p,m=a?p:g,b=e.get_block_by_id(v);(0,i.assert)(b);var y=f.get_procedure_by_def(v);if((0,i.assert)(y),r.disable(),void 0===m&&"object"==typeof h){if(null!==(o=b.addMutation)&&void 0!==o&&o.call(b,h.param_name),void 0!==h.default_value){var _=y.params.length,w=null===(d=null===(c=b.get_input(""+s.PROCEDURE_BLOCK_INPUT_NAMES.PARAM_PREFIX+_))||void 0===c?void 0:c.connection)||void 0===d?void 0:d.targetBlock();(0,i.assert)(w),w.set_field_value("="+h.default_value,s.PROCEDURE_BLOCK_FIELD_NAMES.PARAM_DEFAULT_VALUE)}}else void 0===h&&"object"==typeof m&&null!==(l=b.removeMutation)&&void 0!==l&&l.call(b);r.enable(),r.fire(n("change_procedure_param",{block:b,old_value:m,new_value:h}))});var l=function(t){e.add_change_listener(function r(n){n.type!==o.BlockEventType.END_DRAG&&n.type!==o.BlockEventType.DELETE||(setTimeout(function(){t(n)}),e.remove_change_listener(r))})},f=function(a,c){if(!c||c.type!==o.BlockEventType.DELETE){var d=e.get_block_by_id(a.get_block_id());if(d){var l=r.is_record_undo();r.set_record_undo(!1);var f=(0,u.is_func)(t)?t():t;if(d.type===s.PROCEDURE_BLOCK_TYPES.DEF){var p=f.load_def_from_block(d);(0,i.assert)(p),r.disable();var g=d.get_field(s.PROCEDURE_BLOCK_FIELD_NAMES.PROCEDURE_NAME),v=null==g?void 0:g.get_value();(0,i.assert)(g),g.set_value(p.name),r.enable(),v!==p.name&&r.fire(n("procedure_rename",{block:d,old_value:v||"",new_value:p.name,name:s.PROCEDURE_BLOCK_FIELD_NAMES.PROCEDURE_NAME})),f.update_callers_disabled(e,p.def_id)}d.get_descendants(!1,!0).forEach(function(e){if(e.type===s.PROCEDURE_BLOCK_TYPES.CALL_RETURN||e.type===s.PROCEDURE_BLOCK_TYPES.CALL_NORETURN){var t=f.load_caller_from_block(e);(0,i.assert)(t);var r=f.get_procedure_by_caller_id(e.id);(0,i.assert)(r);var n=e.get_field(s.PROCEDURE_BLOCK_FIELD_NAMES.PROCEDURE_NAME);(0,i.assert)(n),n.set_value(r.name),e.set_disabled(r.disabled||e.type===s.PROCEDURE_BLOCK_TYPES.CALL_RETURN&&0===r.return_count)}}),r.set_record_undo(l)}}};e.add_change_listener(function(n){var a=r.is_record_undo();switch(r.set_record_undo(!1),n.type){case o.BlockEventType.CREATE:r.is_undoing()||"flyout:drag"!==n.source?f(n):l(f.bind(n,n));break;case o.BlockEventType.DELETE:!function(r){var n=(0,u.is_func)(t)?t():t;if(r.old_xml.getAttribute("type")===s.PROCEDURE_BLOCK_TYPES.DEF){var a=n.delete_procedure_def(r.get_block_id());if(!a)return;n.update_callers_disabled(e,a.def_id)}var o=function(e){if("block"===e.tagName.toLowerCase()){var t=e.getAttribute("type"),r=e.getAttribute("id");(0,i.assert)(t),(0,i.assert)(r),t!==s.PROCEDURE_BLOCK_TYPES.CALL_RETURN&&t!==s.PROCEDURE_BLOCK_TYPES.CALL_NORETURN||n.delete_caller(r)}};o(r.old_xml),Array.from(r.old_xml.querySelectorAll("block")).forEach(o)}(n);break;case o.BlockEventType.MOVE:!function(n){var a=n.get_old_loc(),o=n.get_new_loc();if(a.input_name||a.parent_id||o.input_name||o.parent_id){var c=[],d=e.get_block_by_id(n.get_block_id());if(d){var f=(0,u.is_func)(t)?t():t,p=d.get_descendants(!1,!0).filter(function(e){return e.type===s.PROCEDURE_BLOCK_TYPES.RETURN&&e.get_input("VALUE")}).length;if(!(p<1)){var g=function(t){var r=t&&e.get_block_by_id(t),n=r&&r.get_top_parent();if(n&&(0,u.is_block_svg)(n)&&n.type===s.PROCEDURE_BLOCK_TYPES.DEF)return n.id},v=g(n.get_old_loc().parent_id);v&&c.push(function(){var t=f.get_procedure_by_def(v);(0,i.assert)(t),f.change_return_count(t.name,-1*p),0===t.return_count&&f.update_callers_disabled(e,t.def_id)});var h=g(n.get_new_loc().parent_id);h&&c.push(function(){var t=f.get_procedure_by_def(h);if(t){var r=t.return_count;f.change_return_count(t.name,p),0===r&&t.return_count>0&&f.update_callers_disabled(e,t.def_id)}});var m=function(){var e=r.is_record_undo();r.set_record_undo(!1),c.forEach(function(e){return e()}),r.set_record_undo(e)};!r.is_undoing()&&e.is_dragging()?l(m):m()}}}}(n);break;case o.BlockEventType.CHANGE:!function(r){var n=e.get_block_by_id(r.get_block_id()||"");if(r.type===o.BlockEventType.CHANGE&&n){var a=(0,u.is_func)(t)?t():t;if(n.type===s.PROCEDURE_BLOCK_TYPES.RETURN){var c=n.get_top_parent();if(c&&(0,u.is_block_svg)(c)&&c.type!==s.PROCEDURE_BLOCK_TYPES.DEF)return;var d=a.get_procedure_by_def(c.id);(0,i.assert)(d),"mutation"===r.element&&(void 0!==r.get_new_value()?(a.change_return_count(d.name,1),d.return_count>0&&a.update_callers_disabled(e,d.def_id)):void 0!==r.get_old_value()&&(a.change_return_count(d.name,-1),0===d.return_count&&a.update_callers_disabled(e,d.def_id)))}if(n.type===s.PROCEDURE_BLOCK_TYPES.DEF){if("change_procedure_param"===r.element){var l=r.get_old_value(),f=r.get_new_value();if(d=a.get_procedure_by_def(r.get_block_id()),(0,i.assert)(d,"Trying to edit param on in-existing procedure"),"object"==typeof f&&void 0===l){var p=f;a.add_param(d.name,p.param_name,p.default_value),a.update_params(e,d.name,"increase",p)}else"object"==typeof l&&void 0===f&&(p=l,a.delete_param(d.name,p.param_name),a.update_params(e,d.name,"decrease",p));return}"procedure_rename"===r.element&&(l=r.get_old_value(),f=r.get_new_value(),(0,i.assert)("string"==typeof l),(0,i.assert)("string"==typeof f),a.update_procedure_name(e,l,f))}}}(n)}r.set_record_undo(a)}),e.set_pre_paste(function(e,r,n,a){var o=(0,u.is_func)(t)?t():t;return a||(e=(0,d.load_from_xml)(o,e,!0)),{xml_block:e,mouse_position:r,is_move_to_default:n}}),e.set_pre_paste_extend(function(e,r,n){var a=(0,u.is_func)(t)?t():t,o=document.createElement("xml");return e.forEach(function(e){return o.appendChild(e)}),{xml_blocks:e=Array.from((0,d.load_from_xml)(a,o,!0).children),mouse_position:r,is_move_to_default:n}})}},32462:(e,t,r)=>{r.r(t),r.d(t,{a:()=>N,b:()=>x,default:()=>O});var n={};Object.defineProperty(n,"borderColorEnhance",{get:function(){return v}}),Object.defineProperty(n,"backgroundColorEnhance",{get:function(){return h}}),Object.defineProperty(n,"defaultContainedError",{get:function(){return m}}),Object.defineProperty(n,"defaultOutlineError",{get:function(){return b}});var a={};Object.defineProperty(a,"buttonPress",{get:function(){return _}});var o={};Object.defineProperty(o,"checkNormal",{get:function(){return w}});const i=r(54176),u=r(48096),s=r(3631),c=r(22776),d=r(20590);var l,f,p,g=(f=(l=d)&&l.__esModule?function(){return l.default}:function(){return l},Object.defineProperty(f,"a",{enumerable:!0,get:f}),f);function v(e,t){return[c.default({targets:"#".concat(e),borderColor:g()(t).darken(.3).hex(),duration:2e3})]}function h(e,t){return[c.default({targets:"#".concat(e),backgroundColor:g()(t).darken(.3).alpha(.1).rgb().string(),duration:2e3})]}function m(e){return[c.default({targets:"#".concat(e," input"),translateX:[-4,4,-2,2,-1,1,0],duration:300,easing:"linear"})]}function b(e){return[c.default({targets:"#".concat(e," input"),translateX:[-4,4,-2,2,-1,1,0],duration:300,easing:"linear"})]}const y=r(41108);function _(e,t){var r=document.querySelectorAll("#".concat(e," .radio-widget-button"))[t];return r?[c.default({targets:r,scale:[{value:.95,duration:100},{value:1,duration:200}]})]:[]}function w(e,t){var r=document.querySelectorAll("#".concat(e," .checkbox-widget-box "))[t];return r?[c.default({targets:r.querySelector("svg"),scale:[.8,1.2],duration:500})]:[]}p={},u.a(p,s.w,n),u.a(p,s.d,y),u.a(p,s.C,a),u.a(p,s.g,o);var E=p,I=new Map;function x(e,t,r){N(e);var n=E[t];if(r&&n&&r in n){for(var a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];var s=n[r].apply(n,[e].concat(o));I.set(e,[].concat(i.a(I.get(e)||[]),i.a(s)))}}function N(e){var t=I.get(e);t&&t.reverse().forEach(function(e){return e.reset()}),I.set(e,[])}const O=N},33837:(e,t,r)=>{r.r(t),r.d(t,{a:()=>u,b:()=>c,c:()=>s,d:()=>l,default:()=>f,e:()=>d,f:()=>i,g:()=>o,h:()=>a,i:()=>n});var n=40,a=40,o=1800,i=3200,u="#FFFFFFFF",s=300,c=300,d=!1,l=!1;const f=u},37873:(e,t,r)=>{r.r(t),r.d(t,{a:()=>i,default:()=>f});const n=r(64858),a=r(4672),o=r(43639);function i(e){var t={r:0,g:0,b:0},r=1,i=null,u=null,s=null,c=!1,f=!1;return"string"==typeof e&&(e=function(e){if(0===(e=e.trim().toLowerCase()).length)return!1;var t=!1;if(a.a[e])e=a.a[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var r=d.rgb.exec(e);return r?{r:r[1],g:r[2],b:r[3]}:(r=d.rgba.exec(e))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=d.hsl.exec(e))?{h:r[1],s:r[2],l:r[3]}:(r=d.hsla.exec(e))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=d.hsv.exec(e))?{h:r[1],s:r[2],v:r[3]}:(r=d.hsva.exec(e))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=d.hex8.exec(e))?{r:n.e(r[1]),g:n.e(r[2]),b:n.e(r[3]),a:n.a(r[4]),format:t?"name":"hex8"}:(r=d.hex6.exec(e))?{r:n.e(r[1]),g:n.e(r[2]),b:n.e(r[3]),format:t?"name":"hex"}:(r=d.hex4.exec(e))?{r:n.e(r[1]+r[1]),g:n.e(r[2]+r[2]),b:n.e(r[3]+r[3]),a:n.a(r[4]+r[4]),format:t?"name":"hex8"}:!!(r=d.hex3.exec(e))&&{r:n.e(r[1]+r[1]),g:n.e(r[2]+r[2]),b:n.e(r[3]+r[3]),format:t?"name":"hex"}}(e)),"object"==typeof e&&(l(e.r)&&l(e.g)&&l(e.b)?(t=n.i(e.r,e.g,e.b),c=!0,f="%"===String(e.r).substr(-1)?"prgb":"rgb"):l(e.h)&&l(e.s)&&l(e.v)?(i=o.d(e.s),u=o.d(e.v),t=n.c(e.h,i,u),c=!0,f="hsv"):l(e.h)&&l(e.s)&&l(e.l)&&(i=o.d(e.s),s=o.d(e.l),t=n.b(e.h,i,s),c=!0,f="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(r=e.a)),r=o.b(r),{ok:c,format:e.format||f,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:r}}var u="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",s="[\\s|\\(]+("+u+")[,|\\s]+("+u+")[,|\\s]+("+u+")\\s*\\)?",c="[\\s|\\(]+("+u+")[,|\\s]+("+u+")[,|\\s]+("+u+")[,|\\s]+("+u+")\\s*\\)?",d={CSS_UNIT:new RegExp(u),rgb:new RegExp("rgb"+s),rgba:new RegExp("rgba"+c),hsl:new RegExp("hsl"+s),hsla:new RegExp("hsla"+c),hsv:new RegExp("hsv"+s),hsva:new RegExp("hsva"+c),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function l(e){return Boolean(d.CSS_UNIT.exec(String(e)))}const f=i},41010:(e,t,r)=>{r.r(t),r.d(t,{a:()=>s,b:()=>u,c:()=>d,d:()=>p,default:()=>y,e:()=>c,f:()=>l,g:()=>f,h:()=>g,i:()=>b,j:()=>v,k:()=>h,l:()=>m});const n=r(78698),a=r(70817),o=r(51912),i=r(53067);function u(e){return a.a().getState().widgetMap.get(e)}function s(e){var t=a.a().getState().widgetMap.get(e);if(t&&t.parentId)return a.a().getState().widgetMap.get(t.parentId)}function c(e){var t;return null===(t=u(e))||void 0===t?void 0:t.position}function d(e){var t;return null===(t=u(e))||void 0===t?void 0:t.animationRecord}function l(e){var t;return null===(t=u(e))||void 0===t?void 0:t.size}function f(e){var t;return null===(t=u(e))||void 0===t?void 0:t.visible}function p(e){var t;return null===(t=u(e))||void 0===t?void 0:t.attributes}function g(e,t){var r=u(e);if(r){var i=n.a(n.a({},r),{},{attributes:n.a(n.a({},r.attributes),t)});a.a().dispatch(o.v(e,i))}}function v(e,t){var r=u(e);if(r){if(void 0!==t.x){if(!i.a.isNumber(t.x,{type:"error",widgetId:e,messageId:"argNotNumber",values:{name:"X坐标"}}))return;t.x=Math.round(t.x)}if(void 0!==t.y){if(!i.a.isNumber(t.y,{type:"error",widgetId:e,messageId:"argNotNumber",values:{name:"Y坐标"}}))return;t.y=Math.round(t.y)}a.a().dispatch(o.v(e,n.a(n.a({},r),{},{position:n.a(n.a({},r.position),t)})))}else console.error("updateWidgetPosition error, widget is undefined")}function h(e,t){var r=u(e);if(r){var s=n.a({},r.attributes);if(void 0!==t.height){if(!i.a.isNumber(t.height,{type:"error",widgetId:e,messageId:"argNotNumber",values:{name:"高度"}}))return;if(t.height=Math.round(t.height),t.height<0)return void i.a.log({type:"warning",widgetId:e,messageId:"valueOutOfRange"})}if(void 0!==t.width){if(!i.a.isNumber(t.width,{type:"error",widgetId:e,messageId:"argNotNumber",values:{name:"宽度"}}))return;if(t.width=Math.round(t.width),t.width<0)return void i.a.log({type:"warning",widgetId:e,messageId:"valueOutOfRange"})}a.a().dispatch(o.v(e,n.a(n.a({},r),{},{attributes:n.a({},s),size:n.a(n.a({},r.size),t)})))}else console.error("updateWidgetSize error, widget is undefined")}function m(e,t){var r=u(e);r&&a.a().dispatch(o.v(e,n.a(n.a({},r),{},{visible:t})))}function b(e,t){var r=u(e);r&&a.a().dispatch(o.v(e,n.a(n.a({},r),{},{opacity:t})))}const y=s},41207:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.delete_from_xml=t.rename_procedures_in_xml=t.load_from_xml=void 0;var n=r(18978),a=r(88772),o=r(96361);function i(e,t){var r=function(e){if("block"===e.tagName.toLowerCase()){var r=e.getAttribute("type");if(r!==a.PROCEDURE_BLOCK_TYPES.DEF){if((r===a.PROCEDURE_BLOCK_TYPES.CALL_NORETURN||r===a.PROCEDURE_BLOCK_TYPES.CALL_RETURN)&&(i=(o=e.querySelector('field[name="NAME"]'))&&o.textContent,o&&i&&t[i])){o.textContent=t[i];var n=e.querySelector("mutation");n&&n.setAttribute("name",t[i])}}else{var o,i=(o=e.querySelector('field[name="NAME"]'))&&o.textContent;o&&i&&t[i]&&(o.textContent=t[i])}}};return r(e),Array.from(e.querySelectorAll("block")).forEach(r),e}t.load_from_xml=function(e,t,r){var u=Array.from(t.querySelectorAll("block"));"block"===t.tagName.toLowerCase()&&u.unshift(t);var s={},c={};if(u.forEach(function(t){var o=t.getAttribute("type");if(o===a.PROCEDURE_BLOCK_TYPES.DEF){var i=t.getAttribute("id");(0,n.assert)(i);var u=(g=t.querySelector('field[name="'+a.PROCEDURE_BLOCK_FIELD_NAMES.PROCEDURE_NAME+'"]'))&&g.textContent;(0,n.assert)(u);var d=Array.from(t.querySelectorAll('block[type="'+a.PROCEDURE_BLOCK_TYPES.PARAM_ON_BLOCK+'"]')).map(function(e){var t=e.querySelector('field[name="'+a.PROCEDURE_BLOCK_FIELD_NAMES.PARAM_NAME+'"]');(0,n.assert)(t&&t.textContent,"No name field or name on block parameter. ");var r=e.querySelector('field[name="'+a.PROCEDURE_BLOCK_FIELD_NAMES.PARAM_DEFAULT_VALUE+'"]');return{param_name:t.textContent,default_value:(null==r?void 0:r.textContent)||void 0}}),l=t.querySelector('statement[name="'+a.PROCEDURE_BLOCK_INPUT_NAMES.DEF_STATEMENT+'"]'),f=l&&l.querySelectorAll('block[type="'+a.PROCEDURE_BLOCK_TYPES.RETURN+'"]>mutation[items="1"]').length||0;if(!r){var p=e.add_procedure_def(u,i);return p.params=d,p.return_count=f,void(g&&p.name!==u&&(g.textContent=p.name))}return(v=s[u])||(v={def_id:i,disabled:!0,name:u,base_name:u,params:[],callers_id:[],return_count:0,valid:!0,created_timestamp:Date.now()},s[u]=v),v.def_id=i,v.disabled=!1,v.params=d,void(v.return_count=f)}if(o===a.PROCEDURE_BLOCK_TYPES.CALL_NORETURN||o===a.PROCEDURE_BLOCK_TYPES.CALL_RETURN){var g,v;if(i=t.getAttribute("id"),(0,n.assert)(i),u=(g=t.querySelector('field[name="NAME"]'))&&g.textContent,(0,n.assert)(u),d=Array.from(t.querySelectorAll("mutation>procedures_2_parameter_shadow")).map(function(e){return{param_name:e.getAttribute("name")||""}}),!r){if(!e.get_procedure_by_name(u)){var h=e.add_procedure_def(u,"");h.params=d,h.disabled=!0}return void e.add_caller(u,i,o===a.PROCEDURE_BLOCK_TYPES.CALL_RETURN?"call_return":"call")}if(!(v=s[u])){var m=t.querySelector("mutation");v={def_id:m&&m.getAttribute("def_id")||"",disabled:!0,name:u,base_name:u,params:d,callers_id:[],return_count:0,valid:!0,created_timestamp:Date.now()},s[u]=v}return c[i]={id:i,proc_name:u,call_type:o===a.PROCEDURE_BLOCK_TYPES.CALL_RETURN?"call_return":"call",disabled:!1},void v.callers_id.push(i)}}),!r)return t;var d=(0,o.add_procedure_and_generate_rename_map)({procedure_manager:e,procedure_to_add:s,callers_to_add:c});return 0===Object.keys(d).length?t:i(t,d)},t.rename_procedures_in_xml=i,t.delete_from_xml=function(e,t){var r=[],o=function(t){var o=t.getAttribute("type");if(o!==a.PROCEDURE_BLOCK_TYPES.DEF)o!==a.PROCEDURE_BLOCK_TYPES.CALL_NORETURN&&o!==a.PROCEDURE_BLOCK_TYPES.CALL_RETURN||(i=t.getAttribute("id"),(0,n.assert)(i),e.delete_caller(i));else{var i=t.getAttribute("id");(0,n.assert)(i);var u=e.delete_procedure_def(i);u&&r.push(u.def_id)}};return o(t),Array.from(t.querySelectorAll("block")).forEach(o),r}},42811:(e,t,r)=>{var n=r(83816);function a(e,t){for(var r=0;r<e.length;r++)e[r]+=t;return e}var o=["sin","cos","tan","pi","(",")","P","C"," ","asin","acos","atan","7","8","9","int","cosh","acosh","ln","^","root","4","5","6","/","!","tanh","atanh","Mod","1","2","3","*","sinh","asinh","e","log","0",".","+","-",",","Sigma","n","Pi","pow"],i=["sin","cos","tan","&pi;","(",")","P","C"," ","asin","acos","atan","7","8","9","Int","cosh","acosh"," ln","^","root","4","5","6","&divide;","!","tanh","atanh"," Mod ","1","2","3","&times;","sinh","asinh","e"," log","0",".","+","-",",","&Sigma;","n","&Pi;","pow"],u=[n.math.sin,n.math.cos,n.math.tan,"PI","(",")",n.math.P,n.math.C," ".anchor,n.math.asin,n.math.acos,n.math.atan,"7","8","9",Math.floor,n.math.cosh,n.math.acosh,Math.log,Math.pow,Math.sqrt,"4","5","6",n.math.div,n.math.fact,n.math.tanh,n.math.atanh,n.math.mod,"1","2","3",n.math.mul,n.math.sinh,n.math.asinh,"E",n.math.log,"0",".",n.math.add,n.math.sub,",",n.math.sigma,"n",n.math.Pi,Math.pow],s={0:11,1:0,2:3,3:0,4:0,5:0,6:0,7:11,8:11,9:1,10:10,11:0,12:11,13:0,14:-1},c=[0,0,0,3,4,5,10,10,14,0,0,0,1,1,1,0,0,0,0,10,0,1,1,1,2,7,0,0,2,1,1,1,2,0,0,3,0,1,6,9,9,11,12,13,12,8],d={0:!0,1:!0,3:!0,4:!0,6:!0,8:!0,9:!0,12:!0,13:!0,14:!0},l={0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0,10:!0,11:!0,12:!0,13:!0},f={0:!0,3:!0,4:!0,8:!0,12:!0,13:!0},p={},g={0:!0,1:!0,3:!0,4:!0,6:!0,8:!0,12:!0,13:!0},v={1:!0},h=[[],["1","2","3","7","8","9","4","5","6","+","-","*","/","(",")","^","!","P","C","e","0",".",",","n"," "],["pi","ln","Pi"],["sin","cos","tan","Del","int","Mod","log","pow"],["asin","acos","atan","cosh","root","tanh","sinh"],["acosh","atanh","asinh","Sigma"]];function m(e,t,r,n){for(var a=0;a<n;a++)if(e[r+a]!==t[a])return!1;return!0}n.addToken=function(e){for(var t=0;t<e.length;t++){var r=e[t].token.length,n=-1;h[r]=h[r]||[];for(var a=0;a<h[r].length;a++)if(e[t].token===h[r][a]){n=o.indexOf(h[r][a]);break}-1===n?(o.push(e[t].token),c.push(e[t].type),h.length<=e[t].token.length&&(h[e[t].token.length]=[]),h[e[t].token.length].push(e[t].token),u.push(e[t].value),i.push(e[t].show)):(o[n]=e[t].token,c[n]=e[t].type,u[n]=e[t].value,i[n]=e[t].show)}},n.lex=function(e,t){var r,b={value:n.math.changeSign,type:0,pre:21,show:"-"},y={value:")",show:")",type:5,pre:0},_={value:"(",type:4,pre:0,show:"("},w=[_],E=[],I=e,x=d,N=0,O=p,S="";void 0!==t&&n.addToken(t);var R={},k=function(e){for(var t,r,a,d=[],l=e.length,f=0;f<l;f++)if(!(f<l-1&&" "===e[f]&&" "===e[f+1])){for(t="",r=e.length-f>h.length-2?h.length-1:e.length-f;r>0;r--)if(void 0!==h[r])for(a=0;a<h[r].length;a++)m(e,h[r][a],f,r)&&(t=h[r][a],a=h[r].length,r=0);if(f+=t.length-1,""===t)throw new n.Exception("Can't understand after "+e.slice(f));var p=o.indexOf(t);d.push({index:p,token:t,type:c[p],eval:u[p],precedence:s[c[p]],show:i[p]})}return d}(I);for(r=0;r<k.length;r++){var A=k[r];if(14!==A.type){var C;A.index;var M=A.token,T=A.type,P=A.eval,D=A.precedence,L=A.show,j=w[w.length-1];for(C=E.length;C--&&0===E[C];)if(-1!==[0,2,3,4,5,9,11,12,13].indexOf(T)){if(!0!==x[T])throw console.log(e,A,k,x),new n.Exception(M+" is not allowed after "+S);w.push(y),x=l,O=g,a(E,-1).pop()}if(!0!==x[T])throw new n.Exception(M+" is not allowed after "+S);if(!0===O[T]&&(T=2,P=n.math.mul,L="&times;",D=3,r-=M.length),R={value:P,type:T,pre:D,show:L},0===T)x=d,O=p,a(E,2).push(2),w.push(R),w.push(_);else if(1===T)1===j.type?(j.value+=P,a(E,1)):w.push(R),x=l,O=f;else if(2===T)x=d,O=p,a(E,2),w.push(R);else if(3===T)w.push(R),x=l,O=g;else if(4===T)a(E,1),N++,x=d,O=p,w.push(R);else if(5===T){if(!N)throw new n.Exception("Closing parenthesis are more than opening one, wait What!!!");N--,x=l,O=g,w.push(R),a(E,1)}else if(6===T){if(j.hasDec)throw new n.Exception("Two decimals are not allowed in one number");1!==j.type&&(j={value:0,type:1,pre:0},w.push(j),a(E,-1)),x=v,a(E,1),O=p,j.value+=P,j.hasDec=!0}else 7===T&&(x=l,O=g,a(E,1),w.push(R));8===T?(x=d,O=p,a(E,4).push(4),w.push(R),w.push(_)):9===T?(9===j.type?j.value===n.math.add?(j.value=P,j.show=L,a(E,1)):j.value===n.math.sub&&"-"===L&&(j.value=n.math.add,j.show="+",a(E,1)):5!==j.type&&7!==j.type&&1!==j.type&&3!==j.type&&13!==j.type?"-"===M&&(x=d,O=p,a(E,2).push(2),w.push(b),w.push(_)):(w.push(R),a(E,2)),x=d,O=p):10===T?(x=d,O=p,a(E,2),w.push(R)):11===T?(x=d,O=p,w.push(R)):12===T?(x=d,O=p,a(E,6).push(6),w.push(R),w.push(_)):13===T&&(x=l,O=g,w.push(R)),a(E,-1),S=M}else if(r>0&&r<k.length-1&&1===k[r+1].type&&(1===k[r-1].type||6===k[r-1].type))throw new n.Exception("Unexpected Space")}for(C=E.length;C--&&0===E[C];)w.push(y),a(E,-1).pop();if(!0!==x[5])throw new n.Exception("complete the expression");for(;N--;)w.push(y);return w.push(y),new n(w)},e.exports=n},43848:(e,t,r)=>{r.r(t),r.d(t,{a:()=>l,default:()=>v});const n=r(64858),a=r(37873);var o=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function i(e){var t=e.r,r=e.g,a=e.b,o=n.h(t,r,a);return{h:360*o.h,s:o.s,v:o.v}}function u(e){var t=e.r,r=e.g,a=e.b;return"#".concat(n.f(t,r,a,!1))}function s(e,t,r){var n;return(n=Math.round(e.h)>=60&&Math.round(e.h)<=240?r?Math.round(e.h)-2*t:Math.round(e.h)+2*t:r?Math.round(e.h)+2*t:Math.round(e.h)-2*t)<0?n+=360:n>=360&&(n-=360),n}function c(e,t,r){return 0===e.h&&0===e.s?e.s:((n=r?e.s-.16*t:4===t?e.s+.16:e.s+.05*t)>1&&(n=1),r&&5===t&&n>.1&&(n=.1),n<.06&&(n=.06),Number(n.toFixed(2)));var n}function d(e,t,r){var n;return(n=r?e.v+.05*t:e.v-.15*t)>1&&(n=1),Number(n.toFixed(2))}function l(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[],n=a.a(e),l=5;l>0;l-=1){var f=i(n),p=u(a.a({h:s(f,l,!0),s:c(f,l,!0),v:d(f,l,!0)}));r.push(p)}r.push(u(n));for(var g=1;g<=4;g+=1){var v=i(n),h=u(a.a({h:s(v,g),s:c(v,g),v:d(v,g)}));r.push(h)}return"dark"===t.theme?o.map(function(e){var n=e.index,o=e.opacity;return u(function(e,t,r){var n=r/100;return{r:(t.r-e.r)*n+e.r,g:(t.g-e.g)*n+e.g,b:(t.b-e.b)*n+e.b}}(a.a(t.backgroundColor||"#141414"),a.a(r[n]),100*o))}):r}var f={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},p={},g={};Object.keys(f).forEach(function(e){p[e]=l(f[e]),p[e].primary=p[e][5],g[e]=l(f[e],{theme:"dark",backgroundColor:"#141414"}),g[e].primary=g[e][5]}),p.red,p.volcano,p.gold,p.orange,p.yellow,p.lime,p.green,p.cyan,p.blue,p.geekblue,p.purple,p.magenta,p.grey;const v=l},48588:(e,t,r)=>{r.r(t),r.d(t,{AsyncScheduler:()=>n.a,AudioPlayer:()=>o.a,ECompareNumbersType:()=>o.b,EComplexMathOperationType:()=>o.c,EEventType:()=>a.a,ELogicOperatorType:()=>o.d,EMathNumberPropertyType:()=>o.e,EMathOperatorType:()=>o.f,EMathRoundType:()=>o.g,EMathTrigType:()=>o.h,TableDataSynchronizeIndexedDB:()=>o.i,actorFaceTo:()=>o.j,actorMoveBackward:()=>o.k,actorMoveForward:()=>o.l,actorMoveTo:()=>o.m,actorMoveToPosition:()=>o.n,actorPlayAction:()=>o.o,actorPlayActionAndWait:()=>o.p,actorRotate:()=>o.q,actorRotateAround:()=>o.r,actorRotateBackward:()=>o.s,actorSetPositionX:()=>o.t,actorSetPositionY:()=>o.u,actorSetRotation:()=>o.v,actorStopAction:()=>o.w,addEventListener:()=>a.b,addWidgetInstance:()=>o.x,argsOnActorPressHold:()=>a.c,argsOnCanvasPress:()=>a.d,argsOnCanvasPressHold:()=>a.e,argsOnCanvasPressIn:()=>a.f,argsOnCanvasPressOut:()=>a.g,argsOnCheckboxWidgetChange:()=>a.h,argsOnCheckboxWidgetSelected:()=>a.i,argsOnCheckboxWidgetUnselected:()=>a.j,argsOnCloudDocumentError:()=>a.k,argsOnDatePickerSelectDone:()=>a.l,argsOnHttpClientError:()=>a.m,argsOnHttpClientSuccess:()=>a.n,argsOnRadioWidgetSelected:()=>a.o,argsOnRoomMemberJoin:()=>a.p,argsOnRoomMemberLeave:()=>a.q,argsOnRoomMessage:()=>a.r,argsOnScreenPress:()=>a.s,argsOnScreenPressHold:()=>a.t,argsOnScreenPressIn:()=>a.u,argsOnScreenPressOut:()=>a.v,argsOnSliderWidgetChange:()=>a.w,argsOnSliderWidgetEndToSlide:()=>a.x,argsOnSliderWidgetStartToSlide:()=>a.y,argsOnSwitchWidgetChange:()=>a.z,argsOnTimePickerSelectDone:()=>a.A,asyncCheckIfAppReady:()=>a.B,audioChangeRate:()=>o.y,audioChangeVolume:()=>o.z,audioPauseSound:()=>o.A,audioPlaySound:()=>o.B,audioSetRate:()=>o.C,audioSetSoundFile:()=>o.D,audioSetVolume:()=>o.E,audioStopSound:()=>o.F,brightness:()=>o.G,brushDrawArc:()=>o.H,brushDrawArcCurrentPosition:()=>o.I,brushDrawCircle:()=>o.J,brushDrawCircleCurrentPosition:()=>o.K,brushDrawLine:()=>o.L,brushDrawPoint:()=>o.M,brushDrawPolygon:()=>o.N,brushDrawPolygonCurrentPosition:()=>o.O,calculateGridColumnDifference:()=>o.P,calculateMathExpression:()=>o.Q,callMethod:()=>o.R,canvasToDataUrl:()=>o.S,changeActorOpacity:()=>o.T,changeActorPositionX:()=>o.U,changeActorPositionXInTime:()=>o.V,changeActorPositionY:()=>o.W,changeActorPositionYInTime:()=>o.X,changeActorScale:()=>o.Y,changeActorScaleWithSection:()=>o.Z,changeActorStyle:()=>o.ab,changeBrushColorProperty:()=>o.bb,changeBrushPenSize:()=>o.cb,changeBrushZIndex:()=>o.db,checkActorHasAction:()=>o.eb,checkActorHasStyle:()=>o.fb,checkDateIsEqual:()=>o.gb,checkDivisibility:()=>o.hb,checkIfActorBumpedActor:()=>o.ib,checkIfActorBumpedBoundary:()=>o.jb,checkIfActorBumpedStageMouse:()=>o.kb,checkIfActorFlipped:()=>o.lb,checkIfActorLeftBoundary:()=>o.mb,checkIfActorLeftStage:()=>o.nb,checkIfActorPressed:()=>o.ob,checkIfCanvasPressed:()=>o.pb,checkIfCloudDocumentFieldKeyExists:()=>o.qb,checkIfDocumentFieldKeyExists:()=>o.rb,checkIfInputWidgetHasErrorMessage:()=>o.sb,checkIfScreenPressed:()=>o.tb,checkItemInArray:()=>o.ub,checkKeyInObject:()=>o.vb,checkStringContain:()=>o.wb,clearCanvasBrush:()=>o.xb,clearCheckboxWidgetFeedback:()=>o.yb,clearCheckboxWidgetSelected:()=>o.zb,clearCloudDocumentAllFieldItems:()=>o.Ab,clearLocalDocumentAllFieldItems:()=>o.Bb,clearLocalDocuments:()=>o.Cb,clearObject:()=>o.Db,clearPressedActorIds:()=>o.Eb,clearPressedCanvasIds:()=>o.Fb,clearPressedScreenIds:()=>o.Gb,clearRadioWidgetFeedback:()=>o.Hb,clearRadioWidgetSelected:()=>o.Ib,cloudDBDelete:()=>o.Jb,cloudDBInsert:()=>o.Kb,cloudDBQuery:()=>o.Lb,cloudDBQueryByCount:()=>o.Mb,cloudDBUpdate:()=>o.Nb,cloudDictClearData:()=>o.Ob,cloudDictDeleteKey:()=>o.Pb,cloudDictGetAllKey:()=>o.Qb,cloudDictGetKeyCount:()=>o.Rb,cloudDictGetValueByKey:()=>o.Sb,cloudDictSetKeyValue:()=>o.Tb,cloudTableClearAll:()=>o.Ub,cloudTableDataChange:()=>o.Vb,cloudTableDeleteRows:()=>o.Wb,cloudTableInsertRow:()=>o.Xb,cloudTableQuery:()=>o.Yb,cloudTableQueryByCount:()=>o.Zb,cloudTableUpdate:()=>o.ac,columnMap:()=>o.bc,compareNumbers:()=>o.cc,complexMathOperation:()=>o.dc,concatStrings:()=>o.ec,consoleError:()=>o.fc,consoleLog:()=>o.gc,consoleWarning:()=>o.hc,contextStack:()=>o.ic,contextStackDepth:()=>o.jc,convertValueType:()=>o.kc,copyArray:()=>o.lc,createRoom:()=>o.mc,createTempObject:()=>o.nc,currentContext:()=>o.oc,decreaseVariable:()=>o.pc,deleteCheckboxWidgetOption:()=>o.qc,deleteObjectItem:()=>o.rc,deleteRadioWidgetOption:()=>o.sc,deleteStage:()=>o.tc,determineNumberType:()=>o.uc,device:()=>o.vc,emitActorPress:()=>a.C,emitActorPressHoldAndWait:()=>a.D,emitActorPressIn:()=>a.E,emitActorPressOut:()=>a.F,emitAppActive:()=>a.G,emitAppBackground:()=>a.H,emitAppMount:()=>a.I,emitAppUnmount:()=>a.J,emitButtonPress:()=>a.K,emitButtonPressIn:()=>a.L,emitButtonPressOut:()=>a.M,emitCanvasPress:()=>a.N,emitCanvasPressHoldAndWait:()=>a.O,emitCanvasPressIn:()=>a.P,emitCanvasPressOut:()=>a.Q,emitCanvasSwipe:()=>a.R,emitCheckboxWidgetChange:()=>a.S,emitCheckboxWidgetSelected:()=>a.T,emitCheckboxWidgetUnselected:()=>a.U,emitCloudDBError:()=>a.V,emitCloudDictError:()=>a.W,emitCloudTableError:()=>a.X,emitCustomEvent:()=>a.Y,emitCustomEventAndWait:()=>a.Z,emitDatePickerSelectDone:()=>a.ab,emitDeviceShake:()=>a.bb,emitEvent:()=>a.cb,emitEventAndWait:()=>a.db,emitGyroscopePhoneShake:()=>a.eb,emitHttpClientError:()=>a.fb,emitHttpClientSuccess:()=>a.gb,emitImagePress:()=>a.hb,emitInputBlur:()=>a.ib,emitInputChange:()=>a.jb,emitInputFocus:()=>a.kb,emitListViewerChildWidgetPress:()=>a.lb,emitListViewerPress:()=>a.mb,emitOnCloudDocumentError:()=>a.nb,emitRadioWidgetSelected:()=>a.ob,emitRoomError:()=>a.pb,emitRoomMemberJoin:()=>a.qb,emitRoomMemberLeave:()=>a.rb,emitRoomMessage:()=>a.sb,emitRuntimeError:()=>a.tb,emitScreenMount:()=>a.ub,emitScreenOpen:()=>a.vb,emitScreenPress:()=>a.wb,emitScreenPressHoldAndWait:()=>a.xb,emitScreenPressIn:()=>a.yb,emitScreenPressOut:()=>a.zb,emitSliderWidgetChange:()=>a.Ab,emitSliderWidgetEndToSlide:()=>a.Bb,emitSliderWidgetStartToSlide:()=>a.Cb,emitSwitchWidgetChange:()=>a.Db,emitTableDataChange:()=>a.Eb,emitTextPress:()=>a.Fb,emitTimePickerSelectDone:()=>a.Gb,emitWebViewWidgetLoadError:()=>a.Hb,emitWebViewWidgetLoaded:()=>a.Ib,emitWebViewWidgetStartLoad:()=>a.Jb,emitWidgetEvent:()=>a.Kb,emitWidgetEventType:()=>a.Lb,extractString:()=>o.wc,findStyleActionIndex:()=>o.xc,formatMessage:()=>o.yc,generateAsyncScheduler:()=>o.zc,generateDocumentName:()=>o.Ac,generateInitializedFlag:()=>o.Bc,getActor:()=>o.Cc,getActorAction:()=>o.Dc,getActorActionInputField:()=>o.Ec,getActorPositionX:()=>o.Fc,getActorPositionY:()=>o.Gc,getActorProperty:()=>o.Hc,getActorRotation:()=>o.Ic,getActorScaleWithSection:()=>o.Jc,getActorStyleByIndex:()=>o.Kc,getActorStyleIndex:()=>o.Lc,getActorStyleInputField:()=>o.Mc,getAllWidgetInstances:()=>o.Nc,getArrayItemByIndex:()=>o.Oc,getArrayItemIndex:()=>o.Pc,getArrayLastItem:()=>o.Qc,getArrayLength:()=>o.Rc,getBatteryLevel:()=>o.Sc,getBrushColor:()=>o.Tc,getBrushColorProperty:()=>o.Uc,getBrushPenSize:()=>o.Vc,getBrushRotation:()=>o.Wc,getButtonWidgetColor:()=>o.Xc,getButtonWidgetDisabled:()=>o.Yc,getButtonWidgetIcon:()=>o.Zc,getButtonWidgetMode:()=>o.ad,getButtonWidgetPositionX:()=>o.bd,getButtonWidgetPositionY:()=>o.cd,getButtonWidgetSizeType:()=>o.dd,getButtonWidgetText:()=>o.ed,getButtonWidgetVisible:()=>o.fd,getButtonWidgetWidth:()=>o.gd,getCameraChoosePhoto:()=>o.hd,getCameraTakePhoto:()=>o.id,getCameraTakeVideo:()=>o.jd,getCanvasBackgroundImageName:()=>o.kd,getCheckboxWidgetHeadline:()=>o.ld,getCheckboxWidgetOptionContentByIndex:()=>o.md,getCheckboxWidgetOptionCount:()=>o.nd,getCheckboxWidgetPositionX:()=>o.od,getCheckboxWidgetPositionY:()=>o.pd,getCheckboxWidgetSelectedOptionContent:()=>o.qd,getCheckboxWidgetSelectedOptionIndex:()=>o.rd,getCloudDocumentAllFieldKeys:()=>o.sd,getCloudDocumentFieldItem:()=>o.td,getCloudDocumentFieldKeyCount:()=>o.ud,getColorHex:()=>o.vd,getColorHsva:()=>o.wd,getColorRgba:()=>o.xd,getCurrentDate:()=>o.yd,getCurrentDay:()=>o.zd,getCurrentDayName:()=>o.Ad,getCurrentFormatDate:()=>o.Bd,getCurrentFormatDateTime:()=>o.Cd,getCurrentFormatTime:()=>o.Dd,getCurrentHour:()=>o.Ed,getCurrentMinute:()=>o.Fd,getCurrentMonth:()=>o.Gd,getCurrentRoomMembers:()=>o.Hd,getCurrentRoomName:()=>o.Id,getCurrentSecond:()=>o.Jd,getCurrentYear:()=>o.Kd,getDateOperation:()=>o.Ld,getDatePickerDate:()=>o.Md,getDatePickerValue:()=>o.Nd,getEventHandlers:()=>a.Mb,getGyroscopeCompassValue:()=>o.Od,getGyroscopeGravityX:()=>o.Pd,getGyroscopeGravityY:()=>o.Qd,getGyroscopeGravityZ:()=>o.Rd,getGyroscopeRotationX:()=>o.Sd,getGyroscopeRotationY:()=>o.Td,getGyroscopeRotationZ:()=>o.Ud,getHttpClientUrl:()=>o.Vd,getImageFileUri:()=>o.Wd,getImageWidgetBackgroundColor:()=>o.Xd,getImageWidgetBorderRadius:()=>o.Yd,getImageWidgetHeight:()=>o.Zd,getImageWidgetImageId:()=>o.ae,getImageWidgetPositionX:()=>o.be,getImageWidgetPositionY:()=>o.ce,getImageWidgetResizeMode:()=>o.de,getImageWidgetVisible:()=>o.ee,getImageWidgetWidth:()=>o.fe,getInputWidgetColor:()=>o.ge,getInputWidgetDisabled:()=>o.he,getInputWidgetErrorMessage:()=>o.ie,getInputWidgetMode:()=>o.je,getInputWidgetPlaceholder:()=>o.ke,getInputWidgetPositionX:()=>o.le,getInputWidgetPositionY:()=>o.me,getInputWidgetSizeType:()=>o.ne,getInputWidgetValue:()=>o.oe,getInputWidgetVisible:()=>o.pe,getInputWidgetWidth:()=>o.qe,getListViewerChildWidgetAttribute:()=>o.re,getListViewerWidgetDataSource:()=>o.se,getListViewerWidgetHeight:()=>o.te,getListViewerWidgetPositionX:()=>o.ue,getListViewerWidgetPositionY:()=>o.ve,getListViewerWidgetWidth:()=>o.we,getLocalDocumentAllFieldKeys:()=>o.xe,getLocalDocumentByWidgetMap:()=>o.ye,getLocalDocumentFieldItem:()=>o.ze,getLocalDocumentFieldKeyCount:()=>o.Ae,getLocalDocumentObject:()=>o.Be,getObjectItem:()=>o.Ce,getObjectLength:()=>o.De,getProperty:()=>o.Ee,getRadioWidgetHeadline:()=>o.Fe,getRadioWidgetOptionContentByIndex:()=>o.Ge,getRadioWidgetOptionCount:()=>o.He,getRadioWidgetPositionX:()=>o.Ie,getRadioWidgetPositionY:()=>o.Je,getRadioWidgetSelectedOptionContent:()=>o.Ke,getRadioWidgetSelectedOptionIndex:()=>o.Le,getRandomInteger:()=>o.Me,getScreenBackgroundColor:()=>o.Ne,getScreenBackgroundImage:()=>o.Oe,getScreenHeight:()=>o.Pe,getScreenWidth:()=>o.Qe,getSliderWidgetHeight:()=>o.Re,getSliderWidgetMaxValue:()=>o.Se,getSliderWidgetMinValue:()=>o.Te,getSliderWidgetPositionX:()=>o.Ue,getSliderWidgetPositionY:()=>o.Ve,getSliderWidgetValue:()=>o.We,getSliderWidgetWidth:()=>o.Xe,getStage:()=>o.Ye,getStageMouse:()=>o.Ze,getStringLength:()=>o.af,getSwitchWidgetPositionX:()=>o.bf,getSwitchWidgetPositionY:()=>o.cf,getSwitchWidgetState:()=>o.df,getTextWidgetBackgroundColor:()=>o.ef,getTextWidgetContent:()=>o.ff,getTextWidgetFontColor:()=>o.gf,getTextWidgetFontFamily:()=>o.hf,getTextWidgetFontSize:()=>o.if,getTextWidgetHeight:()=>o.jf,getTextWidgetHorizontalAlignment:()=>o.kf,getTextWidgetPositionX:()=>o.lf,getTextWidgetPositionY:()=>o.mf,getTextWidgetVerticalAlignment:()=>o.nf,getTextWidgetVisible:()=>o.of,getTextWidgetWidth:()=>o.pf,getTimePickerTime:()=>o.qf,getTimePickerValue:()=>o.rf,getTimingFixedValue:()=>o.sf,getTimingStringValue:()=>o.tf,getTimingValue:()=>o.uf,getUsers:()=>o.vf,getVariableValue:()=>o.wf,getVolumeSensorCurrentValue:()=>o.xf,getWebViewWidgetHeight:()=>o.yf,getWebViewWidgetPositionX:()=>o.zf,getWebViewWidgetPositionY:()=>o.Af,getWebViewWidgetUrl:()=>o.Bf,getWebViewWidgetWidth:()=>o.Cf,getWidgetAttribute:()=>o.Df,getWidgetDisabled:()=>o.Ef,getWidgetHeight:()=>o.Ff,getWidgetInstance:()=>o.Gf,getWidgetOpacity:()=>o.Hf,getWidgetPositionX:()=>o.If,getWidgetPositionY:()=>o.Jf,getWidgetVisible:()=>o.Kf,getWidgetWidth:()=>o.Lf,handleScreenNavigator:()=>o.Mf,hexToHsva:()=>o.Nf,httpClientSendRequest:()=>o.Of,increaseVariable:()=>o.Pf,initializeCloudDBWidget:()=>o.Qf,initializeCloudTableDataMap:()=>o.Rf,initializeFontFamily:()=>o.Sf,initializeGridMap:()=>o.Tf,initializeHttpClient:()=>o.Uf,initializeLocalStorage:()=>o.Vf,initializePreparations:()=>a.Nb,initializeRoom:()=>o.Wf,insertArrayItemByIndex:()=>o.Xf,joinRoom:()=>o.Yf,jsonParseToObject:()=>o.Zf,leaveRoom:()=>o.ag,listForeach:()=>o.bg,logicOperation:()=>o.cg,mathOperation:()=>o.dg,mathRound:()=>o.eg,mathTrig:()=>o.fg,moveActorZIndex:()=>o.gg,moveToPositionInTime:()=>o.hg,navigateToNextScreen:()=>o.ig,navigateToPrevScreen:()=>o.jg,navigateToScreen:()=>o.kg,objectGetValue:()=>o.lg,offDeviceShake:()=>a.Ob,onActorBumpActor:()=>o.mg,onActorBumpBoundary:()=>o.ng,onActorBumpPosition:()=>o.og,onActorLeaveBoundary:()=>o.pg,onActorLeaveStage:()=>o.qg,onActorPress:()=>a.Pb,onActorPressIn:()=>a.Qb,onActorPressOut:()=>a.Rb,onAppActive:()=>a.Sb,onAppBackground:()=>a.Tb,onAppMount:()=>a.Ub,onAppUnmount:()=>a.Vb,onButtonPress:()=>a.Wb,onButtonPressIn:()=>a.Xb,onButtonPressOut:()=>a.Yb,onCanvasSwipe:()=>a.Zb,onCloudDBError:()=>a.ac,onCloudDictError:()=>a.bc,onCloudTableError:()=>a.cc,onCustomEvent:()=>a.dc,onDeviceShake:()=>a.ec,onGyroscopePhoneShake:()=>a.fc,onImagePress:()=>a.gc,onInputBlur:()=>a.hc,onInputChange:()=>a.ic,onInputFocus:()=>a.jc,onListViewerChildWidgetPress:()=>a.kc,onListViewerPress:()=>a.lc,onRoomError:()=>a.mc,onRuntimeError:()=>a.nc,onScreenMount:()=>a.oc,onScreenOpen:()=>a.pc,onScreenPress:()=>a.qc,onTableDataChange:()=>a.rc,onTextPress:()=>a.sc,onWebViewWidgetLoadError:()=>a.tc,onWebViewWidgetLoaded:()=>a.uc,onWebViewWidgetStartLoad:()=>a.vc,onWidgetEvent:()=>a.wc,openDatePickerDialog:()=>o.rg,openTimePickerDialog:()=>o.sg,popContext:()=>o.tg,pushArrayItem:()=>o.ug,pushContext:()=>o.vg,pushOptionToCheckboxWidget:()=>o.wg,pushOptionToRadioWidget:()=>o.xg,refreshWebViewWidget:()=>o.yg,remainderOperation:()=>o.zg,removeAllArrayItem:()=>o.Ag,removeArrayItemByIndex:()=>o.Bg,removeCloudDocumentFieldItem:()=>o.Cg,removeEventListener:()=>a.xc,removeLastArrayItem:()=>o.Dg,removeLocalDocumentFieldItem:()=>o.Eg,resetLocalStorage:()=>o.Fg,resetTableDataIndexedDB:()=>o.Gg,resetTiming:()=>o.Hg,roomsList:()=>o.Ig,selectActorStyle:()=>o.Jg,sendHttpClientWithGetMethod:()=>o.Kg,sendRoomMessage:()=>o.Lg,setActorFadeIn:()=>o.Mg,setActorFadeOut:()=>o.Ng,setActorFlipped:()=>o.Og,setActorScale:()=>o.Pg,setActorScaleWithSection:()=>o.Qg,setActorStyle:()=>o.Rg,setActorVisible:()=>o.Sg,setArrayItemByIndex:()=>o.Tg,setArrayLastItem:()=>o.Ug,setBrushColor:()=>o.Vg,setBrushColorProperty:()=>o.Wg,setBrushFillColor:()=>o.Xg,setBrushFillPath:()=>o.Yg,setBrushPenDown:()=>o.Zg,setBrushPenSize:()=>o.ah,setBrushPenUp:()=>o.bh,setButtonWidgetColor:()=>o.ch,setButtonWidgetDisabled:()=>o.dh,setButtonWidgetIcon:()=>o.eh,setButtonWidgetMode:()=>o.fh,setButtonWidgetPosition:()=>o.gh,setButtonWidgetPositionX:()=>o.hh,setButtonWidgetPositionY:()=>o.ih,setButtonWidgetSizeType:()=>o.jh,setButtonWidgetText:()=>o.kh,setButtonWidgetVisible:()=>o.lh,setButtonWidgetWidth:()=>o.mh,setCameraDirectionOption:()=>o.nh,setCanvasBackgroundImageId:()=>o.oh,setCheckboxWidgetDisabled:()=>o.ph,setCheckboxWidgetHeadline:()=>o.qh,setCheckboxWidgetOptionContent:()=>o.rh,setCheckboxWidgetOptionCount:()=>o.sh,setCheckboxWidgetOptionDisabled:()=>o.th,setCheckboxWidgetOptionFeedback:()=>o.uh,setCheckboxWidgetOptionSelected:()=>o.vh,setCheckboxWidgetOptionUnselected:()=>o.wh,setCheckboxWidgetPositionX:()=>o.xh,setCheckboxWidgetPositionY:()=>o.yh,setCheckboxWidgetVisible:()=>o.zh,setCloudDocumentFieldItem:()=>o.Ah,setHttpClientHeader:()=>o.Bh,setHttpClientUrl:()=>o.Ch,setImageWidgetBackgroundColor:()=>o.Dh,setImageWidgetBorderRadius:()=>o.Eh,setImageWidgetHeight:()=>o.Fh,setImageWidgetImageId:()=>o.Gh,setImageWidgetPosition:()=>o.Hh,setImageWidgetPositionX:()=>o.Ih,setImageWidgetPositionY:()=>o.Jh,setImageWidgetResizeMode:()=>o.Kh,setImageWidgetSourceFile:()=>o.Lh,setImageWidgetVisible:()=>o.Mh,setImageWidgetWidth:()=>o.Nh,setIndexedDbCache:()=>o.Oh,setInputWidgetColor:()=>o.Ph,setInputWidgetDisabled:()=>o.Qh,setInputWidgetErrorMessage:()=>o.Rh,setInputWidgetMode:()=>o.Sh,setInputWidgetPlaceholder:()=>o.Th,setInputWidgetPosition:()=>o.Uh,setInputWidgetPositionX:()=>o.Vh,setInputWidgetPositionY:()=>o.Wh,setInputWidgetSizeType:()=>o.Xh,setInputWidgetValue:()=>o.Yh,setInputWidgetVisible:()=>o.Zh,setInputWidgetWidth:()=>o.ai,setListViewerChildWidgetAttribute:()=>o.bi,setListViewerChildWidgetBindColumn:()=>o.ci,setListViewerWidgetDataSource:()=>o.di,setListViewerWidgetDisabled:()=>o.ei,setListViewerWidgetHeight:()=>o.fi,setListViewerWidgetPositionX:()=>o.gi,setListViewerWidgetPositionY:()=>o.hi,setListViewerWidgetVisible:()=>o.ii,setListViewerWidgetWidth:()=>o.ji,setLocalDocumentFieldItem:()=>o.ki,setObjectItem:()=>o.li,setPressedActorId:()=>o.mi,setPressedCanvasId:()=>o.ni,setPressedScreenId:()=>o.oi,setProperties:()=>o.pi,setProperty:()=>o.qi,setPropertyInner:()=>o.ri,setRadioWidgetDisabled:()=>o.si,setRadioWidgetHeadline:()=>o.ti,setRadioWidgetOptionContent:()=>o.ui,setRadioWidgetOptionCount:()=>o.vi,setRadioWidgetOptionFeedback:()=>o.wi,setRadioWidgetOptionSelectedOrDisabled:()=>o.xi,setRadioWidgetPositionX:()=>o.yi,setRadioWidgetPositionY:()=>o.zi,setRadioWidgetVisible:()=>o.Ai,setRoomNickname:()=>o.Bi,setScreenBackgroundColor:()=>o.Ci,setScreenBackgroundImageId:()=>o.Di,setSliderWidgetDisabled:()=>o.Ei,setSliderWidgetMaxValue:()=>o.Fi,setSliderWidgetMinValue:()=>o.Gi,setSliderWidgetPositionX:()=>o.Hi,setSliderWidgetPositionY:()=>o.Ii,setSliderWidgetValue:()=>o.Ji,setSliderWidgetVisible:()=>o.Ki,setSliderWidgetWidth:()=>o.Li,setStage:()=>o.Mi,setStageMouse:()=>o.Ni,setSwitchWidgetDisabled:()=>o.Oi,setSwitchWidgetPositionX:()=>o.Pi,setSwitchWidgetPositionY:()=>o.Qi,setSwitchWidgetState:()=>o.Ri,setSwitchWidgetVisible:()=>o.Si,setTextWidgetAlignments:()=>o.Ti,setTextWidgetBackgroundColor:()=>o.Ui,setTextWidgetContent:()=>o.Vi,setTextWidgetContents:()=>o.Wi,setTextWidgetFontColor:()=>o.Xi,setTextWidgetFontSize:()=>o.Yi,setTextWidgetHeight:()=>o.Zi,setTextWidgetHorizontalAlignment:()=>o.aj,setTextWidgetPosition:()=>o.bj,setTextWidgetPositionX:()=>o.cj,setTextWidgetPositionY:()=>o.dj,setTextWidgetSize:()=>o.ej,setTextWidgetVerticalAlignment:()=>o.fj,setTextWidgetVisible:()=>o.gj,setTextWidgetWidth:()=>o.hj,setVariableValue:()=>o.ij,setWebViewWidgetDisabled:()=>o.jj,setWebViewWidgetUrl:()=>o.kj,setWebViewWidgetVisible:()=>o.lj,setWidgetAttribute:()=>o.mj,setWidgetHeight:()=>o.nj,setWidgetOpacity:()=>o.oj,setWidgetPositionX:()=>o.pj,setWidgetPositionY:()=>o.qj,setWidgetTextAttribute:()=>o.rj,setWidgetVisible:()=>o.sj,setWidgetWidth:()=>o.tj,showActorDialog:()=>o.uj,showActorTalkDialog:()=>o.vj,showActorThinkDialog:()=>o.wj,splitString:()=>o.xj,startDeviceVibrating:()=>o.yj,startTiming:()=>o.zj,startVolumeSensorDetection:()=>o.Aj,stopDeviceVibrating:()=>o.Bj,stopTiming:()=>o.Cj,stopVolumeSensorDetection:()=>o.Dj,subscribeSensor:()=>o.Ej,switchActorStyle:()=>o.Fj,tableDataDeleteAllRow:()=>o.Gj,tableDataDeleteLastRow:()=>o.Hj,tableDataDeleteRowByIndex:()=>o.Ij,tableDataGetColumnData:()=>o.Jj,tableDataGetLastRow:()=>o.Kj,tableDataGetRowByIndex:()=>o.Lj,tableDataGetRowLength:()=>o.Mj,tableDataGetValueByColumnAndRow:()=>o.Nj,tableDataInsertLastRow:()=>o.Oj,tableDataInsertRowByIndex:()=>o.Pj,tableDataSetValueByColumnAndRow:()=>o.Qj,text2speechSpeakText:()=>o.Rj,text2speechSpeakTextAndWait:()=>o.Sj,tryExecute:()=>o.Tj,unsetInputWidgetErrorMessage:()=>o.Uj,unsetLocalStorage:()=>o.Vj,unsetPressedActorId:()=>o.Wj,unsetPressedCanvasId:()=>o.Xj,unsetPressedScreenId:()=>o.Yj,unsubscribeSensor:()=>o.Zj,withContext:()=>o.ak,withContextAsync:()=>o.bk});var n=r(18005),a=r(474),o=r(80981)},58583:(e,t,r)=>{var n=r(24038);n.prototype.formulaEval=function(){for(var e,t,r,n=[],a=this.value,o=0;o<a.length;o++)1===a[o].type||3===a[o].type?n.push({value:3===a[o].type?a[o].show:a[o].value,type:1}):13===a[o].type?n.push({value:a[o].show,type:1}):0===a[o].type?n[n.length-1]={value:a[o].show+("-"!=a[o].show?"(":"")+n[n.length-1].value+("-"!=a[o].show?")":""),type:0}:7===a[o].type?n[n.length-1]={value:(1!=n[n.length-1].type?"(":"")+n[n.length-1].value+(1!=n[n.length-1].type?")":"")+a[o].show,type:7}:10===a[o].type?(e=n.pop(),t=n.pop(),"P"===a[o].show||"C"===a[o].show?n.push({value:"<sup>"+t.value+"</sup>"+a[o].show+"<sub>"+e.value+"</sub>",type:10}):n.push({value:(1!=t.type?"(":"")+t.value+(1!=t.type?")":"")+"<sup>"+e.value+"</sup>",type:1})):2===a[o].type||9===a[o].type?(e=n.pop(),t=n.pop(),n.push({value:(1!=t.type?"(":"")+t.value+(1!=t.type?")":"")+a[o].show+(1!=e.type?"(":"")+e.value+(1!=e.type?")":""),type:a[o].type})):12===a[o].type&&(e=n.pop(),t=n.pop(),r=n.pop(),n.push({value:a[o].show+"("+r.value+","+t.value+","+e.value+")",type:12}));return n[0].value},e.exports=n},59196:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.register_procedure_blocks=t.icon_procedure=void 0;var n=r(31635),a=r(18978),o=r(53307),i=r(24042),u=r(96361),s=r(88772);t.icon_procedure="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAzNiAzNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0xOCAzNkM4LjA1OSAzNiAwIDI3Ljk0MSAwIDE4UzguMDU5IDAgMTggMHMxOCA4LjA1OSAxOCAxOC04LjA1OSAxOC0xOCAxOHptMC0xYzkuMzg5IDAgMTctNy42MTEgMTctMTdTMjcuMzg5IDEgMTggMSAxIDguNjExIDEgMThzNy42MTEgMTcgMTcgMTd6IiBmaWxsPSIjRDc4MDU4IiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48Y2lyY2xlIGZpbGw9IiNGRkYiIGN4PSIxOCIgY3k9IjE4IiByPSIxNyIvPjxwYXRoIGQ9Ik0yNy4xNTcgMjIuOTM1Yy0uMDQzLjE1LS4yMzUuMjUzLS40OS4zOWEuOTEyLjkxMiAwIDAgMS0uNjg1LjA4NC44Ni44NiAwIDAgMS0uNDQtLjMyNWwtMi4yOTItMy4wMzItMi43OCAzLjAxN2MtLjMzMi4zNi0uNzA4LjQxMy0xLjEzOC4xNTgtLjE3Ny0uMTAzLS41LS40ODctLjUzOC0uNjYtLjAzNi0uMTczLjAzMi0uMzU0LjIxLS41NDhsMy4wNzMtMy4zNDUtMi4yNC0yLjk2M2MtLjA5Mi0uMTM2LS4xMDEtLjI5NC0uMDI4LS40NzQuMDctLjE4LjIzNi0uMjg3LjQxMy0uMzkyLjI1NC0uMTQzLjQ4Ny0uMTQ3LjY2LS4xMzQuMTczLjAxLjMzLjExLjQ3NS4yOTNsMS44NjEgMi40MjcgMi4yNTQtMi40NTVjLjE5NS0uMjE2LjQxNi0uMjkyLjYyOS0uMzUzLjIxMi0uMDYxLjYzLjE1OC44Ni4yODYuMjM0LjEyNy4zNTYuMjczLjM3LjQzOC4wMTUuMTY0LS4wNS4zMjYtLjE5Ni40ODZsLTIuNzUzIDIuOTg1IDIuNzE3IDMuNzI1YS40MDUuNDA1IDAgMCAxIC4wNTguMzkyem0tNy4wNzUtMTQuODVjLS45NTYtLjEwNy0yLjk1Ni0uMjUtNC4xNjkuNTM0LTEuMjE1Ljc4OC0xLjkxMyAyLjE0LTIuMjUxIDMuNzVsLS40NzcgMi4yNzJIOS43NjJjLS4zOTggMC0uNzE1LjExNC0uNzQ4LjgyNy4wMzMuMzg5LjM1LjY5Ny43NDguNjk3aDMuMDk1bC0yLjA0IDkuOTY2cy0uNTIyIDEuNjI2LjYyIDEuNjk3Yy45OTguMDYzIDEuMTk2LTEuNTYxIDEuMTk2LTEuNTYxbDIuMDU3LTEwLjEwMmgyLjYxM2EuNzYyLjc2MiAwIDAgMCAwLTEuNTI0aC0yLjI4OGwuNDUyLTIuMjI3Yy45NjctMy41NSAyLjc3MS0yLjY4OCA0LjQzOC0yLjY4OC4yNzMgMCAxLjMwMS4wNzIgMS4zNzMtLjYzMi4wOTEtLjg4LS43OTQtLjk2My0xLjE5Ni0xLjAwOHpNOSAxNS41OGMwLS4wNDYuMDQ1LS4wNjkuMDU4LS4xMS0uMDEzLS4wMjMtLjA1OC0uMDQzLS4wNTgtLjA2N3YuMTc3eiIgZmlsbD0iI0YwOEY2MyIgZmlsbC1ydWxlPSJub256ZXJvIi8+PC9nPjwvc3ZnPgo=",t.register_procedure_blocks=function(e,r,c,d){var l=e.di_container.get(o.BINDING.FieldIcon),f=e.di_container.get(o.BINDING.FieldTextInput),p=e.di_container.get(o.BINDING.MutationAddButton),g=e.di_container.get(o.BINDING.MutationRemoveButton),v=e.di_container.get(o.BINDING.FieldLabelSerializable),h=e.di_container.get(o.BINDING.CreateEvent),m=e.di_container.get(o.BINDING.ChangeEvent);e.define_block_with_object(s.PROCEDURE_BLOCK_TYPES.DEF,{init:function(){var o=this,d=(0,i.is_func)(r)?r():r,v=l({src:t.icon_procedure,opt_is_head:!0}),h=e.Msg.PROCEDURES_DEFNORETURN_PROCEDURE,b=h,y=d.get_procedure_by_def(this.id);y&&(b=y.name);var _=f({text:b,opt_validator:function(t){var r=d.get_procedure_by_def(o.id);return r?e.events.is_undoing()?r.name:t:(0,u.get_legal_procedure_name)(t,d.get_occupied_procedure_names().concat([h]))}});_.set_spell_check(!1),this.is_in_flyout||this.is_insertion_marker()||(_.on_mouse_down=function(){return(0,n.__awaiter)(o,void 0,void 0,function(){var t,r,o,i,l,f;return(0,n.__generator)(this,function(n){switch(n.label){case 0:return t=this.id,[4,c.call(this,t)];case 1:return(r=n.sent())?(o=e.mainWorkspace.get_block_by_id(t),(0,a.assert)(o),d.get_procedure_by_name(r)&&(i=r,r=(0,u.get_legal_procedure_name)(r,d.get_occupied_procedure_names()),console.warn("Procedure "+i+" def exists. Renaming block ["+t+"] to "+r)),l=d.get_procedure_by_def(t),(0,a.assert)(l),l.disabled?(console.warn("Trying to rename deleted procedure "+t),[2]):(f=l.name,e.events.disable(),d.rename_procedure(f,r),_.set_value(r),e.events.enable(),e.events.fire(m("procedure_rename",{block:o,old_value:f,new_value:r,name:s.PROCEDURE_BLOCK_FIELD_NAMES.PROCEDURE_NAME})),[2])):[2]}})})}),this.append_dummy_input("PROCEDURES_2_DEFNORETURN_DEFINE").append_field(v).append_field(e.Msg.PROCEDURES_DEFNORETURN_TITLE).append_field(_,s.PROCEDURE_BLOCK_FIELD_NAMES.PROCEDURE_NAME);var w=g(void 0);w.margin_left=12,this.append_dummy_input(s.PROCEDURE_BLOCK_INPUT_NAMES.DEF_MUTATOR).append_field(w).append_field(p()),this.append_statement_input("STACK",void 0,s.PROCEDURE_CONTEXT),this.set_inputs_inline(!0),this.set_colour(e.theme.block_color.ORANGE_4.fill),this.set_tooltip(e.Msg.PROCEDURES_DEFNORETURN_TOOLTIP)},addMutation:function(t){return(0,n.__awaiter)(this,void 0,void 0,function(){var o,u,c,l,f,p,g,v,h,b,y,_;return(0,n.__generator)(this,function(n){switch(n.label){case 0:return o=this.id,u=void 0,"string"==typeof t&&t?[3,2]:[4,d.call(this,o)];case 1:c=n.sent(),t=null==c?void 0:c.param_name,u=null==c?void 0:c.default_value,n.label=2;case 2:return t?(l=e.mainWorkspace.get_block_by_id(o),(0,a.assert)(l),f=(0,i.is_func)(r)?r():r,p=f.get_procedure_by_def(o),(0,a.assert)(p),p.disabled?(console.warn("Trying to add param to deleted procedure "+o),[2]):(g=f.get_procedure_param_names(p.name)).includes(t)?(console.warn("Param "+t+" exists."),[2]):(v=g.length,e.events.disable(),h=l.append_math_shadow(""+s.PROCEDURE_BLOCK_INPUT_NAMES.PARAM_PREFIX+v,s.PROCEDURE_BLOCK_INPUT_NAMES.DEF_MUTATOR),b='<block type="'+s.PROCEDURE_BLOCK_TYPES.PARAM_ON_BLOCK+'"></block>',(y=l.append_block_input(b,h)).set_field_value(t,s.PROCEDURE_BLOCK_FIELD_NAMES.PARAM_NAME),void 0!==u&&y.set_field_value("="+u,s.PROCEDURE_BLOCK_FIELD_NAMES.PARAM_DEFAULT_VALUE),e.events.enable(),e.events.is_enabled()&&(_=e.events.get_group(),e.events.set_group(_||!0),e.events.fire(m("change_procedure_param",{block:l,old_value:void 0,new_value:{param_name:t,default_value:u}})),e.events.set_group(_)),[2])):[2]}})})},removeMutation:function(){var t,n=(0,i.is_func)(r)?r():r,a=n.get_procedure_name_by_def(this.id),o=null===(t=n.get_procedure_by_name(a))||void 0===t?void 0:t.params;if(o&&0!==o.length){e.events.disable();var u=""+s.PROCEDURE_BLOCK_INPUT_NAMES.PARAM_PREFIX+(o.length-1),c=this.get_input(u),d=c&&c.connection&&c.connection.targetBlock();d&&d.dispose(void 0,!1),this.remove_input(u),e.events.enable();var l=o[o.length-1];e.events.is_enabled()&&e.events.fire(m("change_procedure_param",{block:this,old_value:l,new_value:void 0}))}},domToMutation:function(e){if(e)for(var t=e.children.length,r=0;r<t;r++){var n=e.children[r];if("arg"===n.nodeName.toLowerCase()){var o=n.getAttribute("name");(0,a.assert)(o),this.append_math_shadow(""+s.PROCEDURE_BLOCK_INPUT_NAMES.PARAM_PREFIX+r,s.PROCEDURE_BLOCK_INPUT_NAMES.DEF_MUTATOR)}}},mutationToDom:function(){for(var e=document.createElement("mutation"),t=this.inputList.filter(function(e){return e.name.startsWith(s.PROCEDURE_BLOCK_INPUT_NAMES.PARAM_PREFIX)}),r=0;r<t.length;r++){var n=document.createElement("arg");n.setAttribute("name",t[r].name),e.appendChild(n)}return e}}),e.define_block_with_object(s.PROCEDURE_BLOCK_TYPES.PARAM_ON_BLOCK,{init:function(){var t=this,r=v({text:""});r.on_mouse_down=function(e){e.preventDefault()},this.append_dummy_input().append_field(r,s.PROCEDURE_BLOCK_FIELD_NAMES.PARAM_NAME);var n=v({text:""});n.margin_left=2,this.append_dummy_input().append_field(n,s.PROCEDURE_BLOCK_FIELD_NAMES.PARAM_DEFAULT_VALUE),this.set_output(!0),this.set_inputs_inline(!0),this.set_colour(e.theme.block_color.ORANGE_7.fill),this.on_mouse_down=function(r){var n=e.events.get_group();if(e.events.set_group(n||!0),0===r.button){var a=t.workspace.get_gesture(r);if(a){var o=a.handle_move.bind(a),i=a.handle_up.bind(a),u=0,c=!1;a.handle_move=function(n){if(c)o(n);else if(u<10)u++;else{a.is_dragging_block=!0;var i=function(){e.events.disable();var r=t.get_field_value(s.PROCEDURE_BLOCK_FIELD_NAMES.PARAM_NAME)||"",n=t.workspace.new_block(s.PROCEDURE_BLOCK_TYPES.PARAM),a=t.get_relative_to_surface_xy();return n.move_by(a),n.set_field_value(r,s.PROCEDURE_BLOCK_FIELD_NAMES.PARAM_NAME),n.init_svg(),n.render(),e.events.enable(),e.events.is_enabled()&&e.events.fire(h({block:n,source:"other"})),n}();i.select(),a.handle_block_start(r,i),a.target_block=i,c=!0}},a.handle_up=function(t){i(t),e.events.set_group(n)}}}}}}),e.define_block_with_object(s.PROCEDURE_BLOCK_TYPES.RETURN,{init:function(){this.append_dummy_input("PROCEDURES_2_DEFRETURN_RETURN").append_field(e.Msg.PROCEDURES_DEFRETURN_RETURN),this.append_math_shadow(s.PROCEDURE_BLOCK_INPUT_NAMES.RETURN_VALUE),this.append_dummy_input(s.PROCEDURE_BLOCK_INPUT_NAMES.RETURN_MUTATOR).append_field(g(void 0),"REMOVE_MUTATOR"),this.set_previous_statement(!0),this.set_next_statement(!1),this.set_inputs_inline(!0),this.set_colour(e.theme.block_color.ORANGE_4.fill),this.itemCount_=1},addMutation:function(t){var r;if(0===this.itemCount_){var n=this.get_input(s.PROCEDURE_BLOCK_INPUT_NAMES.RETURN_MUTATOR);(0,a.assert)(n),n.remove_field("ADD_MUTATOR"),n.append_field(g(void 0),"REMOVE_MUTATOR"),this.append_math_shadow(s.PROCEDURE_BLOCK_INPUT_NAMES.RETURN_VALUE,s.PROCEDURE_BLOCK_INPUT_NAMES.RETURN_MUTATOR);var o=this.get_input(s.PROCEDURE_BLOCK_INPUT_NAMES.RETURN_VALUE),i=o&&(null===(r=o.connection)||void 0===r?void 0:r.targetBlock());t&&(e.events.disable(),null!=i&&i.set_field_value(t.toString(),"NUM"),e.events.enable()),this.itemCount_=1,this.render(),e.events.is_enabled()&&e.events.fire(m("mutation",{block:this,old_value:void 0,new_value:t||1}))}},removeMutation:function(){var t,r;if(!(this.itemCount_<1)){var n=this.get_input(s.PROCEDURE_BLOCK_INPUT_NAMES.RETURN_VALUE),o=n&&(null===(t=n.connection)||void 0===t?void 0:t.targetBlock()),i="";if(null==o?void 0:o.is_shadow())i=o.get_field_value("NUM")||"";else{var u=null===(r=null==n?void 0:n.connection)||void 0===r?void 0:r.get_shadow_dom(),c=null==u?void 0:u.firstChild;c&&null!==c.textContent&&(i=c.textContent)}this.remove_input(s.PROCEDURE_BLOCK_INPUT_NAMES.RETURN_VALUE);var d=this.get_input(s.PROCEDURE_BLOCK_INPUT_NAMES.RETURN_MUTATOR);(0,a.assert)(d),d.remove_field("REMOVE_MUTATOR"),d.append_field(p(),"ADD_MUTATOR"),this.itemCount_=0,this.render(),e.events.is_enabled()&&e.events.fire(m("mutation",{block:this,old_value:i,new_value:void 0}))}},mutationToDom:function(){var e=document.createElement("mutation");return e.setAttribute("items",String(this.itemCount_)),e},domToMutation:function(e){var t;e&&0===parseInt(e.getAttribute("items")||"0",10)&&null!==(t=this.removeMutation)&&void 0!==t&&t.call(this)}});var b={build_inputs:function(){var t=this,n=(0,i.is_func)(r)?r():r,a=this.append_dummy_input("NAME").append_field(v({text:""}),s.PROCEDURE_BLOCK_FIELD_NAMES.PROCEDURE_NAME).fieldRow[0];a.set_validator(function(r){if(e.runtime_data.is_pasting())return a.get_value()||r;var o=n.get_procedure_by_caller_id(t.id);return o?o.name:r})},domToMutation:function(t){var n,o=(0,i.is_func)(r)?r():r,u=t.getAttribute("name");(0,a.assert)(u);var c=t.getAttribute("def_id"),d=c?o.get_procedure_by_def(c):o.get_procedure_by_name(u);u=d?d.name:u,e.events.disable(),this.set_field_value(u,s.PROCEDURE_BLOCK_FIELD_NAMES.PROCEDURE_NAME),e.events.enable();for(var l=d?d.params.length:t.childNodes.length,f=0;f<l;f++){var p=t.childNodes[f];if(!p||"procedures_2_parameter_shadow"===p.nodeName.toLowerCase()){var g=p.getAttribute("value"),v=this.append_default_value_shadow(""+s.PROCEDURE_BLOCK_INPUT_NAMES.ARG_PREFIX+f),h=g||"0",m=null===(n=null==v?void 0:v.connection)||void 0===n?void 0:n.targetBlock();if(null==m?void 0:m.is_shadow()){var b=m.get_field("TEXT");b&&(0,i.is_field_default_value)(b)&&b.set_value(h)}}}},mutationToDom:function(){var e=(0,i.is_func)(r)?r():r,t=document.createElement("mutation"),n=this.get_field_value(s.PROCEDURE_BLOCK_FIELD_NAMES.PROCEDURE_NAME);(0,a.assert)(n),t.setAttribute("name",n);var o=e.get_procedure_by_name(n)||e.get_procedure_by_def(n);(0,a.assert)(o),t.setAttribute("def_id",o.def_id);for(var u=o.params,c=0;c<u.length;c++){var d=document.createElement("procedures_2_parameter_shadow"),l=u[c];d.setAttribute("name",l.param_name),d.setAttribute("value",l.default_value||"0"),t.appendChild(d)}return t},addMutation:function(e){var t,r=this.inputList.filter(function(e){return e.name.includes(s.PROCEDURE_BLOCK_INPUT_NAMES.ARG_PREFIX)}).length,n=this.append_default_value_shadow(""+s.PROCEDURE_BLOCK_INPUT_NAMES.ARG_PREFIX+r),a=e||"0",o=null===(t=null==n?void 0:n.connection)||void 0===t?void 0:t.targetBlock();if(null==o?void 0:o.is_shadow()){var u=o.get_field("TEXT");u&&(0,i.is_field_default_value)(u)&&u.set_value(a)}this.is_collapsed()?this.update_collapsed(!0):this.render()},removeMutation:function(){var e=this.inputList.filter(function(e){return e.name.includes(s.PROCEDURE_BLOCK_INPUT_NAMES.ARG_PREFIX)}).length;if(!e)throw Error("Trying to remove no-existent arg input on a call block");this.remove_input(""+s.PROCEDURE_BLOCK_INPUT_NAMES.ARG_PREFIX+(e-1)),this.is_collapsed()?this.update_collapsed(!0):this.render()}};e.define_block_with_object(s.PROCEDURE_BLOCK_TYPES.CALL_RETURN,(0,n.__assign)((0,n.__assign)({},b),{init:function(){b.build_inputs.call(this),this.set_output(!0),this.set_inputs_inline(!0),this.set_colour(e.theme.block_color.ORANGE_4.fill)}})),e.define_block_with_object(s.PROCEDURE_BLOCK_TYPES.CALL_NORETURN,(0,n.__assign)((0,n.__assign)({},b),{init:function(){b.build_inputs.call(this),this.set_previous_statement(!0),this.set_next_statement(!0),this.set_inputs_inline(!0),this.set_colour(e.theme.block_color.ORANGE_4.fill)}})),e.define_blocks_with_json_array([{type:s.PROCEDURE_BLOCK_TYPES.PARAM,message0:"%1",args0:[{type:"field_label_serializable",name:s.PROCEDURE_BLOCK_FIELD_NAMES.PARAM_NAME,text:"x"}],output:!0,colour:"%{BKY_ORANGE_7}",required_context:s.PROCEDURE_CONTEXT,extensions:["param_block"]}])}},62639:(e,t,r)=>{r.r(t),r.d(t,{a:()=>O,b:()=>N,c:()=>_,d:()=>w,default:()=>S,e:()=>y,f:()=>b,g:()=>f,h:()=>p,i:()=>g,j:()=>l,k:()=>I,l:()=>h,m:()=>m,n:()=>x});const n=r(7078),a=r(70817),o=r(63771),i=r(51912),u=r(57208),s=r(53067),c=r(81324),d=r(37819);function l(e,t){var r=a.a().getState().screenList;if("string"==typeof e||"number"==typeof e){if("number"==typeof e){var n=e-1,o=r.get(n);if(!o)return void s.a.log({type:"error",messageId:"screenIndexNotExist"});f(null==o?void 0:o.id,t)}if("string"==typeof e){var i=e,u=r.findIndex(function(t){return t.id===e||t.title===e});if(-1===u)return void s.a.log({type:"error",messageId:"screenTitleNotExist"});if(!e.includes("SCREEN")){var c=r.get(u);i=(null==c?void 0:c.id)||""}f(i,t)}}else s.a.log({type:"error",messageId:"screenTypeNotNumberAndString"})}function f(e,t){if(e){var r=a.a();n.b(function(){r.dispatch(i.t(e)),r.dispatch(i.u(void 0!==t?t:""))}),u.b(e,"screen","","")}}function p(e,t){var r=a.a().getState().screenList,n=r.findIndex(function(t){return t.id===e}),o=r.get(n+1);o&&l(o.id,t)}function g(e,t){var r=a.a().getState().screenList,n=r.findIndex(function(t){return t.id===e}),o=r.get(n-1);o&&n>0&&l(o.id,t)}function v(e){return a.a().getState().screenList.find(function(t){return t.id===e})}function h(e,t){c.pb(t)?a.a().dispatch(i.x(e,"backgroundColor",t)):s.a.log({type:"warning",messageId:"argNotColor",widgetId:e})}function m(e,t){d.d(t)?a.a().dispatch(i.x(e,"backgroundImage",t)):s.a.log({messageId:"imageNotExists",type:"error",widgetId:e})}function b(e){var t=v(e);if(t)return t.size.width}function y(e){var t=v(e);if(t)return t.size.width*o.n()}function _(e){var t=v(e);if(t)return t.backgroundColor}function w(e){var t=v(e);if(t)return t.backgroundImage}var E=new Set;function I(e){E.add(e)}function x(e){E.delete(e)}function N(){E.clear()}function O(e){return E.has(e)}const S=O},63743:(e,t,r)=>{r.r(t),r.d(t,{a:()=>f,b:()=>l,c:()=>d,d:()=>o,default:()=>v,e:()=>g,f:()=>p,g:()=>a,h:()=>n,i:()=>c,j:()=>s,k:()=>u,l:()=>i});var n="icon-widget-time-picker",a=106,o=36,i=106,u=30,s=360,c=640,d=16,l="#111111ff",f="#e4f5ffff",p=!1,g=!1;const v=f},64858:(e,t,r)=>{r.r(t),r.d(t,{a:()=>p,b:()=>u,c:()=>c,d:()=>v,default:()=>h,e:()=>g,f:()=>d,g:()=>o,h:()=>s,i:()=>a,j:()=>l});const n=r(43639);function a(e,t,r){return{r:255*n.a(e,255),g:255*n.a(t,255),b:255*n.a(r,255)}}function o(e,t,r){e=n.a(e,255),t=n.a(t,255),r=n.a(r,255);var a=Math.max(e,t,r),o=Math.min(e,t,r),i=0,u=0,s=(a+o)/2;if(a===o)u=0,i=0;else{var c=a-o;switch(u=s>.5?c/(2-a-o):c/(a+o),a){case e:i=(t-r)/c+(t<r?6:0);break;case t:i=(r-e)/c+2;break;case r:i=(e-t)/c+4}i/=6}return{h:i,s:u,l:s}}function i(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*r*(t-e):r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function u(e,t,r){var a,o,u;if(e=n.a(e,360),t=n.a(t,100),r=n.a(r,100),0===t)o=r,u=r,a=r;else{var s=r<.5?r*(1+t):r+t-r*t,c=2*r-s;a=i(c,s,e+1/3),o=i(c,s,e),u=i(c,s,e-1/3)}return{r:255*a,g:255*o,b:255*u}}function s(e,t,r){e=n.a(e,255),t=n.a(t,255),r=n.a(r,255);var a=Math.max(e,t,r),o=Math.min(e,t,r),i=0,u=a,s=a-o,c=0===a?0:s/a;if(a===o)i=0;else{switch(a){case e:i=(t-r)/s+(t<r?6:0);break;case t:i=(r-e)/s+2;break;case r:i=(e-t)/s+4}i/=6}return{h:i,s:c,v:u}}function c(e,t,r){e=6*n.a(e,360),t=n.a(t,100),r=n.a(r,100);var a=Math.floor(e),o=e-a,i=r*(1-t),u=r*(1-o*t),s=r*(1-(1-o)*t),c=a%6;return{r:255*[r,u,i,i,s,r][c],g:255*[s,r,r,u,i,i][c],b:255*[i,i,s,r,r,u][c]}}function d(e,t,r,a){var o=[n.e(Math.round(e).toString(16)),n.e(Math.round(t).toString(16)),n.e(Math.round(r).toString(16))];return a&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function l(e,t,r,a,o){var i=[n.e(Math.round(e).toString(16)),n.e(Math.round(t).toString(16)),n.e(Math.round(r).toString(16)),n.e(f(a))];return o&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))&&i[3].startsWith(i[3].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0):i.join("")}function f(e){return Math.round(255*parseFloat(e)).toString(16)}function p(e){return g(e)/255}function g(e){return parseInt(e,16)}function v(e){return{r:e>>16,g:(65280&e)>>8,b:255&e}}const h=p},68363:(e,t,r)=>{var n=r(96540).createContext({});t.a=n},75371:(e,t,r)=>{var n;e=r.nmd(e),function(){var r,a={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},o=!0,i="[DecimalError] ",u=i+"Invalid argument: ",s=i+"Exponent out of range: ",c=Math.floor,d=Math.pow,l=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,f=1e7,p=c(1286742750677284.5),g={};function v(e,t){var r,n,a,i,u,s,c,d,l=e.constructor,p=l.precision;if(!e.s||!t.s)return t.s||(t=new l(e)),o?N(t,p):t;if(c=e.d,d=t.d,u=e.e,a=t.e,c=c.slice(),i=u-a){for(i<0?(n=c,i=-i,s=d.length):(n=d,a=u,s=c.length),i>(s=(u=Math.ceil(p/7))>s?u+1:s+1)&&(i=s,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for((s=c.length)-(i=d.length)<0&&(i=s,n=d,d=c,c=n),r=0;i;)r=(c[--i]=c[i]+d[i]+r)/f|0,c[i]%=f;for(r&&(c.unshift(r),++a),s=c.length;0==c[--s];)c.pop();return t.d=c,t.e=a,o?N(t,p):t}function h(e,t,r){if(e!==~~e||e<t||e>r)throw Error(u+e)}function m(e){var t,r,n,a=e.length-1,o="",i=e[0];if(a>0){for(o+=i,t=1;t<a;t++)(r=7-(n=e[t]+"").length)&&(o+=E(r)),o+=n;(r=7-(n=(i=e[t])+"").length)&&(o+=E(r))}else if(0===i)return"0";for(;i%10==0;)i/=10;return o+i}g.absoluteValue=g.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},g.comparedTo=g.cmp=function(e){var t,r,n,a,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(t=0,r=(n=o.d.length)<(a=e.d.length)?n:a;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===a?0:n>a^o.s<0?1:-1},g.decimalPlaces=g.dp=function(){var e=this,t=e.d.length-1,r=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)r--;return r<0?0:r},g.dividedBy=g.div=function(e){return b(this,new this.constructor(e))},g.dividedToIntegerBy=g.idiv=function(e){var t=this.constructor;return N(b(this,new t(e),0,1),t.precision)},g.equals=g.eq=function(e){return!this.cmp(e)},g.exponent=function(){return _(this)},g.greaterThan=g.gt=function(e){return this.cmp(e)>0},g.greaterThanOrEqualTo=g.gte=function(e){return this.cmp(e)>=0},g.isInteger=g.isint=function(){return this.e>this.d.length-2},g.isNegative=g.isneg=function(){return this.s<0},g.isPositive=g.ispos=function(){return this.s>0},g.isZero=function(){return 0===this.s},g.lessThan=g.lt=function(e){return this.cmp(e)<0},g.lessThanOrEqualTo=g.lte=function(e){return this.cmp(e)<1},g.logarithm=g.log=function(e){var t,n=this,a=n.constructor,u=a.precision,s=u+5;if(void 0===e)e=new a(10);else if((e=new a(e)).s<1||e.eq(r))throw Error(i+"NaN");if(n.s<1)throw Error(i+(n.s?"NaN":"-Infinity"));return n.eq(r)?new a(0):(o=!1,t=b(I(n,s),I(e,s),s),o=!0,N(t,u))},g.minus=g.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?O(t,e):v(t,(e.s=-e.s,e))},g.modulo=g.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(!(e=new n(e)).s)throw Error(i+"NaN");return r.s?(o=!1,t=b(r,e,0,1).times(e),o=!0,r.minus(t)):N(new n(r),a)},g.naturalExponential=g.exp=function(){return y(this)},g.naturalLogarithm=g.ln=function(){return I(this)},g.negated=g.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},g.plus=g.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?v(t,e):O(t,(e.s=-e.s,e))},g.precision=g.sd=function(e){var t,r,n,a=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(u+e);if(t=_(a)+1,r=7*(n=a.d.length-1)+1,n=a.d[n]){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r},g.squareRoot=g.sqrt=function(){var e,t,r,n,a,u,s,d=this,l=d.constructor;if(d.s<1){if(!d.s)return new l(0);throw Error(i+"NaN")}for(e=_(d),o=!1,0==(a=Math.sqrt(+d))||a==1/0?(((t=m(d.d)).length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=c((e+1)/2)-(e<0||e%2),n=new l(t=a==1/0?"5e"+e:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+e)):n=new l(a.toString()),a=s=(r=l.precision)+3;;)if(n=(u=n).plus(b(d,u,s+2)).times(.5),m(u.d).slice(0,s)===(t=m(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&"4999"==t){if(N(u,r+1,0),u.times(u).eq(d)){n=u;break}}else if("9999"!=t)break;s+=4}return o=!0,N(n,r)},g.times=g.mul=function(e){var t,r,n,a,i,u,s,c,d,l=this,p=l.constructor,g=l.d,v=(e=new p(e)).d;if(!l.s||!e.s)return new p(0);for(e.s*=l.s,r=l.e+e.e,(c=g.length)<(d=v.length)&&(i=g,g=v,v=i,u=c,c=d,d=u),i=[],n=u=c+d;n--;)i.push(0);for(n=d;--n>=0;){for(t=0,a=c+n;a>n;)s=i[a]+v[n]*g[a-n-1]+t,i[a--]=s%f|0,t=s/f|0;i[a]=(i[a]+t)%f|0}for(;!i[--u];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,o?N(e,p.precision):e},g.toDecimalPlaces=g.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),void 0===e?r:(h(e,0,1e9),void 0===t?t=n.rounding:h(t,0,8),N(r,e+_(r)+1,t))},g.toExponential=function(e,t){var r,n=this,a=n.constructor;return void 0===e?r=S(n,!0):(h(e,0,1e9),void 0===t?t=a.rounding:h(t,0,8),r=S(n=N(new a(n),e+1,t),!0,e+1)),r},g.toFixed=function(e,t){var r,n,a=this,o=a.constructor;return void 0===e?S(a):(h(e,0,1e9),void 0===t?t=o.rounding:h(t,0,8),r=S((n=N(new o(a),e+_(a)+1,t)).abs(),!1,e+_(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)},g.toInteger=g.toint=function(){var e=this,t=e.constructor;return N(new t(e),_(e)+1,t.rounding)},g.toNumber=function(){return+this},g.toPower=g.pow=function(e){var t,n,a,u,s,d,l=this,f=l.constructor,p=+(e=new f(e));if(!e.s)return new f(r);if(!(l=new f(l)).s){if(e.s<1)throw Error(i+"Infinity");return l}if(l.eq(r))return l;if(a=f.precision,e.eq(r))return N(l,a);if(d=(t=e.e)>=(n=e.d.length-1),s=l.s,d){if((n=p<0?-p:p)<=9007199254740991){for(u=new f(r),t=Math.ceil(a/7+4),o=!1;n%2&&R((u=u.times(l)).d,t),0!==(n=c(n/2));)R((l=l.times(l)).d,t);return o=!0,e.s<0?new f(r).div(u):N(u,a)}}else if(s<0)throw Error(i+"NaN");return s=s<0&&1&e.d[Math.max(t,n)]?-1:1,l.s=1,o=!1,u=e.times(I(l,a+12)),o=!0,(u=y(u)).s=s,u},g.toPrecision=function(e,t){var r,n,a=this,o=a.constructor;return void 0===e?n=S(a,(r=_(a))<=o.toExpNeg||r>=o.toExpPos):(h(e,1,1e9),void 0===t?t=o.rounding:h(t,0,8),n=S(a=N(new o(a),e,t),e<=(r=_(a))||r<=o.toExpNeg,e)),n},g.toSignificantDigits=g.tosd=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(h(e,1,1e9),void 0===t?t=r.rounding:h(t,0,8)),N(new r(this),e,t)},g.toString=g.valueOf=g.val=g.toJSON=function(){var e=this,t=_(e),r=e.constructor;return S(e,t<=r.toExpNeg||t>=r.toExpPos)};var b=function(){function e(e,t){var r,n=0,a=e.length;for(e=e.slice();a--;)r=e[a]*t+n,e[a]=r%f|0,n=r/f|0;return n&&e.unshift(n),e}function t(e,t,r,n){var a,o;if(r!=n)o=r>n?1:-1;else for(a=o=0;a<r;a++)if(e[a]!=t[a]){o=e[a]>t[a]?1:-1;break}return o}function r(e,t,r){for(var n=0;r--;)e[r]-=n,n=e[r]<t[r]?1:0,e[r]=n*f+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(n,a,o,u){var s,c,d,l,p,g,v,h,m,b,y,w,E,I,x,O,S,R,k=n.constructor,A=n.s==a.s?1:-1,C=n.d,M=a.d;if(!n.s)return new k(n);if(!a.s)throw Error(i+"Division by zero");for(c=n.e-a.e,S=M.length,x=C.length,h=(v=new k(A)).d=[],d=0;M[d]==(C[d]||0);)++d;if(M[d]>(C[d]||0)&&--c,(w=null==o?o=k.precision:u?o+(_(n)-_(a))+1:o)<0)return new k(0);if(w=w/7+2|0,d=0,1==S)for(l=0,M=M[0],w++;(d<x||l)&&w--;d++)E=l*f+(C[d]||0),h[d]=E/M|0,l=E%M|0;else{for((l=f/(M[0]+1)|0)>1&&(M=e(M,l),C=e(C,l),S=M.length,x=C.length),I=S,b=(m=C.slice(0,S)).length;b<S;)m[b++]=0;(R=M.slice()).unshift(0),O=M[0],M[1]>=f/2&&++O;do{l=0,(s=t(M,m,S,b))<0?(y=m[0],S!=b&&(y=y*f+(m[1]||0)),(l=y/O|0)>1?(l>=f&&(l=f-1),1==(s=t(p=e(M,l),m,g=p.length,b=m.length))&&(l--,r(p,S<g?R:M,g))):(0==l&&(s=l=1),p=M.slice()),(g=p.length)<b&&p.unshift(0),r(m,p,b),-1==s&&(s=t(M,m,S,b=m.length))<1&&(l++,r(m,S<b?R:M,b)),b=m.length):0===s&&(l++,m=[0]),h[d++]=l,s&&m[0]?m[b++]=C[I]||0:(m=[C[I]],b=1)}while((I++<x||void 0!==m[0])&&w--)}return h[0]||h.shift(),v.e=c,N(v,u?o+_(v)+1:o)}}();function y(e,t){var n,a,i,u,c,l=0,f=0,p=e.constructor,g=p.precision;if(_(e)>16)throw Error(s+_(e));if(!e.s)return new p(r);for(null==t?(o=!1,c=g):c=t,u=new p(.03125);e.abs().gte(.1);)e=e.times(u),f+=5;for(c+=Math.log(d(2,f))/Math.LN10*2+5|0,n=a=i=new p(r),p.precision=c;;){if(a=N(a.times(e),c),n=n.times(++l),m((u=i.plus(b(a,n,c))).d).slice(0,c)===m(i.d).slice(0,c)){for(;f--;)i=N(i.times(i),c);return p.precision=g,null==t?(o=!0,N(i,g)):i}i=u}}function _(e){for(var t=7*e.e,r=e.d[0];r>=10;r/=10)t++;return t}function w(e,t,r){if(t>e.LN10.sd())throw o=!0,r&&(e.precision=r),Error(i+"LN10 precision limit exceeded");return N(new e(e.LN10),t)}function E(e){for(var t="";e--;)t+="0";return t}function I(e,t){var n,a,u,s,c,d,l,f,p,g=1,v=e,h=v.d,y=v.constructor,E=y.precision;if(v.s<1)throw Error(i+(v.s?"NaN":"-Infinity"));if(v.eq(r))return new y(0);if(null==t?(o=!1,f=E):f=t,v.eq(10))return null==t&&(o=!0),w(y,f);if(f+=10,y.precision=f,a=(n=m(h)).charAt(0),s=_(v),!(Math.abs(s)<15e14))return l=w(y,f+2,E).times(s+""),v=I(new y(a+"."+n.slice(1)),f-10).plus(l),y.precision=E,null==t?(o=!0,N(v,E)):v;for(;a<7&&1!=a||1==a&&n.charAt(1)>3;)a=(n=m((v=v.times(e)).d)).charAt(0),g++;for(s=_(v),a>1?(v=new y("0."+n),s++):v=new y(a+"."+n.slice(1)),d=c=v=b(v.minus(r),v.plus(r),f),p=N(v.times(v),f),u=3;;){if(c=N(c.times(p),f),m((l=d.plus(b(c,new y(u),f))).d).slice(0,f)===m(d.d).slice(0,f))return d=d.times(2),0!==s&&(d=d.plus(w(y,f+2,E).times(s+""))),d=b(d,new y(g),f),y.precision=E,null==t?(o=!0,N(d,E)):d;d=l,u+=2}}function x(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);)++n;for(a=t.length;48===t.charCodeAt(a-1);)--a;if(t=t.slice(n,a)){if(a-=n,r=r-n-1,e.e=c(r/7),e.d=[],n=(r+1)%7,r<0&&(n+=7),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=7;n<a;)e.d.push(+t.slice(n,n+=7));n=7-(t=t.slice(n)).length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),o&&(e.e>p||e.e<-p))throw Error(s+r)}else e.s=0,e.e=0,e.d=[0];return e}function N(e,t,r){var n,a,i,u,l,g,v,h,m=e.d;for(u=1,i=m[0];i>=10;i/=10)u++;if((n=t-u)<0)n+=7,a=t,v=m[h=0];else{if((h=Math.ceil((n+1)/7))>=(i=m.length))return e;for(v=i=m[h],u=1;i>=10;i/=10)u++;a=(n%=7)-7+u}if(void 0!==r&&(l=v/(i=d(10,u-a-1))%10|0,g=t<0||void 0!==m[h+1]||v%i,g=r<4?(l||g)&&(0==r||r==(e.s<0?3:2)):l>5||5==l&&(4==r||g||6==r&&(n>0?a>0?v/d(10,u-a):0:m[h-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return g?(i=_(e),m.length=1,t=t-i-1,m[0]=d(10,(7-t%7)%7),e.e=c(-t/7)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(0==n?(m.length=h,i=1,h--):(m.length=h+1,i=d(10,7-n),m[h]=a>0?(v/d(10,u-a)%d(10,a)|0)*i:0),g)for(;;){if(0==h){(m[0]+=i)==f&&(m[0]=1,++e.e);break}if(m[h]+=i,m[h]!=f)break;m[h--]=0,i=1}for(n=m.length;0===m[--n];)m.pop();if(o&&(e.e>p||e.e<-p))throw Error(s+_(e));return e}function O(e,t){var r,n,a,i,u,s,c,d,l,p,g=e.constructor,v=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),o?N(t,v):t;if(c=e.d,p=t.d,n=t.e,d=e.e,c=c.slice(),u=d-n){for((l=u<0)?(r=c,u=-u,s=p.length):(r=p,n=d,s=c.length),u>(a=Math.max(Math.ceil(v/7),s)+2)&&(u=a,r.length=1),r.reverse(),a=u;a--;)r.push(0);r.reverse()}else{for((l=(a=c.length)<(s=p.length))&&(s=a),a=0;a<s;a++)if(c[a]!=p[a]){l=c[a]<p[a];break}u=0}for(l&&(r=c,c=p,p=r,t.s=-t.s),s=c.length,a=p.length-s;a>0;--a)c[s++]=0;for(a=p.length;a>u;){if(c[--a]<p[a]){for(i=a;i&&0===c[--i];)c[i]=f-1;--c[i],c[a]+=f}c[a]-=p[a]}for(;0===c[--s];)c.pop();for(;0===c[0];c.shift())--n;return c[0]?(t.d=c,t.e=n,o?N(t,v):t):new g(0)}function S(e,t,r){var n,a=_(e),o=m(e.d),i=o.length;return t?(r&&(n=r-i)>0?o=o.charAt(0)+"."+o.slice(1)+E(n):i>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(a<0?"e":"e+")+a):a<0?(o="0."+E(-a-1)+o,r&&(n=r-i)>0&&(o+=E(n))):a>=i?(o+=E(a+1-i),r&&(n=r-a-1)>0&&(o=o+"."+E(n))):((n=a+1)<i&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(o+="."),o+=E(n))),e.s<0?"-"+o:o}function R(e,t){if(e.length>t)return e.length=t,!0}function k(e){if(!e||"object"!=typeof e)throw Error(i+"Object expected");var t,r,n,a=["precision",1,1e9,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if(void 0!==(n=e[r=a[t]])){if(!(c(n)===n&&n>=a[t+1]&&n<=a[t+2]))throw Error(u+r+": "+n);this[r]=n}if(void 0!==(n=e[r="LN10"])){if(n!=Math.LN10)throw Error(u+r+": "+n);this[r]=new this(n)}return this}(a=function e(t){var r,n,a;function o(e){var t=this;if(!(t instanceof o))return new o(e);if(t.constructor=o,e instanceof o)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"==typeof e){if(0*e!=0)throw Error(u+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):x(t,e.toString())}if("string"!=typeof e)throw Error(u+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!l.test(e))throw Error(u+e);x(t,e)}if(o.prototype=g,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.clone=e,o.config=o.set=k,void 0===t&&(t={}),t)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<a.length;)t.hasOwnProperty(n=a[r++])||(t[n]=this[n]);return o.config(t),o}(a)).default=a.Decimal=a,r=new a(1),void 0!==(n=function(){return a}.call(t,void 0,t,e))&&(e.exports=n)}()},80981:(e,t,r)=>{r.r(t),r.d(t,{A:()=>wd,Ab:()=>pc,Ac:()=>ae,Ad:()=>Pe,Ae:()=>he,Af:()=>xs,Ag:()=>Or,Ah:()=>nc,Ai:()=>Cu,Aj:()=>Ln,B:()=>yd,Bb:()=>be,Bc:()=>oe,Bd:()=>ke,Be:()=>de,Bf:()=>Ns,Bg:()=>xr,Bh:()=>Ec,Bi:()=>Fc,Bj:()=>qr,C:()=>xd,Cb:()=>ye,Cc:()=>Ka,Cd:()=>Re,Ce:()=>Br,Cf:()=>Es,Cg:()=>oc,Ch:()=>wc,Ci:()=>n.l,Cj:()=>st,D:()=>Ed,Db:()=>Vr,Dc:()=>Xo,Dd:()=>Ae,De:()=>Yr,Df:()=>Sa,Dg:()=>Nr,Dh:()=>ra,Di:()=>n.m,Dj:()=>jn,E:()=>Id,Eb:()=>gi,Ec:()=>Ai,Ed:()=>Le,Ee:()=>Ma,Ef:()=>Oa,Eg:()=>ge,Eh:()=>na,Ei:()=>Zs,Ej:()=>Dn,F:()=>_d,Fb:()=>eo,Fc:()=>ai,Fd:()=>je,Fe:()=>hu,Ff:()=>wa,Fg:()=>se,Fh:()=>ta,Fi:()=>Hs,Fj:()=>ti,G:()=>Ol,Gb:()=>n.b,Gc:()=>oi,Gd:()=>Me,Ge:()=>vu,Gf:()=>Aa,Gg:()=>lf,Gh:()=>oa,Gi:()=>Gs,Gj:()=>$l,H:()=>Ki,Hb:()=>Ru,Hc:()=>ei,Hd:()=>rd,He:()=>mu,Hf:()=>xa,Hg:()=>ct,Hh:()=>Qn,Hi:()=>Js,Hj:()=>Zl,I:()=>Yi,Ib:()=>Ou,Ic:()=>ii,Id:()=>ed,Ie:()=>bu,If:()=>Ea,Ig:()=>Yc,Ih:()=>Zn,Ii:()=>qs,Ij:()=>ef,J:()=>Vi,Jb:()=>Ul,Jc:()=>Yo,Jd:()=>Ue,Je:()=>yu,Jf:()=>Ia,Jg:()=>_o,Jh:()=>$n,Ji:()=>Ks,Jj:()=>nf,K:()=>Bi,Kb:()=>Ll,Kc:()=>Qo,Kd:()=>Ce,Ke:()=>gu,Kf:()=>Na,Kg:()=>Ic,Kh:()=>aa,Ki:()=>Qs,Kj:()=>af,L:()=>Wi,Lb:()=>Vl,Lc:()=>Jo,Ld:()=>zd,Le:()=>pu,Lf:()=>_a,Lg:()=>Xc,Lh:()=>ia,Li:()=>Xs,Lj:()=>of,M:()=>Ui,Mb:()=>Kl,Mc:()=>Ci,Md:()=>Gd,Me:()=>Ke,Mf:()=>n.g,Mg:()=>jo,Mh:()=>Xn,Mi:()=>Fa,Mj:()=>rf,N:()=>Ji,Nb:()=>Bl,Nc:()=>Ca,Nd:()=>Hd,Ne:()=>n.c,Nf:()=>Di,Ng:()=>Wo,Nh:()=>ea,Ni:()=>za,Nj:()=>tf,O:()=>Gi,Ob:()=>Wf,Oc:()=>Ar,Od:()=>Tn,Oe:()=>n.d,Of:()=>Nc,Og:()=>Si,Oh:()=>sl,Oi:()=>Ds,Oj:()=>Xl,P:()=>sf,Pb:()=>Cf,Pc:()=>Tr,Pd:()=>Sn,Pe:()=>n.e,Pf:()=>_r,Pg:()=>Fo,Ph:()=>ur,Pi:()=>Ls,Pj:()=>Ql,Q:()=>Ze,Qb:()=>jf,Qc:()=>Cr,Qd:()=>Rn,Qe:()=>n.f,Qf:()=>Dl,Qg:()=>zo,Qh:()=>fr,Qi:()=>js,Qj:()=>ql,R:()=>Da,Rb:()=>Df,Rc:()=>Mr,Rd:()=>kn,Re:()=>Ys,Rf:()=>nl,Rg:()=>ri,Rh:()=>dr,Ri:()=>Ts,Rj:()=>pd,S:()=>Ga,Sb:()=>Tf,Sc:()=>kl,Sd:()=>An,Se:()=>Vs,Sf:()=>Gl,Sg:()=>Lo,Sh:()=>pr,Si:()=>Ps,Sj:()=>vd,T:()=>Ho,Tb:()=>kf,Tc:()=>tu,Td:()=>Cn,Te:()=>Fs,Tf:()=>tl,Tg:()=>Sr,Th:()=>cr,Ti:()=>Wt,Tj:()=>vs,U:()=>Ro,Ub:()=>op,Uc:()=>uu,Ud:()=>Mn,Ue:()=>Us,Uf:()=>yc,Ug:()=>Rr,Uh:()=>nr,Ui:()=>Ut,Uj:()=>lr,V:()=>Ao,Vb:()=>ol,Vc:()=>su,Vd:()=>Sc,Ve:()=>Ws,Vf:()=>ue,Vg:()=>Zi,Vh:()=>ar,Vi:()=>Dt,Vj:()=>ce,W:()=>ko,Wb:()=>Qf,Wc:()=>cu,Wd:()=>Bn,We:()=>Bs,Wf:()=>Bc,Wg:()=>ou,Wh:()=>or,Wi:()=>Vt,Wj:()=>pi,X:()=>Mo,Xb:()=>qf,Xc:()=>g,Xd:()=>Hn,Xe:()=>zs,Xf:()=>Ir,Xg:()=>$i,Xh:()=>gr,Xi:()=>Lt,Xj:()=>$a,Y:()=>Vo,Yb:()=>tp,Yc:()=>f,Yd:()=>Gn,Ye:()=>Ba,Yf:()=>Hc,Yg:()=>eu,Yh:()=>sr,Yi:()=>jt,Yj:()=>n.n,Z:()=>Ko,Zb:()=>np,Zc:()=>p,Zd:()=>Vn,Ze:()=>Ya,Zf:()=>Rc,Zg:()=>Xi,Zh:()=>rr,Zi:()=>Pt,Zj:()=>Pn,a:()=>dd,ab:()=>ni,ac:()=>$f,ad:()=>h,ae:()=>qn,af:()=>tt,ag:()=>Jc,ah:()=>ru,ai:()=>ir,aj:()=>Bt,ak:()=>ls,b:()=>Oe,bb:()=>iu,bc:()=>zf,bd:()=>c,be:()=>zn,bf:()=>As,bg:()=>jr,bh:()=>Qi,bi:()=>El,bj:()=>kt,bk:()=>fs,c:()=>Ie,cb:()=>nu,cc:()=>Qe,cd:()=>d,ce:()=>Yn,cf:()=>Cs,cg:()=>He,ch:()=>I,ci:()=>wl,cj:()=>At,d:()=>Ee,db:()=>du,dc:()=>Ge,dd:()=>m,de:()=>Jn,default:()=>sp,df:()=>Ms,dg:()=>Ve,dh:()=>x,di:()=>pl,dj:()=>Ct,e:()=>we,eb:()=>qo,ec:()=>et,ed:()=>v,ee:()=>Kn,ef:()=>_t,eg:()=>Xe,eh:()=>N,ei:()=>vl,ej:()=>Mt,f:()=>_e,fb:()=>$o,fc:()=>ys,fd:()=>l,fe:()=>Fn,ff:()=>ht,fg:()=>qe,fh:()=>S,fi:()=>dl,fj:()=>Ft,g:()=>Ne,gb:()=>Vd,gc:()=>bs,gd:()=>s,ge:()=>qt,gf:()=>mt,gg:()=>ki,gh:()=>y,gi:()=>ll,gj:()=>Rt,h:()=>xe,hb:()=>Ye,hc:()=>_s,hd:()=>Ld,he:()=>Jt,hf:()=>yt,hg:()=>Po,hh:()=>_,hi:()=>fl,hj:()=>Tt,i:()=>cf,ib:()=>hi,ic:()=>is,id:()=>Md,ie:()=>Zt,if:()=>bt,ig:()=>n.h,ih:()=>w,ii:()=>gl,ij:()=>yr,j:()=>wo,jb:()=>mi,jc:()=>ds,jd:()=>Pd,je:()=>$t,jf:()=>It,jg:()=>n.i,jh:()=>R,ji:()=>cl,jj:()=>ks,k:()=>po,kb:()=>bi,kc:()=>$e,kd:()=>Xa,ke:()=>Qt,kf:()=>Et,kg:()=>n.j,kh:()=>O,ki:()=>fe,kj:()=>Ss,l:()=>fo,lb:()=>Ri,lc:()=>kr,ld:()=>ju,le:()=>Kt,lf:()=>Nt,lg:()=>kc,lh:()=>b,li:()=>Wr,lj:()=>Rs,m:()=>No,mb:()=>_i,mc:()=>Vc,md:()=>Lu,me:()=>Ht,mf:()=>Ot,mg:()=>Ei,mh:()=>E,mi:()=>fi,mj:()=>ba,n:()=>xo,nb:()=>yi,nc:()=>zr,nd:()=>Uu,ne:()=>er,nf:()=>wt,ng:()=>Ii,nh:()=>Cd,ni:()=>Za,nj:()=>ga,o:()=>mo,ob:()=>vi,oc:()=>cs,od:()=>Wu,oe:()=>Xt,of:()=>St,og:()=>xi,oh:()=>qa,oi:()=>n.k,oj:()=>ma,p:()=>bo,pb:()=>to,pc:()=>wr,pd:()=>Bu,pe:()=>Gt,pf:()=>xt,pg:()=>Oi,ph:()=>ts,pi:()=>ja,pj:()=>va,q:()=>co,qb:()=>lc,qc:()=>Zu,qd:()=>Du,qe:()=>Yt,qf:()=>qd,qg:()=>Ni,qh:()=>zu,qi:()=>Pa,qj:()=>ha,r:()=>Eo,rb:()=>me,rc:()=>Fr,rd:()=>Pu,re:()=>Il,rf:()=>Jd,rg:()=>Yd,rh:()=>Ku,ri:()=>Ta,rj:()=>ya,s:()=>lo,sb:()=>tr,sc:()=>ku,sd:()=>uc,se:()=>_l,sf:()=>ft,sg:()=>Kd,sh:()=>Yu,si:()=>Mu,sj:()=>fa,t:()=>Oo,tb:()=>n.a,tc:()=>Va,td:()=>tc,te:()=>ml,tf:()=>lt,tg:()=>ss,th:()=>Ju,ti:()=>Eu,tj:()=>pa,u:()=>So,ub:()=>Pr,uc:()=>ze,ud:()=>cc,ue:()=>bl,uf:()=>dt,ug:()=>Er,uh:()=>Xu,ui:()=>xu,uj:()=>ui,v:()=>go,vb:()=>Kr,vc:()=>Cl,vd:()=>Mi,ve:()=>yl,vf:()=>Zc,vg:()=>us,vh:()=>Hu,vi:()=>Iu,vj:()=>si,w:()=>yo,wb:()=>rt,wc:()=>nt,wd:()=>Pi,we:()=>hl,wf:()=>br,wg:()=>$u,wh:()=>Gu,wi:()=>Su,wj:()=>wi,x:()=>ka,xb:()=>Ha,xc:()=>Zo,xd:()=>Ti,xe:()=>ve,xf:()=>Un,xg:()=>Au,xh:()=>Fu,xi:()=>Nu,xj:()=>at,y:()=>Od,yb:()=>Qu,yc:()=>ms,yd:()=>Te,ye:()=>ie,yf:()=>ws,yg:()=>Os,yh:()=>Vu,yi:()=>_u,yj:()=>Jr,z:()=>Nd,zb:()=>qu,zc:()=>gs,zd:()=>De,ze:()=>le,zf:()=>Is,zg:()=>Je,zh:()=>es,zi:()=>wu,zj:()=>ut});var n=r(62639),a={};Object.defineProperty(a,"getSensorOrientationAzimuth",{get:function(){return rn}}),Object.defineProperty(a,"getSensorOrientationPitch",{get:function(){return nn}}),Object.defineProperty(a,"getSensorOrientationRoll",{get:function(){return an}}),Object.defineProperty(a,"getSensorGravityX",{get:function(){return on}}),Object.defineProperty(a,"getSensorGravityY",{get:function(){return un}}),Object.defineProperty(a,"getSensorGravityZ",{get:function(){return sn}}),Object.defineProperty(a,"getSensorRotationX",{get:function(){return cn}}),Object.defineProperty(a,"getSensorRotationY",{get:function(){return dn}}),Object.defineProperty(a,"getSensorRotationZ",{get:function(){return ln}}),Object.defineProperty(a,"unsubscribeSensor",{get:function(){return fn}}),Object.defineProperty(a,"subscribeSensor",{get:function(){return pn}});var o={};Object.defineProperty(o,"startSoundDetection",{get:function(){return In}}),Object.defineProperty(o,"stopSoundDetection",{get:function(){return Nn}}),Object.defineProperty(o,"getVolumeSensorCurrentValue",{get:function(){return On}});const i=r(63771),u=r(41010);function s(e){var t;return null===(t=u.f(e))||void 0===t?void 0:t.width}function c(e){var t;return null===(t=u.e(e))||void 0===t?void 0:t.x}function d(e){var t;return null===(t=u.e(e))||void 0===t?void 0:t.y}function l(e){return u.g(e)}function f(e){var t;return null===(t=u.d(e))||void 0===t?void 0:t.disabled}function p(e){var t;return null===(t=u.d(e))||void 0===t?void 0:t.iconId}function g(e){var t;return null===(t=u.d(e))||void 0===t?void 0:t.color}function v(e){var t;return null===(t=u.d(e))||void 0===t?void 0:t.text}function h(e){var t;return null===(t=u.d(e))||void 0===t?void 0:t.mode}function m(e){var t;return null===(t=u.d(e))||void 0===t?void 0:t.sizeType}function b(e,t){u.l(e,t)}function y(e,t){u.j(e,t)}function _(e,t){u.j(e,{x:t})}function w(e,t){u.j(e,{y:t})}function E(e,t){u.k(e,{width:t})}function I(e,t){u.h(e,{color:t})}function x(e,t){u.h(e,{disabled:t})}function N(e,t){u.h(e,{iconId:t})}function O(e,t){u.h(e,{text:i.p(t)})}function S(e,t){u.h(e,{mode:t})}function R(e,t){u.h(e,{sizeType:t})}const k=r(7452);var A,C,M=(C=(A=k)&&A.__esModule?function(){return A.default}:function(){return A},Object.defineProperty(C,"a",{enumerable:!0,get:C}),C);const T=r(5587),P=r(21009),D=r(2543),L=r(3631),j=r(45119);var U=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return Object.defineProperty(t,"a",{enumerable:!0,get:t}),t}(r(72505));const W=r(81324),B=r(81403);function F(e){return V.apply(this,arguments)}function V(){return(V=P.a(M.a.mark(function e(t){var r,n,a,o,i,u,s,c,d,l,f=arguments;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=f.length>1&&void 0!==f[1]?f[1]:B.a.cdnPath.root,e.next=3,z(t.type,r);case 3:return n=e.sent,a=n.data[0],o=a.filename,i=a.token,(u=new FormData).append("token",i),u.append("file",t),u.append("key",o),e.next=11,U.a.post(B.a.apiQiniuHost,u);case 11:return s=e.sent,c=s.data,d=c.hash,l=c.key,e.abrupt("return","https://static.bcmcdn.com/"+l+"?hash="+d);case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}function z(e,t){return Y.apply(this,arguments)}function Y(){return(Y=P.a(M.a.mark(function e(t,r){var n,a,o=arguments;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>2&&void 0!==o[2]?o[2]:1,e.next=3,U.a.get(B.a.apiOverseaServiceHost+"/tiger/kitten/cdn/token/".concat(n),{params:{type:t,prefix:r,bucket:"static"}});case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function K(e){return H.apply(this,arguments)}function H(){return(H=P.a(M.a.mark(function e(t){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,r){if(W.T(t)){var n=W.m(t);n&&e(n)}else W.P(t)?W.e(t).then(function(t){return e(t)}):W.S(t)?window.resolveLocalFileSystemURL(t,function(t){t.file(function(){var t=P.a(M.a.mark(function t(r){var n;return M.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(n=new FileReader).onloadend=function(){if(this.result){var t=new Blob([this.result],{type:r.type});t&&e(t)}},n.readAsArrayBuffer(r);case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),function(){console.error("load file error")})}):e(null)}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function G(e){return J.apply(this,arguments)}function J(){return(J=P.a(M.a.mark(function e(t){var r;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K(t);case 2:if(!(r=e.sent)){e.next=13;break}return e.prev=4,e.next=7,F(r,B.a.cdnPath.playerUnstable);case 7:return e.abrupt("return",e.sent);case 10:e.prev=10,e.t0=e.catch(4),console.error("图片上传失败");case 13:return e.abrupt("return",null);case 14:case"end":return e.stop()}},e,null,[[4,10]])}))).apply(this,arguments)}new j.a({env:B.a.env,projectName:B.a.productCode,config:{pid:B.a.pid,api:B.a.openServiceHost}});const q=r(53067),X=r(57208),Q=r(23336),Z=r(70817),$=r(79955),ee=r(30691),te=r(65708),re=r(40779);function ne(e){return String(e)}function ae(e,t){return"@".concat(e,"_").concat(t)}function oe(e){return"@__INITIALIZED__".concat(e)}function ie(e){var t={};for(var r in e)e[r].type!==L.y&&e[r].type!==L.B||function(){var n=[];e[r].attributes.fields.forEach(function(e){return e.key&&n.push(e)}),t[r]=n}();return t}function ue(e,t){var r=ie(t),n=[];for(var a in r){var o=r[a],i=de(e,a);o&&!i&&n.push([ae(e,a),JSON.stringify(o)])}re.a.multiSet(n)}function se(e){var t=$.Bb(e),r=[];t.attributes.fields.forEach(function(e){return r.push(e)});var n=ee.d.getState().project.id;if(t){var a=ae(n,t.id);re.a.getItem(a)&&re.a.setItem(a,JSON.stringify(r)),X.a({type:Q.b.PLAYER_DATA_WATCH,data:{screenId:Z.a().getState().currentScreenId,tab:L.B,id:t.id,value:r}})}}function ce(e){var t=re.a.getAllKeys().filter(function(t){return 0===t.indexOf("@".concat(e,"_"))});t.push(oe(e)),re.a.multiRemove(t)}function de(e,t){var r=ae(e,t),n=re.a.getItem(r);if(n)try{var a=JSON.parse(n);if(Array.isArray(a))return a;if("object"==typeof a){var o=[];for(var i in a)o.push({id:te.a("DOC_KEY"),key:i,value:a[i],type:"string"});return re.a.setItem(r,JSON.stringify(o)),o}}catch(e){re.a.removeItem(r)}}function le(e,t,r){var n,a=de(e,t);if(!a)return"";r=null===(n=r)||void 0===n?void 0:n.toString();var o=a.find(function(e){return e.key===r});return o?o.value:(q.a.condition(!1,{type:"error",messageId:"keyNotExists",values:{key:r}}),console.error("getLocalDocumentFieldItem error.","appId:",e,"docId:",t,"key:",r,"document:",a),"")}function fe(e,t,r,n){return pe.apply(this,arguments)}function pe(){return(pe=P.a(M.a.mark(function e(t,r,n,a){var o,i,u,s,c;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("string"==typeof n||"number"==typeof n){e.next=3;break}return q.a.log({type:"error",messageId:"localStorageInvalidKeyType",widgetId:r}),e.abrupt("return");case 3:if(n=n.toString(),o="number"==typeof a||"string"==typeof a,q.a.condition(o,{type:"error",messageId:"localStorageInvalidValueType",widgetId:r,values:{key:n}}),o){e.next=8;break}return e.abrupt("return");case 8:if(!(i=de(t,r))){e.next=27;break}if((u=i.find(function(e){return e.key===n}))||(u={id:te.a("DOC_KEY"),key:n,value:"",type:"string"},i.push(u)),!D.isNumber(a)){e.next=16;break}e.t0=a,e.next=22;break;case 16:return e.next=18,G(a);case 18:if(e.t1=e.sent,e.t1){e.next=21;break}e.t1=a;case 21:e.t0=e.t1;case 22:u.value=e.t0,s=ae(t,r),re.a.setItem(ae(t,r),JSON.stringify(i)),c=re.a.getItem(s),X.a({type:Q.b.PLAYER_DATA_WATCH,data:{screenId:Z.a().getState().currentScreenId,tab:L.B,id:r,value:c?JSON.parse(c):""}});case 27:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ge(e,t,r){var n,a=de(e,t);if(r=null===(n=r)||void 0===n?void 0:n.toString(),q.a.condition(null==a?void 0:a.find(function(e){return e.key===r}),{type:"error",messageId:"keyNotExists",values:{key:r}}),a){var o=a.findIndex(function(e){return e.key===ne(r)});o>=0&&a.splice(o,1);var i=ae(e,t);re.a.setItem(i,JSON.stringify(a)),X.a({type:Q.b.PLAYER_DATA_WATCH,data:{screenId:Z.a().getState().currentScreenId,tab:"",id:t,value:a}})}}function ve(e,t){var r=de(e,t);return r?r.map(function(e){return e.key}):[]}function he(e,t){return ve(e,t).length}function me(e,t,r){return ve(e,t).includes(ne(r))}function be(e,t){var r=ae(e,t);if(re.a.getItem(r))try{re.a.setItem(r,JSON.stringify([])),X.a({type:Q.b.PLAYER_DATA_WATCH,data:{screenId:Z.a().getState().currentScreenId,tab:L.B,id:t,value:re.a.getItem(r)}})}catch(e){}}function ye(e,t){var r,n=T.a(t);try{for(n.s();!(r=n.n()).done;){var a=ae(e,r.value);if(re.a.getItem(a))try{re.a.removeItem(a)}catch(e){}}}catch(e){n.e(e)}finally{n.f()}}var _e,we,Ee,Ie,xe,Ne,Oe,Se={"zh-CN":{weekdays:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]},"zh-TW":{weekdays:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]},"en-US":{weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}};function Re(){return ke()+" "+Ae()}function ke(){var e=new Date,t=e.getFullYear(),r=e.getMonth()+1,n=e.getDate();return r=r<10?"0"+r:r,n=n<10?"0"+n:n,"".concat(t,"-").concat(r,"-").concat(n)}function Ae(){var e=new Date,t=e.getHours(),r=e.getMinutes(),n=e.getSeconds();return r=r<10?"0"+r:r,n=n<10?"0"+n:n,"".concat(t=t<10?"0"+t:t,":").concat(r,":").concat(n)}function Ce(){return(new Date).getFullYear()}function Me(){return(new Date).getMonth()+1}function Te(){return(new Date).getDate()}function Pe(){return Se[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"zh-CN"].weekdays[(new Date).getDay()]}function De(){return(new Date).getDay()||7}function Le(){return(new Date).getHours()}function je(){return(new Date).getMinutes()}function Ue(){return(new Date).getSeconds()}var We=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return Object.defineProperty(t,"a",{enumerable:!0,get:t}),t}(r(58583));const Be=r(75371);function Fe(e,t){var r=Math.pow(10,t);return Math.round(e*r)/r}function Ve(e,t,r){if(e===_e.DIVIDE&&0===r)return t/r;if("number"==typeof t&&"number"==typeof r)return function(e,t,r){switch(e){case _e.ADD:return t.plus(r).toNumber();case _e.MINUS:return t.minus(r).toNumber();case _e.MULTIPLY:return t.times(r).toNumber();case _e.DIVIDE:return t.dividedBy(r).toNumber();case _e.POWER:return t.pow(r).toNumber()}}(e,new Be.Decimal(t),new Be.Decimal(r));var n=["number","string"];if(e===_e.ADD)return n.includes(typeof t)&&n.includes(typeof r)?"".concat(t).concat(r):void q.a.condition(!1,{type:"error",messageId:"additionArgumentTypeError"});q.a.condition(!1,{type:"error",messageId:"operationArgumentTypeError"})}function ze(e,t){switch(e){case we.EVEN:return t%2==0;case we.ODD:return 1===Math.abs(t%2);case we.PRIME:return function(e){if(isNaN(e)||!isFinite(e)||e%1||e<2)return!1;if(e%2==0)return 2===e;if(e%3==0)return 3===e;for(var t=Math.sqrt(e),r=5;r<=t;r+=6){if(e%r===0)return!1;if(e%(r+2)===0)return!1}return!0}(t);case we.WHOLE:return t===Math.floor(t);case we.POSITIVE:return t>0;case we.NEGATIVE:return t<0}}function Ye(e,t){return e%t===0}function Ke(e,t){var r=Math.round(Math.max(e,t)),n=Math.round(Math.min(e,t));return Math.round(Math.random()*(r-n))+n}function He(e,t,r){return e===Ee.AND?t&&r:t||r}function Ge(e,t){switch(e){case Ie.ROOT:return Math.pow(t,.5);case Ie.ABS:return Math.abs(t);case Ie.NEG:return-t;case Ie.LN:return Math.log(t);case Ie.LOG10:return Math.log(t)/Math.log(10);case Ie.EXP:return Math.pow(Math.E,t);case Ie.POW10:return Math.pow(10,t)}}function Je(e,t){return e%t}function qe(e,t){switch(e){case xe.SIN:return Fe(Math.sin(t*Math.PI/180),2);case xe.COS:return Fe(Math.cos(t*Math.PI/180),2);case xe.TAN:return Fe(Math.tan(t*Math.PI/180),2);case xe.ASIN:return Fe(Math.asin(t)/Math.PI*180,2);case xe.ACOS:return Fe(Math.acos(t)/Math.PI*180,2);case xe.ATAN:return Fe(Math.atan(t)/Math.PI*180,2)}}function Xe(e,t){switch(e){case Ne.ROUND:return Math.round(t);case Ne.CEIL:return Math.ceil(t);case Ne.FLOOR:return Math.floor(t)}}function Qe(e,t,r){switch(e){case Oe.EQUAL:return D.isEqual(t,r);case Oe.UNEQUAL:return!D.isEqual(t,r);case Oe.LESS_THAN:return t<r;case Oe.LESS_THAN_OR_EQUAL:return t<=r;case Oe.GREATER_THAN:return t>r;case Oe.GREATER_THAN_OR_EQUAL:return t>=r}}function Ze(e){return We.a.lex(e).toPostfix().postfixEval()}function $e(e,t){return"number"===t?"NaN"===e||"number"==typeof e&&isNaN(e)?NaN:isNaN(Number(e))?String(e):Number(e):"string"===t?D.isPlainObject(e)?e=JSON.stringify(e):String(e):Boolean(e)}function et(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.map(function(e){return D.isPlainObject(e)?JSON.stringify(e):e});return n.join("")}function tt(e){return"".concat(e).length}function rt(e,t){return e.includes(t)}function nt(e,t,r){var n=Math.floor(t);if(void 0===r)return e[n-1]||"";var a=Math.floor(r)-1;return n<=a?e.substring(n-1,a+1):e.substring(a,n).split("").reverse().join("")}function at(e,t){return e.split(t).map(function(e){return/\s/.test(e)||""===e||isNaN(Number(e))?e:Number(e)})}var ot;(ot=_e||(_e={})).ADD="ADD",ot.MINUS="MINUS",ot.MULTIPLY="MULTIPLY",ot.DIVIDE="DIVIDE",ot.POWER="POWER",function(e){e.EVEN="EVEN",e.ODD="ODD",e.PRIME="PRIME",e.WHOLE="WHOLE",e.POSITIVE="POSITIVE",e.NEGATIVE="NEGATIVE"}(we||(we={})),function(e){e.AND="AND",e.OR="OR"}(Ee||(Ee={})),function(e){e.ROOT="ROOT",e.ABS="ABS",e.NEG="NEG",e.LN="LN",e.LOG10="LOG10",e.EXP="EXP",e.POW10="POW10"}(Ie||(Ie={})),function(e){e.SIN="SIN",e.COS="COS",e.TAN="TAN",e.ASIN="ASIN",e.ACOS="ACOS",e.ATAN="ATAN"}(xe||(xe={})),function(e){e.ROUND="ROUND",e.CEIL="CEIL",e.FLOOR="FLOOR"}(Ne||(Ne={})),function(e){e.EQUAL="EQ",e.UNEQUAL="NEQ",e.LESS_THAN="LT",e.LESS_THAN_OR_EQUAL="LTE",e.GREATER_THAN="GT",e.GREATER_THAN_OR_EQUAL="GTE"}(Oe||(Oe={}));var it=new Map;function ut(e){var t=it.get(e),r=Date.now();if(t)return t.stoppedAt?(t.startedAt+=r-t.stoppedAt,void(t.stoppedAt=void 0)):void 0;it.set(e,{startedAt:r})}function st(e){var t=it.get(e),r=Date.now();t&&(t.stoppedAt||(t.stoppedAt=r))}function ct(e){var t=it.get(e),r=Date.now();t&&(t.stoppedAt?it.delete(e):t.startedAt=r)}function dt(e){var t=it.get(e);return t?((t.stoppedAt||Date.now())-t.startedAt)/1e3:0}function lt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return dt(e).toFixed(t)}function ft(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Number(dt(e).toFixed(t))}var pt=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return Object.defineProperty(t,"a",{enumerable:!0,get:t}),t}(r(20590));const gt=r(84064),vt=r(29260);function ht(e){var t;return null===(t=u.d(e))||void 0===t?void 0:t.content}function mt(e){var t;return null===(t=u.d(e))||void 0===t?void 0:t.color}function bt(e){var t;return null===(t=u.d(e))||void 0===t?void 0:t.fontSize}function yt(e){var t;return null===(t=u.d(e))||void 0===t?void 0:t.fontFamily}function _t(e){var t;return null===(t=u.d(e))||void 0===t?void 0:t.backgroundColor}function wt(e){var t;return null===(t=u.d(e))||void 0===t?void 0:t.justifyContent}function Et(e){var t;return null===(t=u.d(e))||void 0===t?void 0:t.textAlign}function It(e){var t;return null===(t=u.f(e))||void 0===t?void 0:t.height}function xt(e){var t;return null===(t=u.f(e))||void 0===t?void 0:t.width}function Nt(e){var t;return null===(t=u.e(e))||void 0===t?void 0:t.x}function Ot(e){var t;return null===(t=u.e(e))||void 0===t?void 0:t.y}function St(e){return u.g(e)}function Rt(e,t){u.l(e,t)}function kt(e,t){u.j(e,t)}function At(e,t){u.j(e,{x:t})}function Ct(e,t){u.j(e,{y:t})}function Mt(e,t){u.k(e,t)}function Tt(e,t){"number"==typeof t&&(t<vt.m||t>vt.k)?q.a.log({type:"warning",messageId:"valueOutOfRange",widgetId:e}):u.k(e,{width:t})}function Pt(e,t){"number"==typeof t&&(t<vt.l||t>vt.j)?q.a.log({type:"warning",messageId:"valueOutOfRange",widgetId:e}):u.k(e,{height:t})}function Dt(e,t){var r=i.p(t);r=r.replace(/<br>/gi,"\n"),u.h(e,{content:r})}function Lt(e,t){W.pb(t)?(t=W.l(pt()(t)),u.h(e,{color:t})):q.a.log({type:"warning",messageId:"argNotColor",widgetId:e})}function jt(e,t){"number"==typeof t?t<gt.n||t>gt.e?q.a.log({type:"warning",messageId:"valueOutOfRange",widgetId:e}):(t=Math.round(t),u.h(e,{fontSize:t})):q.a.log({type:"error",messageId:"argNotNumber",widgetId:e,values:{name:"字号"}})}function Ut(e,t){W.pb(t)?(t=W.l(pt()(t)),u.h(e,{backgroundColor:t})):q.a.log({type:"warning",messageId:"argNotColor",widgetId:e})}function Wt(e,t,r){u.h(e,{justifyContent:r,textAlign:t})}function Bt(e,t){u.h(e,{textAlign:t})}function Ft(e,t){u.h(e,{justifyContent:t})}function Vt(e,t){u.h(e,{content:t})}const zt=r(32462);function Yt(e){var t;return null===(t=u.f(e))||void 0===t?void 0:t.width}function Kt(e){var t;return null===(t=u.e(e))||void 0===t?void 0:t.x}function Ht(e){var t;return null===(t=u.e(e))||void 0===t?void 0:t.y}function Gt(e){return u.g(e)}function Jt(e){var t;return null===(t=u.d(e))||void 0===t?void 0:t.disabled}function qt(e){var t;return null===(t=u.d(e))||void 0===t?void 0:t.color}function Xt(e){var t;return null===(t=u.d(e))||void 0===t?void 0:t.value}function Qt(e){var t;return null===(t=u.d(e))||void 0===t?void 0:t.placeholder}function Zt(e){var t;return(null===(t=u.d(e))||void 0===t?void 0:t.errorMessage)||""}function $t(e){var t;return null===(t=u.d(e))||void 0===t?void 0:t.mode}function er(e){var t;return null===(t=u.d(e))||void 0===t?void 0:t.sizeType}function tr(e){var t;return void 0!==(null===(t=u.d(e))||void 0===t?void 0:t.errorMessage)}function rr(e,t){u.l(e,t)}function nr(e,t){u.j(e,t)}function ar(e,t){u.j(e,{x:t})}function or(e,t){u.j(e,{y:t})}function ir(e,t){u.k(e,{width:t})}function ur(e,t){u.h(e,{color:t})}function sr(e,t){u.h(e,{value:i.p(t)})}function cr(e,t){u.h(e,{placeholder:i.p(t)})}function dr(e,t){u.h(e,{errorMessage:i.p(t)});var r=u.c(e);r&&zt.b(e,L.w,i.m("error",r,$t(e)))}function lr(e){u.h(e,{errorMessage:void 0})}function fr(e,t){u.h(e,{disabled:t})}function pr(e,t){u.h(e,{mode:t})}function gr(e,t){u.h(e,{sizeType:t})}const vr=r(21272),hr=r(54176);var mr=["number","string","boolean","undefined","object"];function br(e){return Z.a().getState().variableMap.get(e)}function yr(e,t){Z.a().getState().variableMap.set(e,t),"object"==typeof t?X.b(Z.a().getState().currentScreenId,"list",e,t):X.b(Z.a().getState().currentScreenId,"variable",e,t)}function _r(e,t){var r=br(e),n=r;"number"==typeof r&&"number"==typeof t?n=r+t:"string"==typeof r&&(n="".concat(r).concat(t)),yr(e,n)}function wr(e,t){var r=br(e),n=r;"number"==typeof r&&"number"==typeof t&&(n=r-t),yr(e,n)}function Er(e,t,r){Array.isArray(e)?(mr.includes(typeof t)&&e.push(t),X.b(Z.a().getState().currentScreenId,"list",r,e)):(!Array.isArray(e)&&e&&q.a.condition(!1,{type:"error",messageId:"errorArrayType"}),e||q.a.condition(!1,{type:"error",messageId:"notArray"}))}function Ir(e,t,r,n){!isNaN(r)&&Array.isArray(e)?(q.a.range(r,{min:-1},{type:"warning",messageId:"variableOutRange",values:{index:r+1}}),r>-1&&(Dr(t)&&e.splice(r,0,t),X.b(Z.a().getState().currentScreenId,"list",n,e))):(isNaN(r)&&q.a.condition(!1,{type:"error",messageId:"argNotNumber",values:{name:"项数"}}),!Array.isArray(e)&&e&&q.a.condition(!1,{type:"error",messageId:"errorArrayType"}),e||q.a.condition(!1,{type:"error",messageId:"notArray"}))}function xr(e,t,r){!isNaN(t)&&Array.isArray(e)?(q.a.range(t,{min:-1,max:e.length},{type:"warning",messageId:"variableOutRange",values:{index:t+1}}),Lr(e,t)||e.splice(t,1),X.b(Z.a().getState().currentScreenId,"list",r,e)):(isNaN(t)&&q.a.condition(!1,{type:"error",messageId:"argNotNumber",values:{name:"项数"}}),!Array.isArray(e)&&e&&q.a.condition(!1,{type:"error",messageId:"errorArrayType"}),e||q.a.condition(!1,{type:"error",messageId:"notArray"}))}function Nr(e,t){Array.isArray(e)?(e.pop(),X.b(Z.a().getState().currentScreenId,"list",t,e)):(!Array.isArray(e)&&e&&q.a.condition(!1,{type:"error",messageId:"errorArrayType"}),e||q.a.condition(!1,{type:"error",messageId:"notArray"}))}function Or(e,t){Array.isArray(e)?(e.splice(0,e.length),X.b(Z.a().getState().currentScreenId,"list",t,e)):(!Array.isArray(e)&&e&&q.a.condition(!1,{type:"error",messageId:"errorArrayType"}),e||q.a.condition(!1,{type:"error",messageId:"notArray"}))}function Sr(e,t,r,n){if(!isNaN(r)&&Array.isArray(e)){if(!q.a.range(r,{min:-1,max:e.length},{type:"error",messageId:"variableOutRange",values:{index:r+1}}))return;Dr(t)&&(e[r]=t),X.b(Z.a().getState().currentScreenId,"list",n,e)}else isNaN(r)&&q.a.condition(!1,{type:"error",messageId:"argNotNumber",values:{name:"项数"}}),!Array.isArray(e)&&e&&q.a.condition(!1,{type:"error",messageId:"errorArrayType"}),e||q.a.condition(!1,{type:"error",messageId:"notArray"})}function Rr(e,t,r){Array.isArray(e)?(Dr(t)&&(e[e.length-1]=t),X.b(Z.a().getState().currentScreenId,"list",r,e)):(!Array.isArray(e)&&e&&q.a.condition(!1,{type:"error",messageId:"errorArrayType"}),e||q.a.condition(!1,{type:"error",messageId:"notArray"}))}function kr(e,t,r){Array.isArray(e)&&Array.isArray(t)?(t.splice.apply(t,[0,t.length].concat(hr.a(e))),X.b(Z.a().getState().currentScreenId,"list",r,t)):((!Array.isArray(e)&&e||!Array.isArray(t)&&t)&&q.a.condition(!1,{type:"error",messageId:"errorArrayType"}),e&&t||q.a.condition(!1,{type:"error",messageId:"notArray"}))}function Ar(e,t){if(!isNaN(t)&&Array.isArray(e)){if(!Lr(e,t))return e[t]}else isNaN(t)&&q.a.condition(!1,{type:"error",messageId:"argNotNumber",values:{name:"项数"}}),!Array.isArray(e)&&e&&q.a.condition(!1,{type:"error",messageId:"errorArrayType"}),e||q.a.condition(!1,{type:"error",messageId:"notArray"})}function Cr(e){if(Array.isArray(e))return e[e.length-1];!Array.isArray(e)&&e&&q.a.condition(!1,{type:"error",messageId:"errorArrayType"}),e||q.a.condition(!1,{type:"error",messageId:"notArray"})}function Mr(e){if(Array.isArray(e))return e.length;!Array.isArray(e)&&e&&q.a.condition(!1,{type:"error",messageId:"errorArrayType"}),e||q.a.condition(!1,{type:"error",messageId:"notArray"})}function Tr(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(Array.isArray(e))return e.indexOf(t)+r;!Array.isArray(e)&&e&&q.a.condition(!1,{type:"error",messageId:"errorArrayType"}),e||q.a.condition(!1,{type:"error",messageId:"notArray"})}function Pr(e,t){if(Array.isArray(e))return e.some(function(e){return e===t});!Array.isArray(e)&&e&&q.a.condition(!1,{type:"error",messageId:"errorArrayType"}),e||q.a.condition(!1,{type:"error",messageId:"notArray"})}function Dr(e){return mr.includes(typeof e)}function Lr(e,t){return t<0||t>=e.length}function jr(e,t){return Ur.apply(this,arguments)}function Ur(){return(Ur=P.a(M.a.mark(function e(t,r){var n,a,o;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=T.a(t),e.prev=1,n.s();case 3:if((a=n.n()).done){e.next=9;break}return o=a.value,e.next=7,r(o);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[1,11,14,17]])}))).apply(this,arguments)}function Wr(e,t,r,n){void 0!==t?D.isPlainObject(t)?"string"==typeof r||"number"==typeof r?(t[r]=n,X.b(Z.a().getState().currentScreenId,"object",e,t)):q.a.log({type:"error",messageId:"objectKeyTypeError"}):q.a.log({type:"error",messageId:"objectTypeError"}):q.a.log({type:"error",messageId:"objectNotExist"})}function Br(e,t){if(D.isPlainObject(e)){if("string"==typeof t||"number"==typeof t)return Object.prototype.hasOwnProperty.call(e,t)||q.a.log({type:"error",messageId:"objectKeyNotExist"}),e[t];q.a.log({type:"error",messageId:"objectKeyTypeError"})}}function Fr(e,t,r){void 0!==t?D.isPlainObject(t)?"string"==typeof r||"number"==typeof r?Object.prototype.hasOwnProperty.call(t,r)?(delete t[r],X.b(Z.a().getState().currentScreenId,"object",e,t)):q.a.log({type:"error",messageId:"objectKeyNotExist"}):q.a.log({type:"error",messageId:"objectKeyTypeError"}):q.a.log({type:"error",messageId:"objectTypeError"}):q.a.log({type:"error",messageId:"objectNotExist"})}function Vr(e,t){if(void 0!==t)if(D.isPlainObject(t)){for(var r in t)delete t[r];X.b(Z.a().getState().currentScreenId,"object",e,{})}else q.a.log({type:"error",messageId:"objectTypeError"});else q.a.log({type:"error",messageId:"objectNotExist"})}function zr(e){var t={};return e.forEach(function(e){var r=vr.a(e,2),n=r[0],a=r[1];"string"==typeof n||"number"==typeof n?(Object.prototype.hasOwnProperty.call(t,n)&&q.a.log({type:"warning",messageId:"objectRepeatKey"}),t[n]=a):q.a.log({type:"error",messageId:"objectKeyTypeError"})}),t}function Yr(e){return void 0===e?(q.a.log({type:"error",messageId:"objectNotExist"}),0):D.isPlainObject(e)?Object.keys(e).length:(q.a.log({type:"error",messageId:"objectTypeError"}),0)}function Kr(e,t){return void 0===e?(q.a.log({type:"error",messageId:"objectNotExist"}),!1):D.isPlainObject(e)?"string"!=typeof t&&"number"!=typeof t?(q.a.log({type:"error",messageId:"objectKeyTypeError"}),!1):Object.prototype.hasOwnProperty.call(e,t):(q.a.log({type:"error",messageId:"objectTypeError"}),!1)}var Hr,Gr=Math.pow(2,31)-1;function Jr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;e=Math.min(e,Gr),i.d()||X.a({type:Q.b.DEVICE_VIBRATE,data:{duration:e}});try{if(navigator.vibrate&&!navigator.vibrate(e))throw new Error("vibrate error")}catch(e){console.error(e)}}function qr(){if(i.d()){if(!i.a())try{navigator.vibrate&&navigator.vibrate(0)}catch(e){console.error(e)}}else X.a({type:Q.b.DEVICE_NOT_VIBRATE})}var Xr=[0,0,0],Qr=[0,0,0],Zr=[0,0,0],$r=[0,0,0];function en(e){return Math.round(180*e/Math.PI)%360}function tn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,r=e.toFixed(t);return parseFloat(r)}function rn(){return tn(Zr[0])}function nn(){return tn(Zr[1])}function an(){return tn(Zr[2])}function on(){return tn(Qr[0])}function un(){return tn(Qr[1])}function sn(){return tn(Qr[2])}function cn(){return tn($r[0])}function dn(){return tn($r[1])}function ln(){return tn($r[2])}function fn(){}function pn(){if(!i.a())try{if("undefined"!=typeof Magnetometer){var e=new Magnetometer({frequency:60});e.addEventListener("reading",function(){Xr=[e.x,e.y,e.z]}),e.start()}if("undefined"!=typeof Accelerometer){var t=new Accelerometer({referenceFrame:"device"});t.addEventListener("reading",function(){var e=t.x,r=t.y,n=t.z;Qr=[e,r,n],Zr=function(){var e=function(e,t){var r=vr.a(e,3),n=r[0],a=r[1],o=r[2];if(!(n*n+a*a+o*o<.0981*9.81)){var i=vr.a(t,3),u=i[0],s=i[1],c=i[2],d=s*o-c*a,l=c*n-u*o,f=u*a-s*n,p=Math.sqrt(d*d+l*l+f*f);if(!(p<.1)){var g=1/p;d*=g,l*=g,f*=g;var v=1/Math.sqrt(n*n+a*a+o*o),h=(a*=v)*f-(o*=v)*l,m=o*d-(n*=v)*f,b=n*l-a*d,y=[d,l,f,h,m,b,n,a,o],_=1/Math.sqrt(u*u+s*s+c*c),w=(u*h+s*m+c*b)*_,E=(u*n+s*a+c*o)*_;return{rotation:y,inclination:[1,0,0,0,w,E,0,-E,w]}}}}(Qr,Xr);if(e)return function(e){var t=en(Math.atan2(e[1],e[4]));return[t<0?t+360:t||0,en(Math.asin(-e[7]))||0,en(Math.atan2(-e[6],e[8]))||0]}(e.rotation)}()||Zr,$r=[Zr[1],Zr[2],Zr[0]]}),t.start()}}catch(e){console.error(e)}}function gn(e){return vn.apply(this,arguments)}function vn(){return(vn=P.a(M.a.mark(function e(t){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("true"!==localStorage.getItem("".concat(t,"Permission"))){e.next=2;break}return e.abrupt("return",!0);case 2:if(!i.e()){e.next=5;break}return X.a({type:Q.b.PLAYER_PERMISSION,data:{type:t}}),e.abrupt("return",new Promise(function(e){var r=setInterval(function(){var n=localStorage.getItem("".concat(t,"DialogPermission"));"string"==typeof n&&(e("true"===n),r&&clearInterval(r))},500)}));case 5:return e.abrupt("return",!0);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function hn(){return(hn=P.a(M.a.mark(function e(t){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!=typeof permissionHandler){e.next=2;break}return e.abrupt("return",!0);case 2:return e.next=4,permissionHandler.handleRequest(t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(e){e.RECORD_AUDIO="RECORD_AUDIO"}(Hr||(Hr={}));var mn=function(e){return hn.apply(this,arguments)},bn=-161,yn=0,_n=!1;function wn(){return En.apply(this,arguments)}function En(){return(En=P.a(M.a.mark(function e(){var t;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gn("microphone");case 2:if(e.sent){e.next=6;break}return q.a.condition(!1,{type:"warning",message:"未开启声音侦测权限，无法进行侦测"}),e.abrupt("return",!1);case 6:return e.next=8,mn(Hr.RECORD_AUDIO);case 8:if(e.sent){e.next=12;break}return q.a.condition(!1,{type:"warning",message:"未开启声音侦测权限，无法进行侦测"}),e.abrupt("return",!1);case 12:return e.prev=12,e.next=15,window.navigator.mediaDevices.getUserMedia({audio:!0});case 15:return t=e.sent,localStorage.setItem("microphonePermission","true"),e.abrupt("return",t);case 20:return e.prev=20,e.t0=e.catch(12),q.a.condition(!1,{type:"warning",message:"未开启声音侦测权限，无法进行侦测"}),e.abrupt("return",!1);case 24:case"end":return e.stop()}},e,null,[[12,20]])}))).apply(this,arguments)}function In(){return xn.apply(this,arguments)}function xn(){return(xn=P.a(M.a.mark(function e(){var t,r,n,a,o,i,u;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!_n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,wn();case 4:(t=e.sent)&&(r=window.AudioContext||window.webkitAudioContext,n=new r,a=n.createMediaStreamSource(t),(o=n.createAnalyser()).fftSize=256,i=o.frequencyBinCount,u=new Uint8Array(i),a.connect(o),yn=window.setInterval(function(){o.getByteFrequencyData(u);for(var e=0,t=0;t<i;t++)e+=Math.pow(u[t],2);var r=Math.sqrt(e/i),n=r/255*160*(Math.log(r)/Math.log(10))||0;bn=Math.round(-160+n),bn=Math.max(-160,Math.min(0,bn))},50),_n=!0);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Nn(){yn&&clearInterval(yn),bn=-161,yn=0,_n=!1}function On(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:255;if(!_n)return-1;var t=Math.round((bn- -160)*(e-0)/160);return Math.min(Math.max(t,0),e)}"undefined"!=typeof window&&window.navigator.mediaDevices&&(window.navigator.mediaDevices.ondevicechange=function(){_n&&In()});var Sn=a.getSensorGravityX,Rn=a.getSensorGravityY,kn=a.getSensorGravityZ,An=a.getSensorRotationX,Cn=a.getSensorRotationY,Mn=a.getSensorRotationZ,Tn=a.getSensorOrientationAzimuth,Pn=a.unsubscribeSensor,Dn=a.subscribeSensor,Ln=o.startSoundDetection,jn=o.stopSoundDetection,Un=o.getVolumeSensorCurrentValue;const Wn=r(37819);function Bn(e){return encodeURI(e.cdnUrl)}function Fn(e){var t;return null===(t=u.f(e))||void 0===t?void 0:t.width}function Vn(e){var t;return null===(t=u.f(e))||void 0===t?void 0:t.height}function zn(e){var t;return null===(t=u.e(e))||void 0===t?void 0:t.x}function Yn(e){var t;return null===(t=u.e(e))||void 0===t?void 0:t.y}function Kn(e){return u.g(e)}function Hn(e){var t;return null===(t=u.d(e))||void 0===t?void 0:t.backgroundColor}function Gn(e){var t;return null===(t=u.d(e))||void 0===t?void 0:t.borderRadius}function Jn(e){var t;return null===(t=u.d(e))||void 0===t?void 0:t.resizeMode}function qn(e){var t;return null===(t=u.d(e))||void 0===t?void 0:t.fileId}function Xn(e,t){u.l(e,t)}function Qn(e,t){u.j(e,t)}function Zn(e,t){u.j(e,{x:t})}function $n(e,t){u.j(e,{y:t})}function ea(e,t){u.k(e,{width:t})}function ta(e,t){u.k(e,{height:t})}function ra(e,t){W.pb(t)?u.h(e,{backgroundColor:t}):q.a.log({type:"warning",messageId:"argNotColor",widgetId:e})}function na(e,t){u.h(e,{borderRadius:t})}function aa(e,t){u.h(e,{resizeMode:t})}function oa(e,t){Wn.d(t)?u.h(e,{fileId:t}):q.a.log({messageId:"imageNotExists",type:"error",widgetId:e})}function ia(e,t){oa(e,null==t?void 0:t.id)}const ua=r(48096),sa=r(21052),ca=r(73393),da=r(22765);function la(e){var t=e.ruleKey,r=e.ruleOptions,n=e.inputValue,a=e.widgetType,o=e.label,i=e.widgetId,u={label:da.a(a,o)};return"object"==typeof r&&r.message&&(r.message=da.b(a,r.message)),q.a.validate({ruleKey:t,ruleOptions:r,inputValue:n,values:u,widgetId:i})}function fa(e,t){u.l(e,t)}function pa(e,t){var r=u.b(e);if(r){var n=ca.m(r.type,"__width"),a=ca.o(r.type,"__width"),o=!1;"number"==typeof t&&("number"==typeof n&&t>n&&(o=!0),"number"==typeof a&&t<a&&(o=!0)),o?q.a.log({type:"warning",messageId:"valueOutOfRange",widgetId:e}):u.k(e,{width:t})}}function ga(e,t){var r=u.b(e);if(r){var n=ca.m(r.type,"__height"),a=ca.o(r.type,"__height"),o=!1;"number"==typeof t&&("number"==typeof n&&t>n&&(o=!0),"number"==typeof a&&t<a&&(o=!0)),o?q.a.log({type:"warning",messageId:"valueOutOfRange",widgetId:e}):u.k(e,{height:t})}}function va(e,t){u.j(e,{x:t})}function ha(e,t){u.j(e,{y:t})}function ma(e,t){var r=Math.max(Math.min(Math.round(t),gt.j),gt.r);u.i(e,r),(t<0||t>100)&&q.a.log({type:"warning",messageId:"opacityValueOutOfRange",widgetId:e})}function ba(e,t,r){u.h(e,ua.a({},t,r))}function ya(e,t,r){var n=i.p(r);u.h(e,ua.a({},t,n))}function _a(e){var t;return null===(t=u.f(e))||void 0===t?void 0:t.width}function wa(e){var t;return null===(t=u.f(e))||void 0===t?void 0:t.height}function Ea(e){var t;return null===(t=u.e(e))||void 0===t?void 0:t.x}function Ia(e){var t;return null===(t=u.e(e))||void 0===t?void 0:t.y}function xa(e){var t,r=null===(t=u.b(e))||void 0===t?void 0:t.opacity;return void 0!==r?r:gt.j}function Na(e){return u.g(e)}function Oa(e){var t;return!(null===(t=u.d(e))||void 0===t?void 0:t.disabled)}function Sa(e,t){var r;return null===(r=u.d(e))||void 0===r?void 0:r[t]}var Ra=new Map;function ka(e,t){Ra.set(e,t)}function Aa(e){return Ra.get(e)}function Ca(){return Array.from(Ra.values())}var Ma=function(e,t){var r=u.b(e);if(r){var n=sa.f(r.type);if(!(null==n?void 0:n.types.isInvisibleWidget)){var a=ca.l(r.type,t);return function(e,t){if("color"===t)try{return W.l(pt()(e))}catch(t){return e}return e}(Sa(e,t),null==a?void 0:a.valueType)||""}}var o=Aa(e);return(null==o?void 0:o.hasOwnProperty(t))?o[t]:""},Ta=function(e,t,r){var n=Aa(e),a=u.b(e);if(a){var o=ca.l(a.type,t);if(o){var s=o.valueType,c=o.validators,d=o.label;if("string"===s||"multilineString"===s){if("string"!=typeof r&&(r=i.p(r)),c){var l=W.q(c);if(!Object.entries(l).every(function(t){var n=vr.a(t,2),o=n[0],i=n[1];return la({ruleKey:"string.".concat(o),ruleOptions:i,widgetType:a.type,label:d,inputValue:r,widgetId:e})}))return}}else if("number"===s){var f;if("number"!=typeof r)return void q.a.log({type:"error",widgetId:e,messageId:"argNotNumber",values:{name:""}});if((null===(f=c)||void 0===f?void 0:f.isInteger)&&(r=Math.round(r)),c){var p=W.q(c);if(!Object.entries(p).every(function(t){var n=vr.a(t,2),o=n[0],i=n[1];return la({ruleKey:"number.".concat(o),ruleOptions:i,widgetType:a.type,label:d,inputValue:r,widgetId:e})}))return}}else if("color"===s){if(!W.pb(r))return void q.a.log({type:"warning",messageId:"argNotColor",widgetId:e})}else if("image"===s){if(!Wn.d(r))return void q.a.log({type:"warning",messageId:"imageNotExists",widgetId:e})}else if("icon"===s&&!Wn.c(r))return void q.a.log({type:"warning",messageId:"imageNotExists",widgetId:e})}n?n[t]=r:console.error("setProperty getWidgetInstance error",e,t,r);var g=sa.f(a.type);g?g.types.isInvisibleWidget||ba(e,t,r):console.error("setProperty widgetManger.getWidget error",e,t,r)}else console.error("setProperty widget is null",e,t,r)},Pa=function(e,t,r){var n,a,o=u.b(e);if(o){var i=ca.l(o.type,t),s=null==i||null===(n=i.blockOptions)||void 0===n||null===(a=n.setter)||void 0===a?void 0:a.func;if("function"==typeof s)try{s({setProperty:Ta,getProperty:Ma,id:e,key:t,value:r})}catch(e){console.error("setProperty call setter function error",e)}else Ta(e,t,r)}else console.error("setProperty widget is null",e,t,r)};function Da(e,t){return La.apply(this,arguments)}function La(){return(La=P.a(M.a.mark(function e(t,r){var n,a,o,s,c,d,l,f,p,g=arguments;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(n=g.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=g[o];if(s=Aa(t)){e.next=5;break}return console.error("callMethod getWidgetInstance error",t,r),e.abrupt("return");case 5:if(c=u.b(t)){e.next=9;break}return(d=console).error.apply(d,["callMethod widget is null",t,r].concat(a)),e.abrupt("return");case 9:if(l=ca.j(c.type,r)){e.next=13;break}return(f=console).error.apply(f,["callMethod getWidgetMethod error",t,r].concat(a)),e.abrupt("return");case 13:if(l.params.forEach(function(e,t){var r=e.valueType,n=a[t];"string"!==r&&"multilineString"!==r||"string"!=typeof n&&(a[t]=i.p(n))}),e.prev=14,"function"!=typeof s[r]){e.next=20;break}return e.next=18,s[r].apply(s,a);case 18:return p=e.sent,e.abrupt("return",p);case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(14),console.error("callMethod error:",e.t0,"methodName",r);case 25:case"end":return e.stop()}},e,null,[[14,22]])}))).apply(this,arguments)}function ja(e,t){for(var r in t){var n=t[r];Ta(e,r,n)}}var Ua=new Map,Wa=new Map;function Ba(e){return Ua.get(e)}function Fa(e,t){return Ua.set(e,t)}function Va(e){var t=Ua.get(e);t&&(Wa.delete(t),Ua.delete(e))}function za(e,t){Wa.set(e,t)}function Ya(e){return Wa.get(e)}function Ka(e){var t=Ba(e);if(t){var r=t.actors.get_actor(e),n=r.is_error,a=r.value;if(!n(a))return a;console.error("get_actor error")}}function Ha(e){var t=Ba(e);t&&t.actors.get_actor_ids().forEach(function(e){var r=t.actors.get_actor(e),n=r.is_error,a=r.value;n(a)?console.error("clearCanvasBrush get_actor error",e):a.get_brush().clear()})}function Ga(e){return Ja.apply(this,arguments)}function Ja(){return(Ja=P.a(M.a.mark(function e(t){var r,n;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ba(t)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,W.lb(20);case 5:return e.next=7,r.get_screenshot();case 7:return n=e.sent,e.abrupt("return",n);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function qa(e,t){Ba(e)?Wn.d(t)?ba(e,"backgroundImage",t):q.a.log({messageId:"imageNotExists",type:"error",widgetId:e}):console.error("Stage is null")}function Xa(e){return Sa(e,"backgroundImage")}var Qa=new Set;function Za(e){Qa.add(e)}function $a(e){Qa.delete(e)}function eo(){Qa.clear()}function to(e){return Qa.has(e)}const ro=r(87146),no=r(78698),ao=r(35162),oo=r(98111),io=r(83509),uo=r(95829),so=r(52138);function co(e,t){if("number"==typeof t){var r=u.d(e);if(r&&q.a.isNumber(t,{type:"error",widgetId:e,messageId:"argNotNumber",values:{name:"旋转角度"}})){var n=r.rotation+t/180*Math.PI;u.h(e,{rotation:n})}}else q.a.log({type:"error",messageId:"argNotNumber",widgetId:e,values:{name:"旋转角度"}})}function lo(e,t){if("number"==typeof t){var r=u.d(e);if(r){var n=r.rotation+-t/180*Math.PI;u.h(e,{rotation:n})}}else q.a.log({type:"error",messageId:"argNotNumber",widgetId:e,values:{name:"旋转"}})}function fo(e,t){if("number"==typeof t){var r=Ka(e);if(r&&q.a.isNumber(t,{type:"error",widgetId:e,messageId:"argNotNumber",values:{name:"移动距离"}})){r.move_forward(t);var n=r.get_position();u.j(e,n)}}else q.a.log({type:"error",messageId:"argNotNumber",widgetId:e,values:{name:"移动"}})}function po(e,t){"number"==typeof t?fo(e,-t):q.a.log({type:"error",messageId:"argNotNumber",widgetId:e,values:{name:"移动"}})}function go(e,t){"number"==typeof t?u.h(e,{rotation:t/180*Math.PI}):q.a.log({type:"error",messageId:"argNotNumber",widgetId:e,values:{name:"角度"}})}function vo(e,t){var r=u.e(e);if(r){var n=t.x-r.x,a=t.y-r.y;0===n&&0===a||u.h(e,{rotation:Math.atan2(a,n)})}}var ho=new Map;function mo(e,t,r,n){bo(e,t,r,n)}function bo(e,t,r,n){var a;if("string"==typeof t)if(t.includes("ACTOR")||qo(e,t)){if(q.a.isNumber(r,{type:"error",widgetId:e,messageId:"argNotNumber",values:{name:"间隔时间"}})&&q.a.isNumber(n,{type:"error",widgetId:e,messageId:"argNotNumber",values:{name:"重复次数"}})){var o,i;q.a.range(r,{min:so.d,max:so.b},{type:"warning",widgetId:e,messageId:"valueOutOfRange"}),ho.delete(e);var s=u.b(e).attributes,c=s.actionList,d=s.selectedStyleId,l=[];if(l=t.includes("ACTOR")?(null===(o=c.find(function(e){return e.id===t}))||void 0===o?void 0:o.styleList)||[]:(null===(i=c.find(function(e){return e.name===t}))||void 0===i?void 0:i.styleList)||[],(null===(a=l)||void 0===a?void 0:a.length)&&r&&n){var f=l.findIndex(function(e){return e.id===d});return-1===f&&(f=0),new Promise(function(t){_o(e,l[f].id);var a=1,o=0,i=window.setInterval(function(){if(a>=l.length&&(a=0,o++),o>=n||ho.get(e)!==i)return window.clearInterval(i),t();f=(f+1)%l.length,a++,_o(e,l[f].id)},r);ho.set(e,i)})}}}else q.a.log({type:"error",widgetId:e,messageId:"actorActionNameNotExists"});else q.a.log({type:"error",widgetId:e,messageId:"mustToBeString",values:{name:"动作"}})}function yo(e){ho.delete(e)}function _o(e,t){u.h(e,{selectedStyleId:t})}function wo(e,t){if("__random"===t){var r=D.random(-1*Math.PI,Math.PI);u.h(e,{rotation:r})}else if("__mouse"===t){var n=Ba(e);if(!n)return;var a=Ya(n);a&&vo(e,a)}else{var o=u.e(t);if(!o)return;vo(e,o)}}function Eo(e,t,r){var n=Ba(e);if(n){var a=n.actors.get_actor(e),o=a.value;if(!(0,a.is_error)(o)&&q.a.isNumber(r,{type:"error",widgetId:e,messageId:"argNotNumber",values:{name:"旋转角度"}})){var i=oo.b(r);o.rotate_around_actor(t,i)}}}function Io(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"full",n=Ba(e);if(n){var a=n.actors.get_actor(e),o=a.value;(0,a.is_error)(o)||("x"===r?o.set_position_x(t.x):"y"===r?o.set_position_y(t.y):o.set_position(t.x,t.y))}}function xo(e,t,r){q.a.isNumber(t,{type:"error",widgetId:e,messageId:"argNotNumber",values:{name:"x坐标"}})&&q.a.isNumber(r,{type:"error",widgetId:e,messageId:"argNotNumber",values:{name:"y坐标"}})&&(u.j(e,{x:t,y:r}),Io(e,{x:t,y:r}))}function No(e,t){if("__random"===t){var r=Ba(e);if(!r)return;var n=r.get_view().clientWidth,a=r.get_view().clientHeight,o=D.random(-1*n,n),i=D.random(-1*a,a);u.j(e,{x:o,y:i}),Io(e,{x:o,y:i})}else if("__mouse"===t){var s=Ba(e);if(!s)return;var c=Ya(s);if(c){var d=c.x,l=c.y;u.j(e,{x:d,y:l}),Io(e,{x:d,y:l})}}else{var f=u.e(t);if(!f)return;u.j(e,f),Io(e,f)}}function Oo(e,t){q.a.isNumber(t,{type:"error",widgetId:e,messageId:"argNotNumber",values:{name:"x坐标"}})&&(u.j(e,{x:t}),Io(e,{x:t},"x"))}function So(e,t){q.a.isNumber(t,{type:"error",widgetId:e,messageId:"argNotNumber",values:{name:"y坐标"}})&&(u.j(e,{y:t}),Io(e,{y:t},"y"))}function Ro(e,t,r){if("number"==typeof t){var n=u.e(e);if(n){if(!q.a.isNumber(t,{type:"error",widgetId:e,messageId:"argNotNumber",values:{name:"x坐标"}}))return;u.j(e,{x:n.x+r*t}),Io(e,{x:n.x+r*t},"x")}}else q.a.log({type:"error",messageId:"argNotNumber",widgetId:e,values:{name:"X坐标"}})}function ko(e,t,r){if("number"==typeof t){var n=u.e(e);n&&q.a.isNumber(t,{type:"error",widgetId:e,messageId:"argNotNumber",values:{name:"y坐标"}})&&(u.j(e,{y:n.y+r*t}),Io(e,{y:n.y+r*t},"y"))}else q.a.log({type:"error",messageId:"argNotNumber",widgetId:e,values:{name:"Y坐标"}})}function Ao(e,t,r,n){return Co.apply(this,arguments)}function Co(){return(Co=P.a(M.a.mark(function e(t,r,n,a){var o,i,s;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("number"==typeof a){e.next=3;break}return q.a.log({type:"error",messageId:"argNotNumber",widgetId:t,values:{name:"时间"}}),e.abrupt("return");case 3:if("number"==typeof r){e.next=6;break}return q.a.log({type:"error",messageId:"argNotNumber",widgetId:t,values:{name:"X坐标"}}),e.abrupt("return");case 6:if(o=Ba(t),i=u.e(t),o&&i){e.next=10;break}return e.abrupt("return");case 10:if(a<0&&q.a.log({type:"warning",messageId:"valueOutOfRange",widgetId:t}),!(a<=0)){e.next=14;break}return Ro(t,r,n),e.abrupt("return");case 14:return s=i.x+r*n,e.next=17,o.stage_animation.compose_tween(t,{variation_type:ao.f.TO,tween_vars:{position_x:s,duration:a,on_complete:function(){u.j(t,{x:s})}}});case 17:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Mo(e,t,r,n){return To.apply(this,arguments)}function To(){return(To=P.a(M.a.mark(function e(t,r,n,a){var o,i,s;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("number"==typeof a){e.next=3;break}return q.a.log({type:"error",messageId:"argNotNumber",widgetId:t,values:{name:"时间"}}),e.abrupt("return");case 3:if("number"==typeof r){e.next=6;break}return q.a.log({type:"error",messageId:"argNotNumber",widgetId:t,values:{name:"Y坐标"}}),e.abrupt("return");case 6:if(o=Ba(t),i=u.e(t),o&&i){e.next=10;break}return e.abrupt("return");case 10:if(a<0&&q.a.log({type:"warning",messageId:"valueOutOfRange",widgetId:t}),!(a<=0)){e.next=14;break}return ko(t,r,n),e.abrupt("return");case 14:return s=i.y+r*n,e.next=17,o.stage_animation.compose_tween(t,{variation_type:ao.f.TO,tween_vars:{position_y:s,duration:a,on_complete:function(){u.j(t,{y:s})}}});case 17:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Po(e,t,r,n){return Do.apply(this,arguments)}function Do(){return(Do=P.a(M.a.mark(function e(t,r,n,a){var o;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("number"==typeof r){e.next=3;break}return q.a.log({type:"error",messageId:"argNotNumber",widgetId:t,values:{name:"时间"}}),e.abrupt("return");case 3:if("number"==typeof n){e.next=6;break}return q.a.log({type:"error",messageId:"argNotNumber",widgetId:t,values:{name:"X坐标"}}),e.abrupt("return");case 6:if("number"==typeof a){e.next=9;break}return q.a.log({type:"error",messageId:"argNotNumber",widgetId:t,values:{name:"Y坐标"}}),e.abrupt("return");case 9:if(o=Ba(t)){e.next=12;break}return e.abrupt("return");case 12:if(r<0&&q.a.log({type:"warning",messageId:"valueOutOfRange",widgetId:t}),!(r<=0)){e.next=16;break}return xo(t,n,a),e.abrupt("return");case 16:return e.next=18,o.stage_animation.compose_tween(t,{variation_type:ao.f.TO,tween_vars:{position_x:n,position_y:a,duration:r,on_complete:function(){u.j(t,{x:n,y:a})}}});case 18:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Lo(e,t){u.l(e,t)}function jo(e,t){return Uo.apply(this,arguments)}function Uo(){return(Uo=P.a(M.a.mark(function e(t,r){var n,a;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Ba(t)){e.next=3;break}return e.abrupt("return");case 3:if(a=Ka(t)){e.next=6;break}return e.abrupt("return");case 6:if(q.a.isNumber(r,{type:"error",widgetId:t,messageId:"argNotNumber",values:{name:"时间"}})){e.next=8;break}return e.abrupt("return");case 8:return a.set_visible(!0),a.set_alpha(0),e.next=12,n.stage_animation.compose_tween(t,{variation_type:ao.f.TO,tween_vars:{alpha:1,duration:r}});case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Wo(e,t){return Bo.apply(this,arguments)}function Bo(){return(Bo=P.a(M.a.mark(function e(t,r){var n;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Ba(t)){e.next=3;break}return e.abrupt("return");case 3:if(q.a.isNumber(r,{type:"error",widgetId:t,messageId:"argNotNumber",values:{name:"时间"}})){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,n.stage_animation.compose_tween(t,{variation_type:ao.f.TO,tween_vars:{alpha:0,duration:r}});case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Fo(e,t){if(u.d(e)&&q.a.isNumber(t,{type:"error",widgetId:e,messageId:"argNotNumber",values:{name:"比例大小"}})){var r={x:t/=100,y:t,ratio:!1};u.h(e,{scaleAndLock:r})}}function Vo(e,t,r){var n=u.d(e);if(n&&q.a.isNumber(t,{type:"error",widgetId:e,messageId:"argNotNumber",values:{name:"比例大小"}})){var a,o={x:a=n.scaleAndLock?(n.scaleAndLock.x||0)+t/100*r:n.scale+t/100*r,y:a,ratio:!1};u.h(e,{scaleAndLock:o})}}function zo(e,t,r){var n=u.d(e);if(n&&q.a.isNumber(r,{type:"error",widgetId:e,messageId:"argNotNumber",values:{name:"比例大小"}})){var a;r/=100;var o=no.a({},n.scaleAndLock||{x:1,y:1,ratio:!1});o.ratio=!1,a="scale_x"===t?o.x=r:"scale_y"===t?o.y=r:o.x=o.y=r,q.a.range(a,{min:.01,max:100},{type:"warning",widgetId:e,messageId:"scaleOutOfRange"}),u.h(e,{scaleAndLock:o})}}function Yo(e,t){var r=u.d(e);if(r){var n=no.a({},r.scaleAndLock||{x:1,y:1,ratio:!1}),a=n.x;return"scale_y"===t&&(a=n.y),Math.round(100*a)}}function Ko(e,t,r,n){var a=u.d(e);if(a&&q.a.isNumber(r,{type:"error",widgetId:e,messageId:"argNotNumber",values:{name:"比例大小"}})){var o,i=no.a({},a.scaleAndLock||{x:1,y:1,ratio:!1});i.ratio=!1,o="scale_x"===t?i.x+=r/100*n:"scale_y"===t?i.y+=r/100*n:i.x=i.y=i.x+r/100*n,q.a.range(o,{min:.01,max:100},{type:"warning",widgetId:e,messageId:"scaleOutOfRange"}),u.h(e,{scaleAndLock:i})}}function Ho(e,t,r){var n=u.b(e);if(n&&q.a.isNumber(t,{type:"error",widgetId:e,messageId:"argNotNumber",values:{name:"不透明度"}})){var a="number"==typeof n.opacity?n.opacity:100;q.a.range(a+t*r,{min:0,max:100},{type:"warning",widgetId:e,messageId:"opacityOutOfRange"});var o=Math.min(100,Math.max(0,a+t*r));u.i(e,o)}}function Go(e,t){var r=[],n=u.b(e);return n?(n.attributes.actionList.some(function(e){var n=e.styleList.map(function(e){return e.id});return!!n.includes(t)&&(r=n,!0)}),r):r}function Jo(e){var t,r=Ka(e);if(r){var n=null===(t=r.get_current_style())||void 0===t?void 0:t.style_id;if(n){var a=Go(e,n);if(a.includes(n))return a.indexOf(n)+1}}}function qo(e,t){var r=Ka(e),n=u.b(e);if(n&&r)return n.attributes.actionList.some(function(e){return e.name===t})}function Xo(e,t){var r=Ka(e),n=u.b(e);if(!n||!r)return null;var a=n.attributes.actionList;return t.includes("ACTOR")?a.find(function(e){return e.id===t}):a.find(function(e){return e.name===t})}function Qo(e,t,r){var n,a=Xo(e,t);return a?null===(n=a.styleList[r])||void 0===n?void 0:n.id:null}function Zo(e,t){var r,n=Ka(e),a=u.b(e);if(!a||!n)return-1;var o=a.attributes.actionList,i=-1,s=T.a(o);try{for(s.s();!(r=s.n()).done;){var c=r.value.styleList.findIndex(function(e){return e.id===t});if(c>=0){i=c;break}}}catch(e){s.e(e)}finally{s.f()}return i}function $o(e,t,r){var n=Xo(e,t);return!!n&&("number"==typeof r?!!n.styleList[r-1]&&n.styleList[r-1].id:!!n.styleList.find(function(e){return e.id===r})&&r)}function ei(e,t){var r=u.d(e);if(r)switch(t){case"scale":return 100*r.scale;case"degree":return Math.ceil(r.rotation/Math.PI*180);case"style":return Jo(e);default:console.error("getActorProperty property error",t)}}function ti(e,t){ho.delete(e),u.h(e,{selectedStyleId:t})}function ri(e,t,r){var n=t;if("string"==typeof r)if(!r||r.includes("ACTOR")||qo(e,r))if(t!==$.h)if("object"!=typeof t&&"boolean"!=typeof t)if("number"==typeof t||t.includes("STYLE")){if("number"==typeof t){var a=$o(e,r,t);if(!a)return void q.a.log({type:"error",widgetId:e,messageId:"actorStyleIndexNotExists"});n=a}if(r&&!r.includes("ACTOR")&&"string"==typeof t&&t.includes("STYLE")){var o=Zo(e,t);if(o>=0){var i=Qo(e,r,o);if(!i)return void q.a.log({type:"error",widgetId:e,messageId:"actorStyleIndexNotExists"});n=i}}ho.delete(e),u.h(e,{selectedStyleId:n})}else q.a.log({type:"error",widgetId:e,messageId:"actorStyleIndexNotExists",values:{name:"造型"}});else q.a.log({type:"error",widgetId:e,messageId:"actorStyleIndexNotExists",values:{name:"造型"}});else q.a.log({type:"error",widgetId:e,messageId:"actorStyleIndexNotExists",values:{name:"造型"}});else q.a.log({type:"error",widgetId:e,messageId:"actorActionNameNotExists",values:{name:"动作"}});else q.a.log({type:"error",widgetId:e,messageId:"mustToBeString",values:{name:"动作"}})}function ni(e,t){if(Ka(e)){var r=u.d(e).selectedStyleId;if(r){var n=Go(e,r);if(null==n?void 0:n.length){var a=0;if("random"===t)a=Math.floor(Math.random()*n.length);else{var o=n.indexOf(r);if(o<=-1)return;a=(o+t+n.length)%n.length}ti(e,n[a])}}}}function ai(e){var t;return Math.ceil((null===(t=u.e(e))||void 0===t?void 0:t.x)||0)}function oi(e){var t;return Math.ceil((null===(t=u.e(e))||void 0===t?void 0:t.y)||0)}function ii(e){var t=u.d(e);if(t)return Math.ceil(t.rotation/Math.PI*180)}function ui(e,t,r,n){var a=Ba(e);if(a){var o=a.components.get_actor_dialog_manager();if(o)if(""!==t){if(q.a.isNumber(n,{type:"error",widgetId:e,messageId:"argNotNumber",values:{name:"时间"}})){var i=t.length>90?"".concat(t.substr(0,90),"..."):t;o.load_actor_dialog(e,i,r),n!==1/0&&setTimeout(function(){o.destroy_actor_dialog(e)},1e3*n)}}else o.destroy_actor_dialog(e)}}function si(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;ui(e,t,io.a.SAYING,r)}function ci(e){switch(e){case"__boundary_left":return ao.b.LEFT;case"__boundary_right":return ao.b.RIGHT;case"__boundary_top":return ao.b.TOP;default:return ao.b.BOTTOM}}var di=[ao.b.LEFT,ao.b.RIGHT,ao.b.TOP,ao.b.BOTTOM],li=new Set;function fi(e){li.add(e)}function pi(e){li.delete(e)}function gi(){li.clear()}function vi(e){return li.has(e)}function hi(e,t){var r=Ba(e);if(!r)return!1;var n=r.actors.get_actor(e),a=n.is_error,o=n.value;if(a(o)||!o.get_visible())return!1;var i=o.check_bumped(t),u=i.is_error,s=i.value;return!u(s)&&s}function mi(e,t){var r=Ba(e);if(!r)return!1;var n=r.actors.get_actor(e),a=n.is_error,o=n.value;return!(a(o)||!o.get_visible())&&("__boundary_any"===t?di.some(function(e){return o.check_relation_with_edge("collision",e)}):o.check_relation_with_edge("collision",ci(t)))}function bi(e){var t=Ba(e);if(!t)return!1;var r=Ya(t);if(!r)return!1;var n=t.actors.get_actor(e),a=n.is_error,o=n.value;if(a(o)||!o.get_visible())return!1;var i=0;return t.actors.get_actor_ids().forEach(function(e){var n=t.actors.get_actor(e).value;!a(n)&&n.get_visible()&&n.hit_test(r.x,r.y)&&n.get_z_index()>i&&(i=n.get_z_index())}),o.hit_test(r.x,r.y)&&o.get_z_index()===i}function yi(e){var t=Ba(e);if(!t)return!1;var r=t.actors.get_actor(e),n=r.is_error,a=r.value;return!n(a)&&a.has_left_stage()}function _i(e,t){if("__boundary_any"===t)return yi(e);var r=Ba(e);if(!r)return!1;var n=r.actors.get_actor(e),a=n.is_error,o=n.value;return!a(o)&&o.check_relation_with_edge("overstep",ci(t))}function wi(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;ui(e,t,io.a.THINKING,r)}function Ei(e,t,r){uo.b(function(){return hi(e,t)},r)}function Ii(e,t,r){uo.b(function(){return mi(e,t)},r)}function xi(e,t,r){"__mouse"===t&&uo.b(function(){return bi(e)},r)}function Ni(e,t){uo.b(function(){return yi(e)},t)}function Oi(e,t,r){"__boundary_any"!==t?uo.b(function(){return _i(e,t)},r):Ni(e,r)}function Si(e,t){var r=u.d(e);if(r){var n=no.a({},r.flipped||{vertical:!1,horizontal:!1});"horizontal"===t?n.horizontal=!0:n.vertical=!0,u.h(e,{flipped:n})}}function Ri(e,t){var r=u.d(e);if(!r)return!1;var n=r.flipped||{vertical:!1,horizontal:!1};return"horizontal"===t?n.horizontal:n.vertical}function ki(e,t){var r=Ba(e);if(r){var n=r.actors.get_actor(e),a=n.is_error,o=n.value;if(!a(o)){var i=o.get_z_index();"up"===t?i+=1:"down"===t?i-=1:i="top"===t?999999:0,o.set_z_index(i)}}}function Ai(e){return e&&e.get_shadow_field("ACTOR_ACTION_WRAPPER","ACTOR_ACTION_ID")||!1}function Ci(e){return e&&e.get_shadow_field("ACTOR_STYLE_WRAPPER","ACTOR_STYLE_ID")||!1}function Mi(e){try{return W.l(pt()(e))}catch(e){return""}}function Ti(e,t,r,n){try{var a=pt.a.rgb(e,t,r).alpha(n/100);return W.l(a)}catch(e){return""}}function Pi(e,t,r,n){try{var a=pt.a.hsv(e,t,r).alpha(n/100);return W.l(a)}catch(e){return""}}function Di(e){try{var t=pt()(e).hsv();return t.color.concat(100*t.valpha)}catch(e){return console.error("hexToHsv error",e),[]}}function Li(e){var t=Ka(e);return null==t?void 0:t.get_brush()}function ji(e){var t=u.d(e),r=null==t?void 0:t.isPenDown,n=Ka(e),a=null==n?void 0:n.get_brush();if(n&&a){var o=n.get_position();u.j(e,o),r?a.set_pen_down():null!=a&&a.set_pen_up()}}function Ui(e,t,r){if("number"==typeof t)if("number"==typeof r){var n=Ka(e),a=null==n?void 0:n.get_brush();n&&a&&(a.set_pen_up(),n.set_position(t,r),a.set_pen_down(),ji(e))}else q.a.log({type:"error",messageId:"argNotNumber",widgetId:e,values:{name:"y"}});else q.a.log({type:"error",messageId:"argNotNumber",widgetId:e,values:{name:"x"}})}function Wi(e,t,r,n,a){if("number"==typeof t)if("number"==typeof r)if("number"==typeof n)if("number"==typeof a){u.h(e,{updateAt:Date.now()});var o=Ka(e),i=null==o?void 0:o.get_brush();o&&i&&(i.set_pen_up(),o.set_position(t,r),i.set_pen_down(),o.set_position(n,a),ji(e))}else q.a.log({type:"error",messageId:"argNotNumber",widgetId:e,values:{name:"y2"}});else q.a.log({type:"error",messageId:"argNotNumber",widgetId:e,values:{name:"x2"}});else q.a.log({type:"error",messageId:"argNotNumber",widgetId:e,values:{name:"y1"}});else q.a.log({type:"error",messageId:"argNotNumber",widgetId:e,values:{name:"x1"}})}function Bi(e,t){return Fi.apply(this,arguments)}function Fi(){return(Fi=P.a(M.a.mark(function e(t,r){var n,a,o,i;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("number"==typeof r){e.next=3;break}return q.a.log({type:"error",messageId:"argNotNumber",widgetId:t,values:{name:"半径"}}),e.abrupt("return");case 3:if(n=Ka(t),a=null==n?void 0:n.get_brush(),n&&a){e.next=7;break}return e.abrupt("return");case 7:o=ai(t),i=oi(t),Vi(t,r,o,i);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Vi(e,t,r,n){return zi.apply(this,arguments)}function zi(){return(zi=P.a(M.a.mark(function e(t,r,n,a){var o,i,s,c;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("number"==typeof r){e.next=3;break}return q.a.log({type:"error",messageId:"argNotNumber",widgetId:t,values:{name:"半径"}}),e.abrupt("return");case 3:if("number"==typeof n){e.next=6;break}return q.a.log({type:"error",messageId:"argNotNumber",widgetId:t,values:{name:"圆心x"}}),e.abrupt("return");case 6:if("number"==typeof a){e.next=9;break}return q.a.log({type:"error",messageId:"argNotNumber",widgetId:t,values:{name:"圆心y"}}),e.abrupt("return");case 9:if(u.h(t,{updateAt:Date.now()}),o=Ka(t),i=null==o?void 0:o.get_brush(),o&&i){e.next=14;break}return e.abrupt("return");case 14:return s=Math.max(r,0),c=o.get_rotation(),e.next=18,new Promise(function(e,t){i.set_pen_up(),o.set_position(n,a-s),i.set_pen_down();for(var r=s>20?360:120,u=0;u<r;u++)o.set_rotation(360*u/r/180*Math.PI),o.move_forward(2*Math.PI*s/r);o.set_rotation(c),e(!0)});case 18:i.set_pen_up(),o.set_position(n,a),ji(t);case 21:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Yi(e,t,r){if("number"==typeof t)if("number"==typeof r){var n=Ka(e),a=null==n?void 0:n.get_brush();n&&a&&Ki(e,t,r,ai(e),oi(e))}else q.a.log({type:"error",messageId:"argNotNumber",widgetId:e,values:{name:"角度"}});else q.a.log({type:"error",messageId:"argNotNumber",widgetId:e,values:{name:"半径"}})}function Ki(e,t,r,n,a){return Hi.apply(this,arguments)}function Hi(){return(Hi=P.a(M.a.mark(function e(t,r,n,a,o){var i,s,c,d,l,f=arguments;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=f.length>5&&void 0!==f[5]?f[5]:-90,"number"==typeof r){e.next=4;break}return q.a.log({type:"error",messageId:"argNotNumber",widgetId:t,values:{name:"半径"}}),e.abrupt("return");case 4:if("number"==typeof n){e.next=7;break}return q.a.log({type:"error",messageId:"argNotNumber",widgetId:t,values:{name:"角度"}}),e.abrupt("return");case 7:if("number"==typeof a){e.next=10;break}return q.a.log({type:"error",messageId:"argNotNumber",widgetId:t,values:{name:"圆心x"}}),e.abrupt("return");case 10:if("number"==typeof o){e.next=13;break}return q.a.log({type:"error",messageId:"argNotNumber",widgetId:t,values:{name:"圆心y"}}),e.abrupt("return");case 13:if("number"==typeof i){e.next=16;break}return q.a.log({type:"error",messageId:"argNotNumber",widgetId:t,values:{name:"起始位置"}}),e.abrupt("return");case 16:if(u.h(t,{updateAt:Date.now()}),s=Ka(t),c=null==s?void 0:s.get_brush(),s&&c){e.next=21;break}return e.abrupt("return");case 21:return d=Math.max(r,0),l=s.get_rotation(),e.next=25,new Promise(function(e,t){c.set_pen_up(),s.set_position(a+d*Math.cos(i*Math.PI/180),o+d*Math.sin(i*Math.PI/180));var r=(i+90)/180*Math.PI;c.set_pen_down();for(var u=d>20?360:120,f=Math.abs(Math.ceil(u*n/360)),p=0;p<=f;p++)n>=0?(s.set_rotation(r+360*p/u/180*Math.PI),s.move_forward(2*Math.PI*d/u)):(s.set_rotation(r-360*p/u/180*Math.PI),s.move_forward(-2*Math.PI*d/u));s.set_rotation(l),e(!0)});case 25:c.set_pen_up(),s.set_position(a,o),ji(t);case 28:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Gi(e,t,r){if("number"==typeof t)if("number"==typeof r){var n=Ka(e),a=null==n?void 0:n.get_brush();n&&a&&Ji(e,t,r,ai(e),oi(e))}else q.a.log({type:"error",messageId:"argNotNumber",widgetId:e,values:{name:"边长"}});else q.a.log({type:"error",messageId:"argNotNumber",widgetId:e,values:{name:"多边形"}})}function Ji(e,t,r,n,a){return qi.apply(this,arguments)}function qi(){return(qi=P.a(M.a.mark(function e(t,r,n,a,o){var i,s,c,d,l;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("number"==typeof r){e.next=3;break}return q.a.log({type:"error",messageId:"argNotNumber",widgetId:t,values:{name:"多边形"}}),e.abrupt("return");case 3:if("number"==typeof n){e.next=6;break}return q.a.log({type:"error",messageId:"argNotNumber",widgetId:t,values:{name:"边长"}}),e.abrupt("return");case 6:if("number"==typeof a){e.next=9;break}return q.a.log({type:"error",messageId:"argNotNumber",widgetId:t,values:{name:"起点x"}}),e.abrupt("return");case 9:if("number"==typeof o){e.next=12;break}return q.a.log({type:"error",messageId:"argNotNumber",widgetId:t,values:{name:"起点y"}}),e.abrupt("return");case 12:if(u.h(t,{updateAt:Date.now()}),i=Ka(t),s=null==i?void 0:i.get_brush(),i&&s){e.next=17;break}return e.abrupt("return");case 17:return c=Math.max(r,0),d=Math.max(n,0),l=i.get_rotation(),e.next=22,new Promise(function(e,t){if(s.set_pen_up(),i.set_position(a,o),s.set_pen_down(),0!==c)for(var r=0;r<c;r++)i.set_rotation(360*r/c/180*Math.PI),i.move_forward(d);i.set_rotation(l),e(!0)});case 22:ji(t);case 23:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Xi(e){var t=Li(e);null!=t&&t.set_pen_down(),u.h(e,{isPenDown:!0})}function Qi(e){var t=Li(e);null!=t&&t.set_pen_up(),u.h(e,{isPenDown:!1})}function Zi(e,t){var r=Mi(t);if(W.pb(r)){var n=r.slice(1),a=Li(e);null!=a&&a.set_color(n),u.h(e,{color:r})}else q.a.log({type:"warning",messageId:"argNotColor",widgetId:e})}function $i(e,t){var r=Mi(t);if(W.pb(r)){var n=r.slice(1),a=Li(e);null!=a&&a.set_fill_color(n)}else q.a.log({type:"warning",messageId:"argNotColor",widgetId:e})}function eu(e,t){var r=Li(e);"start"===t?null!=r&&r.set_fill_start():null!=r&&r.draw_fill_pattern()}function tu(e){var t=Li(e),r=null==t?void 0:t.get_color();return r?"#"+r:(console.error("getBrushColor error",r),"")}function ru(e,t){if("number"==typeof t){var r=Math.max(Math.min(Math.round(t),ro.e),1),n=Li(e);null!=n&&n.set_size(r),u.h(e,{penSize:r})}else q.a.log({type:"error",messageId:"argNotNumber",widgetId:e,values:{name:"粗细"}})}function nu(e,t,r){if("number"==typeof r){var n=Li(e);if(n){var a=n.get_size()+t*r,o=Math.max(Math.min(Math.round(a),ro.e),1);n.set_size(o),u.h(e,{penSize:o})}}else q.a.log({type:"error",messageId:"argNotNumber",widgetId:e,values:{name:"粗细"}})}var au={hue:"色相",brightness:"明度",saturation:"饱和度",alpha:"透明度"};function ou(e,t,r){if("number"==typeof r){var n=Li(e);if(n)if("alpha"!==t){var a=Di(tu(e));switch(t){case"hue":a[0]=r>=0&&r<=360?Math.round(r):Math.round(r)%360;break;case"saturation":a[1]=Math.min(Math.max(Math.round(r),0),100);break;case"brightness":a[2]=Math.min(Math.max(Math.round(r),0),100);break;case"opacity":a[3]=Math.min(Math.max(Math.round(r),0),100);break;default:console.error("setBrushColorProperty error property",t)}var o=Pi(a[0],a[1],a[2],a[3]);n.set_color(o.slice(1)),u.h(e,{color:o})}else{var i=r/100;n.set_alpha(1-i)}}else q.a.log({type:"error",messageId:"argNotNumber",widgetId:e,values:{name:au[t]||""}})}function iu(e,t,r,n){if("number"==typeof n){var a=Li(e);if(a)if("alpha"!==t){var o=Di(tu(e)),i=n*r,s=o[0]+i,c=o[1]+i,d=o[2]+i,l=o[3]+i;switch(t){case"hue":o[0]=s>=0&&s<=360?Math.round(s):Math.round(s)%360;break;case"saturation":o[1]=Math.min(Math.max(Math.round(c),0),100);break;case"brightness":o[2]=Math.min(Math.max(Math.round(d),0),100);break;case"opacity":o[3]=Math.min(Math.max(Math.round(l),0),100);break;default:console.error("changeBrushColorProperty error property",t)}var f=Pi(o[0],o[1],o[2],o[3]);a.set_color(f.slice(1)),u.h(e,{color:f})}else{var p=n/100*r;a.set_alpha(a.get_alpha()-p)}}else q.a.log({type:"error",messageId:"argNotNumber",widgetId:e,values:{name:au[t]||""}})}function uu(e,t){var r=Li(e);if(r){var n=Di(tu(e));switch(t){case"hue":return Math.round(n[0]);case"saturation":return Math.round(n[1]);case"brightness":return Math.round(n[2]);case"opacity":return Math.round(n[3]);case"alpha":return Math.ceil(100-100*r.get_alpha());default:console.error("getBrushColorProperty error property",t)}}}function su(e){var t=Li(e);return null==t?void 0:t.get_size()}function cu(e){var t=Ka(e);if(t){var r=t.get_rotation();return Math.round(180*r/Math.PI)}}function du(e,t){var r=Ka(e),n=null==r?void 0:r.get_brush();if(r&&n){var a=u.a(e);if(a){var o=a.widgetIds.length,i=r.get_z_index();switch(t){case"up":r.set_z_index(i+1);break;case"down":r.set_z_index(i-1);break;case"top":r.set_z_index(o-1);break;case"bottom":r.set_z_index(0)}}}}const lu=r(474);function fu(){return{content:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",state:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none"}}function pu(e){var t,r=null===(t=u.d(e))||void 0===t?void 0:t.options;return r?r.findIndex(function(e){return e.isSelected})+1:0}function gu(e){var t,r,n=null===(t=u.b(e))||void 0===t?void 0:t.title,a=null===(r=u.d(e))||void 0===r?void 0:r.options,o=null==a?void 0:a.find(function(e){return e.isSelected});return q.a.condition(!!o,{type:"warning",messageId:"emptyContent",values:{name:n}}),(null==o?void 0:o.content)||""}function vu(e,t){var r,n,a=null===(r=u.b(e))||void 0===r?void 0:r.title,o=(null===(n=u.d(e))||void 0===n?void 0:n.options)||[],i=t>8||t<0?"getExceedingTheMaximumLimitOfRadio":"indexOutOfRange";return q.a.isNumber(t,{type:"error",messageId:"argNotNumber",values:{name:"index"}}),q.a.range(t,{min:0,max:o.length+1},{type:"warning",messageId:i,values:{name:a,index:t}}),t--,o&&o[t]?o[t].content:""}function hu(e){var t=u.d(e);return(null==t?void 0:t.headlineVisible)&&(null==t?void 0:t.headline)||""}function mu(e){var t,r=null===(t=u.d(e))||void 0===t?void 0:t.options;return(null==r?void 0:r.length)||0}function bu(e){var t;return null===(t=u.e(e))||void 0===t?void 0:t.x}function yu(e){var t;return null===(t=u.e(e))||void 0===t?void 0:t.y}function _u(e,t){u.j(e,{x:t})}function wu(e,t){u.j(e,{y:t})}function Eu(e,t){return t=i.p(t).substr(0,200),u.h(e,{headline:t})}function Iu(e,t){var r,n,a=null===(r=u.b(e))||void 0===r?void 0:r.title,o=(null===(n=u.d(e))||void 0===n?void 0:n.options)||[],i=t>8||t<0?"setExceedingTheMaximumLimitOfRadio":"indexOutOfRange";if(q.a.isNumber(t,{type:"error",messageId:"argNotNumber",values:{name:a}}),q.a.range(t,{min:0,max:9},{type:"warning",messageId:i,values:{name:a}}),o){var s=Math.min(t,8)-o.length;if(s<=0)o=o.slice(0,t);else for(;s>0;)o.push(fu()),s--}u.h(e,{options:o})}function xu(e,t,r){var n,a;r=i.p(r);var o=null===(n=u.b(e))||void 0===n?void 0:n.title,s=(null===(a=u.d(e))||void 0===a?void 0:a.options)||[],c=t>8||t<0?"setExceedingTheMaximumLimitOfRadio":"indexOutOfRange";if(q.a.isNumber(t,{type:"warning",messageId:"argNotNumber",values:{name:o}}),q.a.range(t,{min:0,max:s.length+1},{type:"warning",messageId:c,values:{name:o,index:t}}),t--,s&&s[t])return s[t].content=r.slice(0,200),u.h(e,{options:s})}function Nu(e,t,r){var n,a,o=null===(n=u.b(e))||void 0===n?void 0:n.title,i=(null===(a=u.d(e))||void 0===a?void 0:a.options)||[];q.a.isNumber(t,{type:"error",messageId:"argNotNumber",values:{name:o}}),q.a.range(t,{min:0,max:i.length+1},{messageId:"indexOutOfRange",type:"warning",values:{name:o,index:t}}),t--,i&&i[t]&&("selected"===r?i.findIndex(function(e){return e.isSelected})!==t&&(i.forEach(function(e){return e.isSelected=!1}),i[t].isSelected=!0,u.h(e,{options:i}),lu.ob(e,t+1,i[t].content)):"disabled"===r&&(i[t].state="disabled",u.h(e,{options:i})))}function Ou(e){var t,r=null===(t=u.d(e))||void 0===t?void 0:t.options;if(r)return r.forEach(function(e){return e.isSelected=!1}),u.h(e,{options:r})}function Su(e,t,r){var n,a,o=(null===(n=u.d(e))||void 0===n?void 0:n.options)||[],i=null===(a=u.b(e))||void 0===a?void 0:a.title;if(q.a.isNumber(t,{type:"error",messageId:"argNotNumber",values:{name:i}}),q.a.range(t,{min:0,max:o.length+1},{type:"warning",messageId:"indexOutOfRange",values:{name:i,index:t}}),t--,o&&o[t])return o[t].state=r,u.h(e,{options:o})}function Ru(e){var t,r=null===(t=u.d(e))||void 0===t?void 0:t.options;if(r)return r.forEach(function(e){return e.state="none"}),u.h(e,{options:r})}function ku(e,t){var r,n,a=(null===(r=u.d(e))||void 0===r?void 0:r.options)||[],o=null===(n=u.b(e))||void 0===n?void 0:n.title;if(q.a.range(t,{min:0,max:a.length+1},{type:"warning",messageId:"indexOutOfRange",values:{name:o,index:t}}),t--,a&&a[t])return a.splice(t,1),u.h(e,{options:a})}function Au(e,t){var r,n;t=i.p(t);var a=null===(r=u.b(e))||void 0===r?void 0:r.title,o=null===(n=u.d(e))||void 0===n?void 0:n.options;if(o&&o.length<8)return o.push(fu(t.slice(0,200))),u.h(e,{options:o});o&&q.a.condition(!1,{type:"warning",messageId:"outMaxRange",values:{name:a}})}function Cu(e,t){u.l(e,t)}function Mu(e,t){var r,n=null===(r=u.b(e))||void 0===r?void 0:r.title;q.a.condition(!t,{type:"warning",messageId:"widgetDisabled",values:{name:n}}),u.h(e,{disabled:t})}function Tu(){return{content:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",state:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none"}}function Pu(e){var t,r=null===(t=u.d(e))||void 0===t?void 0:t.options,n=[];return r?(r.forEach(function(e,t){return e.isSelected&&n.push(t+1)}),n):n}function Du(e){var t,r,n=null===(t=u.b(e))||void 0===t?void 0:t.title,a=null===(r=u.d(e))||void 0===r?void 0:r.options,o=[];return a?(a.forEach(function(e){return e.isSelected&&o.push(e.content)}),o.every(function(e){return""!==e})||q.a.condition(!1,{type:"warning",messageId:"emptyContent",values:{name:n}}),o):o}function Lu(e,t){var r,n,a=null===(r=u.b(e))||void 0===r?void 0:r.title,o=(null===(n=u.d(e))||void 0===n?void 0:n.options)||[],i=t>8||t<0?"getExceedingTheMaximumLimitOfRadio":"indexOutOfRange";return q.a.isNumber(t,{type:"warning",messageId:"argNotNumber",values:{name:a}}),q.a.range(t,{min:0,max:o.length+1},{type:"warning",messageId:i,values:{name:a,index:t}}),t--,o&&o[t]?o[t].content:""}function ju(e){var t=u.d(e);return(null==t?void 0:t.headlineVisible)&&(null==t?void 0:t.headline)||""}function Uu(e){var t,r=null===(t=u.d(e))||void 0===t?void 0:t.options;return(null==r?void 0:r.length)||0}function Wu(e){var t;return null===(t=u.e(e))||void 0===t?void 0:t.x}function Bu(e){var t;return null===(t=u.e(e))||void 0===t?void 0:t.y}function Fu(e,t){u.j(e,{x:t})}function Vu(e,t){u.j(e,{y:t})}function zu(e,t){return t=i.p(t).substr(0,200),u.h(e,{headline:t})}function Yu(e,t){var r,n,a=null===(r=u.b(e))||void 0===r?void 0:r.title,o=null===(n=u.d(e))||void 0===n?void 0:n.options;if(o){q.a.isNumber(t,{type:"error",messageId:"argNotNumber",values:{name:a}}),q.a.range(t,{min:0,max:9},{type:"warning",messageId:"setExceedingTheMaximumLimitOfRadio",values:{name:a}});var i=Math.min(t,8)-o.length;if(i<=0)o=o.slice(0,t);else for(;i>0;)o.push(Tu()),i--}return u.h(e,{options:o})}function Ku(e,t,r){var n,a;r=i.p(r);var o=(null===(n=u.d(e))||void 0===n?void 0:n.options)||[],s=null===(a=u.b(e))||void 0===a?void 0:a.title,c=t>8||t<0?"setExceedingTheMaximumLimitOfRadio":"indexOutOfRange";if(q.a.isNumber(t,{type:"error",messageId:"argNotNumber",values:{name:s}}),q.a.range(t,{min:0,max:o.length+1},{type:"warning",messageId:c,values:{name:s,index:t}}),t--,o&&o[t])return o[t].content=r.slice(0,200),u.h(e,{options:o})}function Hu(e,t){var r,n,a=(null===(r=u.d(e))||void 0===r?void 0:r.options)||[],o=null===(n=u.b(e))||void 0===n?void 0:n.title;if(q.a.isNumber(t,{type:"error",messageId:"argNotNumber",values:{name:o}}),q.a.range(t,{min:0,max:a.length+1},{type:"warning",messageId:"indexOutOfRange",values:{name:o,index:t}}),t--,a&&a[t]&&!a[t].isSelected){a[t].isSelected=!0,u.h(e,{options:a});var i=[],s=[];a.forEach(function(e,t){e.isSelected&&(i.push(t+1),s.push(e.content))}),lu.S(e,t+1,!0),lu.T(e,i,s)}}function Gu(e,t){var r,n,a=(null===(r=u.d(e))||void 0===r?void 0:r.options)||[],o=null===(n=u.b(e))||void 0===n?void 0:n.title;if(q.a.isNumber(t,{type:"error",messageId:"argNotNumber",values:{name:o}}),q.a.range(t,{min:0,max:a.length+1},{type:"warning",messageId:"indexOutOfRange",values:{name:o,index:t}}),t--,a&&a[t]&&a[t].isSelected){a[t].isSelected=!1,u.h(e,{options:a}),lu.S(e,t+1,!1);var i=[],s=[];a.forEach(function(e,t){e.isSelected&&(i.push(t+1),s.push(e.content))}),lu.U(e,i,s)}}function Ju(e,t){var r,n,a=(null===(r=u.d(e))||void 0===r?void 0:r.options)||[],o=null===(n=u.b(e))||void 0===n?void 0:n.title;q.a.range(t,{min:0,max:a.length+1},{type:"warning",messageId:"indexOutOfRange",values:{name:o,index:t}}),t--,a&&a[t]&&(a[t].state="disabled",q.a.condition("disabled"!==a[t].state,{type:"warning",messageId:"widgetDisabled",values:{name:o}}),u.h(e,{options:a}))}function qu(e){var t,r=null===(t=u.d(e))||void 0===t?void 0:t.options;if(r)return r.forEach(function(e){return e.isSelected=!1}),u.h(e,{options:r})}function Xu(e,t,r){var n,a,o=(null===(n=u.d(e))||void 0===n?void 0:n.options)||[],i=null===(a=u.b(e))||void 0===a?void 0:a.title;if(q.a.isNumber(t,{type:"error",messageId:"argNotNumber",values:{name:i}}),q.a.range(t,{min:0,max:o.length+1},{type:"warning",messageId:"indexOutOfRange",values:{name:i,index:t}}),t--,o&&o[t])return o[t].state=r,u.h(e,{options:o})}function Qu(e){var t,r=null===(t=u.d(e))||void 0===t?void 0:t.options;if(r)return r.forEach(function(e){return e.state="none"}),u.h(e,{options:r})}function Zu(e,t){var r,n,a=null===(r=u.b(e))||void 0===r?void 0:r.title,o=(null===(n=u.d(e))||void 0===n?void 0:n.options)||[];if(q.a.isNumber(t,{type:"error",messageId:"argNotNumber",values:{name:a}}),q.a.range(t,{min:0,max:o.length+1},{type:"error",messageId:"indexOutOfRange",values:{name:a,index:t}}),t--,o&&o[t])return o.splice(t,1),u.h(e,{options:o})}function $u(e,t){var r,n;t=i.p(t);var a=null===(r=u.b(e))||void 0===r?void 0:r.title,o=null===(n=u.d(e))||void 0===n?void 0:n.options;if(o&&o.length<8)return o.push(Tu(t.slice(0,200))),u.h(e,{options:o});o&&q.a.condition(!1,{type:"warning",messageId:"outMaxRange",values:{name:a}})}function es(e,t){u.l(e,t)}function ts(e,t){u.h(e,{disabled:t})}var rs;const ns=r(18005);!function(e){e.STACK_EXCEEDED="STACK_EXCEEDED"}(rs||(rs={}));const as=r(24720),os=r(81546);var is=new Array;function us(e){is.push(e)}function ss(){return is.pop()}function cs(){return is.length>0?is[is.length-1]:null}function ds(){return is.length}function ls(e,t){try{return us(t),e()}finally{ss()}}function fs(e,t){return ps.apply(this,arguments)}function ps(){return(ps=P.a(M.a.mark(function e(t,r){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,us(r),e.next=4,t();case 4:return e.abrupt("return",e.sent);case 5:return e.prev=5,ss(),e.finish(5);case 8:case"end":return e.stop()}},e,null,[[0,,5,8]])}))).apply(this,arguments)}function gs(){return new ns.a}function vs(e,t){return hs.apply(this,arguments)}function hs(){return(hs=P.a(M.a.mark(function e(t,r){var n,a,o,i,u=arguments;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(ds()>1e3)){e.next=3;break}throw new Error("Maximum call stack size exceeded");case 3:for(n=u.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=u[o];return e.next=6,t.call.apply(t,[void 0].concat(a));case 6:return i=e.sent,e.abrupt("return",i);case 10:if(e.prev=10,e.t0=e.catch(0),!e.t0.handled){e.next=14;break}throw e.t0;case 14:throw e.t0.handled=!0,0!==e.t0.message.indexOf("too much recursion")&&0!==e.t0.message.indexOf("Maximum call stack size exceeded")||(q.a.condition(!1,{type:"error",messageId:"overflowStack"}),lu.tb(no.a({type:rs.STACK_EXCEEDED},r))),e.t0;case 17:case"end":return e.stop()}},e,null,[[0,10]])}))).apply(this,arguments)}function ms(){for(var e="",t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.forEach(function(t){e+="".concat(os.d(t)," ")}),e}function bs(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];var o=ms.apply(void 0,n);as.b.custom("print",e,t,o)}function ys(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];var o=ms.apply(void 0,n);as.b.custom("customError",e,t,o)}function _s(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];var o=ms.apply(void 0,n);as.b.custom("customWarning",e,t,o)}function ws(e){var t;return null===(t=u.f(e))||void 0===t?void 0:t.height}function Es(e){var t;return null===(t=u.f(e))||void 0===t?void 0:t.width}function Is(e){var t;return null===(t=u.e(e))||void 0===t?void 0:t.x}function xs(e){var t;return null===(t=u.e(e))||void 0===t?void 0:t.y}function Ns(e){var t;return null===(t=u.d(e))||void 0===t?void 0:t.url}function Os(e){return u.h(e,{refreshTimestamp:Date.now()})}function Ss(e,t){"string"!=typeof t?q.a.condition(!1,{type:"warning",messageId:"mustToBeString",values:{name:"webview"}}):u.h(e,{url:t})}function Rs(e,t){u.l(e,t)}function ks(e,t){u.h(e,{disabled:t})}function As(e){var t;return null===(t=u.e(e))||void 0===t?void 0:t.x}function Cs(e){var t;return null===(t=u.e(e))||void 0===t?void 0:t.y}function Ms(e){var t;return null===(t=u.d(e))||void 0===t?void 0:t.value}function Ts(e,t){var r;(null===(r=u.d(e))||void 0===r?void 0:r.value)!==t&&(u.h(e,{value:t}),lu.Db(e,t))}function Ps(e,t){u.l(e,t)}function Ds(e,t){u.h(e,{disabled:t})}function Ls(e,t){u.j(e,{x:t})}function js(e,t){u.j(e,{y:t})}function Us(e){var t;return null===(t=u.e(e))||void 0===t?void 0:t.x}function Ws(e){var t;return null===(t=u.e(e))||void 0===t?void 0:t.y}function Bs(e){var t;return null===(t=u.d(e))||void 0===t?void 0:t.value}function Fs(e){var t;return null===(t=u.d(e))||void 0===t?void 0:t.minValue}function Vs(e){var t;return null===(t=u.d(e))||void 0===t?void 0:t.maxValue}function zs(e){var t;return null===(t=u.f(e))||void 0===t?void 0:t.width}function Ys(e){var t;return null===(t=u.f(e))||void 0===t?void 0:t.height}function Ks(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=u.d(e);if(n)if("number"==typeof t){var a=Math.round(t);a<n.minValue||a>n.maxValue?q.a.log({type:"warning",messageId:"sliderValueOutOfRange",widgetId:e}):a!==n.value&&(u.h(e,{value:a}),r&&(lu.Cb(e,a),lu.Ab(e,a),lu.Bb(e,a)))}else q.a.log({type:"error",messageId:"argNotNumber",widgetId:e,values:{name:"滑块位置"}})}function Hs(e,t){var r=u.d(e);r&&("number"==typeof t?(t===r.minValue&&q.a.log({type:"warning",messageId:"sliderMaxValueEqualMinValue",widgetId:e}),t<r.value?q.a.log({type:"warning",messageId:"sliderMaxValueOrMinValueOutOfRange",widgetId:e}):u.h(e,{maxValue:Math.round(t)})):q.a.log({type:"error",messageId:"argNotNumber",widgetId:e,values:{name:"最大值"}}))}function Gs(e,t){var r=u.d(e);r&&("number"==typeof t?(t===r.maxValue&&q.a.log({type:"warning",messageId:"sliderMaxValueEqualMinValue",widgetId:e}),t>r.value?q.a.log({type:"warning",messageId:"sliderMaxValueOrMinValueOutOfRange",widgetId:e}):u.h(e,{minValue:Math.round(t)})):q.a.log({type:"error",messageId:"argNotNumber",widgetId:e,values:{name:"最小值"}}))}function Js(e,t){u.j(e,{x:t})}function qs(e,t){u.j(e,{y:t})}function Xs(e,t){u.k(e,{width:t})}function Qs(e,t){u.l(e,t)}function Zs(e,t){u.h(e,{disabled:t})}const $s=r(51912);function ec(e,t){return new Promise(function(r,n){var a=no.a(no.a({},t),{},{reject:n,resolve:r});e(a)})}function tc(e,t,r){return rc.apply(this,arguments)}function rc(){return(rc=P.a(M.a.mark(function e(t,r,n){var a;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ec(Z.a().dispatch,$s.p(t,r,!0));case 3:if(!(a=e.sent).length){e.next=8;break}return e.abrupt("return",a[2]);case 8:if(0!==a.length){e.next=10;break}return e.abrupt("return","");case 10:return e.abrupt("return",n);case 13:return e.prev=13,e.t0=e.catch(0),lu.nb(t,e.t0,n),e.abrupt("return",n);case 17:case"end":return e.stop()}},e,null,[[0,13]])}))).apply(this,arguments)}function nc(e,t,r,n){return ac.apply(this,arguments)}function ac(){return(ac=P.a(M.a.mark(function e(t,r,n,a){var o;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o="number"==typeof n||"string"==typeof n,q.a.condition(o,{type:"error",messageId:"cloudStorageInvalidValueType",values:{key:r}}),o){e.next=4;break}return e.abrupt("return");case 4:if(!D.isNumber(n)){e.next=8;break}e.t0=n,e.next=14;break;case 8:return e.next=10,G(n);case 10:if(e.t1=e.sent,e.t1){e.next=13;break}e.t1=n;case 13:e.t0=e.t1;case 14:return n=e.t0,e.prev=15,e.next=18,ec(Z.a().dispatch,$s.q(t,r,n,typeof n));case 18:X.b("","cloud",t,""),e.next=24;break;case 21:e.prev=21,e.t2=e.catch(15),lu.nb(t,e.t2,a);case 24:case"end":return e.stop()}},e,null,[[15,21]])}))).apply(this,arguments)}function oc(e,t,r){return ic.apply(this,arguments)}function ic(){return(ic=P.a(M.a.mark(function e(t,r,n){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ec(Z.a().dispatch,$s.n(t,r,""));case 3:X.b("","cloud",t,""),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),lu.nb(t,e.t0,n);case 9:case"end":return e.stop()}},e,null,[[0,6]])}))).apply(this,arguments)}function uc(e,t){return sc.apply(this,arguments)}function sc(){return(sc=P.a(M.a.mark(function e(t,r){var n;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ec(Z.a().dispatch,$s.o(t));case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),lu.nb(t,e.t0,r),e.abrupt("return",r);case 11:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}function cc(e,t){return dc.apply(this,arguments)}function dc(){return(dc=P.a(M.a.mark(function e(t,r){var n;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ec(Z.a().dispatch,$s.o(t));case 3:return n=e.sent,e.abrupt("return",n.length);case 7:return e.prev=7,e.t0=e.catch(0),lu.nb(t,e.t0,r),e.abrupt("return",r);case 11:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}function lc(e,t,r){return fc.apply(this,arguments)}function fc(){return(fc=P.a(M.a.mark(function e(t,r,n){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ec(Z.a().dispatch,$s.p(t,r));case 3:if(!e.sent.length){e.next=6;break}return e.abrupt("return",!0);case 6:return e.abrupt("return",!1);case 9:return e.prev=9,e.t0=e.catch(0),lu.nb(t,e.t0,n),e.abrupt("return",n);case 13:case"end":return e.stop()}},e,null,[[0,9]])}))).apply(this,arguments)}function pc(e,t){return gc.apply(this,arguments)}function gc(){return(gc=P.a(M.a.mark(function e(t,r){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ec(Z.a().dispatch,$s.m(t));case 3:X.b("","cloud",t,""),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),lu.nb(t,e.t0,r);case 9:case"end":return e.stop()}},e,null,[[0,6]])}))).apply(this,arguments)}const vc=r(3741);function hc(e){return mc.apply(this,arguments)}function mc(){return(mc=P.a(M.a.mark(function e(t){var r,n,a,o,i;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=new URL(t.url),n=t.url,a=r.origin,o=a.replace("://","@SEP@"),r.host.endsWith("codemao.cn")||(n=n.replace(a,window.location.origin+"/http-widget-proxy/"+o)),e.next=10,vc.a({url:n,method:t.method,headers:no.a({},t.headers),data:t.body,withCredentials:!1});case 10:return i=e.sent,e.abrupt("return",i);case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function bc(e){var t={};return e.forEach(function(e){e.key&&(t[e.key]=e.value)}),t}function yc(e){for(var t in e)if(e[t].type===L.u){var r=e[t].attributes,n=r.body,a=r.header,o=r.params,i={url:r.url,body:n,header:bc(a),params:bc(o)};Z.a().getState().httpClientMap.set(t,i)}}function _c(e,t){var r=[];for(var n in t)r.push("".concat(n,"=").concat(t[n]));return r.length&&(e=e.includes("?")?"".concat(e).concat(r.join("&")):"".concat(e,"?").concat(r.join("&"))),e}function wc(e,t){var r=Z.a().getState().httpClientMap.get(e);r?r.url=t.toString():r={url:t.toString(),body:"",header:{},params:{}},Z.a().getState().httpClientMap.set(e,r)}function Ec(e,t){var r=Z.a().getState().httpClientMap.get(e);try{var n=JSON.parse(t)||{};r?r.header=n:r={url:"",body:"",header:n,params:{}},Z.a().getState().httpClientMap.set(e,r)}catch(e){console.info(e)}}function Ic(e,t){return xc.apply(this,arguments)}function xc(){return(xc=P.a(M.a.mark(function e(t,r){var n,a,o,u,s,c;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(n=Z.a().getState().httpClientMap.get(t))||void 0===n?void 0:n.url){e.next=3;break}return e.abrupt("return");case 3:if(W.Y(n.url)){e.next=6;break}return lu.fb(t,601,"非法的请求链接"),e.abrupt("return");case 6:if(a=new URL(n.url),o=a.search?{}:n.params,u=_c(n.url,o),!i.d()){e.next=14;break}s={headers:no.a({},n.header),method:r},window.cordova.plugin.http.sendRequest(u,s,function(e){lu.gb(t,e.status,e.data)},function(e){console.error("http client ".concat(r," error"),n.url,e),lu.fb(t,e.status,e.error)}),e.next=25;break;case 14:return e.prev=14,e.next=17,hc({url:u,headers:no.a({},n.header),method:r});case 17:c=e.sent,lu.gb(t,c.status,"string"==typeof c.data?c.data:JSON.stringify(c.data)),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(14),console.error(e.t0),e.t0.response?lu.fb(t,e.t0.response.status,"string"==typeof e.t0.response.data?e.t0.response.data:JSON.stringify(e.t0.response.data)):navigator.onLine?lu.fb(t,601,(null===e.t0||void 0===e.t0?void 0:e.t0.toString())||"request error"):(q.a.condition(!1,{type:"error",messageId:"httpOnWeakNetworkTips"}),lu.fb(t,602,"网络断开中"));case 25:case"end":return e.stop()}},e,null,[[14,21]])}))).apply(this,arguments)}function Nc(e,t,r){return Oc.apply(this,arguments)}function Oc(){return(Oc=P.a(M.a.mark(function e(t,r,n){var a,o,u,s,c;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("get"!==r&&"delete"!==r){e.next=3;break}return Ic(t,r),e.abrupt("return");case 3:if(null===(a=Z.a().getState().httpClientMap.get(t))||void 0===a?void 0:a.url){e.next=6;break}return e.abrupt("return");case 6:if(W.Y(a.url)){e.next=9;break}return lu.fb(t,601,"非法的请求链接"),e.abrupt("return");case 9:if(o=n||a.body,!i.d()){e.next=17;break}u={data:o,headers:no.a({},a.header),method:r},(s=window.cordova).plugin.http.setDataSerializer("utf8"),s.plugin.http.sendRequest(a.url,u,function(e){lu.gb(t,e.status,e.data)},function(e){console.error("http client ".concat(r," error"),a.url,e),lu.fb(t,e.status,e.error)}),e.next=28;break;case 17:return e.prev=17,e.next=20,hc({url:a.url,body:o,headers:no.a({},a.header),method:r});case 20:c=e.sent,lu.gb(t,c.status,"string"==typeof c.data?c.data:JSON.stringify(c.data)),e.next=28;break;case 24:e.prev=24,e.t0=e.catch(17),console.error(e.t0),e.t0.response?lu.fb(t,e.t0.response.status,"string"==typeof e.t0.response.data?e.t0.response.data:JSON.stringify(e.t0.response.data)):navigator.onLine?lu.fb(t,601,(null===e.t0||void 0===e.t0?void 0:e.t0.toString())||"request error"):(q.a.condition(!1,{type:"error",messageId:"httpOnWeakNetworkTips"}),lu.fb(t,602,"网络断开中"));case 28:case"end":return e.stop()}},e,null,[[17,24]])}))).apply(this,arguments)}function Sc(e){var t=Z.a().getState().httpClientMap.get(e);return t&&void 0!==t.url?t.url:""}function Rc(e){var t={};try{t=JSON.parse(e)}catch(t){console.error("jsonParseToObject error",t,e)}return t}function kc(e,t){if("string"!=typeof e)try{return e[t]||""}catch(e){return""}return""}const Ac=r(85552),Cc=r(66905),Mc=r(99666);var Tc=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return Object.defineProperty(t,"a",{enumerable:!0,get:t}),t}(r(57698));const Pc=r(48588),Dc=r(83315);var Lc="".concat(Dc.a.socketHost,":9090"),jc=function(){function e(t,r,n){var a=this;Cc.a(this,e),this.workId=t,this.roomName=r,this.roomId=n,this.members=[],this.username=void 0,this.socket=void 0,this.error=function(e){e.message?Pc.emitRoomError(e.message):Pc.emitRoomError("网络异常")},this.onMemberJoin=function(e){a.members.includes(e.username)||a.members.push(e.username),Pc.emitRoomMemberJoin(e.username)},this.onMemberLeave=function(e){var t=a.members.indexOf(e.username);-1!==t&&a.members.splice(t,1),Pc.emitRoomMemberLeave(e.username)},this.onReceiveData=function(e){Object.entries(e.data).forEach(function(e){var t=vr.a(e,2),r=t[0],n=t[1];Pc.emitRoomMessage(r,n)})}}return Mc.a(e,[{key:"join",value:function(){var e=P.a(M.a.mark(function e(t){var r=this;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ac.b(this.roomId);case 2:if(e.sent){e.next=5;break}throw new Error("Cannot join room");case 5:return this.username=t,e.abrupt("return",new Promise(function(e,n){var a=Tc()(Lc,{path:"/coconut",query:Ac.a(),transports:["websocket"]});window.socket=a,a.once("error",r.error),a.once("disconnect",r.error),a.once("connect",function(){a.emit("join",{work_id:r.workId,room_name:r.roomName,username:t,room_id:r.roomId}),a.once("join_ack",function(t){r.socket=a,r.subscribe(),e(t)}),a.off("disconnect",r.error),a.off("error",r.error)})}));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"subscribe",value:function(){var e,t,r,n;null!==(e=this.socket)&&void 0!==e&&e.on("join",this.onMemberJoin),null!==(t=this.socket)&&void 0!==t&&t.on("leave",this.onMemberLeave),null!==(r=this.socket)&&void 0!==r&&r.on("broadcast",this.onReceiveData),null!==(n=this.socket)&&void 0!==n&&n.on("error",this.error)}},{key:"unsubscribe",value:function(){var e,t,r,n;null!==(e=this.socket)&&void 0!==e&&e.off("join",this.onMemberJoin),null!==(t=this.socket)&&void 0!==t&&t.off("leave",this.onMemberLeave),null!==(r=this.socket)&&void 0!==r&&r.off("broadcast",this.onReceiveData),null!==(n=this.socket)&&void 0!==n&&n.off("error",this.error)}},{key:"leave",value:function(){var e,t;this.unsubscribe(),null!==(e=this.socket)&&void 0!==e&&e.emit("leave",{work_id:this.workId,room_name:this.roomName,room_id:this.roomId,username:this.username}),null!==(t=this.socket)&&void 0!==t&&t.close()}},{key:"broadcast",value:function(){var e=P.a(M.a.mark(function e(t){var r;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:null!==(r=this.socket)&&void 0!==r&&r.emit("broadcast",{username:this.username,room_id:this.roomId,data:t});case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"updateMemberList",value:function(){var e=P.a(M.a.mark(function e(){var t;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ac.f(this.roomId);case 2:t=e.sent,this.members=t||[];case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}(),Uc={};function Wc(e,t,r){return e.then(function(e){if(t)return Promise.resolve(t.apply(void 0,hr.a(e)))}).catch(function(e){var t,n,a=e.message;if(U.a.isAxiosError(e)&&("ECONNABORTED"===e.code?a="网络有问题":(null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.msg)&&(a=e.response.data.msg)),r)return q.a.condition(!1,{type:"error",message:"房间积木：".concat(a)}),Promise.resolve(r(a))})}function Bc(e){Uc.workId=e.workId,Ac.g(e.context)}function Fc(e,t,r){return Wc(Ac.d(e).then(function(){return Uc.username=e,[e]}),t,r)}function Vc(e,t,r,n){return zc.apply(this,arguments)}function zc(){return(zc=P.a(M.a.mark(function e(t,r,n,a){var o;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=Uc.workId,q.a.isNumber(r,{type:"error",messageId:"argNotNumber",values:{name:"房间人数"}}),e.abrupt("return",Wc(P.a(M.a.mark(function e(){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==o){e.next=2;break}return e.abrupt("return",a("not initialized"));case 2:return e.next=4,Ac.c(t,o,r).then(function(e){e||a("创建房间失败")});case 4:return e.abrupt("return",[t,r]);case 5:case"end":return e.stop()}},e)}))(),n,a));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Yc(e,t){return Kc.apply(this,arguments)}function Kc(){return(Kc=P.a(M.a.mark(function e(t,r){var n;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Uc.workId,e.abrupt("return",Wc(P.a(M.a.mark(function e(){var t,r;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==n){e.next=2;break}throw new Error("not initialized");case 2:return t=[],r=[],e.next=6,Ac.e(n).then(function(e){e&&e.forEach(function(e){t.push(e.room_name),r.push(e.username_list)}),Uc.roomList=e});case 6:return e.abrupt("return",[t,r]);case 7:case"end":return e.stop()}},e)}))(),t,r));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Hc(e,t,r){return Gc.apply(this,arguments)}function Gc(){return(Gc=P.a(M.a.mark(function e(t,r,n){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wc(P.a(M.a.mark(function e(){var r,n,a,o,i,u;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Uc.workId,n=Uc.username,!r){e.next=7;break}return e.next=4,Ac.e(r);case 4:o=e.sent,i=o.find(function(e){return e.room_name===t}),a=null==i?void 0:i.id;case 7:if(Uc.roomName=t,void 0!==r&&void 0!==a){e.next=11;break}throw console.error("进入房间失败"),new Error("进入房间失败");case 11:if(void 0!==n){e.next=14;break}throw console.error("未设置昵称"),new Error("未设置昵称");case 14:return Uc.session&&Uc.session.leave(),Uc.session=new jc(r,t,a),e.next=18,Uc.session.join(n);case 18:return u=e.sent,Uc.session.members=u.username_list,e.abrupt("return",[t,Uc.session.members.length]);case 21:case"end":return e.stop()}},e)}))(),r,n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Jc(){return qc.apply(this,arguments)}function qc(){return(qc=P.a(M.a.mark(function e(){var t;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:null!==(t=Uc.session)&&void 0!==t&&t.leave(),Uc.session=void 0;case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Xc(e,t,r){return Qc.apply(this,arguments)}function Qc(){return(Qc=P.a(M.a.mark(function e(t,r,n){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wc(P.a(M.a.mark(function e(){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Uc.session){e.next=2;break}throw new Error("no session");case 2:if(r){e.next=4;break}return e.abrupt("return",[]);case 4:return Uc.session.broadcast(ua.a({},t,r)),e.abrupt("return",[]);case 6:case"end":return e.stop()}},e)}))(),void 0,n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Zc(e,t,r){return $c.apply(this,arguments)}function $c(){return($c=P.a(M.a.mark(function e(t,r,n){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wc(P.a(M.a.mark(function e(){var t;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Uc.session){e.next=3;break}return e.abrupt("return",n("not connected"));case 3:return e.next=5,t.updateMemberList();case 5:return e.abrupt("return",[t.members]);case 6:case"end":return e.stop()}},e)}))(),r,n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ed(){return td.apply(this,arguments)}function td(){return(td=P.a(M.a.mark(function e(){var t;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null===(t=Uc.session)||void 0===t?void 0:t.roomName);case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function rd(){return nd.apply(this,arguments)}function nd(){return(nd=P.a(M.a.mark(function e(){var t;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null===(t=Uc.session)||void 0===t?void 0:t.members);case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}const ad=r(15556);var od,id=Dc.a.serverHost;function ud(e){return sd.apply(this,arguments)}function sd(){return(sd=P.a(M.a.mark(function e(t){var r;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,vc.a.post(id+"/public-api/baidu-openapi/text2audio",no.a({},t),{headers:Ac.a()});case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}const cd=r(36971);var dd=ad.a.AudioPlayer;!function(e){e[e.SOUND_MAN=1]="SOUND_MAN",e[e.SOUND_WOMAN=0]="SOUND_WOMAN",e[e.SOUND_CHILD=4]="SOUND_CHILD"}(od||(od={}));var ld={};function fd(){q.a.condition(!1,{type:"warning",messageId:"soundBlockValueTypeError"})}function pd(e,t){return gd.apply(this,arguments)}function gd(){return(gd=P.a(M.a.mark(function e(t,r){var n,a;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ud({tex:r,ctp:1,vol:9,per:od[t]});case 3:(null===(a=e.sent)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.audioUrl)&&dd.play_url(a.data.audioUrl),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}function vd(e,t){return hd.apply(this,arguments)}function hd(){return(hd=P.a(M.a.mark(function e(t,r){var n,a;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ud({tex:r,ctp:1,vol:9,per:od[t]});case 3:if(!(null===(a=e.sent)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.audioUrl)){e.next=7;break}return e.next=7,new Promise(function(e,t){dd.play_url(a.data.audioUrl,function(){return e(!0)},function(){return t()})});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}},e,null,[[0,9]])}))).apply(this,arguments)}function md(e,t){var r,n,a;function o(e){var t,r=Z.a().getState().soundFileMap;return r.get(e)||(r.forEach(function(r){r.name!==e&&"".concat(r.name,".mp3")!==e||(t=r)}),t)}if(ld[e]){if(t){var i=ld[e]._volume,u=ld[e]._rate;ld[e].unload();var s=o(t),c=dd.load(e,(null==s?void 0:s.cdnUrl)||"",!0);c.volume(i),c.rate(u),ld[e]=c}return ld[e]}var d=Z.a().getState().widgetMap.get(e),l=t||(null===(r=d.attributes)||void 0===r?void 0:r.fileId),f=null===(n=d.attributes)||void 0===n?void 0:n.audioVolume,p=null===(a=d.attributes)||void 0===a?void 0:a.audioRate,g=o(l);if(g){var v=dd.load(e,(null==g?void 0:g.cdnUrl)||"",!0);return"number"==typeof f&&v.volume(bd(f,"volume")),"number"==typeof p&&v.rate(bd(p,"rate")),ld[e]=v,v}return""}function bd(e,t){return"volume"===t&&(e=(e=e>cd.f?cd.f:e)<cd.g?cd.g:e),"rate"===t&&(e=(e=e>cd.d?cd.d:e)<cd.e?cd.e:e),e/100}function yd(e){var t=md(e);t&&!t.playing()&&t.play()}function _d(e){var t=md(e);t&&t.stop()}function wd(e){var t=md(e);t&&t.pause()}function Ed(e,t){md(e,t)}function Id(e,t){if("number"==typeof t){var r=md(e);r&&r.volume(bd(t,"volume"))}else fd()}function xd(e,t){if("number"==typeof t){var r=md(e);r&&r.rate(bd(t,"rate"))}else fd()}function Nd(e,t,r){if("number"==typeof r){var n=md(e);if(n){var a=100*n._volume;"INCREASE"===t&&(a+=r),"DECREASE"===t&&(a-=r),n.volume(bd(a,"volume"))}}else fd()}function Od(e,t,r){if("number"==typeof r){var n=md(e);if(n){var a=100*n._rate;"INCREASE"===t&&(a+=r),"DECREASE"===t&&(a-=r),n.rate(bd(a,"rate"))}}else fd()}const Sd=r(18776);function Rd(e,t){q.a.condition(!1,{type:e,messageId:t})}function kd(e,t,r){var n,a=(null==r?void 0:r.width)||700,o=(null==r?void 0:r.height)||520,i=document.createElement("div"),u=document.createElement("video"),s=document.createElement("div"),c=document.createElement("div");i.className="cameraWidgetCapture",s.className="cameraWidgetButtonBox",c.className="cameraButton",s.appendChild(c),i.appendChild(u),i.appendChild(s),u.width=a,u.height=o,s.onclick=function(){var t,r,s=document.createElement("canvas");s.width=360,s.height=o,null!==(t=s.getContext("2d"))&&void 0!==t&&t.drawImage(u,(a-360)/2,0,360,o-22,0,0,360,o+22);var c=s.toDataURL("image/jpeg");return n.stop?n.stop():n.getTracks().forEach(function(e){e.stop()}),null!=i&&null!==(r=i.parentNode)&&void 0!==r&&r.removeChild(i),e(c)},navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,navigator.getUserMedia?navigator.getUserMedia({video:!0,audio:!1},function(e){var t;n=e,localStorage.setItem("cameraPermission","true"),"srcObject"in u?u.srcObject=n:u.src=window.URL.createObjectURL(n),u.play(),null!==(t=document.getElementById(Sd.a))&&void 0!==t&&t.appendChild(i)},t):t()}function Ad(e,t,r){var n=document.createElement("input");n.style.position="absolute",n.style.top="0",n.style.width="76px",n.style.overflow="hidden",n.style.display="none",n.className="coco-camera-select",n.type="file",n.accept=r,n.name="files[]",n.onchange=function(r){var a,o,i=n.files&&n.files[0];void 0!==window.createObjectURL?o=window.createObjectURL(i):void 0!==window.URL?o=window.URL.createObjectURL(i):void 0!==window.webkitURL?o=window.webkitURL.createObjectURL(i):t(),e(o),null!==(a=n.parentNode)&&void 0!==a&&a.removeChild(n)},document.body.appendChild(n),document.body.appendChild(n),n.click()}function Cd(e){Z.a().dispatch($s.r("FRONT"===e?1:0))}function Md(e,t){return Td.apply(this,arguments)}function Td(){return(Td=P.a(M.a.mark(function e(t,r){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e,r){if(i.d())try{navigator.camera.getPicture(function(){var r=P.a(M.a.mark(function r(n){return M.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t(n);case 2:e(!0);case 3:case"end":return r.stop()}},r)}));return function(e){return r.apply(this,arguments)}}(),function(t){function r(){}e(!0),console.error("getPicture fail:",t),"number"==typeof t&&(Rd("error","cameraTakePhotoFail"),window.plugins.toast.showShortTop("相机没有权限拍照",r,r))},{quality:50,cameraDirection:Z.a().getState().mediaMap.cameraDirection,destinationType:1,saveToPhotoAlbum:!0})}catch(e){r(),console.error("getPicture error:",e),Rd("error","cameraNotSupportError")}else if(i.f()){var n=document.getElementById("appcraft-camera-input");n&&(n.onchange=function(e){var r,n=null===(r=e.target.files)||void 0===r?void 0:r[0];if(n){var a=URL.createObjectURL(n);t(a)}},n.click())}else gn("camera").then(function(r){r?navigator.mediaDevices.enumerateDevices().then(function(r){if(!r.some(function(e){return"videoinput"===e.kind}))return Rd("error","cameraNotSupportError");kd(function(){var r=P.a(M.a.mark(function r(n){return M.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t(n);case 2:e(!0);case 3:case"end":return r.stop()}},r)}));return function(e){return r.apply(this,arguments)}}(),function(){e(!0)})}).catch(function(){Rd("error","cameraNotSupportError")}):Rd("error","cameraTakePhotoFail")})});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Pd(e,t){return Dd.apply(this,arguments)}function Dd(){return(Dd=P.a(M.a.mark(function e(t,r){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e,r){if(i.d())try{navigator.device.capture.captureVideo(function(){var r=P.a(M.a.mark(function r(n){var a;return M.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t(null===(a=n[0])||void 0===a?void 0:a.fullPath);case 2:e(!0);case 3:case"end":return r.stop()}},r)}));return function(e){return r.apply(this,arguments)}}(),function(t){e(!0),Rd("error","cameraTakeVideoFail")},{limit:1})}catch(e){r(),Rd("error","cameraNotSupportError")}else Ad(function(r){e(!0),t(r)},function(){r()},"video/*"),as.b.log("videoNotSupportTips")});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ld(e,t){return jd.apply(this,arguments)}function jd(){return(jd=P.a(M.a.mark(function e(t,r){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e,r){if(i.d())try{navigator.camera.getPicture(function(){var r=P.a(M.a.mark(function r(n){return M.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t(n);case 2:e(!0);case 3:case"end":return r.stop()}},r)}));return function(e){return r.apply(this,arguments)}}(),function(t){e(!0),Rd("error","cameraPhotoFailChoose")},{sourceType:0,destinationType:1,mediaType:0})}catch(e){r(),Rd("warning","cameraPhotoFailChoose")}else Ad(function(){var r=P.a(M.a.mark(function r(n){return M.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t(n);case 2:e(!0);case 3:case"end":return r.stop()}},r)}));return function(e){return r.apply(this,arguments)}}(),function(){r()},"image/*")});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Ud=/^(20|21|22|23|[0-1]\d):[0-5]\d:[0-5]\d$/,Wd=/^[1-9]\d{3}[-/](0[1-9]|1[0-2])[-/](0[1-9]|[1-2][0-9]|3[0-1])$/,Bd=/^[1-9]\d{3}[-/](0[1-9]|1[0-2])[-/](0[1-9]|[1-2][0-9]|3[0-1])\s(20|21|22|23|[0-1]\d):[0-5]\d:[0-5]\d$/;function Fd(e){var t=e?new Date(e):new Date,r=t.getFullYear(),n=t.getMonth()+1,a=t.getDate(),o=t.getHours(),i=t.getMinutes(),u=t.getSeconds(),s="".concat(r,"-").concat(n<10?"0"+n:n,"-").concat(a<10?"0"+a:a),c="".concat(o<10?"0"+o:o,":").concat(i<10?"0"+i:i,":").concat(u<10?"0"+u:u);return{dateTime:"".concat(s," ").concat(c),date:s,time:c,y:r,m:n,d:a,h:o,min:i,s:u}}function Vd(e,t){if((Bd.test(e)||Wd.test(e)||Ud.test(e))&&(Bd.test(t)||Wd.test(t)||Ud.test(t))){if(Bd.test(e)&&Bd.test(t)||Wd.test(e)&&Wd.test(t)||Ud.test(e)&&Ud.test(t))return e===t;if(Bd.test(e)){var r=Fd(e.replace(/-/g,"/"));return Wd.test(t)?r.date===t:!!Ud.test(t)&&r.time===t}if(Bd.test(t)){var n=Fd(t.replace(/-/g,"/"));return Wd.test(e)?n.date===e:!!Ud.test(e)&&n.time===e}}return""}function zd(e,t,r){if((Bd.test(e)||Wd.test(e)||Ud.test(e))&&(Bd.test(t)||Wd.test(t)||Ud.test(t))){var n=0,a=0,o=Fd();Bd.test(e)?n=new Date(e.replace(/-/g,"/")).getTime():Ud.test(e)?n=new Date(o.date.replace(/-/g,"/")+" "+e).getTime():Wd.test(e)&&(n=new Date(e.replace(/-/g,"/")+" 00:00:00").getTime()),Bd.test(t)?a=new Date(t.replace(/-/g,"/")).getTime():Ud.test(t)?a=new Date(o.date.replace(/-/g,"/")+" "+t).getTime():Wd.test(t)&&(a=new Date(t.replace(/-/g,"/")+" 00:00:00").getTime());var i=n-a;switch(r){case"year":return Math.round(i/1e3/60/60/24/30/12*100)/100;case"month":return Math.round(i/1e3/60/60/24/30*100)/100;case"days":return Math.round(i/1e3/60/60/24*100)/100;case"hour":return Math.round(i/1e3/60/60*100)/100;case"minute":return Math.round(i/1e3/60*100)/100;case"second":return i/1e3;default:return""}}}function Yd(e){var t;null!==(t=document.getElementById("date-picker-".concat(e)))&&void 0!==t&&t.click()}function Kd(e){var t;null!==(t=document.getElementById("time-picker-".concat(e)))&&void 0!==t&&t.click()}function Hd(e,t){var r=Sa(e,"timeStamp");if(!r)return 0;var n=new Date(r);switch(t){case"year":return n.getFullYear();case"month":return n.getMonth()+1;case"date":return n.getDate();default:return 0}}function Gd(e){var t=Sa(e,"timeStamp");return t?Fd(t).date:""}function Jd(e,t){var r=Sa(e,"timeStamp");if(!r)return 0;var n=new Date(r);switch(t){case"hour":return n.getHours();case"minute":return n.getMinutes();case"second":return n.getSeconds();default:return 0}}function qd(e){var t=Sa(e,"timeStamp");return t?Fd(t).time:""}const Xd=r(35394),Qd=r(89849),Zd=r(24370),$d=r(24392);var el=new Map;function tl(e){return rl.apply(this,arguments)}function rl(){return(rl=P.a(M.a.mark(function e(t){var r,n,a,o,i;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$d.a.getAll();case 3:e.sent.forEach(function(e){el.set(e.id,e)}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("indexed idxDB.getAll catch",e.t0);case 10:for(r in t)(n=t[r]).type!==L.m&&n.type!==L.G||(a=no.a({id:n.id,name:n.title},n.attributes.db),Zd.b.set(r,ul(a,n.type)));for(o in t)(i=t[o]).type!==L.x&&i.type!==L.A||u.h(o,{dataUpdatedAt:Date.now()});case 12:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}function nl(e){return al.apply(this,arguments)}function al(){return(al=P.a(M.a.mark(function e(t){var r,n,a,o,i,s;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=[],e.t0=M.a.keys(t);case 2:if((e.t1=e.t0()).done){e.next=16;break}if(n=e.t1.value,(a=t[n]).type!==L.A||"number"!=typeof a.attributes.dataSource){e.next=14;break}if(r.push(a.id),(o=Zd.c.get(a.attributes.dataSource))?o.push(a.id):Zd.c.set(a.attributes.dataSource,[a.id]),Zd.a.get(a.attributes.dataSource)){e.next=14;break}return e.next=12,Qd.p(a.attributes.dataSource);case 12:i=e.sent,Zd.a.set(a.attributes.dataSource,i);case 14:e.next=2;break;case 16:for(s=0;s<r.length;s++)u.h(r[s],{dataUpdatedAt:Date.now()});case 17:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ol(e){return il.apply(this,arguments)}function il(){return(il=P.a(M.a.mark(function e(t){var r,n,a,o,s;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(r=Zd.c.get(t))){e.next=8;break}return e.next=5,Qd.p(t);case 5:for(n=e.sent,Zd.a.set(t,n),a=0;a<r.length;a++)(null===(o=u.d(r[a]))||void 0===o?void 0:o.dataSource)===t&&u.h(r[a],{dataUpdatedAt:Date.now()});case 8:e.next=16;break;case 10:e.prev=10,e.t0=e.catch(0),(s=e.t0.message).toLocaleLowerCase().includes("network error")&&(s="网络异常"),q.a.log({type:"error",messageId:"listViewerDataSourceFetchError",widgetId:"",values:{msg:s}}),i.d()&&window.plugins.toast.showShortTop("网络不稳定，部分云数据源获取失败，可能影响作品效果");case 16:case"end":return e.stop()}},e,null,[[0,10]])}))).apply(this,arguments)}function ul(e,t){var r=el.get(e.id);if(!r)return e;var n={};return r.data.forEach(function(e){n[e.rowId]=e}),t===L.m&&(e.data=e.data.map(function(e){return no.a(no.a({},e),n[e.rowId])})),t===L.G&&(e.data=r.data.map(function(e){return no.a(no.a({},e),n[e.rowId])})),e}function sl(){for(var e in Zd.b){var t=Zd.b.get(e);t&&$d.a.put(t).then(function(e){console.info(e)})}}function cl(e,t){"number"==typeof t&&(t>Xd.k||t<Xd.m)?q.a.log({type:"warning",messageId:"valueOutOfRange",widgetId:e}):u.k(e,{width:t})}function dl(e,t){"number"==typeof t&&(t>Xd.j||t<Xd.l)?q.a.log({type:"warning",messageId:"valueOutOfRange",widgetId:e}):u.k(e,{height:t})}function ll(e,t){u.j(e,{x:t})}function fl(e,t){u.j(e,{y:t})}function pl(e,t){var r;if("string"==typeof t){var n,a=!1;if(Zd.b.forEach(function(e){e.name===t&&(n=e.id,a=!0),e.id===t&&(a=!0)}),a){u.h(e,{dataSource:n||t});var o=null===(r=u.d(e))||void 0===r?void 0:r.templateSlotMap;for(var i in o)o[i].dataBindings="";u.h(e,{templateSlotMap:o})}else q.a.log({type:"warning",messageId:"listViewerDataSourceNotExists",widgetId:e})}else q.a.log({type:"error",messageId:"mustToBeString",values:{name:"数据源"},widgetId:e})}function gl(e,t){u.l(e,t)}function vl(e,t){u.h(e,{disabled:t})}function hl(e){var t;return null===(t=u.f(e))||void 0===t?void 0:t.width}function ml(e){var t;return null===(t=u.f(e))||void 0===t?void 0:t.height}function bl(e){var t;return null===(t=u.e(e))||void 0===t?void 0:t.x}function yl(e){var t;return null===(t=u.e(e))||void 0===t?void 0:t.y}function _l(e){var t,r=null===(t=u.d(e))||void 0===t?void 0:t.dataSource;if(!r)return"";var n=Zd.b.get(r);return n?n.name:r}function wl(e,t,r){var n,a;if("string"==typeof r){var o=null===(n=u.d(e))||void 0===n?void 0:n.templateSlotMap,i=null===(a=u.d(e))||void 0===a?void 0:a.dataSource;if(i){if(o){var s,c=Zd.b.get(i);if(c){for(var d in c.header)c.header[d].field===r&&(s=d);s&&(o[t].dataBindings=s,u.h(e,{templateSlotMap:o}))}s||q.a.log({type:"error",messageId:"gridColumnNotExists",widgetId:e})}}else q.a.log({type:"error",messageId:"listViewerNoDataSource",widgetId:e})}else q.a.log({type:"error",messageId:"mustToBeString",values:{name:"绑定名称"},widgetId:e})}function El(e,t,r,n,a){var o,i;if("number"==typeof t)if(!["color","backgroundColor"].includes(n)||"string"!=typeof a||W.pb(a)){var s=null===(o=u.d(e))||void 0===o?void 0:o.templateSlotMap,c=null===(i=u.d(e))||void 0===i?void 0:i.dataSource;if(s){var d=Zd.b.get(c||"");if(c&&d){if(t>1&&t>d.data.length||t<1)return void q.a.log({type:"error",messageId:"gridRowNotExists",widgetId:e});var l=s[r].dataBindings;if(l&&("content"===n||"fileId"===n||"backgroundImgUrl"===n))return d.data[t-1][l]=String(a),Zd.b.set(c,d),u.h(e,{dataUpdatedAt:Date.now()}),void $d.a.put(d).then(function(e){})}var f=Zd.d.get("".concat(e,"_").concat(r))||{};f[t]?f[t]=no.a(no.a({},f[t]),{},ua.a({},n,a)):f[t]=ua.a({},n,a),Zd.d.set("".concat(e,"_").concat(r),f),u.h(e,{dataUpdatedAt:Date.now()})}}else q.a.log({type:"warning",messageId:"argNotColor",widgetId:e});else q.a.log({type:"error",messageId:"argNotNumber",values:{name:"行数"},widgetId:e})}function Il(e,t,r,n){var a,o;if("number"==typeof t){var i=null===(a=u.d(e))||void 0===a?void 0:a.templateSlotMap,s=null===(o=u.d(e))||void 0===o?void 0:o.dataSource;if(i){var c=Zd.b.get(s||"");if(s&&c){if(t>1&&t>c.data.length||t<1)return void q.a.log({type:"error",messageId:"gridRowNotExists",widgetId:e});var d=i[r].dataBindings;if(d&&("content"===n||"fileId"===n||"backgroundImgUrl"===n))return c.data[t-1][d]}var l=(Zd.d.get("".concat(e,"_").concat(r))||{})[t];if(l&&void 0!==l[n])return l[n];var f=u.d(i[r].widgetId);return f?f[n]:void 0}}else q.a.log({type:"error",messageId:"argNotNumber",values:{name:"行数"},widgetId:e})}const xl=r(34164);var Nl,Ol={getBrightness:xl.getBrightness,setBrightness:function(e){if("number"==typeof e)if(e>100)q.a.condition(!1,{type:"error",messageId:"brightnessLessThan"});else if(e<0)q.a.condition(!1,{type:"error",messageId:"brightnessGreaterThan"});else{if(!i.d()){var t=e/100,r=document.getElementById("cocoScreenMask");if(r){var n=.6*(1-t);r.style.opacity=String(n)}}xl.setBrightness(e)}else q.a.condition(!1,{type:"error",messageId:"brightnessTypeError"})},setKeepScreenOn:function(e){i.d()?xl.setKeepScreenOn(e):q.a.condition(!1,{type:"warning",messageId:"brightnessKeepScreenOnNotSupported"})}};function Sl(){return Rl.apply(this,arguments)}function Rl(){return(Rl=P.a(M.a.mark(function e(){var t,r;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("getBatteryInfo"),!i.d()){e.next=5;break}return e.abrupt("return",new Promise(function(e){window.addEventListener("batterystatus",function t(r){var n={charging:r.isPlugged,level:r.level};e(n),window.removeEventListener("batterystatus",t,!1)},!1)}));case 5:if(!navigator.getBattery){e.next=13;break}return e.next=8,navigator.getBattery();case 8:return t=e.sent,r={level:100*t.level,charging:t.charging},e.abrupt("return",Promise.resolve(r));case 13:return console.error("无法获取电量值，返回 -1"),e.abrupt("return",Promise.resolve({level:-1,charging:!1}));case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}function kl(){return Al.apply(this,arguments)}function Al(){return(Al=P.a(M.a.mark(function e(){var t,r;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sl();case 2:return t=e.sent,r=t.level,e.abrupt("return",r);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Cl={getBatteryLevel:kl};const Ml=r(15309);!function(e){e.INSERT_ERROR="E1",e.COLUMN_CANNOT_FOUND="E2"}(Nl||(Nl={}));var Tl={};function Pl(e,t,r){return e.then(function(e){if(t)return e?Promise.resolve(t.apply(void 0,hr.a(e))):Promise.resolve(t())}).catch(function(e){var t,n={cloudDBName:(null===(t=Tl[e.cloudDBId])||void 0===t?void 0:t.name)||"",errorInfo:e.errorInfo,code:e.code};if(Pc.emitCloudDBError(JSON.stringify(n)),q.a.condition(!1,{type:"error",message:n.errorInfo}),r)return Promise.resolve(r(n.errorInfo))})}function Dl(e){for(var t in e){var r=e[t];r.type===L.h&&(Tl[r.attributes.cloudDbId]={columnInfo:r.attributes.columns,name:r.attributes.name})}}function Ll(e,t,r,n){return jl.apply(this,arguments)}function jl(){return(jl=P.a(M.a.mark(function e(t,r,n,a){var o;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pl(P.a(M.a.mark(function e(){var n;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o=r instanceof Array?r:r.split(","),Array.isArray(o)){e.next=4;break}throw new Error("插入数据格式错误");case 4:if(!o.every(function(e){return""===e})){e.next=6;break}throw new Error("插入空数据错误");case 6:e.next=14;break;case 8:throw e.prev=8,e.t0=e.catch(0),e.t0.cloudDBId=t,e.t0.errorInfo=e.t0.message,e.t0.code=Nl.INSERT_ERROR,e.t0;case 14:return e.prev=14,e.next=17,Ml.l(t,o);case 17:return e.abrupt("return",void 0);case 20:throw e.prev=20,e.t1=e.catch(14),n=JSON.parse(e.t1.message),e.t1.cloudDBId=t,e.t1.errorInfo=n.msg,e.t1.code=n.code,e.t1;case 27:case"end":return e.stop()}},e,null,[[0,8],[14,20]])}))(),n,a));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ul(e,t,r,n,a,o){return Wl.apply(this,arguments)}function Wl(){return(Wl=P.a(M.a.mark(function e(t,r,n,a,o,i){var u,s;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u=Tl[t].columnInfo||[],s=u.find(function(e){return e.id===r||e.name===r}),e.abrupt("return",Pl(P.a(M.a.mark(function e(){var r,o;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,s){e.next=7;break}throw(r=new Error).cloudDBId=t,r.errorInfo="所选列不存在",r.code=Nl.COLUMN_CANNOT_FOUND,r;case 7:return e.next=9,Ml.k(t,s.id,n,a);case 9:return e.abrupt("return",void 0);case 12:throw e.prev=12,e.t0=e.catch(0),o=JSON.parse(e.t0.message),e.t0.cloudDBId=t,e.t0.errorInfo=o.msg,e.t0.code=o.code,e.t0;case 19:case"end":return e.stop()}},e,null,[[0,12]])}))(),o,i));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Bl(e,t,r,n,a,o,i,u){return Fl.apply(this,arguments)}function Fl(){return(Fl=P.a(M.a.mark(function e(t,r,n,a,o,i,u,s){var c,d,l;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=Tl[t].columnInfo||[],d=c.find(function(e){return e.id===r||e.name===r}),l=c.find(function(e){return e.id===o||e.name===o}),e.abrupt("return",Pl(P.a(M.a.mark(function e(){var r,o;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,d&&l){e.next=7;break}throw(r=new Error).cloudDBId=t,r.errorInfo="所选列不存在",r.code=Nl.COLUMN_CANNOT_FOUND,r;case 7:return e.next=9,Ml.o(t,d.id,n,a,l.id,i);case 9:return e.abrupt("return",void 0);case 12:throw e.prev=12,e.t0=e.catch(0),o=JSON.parse(e.t0.message),e.t0.cloudDBId=t,e.t0.errorInfo=o.msg,e.t0.code=o.code,e.t0;case 19:case"end":return e.stop()}},e,null,[[0,12]])}))(),u,s));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Vl(e,t,r,n,a,o){return zl.apply(this,arguments)}function zl(){return(zl=P.a(M.a.mark(function e(t,r,n,a,o,i){var u,s;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u=Tl[t].columnInfo||[],s=u.find(function(e){return e.id===r||e.name===r}),e.abrupt("return",Pl(P.a(M.a.mark(function e(){var r,o,i,u,c,d;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=6;break}throw(r=new Error).cloudDBId=t,r.errorInfo="所选列不存在",r.code=Nl.COLUMN_CANNOT_FOUND,r;case 6:return e.prev=6,e.next=9,Ml.m(t,s.id,n,a);case 9:if(o=e.sent){e.next=12;break}return e.abrupt("return",[]);case 12:return i=o.columns||[],u=o.records||[],c=u.map(function(e){var t=e.values,r=[];return i.forEach(function(e){r.push(Yl(t[e.id],e.type))}),r}),e.abrupt("return",[c]);case 18:throw e.prev=18,e.t0=e.catch(6),d=JSON.parse(e.t0.message),e.t0.cloudDBId=t,e.t0.errorInfo=d.msg,e.t0.code=d.code,e.t0;case 25:case"end":return e.stop()}},e,null,[[6,18]])}))(),o,i));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Yl(e,t){return e?"number"===t?Number(e):"boolean"===t?"true"===e:e:""}function Kl(e,t,r,n){return Hl.apply(this,arguments)}function Hl(){return(Hl=P.a(M.a.mark(function e(t,r,n,a){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pl(P.a(M.a.mark(function e(){var n,a;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ml.n(t,r);case 3:return n=e.sent,e.abrupt("return",[n]);case 7:throw e.prev=7,e.t0=e.catch(0),a=JSON.parse(e.t0.message),e.t0.cloudDBId=t,e.t0.errorInfo=a.msg,e.t0.code=a.code,e.t0;case 14:case"end":return e.stop()}},e,null,[[0,7]])}))(),n,a));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Gl(e){if(e)for(var t in e){var r=e[t];(null==r?void 0:r.cdnUrl)&&W.bb(t,null==r?void 0:r.cdnUrl)}}function Jl(e,t){lu.Eb(e),function(e){Z.a().getState().widgetMap.forEach(function(t){t.type===L.A&&t.attributes.dataSource===e&&u.h(t.id,{dataUpdatedAt:Date.now()})})}(e),$d.a.put(t).then(function(){X.a({type:Q.b.PLAYER_DATA_WATCH,data:{screenId:Z.a().getState().currentScreenId,tab:L.G,id:e,value:t}})}).catch(function(e){console.error(e)}),Zd.b.set(e,t)}function ql(e,t,r,n){var a=Zd.b.get(e);if(a){var o=uf(a,t);if(!o)return void q.a.log({type:"error",messageId:"columnNotExists",widgetId:e});if("number"!=typeof r)return void q.a.log({type:"error",messageId:"argNotNumber",values:{name:"行"},widgetId:e});var i=Math.round(r);if(i<=0||i>a.data.length)return void q.a.log({type:"error",messageId:"rowNotExists",widgetId:e});a.data[i-1][o]="object"==typeof n?JSON.stringify(n):String(n),Jl(e,a)}}function Xl(e,t){var r=Zd.b.get(e);if(r){for(var n in t)t[n]="object"==typeof t[n]?JSON.stringify(t[n]):String(t[n]);var a=no.a({rowId:i.j("ROW")},t);r.data.push(a),Jl(e,r)}}function Ql(e,t,r){var n=Zd.b.get(e);if(n){if("number"!=typeof t)return void q.a.log({type:"error",messageId:"argNotNumber",values:{name:"行"},widgetId:e});var a=Math.round(t);if(a<=0)return void q.a.log({type:"error",messageId:"rowNotExists",widgetId:e});for(var o in r)r[o]="object"==typeof r[o]?JSON.stringify(r[o]):String(r[o]);var u=no.a({rowId:i.j("ROW")},r);a>n.data.length?n.data.push(u):n.data.splice(a-1,0,u),Jl(e,n)}}function Zl(e){var t=Zd.b.get(e);if(t){if(0===t.data.length)return void q.a.log({type:"error",messageId:"rowNotExists",widgetId:e});t.data.pop(),Jl(e,t)}}function $l(e){var t=Zd.b.get(e);t&&(t.data=[],Jl(e,t))}function ef(e,t){var r=Zd.b.get(e);if(r){if("number"!=typeof t)return void q.a.log({type:"error",messageId:"argNotNumber",values:{name:"行"},widgetId:e});var n=Math.round(t);if(n<=0||n>r.data.length)return void q.a.log({type:"error",messageId:"rowNotExists",widgetId:e});r.data.splice(n-1,1),Jl(e,r)}}function tf(e,t,r){var n=Zd.b.get(e);if(n){var a=uf(n,t);if(!a)return void q.a.log({type:"error",messageId:"columnNotExists",widgetId:e});if("number"!=typeof r)return void q.a.log({type:"error",messageId:"argNotNumber",values:{name:"行"},widgetId:e});var o=Math.round(r);return o<=0||o>n.data.length?void q.a.log({type:"error",messageId:"rowNotExists",widgetId:e}):n.data[o-1][a]||""}}function rf(e){var t=Zd.b.get(e);return(null==t?void 0:t.data.length)||0}function nf(e,t){var r=Zd.b.get(e);if(r){var n=uf(r,t);if(!n)return void q.a.log({type:"error",messageId:"columnNotExists",widgetId:e});var a=[];return r.data.forEach(function(e){return a.push(e[n]||"")}),a}}function af(e){var t=Zd.b.get(e);if(t){if(0===t.data.length)return void q.a.log({type:"error",messageId:"rowNotExists",widgetId:e});var r={},n=t.data[t.data.length-1];for(var a in t.header)r[t.header[a].field]=n[a]||"";return r}}function of(e,t){var r=Zd.b.get(e);if(r){if("number"!=typeof t)return void q.a.log({type:"error",messageId:"argNotNumber",values:{name:"行"},widgetId:e});var n=Math.round(t);if(n<=0||n>r.data.length)return void q.a.log({type:"error",messageId:"rowNotExists",widgetId:e});var a={},o=r.data[n-1];for(var i in r.header)a[r.header[i].field]=o[i]||"";return a}}function uf(e,t){var r="";if("number"==typeof t){var n=Math.round(t);if(n<=0||n>Object.keys(e.header).length)return r;var a=1;for(var o in e.header){if(a===n){r=o;break}a++}}if("string"==typeof t)for(var i in e.header)if(i===t||e.header[i].field===t){r=i;break}return r}function sf(e,t){var r=Object.keys(e),n=Object.keys(t);return{addColumnsIds:n.filter(function(e){return-1===r.indexOf(e)}),removeColumnsIds:r.filter(function(e){return-1===n.indexOf(e)}),updateColumns:n.filter(function(e){return r.indexOf(e)>=0}).filter(function(r){return e[r].field!==t[r].field})}}function cf(e,t,r){return df.apply(this,arguments)}function df(){return(df=P.a(M.a.mark(function e(t,r,n){var a,o,i,u,s,c,d,l;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=sf(r.header,n.header),o=a.addColumnsIds,i=a.removeColumnsIds,e.next=3,$d.a.get(t);case 3:if(u=e.sent){e.next=10;break}return e.next=7,$d.a.put(n);case 7:return e.next=9,$d.a.get(t);case 9:case 19:return e.abrupt("return",e.sent);case 10:s=u.data,c=T.a(s);try{for(l=function(){var e=d.value;i.forEach(function(t){delete e[t]})},c.s();!(d=c.n()).done;)l()}catch(e){c.e(e)}finally{c.f()}return u.header=n.header,o.forEach(function(e){var t=n.data.map(function(t){return t[e]});s.forEach(function(r){r[e]=t.pop()||""})}),e.next=17,$d.a.put(u);case 17:return e.next=19,$d.a.get(t);case 20:case"end":return e.stop()}},e)}))).apply(this,arguments)}function lf(e){return ff.apply(this,arguments)}function ff(){return(ff=P.a(M.a.mark(function e(t){var r,n;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=$.Bb(t))){e.next=10;break}return n=r.attributes.db,e.next=5,$d.a.get(t);case 5:if(!e.sent){e.next=9;break}return e.next=9,$d.a.put(no.a({id:r.id,name:r.title},n));case 9:X.a({type:Q.b.PLAYER_DATA_WATCH,data:{screenId:Z.a().getState().currentScreenId,tab:L.G,id:t,value:n}});case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}const pf=r(65252),gf=r(27759);var vf="".concat(B.a.serverHost,"/coconut");function hf(e,t,r){return mf.apply(this,arguments)}function mf(){return(mf=P.a(M.a.mark(function e(t,r,n){var a,o,i,u,s,c,d,l;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={key:r.toString(),type:"string",value:n},e.next=4,gf.a("".concat(JSON.stringify(a)));case 4:return o=e.sent,i=o.sign,u=o.timestamp,e.next=9,pf.a.post(vf+"/webdb/try/dict/".concat(t,"/set"),{key:r,type:"string",value:n},{headers:no.a({env:1,sign:i,timestamp:u},Ac.a())});case 9:if(s=e.sent,200!==(c=s.data).code){e.next=15;break}return e.abrupt("return",c.data);case 15:throw 40400914===c.code&&(c.msg="容量已达上限"),new Error(c.msg);case 17:e.next=25;break;case 19:if(e.prev=19,e.t0=e.catch(0),!(null===(l=e.t0.response)||void 0===l||null===(d=l.data)||void 0===d?void 0:d.msg)){e.next=24;break}throw new Error(JSON.stringify(null==l?void 0:l.data));case 24:throw new Error(JSON.stringify({code:null==l?void 0:l.status,msg:e.t0.message}));case 25:case"end":return e.stop()}},e,null,[[0,19]])}))).apply(this,arguments)}function bf(e,t){return yf.apply(this,arguments)}function yf(){return(yf=P.a(M.a.mark(function e(t,r){var n,a,o,i,u,s,c;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,gf.a("dictId=".concat(t,"&id=&key=").concat(r));case 3:return n=e.sent,a=n.sign,o=n.timestamp,e.next=8,pf.a.delete(vf+"/webdb/try/dict/".concat(t,"/remove?key=").concat(r,"&id="),{headers:no.a({env:1,sign:a,timestamp:o},Ac.a())});case 8:if(i=e.sent,200!==(u=i.data).code){e.next=14;break}return e.abrupt("return",u.data);case 14:throw new Error(u.msg);case 15:e.next=23;break;case 17:if(e.prev=17,e.t0=e.catch(0),!(null===(c=e.t0.response)||void 0===c||null===(s=c.data)||void 0===s?void 0:s.msg)){e.next=22;break}throw new Error(JSON.stringify(null==c?void 0:c.data));case 22:throw new Error(JSON.stringify({code:null==c?void 0:c.status,msg:e.t0.message}));case 23:case"end":return e.stop()}},e,null,[[0,17]])}))).apply(this,arguments)}function _f(e,t){return wf.apply(this,arguments)}function wf(){return(wf=P.a(M.a.mark(function e(t,r){var n,a,o,i,u,s,c;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,gf.a("dictId=".concat(t,"&key=").concat(r));case 3:return n=e.sent,a=n.sign,o=n.timestamp,e.next=8,pf.a.get(vf+"/webdb/try/dict/".concat(t,"/getvalue"),{params:{key:r},headers:no.a({env:1,sign:a,timestamp:o},Ac.a())});case 8:if(i=e.sent,200!==(u=i.data).code){e.next=14;break}return e.abrupt("return",u.data);case 14:throw new Error(u.msg);case 15:e.next=23;break;case 17:if(e.prev=17,e.t0=e.catch(0),!(null===(c=e.t0.response)||void 0===c||null===(s=c.data)||void 0===s?void 0:s.msg)){e.next=22;break}throw new Error(JSON.stringify(null==c?void 0:c.data));case 22:throw new Error(JSON.stringify({code:null==c?void 0:c.status,msg:e.t0.message}));case 23:case"end":return e.stop()}},e,null,[[0,17]])}))).apply(this,arguments)}function Ef(e){return If.apply(this,arguments)}function If(){return(If=P.a(M.a.mark(function e(t){var r,n,a,o,i,u,s;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,gf.a("dictId=".concat(t));case 3:return r=e.sent,n=r.sign,a=r.timestamp,e.next=8,pf.a.get(vf+"/webdb/try/dict/".concat(t,"/keys"),{headers:no.a({env:1,sign:n,timestamp:a},Ac.a())});case 8:if(o=e.sent,200!==(i=o.data).code){e.next=14;break}return e.abrupt("return",i.data);case 14:throw new Error(i.msg);case 15:e.next=23;break;case 17:if(e.prev=17,e.t0=e.catch(0),!(null===(s=e.t0.response)||void 0===s||null===(u=s.data)||void 0===u?void 0:u.msg)){e.next=22;break}throw new Error(JSON.stringify(null==s?void 0:s.data));case 22:throw new Error(JSON.stringify({code:null==s?void 0:s.status,msg:e.t0.message}));case 23:case"end":return e.stop()}},e,null,[[0,17]])}))).apply(this,arguments)}function xf(e){return Nf.apply(this,arguments)}function Nf(){return(Nf=P.a(M.a.mark(function e(t){var r,n,a,o,i,u,s;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,gf.a("dictId=".concat(t));case 3:return r=e.sent,n=r.sign,a=r.timestamp,e.next=8,pf.a.delete(vf+"/webdb/try/dict/clear/".concat(t),{headers:no.a({env:1,sign:n,timestamp:a},Ac.a())});case 8:if(o=e.sent,200!==(i=o.data).code){e.next=14;break}return e.abrupt("return",i.data);case 14:throw new Error(i.msg);case 15:e.next=23;break;case 17:if(e.prev=17,e.t0=e.catch(0),!(null===(s=e.t0.response)||void 0===s||null===(u=s.data)||void 0===u?void 0:u.msg)){e.next=22;break}throw new Error(JSON.stringify(null==s?void 0:s.data));case 22:throw new Error(JSON.stringify({code:null==s?void 0:s.status,msg:e.t0.message}));case 23:case"end":return e.stop()}},e,null,[[0,17]])}))).apply(this,arguments)}const Of=r(5872);function Sf(e,t,r,n,a){return r.then(function(e){if(n)return e?Promise.resolve(n.apply(void 0,hr.a(e))):Promise.resolve(n())}).catch(function(r){var n=r.errorInfo||r.message;if(n.toLocaleLowerCase().includes("network error")&&(n="网络异常"),Pc.emitCloudDictError("".concat(e,"_").concat(t),n),q.a.log({type:"error",message:n,widgetId:e}),a)return Promise.resolve(a(n))})}function Rf(e){var t;return null===(t=u.d(e))||void 0===t?void 0:t.cloudDictId}function kf(e,t,r,n,a){return Af.apply(this,arguments)}function Af(){return(Af=P.a(M.a.mark(function e(t,r,n,a,o){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==$.h){e.next=2;break}return e.abrupt("return");case 2:return e.abrupt("return",Sf(t,Of.a.SETTER,P.a(M.a.mark(function e(){var a,o,i;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a=Rf(t)){e.next=4;break}throw new Error(JSON.stringify({msg:"未绑定数据源"}));case 4:if(r!==$.h){e.next=6;break}throw new Error(JSON.stringify({msg:"未选择key"}));case 6:if("string"==typeof r||"number"==typeof r){e.next=8;break}throw new Error(JSON.stringify({msg:"嵌入积木的返回值不是字符串类型"}));case 8:if(!(r.toString().length>150)){e.next=10;break}throw new Error(JSON.stringify({msg:"超出key长度限制（150个字符）"}));case 10:if(!((o="object"==typeof n?JSON.stringify(n):n.toString()).length>2e3)){e.next=13;break}throw new Error(JSON.stringify({msg:"超出value长度限制（2k个字符）"}));case 13:return e.next=15,hf(a,r.toString(),o);case 15:return e.abrupt("return",void 0);case 18:throw e.prev=18,e.t0=e.catch(0),i=JSON.parse(e.t0.message),e.t0.errorInfo=i.msg,e.t0;case 23:case"end":return e.stop()}},e,null,[[0,18]])}))(),a,o));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Cf(e,t,r,n){return Mf.apply(this,arguments)}function Mf(){return(Mf=P.a(M.a.mark(function e(t,r,n,a){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==$.h){e.next=2;break}return e.abrupt("return");case 2:return e.abrupt("return",Sf(t,Of.a.DELETE,P.a(M.a.mark(function e(){var n,a;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=Rf(t)){e.next=4;break}throw new Error(JSON.stringify({msg:"未绑定数据源"}));case 4:if(r!==$.h){e.next=6;break}throw new Error(JSON.stringify({msg:"未选择key"}));case 6:if("string"==typeof r||"number"==typeof r){e.next=8;break}throw new Error(JSON.stringify({msg:"嵌入积木的返回值不是字符串类型"}));case 8:return e.next=10,bf(n,r.toString());case 10:return e.abrupt("return",void 0);case 13:throw e.prev=13,e.t0=e.catch(0),a=JSON.parse(e.t0.message),e.t0.errorInfo=a.msg,e.t0;case 18:case"end":return e.stop()}},e,null,[[0,13]])}))(),n,a));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Tf(e,t,r,n){return Pf.apply(this,arguments)}function Pf(){return(Pf=P.a(M.a.mark(function e(t,r,n,a){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==$.h){e.next=2;break}return e.abrupt("return");case 2:return e.abrupt("return",Sf(t,Of.a.QUERY,P.a(M.a.mark(function e(){var n,a,o;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=Rf(t)){e.next=4;break}throw new Error(JSON.stringify({msg:"未绑定数据源"}));case 4:if(r!==$.h){e.next=6;break}throw new Error(JSON.stringify({msg:"未选择key"}));case 6:if("string"==typeof r||"number"==typeof r){e.next=8;break}throw new Error(JSON.stringify({msg:"嵌入积木的返回值不是字符串类型"}));case 8:return e.next=10,_f(n,r.toString());case 10:if(a=e.sent){e.next=13;break}return e.abrupt("return",[]);case 13:return e.abrupt("return",[a[2]]);case 16:throw e.prev=16,e.t0=e.catch(0),o=JSON.parse(e.t0.message),e.t0.errorInfo=o.msg,e.t0;case 21:case"end":return e.stop()}},e,null,[[0,16]])}))(),n,a));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Df(e,t,r){return Lf.apply(this,arguments)}function Lf(){return(Lf=P.a(M.a.mark(function e(t,r,n){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==$.h){e.next=2;break}return e.abrupt("return");case 2:return e.abrupt("return",Sf(t,Of.a.QUERY,P.a(M.a.mark(function e(){var r,n,a;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=Rf(t)){e.next=4;break}throw new Error(JSON.stringify({msg:"未绑定数据源"}));case 4:return e.next=6,Ef(r);case 6:return n=e.sent,e.abrupt("return",[n.length]);case 10:throw e.prev=10,e.t0=e.catch(0),a=JSON.parse(e.t0.message),e.t0.errorInfo=a.msg,e.t0;case 15:case"end":return e.stop()}},e,null,[[0,10]])}))(),r,n));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function jf(e,t,r){return Uf.apply(this,arguments)}function Uf(){return(Uf=P.a(M.a.mark(function e(t,r,n){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==$.h){e.next=2;break}return e.abrupt("return");case 2:return e.abrupt("return",Sf(t,Of.a.QUERY,P.a(M.a.mark(function e(){var r,n,a;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=Rf(t)){e.next=4;break}throw new Error(JSON.stringify({msg:"未绑定数据源"}));case 4:return e.next=6,Ef(r);case 6:return n=e.sent,e.abrupt("return",[n]);case 10:throw e.prev=10,e.t0=e.catch(0),a=JSON.parse(e.t0.message),e.t0.errorInfo=a.msg,e.t0;case 15:case"end":return e.stop()}},e,null,[[0,10]])}))(),r,n));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Wf(e,t,r){return Bf.apply(this,arguments)}function Bf(){return(Bf=P.a(M.a.mark(function e(t,r,n){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==$.h){e.next=2;break}return e.abrupt("return");case 2:return e.abrupt("return",Sf(t,Of.a.CLEAR,P.a(M.a.mark(function e(){var r,n;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=Rf(t)){e.next=4;break}throw new Error(JSON.stringify({msg:"未绑定数据源"}));case 4:return e.next=6,xf(r);case 6:return e.abrupt("return",void 0);case 9:throw e.prev=9,e.t0=e.catch(0),n=JSON.parse(e.t0.message),e.t0.errorInfo=n.msg,e.t0;case 14:case"end":return e.stop()}},e,null,[[0,9]])}))(),r,n));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Ff;const Vf=r(60516);var zf=new Map;function Yf(e){var t;return null===(t=u.d(e))||void 0===t?void 0:t.cloudTableId}function Kf(e,t){var r,n=new Error;if(n.cloudTableId=e,null==t)throw n.message=JSON.stringify({msg:"嵌入积木的返回值不是字符串类型"}),n;if("object"==typeof t)throw n.message=JSON.stringify({msg:"嵌入积木的返回值不是字符串类型"}),n;if((r=t.toString()).length>1e3)throw n.message=JSON.stringify({msg:"存储的数据超出单元格限制（1k个字符）"}),n;return r}function Hf(e){return Gf.apply(this,arguments)}function Gf(){return(Gf=P.a(M.a.mark(function e(t){var r,n,a,o,i,u,s,c,d,l,f=arguments;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((r=new Error).cloudTableId=t,n={id:t,columns:[]},!zf.get(t)){e.next=7;break}n.columns=zf.get(t)||[],e.next=11;break;case 7:return e.next=9,Qd.q([t]);case 9:(a=e.sent)[0]&&(n.columns=a[0].columns,zf.set(t,a[0].columns));case 11:for(o=[],i=f.length,u=new Array(i>1?i-1:0),s=1;s<i;s++)u[s-1]=f[s];for(c=function(){var e=l[d];if(e===$.h)throw r.message=JSON.stringify({msg:"未选择列"}),r;if("string"!=typeof e&&"number"!=typeof e)throw r.message=JSON.stringify({msg:"嵌入积木的返回值不是字符串类型"}),r;"number"==typeof e&&(e=e.toString());var t=n.columns.find(function(t){return t.id===e});if(t)e=t.id;else{var a=n.columns.find(function(t){return t.name===e});a&&(e=a.id)}o.push(e.toString())},d=0,l=u;d<l.length;d++)c();return e.abrupt("return",o);case 16:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Jf(e,t,r,n,a){return r.then(function(e){if(n)return e?Promise.resolve(n.apply(void 0,hr.a(e))):Promise.resolve(n())}).catch(function(r){var n=r.errorInfo||r.message;(n.toLocaleLowerCase().includes("network error")||n.toLocaleLowerCase().includes("timeout"))&&(n="网络异常");var o={errorInfo:n,code:r.code};if(q.a.log({type:"error",message:n,widgetId:e}),Pc.emitCloudTableError(t,JSON.stringify(o)),a)return Promise.resolve(a(n))})}function qf(e,t,r,n){return Xf.apply(this,arguments)}function Xf(){return(Xf=P.a(M.a.mark(function e(t,r,n,a){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Jf(t,Vf.a.ADD,P.a(M.a.mark(function e(){var n,a,o;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Yf(t),e.prev=1,a){e.next=4;break}throw new Error("未绑定数据源");case 4:if(null!=r){e.next=6;break}throw new Error("嵌入积木的返回值不是字符串类型");case 6:if("object"!=typeof r){e.next=14;break}if(Array.isArray(r)){e.next=11;break}throw new Error("嵌入积木的返回值不是字符串类型");case 11:n=r.map(function(e){return e.toString()});case 12:e.next=23;break;case 14:if("number"!=typeof r){e.next=18;break}n=[r.toString()],e.next=23;break;case 18:if("string"!=typeof r){e.next=22;break}n=r.split(","),e.next=23;break;case 22:throw new Error("嵌入积木的返回值不是字符串类型");case 23:e.next=29;break;case 25:throw e.prev=25,e.t0=e.catch(1),Object.assign({cloudTableId:a,errorInfo:e.t0.message,code:Ff.INSERT_ERROR},e.t0);case 29:return e.prev=29,e.next=32,Qd.r(a,n);case 32:return ol(a),e.abrupt("return",void 0);case 36:if(e.prev=36,e.t1=e.catch(29),(o=JSON.parse(e.t1.message)).code!==Qd.a){e.next=45;break}return q.a.log({type:"warning",message:o.msg,widgetId:t}),ol(a),e.abrupt("return",void 0);case 45:throw e.t1.cloudTableId=a,e.t1.errorInfo=o.msg,e.t1.code=o.code,e.t1;case 49:case"end":return e.stop()}},e,null,[[1,25],[29,36]])}))(),n,a));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Qf(e,t,r,n,a,o){return Zf.apply(this,arguments)}function Zf(){return(Zf=P.a(M.a.mark(function e(t,r,n,a,o,i){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Jf(t,Vf.a.DELETE,P.a(M.a.mark(function e(){var o,i,u,s,c;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=Yf(t),e.prev=1,o&&o!==$.i){e.next=4;break}throw new Error(JSON.stringify({msg:"未绑定数据源"}));case 4:return e.next=6,Hf(o,r);case 6:return i=e.sent,u=vr.a(i,1),s=u[0],a=Kf(o,a),e.next=12,Qd.o(o,s,n,a);case 12:return ol(o),e.abrupt("return",void 0);case 16:throw e.prev=16,e.t0=e.catch(1),c=JSON.parse(e.t0.message),e.t0.cloudTableId=o,e.t0.errorInfo=c.msg,e.t0.code=c.code,e.t0;case 23:case"end":return e.stop()}},e,null,[[1,16]])}))(),o,i));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function $f(e,t,r,n,a,o,i,u){return ep.apply(this,arguments)}function ep(){return(ep=P.a(M.a.mark(function e(t,r,n,a,o,i,u,s){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Jf(t,Vf.a.SETTER,P.a(M.a.mark(function e(){var u,s,c,d,l,f;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u=Yf(t),e.prev=1,u){e.next=4;break}throw new Error(JSON.stringify({msg:"未绑定数据源"}));case 4:return e.next=6,Hf(u,r,o);case 6:return s=e.sent,c=vr.a(s,2),d=c[0],l=c[1],a=Kf(u,a),i=Kf(u,i),e.next=14,Qd.u(u,d,n,a,l,i);case 14:return ol(u),e.abrupt("return",void 0);case 18:throw e.prev=18,e.t0=e.catch(1),f=JSON.parse(e.t0.message),e.t0.cloudDBId=u,e.t0.errorInfo=f.msg,e.t0.code=f.code,e.t0;case 25:case"end":return e.stop()}},e,null,[[1,18]])}))(),u,s));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function tp(e,t,r,n,a,o){return rp.apply(this,arguments)}function rp(){return(rp=P.a(M.a.mark(function e(t,r,n,a,o,i){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Jf(t,Vf.a.QUERY,P.a(M.a.mark(function e(){var o,i,u,s,c,d,l,f,p,g;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=Yf(t),e.prev=1,o){e.next=4;break}throw new Error(JSON.stringify({msg:"未绑定数据源"}));case 4:return e.next=6,Hf(o,r);case 6:return i=e.sent,u=vr.a(i,1),s=u[0],a=Kf(o,a),e.next=12,Qd.s(o,s,n,a);case 12:if(c=e.sent){e.next=15;break}return e.abrupt("return",[]);case 15:return d=c.columns||[],l=c.records||[],f=[],p=l.map(function(e){var t=e.values,r=[];return d.forEach(function(e,n){r.push(up(t[e.id],e.type)),f.push(n+1)}),r}),e.abrupt("return",[p,f]);case 22:throw e.prev=22,e.t0=e.catch(1),g=JSON.parse(e.t0.message),e.t0.cloudDBId=o,e.t0.errorInfo=g.msg,e.t0.code=g.code,e.t0;case 29:case"end":return e.stop()}},e,null,[[1,22]])}))(),o,i));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function np(e,t,r,n){return ap.apply(this,arguments)}function ap(){return(ap=P.a(M.a.mark(function e(t,r,n,a){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Jf(t,Vf.a.QUERY,P.a(M.a.mark(function e(){var n,a,o;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Yf(t),e.prev=1,n){e.next=4;break}throw new Error(JSON.stringify({msg:"未绑定数据源"}));case 4:return e.next=6,Qd.t(n,r);case 6:return a=e.sent,e.abrupt("return",[a]);case 10:throw e.prev=10,e.t0=e.catch(1),o=JSON.parse(e.t0.message),e.t0.cloudDBId=n,e.t0.errorInfo=o.msg,e.t0.code=o.code,e.t0;case 17:case"end":return e.stop()}},e,null,[[1,10]])}))(),n,a));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function op(e,t,r){return ip.apply(this,arguments)}function ip(){return(ip=P.a(M.a.mark(function e(t,r,n){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Jf(t,Vf.a.CLEAR,P.a(M.a.mark(function e(){var r,n,a;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Yf(t),e.prev=1,r){e.next=4;break}throw new Error(JSON.stringify({msg:"未绑定数据源"}));case 4:return e.next=6,Qd.n(r);case 6:return n=e.sent,ol(r),e.abrupt("return",[n]);case 11:throw e.prev=11,e.t0=e.catch(1),a=JSON.parse(e.t0.message),e.t0.cloudDBId=r,e.t0.errorInfo=a.msg,e.t0.code=a.code,e.t0;case 18:case"end":return e.stop()}},e,null,[[1,11]])}))(),r,n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function up(e,t){return e?"number"===t?Number(e):"boolean"===t?"true"===e:e:""}!function(e){e.INSERT_ERROR="INSERT_ERROR",e.COLUMN_CANNOT_FOUND="COLUMN_CANNOT_FOUND",e.TYPE_INVALID="TYPE_INVALID"}(Ff||(Ff={}));const sp=dd},83816:e=>{var t=function(e){this.value=e};t.math={isDegree:!0,acos:function(e){return t.math.isDegree?180/Math.PI*Math.acos(e):Math.acos(e)},add:function(e,t){return e+t},asin:function(e){return t.math.isDegree?180/Math.PI*Math.asin(e):Math.asin(e)},atan:function(e){return t.math.isDegree?180/Math.PI*Math.atan(e):Math.atan(e)},acosh:function(e){return Math.log(e+Math.sqrt(e*e-1))},asinh:function(e){return Math.log(e+Math.sqrt(e*e+1))},atanh:function(e){return Math.log((1+e)/(1-e))},C:function(e,r){var n=1,a=e-r,o=r;o<a&&(o=a,a=r);for(var i=o+1;i<=e;i++)n*=i;return n/t.math.fact(a)},changeSign:function(e){return-e},cos:function(e){return t.math.isDegree&&(e=t.math.toRadian(e)),Math.cos(e)},cosh:function(e){return(Math.pow(Math.E,e)+Math.pow(Math.E,-1*e))/2},div:function(e,t){return e/t},fact:function(e){if(e%1!=0)return"NaN";for(var t=1,r=2;r<=e;r++)t*=r;return t},inverse:function(e){return 1/e},log:function(e){return Math.log(e)/Math.log(10)},mod:function(e,t){return e%t},mul:function(e,t){return e*t},P:function(e,t){for(var r=1,n=Math.floor(e)-Math.floor(t)+1;n<=Math.floor(e);n++)r*=n;return r},Pi:function(e,t,r){for(var n=1,a=e;a<=t;a++)n*=Number(r.postfixEval({n:a}));return n},pow10x:function(e){for(var t=1;e--;)t*=10;return t},sigma:function(e,t,r){for(var n=0,a=e;a<=t;a++)n+=Number(r.postfixEval({n:a}));return n},sin:function(e){return t.math.isDegree&&(e=t.math.toRadian(e)),Math.sin(e)},sinh:function(e){return(Math.pow(Math.E,e)-Math.pow(Math.E,-1*e))/2},sub:function(e,t){return e-t},tan:function(e){return t.math.isDegree&&(e=t.math.toRadian(e)),Math.tan(e)},tanh:function(e){return t.sinha(e)/t.cosha(e)},toRadian:function(e){return e*Math.PI/180}},t.Exception=function(e){this.message=e},e.exports=t},87018:e=>{e.exports={hide:"style_hide__2a1hr","coco-widget-wrapper":"style_coco-widget-wrapper__35_O4","coco-child-widget":"style_coco-child-widget__90_t5","coco-child-widget-selected":"style_coco-child-widget-selected__2cA3V","coco-child-widget-full":"style_coco-child-widget-full__1j-Ia",textWidget:"style_textWidget__3r2dO","coco-editable":"style_coco-editable__2C6ln",content:"style_content__1QoMj"}},91118:(e,t)=>{var r="function"==typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,i=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,s=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,l=r?Symbol.for("react.concurrent_mode"):60111,f=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,g=r?Symbol.for("react.suspense_list"):60120,v=r?Symbol.for("react.memo"):60115,h=r?Symbol.for("react.lazy"):60116,m=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,y=r?Symbol.for("react.responder"):60118,_=r?Symbol.for("react.scope"):60119;function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case d:case l:case o:case u:case i:case p:return e;default:switch(e=e&&e.$$typeof){case c:case f:case h:case v:case s:return e;default:return t}}case a:return t}}}function E(e){return w(e)===l}t.AsyncMode=d,t.ConcurrentMode=l,t.ContextConsumer=c,t.ContextProvider=s,t.Element=n,t.ForwardRef=f,t.Fragment=o,t.Lazy=h,t.Memo=v,t.Portal=a,t.Profiler=u,t.StrictMode=i,t.Suspense=p,t.isAsyncMode=function(e){return E(e)||w(e)===d},t.isConcurrentMode=E,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return w(e)===f},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===h},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===a},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===i},t.isSuspense=function(e){return w(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===l||e===u||e===i||e===p||e===g||"object"==typeof e&&null!==e&&(e.$$typeof===h||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===f||e.$$typeof===b||e.$$typeof===y||e.$$typeof===_||e.$$typeof===m)},t.typeOf=w},91264:(e,t,r)=>{r.r(t),r.d(t,{a:()=>i,b:()=>o,c:()=>u,d:()=>d,default:()=>l,e:()=>c,f:()=>s});const n=r(79955),a=r(31951);var o={PRIMITIVE:"PRIMITIVE",ARRAY:"ARRAY",OBJECT:"OBJECT",STORAGE:"STORAGE"},i={NUMBER:{id:"category_number",label:"数字"},BOOL:{id:"category_bool",label:"布尔"},STRING:{id:"category_string",label:"字符"},CONDITION:{id:"category_condition",label:"条件"},CIRCLE:{id:"category_circle",label:"循环"},WAIT:{id:"category_wait",label:"等待"},CONSOLE:{id:"category_console",label:"控制台"}},u="-----",s={event:{id:"toolbox-event",text:"%{BKY_EVENT}",iconId:"icon-toolbox-event",blocks:["screen_on_open","screen_on_open_get_param","app_on_switch_background","new_screen_navigate_to","new_screen_navigate_to_by_value",u,"broadcast_on_receive","broadcast_send","broadcast_send_and_wait"]},control:{id:"toolbox-control",text:"%{BKY_CONTROL}",iconId:"icon-toolbox-control",blocks:['<label type="'.concat(i.CONDITION.id,'"></label>'),"controls_if",u,'<label type="'.concat(i.CIRCLE.id,'"></label>'),"loop_conditionally","loop_finitely","loop_infinitely","controls_for_closed_range",u,"break_loop","continue_loop",u,'<label type="'.concat(i.WAIT.id,'"></label>'),"sleep","wait_until",u,'<label type="'.concat(i.CONSOLE.id,'"></label>'),"new_console_log"]},feature:{id:"toolbox-feature",text:"%{BKY_PHONE}",iconId:"icon-toolbox-feature",blocks:["phone_vibrate",u,"date_get_current_date","date_check_date_is_equal","date_get_date_minus_operation",u,"brightness_set_brightness","brightness_get_brightness","brightness_set_keep_screen_on",u,"phone_battery_level"]},operator:{id:"toolbox-operator",text:"%{BKY_OPERATOR}",iconId:"icon-toolbox-operation",blocks:['<label type="'.concat(i.NUMBER.id,'"></label>'),"math_shadow_number","math_operation","math_random_integer",u,"math_round","math_complex_operation","math_modulo","math_trig",u,"math_check_divisible","math_number_property",u,'<label type="'.concat(i.BOOL.id,'"></label>'),"math_compare","logic_operation","logic_negate","logic_boolean",u,'<label type="'.concat(i.STRING.id,'"></label>'),"text_shadow","text_join","text_get_length","text_split_text","text_slice","text_check_contain",u,"text_convert_type"]},primitive:{id:"toolbox-primitive",text:"%{BKY_PRIMITIVE}",iconId:"icon-toolbox-variable",blocks:['<label type="'.concat(o.PRIMITIVE,'" width="10" height="10" align="center"></label>'),"variables_get","variables_set","variables_change"]},array:{id:"toolbox-array",text:"%{BKY_ARRAY}",iconId:"icon-toolbox-list",blocks:['<label type="'.concat(o.ARRAY,'" width="10" height="10" align="center"></label>'),"array_get","array_create","lists_append","lists_insert_value","array_remove_item","lists_replace","array_copy",u,"array_get_item","array_get_length","lists_index_of","lists_is_exist",u,"array_foreach"]},object:{id:"toolbox-object",text:"%{BKY_OBJECT}",iconId:"icon-toolbox-object",blocks:['<label type="'.concat(o.OBJECT,'" width="10" height="10" align="center"></label>'),"object_get","object_create","object_set_item","object_delete_item","object_clear",u,"object_length","object_get_item","object_include_key"]},function:{id:"toolbox-function",text:"%{BKY_FUNCTION}",iconId:"icon-toolbox-function",blocks:"PROCEDURE"}},c=function(){return n.O()},d=function(e){var t;for(var r in s)s[r].id===e&&(t=s[r].text);return t?a.b()[t.slice(6,-1)]:""};const l=i},95829:(e,t,r)=>{r.r(t),r.d(t,{a:()=>f,b:()=>p,c:()=>l,default:()=>g});const n=r(78698),a=r(3631),o=r(41010),i=r(24370),u=r(81324),s=r(79572),c=r(37819),d=r(24720);function l(e,t,r,l){var f,p=o.b(e);if(!p)return console.error("getWidget error"),null;var g=u.q(p),v=o.b(g.parentId||"");if(!v)return console.error("getParentWidget error"),null;var h=void 0===r?1:r+1,m=i.d.get("".concat(v.id,"_").concat(t))||{};m[h]&&(g.attributes=n.a(n.a({},g.attributes),m[h]));var b=v;if(b.attributes.disabled&&g.type===a.H&&(["titleSlot"].includes(t)?g.attributes.color="#7C7C7C":g.attributes.color="#CACACA"),void 0===r)return s.c({widget:g,forceRender:!0});var y=null===(f=b.attributes.templateSlotMap[t])||void 0===f?void 0:f.dataBindings;if(l&&y){var _=l[y];g.type===a.H&&(g.attributes.content=_||""),g.type===a.v&&_&&(c.b(_)?g.attributes.fileId=_:d.b.widgetError({widgetId:g.parentId||"",widgetType:v.type,message:"ListViewerWidget.imageNotExists"}))}return s.c({widget:n.a(n.a({},g),{},{id:"".concat(e,"_").concat(r)}),forceRender:!0})}function f(e){var t={broken:!1,waiting:!1},r=function(){t.broken=!0},n=function(){t.waiting=!1};document.addEventListener("mouseup",r,{once:!0}),document.addEventListener("touchend",r,{once:!0}),function r(){requestAnimationFrame(function(){t.broken||(t.waiting||(t.waiting=!0,e().finally(n)),r())})}()}function p(e,t){var r=!1,n={waiting:!1},a=function(){n.waiting=!1};!function o(){requestAnimationFrame(function(){var i=e();i&&i!==r&&(n.waiting||(n.waiting=!0,t().finally(a))),r=i,o()})}()}const g=f}}]);