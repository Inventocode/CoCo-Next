"use strict";(self.webpackChunkcoco_next=self.webpackChunkcoco_next||[]).push([["537"],{86768(t,r,o){o.r(r),o.d(r,{DebugDraw:()=>c});var e,n=o(99145),i=o(40868),l=o(42139),a=(e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])})(t,r)},function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}),s=function(t,r){var o,e,n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i=n.call(t),l=[];try{for(;(void 0===r||r-- >0)&&!(o=i.next()).done;)l.push(o.value)}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return l},c=function(t){function r(r){var o=t.call(this)||this;return o.m_ctx=null,o.half_width=310,o.half_height=450,o.m_ctx=r.getContext("2d"),o.half_width=r.width/2,o.half_height=r.height/2,o}return a(r,t),r.prototype.set_world=function(t){this.world=t},r.prototype.PushTransform=function(t){var r=this.m_ctx;r&&(r.save(),r.translate(l.n(t.p.x)+this.half_width,l.n(t.p.y)+this.half_height),r.rotate(t.q.GetAngle()))},r.prototype.PopTransform=function(t){var r=this.m_ctx;r&&r.restore()},r.prototype.DrawPolygon=function(t,r,o){var e=this.m_ctx;if(e){e.beginPath(),e.moveTo(l.n(t[0].x),l.n(t[0].y));for(var n=1;n<r;n++)e.lineTo(l.n(t[n].x),l.n(t[n].y));e.closePath(),e.strokeStyle=o.MakeStyleString(1),e.stroke()}},r.prototype.DrawSolidPolygon=function(t,r,o){.9===o.r&&o.SetRGB(.9,.9,.9);var e=this.m_ctx;if(e){e.beginPath(),e.moveTo(l.n(t[0].x),l.n(t[0].y));for(var n=1;n<r;n++)e.lineTo(l.n(t[n].x),l.n(t[n].y));e.closePath(),e.fillStyle=o.MakeStyleString(.1),e.fill(),e.strokeStyle=o.MakeStyleString(1),e.stroke()}},r.prototype.DrawCircle=function(t,r,o){var e=this.m_ctx;e&&(e.beginPath(),e.arc(l.n(t.x),l.n(t.y),r,0,2*n.pi,!0),e.strokeStyle=o.MakeStyleString(1),e.stroke())},r.prototype.DrawSolidCircle=function(t,r,o,e){var i=this.m_ctx;if(i){var a=l.n(t.x),s=l.n(t.y);i.beginPath(),i.arc(a,s,r,0,2*n.pi,!0),i.moveTo(a,s),i.lineTo(a+o.x*r,s+o.y*r),i.fillStyle=e.MakeStyleString(.5),i.fill(),i.strokeStyle=e.MakeStyleString(1),i.stroke()}},r.prototype.DrawParticles=function(t,r,o,e){if(this.m_ctx)for(var i=0;i<e;++i){var a=t[i],s=(null==o?void 0:o[i])||new n.Color(255,255,255,.5);this.m_ctx.fillStyle=s.MakeStyleString(),this.m_ctx.beginPath(),this.m_ctx.arc(l.n(a.x),l.n(a.y),l.n(r),0,2*n.pi,!0),this.m_ctx.fill()}},r.prototype.DrawParticleTriads=function(t,r){var o;if(this.m_ctx){(null==(o=this.world)?void 0:o.body_list)&&(r=[],this.world.body_list.forEach(function(t){var o,e=t.get_current_physics_body();if(e.type===i.a.ELASTIC){var n=e.particle_group.m_firstIndex;null!=(o=e.soft_filter)&&o.triangle_top_points.forEach(function(t){r.push([t[0]+n,t[1]+n,t[2]+n])})}}));for(var e=0;e<r.length;e++){var n=s(r[e],3),a=n[0],c=n[1],y=n[2],f=t[a],h=t[c],p=t[y];f&&h&&p?(this.m_ctx.fillStyle="rgba(0,0,0,0.5)",this.m_ctx.beginPath(),this.m_ctx.moveTo(l.n(f.x),l.n(f.y)),this.m_ctx.lineTo(l.n(h.x),l.n(h.y)),this.m_ctx.lineTo(l.n(p.x),l.n(p.y)),this.m_ctx.closePath(),this.m_ctx.stroke()):console.error("Invalid triangle: ",r[e])}}},r.prototype.DrawSegment=function(t,r,o){var e=this.m_ctx;e&&(e.beginPath(),e.moveTo(l.n(t.x),l.n(t.y)),e.lineTo(l.n(r.x),l.n(r.y)),e.strokeStyle=o.MakeStyleString(1),e.stroke())},r.prototype.DrawTransform=function(t){var r=this.m_ctx;r&&(this.PushTransform(t),r.beginPath(),r.moveTo(0,0),r.lineTo(1,0),r.strokeStyle=n.Color.RED.MakeStyleString(1),r.stroke(),r.beginPath(),r.moveTo(0,0),r.lineTo(0,1),r.strokeStyle=n.Color.GREEN.MakeStyleString(1),r.stroke(),this.PopTransform(t))},r.prototype.DrawPoint=function(t,r,o){var e=this.m_ctx;if(e){e.fillStyle=o.MakeStyleString();var n=r/2;e.fillRect(t.x-n,t.y-n,r,r)}},r.prototype.DrawString=function(t,o,e){var n=this.m_ctx;n&&(n.save(),n.setTransform(1,0,0,1,0,0),n.font="15px DroidSans",n.fillStyle=r.DrawString_s_color.MakeStyleString(),n.fillText(e,l.n(t),l.n(o)),n.restore())},r.prototype.DrawStringWorld=function(t,o,e){var n=this.m_ctx;if(n){var i=r.DrawStringWorld_s_p.Set(t,o);n.save(),n.setTransform(1,0,0,1,0,0),n.font="15px DroidSans",n.fillStyle=r.DrawStringWorld_s_color.MakeStyleString(),n.fillText(e,i.x,i.y),n.restore()}},r.prototype.DrawAABB=function(t,r){var o=this.m_ctx;if(o){o.strokeStyle=r.MakeStyleString();var e=l.n(t.lowerBound.x),n=l.n(t.lowerBound.y),i=l.n(t.upperBound.x-t.lowerBound.x),a=l.n(t.upperBound.y-t.lowerBound.y);o.strokeRect(e,n,i,a)}},r.DrawString_s_color=new n.Color(.9,.6,.6),r.DrawStringWorld_s_p=new n.Vec2,r.DrawStringWorld_s_color=new n.Color(.5,.9,.5),r}(n.Draw)}}]);
//# sourceMappingURL=537.a1073ec141347ff5.js.map