(self.webpackChunkcoco_next=self.webpackChunkcoco_next||[]).push([["741"],{72239(e,t,n){"use strict";n.r(t),n.d(t,{a:()=>o,default:()=>i});var r=n(36454);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){r.a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let i=o},94032(e,t,n){"use strict";n.d(t,{a:()=>i,b:()=>a,c:()=>o});var r=new Map;function a(e){return r.get(e)}function o(e,t){return r.set(e,t)}function i(e){r.delete(e)}},611(e){e.exports={hide:"style_hide__3lU0N","coco-widget-wrapper":"style_coco-widget-wrapper__1WaIH","coco-child-widget":"style_coco-child-widget__1U4ZO","coco-child-widget-selected":"style_coco-child-widget-selected__3qwpM","coco-child-widget-full":"style_coco-child-widget-full__3naW2",buttonWidget:"style_buttonWidget__L3-zU",iconWrapper:"style_iconWrapper__3zrmg",textWrapper:"style_textWrapper__3x0Oo",text:"style_text__3gwqJ",input:"style_input__LKe4h",iconToTextLeftSpacing:"style_iconToTextLeftSpacing__15Uim",iconToTextRightSpacing:"style_iconToTextRightSpacing__VDrpI",transform:"style_transform__1mcmj","transform-scale":"style_transform-scale__2f_Wy",contentEditable:"style_contentEditable__27qir"}},62285(e,t,n){"use strict";t.a=n(41594).createContext({})},35458(e,t,n){"use strict";n.d(t,{a:()=>f,b:()=>c,c:()=>l,d:()=>h,e:()=>p,f:()=>u,g:()=>o,h:()=>s,i:()=>a,j:()=>d});var r=n(38795);function a(e,t,n){return{r:255*r.a(e,255),g:255*r.a(t,255),b:255*r.a(n,255)}}function o(e,t,n){e=r.a(e,255);var a=Math.max(e,t=r.a(t,255),n=r.a(n,255)),o=Math.min(e,t,n),i=0,c=0,s=(a+o)/2;if(a===o)c=0,i=0;else{var l=a-o;switch(c=s>.5?l/(2-a-o):l/(a+o),a){case e:i=(t-n)/l+6*(t<n);break;case t:i=(n-e)/l+2;break;case n:i=(e-t)/l+4}i/=6}return{h:i,s:c,l:s}}function i(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function c(e,t,n){if(e=r.a(e,360),t=r.a(t,100),n=r.a(n,100),0===t)o=n,c=n,a=n;else{var a,o,c,s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;a=i(l,s,e+1/3),o=i(l,s,e),c=i(l,s,e-1/3)}return{r:255*a,g:255*o,b:255*c}}function s(e,t,n){e=r.a(e,255);var a=Math.max(e,t=r.a(t,255),n=r.a(n,255)),o=Math.min(e,t,n),i=0,c=a-o;if(a===o)i=0;else{switch(a){case e:i=(t-n)/c+6*(t<n);break;case t:i=(n-e)/c+2;break;case n:i=(e-t)/c+4}i/=6}return{h:i,s:0===a?0:c/a,v:a}}function l(e,t,n){e=6*r.a(e,360),t=r.a(t,100),n=r.a(n,100);var a=Math.floor(e),o=e-a,i=n*(1-t),c=n*(1-o*t),s=n*(1-(1-o)*t),l=a%6;return{r:255*[n,c,i,i,s,n][l],g:255*[s,n,n,c,i,i][l],b:255*[i,i,s,n,n,c][l]}}function u(e,t,n,a){var o=[r.e(Math.round(e).toString(16)),r.e(Math.round(t).toString(16)),r.e(Math.round(n).toString(16))];return a&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function d(e,t,n,a,o){var i=[r.e(Math.round(e).toString(16)),r.e(Math.round(t).toString(16)),r.e(Math.round(n).toString(16)),r.e(Math.round(255*parseFloat(a)).toString(16))];return o&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))&&i[3].startsWith(i[3].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0):i.join("")}function f(e){return p(e)/255}function p(e){return parseInt(e,16)}function h(e){return{r:e>>16,g:(65280&e)>>8,b:255&e}}},32691(e,t,n){"use strict";n.d(t,{a:()=>i});var r=n(35458),a=n(11689),o=n(38795);function i(e){var t={r:0,g:0,b:0},n=1,i=null,c=null,s=null,l=!1,f=!1;return"string"==typeof e&&(e=function(e){if(0===(e=e.trim().toLowerCase()).length)return!1;var t=!1;if(a.a[e])e=a.a[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var n=u.rgb.exec(e);return n?{r:n[1],g:n[2],b:n[3]}:(n=u.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=u.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=u.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=u.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=u.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=u.hex8.exec(e))?{r:r.e(n[1]),g:r.e(n[2]),b:r.e(n[3]),a:r.a(n[4]),format:t?"name":"hex8"}:(n=u.hex6.exec(e))?{r:r.e(n[1]),g:r.e(n[2]),b:r.e(n[3]),format:t?"name":"hex"}:(n=u.hex4.exec(e))?{r:r.e(n[1]+n[1]),g:r.e(n[2]+n[2]),b:r.e(n[3]+n[3]),a:r.a(n[4]+n[4]),format:t?"name":"hex8"}:!!(n=u.hex3.exec(e))&&{r:r.e(n[1]+n[1]),g:r.e(n[2]+n[2]),b:r.e(n[3]+n[3]),format:t?"name":"hex"}}(e)),"object"==typeof e&&(d(e.r)&&d(e.g)&&d(e.b)?(t=r.i(e.r,e.g,e.b),l=!0,f="%"===String(e.r).substr(-1)?"prgb":"rgb"):d(e.h)&&d(e.s)&&d(e.v)?(i=o.d(e.s),c=o.d(e.v),t=r.c(e.h,i,c),l=!0,f="hsv"):d(e.h)&&d(e.s)&&d(e.l)&&(i=o.d(e.s),s=o.d(e.l),t=r.b(e.h,i,s),l=!0,f="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=o.b(n),{ok:l,format:e.format||f,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var c="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",s="[\\s|\\(]+("+c+")[,|\\s]+("+c+")[,|\\s]+("+c+")\\s*\\)?",l="[\\s|\\(]+("+c+")[,|\\s]+("+c+")[,|\\s]+("+c+")[,|\\s]+("+c+")\\s*\\)?",u={CSS_UNIT:new RegExp(c),rgb:RegExp("rgb"+s),rgba:RegExp("rgba"+l),hsl:RegExp("hsl"+s),hsla:RegExp("hsla"+l),hsv:RegExp("hsv"+s),hsva:RegExp("hsva"+l),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function d(e){return!!u.CSS_UNIT.exec(String(e))}},52705(e,t,n){"use strict";n.d(t,{a:()=>d});var r=n(35458),a=n(32691),o=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function i(e){var t=e.r,n=e.g,a=e.b,o=r.h(t,n,a);return{h:360*o.h,s:o.s,v:o.v}}function c(e){var t=e.r,n=e.g,a=e.b;return"#".concat(r.f(t,n,a,!1))}function s(e,t,n){var r;return(r=Math.round(e.h)>=60&&240>=Math.round(e.h)?n?Math.round(e.h)-2*t:Math.round(e.h)+2*t:n?Math.round(e.h)+2*t:Math.round(e.h)-2*t)<0?r+=360:r>=360&&(r-=360),r}function l(e,t,n){var r;return 0===e.h&&0===e.s?e.s:((r=n?e.s-.16*t:4===t?e.s+.16:e.s+.05*t)>1&&(r=1),n&&5===t&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)))}function u(e,t,n){var r;return(r=n?e.v+.05*t:e.v-.15*t)>1&&(r=1),Number(r.toFixed(2))}function d(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=a.a(e),d=5;d>0;d-=1){var f=i(r),p=c(a.a({h:s(f,d,!0),s:l(f,d,!0),v:u(f,d,!0)}));n.push(p)}n.push(c(r));for(var h=1;h<=4;h+=1){var v=i(r),m=c(a.a({h:s(v,h),s:l(v,h),v:u(v,h)}));n.push(m)}return"dark"===t.theme?o.map(function(e){var r,o,i,s=e.index,l=e.opacity;return c((r=a.a(t.backgroundColor||"#141414"),o=a.a(n[s]),i=100*l/100,{r:(o.r-r.r)*i+r.r,g:(o.g-r.g)*i+r.g,b:(o.b-r.b)*i+r.b}))}):n}var f={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},p={},h={};Object.keys(f).forEach(function(e){p[e]=d(f[e]),p[e].primary=p[e][5],h[e]=d(f[e],{theme:"dark",backgroundColor:"#141414"}),h[e].primary=h[e][5]}),p.red,p.volcano,p.gold,p.orange,p.yellow,p.lime,p.green,p.cyan,p.blue,p.geekblue,p.purple,p.magenta,p.grey},92379(e,t,n){"use strict";n.r(t),n.d(t,{a:()=>x,default:()=>A});var r=n(72239),a=n(72541),o=n(36454),i=n(76043),c=n(41594),s=n.n(c),l=n(46942),u=n.n(l),d=n(62285),f=n(2822),p=n(52705),h={},v=function(e,t){e||h[t]||(h[t]=!0)};function m(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function _(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("undefined"==typeof window||!window.document||!window.document.createElement)return null;var a=document.createElement("style");(null==(t=r.csp)?void 0:t.nonce)&&(a.nonce=null==(n=r.csp)?void 0:n.nonce),a.innerHTML=e;var o=m(r),i=o.firstChild;return r.prepend&&o.prepend?o.prepend(a):r.prepend&&i?o.insertBefore(a,i):o.appendChild(a),a}var g=new Map;function y(e){return"object"===f.a(e)&&"string"==typeof e.name&&"string"==typeof e.theme&&("object"===f.a(e.icon)||"function"==typeof e.icon)}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce(function(t,n){var r=e[n];return"class"===n?(t.className=r,delete t.class):t[n]=r,t},{})}function E(e){return e?Array.isArray(e)?e:[e]:[]}var k=["icon","className","onClick","style","primaryColor","secondaryColor"],C={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1},w=function(e){var t,n,a=e.icon,o=e.className,l=e.onClick,u=e.style,f=e.primaryColor,h=e.secondaryColor,E=i.a(e,k),w=C;if(f&&(w={primaryColor:f,secondaryColor:h||p.a(f)[0]}),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n",t=(0,c.useContext)(d.a).csp;(0,c.useEffect)(function(){!function(e,t){var n,r,a,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=m(o);if(!g.has(i)){var c=_("",o),s=c.parentNode;g.set(i,s),s.removeChild(c)}var l=Array.from(g.get(i).children).find(function(e){return"STYLE"===e.tagName&&e["rc-util-key"]===t});if(l)return(null==(n=o.csp)?void 0:n.nonce)&&l.nonce!==(null==(r=o.csp)?void 0:r.nonce)&&(l.nonce=null==(a=o.csp)?void 0:a.nonce),l.innerHTML!==e&&(l.innerHTML=e);_(e,o)["rc-util-key"]=t}(e,"@ant-design-icons",{prepend:!0,csp:t})},[])}(),t=y(a),n="icon should be icon definiton, but got ".concat(a),v(t,"[@ant-design/icons] ".concat(n)),!y(a))return null;var T=a;return T&&"function"==typeof T.icon&&(T=r.a(r.a({},T),{},{icon:T.icon(w.primaryColor,w.secondaryColor)})),function e(t,n,a){return a?s().createElement(t.tag,r.a(r.a({key:n},b(t.attrs)),a),(t.children||[]).map(function(r,a){return e(r,"".concat(n,"-").concat(t.tag,"-").concat(a))})):s().createElement(t.tag,r.a({key:n},b(t.attrs)),(t.children||[]).map(function(r,a){return e(r,"".concat(n,"-").concat(t.tag,"-").concat(a))}))}(T.icon,"svg-".concat(T.name),r.a({className:o,onClick:l,style:u,"data-icon":T.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},E))};function T(e){var t=E(e),n=a.a(t,2),r=n[0],o=n[1];return w.setTwoToneColors({primaryColor:r,secondaryColor:o})}w.displayName="IconReact",w.getTwoToneColors=function(){return r.a({},C)},w.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;C.primaryColor=t,C.secondaryColor=n||p.a(t)[0],C.calculated=!!n};var O=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];T("#1890ff");var x=(0,c.forwardRef)(function(e,t){var n,s=e.className,l=e.icon,f=e.spin,p=e.rotate,h=e.tabIndex,v=e.onClick,m=e.twoToneColor,_=i.a(e,O),g=(0,c.useContext)(d.a).prefixCls,y=void 0===g?"anticon":g,b=u()(y,(n={},o.a(n,"".concat(y,"-").concat(l.name),!!l.name),o.a(n,"".concat(y,"-spin"),!!f||"loading"===l.name),n),s),k=h;void 0===k&&v&&(k=-1);var C=E(m),T=a.a(C,2),x=T[0],A=T[1];return(0,c.createElement)("span",r.a(r.a({role:"img","aria-label":l.name},_),{},{ref:t,tabIndex:k,onClick:v,className:b}),(0,c.createElement)(w,{icon:l,primaryColor:x,secondaryColor:A,style:p?{msTransform:"rotate(".concat(p,"deg)"),transform:"rotate(".concat(p,"deg)")}:void 0}))});x.displayName="AntdIcon",x.getTwoToneColor=function(){var e=w.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},x.setTwoToneColor=T;let A=x},31341(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delete_from_xml=t.rename_procedures_in_xml=t.load_from_xml=void 0;var r=n(99469),a=n(89404),o=n(66928);function i(e,t){var n=function(e){if("block"===e.tagName.toLowerCase()){var n=e.getAttribute("type");if(n!==a.PROCEDURE_BLOCK_TYPES.DEF){if((n===a.PROCEDURE_BLOCK_TYPES.CALL_NORETURN||n===a.PROCEDURE_BLOCK_TYPES.CALL_RETURN)&&(i=(o=e.querySelector('field[name="NAME"]'))&&o.textContent,o&&i&&t[i])){o.textContent=t[i];var r=e.querySelector("mutation");r&&r.setAttribute("name",t[i])}}else{var o,i=(o=e.querySelector('field[name="NAME"]'))&&o.textContent;o&&i&&t[i]&&(o.textContent=t[i])}}};return n(e),Array.from(e.querySelectorAll("block")).forEach(n),e}t.load_from_xml=function(e,t,n){var c=Array.from(t.querySelectorAll("block"));"block"===t.tagName.toLowerCase()&&c.unshift(t);var s={},l={};if(c.forEach(function(t){var o=t.getAttribute("type");if(o===a.PROCEDURE_BLOCK_TYPES.DEF){var i=t.getAttribute("id");(0,r.assert)(i);var c=(h=t.querySelector('field[name="'+a.PROCEDURE_BLOCK_FIELD_NAMES.PROCEDURE_NAME+'"]'))&&h.textContent;(0,r.assert)(c);var u=Array.from(t.querySelectorAll('block[type="'+a.PROCEDURE_BLOCK_TYPES.PARAM_ON_BLOCK+'"]')).map(function(e){var t=e.querySelector('field[name="'+a.PROCEDURE_BLOCK_FIELD_NAMES.PARAM_NAME+'"]');(0,r.assert)(t&&t.textContent,"No name field or name on block parameter. ");var n=e.querySelector('field[name="'+a.PROCEDURE_BLOCK_FIELD_NAMES.PARAM_DEFAULT_VALUE+'"]');return{param_name:t.textContent,default_value:(null==n?void 0:n.textContent)||void 0}}),d=t.querySelector('statement[name="'+a.PROCEDURE_BLOCK_INPUT_NAMES.DEF_STATEMENT+'"]'),f=d&&d.querySelectorAll('block[type="'+a.PROCEDURE_BLOCK_TYPES.RETURN+'"]>mutation[items="1"]').length||0;if(!n){var p=e.add_procedure_def(c,i);return p.params=u,p.return_count=f,void(h&&p.name!==c&&(h.textContent=p.name))}return(v=s[c])||(v={def_id:i,disabled:!0,name:c,base_name:c,params:[],callers_id:[],return_count:0,valid:!0,created_timestamp:Date.now()},s[c]=v),v.def_id=i,v.disabled=!1,v.params=u,void(v.return_count=f)}if(o===a.PROCEDURE_BLOCK_TYPES.CALL_NORETURN||o===a.PROCEDURE_BLOCK_TYPES.CALL_RETURN){if(i=t.getAttribute("id"),(0,r.assert)(i),c=(h=t.querySelector('field[name="NAME"]'))&&h.textContent,(0,r.assert)(c),u=Array.from(t.querySelectorAll("mutation>procedures_2_parameter_shadow")).map(function(e){return{param_name:e.getAttribute("name")||""}}),!n){if(!e.get_procedure_by_name(c)){var h,v,m=e.add_procedure_def(c,"");m.params=u,m.disabled=!0}return void e.add_caller(c,i,o===a.PROCEDURE_BLOCK_TYPES.CALL_RETURN?"call_return":"call")}if(!(v=s[c])){var _=t.querySelector("mutation");v={def_id:_&&_.getAttribute("def_id")||"",disabled:!0,name:c,base_name:c,params:u,callers_id:[],return_count:0,valid:!0,created_timestamp:Date.now()},s[c]=v}return l[i]={id:i,proc_name:c,call_type:o===a.PROCEDURE_BLOCK_TYPES.CALL_RETURN?"call_return":"call",disabled:!1},void v.callers_id.push(i)}}),!n)return t;var u=(0,o.add_procedure_and_generate_rename_map)({procedure_manager:e,procedure_to_add:s,callers_to_add:l});return 0===Object.keys(u).length?t:i(t,u)},t.rename_procedures_in_xml=i,t.delete_from_xml=function(e,t){var n=[],o=function(t){var o=t.getAttribute("type");if(o!==a.PROCEDURE_BLOCK_TYPES.DEF)(o===a.PROCEDURE_BLOCK_TYPES.CALL_NORETURN||o===a.PROCEDURE_BLOCK_TYPES.CALL_RETURN)&&(i=t.getAttribute("id"),(0,r.assert)(i),e.delete_caller(i));else{var i=t.getAttribute("id");(0,r.assert)(i);var c=e.delete_procedure_def(i);c&&n.push(c.def_id)}};return o(t),Array.from(t.querySelectorAll("block")).forEach(o),n}},35667(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.register_default_procedure_events=void 0;var r=n(31635),a=n(36963),o=(0,r.__importStar)(n(58059)),i=n(99469),c=n(86295),s=n(89404),l=n(66928),u=n(31341);t.register_default_procedure_events=function(e,t){var n=(0,a.get_instance)().get(a.BINDING.events),r=(0,a.get_instance)().get(a.BINDING.ChangeEvent);e.add_custom_change_event("procedure_rename",function(a){var o=(0,c.is_func)(t)?t():t,u=this.get_old_value(),d=this.get_new_value(),f=this.get_block_id();(0,i.assert)("string"==typeof u),(0,i.assert)("string"==typeof d);var p=e.get_block_by_id(f);(0,i.assert)(p);var h=o.get_procedure_name_by_def(f),v=(0,l.get_legal_procedure_name)(a?d:u,o.get_occupied_procedure_names());n.disable(),o.rename_procedure(h,v);var m=p.get_field("NAME");m&&m.set_value(v),n.enable(),n.fire(r("procedure_rename",{block:p,old_value:h,new_value:v,name:s.PROCEDURE_BLOCK_FIELD_NAMES.PROCEDURE_NAME}))}),e.add_custom_change_event("change_procedure_param",function(a){var o,l,u,d,f=(0,c.is_func)(t)?t():t,p=this.get_old_value(),h=this.get_new_value(),v=this.get_block_id(),m=a?h:p,_=a?p:h,g=e.get_block_by_id(v);(0,i.assert)(g);var y=f.get_procedure_by_def(v);if((0,i.assert)(y),n.disable(),void 0===_&&"object"==typeof m){if(null!=(o=g.addMutation)&&o.call(g,m.param_name),void 0!==m.default_value){var b=y.params.length,E=null==(u=null==(l=g.get_input(""+s.PROCEDURE_BLOCK_INPUT_NAMES.PARAM_PREFIX+b))?void 0:l.connection)?void 0:u.targetBlock();(0,i.assert)(E),E.set_field_value("="+m.default_value,s.PROCEDURE_BLOCK_FIELD_NAMES.PARAM_DEFAULT_VALUE)}}else void 0===m&&"object"==typeof _&&null!=(d=g.removeMutation)&&d.call(g);n.enable(),n.fire(r("change_procedure_param",{block:g,old_value:_,new_value:m}))});var d=function(t){e.add_change_listener(function n(r){(r.type===o.BlockEventType.END_DRAG||r.type===o.BlockEventType.DELETE)&&(setTimeout(function(){t(r)}),e.remove_change_listener(n))})},f=function(a,l){if(!l||l.type!==o.BlockEventType.DELETE){var u=e.get_block_by_id(a.get_block_id());if(u){var d=n.is_record_undo();n.set_record_undo(!1);var f=(0,c.is_func)(t)?t():t;if(u.type===s.PROCEDURE_BLOCK_TYPES.DEF){var p=f.load_def_from_block(u);(0,i.assert)(p),n.disable();var h=u.get_field(s.PROCEDURE_BLOCK_FIELD_NAMES.PROCEDURE_NAME),v=null==h?void 0:h.get_value();(0,i.assert)(h),h.set_value(p.name),n.enable(),v!==p.name&&n.fire(r("procedure_rename",{block:u,old_value:v||"",new_value:p.name,name:s.PROCEDURE_BLOCK_FIELD_NAMES.PROCEDURE_NAME})),f.update_callers_disabled(e,p.def_id)}u.get_descendants(!1,!0).forEach(function(e){if(e.type===s.PROCEDURE_BLOCK_TYPES.CALL_RETURN||e.type===s.PROCEDURE_BLOCK_TYPES.CALL_NORETURN){var t=f.load_caller_from_block(e);(0,i.assert)(t);var n=f.get_procedure_by_caller_id(e.id);(0,i.assert)(n);var r=e.get_field(s.PROCEDURE_BLOCK_FIELD_NAMES.PROCEDURE_NAME);(0,i.assert)(r),r.set_value(n.name),e.set_disabled(n.disabled||e.type===s.PROCEDURE_BLOCK_TYPES.CALL_RETURN&&0===n.return_count)}}),n.set_record_undo(d)}}};e.add_change_listener(function(r){var a=n.is_record_undo();switch(n.set_record_undo(!1),r.type){case o.BlockEventType.CREATE:n.is_undoing()||"flyout:drag"!==r.source?f(r):d(f.bind(r,r));break;case o.BlockEventType.DELETE:!function(n){var r=(0,c.is_func)(t)?t():t;if(n.old_xml.getAttribute("type")===s.PROCEDURE_BLOCK_TYPES.DEF){var a=r.delete_procedure_def(n.get_block_id());if(!a)return;r.update_callers_disabled(e,a.def_id)}var o=function(e){if("block"===e.tagName.toLowerCase()){var t=e.getAttribute("type"),n=e.getAttribute("id");(0,i.assert)(t),(0,i.assert)(n),(t===s.PROCEDURE_BLOCK_TYPES.CALL_RETURN||t===s.PROCEDURE_BLOCK_TYPES.CALL_NORETURN)&&r.delete_caller(n)}};o(n.old_xml),Array.from(n.old_xml.querySelectorAll("block")).forEach(o)}(r);break;case o.BlockEventType.MOVE:!function(r){var a=r.get_old_loc(),o=r.get_new_loc();if(!(!a.input_name&&!a.parent_id&&!o.input_name&&!o.parent_id)){var l=[],u=e.get_block_by_id(r.get_block_id());if(u){var f=(0,c.is_func)(t)?t():t,p=u.get_descendants(!1,!0).filter(function(e){return e.type===s.PROCEDURE_BLOCK_TYPES.RETURN&&e.get_input("VALUE")}).length;if(!(p<1)){var h=function(t){var n=t&&e.get_block_by_id(t),r=n&&n.get_top_parent();if(r&&(0,c.is_block_svg)(r)&&r.type===s.PROCEDURE_BLOCK_TYPES.DEF)return r.id},v=h(r.get_old_loc().parent_id);v&&l.push(function(){var t=f.get_procedure_by_def(v);(0,i.assert)(t),f.change_return_count(t.name,-1*p),0===t.return_count&&f.update_callers_disabled(e,t.def_id)});var m=h(r.get_new_loc().parent_id);m&&l.push(function(){var t=f.get_procedure_by_def(m);if(t){var n=t.return_count;f.change_return_count(t.name,p),0===n&&t.return_count>0&&f.update_callers_disabled(e,t.def_id)}});var _=function(){var e=n.is_record_undo();n.set_record_undo(!1),l.forEach(function(e){return e()}),n.set_record_undo(e)};!n.is_undoing()&&e.is_dragging()?d(_):_()}}}}(r);break;case o.BlockEventType.CHANGE:!function(n){var r=e.get_block_by_id(n.get_block_id()||"");if(n.type===o.BlockEventType.CHANGE&&r){var a=(0,c.is_func)(t)?t():t;if(r.type===s.PROCEDURE_BLOCK_TYPES.RETURN){var l=r.get_top_parent();if(l&&(0,c.is_block_svg)(l)&&l.type!==s.PROCEDURE_BLOCK_TYPES.DEF)return;var u=a.get_procedure_by_def(l.id);(0,i.assert)(u),"mutation"===n.element&&(void 0!==n.get_new_value()?(a.change_return_count(u.name,1),u.return_count>0&&a.update_callers_disabled(e,u.def_id)):void 0!==n.get_old_value()&&(a.change_return_count(u.name,-1),0===u.return_count&&a.update_callers_disabled(e,u.def_id)))}if(r.type===s.PROCEDURE_BLOCK_TYPES.DEF){if("change_procedure_param"===n.element){var d=n.get_old_value(),f=n.get_new_value();if(u=a.get_procedure_by_def(n.get_block_id()),(0,i.assert)(u,"Trying to edit param on in-existing procedure"),"object"==typeof f&&void 0===d){var p=f;a.add_param(u.name,p.param_name,p.default_value),a.update_params(e,u.name,"increase",p)}else"object"==typeof d&&void 0===f&&(p=d,a.delete_param(u.name,p.param_name),a.update_params(e,u.name,"decrease",p));return}"procedure_rename"===n.element&&(d=n.get_old_value(),f=n.get_new_value(),(0,i.assert)("string"==typeof d),(0,i.assert)("string"==typeof f),a.update_procedure_name(e,d,f))}}}(r)}n.set_record_undo(a)}),e.set_pre_paste(function(e,n,r,a){var o=(0,c.is_func)(t)?t():t;return a||(e=(0,u.load_from_xml)(o,e,!0)),{xml_block:e,mouse_position:n,is_move_to_default:r}}),e.set_pre_paste_extend(function(e,n,r){var a=(0,c.is_func)(t)?t():t,o=document.createElement("xml");return e.forEach(function(e){return o.appendChild(e)}),{xml_blocks:e=Array.from((0,u.load_from_xml)(a,o,!0).children),mouse_position:n,is_move_to_default:r}})}},90759(e,t,n){"use strict";n.d(t,{a:()=>E,b:()=>g,c:()=>_,d:()=>m,e:()=>k});var r=n(7452),a=n.n(r),o=n(34221),i=n(38752),c=n(35667),s=n(52458),l=n(71691),u=n(51877),d=n(33383),f=n(32919),p=n(19042),h=n(17438),v=n(50862);function m(){Object.keys(v.h()).forEach(function(e){_(e)})}function _(e){i.Z.mainWorkspace.register_toolbox_category_callback(e,function(){var t=v.g.getToolbox(),n=b;return t&&n?y(e,n,!1):[]}),i.Z.mainWorkspace.register_toolbox_category_callback("ANY_"+e,function(){return v.g.getToolbox()?y(e,"",!0):[]})}function g(e){var t,n,r=l.d.dispatch;s.register_procedure_blocks(i.Z,e,(t=o.a(a().mark(function t(n){var o,i,c;return a().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=(o=e()).get_procedure_by_def(n)){t.next=4;break}return t.abrupt("return");case 4:return c=i.name,t.abrupt("return",new Promise(function(e){r(u.lj({title:"procedureDialogTitle",defaultValue:c,placeholder:"procedureDialogPlaceholder",maxLength:20,validator:function(e){if(""===e)return"emptyProcedureName";var t=o.get_occupied_procedure_names();return(t.splice(t.indexOf(c),1),t.includes(e))?"procedureNameExists":e[0].match(/[0-9_]/)?"invalidVariableFirstChar":d.j(e)?["函数","函數","function"].includes(e)?"preservedProcedureName":void 0:"invalidVariableName"},confirmCallback:function(t){t!==c&&e(t),e(void 0)},cancelCallback:function(){return e(void 0)}}))}));case 6:case"end":return t.stop()}},t)})),function(e){return t.apply(this,arguments)}),(n=o.a(a().mark(function t(n){var o;return a().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=e().get_procedure_by_def(n)){t.next=4;break}throw Error("Trying to add param to undefined procedure");case 4:return t.abrupt("return",new Promise(function(e){r(u.lj({title:"parameterDialogTitle",placeholder:"parameterDialogPlaceholder",maxLength:20,validator:function(e){return""===e?"emptyParameterName":o.params.find(function(t){return t.param_name===e})?"parameterExists":e[0].match(/[0-9_]/)?"invalidVariableFirstChar":d.j(e)?void 0:"invalidVariableName"},confirmCallback:function(t){return e({param_name:t,default_value:void 0})},cancelCallback:function(){return e(void 0)}}))}));case 5:case"end":return t.stop()}},t)})),function(e){return n.apply(this,arguments)})),i.Z.mainWorkspace.register_toolbox_category_callback("PROCEDURE",function(){return e().get_all_procedures_xml()}),c.register_default_procedure_events(i.Z.mainWorkspace,e)}function y(e,t,n){var r=f.Cb(e,t,n),a="<xml>";return r.forEach(function(e){a+=e}),a+="</xml>",Array.from(i.Z.xml.text_to_dom(a).children)}var b="";function E(){return b}function k(e){b=e;var t=l.d.getState(),n=t.project.screens.get(t.project.currentScreenIndex),r=f.Fb(e)||h.d(e);p.a("BlockCategoryClick",{isCooperation:!!t.oTState.collWorkId,screenId:(null==n?void 0:n.id)||"",screenName:(null==n?void 0:n.title)||"",blockCategory:r})}},57911(e,t,n){"use strict";n.d(t,{a:()=>r});var r="rootPlayer"},4765(e,t,n){"use strict";n.d(t,{a:()=>f,b:()=>d,c:()=>u,d:()=>o,e:()=>h,f:()=>p,g:()=>a,h:()=>r,i:()=>l,j:()=>s,k:()=>c,l:()=>i});var r="icon-widget-date-picker",a=202,o=36,i=155,c=30,s=360,l=640,u=16,d="#111111ff",f="#e4f5ffff",p=!1,h=!1},25926(e,t,n){"use strict";n.d(t,{a:()=>f,b:()=>d,c:()=>u,d:()=>o,e:()=>h,f:()=>p,g:()=>a,h:()=>r,i:()=>l,j:()=>s,k:()=>c,l:()=>i});var r="icon-widget-time-picker",a=106,o=36,i=106,c=30,s=360,l=640,u=16,d="#111111ff",f="#e4f5ffff",p=!1,h=!1},22690(e){e.exports={hide:"style_hide__2a1hr","coco-widget-wrapper":"style_coco-widget-wrapper__35_O4","coco-child-widget":"style_coco-child-widget__90_t5","coco-child-widget-selected":"style_coco-child-widget-selected__2cA3V","coco-child-widget-full":"style_coco-child-widget-full__1j-Ia",textWidget:"style_textWidget__3r2dO","coco-editable":"style_coco-editable__2C6ln",content:"style_content__1QoMj"}},29504(e,t,n){"use strict";n.d(t,{a:()=>f,b:()=>i,c:()=>d,d:()=>l,e:()=>c,f:()=>s,g:()=>u});var r=n(13244),a=n(28413),o=n(75083);function i(e){for(var t=[],n=[],o=[],i=[{path:[],op:e}],c=[];0!==i.length&&null!=i[0].op;){var s=0;for(s=0;s<i.length;s++){var l=i[s],u=a.a(l.path),d=l.op,f=0;for(f=0;f<d.length;f++)!function(){var e=d[f];if("string"==typeof e||"number"==typeof e)u.push(e);else if(Array.isArray(e))c.push({path:u.slice(0),op:e});else if("object"==typeof e){var a=u.slice(0);Object.keys(e).forEach(function(i){if("p"===i||"r"===i)t.push({path:a.slice(0),op:r.a({},i,e[i])});else if("i"===i||"d"===i)n.push({path:a.slice(0),op:r.a({},i,e[i])});else{if("es"!==i&&"ena"!==i)throw Error("new operation. pls add it ");o.push({path:a.slice(0),op:r.a({},i,e[i])})}})}}();u=[]}i=c,c=[]}return{picks:t,drops:n,edits:o}}function c(e){return"i"in e}function s(e){return"p"in e}function l(e){return"d"in e}function u(e){return"r"in e}function d(e){return Array.isArray(e)&&e.length>1&&Array.isArray(e[0])}function f(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length>1?t.reduce(function(e,t){return o.type.compose(e,t)}):t[0]}},92986(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function c(e,t,n){return(c=i()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&o(a,n.prototype),a}).apply(null,arguments)}function s(e){var t="function"==typeof Map?new Map:void 0;return(s=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return c(e,arguments,a(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),o(n,e)})(e)}function l(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||u(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{a:()=>m});var f=Object.prototype.hasOwnProperty;function p(e,t){return(e=e.slice()).push(t),e}function h(e,t){return(t=t.slice()).unshift(e),t}var v=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&o(r,e);var t,n=(t=i(),function(){var e,n=a(r);return e=t?Reflect.construct(n,arguments,a(this).constructor):n.apply(this,arguments),e&&("object"==typeof e||"function"==typeof e)?e:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this)});function r(e){var t;if(!(this instanceof r))throw TypeError("Cannot call a class as a function");return(t=n.call(this,'JSONPath should not be called with "new" (it prevents return of (unwrapped) scalar values)')).avoidNew=!0,t.value=e,t.name="NewError",t}return r}(s(Error));function m(e,t,n,a,o){if(!(this instanceof m))try{return new m(e,t,n,a,o)}catch(e){if(!e.avoidNew)throw e;return e.value}"string"==typeof e&&(o=a,a=n,n=t,t=e,e=null);var i=e&&"object"===r(e);if(e=e||{},this.json=e.json||n,this.path=e.path||t,this.resultType=e.resultType||"value",this.flatten=e.flatten||!1,this.wrap=!f.call(e,"wrap")||e.wrap,this.sandbox=e.sandbox||{},this.preventEval=e.preventEval||!1,this.parent=e.parent||null,this.parentProperty=e.parentProperty||null,this.callback=e.callback||a||null,this.otherTypeCallback=e.otherTypeCallback||o||function(){throw TypeError("You must supply an otherTypeCallback callback option with the @other() operator.")},!1!==e.autostart){var c={path:i?e.path:t};i?"json"in e&&(c.json=e.json):c.json=n;var s=this.evaluate(c);if(!s||"object"!==r(s))throw new v(s);return s}}m.prototype.evaluate=function(e,t,n,a){var o=this,i=this.parent,c=this.parentProperty,s=this.flatten,l=this.wrap;if(this.currResultType=this.resultType,this.currPreventEval=this.preventEval,this.currSandbox=this.sandbox,n=n||this.callback,this.currOtherTypeCallback=a||this.otherTypeCallback,t=t||this.json,(e=e||this.path)&&"object"===r(e)&&!Array.isArray(e)){if(!e.path&&""!==e.path)throw TypeError('You must supply a "path" property when providing an object argument to JSONPath.evaluate().');if(!f.call(e,"json"))throw TypeError('You must supply a "json" property when providing an object argument to JSONPath.evaluate().');t=e.json,s=f.call(e,"flatten")?e.flatten:s,this.currResultType=f.call(e,"resultType")?e.resultType:this.currResultType,this.currSandbox=f.call(e,"sandbox")?e.sandbox:this.currSandbox,l=f.call(e,"wrap")?e.wrap:l,this.currPreventEval=f.call(e,"preventEval")?e.preventEval:this.currPreventEval,n=f.call(e,"callback")?e.callback:n,this.currOtherTypeCallback=f.call(e,"otherTypeCallback")?e.otherTypeCallback:this.currOtherTypeCallback,i=f.call(e,"parent")?e.parent:i,c=f.call(e,"parentProperty")?e.parentProperty:c,e=e.path}if(i=i||null,c=c||null,Array.isArray(e)&&(e=m.toPathString(e)),(e||""===e)&&t){var u=m.toPathArray(e);"$"===u[0]&&u.length>1&&u.shift(),this._hasParentSelector=null;var d=this._trace(u,t,["$"],i,c,n).filter(function(e){return e&&!e.isParentSelector});return d.length?l||1!==d.length||d[0].hasArrExpr?d.reduce(function(e,t){var n=o._getPreferredOutput(t);return s&&Array.isArray(n)?e=e.concat(n):e.push(n),e},[]):this._getPreferredOutput(d[0]):l?[]:void 0}},m.prototype._getPreferredOutput=function(e){var t=this.currResultType;switch(t){case"all":var n=Array.isArray(e.path)?e.path:m.toPathArray(e.path);return e.pointer=m.toPointer(n),e.path="string"==typeof e.path?e.path:m.toPathString(e.path),e;case"value":case"parent":case"parentProperty":return e[t];case"path":return m.toPathString(e[t]);case"pointer":return m.toPointer(e.path);default:throw TypeError("Unknown result type")}},m.prototype._handleCallback=function(e,t,n){if(t){var r=this._getPreferredOutput(e);e.path="string"==typeof e.path?e.path:m.toPathString(e.path),t(r,n,e)}},m.prototype._trace=function(e,t,n,a,o,i,c,s){var l=this;if(!e.length)return E={path:n,value:t,parent:a,parentProperty:o,hasArrExpr:c},this._handleCallback(E,i,"value"),E;var d=e[0],v=e.slice(1),m=[];function _(e){Array.isArray(e)?e.forEach(function(e){m.push(e)}):m.push(e)}if(("string"!=typeof d||s)&&t&&f.call(t,d))_(this._trace(v,t[d],p(n,d),t,d,i,c));else if("*"===d)this._walk(d,v,t,n,a,o,i,function(e,t,n,r,a,o,i,c){_(l._trace(h(e,n),r,a,o,i,c,!0,!0))});else if(".."===d)_(this._trace(v,t,n,a,o,i,c)),this._walk(d,v,t,n,a,o,i,function(e,t,n,a,o,i,c,s){"object"===r(a[e])&&_(l._trace(h(t,n),a[e],p(o,e),a,e,s,!0))});else{if("^"===d)return this._hasParentSelector=!0,{path:n.slice(0,-1),expr:v,isParentSelector:!0};if("~"===d)return E={path:p(n,d),value:o,parent:a,parentProperty:null},this._handleCallback(E,i,"property"),E;if("$"===d)_(this._trace(v,t,n,null,null,i,c));else if(/^(\x2D?[0-9]*):(\x2D?[0-9]*):?([0-9]*)$/.test(d))_(this._slice(d,v,t,n,a,o,i));else if(0===d.indexOf("?(")){if(this.currPreventEval)throw Error("Eval [?(expr)] prevented in JSONPath expression.");this._walk(d,v,t,n,a,o,i,function(e,t,n,r,a,o,i,c){l._eval(t.replace(/^\?\(((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?)\)$/,"$1"),r[e],e,a,o,i)&&_(l._trace(h(e,n),r,a,o,i,c,!0))})}else if("("===d[0]){if(this.currPreventEval)throw Error("Eval [(expr)] prevented in JSONPath expression.");_(this._trace(h(this._eval(d,t,n[n.length-1],n.slice(0,-1),a,o),v),t,n,a,o,i,c))}else if("@"===d[0]){var g=!1,y=d.slice(1,-2);switch(y){case"scalar":t&&["object","function"].includes(r(t))||(g=!0);break;case"boolean":case"string":case"undefined":case"function":r(t)===y&&(g=!0);break;case"integer":!Number.isFinite(t)||t%1||(g=!0);break;case"number":Number.isFinite(t)&&(g=!0);break;case"nonFinite":"number"!=typeof t||Number.isFinite(t)||(g=!0);break;case"object":t&&r(t)===y&&(g=!0);break;case"array":Array.isArray(t)&&(g=!0);break;case"other":g=this.currOtherTypeCallback(t,n,a,o);break;case"null":null===t&&(g=!0);break;default:throw TypeError("Unknown value type "+y)}if(g)return E={path:n,value:t,parent:a,parentProperty:o},this._handleCallback(E,i,"value"),E}else if("`"===d[0]&&t&&f.call(t,d.slice(1))){var b=d.slice(1);_(this._trace(v,t[b],p(n,b),t,b,i,c,!0))}else if(d.includes(",")){var E,k,C=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=u(e))){n&&(e=n);var n,r,a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,r=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw r}}}}(d.split(","));try{for(C.s();!(k=C.n()).done;){var w=k.value;_(this._trace(h(w,v),t,n,a,o,i,!0))}}catch(e){C.e(e)}finally{C.f()}}else!s&&t&&f.call(t,d)&&_(this._trace(v,t[d],p(n,d),t,d,i,c,!0))}if(this._hasParentSelector)for(var T=0;T<m.length;T++){var O=m[T];if(O&&O.isParentSelector){var x=this._trace(O.expr,t,O.path,a,o,i,c);if(Array.isArray(x)){m[T]=x[0];for(var A=x.length,S=1;S<A;S++)T++,m.splice(T,0,x[S])}else m[T]=x}}return m},m.prototype._walk=function(e,t,n,a,o,i,c,s){if(Array.isArray(n))for(var l=n.length,u=0;u<l;u++)s(u,e,t,n,a,o,i,c);else n&&"object"===r(n)&&Object.keys(n).forEach(function(r){s(r,e,t,n,a,o,i,c)})},m.prototype._slice=function(e,t,n,r,a,o,i){if(Array.isArray(n)){var c=n.length,s=e.split(":"),l=s[2]&&Number.parseInt(s[2])||1,u=s[0]&&Number.parseInt(s[0])||0,d=s[1]&&Number.parseInt(s[1])||c;u=u<0?Math.max(0,u+c):Math.min(c,u),d=d<0?Math.max(0,d+c):Math.min(c,d);for(var f=[],p=u;p<d;p+=l)this._trace(h(p,t),n,r,a,o,i,!0).forEach(function(e){f.push(e)});return f}},m.prototype._eval=function(e,t,n,r,a,o){e.includes("@parentProperty")&&(this.currSandbox._$_parentProperty=o,e=e.replace(/@parentProperty/g,"_$_parentProperty")),e.includes("@parent")&&(this.currSandbox._$_parent=a,e=e.replace(/@parent/g,"_$_parent")),e.includes("@property")&&(this.currSandbox._$_property=n,e=e.replace(/@property/g,"_$_property")),e.includes("@path")&&(this.currSandbox._$_path=m.toPathString(r.concat([n])),e=e.replace(/@path/g,"_$_path")),e.includes("@root")&&(this.currSandbox._$_root=this.json,e=e.replace(/@root/g,"_$_root")),/@([\t-\r \)\.\[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])/.test(e)&&(this.currSandbox._$_v=t,e=e.replace(/@([\t-\r \)\.\[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])/g,"_$_v$1"));try{return this.vm.runInNewContext(e,this.currSandbox)}catch(t){throw console.log(t),Error("jsonPath: "+t.message+": "+e)}},m.cache={},m.toPathString=function(e){for(var t=e.length,n="$",r=1;r<t;r++)/^(~|\^|@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\(\))$/.test(e[r])||(n+=/^[\*0-9]+$/.test(e[r])?"["+e[r]+"]":"['"+e[r]+"']");return n},m.toPointer=function(e){for(var t=e.length,n="",r=1;r<t;r++)/^(~|\^|@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\(\))$/.test(e[r])||(n+="/"+e[r].toString().replace(/~/g,"~0").replace(/\//g,"~1"));return n},m.toPathArray=function(e){var t=m.cache;if(t[e])return t[e].concat();var n=[],r=e.replace(/@(?:null|boolean|number|string|integer|undefined|nonFinite|scalar|array|object|function|other)\(\)/g,";$&;").replace(/['\[](\??\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\))['\]]/g,function(e,t){return"[#"+(n.push(t)-1)+"]"}).replace(/\['((?:(?!['\]])[\s\S])*)'\]/g,function(e,t){return"['"+t.replace(/\./g,"%@%").replace(/~/g,"%%@@%%")+"']"}).replace(/~/g,";~;").replace(/'?\.'?(?!(?:(?!\[)[\s\S])*\])|\['?/g,";").replace(/%@%/g,".").replace(/%%@@%%/g,"~").replace(/(?:;)?(\^+)(?:;)?/g,function(e,t){return";"+t.split("").join(";")+";"}).replace(/;;;|;;/g,";..;").replace(/;$|'?\]|'$/g,"").split(";").map(function(e){var t=e.match(/#([0-9]+)/);return t&&t[1]?n[t[1]]:e});return t[e]=r,t[e].concat()},m.prototype.vm={runInNewContext:function(e,t){for(var n=Object.keys(t),r=[],a=n.length,o=0;o<a;o++)"function"==typeof t[n[o]]&&r.push(n.splice(o--,1)[0]);var i=n.map(function(e,n){return t[e]}),s=r.reduce(function(e,n){var r=t[n].toString();return/function/.test(r)||(r="function "+r),"var "+n+"="+r+";"+e},"");/(["'])use strict\1/.test(e=s+e)||n.includes("arguments")||(e="var arguments = undefined;"+e);var u=(e=e.replace(/;[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*$/,"")).lastIndexOf(";"),d=u>-1?e.slice(0,u+1)+" return "+e.slice(u+1):" return "+e;return c(Function,l(n).concat([d])).apply(void 0,l(i))}}},9380(e,t){"use strict";var n,r,a,o,i,c,s,l,u,d,f,p,h;Object.defineProperty(t,"__esModule",{value:!0}),t.EventType=t.is_drop_op=t.is_pick_op=t.is_drop_operation=t.is_pick_operation=t.is_path_5=t.is_path_4=t.is_path_3=t.is_path_2=t.is_path_5_array=t.is_path_4_array=t.is_path_3_array=t.is_path_2_array=t.PathParams5=t.PathParams4=t.PathParams3=t.PathParams2=t.Field_Type=t.Target_Type=void 0,(s=n=t.Target_Type||(t.Target_Type={}))[s.blocks=0]="blocks",s[s.connections=1]="connections",s[s.comments=2]="comments",(l=r=t.Field_Type||(t.Field_Type={}))[l.shadows=0]="shadows",l[l.fields=1]="fields",(u=a=t.PathParams2||(t.PathParams2={}))[u.TARGET=0]="TARGET",u[u.ID=1]="ID",(d=o=t.PathParams3||(t.PathParams3={}))[d.TARGET=0]="TARGET",d[d.ID=1]="ID",d[d.PROPERTY=2]="PROPERTY",(f=i=t.PathParams4||(t.PathParams4={}))[f.BLOCK=0]="BLOCK",f[f.ID=1]="ID",f[f.PROPERTY=2]="PROPERTY",f[f.PROPERTY_NAME=3]="PROPERTY_NAME",(p=c=t.PathParams5||(t.PathParams5={}))[p.BLOCK=0]="BLOCK",p[p.ID=1]="ID",p[p.PROPERTY=2]="PROPERTY",p[p.PROPERTY_NAME=3]="PROPERTY_NAME",p[p.FIELD_ATTR=4]="FIELD_ATTR",t.is_path_2_array=function(e){return 2===e.length&&e[a.TARGET]in n&&"string"==typeof e[a.ID]},t.is_path_3_array=function(e){return 3===e.length&&e[o.TARGET]in n&&"string"==typeof e[o.ID]&&"string"==typeof e[o.PROPERTY]},t.is_path_4_array=function(e){return 4===e.length&&"blocks"===e[i.BLOCK]&&"string"==typeof e[i.ID]&&e[i.PROPERTY]in r&&"string"==typeof e[i.PROPERTY_NAME]},t.is_path_5_array=function(e){return 5===e.length&&"blocks"===e[c.BLOCK]&&"string"==typeof e[c.ID]&&"field_extra_attr"===e[c.PROPERTY]&&"string"==typeof e[c.PROPERTY_NAME]&&"string"==typeof e[c.FIELD_ATTR]},t.is_path_2=function(e){return!e.hasOwnProperty("property")},t.is_path_3=function(e){return e.hasOwnProperty("property")&&!e.hasOwnProperty("property_name")},t.is_path_4=function(e){return e.hasOwnProperty("property_name")},t.is_path_5=function(e){return e.hasOwnProperty("field_attr")},t.is_pick_operation=function(e){return void 0!==e.p||void 0!==e.r},t.is_drop_operation=function(e){return void 0!==e.i||void 0!==e.d},t.is_pick_op=function(e){return void 0!==e.operation.p||void 0!==e.operation.r},t.is_drop_op=function(e){return void 0!==e.operation.i||void 0!==e.operation.d},(h=t.EventType||(t.EventType={})).CONNECT="connect",h.DISCONNECT="disconnect",h.CREATE_BLOCK="create_block",h.DELETE_BLOCK="delete_block",h.MOVE_BLOCK="move_block",h.COLLAPSE_BLOCK="collapse_block",h.DISABLE_BLOCK="disable_block",h.EDIT_BLOCK_FIELD="edit_block_field",h.EDIT_FIELD_EXTRA_ATTR="edit_field_extra_attr",h.SET_BLOCK_VISIBILITY="set_block_visibility",h.APPEND_SHADOW_INPUT="append_shadow_input",h.REMOVE_SHADOW_INPUT="remove_shadow_input",h.CREATE_COMMENT="create_comment",h.DELETE_COMMENT="delete_comment",h.MOVE_COMMENT="move_comment",h.COLLAPSE_COMMENT="collapse_comment",h.EDIT_COMMENT="edit_comment",h.CHANGE_COMMENT_COLOR="change_comment_color",h.RESIZE_COMMENT="resize_comment"},77667(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.analyze_path=t.decompose_and_sort_op=t.filter_events=void 0;var r=n(31635),a=(0,r.__importStar)(n(58059)),o=(0,r.__importStar)(n(9380));function i(e){var t=e[e.length-2],n=e[e.length-3];if("field_extra_attr"===n){var r=e.slice(-5);return o.is_path_5_array(r)?{target_type:r[o.PathParams5.BLOCK],target_id:r[o.PathParams5.ID],property:r[o.PathParams5.PROPERTY],property_name:r[o.PathParams5.PROPERTY_NAME],field_attr:r[o.PathParams5.FIELD_ATTR]}:void console.error("Invalid op path: "+e)}if(t in o.Field_Type){var a=e.slice(-4);return o.is_path_4_array(a)?{target_type:a[o.PathParams4.BLOCK],target_id:a[o.PathParams4.ID],property:a[o.PathParams4.PROPERTY],property_name:a[o.PathParams4.PROPERTY_NAME]}:void console.error("Invalid op path: "+e)}if(n in o.Target_Type){var i=e.slice(-3);return o.is_path_3_array(i)?{target_type:i[o.PathParams3.TARGET],target_id:i[o.PathParams3.ID],property:i[o.PathParams3.PROPERTY]}:void console.error("Invalid op path: "+e)}if(t in o.Target_Type){var c=e.slice(-2);return o.is_path_2_array(c)?{target_type:c[o.PathParams2.TARGET],target_id:c[o.PathParams2.ID]}:void console.error("Invalid op path: "+e)}}t.filter_events=function(e){if(0===e.length)return[];var t=[];e.forEach(function(e){(e.type===a.BlockEventType.CREATE||e.type===a.BlockEventType.DELETE||e.type===a.BlockEventType.CHANGE||e.type===a.BlockEventType.MOVE)&&t.push(e)});for(var n=new Map,r=0;r<=t.length-1;){var o=t[r];if(o.type!==a.BlockEventType.CREATE)if(o.type!==a.BlockEventType.DELETE)r++;else{c=o.get_block_id();var i=n.get(c);if(void 0!==i){t.splice(i,r-i+1),r=i,n.set(c,void 0);continue}r++}else{var c=o.get_block_id();if(void 0!==n.get(c))return console.error("create the same block "+c+" multi times."),[];n.set(c,r),r++}}return t},t.decompose_and_sort_op=function(e){var t,n,r,a=function(e){for(var t={pick_ops:[],drop_ops:[],edit_ops:[]},n=[{path:[],operation:e}],r=[];0!==n.length&&null!=n[0].operation;){for(var a=0;a<n.length;a++){var o=n[a],i=o.path.slice(0),c=o.operation;if(!c)return;for(var s=0;s<c.length;s++)!function(e){var n=c[e];if("string"==typeof n||"number"==typeof n)return i.push(n);if(Array.isArray(n))return r.push({path:i.slice(0),operation:n});if("object"==typeof n){var a=i.slice(0);Object.keys(n).forEach(function(e){var r,o,i;"p"!==e&&"r"!==e?"i"!==e&&"d"!==e?("es"===e||"ena"===e)&&t.edit_ops.push({path:a.slice(0),operation:((i={})[e]=n[e],i)}):t.drop_ops.push({path:a.slice(0),operation:((o={})[e]=n[e],o)}):t.pick_ops.push({path:a.slice(0),operation:((r={})[e]=n[e],r)})})}}(s);i=[]}n=r,r=[]}return t}(e);return a?{pick_ops:(n=(t=function(e){var t=[],n=[],r=[];return e.forEach(function(e){var a=i(e.path);if(a)switch(a.target_type){case"blocks":t.push(e);break;case"connections":r.push(e);break;case"comments":n.push(e)}}),{block_ops:t,comment_ops:n,conn_ops:r}})(a.pick_ops)).conn_ops.concat(n.block_ops).concat(n.comment_ops),drop_ops:(r=t(a.drop_ops)).block_ops.concat(r.conn_ops).concat(r.comment_ops),edit_ops:a.edit_ops}:(console.error(e+" cannot be decomposed"),{pick_ops:[],drop_ops:[],edit_ops:[]})},t.analyze_path=function(e,t){var n=void 0,r=i(t);if(r){var a=r.target_type;if("pick"===e){if(o.is_path_2(r))switch(a){case"blocks":n=o.EventType.DELETE_BLOCK;break;case"comments":n=o.EventType.DELETE_COMMENT}o.is_path_3(r)&&"connections"===a&&(n=o.EventType.DISCONNECT),o.is_path_4(r)&&"blocks"===a&&"shadows"===r.property&&(n=o.EventType.REMOVE_SHADOW_INPUT)}if("drop"===e){if(o.is_path_2(r))switch(a){case"blocks":n=o.EventType.CREATE_BLOCK;break;case"comments":n=o.EventType.CREATE_COMMENT}if(o.is_path_3(r))switch(a){case"blocks":switch(r.property){case"location":n=o.EventType.MOVE_BLOCK;break;case"collapsed":n=o.EventType.COLLAPSE_BLOCK;break;case"disabled":n=o.EventType.DISABLE_BLOCK;break;case"visible":n=o.EventType.SET_BLOCK_VISIBILITY}break;case"connections":n=o.EventType.CONNECT;break;case"comments":switch(r.property){case"location":n=o.EventType.MOVE_COMMENT;break;case"text":n=o.EventType.EDIT_COMMENT;break;case"pinned":n=o.EventType.COLLAPSE_COMMENT;break;case"color_theme":n=o.EventType.CHANGE_COMMENT_COLOR;break;case"size":n=o.EventType.RESIZE_COMMENT}}if(o.is_path_4(r))switch(r.property){case"fields":n=o.EventType.EDIT_BLOCK_FIELD;break;case"shadows":n=o.EventType.APPEND_SHADOW_INPUT}o.is_path_5(r)&&(n=o.EventType.EDIT_FIELD_EXTRA_ATTR)}if(void 0!==n)return{event_type:n,normalized_path:r}}else console.warn("path "+t+" cannot be normalized")}},39662(e,t){"use strict";t.BasePlugin=void 0,t.BasePlugin=function(){function e(){}return e.prototype.before_handle_event_group=function(e){},e.prototype.before_handle_single_event=function(e){},e.prototype.before_apply_op_to_doc=function(e){return e},e.prototype.after_apply_op_to_doc=function(e){return e},e.prototype.before_decompose_and_sort_op=function(e){return e},e.prototype.before_analyze_op=function(e){return e},e.prototype.after_analyze_op=function(e){return!0},e.prototype.before_generate_event=function(e){return e},e.prototype.after_transform_op_to_event=function(e){},e}()},93891(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProcedurePlugin=void 0;var r=n(31635),a=(0,r.__importStar)(n(58059)),o=n(89404),i=n(62879),c=n(68865),s=n(99469),l=(0,r.__importStar)(n(77667)),u=(0,r.__importStar)(n(9380));t.ProcedurePlugin=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.__extends)(t,e),t.prototype.before_handle_event_group=function(e){for(var t=new Map,n=0;n<e.length;){var r=e[n];if(void 0!==r)if(r.type!==a.BlockEventType.CREATE){if(r.type===a.BlockEventType.CHANGE){if("procedure_rename"!==r.element&&"field"!==r.element){n++;continue}l=r.get_block_id();var i=t.get(l);if(void 0!==i){var c=r.get_new_value(),s=e[i].get_element_json();"string"==typeof c&&(s.blocks[l].fields[o.PROCEDURE_BLOCK_FIELD_NAMES.PROCEDURE_NAME]=c),e.splice(n,1);continue}}n++}else{var l=r.get_block_id(),u=r.get_element_json();if(u.blocks[l]){var d=u.blocks[l].type;(d===o.PROCEDURE_BLOCK_TYPES.DEF||d===o.PROCEDURE_BLOCK_TYPES.CALL_RETURN||d===o.PROCEDURE_BLOCK_TYPES.CALL_NORETURN)&&t.set(r.get_block_id(),n)}n++}}},t.prototype.analyze_op_and_update=function(e,t,n){var r=this;this.procedure_manager=n,this.ws_json=t;var a=l.decompose_and_sort_op(e);if(a){var o=new Map,i=new Map,c=new Map,s=[],d=[],f=new Map;a.pick_ops.forEach(function(e){var t=l.analyze_path("pick",e.path);if(void 0!==t){var n=t.event_type,r=t.normalized_path;switch(n){case u.EventType.DISCONNECT:s.push(r);break;case u.EventType.DELETE_BLOCK:var a=o.get(r.target_id);void 0===a?o.set(r.target_id,-1):o.set(r.target_id,a-1),i.set(r.target_id,r);break;default:return}}}),a.drop_ops.forEach(function(e){var t=l.analyze_path("drop",e.path);if(void 0!==t){var n=t.event_type,r=t.normalized_path;switch(n){case u.EventType.CREATE_BLOCK:var a=o.get(r.target_id);void 0===a?o.set(r.target_id,1):o.set(r.target_id,a+1),c.set(r.target_id,r);break;case u.EventType.CONNECT:d.push(r);break;case u.EventType.EDIT_BLOCK_FIELD:var i=e.operation.i;if("string"!=typeof i)break;f.set(r,i);break;default:return}}}),o.forEach(function(e,t){switch(e){case 1:var n=c.get(t);n&&r.handle_create(n);break;case -1:var a=i.get(t);a&&r.handle_delete(a);break;case 0:var o=c.get(t);o&&r.handle_mutate(o)}}),f.forEach(function(e,t){r.handle_rename(t,e)}),s.forEach(function(e){r.handle_disconnect(e)}),d.forEach(function(e){r.handle_connect(e)})}},t.prototype.handle_create=function(e){var t=e.target_id,n=this.ws_json.blocks[t];if(n.type===o.PROCEDURE_BLOCK_TYPES.DEF){var r=n.fields[o.PROCEDURE_BLOCK_FIELD_NAMES.PROCEDURE_NAME];(0,s.assert)(r);var a=this.procedure_manager.get_procedure_by_def(t);a?(a.name!==r&&this.procedure_manager.rename_procedure(a.name,r),a.disabled=!1,a.valid=!0,a.base_name=a.name):a=this.procedure_manager.add_procedure_def(r,n.id),this.reload_params(a,t)}if(n.type===o.PROCEDURE_BLOCK_TYPES.CALL_RETURN||n.type===o.PROCEDURE_BLOCK_TYPES.CALL_NORETURN){var i=n.fields[o.PROCEDURE_BLOCK_FIELD_NAMES.PROCEDURE_NAME];(0,s.assert)(i),this.procedure_manager.add_caller(i,n.id,n.type===o.PROCEDURE_BLOCK_TYPES.CALL_RETURN?"call_return":"call")}},t.prototype.handle_delete=function(e){var t=e.target_id;this.procedure_manager.get_procedure_by_def(t)?this.procedure_manager.delete_procedure_def(t):this.procedure_manager.get_procedure_by_caller_id(t)&&this.procedure_manager.delete_caller(t)},t.prototype.handle_connect=function(e){if(u.is_path_3(e)){for(var t=e.target_id,n=this.ws_json.blocks[t];n.parent_id;)n=this.ws_json.blocks[n.parent_id];n.type===o.PROCEDURE_BLOCK_TYPES.DEF&&this.reload_return_count(n.id)}},t.prototype.handle_disconnect=function(e){if(u.is_path_3(e)){var t=e.property,n=e.target_id,r=this.json.get_block_data_by_id(this.ws_json,t);if(r){var a=Object.keys(r.blocks).filter(function(e){return r.blocks[e].type===o.PROCEDURE_BLOCK_TYPES.RETURN&&void 0!==r.blocks[e].shadows.VALUE}).length;if(!(a<1)){for(var i=this.ws_json.blocks[n];i.parent_id;)i=this.ws_json.blocks[i.parent_id];if(i.type===o.PROCEDURE_BLOCK_TYPES.DEF){var c=this.procedure_manager.get_procedure_by_def(i.id);(0,s.assert)(c),this.procedure_manager.change_return_count(c.name,-1*a)}}}}},t.prototype.handle_mutate=function(e){var t=e.target_id;if(this.ws_json.blocks[t].type===o.PROCEDURE_BLOCK_TYPES.DEF){var n=this.procedure_manager.get_procedure_by_def(t);(0,s.assert)(n),this.reload_params(n,t)}},t.prototype.handle_rename=function(e,t){var n=e.target_id;if(this.ws_json.blocks[n].type===o.PROCEDURE_BLOCK_TYPES.DEF){var r=this.procedure_manager.get_procedure_by_def(n);(0,s.assert)(r),r.name!==t&&this.procedure_manager.rename_procedure(r.name,t)}},t.prototype.reload_params=function(e,t){var n=this,r=this.ws_json.connections[t],a=Object.keys(r),i=[];a.forEach(function(e){var t=r[e];if("input"===t.type&&t.input_name.startsWith(o.PROCEDURE_BLOCK_INPUT_NAMES.PARAM_PREFIX)){var a=n.ws_json.blocks[e],c=a.fields[o.PROCEDURE_BLOCK_FIELD_NAMES.PARAM_NAME],s=a.fields[o.PROCEDURE_BLOCK_FIELD_NAMES.PARAM_DEFAULT_VALUE].slice(1);i.push({param_name:c,default_value:s||void 0})}}),e.params=i},t.prototype.reload_return_count=function(e){var t=this.json.get_block_data_by_id(this.ws_json,e);if(t){var n=Object.keys(t.blocks).filter(function(e){return t.blocks[e].type===o.PROCEDURE_BLOCK_TYPES.RETURN&&void 0!==t.blocks[e].shadows.VALUE}).length,r=this.procedure_manager.get_procedure_by_def(e);(0,s.assert)(r),r.return_count=n}},(0,r.__decorate)([(0,i.lazy_inject)(c.BINDING.json)],t.prototype,"json",void 0),t}(n(39662).BasePlugin)},38026(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalCommentPlugin=void 0;var r=n(31635),a=(0,r.__importStar)(n(58059)),o=n(62879),i=n(68865);t.GlobalCommentPlugin=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.__extends)(t,e),t.prototype.before_handle_event_group=function(e){for(var t=new Map,n=0;n<e.length;){var r=e[n];if(r.type!==a.BlockEventType.CREATE){if(r.type===a.BlockEventType.CHANGE){var o=r.get_new_value();if("comment_expand"!==r.element||"boolean"!=typeof o){n++;continue}s=r.get_block_id();var i=t.get(s);if(void 0!==i){(c=e[i].get_element_json()).comments[s].pinned=o,e.splice(n,1);continue}}n++}else{var c,s=r.get_block_id();(c=r.get_element_json()).comments[s]&&null===c.comments[s].parent_id&&t.set(s,n),n++}}},(0,r.__decorate)([(0,o.lazy_inject)(i.BINDING.json)],t.prototype,"json",void 0),t}(n(39662).BasePlugin)},97233(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConflictResolver=void 0;var r,a,o=n(31635),i=n(62879),c=n(68865),s=(0,o.__importStar)(n(58059)),l=n(86295);t.ConflictResolver=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,o.__extends)(t,e),t.prototype.after_analyze_op=function(e){var t=this.detect_conflict(e);return!t||(t.type===a.Gesture?(this.interrupt_gesture(t.target),!0):t.type===a.EditComment?(this.interrupt_edit_comment(t.target),!0):t.type===a.EditField?(this.interrupt_edit_field(t.target),!0):t.type!==a.UI||(this.interrupt_ui(t.target),!0))},t.prototype.get_server_affected_id_list=function(e){var t=this,n=new Set;return e.forEach(function(e){t.Blink.mainWorkspace.for_each_element_in_stack(e,function(e){return n.add(e.id)})}),n},t.prototype.analyze_local_operation=function(e){var t,n=new Set,r=this.Blink.mainWorkspace.current_gesture_,o=null==r?void 0:r.target_block;if(r&&o){this.Blink.mainWorkspace.for_each_element_in_stack(o.id,function(e){return n.add(e.id)});var i=r.block_dragger;void 0!==(null==i?void 0:i.parent_before_drag)&&this.Blink.mainWorkspace.for_each_element_in_stack(i.parent_before_drag.id,function(e){return n.add(e.id)});for(var c=Array.from(e),s=0;s<c.length;s++)if(n.has(c[s]))return{type:a.Gesture,target:r}}var u=this.Blink.runtime_data.selected;if(u&&e.has(u.id)){if(this.Blink.context_menu.current_block===u)return{type:a.UI,target:u};if((0,l.is_workspace_comment)(u)&&(u.is_textarea_focused||u.size_before_resize))return{type:a.EditComment,target:u};if((0,l.is_block_svg)(u)){var d=this.Blink.runtime_data.editing;if(!d)return;if(d.source_block===u||(null==(t=d.source_block)?void 0:t.parent_block)===u)return{type:a.EditField,target:d}}}},t.prototype.detect_conflict=function(e){var t=this.get_server_affected_id_list(e);if(t)return this.analyze_local_operation(t)},t.prototype.interrupt_edit_field=function(e){var t;if(this.Blink.events.disable(),this.Blink.runtime_data.editing===e){var n=e.value_before_editing;void 0!==n&&(e.set_value(n),e.set_html_input_value(n)),null!=(t=e.source_block)&&t.unselect(),e.focus(!1)}this.Blink.widget_div.owner_&&this.Blink.widget_div.hide(),this.Blink.events.enable()},t.prototype.interrupt_edit_comment=function(e){e.cancel_operation()},t.prototype.interrupt_ui=function(e){this.Blink.events.disable(),this.Blink.context_menu.hide(),e.unselect(),this.Blink.events.enable()},t.prototype.interrupt_gesture=function(e){var t,n,r=this.Blink.events.get_group();this.Blink.events.fire(this.group_event_factory({type:s.GroupEventType.GroupCancel,group:r}));try{this.Blink.events.disable_listener();var a=null==(t=e.block_dragger)?void 0:t.redo_stack_before_drag.slice(),o=null==(n=e.block_dragger)?void 0:n.undo_stack_before_drag.slice();if(void 0===a||void 0===o)return void console.error("Confilct resolver: cannot get redo stack before drag.");e.cancel(),o.length!==this.Blink.mainWorkspace.get_undo_stack().length&&(this.Blink.mainWorkspace.undo(),this.Blink.mainWorkspace.set_redo_stack(a))}catch(e){console.error("Occurs error when interruput gesture: ",e)}finally{this.Blink.events.enable_listener()}},(0,o.__decorate)([(0,i.lazy_inject)(c.BINDING.Blink)],t.prototype,"Blink",void 0),(0,o.__decorate)([(0,i.lazy_inject)(c.BINDING.GroupEvent)],t.prototype,"group_event_factory",void 0),t}(n(39662).BasePlugin),(r=a||(a={})).Gesture="Gesture",r.EditField="EditField",r.EditComment="EditComment",r.UI="UI"},46468(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConflictResolver=t.GlobalCommentPlugin=t.ProcedurePlugin=void 0;var r=n(93891);Object.defineProperty(t,"ProcedurePlugin",{enumerable:!0,get:function(){return r.ProcedurePlugin}});var a=n(38026);Object.defineProperty(t,"GlobalCommentPlugin",{enumerable:!0,get:function(){return a.GlobalCommentPlugin}});var o=n(97233);Object.defineProperty(t,"ConflictResolver",{enumerable:!0,get:function(){return o.ConflictResolver}})},21464(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TransformToIde=void 0;var r=n(31635),a=n(19673),o=n(89404),i=n(36963),c=n(56309),s=(0,r.__importStar)(n(58059)),l=n(86295),u=(0,r.__importStar)(n(9380)),d=(0,r.__importStar)(n(77667)),f=n(46468);t.TransformToIde=function(){function e(){this.plugins=new Set,this.error=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];console.error.apply(console,(0,r.__spreadArray)(["Error when transform to ide ","["+e+"]: "],t,!1))},this.param_block_ids=[],this.redo_param_connect=[],this.redo_collapse_ids=[];var e=new f.ConflictResolver;this.register_plugins([e])}return e.prototype.register_plugins=function(e){var t=this;e.forEach(function(e){return t.plugins.add(e)})},e.prototype.decompose_and_transform_op=function(e){var t=this;try{this.plugins.forEach(function(t){t.before_decompose_and_sort_op(e)})}catch(e){this.error("Before decompose and sort op",e)}var n=void 0;try{n=d.decompose_and_sort_op(e)}catch(e){this.error("Decompose and sort op",e)}if(n){for(var r=this.analyze_sorted_ops(n),a=r.analyze_result,o=r.affected_ids,i=Array.from(this.plugins),c=0;c<i.length;c++){var s=i[c];try{if(!s.after_analyze_op(o))return}catch(e){return void this.error("After analyze op",e)}}a.pick_ops.forEach(function(e){t.transform_pick_operation(e,a.drop_ops)}),a.drop_ops.forEach(function(e){t.transform_drop_operation(e)}),this.redo_param_connect.length&&this.redo_param_connect.forEach(function(e){t.transform_drop_operation(e)}),this.redo_param_connect=[],this.param_block_ids=[],this.redo_collapse_ids.length&&this.redo_collapse_ids.forEach(function(e){try{t.Blink.events.disable();var n=t.Blink.mainWorkspace.get_block_by_id(e);null!=n&&n.set_collapsed(!1),null!=n&&n.set_collapsed(!0)}catch(n){t.error("Retrying creating collapsed blocks",e)}finally{t.Blink.events.enable()}}),this.redo_collapse_ids=[];try{this.plugins.forEach(function(t){t.after_transform_op_to_event(e)})}catch(e){this.error("After transform op to event",e)}}},e.prototype.analyze_sorted_ops=function(e){var t=this,n=[],r={drop_ops:[],pick_ops:[]};return e.pick_ops.forEach(function(e){if(u.is_pick_operation(e.operation)){try{t.plugins.forEach(function(t){t.before_analyze_op(e)})}catch(n){t.error("Before analyze pick op",e,n)}var a=d.analyze_path("pick",e.path);if(void 0!==a&&(r.pick_ops.push({event_type:a.event_type,normalized_path:a.normalized_path,operation:e.operation}),n.push(a.normalized_path.target_id),a.event_type===u.EventType.DISCONNECT)){if(!u.is_path_3(a.normalized_path))return;n.push(a.normalized_path.property)}}}),e.drop_ops.forEach(function(e){if(u.is_drop_operation(e.operation)){try{t.plugins.forEach(function(t){t.before_analyze_op(e)})}catch(n){t.error("Before analyze drop op",e,n)}var a=d.analyze_path("drop",e.path);if(void 0!==a){if(r.drop_ops.push({event_type:a.event_type,normalized_path:a.normalized_path,operation:e.operation}),n.push(a.normalized_path.target_id),a.event_type===u.EventType.CONNECT){if(!u.is_path_3(a.normalized_path))return;n.push(a.normalized_path.property)}if(a.event_type===u.EventType.CREATE_COMMENT){var o=e.operation;o.i&&(0,c.is_comment_json)(o.i)&&null!==o.i.parent_id&&n.push(o.i.parent_id)}}}}),{analyze_result:r,affected_ids:n}},e.prototype.transform_pick_operation=function(e,t){var n=this;try{this.plugins.forEach(function(t){t.before_generate_event(e)})}catch(t){this.error("Before generate pick event",e,t)}var a=e.event_type,o=e.normalized_path,i=function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return n.error.apply(n,(0,r.__spreadArray)(["Transforming pick operation",e],t,!1))};if(a!==u.EventType.DISCONNECT)if(a!==u.EventType.DELETE_BLOCK)if(a!==u.EventType.DELETE_COMMENT){if(a===u.EventType.REMOVE_SHADOW_INPUT){if(!u.is_path_4(o))return;if(v=o.target_id,!(g=this.Blink.mainWorkspace.get_block_by_id(v)))return void i("remove shadow input: cannot find target block "+v);for(var c=void 0,s=0;s<t.length;s++){var l=t[s];if(l.event_type===u.EventType.APPEND_SHADOW_INPUT&&u.is_path_4(l.normalized_path)&&l.normalized_path.target_id===o.target_id&&l.normalized_path.property_name===o.property_name){c=l;break}}if(!c){if(!g.removeMutation)return void i("Block "+v+" should have function: removeMutation.");this.Blink.events.disable();try{g.removeMutation()}catch(e){i(e)}finally{this.Blink.events.enable()}}}}else{if(!u.is_path_2(o))return;var d=o.target_id,f=this.Blink.mainWorkspace.workspace_comment_db.get(d);if(!f)return;if(_=this.Blink.json.comment_to_json(f).parent_id){var p=this.Blink.mainWorkspace.get_element_from_db(_);if(!p)return void i("cannot find block connected to this comment "+d);this.Blink.events.disable();try{var h=this.Blink.xml.comment_to_dom_with_xy(f);this.change_event_factory("comment",{block:p,old_value:h,new_value:void 0}).run(!0)}catch(e){i(e)}finally{this.Blink.events.enable()}}else{m=this.delete_event_factory({block:f}),this.Blink.events.disable();try{m.run(!0)}catch(e){i(e)}finally{this.Blink.events.enable()}}}else{if(!u.is_path_2(o))return;var v=o.target_id;if(!(g=this.Blink.mainWorkspace.get_block_by_id(v))||g.is_shadow())return;if(y=g.get_parent()){b={id:v,group:"",old_parent_id:y.id},E=this.move_event_factory({block:g}),this.Blink.events.disable();try{E.deserialize(b),E.run(!0)}catch(e){i("disconnecting from parent",e)}finally{this.Blink.events.enable()}}var m=this.delete_event_factory({block:g});this.Blink.events.disable();try{m.run(!0)}catch(e){i("deleting",e)}finally{this.Blink.events.enable()}}else{if(!u.is_path_3(o))return;var v=o.property,_=o.target_id,g=this.Blink.mainWorkspace.get_block_by_id(v),y=this.Blink.mainWorkspace.get_block_by_id(_);if(!g||!y||g.is_shadow())return;var b={id:v,group:"",old_parent_id:_},E=this.move_event_factory({block:g});this.Blink.events.disable();try{E.deserialize(b),E.run(!0)}catch(e){i(e)}finally{this.Blink.events.enable()}}},e.prototype.transform_drop_operation=function(e){var t=this;try{this.plugins.forEach(function(t){t.before_generate_event(e)})}catch(t){this.error("Before generate drop event",e,t)}var n=function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];return t.error.apply(t,(0,r.__spreadArray)(["Transforming drop operation",e],n,!1))},i=e.event_type,d=e.normalized_path,f=e.operation;if(u.is_path_2(d)){if(i===u.EventType.CREATE_BLOCK){var p=d.target_id;if(!f.i||!(0,c.is_block_json)(f.i))return void n("Invalid op. ");if(W=this.Blink.mainWorkspace.get_block_by_id(p))return void this.Blink.json.parse_block_data(f.i,W);var h={blocks:((O={})[p]=f.i,O),connections:{},comments:{}};this.Blink.events.disable();try{this.Blink.json.json_to_workspace(h,this.Blink.mainWorkspace)}catch(e){n(e)}finally{this.Blink.events.enable()}var v=this.Blink.mainWorkspace.get_block_by_id(p);return"param"===(null==v?void 0:v.element_type)&&this.param_block_ids.push(p),void((null==v?void 0:v.is_collapsed())&&this.redo_collapse_ids.push(p))}if(i===u.EventType.CREATE_COMMENT){var m=d.target_id;if(!f.i||!(0,c.is_comment_json)(f.i))return void n("Invalid op. ");var _=f.i;if(_.parent_id){if(!(Z=this.Blink.mainWorkspace.get_element_from_db(_.parent_id)))return void n("cannot find block connected to this comment "+m);var g=this.change_event_factory("comment",{block:Z,old_value:void 0,new_value:m});this.Blink.events.disable();try{g.run(!0)}catch(e){n(e)}finally{this.Blink.events.enable()}if(!(I=this.Blink.mainWorkspace.get_element_from_db(m))||!(0,l.is_workspace_comment)(I))return void n("create: cannot find target comment "+m);var y=_.location;if(!Array.isArray(y)||"number"!=typeof y[0]||"number"!=typeof y[1])return void n("Invalid op. ");var b=[y[0],y[1]],E={id:I.id,group:"",new_coordinate:b},k=this.move_event_factory({block:I});this.Blink.events.disable();try{k.deserialize(E),k.run(!0)}catch(e){n(e)}finally{this.Blink.events.enable()}if(_.text){var C=this.change_event_factory("comment_text",{block:I,old_value:"",new_value:_.text});this.Blink.events.disable();try{C.run(!0)}catch(e){n(e)}finally{this.Blink.events.enable()}}var w=I.get_color_theme(),T=this.change_event_factory("comment_color",{block:I,old_value:w,new_value:_.color_theme});this.Blink.events.disable();try{T.run(!0)}catch(e){n(e)}finally{this.Blink.events.enable()}}else{h={blocks:{},connections:{},comments:((x={})[_.id]=_,x)},this.Blink.events.disable();try{this.Blink.json.json_to_workspace(h,this.Blink.mainWorkspace)}catch(e){n(e)}finally{this.Blink.events.enable()}}return}}if(u.is_path_3(d)){if(i===u.EventType.MOVE_BLOCK){p=d.target_id;var O,x,A,S,P,R,N,I,D=this.Blink.mainWorkspace.get_block_by_id(p);if(!D)return void n("move block: cannot find target block "+p);if(D.is_shadow())return;if(!Array.isArray(f.i)||"number"!=typeof f.i[0]||"number"!=typeof f.i[1])return void n("invalid op. ");E={id:p,group:"",new_coordinate:b=[f.i[0],f.i[1]]},k=this.move_event_factory({block:D}),this.Blink.events.disable();try{k.deserialize(E),k.run(!0)}catch(e){n(e)}finally{this.Blink.events.enable()}return}if(i===u.EventType.COLLAPSE_BLOCK){p=d.target_id;var F=this.Blink.mainWorkspace.get_element_from_db(p);if(!F)return void n("Invalid block "+p+". ");if("boolean"!=typeof f.i)return void n("Invalid op. ");var L=f.i;g=this.change_event_factory("collapsed",{block:F,old_value:!L,new_value:L}),this.Blink.events.disable();try{g.run(!0)}catch(e){n(e)}finally{this.Blink.events.enable()}return}if(i===u.EventType.DISABLE_BLOCK){if(p=d.target_id,!(W=this.Blink.mainWorkspace.get_block_by_id(p)))return void n("Invalid block "+p+". ");var M=f.i;if("boolean"!=typeof M)return void n("Invalid op. ");g=this.change_event_factory("disabled",{block:W,old_value:!M,new_value:M}),this.Blink.events.disable();try{g.run(!0)}catch(e){n(e)}finally{this.Blink.events.enable()}return}if(i===u.EventType.SET_BLOCK_VISIBILITY){if(p=d.target_id,!(W=this.Blink.mainWorkspace.get_block_by_id(p)))return void n("Invalid block "+p+". ");var B=f.i;if("string"!=typeof B)return void n("Invalid op. ");var j=(0,a.parse_visibility)(B);if(!j)return void n("Invalid op. ");g=this.change_event_factory("visibility",{block:W,old_value:s.BlockVisibility.HIDDEN,new_value:j}),this.Blink.events.disable();try{g.run(!0)}catch(e){n(e)}finally{this.Blink.events.enable()}return}if(i===u.EventType.CONNECT){p=d.property;var U=d.target_id,W=this.Blink.mainWorkspace.get_block_by_id(p),V=this.Blink.mainWorkspace.get_block_by_id(U);if(!W)return void n("Invalid block "+p+". ");if(!f.i||!(0,c.is_connection_json)(f.i))return void n("Invalid op. ");var K=f.i;if(E={id:p,group:""},"next"===K.type&&(E.new_parent_id=U),"input"===K.type){if(E.new_parent_id=U,E.new_input_name=K.input_name,!V)return void n("Invalid block "+p+". ");if(!(G=V.get_input(K.input_name)))return void n("Cannot find target input "+K.input_name+" on block "+U)}k=this.move_event_factory({block:W}),this.Blink.events.disable();try{k.deserialize(E),k.run(!0)}catch(e){n(e)}finally{this.Blink.events.enable()}if(this.param_block_ids.includes(p)&&this.redo_param_connect.push(e),!W.is_shadow())return;for(var z=0;z<W.inputList.length;z++)for(var G=W.inputList[z],Y=0;Y<G.fieldRow.length;Y++){var $=G.fieldRow[Y];(0,l.is_field_number)($)&&$.update_allow_text()}return}if(i===u.EventType.MOVE_COMMENT){if(m=d.target_id,!(I=this.Blink.mainWorkspace.get_element_from_db(m)))return void n("Invalid comment "+m);if(!Array.isArray(f.i)||"number"!=typeof f.i[0]||"number"!=typeof f.i[1])return void n("Invalid op. ");E={id:m,group:"",new_coordinate:b=[f.i[0],f.i[1]]},k=this.move_event_factory({block:I}),this.Blink.events.disable();try{k.deserialize(E),k.run(!0)}catch(e){n(e)}finally{this.Blink.events.enable()}return}if(i===u.EventType.EDIT_COMMENT){if(m=d.target_id,!(Z=this.Blink.mainWorkspace.get_element_from_db(m)))return void n("Invalid comment "+m);if("string"!=typeof f.i)return void n("Invalid op. ");C=this.change_event_factory("comment_text",{block:Z,old_value:"",new_value:f.i}),this.Blink.events.disable();try{C.run(!0)}catch(e){n(e)}finally{this.Blink.events.enable()}return}if(i===u.EventType.COLLAPSE_COMMENT){if(m=d.target_id,!(Z=this.Blink.mainWorkspace.get_element_from_db(m)))return void n("Invalid comment "+m);if("boolean"!=typeof f.i)return void n("Invalid op. ");var H=f.i,q=this.change_event_factory("comment_expand",{block:Z,old_value:!H,new_value:H});this.Blink.events.disable();try{q.run(!0)}catch(e){n(e)}finally{this.Blink.events.enable()}return}if(i===u.EventType.CHANGE_COMMENT_COLOR){m=d.target_id;var Z=this.Blink.mainWorkspace.get_element_from_db(m);if(!(0,l.is_workspace_comment)(Z))return void n("Invalid comment "+m);if(!(0,l.is_comment_theme)(f.i))return void n("Invalid op. ");w=Z.get_color_theme(),T=this.change_event_factory("comment_color",{block:Z,old_value:w,new_value:f.i}),this.Blink.events.disable();try{T.run(!0)}catch(e){n(e)}finally{this.Blink.events.enable()}return}if(i===u.EventType.RESIZE_COMMENT){if(m=d.target_id,!(Z=this.Blink.mainWorkspace.get_element_from_db(m)))return void n("Invalid comment "+m);if(!Array.isArray(f.i)||"number"!=typeof f.i[0]||"number"!=typeof f.i[1])return void n("Invalid op. ");var J=Z.get_height_width(),X=this.change_event_factory("comment_resize",{block:Z,old_value:[J.width,J.height],new_value:[f.i[0],f.i[1]]});this.Blink.events.disable();try{X.run(!0)}catch(e){n(e)}finally{this.Blink.events.enable()}return}}if(u.is_path_4(d)){if(i===u.EventType.EDIT_BLOCK_FIELD){if("string"!=typeof f.i)return void n("Invalid op. ");if(p=d.target_id,!(W=this.Blink.mainWorkspace.get_block_by_id(p)))return void n("Invalid block "+p);var Q=d.property_name;if(!($=W.get_field(Q))){var ee={TEXT:"NUM",NUM:"TEXT"};if(!($=W.get_field(ee[Q]))||!$.allow_text)return void n("Invalid field "+Q+" on block "+p);Q=ee[Q]}var et=$.get_value();if(et===f.i)return;var en=W.type===o.PROCEDURE_BLOCK_TYPES.DEF&&Q===o.PROCEDURE_BLOCK_FIELD_NAMES.PROCEDURE_NAME;g=this.change_event_factory(en?"procedure_rename":"field",{block:W,old_value:et,new_value:f.i,name:Q}),this.Blink.events.disable();try{g.run(!0)}catch(e){n(e)}finally{this.Blink.events.enable()}return}if(i===u.EventType.APPEND_SHADOW_INPUT){if("string"!=typeof f.i)return void n("Invalid op. ");p=d.target_id;var er=d.property_name;if(!(W=this.Blink.mainWorkspace.get_block_by_id(p)))return void n("Invalid block "+p);if(G=W.get_input(er))null!=(A=G.connection)&&A.set_shadow_from_string(f.i);else{this.Blink.events.disable();try{null!=(S=W.addMutation)&&S.call(W),null!=(N=null==(R=null==(P=W.get_input(er))?void 0:P.connection)?void 0:R.targetBlock())&&N.dispose()}catch(e){n(e)}finally{this.Blink.events.enable()}}}}if(u.is_path_5(d)&&i===u.EventType.EDIT_FIELD_EXTRA_ATTR){if(p=d.target_id,!(W=this.Blink.mainWorkspace.get_block_by_id(p)))return void n("Invalid block "+p);if(Q=d.property_name,!($=W.get_field(Q)))return void n("Cannot find field "+Q+" on block "+p);if((0,l.is_field_default_value)($)){if("boolean"!=typeof f.i)return void n("Invalid op. ");$.set_has_been_edited(f.i)}}},(0,r.__decorate)([(0,i.lazy_inject)(i.BINDING.Blink)],e.prototype,"Blink",void 0),(0,r.__decorate)([(0,i.lazy_inject)(i.BINDING.MoveEvent)],e.prototype,"move_event_factory",void 0),(0,r.__decorate)([(0,i.lazy_inject)(i.BINDING.DeleteEvent)],e.prototype,"delete_event_factory",void 0),(0,r.__decorate)([(0,i.lazy_inject)(i.BINDING.ChangeEvent)],e.prototype,"change_event_factory",void 0),e}()},45547(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TransformToOp=void 0;var r=n(31635),a=n(75083),o=n(50170),i=(0,r.__importStar)(n(58059)),c=n(36963),s=n(89221),l=n(19673),u=n(77667);t.TransformToOp=function(){function e(e,t){var n=this;this.generate_op_callback=t,this.current_event_group="",this.cached_events=[],this.plugins=new Set,this.warn=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];console.warn.apply(console,(0,r.__spreadArray)(["Warn when transform to op ","["+e+"]: "],t,!1))},this.error=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];console.error.apply(console,(0,r.__spreadArray)(["Error when transform to op ","["+e+"]: "],t,!1))},this.event_listener=function(e){if(n.Blink.events.is_listener_enabled()){if(e.type===i.GroupEventType.GroupStart)return""!==n.current_event_group&&0!==n.cached_events.length&&(n.warn("Receiving GroupStart","Starting a new event group before existing group "+n.current_event_group+" closes. "),n.handle_event_group()),void(n.current_event_group=e._group);if(e.type===i.GroupEventType.GroupEnd)return e._group!==n.current_event_group&&0!==n.cached_events.length&&n.warn("Receiving GroupEnd","Ending group "+e._group+" while current processing group is "+n.current_event_group+". Cached events is going to be handled and both group are going to be closed. "),n.current_event_group="",void n.handle_event_group();if(e.type===i.GroupEventType.GroupCancel)return e._group!==n.current_event_group&&0!==n.cached_events.length&&(n.warn("Receiving GroupCancel","Canceling group "+e._group+" while current processing group is "+n.current_event_group+". Cached events is going to be handled and both group are going to be closed. "),n.handle_event_group()),n.current_event_group="",void(n.cached_events=[]);if(e.type===i.BlockEventType.CREATE||e.type===i.BlockEventType.MOVE||e.type===i.BlockEventType.DELETE||e.type===i.BlockEventType.CHANGE)switch(e._group){case"":var t=n.handle_single_event([e],0);if(!t)return;return void n.apply_op_to_doc(t);case n.current_event_group:return void n.cached_events.push(e);default:n.error("Receiving Block Event","Receive event "+e+" when group "+n.current_event_group+" is not finished. This event would be ignored. ")}}},this.get_current_ws_json=function(){return n.cached_json?n.cached_json:e()}}return e.prototype.apply_op_to_doc=function(e){try{try{this.plugins.forEach(function(t){t.before_apply_op_to_doc(e)})}catch(e){throw this.error("Before apply op to doc",e),Error("Should reverse")}try{this.generate_op_callback.call(this,[e])}catch(e){throw this.error("Applying op to doc",e),Error("Should reverse")}try{this.plugins.forEach(function(t){t.after_apply_op_to_doc(e)})}catch(e){this.error("After apply op to doc",e)}}catch(e){this.refresh()}},e.prototype.refresh=function(){var e=this.Blink.mainWorkspace;if(e)try{this.Blink.events.disable(),e.clear(),this.reset();var t=this.get_current_ws_json();this.Blink.json.json_to_workspace(t,e)}catch(e){this.error("Refreshing workspace",e)}finally{this.Blink.events.enable()}},e.prototype.handle_single_event=function(e,t){var n=e[t];try{this.plugins.forEach(function(e){e.before_handle_single_event(n)})}catch(e){return this.error("Before handle single event",e),null}switch(n.type){case i.BlockEventType.CREATE:return this.generate_create_op(n.get_element_json());case i.BlockEventType.DELETE:return this.generate_delete_op(n.ids);case i.BlockEventType.MOVE:return this.generate_move_event_op(e,t);case i.BlockEventType.CHANGE:return this.generate_change_event_op(n);default:return null}},e.prototype.handle_event_group=function(){var e=this;try{this.plugins.forEach(function(t){t.before_handle_event_group(e.cached_events)})}catch(e){return void this.error("Before handle event group",e)}var t=this.Blink.events.filter(this.cached_events,!0),n=(0,u.filter_events)(t);if(this.cached_events=[],n&&0!==n.length){this.cached_json&&(this.error("Handle event group","Handling multi event groups at a time. "),this.cached_json=void 0),this.cached_json=this.get_current_ws_json();var r=null;try{for(var a=0;a<n.length;a++){var i=this.handle_single_event(n,a);this.cached_json=o.type.apply(this.cached_json,i),r=o.type.compose(r,i)}}catch(e){this.error("Generating group op",e),this.refresh()}this.cached_json=void 0,this.apply_op_to_doc(r)}},e.prototype.start=function(){this.Blink.mainWorkspace.remove_change_listener(this.event_listener),this.Blink.mainWorkspace.add_change_listener(this.event_listener,!1)},e.prototype.stop=function(){this.Blink.mainWorkspace.remove_change_listener(this.event_listener)},e.prototype.reset=function(){this.current_event_group="",this.cached_events=[],this.cached_json=void 0},e.prototype.register_plugins=function(e){var t=this;e.forEach(function(e){return t.plugins.add(e)})},e.prototype.generate_create_op=function(e){var t=null;try{Object.keys(e.blocks).forEach(function(n){var r=e.blocks[n],i=["blocks",r.id];t=o.type.compose(t,(0,a.insertOp)(i,r))}),Object.keys(e.connections).forEach(function(n){var r=e.connections[n],i=["connections",n];for(var c in t=o.type.compose(t,(0,a.insertOp)(i,{})),r){var s=["connections",n,c];t=o.type.compose(t,(0,a.insertOp)(s,r[c]))}}),Object.keys(e.comments).forEach(function(n){var r=e.comments[n],i=["comments",r.id];t=o.type.compose(t,(0,a.insertOp)(i,r))})}catch(t){this.error("Generating Create Op",e,t)}return t},e.prototype.generate_delete_op=function(e,t){var n=this;try{var r=t||this.get_current_ws_json(),a=[];return e.forEach(function(e){r.comments[e]?n.delete_comment(e,a):n.delete_block(r,e,a)}),a.reduce(o.type.compose,null)}catch(e){return this.error("Generating Delete Op",e),null}},e.prototype.delete_comment=function(e,t){t.push((0,a.removeOp)(["comments",e]))},e.prototype.delete_block=function(e,t,n){var r=["connections",t];n.push((0,a.removeOp)(r));var o=["blocks",t];n.push((0,a.removeOp)(o));var i=e.blocks[t];if(!i)throw Error("Cannot find block "+t+" in json.");i.comment&&this.delete_comment(i.comment,n)},e.prototype.generate_move_event_op=function(e,t){try{var n,r=e[t],a=r.get_block_id(),c=r.get_old_loc(),s=r.get_new_loc();if(this.get_current_ws_json().comments[a])return this.generate_move_op("comments",a,c.coordinate,s.coordinate);var l=[];if(c.parent_id){var u=!0;if(c.input_name){for(var d=t+1;d<e.length;d++)if((n=e[d]).type===i.BlockEventType.MOVE&&n.get_new_loc().parent_id===c.parent_id&&n.get_new_loc().input_name===c.input_name||n.type===i.BlockEventType.CHANGE&&"mutation"===n.element&&n.get_block_id()===c.parent_id){u=!1;break}}l.push(this.generate_disconnect_op(a,c.parent_id,u?c.input_name:void 0))}if(s.coordinate&&l.push(this.generate_move_op("blocks",a,c.coordinate,s.coordinate)),s.parent_id){if(u=!0,s.input_name){for(d=t-1;d>=0;d--)if((n=e[d]).type===i.BlockEventType.MOVE){var f=n.get_old_loc();if(f.parent_id===s.parent_id&&f.input_name===s.input_name){u=!1;break}}}l.push(this.generate_connect_op(a,s.parent_id,s.input_name,void 0,u))}return l.reduce(o.type.compose,null)}catch(n){return this.error("Generating Move Event Op",e[t],n),null}},e.prototype.generate_move_op=function(e,t,n,r){try{if(!r)throw Error("Invalid move data on element "+t);var o=!0;n&&"boolean"!=typeof n&&(o=[n[0],n[1]]);var i=[r[0],r[1]];return(0,a.replaceOp)([e,t,"location"],o,i)}catch(e){return this.error("Generating Move Op",e),null}},e.prototype.generate_disconnect_op=function(e,t,n,r){try{var i=[];i.push((0,a.replaceOp)(["blocks",e,"parent_id"],t,null));var c=(r||this.get_current_ws_json()).connections[t],s=c[e];if(!s)throw Error("Cannot find old connection between block "+t+" and "+e);return Object.keys(c).forEach(function(e){var n=c[e];("next"===n.type&&"next"===s.type||"input"===n.type&&"input"===s.type&&s.input_name===n.input_name)&&i.push((0,a.removeOp)(["connections",t,e]))}),n&&i.push.apply(i,this.respawn_shadow(t,n,r)),i.reduce(o.type.compose,null)}catch(e){return this.error("Generating Disconnect Op",e),null}},e.prototype.generate_connect_op=function(e,t,n,r,i){void 0===i&&(i=!0);try{var c=[];if(c.push((0,a.replaceOp)(["blocks",e,"parent_id"],!0,t)),!n){var s=["connections",t,e],l={type:"next"};return c.push((0,a.insertOp)(s,l)),c.reduce(o.type.compose,null)}var u=(r||this.get_current_ws_json()).blocks[t];if(u){var d=u.shadows[n]?"value":"statement";s=["connections",t,e],l={type:"input",input_type:d,input_name:n},c.push((0,a.insertOp)(s,l)),i&&"value"===d&&c.push.apply(c,this.delete_shadow(t,n,r))}else{var s=["connections",t,e],l={type:"input",input_type:"statement",input_name:n};c.push((0,a.insertOp)(s,l))}return c.reduce(o.type.compose,null)}catch(e){return this.error("Generating Connect Op",e),null}},e.prototype.generate_change_event_op=function(e,t){if(e.type!==i.BlockEventType.CHANGE)return null;var n=e.element;try{switch(n){case"comment":var r=e.get_new_comment();if(r)return this.generate_create_block_comment_op(e.get_block_id(),r);var a=e.get_old_value().getAttribute("id")||"";return this.generate_delete_block_comment_op(e.get_block_id(),a);case"mutation":case"change_procedure_param":var o=e.get_new_json();if(!o)throw Error("Invalid mutate event. ");return this.generate_mutate_op(e.get_block_id(),o,t);case"field":case"procedure_rename":var c=e.get_name(),s=e.get_new_value();if("string"!=typeof c||"string"!=typeof s)throw Error("invalid edit field event.");return this.generate_edit_field_op(e.get_block_id(),c,s,t);case"comment_text":var u=e.get_old_value(),d=e.get_new_value();if("string"!=typeof u||"string"!=typeof d)throw Error("Invalid edit comment event");return this.generate_edit_comment_op(e.get_block_id(),u,d);case"collapsed":var f=e.get_new_value();if("boolean"!=typeof f)throw Error("Invalid collapse block event");return this.generate_collapse_block_op(e.get_block_id(),f);case"comment_expand":var p=e.get_new_value();if("boolean"!=typeof p)throw Error("Invalid expand comment event");return this.generate_comment_expand_op(e.get_block_id(),p);case"comment_color":var h=e.get_old_value(),v=e.get_new_value();if("string"!=typeof h||"string"!=typeof v)throw Error("Invalid change comment color event");return this.generate_change_comment_color_op(e.get_block_id(),h,v);case"comment_resize":var m=e.get_old_value(),_=e.get_new_value();if("string"!=typeof m||"string"!=typeof _)throw Error("Invalid resize comment event");return this.generate_comment_resize_op(e.get_block_id(),m,_);case"disabled":var g=e.get_new_value();if("boolean"!=typeof g)throw Error("invalid disabled event");return this.generate_disabled_op(e.get_block_id(),g);case"field_default_value":var y=e.get_name(),b=e.get_new_value();if("string"!=typeof y||"boolean"!=typeof b)throw Error("invalid field default value event. ");return this.generate_field_extra_attr_op(e.get_block_id(),y,"has_been_edited",b);case"visibility":var E=e.get_new_value(),k=e.get_old_value();if("string"!=typeof k||"string"!=typeof E)throw Error("invalid visibility event. ");var C=(0,l.parse_visibility)(E),w=(0,l.parse_visibility)(k);if(!C||!w)throw Error("invalid visibility event. ");return this.generate_visibility_op(e.get_block_id(),w,C);default:throw Error("unimplemented event type "+n)}}catch(e){return this.error("Generating Change Op",e),null}},e.prototype.generate_create_block_comment_op=function(e,t){var n=t.id,r=[],i=["comments",n];return r.push((0,a.insertOp)(i,t)),r.push((0,a.replaceOp)(["blocks",e,"comment"],null,n)),r.reduce(o.type.compose,null)},e.prototype.generate_delete_block_comment_op=function(e,t){var n=[];n.push((0,a.replaceOp)(["blocks",e,"comment"],t,null));var r=["comments",t];return n.push((0,a.removeOp)(r)),n.reduce(o.type.compose,null)},e.prototype.generate_mutate_op=function(e,t,n){var r=n||this.get_current_ws_json(),i=this.Blink.json.get_block_data_by_id(r,e),c=[],s={};if(i){var l=i.blocks[e].parent_id;if(l){var u=(0,a.removeOp)(["connections",l,e]);c.push(u),s[l]=s[l]||{},s[l][e]=r.connections[l][e]}Object.keys(i.blocks).forEach(function(e){var t=["connections",e];c.push((0,a.removeOp)(t));var n=["blocks",e];c.push((0,a.removeOp)(n))}),Object.keys(i.comments).forEach(function(e){c.push((0,a.removeOp)(["comments",e]))})}return Object.keys(t.blocks).forEach(function(e){var n=t.blocks[e],r=["blocks",n.id];c.push((0,a.insertOp)(r,n))}),Object.keys(t.connections).forEach(function(e){var n=t.connections[e],r=["connections",e];for(var o in c.push((0,a.insertOp)(r,{})),n){var i=["connections",e,o];c.push((0,a.insertOp)(i,n[o]))}}),Object.keys(t.comments).forEach(function(e){var n=t.comments[e],r=["comments",n.id];c.push((0,a.insertOp)(r,n))}),Object.keys(s).forEach(function(e){Object.keys(s[e]).forEach(function(t){c.push((0,a.insertOp)(["connections",e,t],s[e][t]))})}),c.reduce(o.type.compose,null)},e.prototype.generate_edit_field_op=function(e,t,n,r){var i,c=null==(i=this.Blink.mainWorkspace.get_block_by_id(e))?void 0:i.get_field(t);if(!c)return null;var l=t;"NUM"===t&&c.allow_text&&!(0,s.is_valid_number)(n)&&(l="TEXT");var u=(r||this.get_current_ws_json()).blocks[e].fields,d=["blocks",e,"fields",l];if(void 0!==u[l])return(0,a.replaceOp)(d,!0,n);var f={TEXT:"NUM",NUM:"TEXT"}[l];if(f&&void 0!==u[f]){var p=["blocks",e,"fields",f];return[(0,a.removeOp)(p),(0,a.insertOp)(d,n)].reduce(o.type.compose,null)}return(0,a.insertOp)(d,n)},e.prototype.generate_comment_expand_op=function(e,t){return(0,a.replaceOp)(["comments",e,"pinned"],!t,t)},e.prototype.generate_change_comment_color_op=function(e,t,n){return(0,a.replaceOp)(["comments",e,"color_theme"],t,n)},e.prototype.generate_comment_resize_op=function(e,t,n){return(0,a.replaceOp)(["comments",e,"size"],t,n)},e.prototype.generate_collapse_block_op=function(e,t){return(0,a.replaceOp)(["blocks",e,"collapsed"],!t,t)},e.prototype.generate_edit_comment_op=function(e,t,n){return(0,a.replaceOp)(["comments",e,"text"],t,n)},e.prototype.generate_disabled_op=function(e,t){return(0,a.replaceOp)(["blocks",e,"disabled"],!t,t)},e.prototype.generate_field_extra_attr_op=function(e,t,n,r){return(0,a.replaceOp)(["blocks",e,"field_extra_attr",t,n],null,r)},e.prototype.generate_visibility_op=function(e,t,n){return(0,a.replaceOp)(["blocks",e,"visible"],t,n)},e.prototype.respawn_shadow=function(e,t,n){var r=[],o=(n||this.get_current_ws_json()).blocks[e];if(!o)throw Error("Cannot find block "+e+" in json.");var i=o.shadows[t];if(!i)return[];var c=this.Blink.utils.string_to_dom(i),s=c.getAttribute("id")||"",l=this.Blink.json.block_dom_to_json(c).blocks[s];l.parent_id=e;var u=["blocks",s];r.push((0,a.insertOp)(u,l));var d=["connections",s];r.push((0,a.insertOp)(d,{}));var f=["connections",e,s];return r.push((0,a.insertOp)(f,{type:"input",input_type:"value",input_name:t})),r},e.prototype.delete_shadow=function(e,t,n){var r=[],o=n||this.get_current_ws_json(),i=this.Blink.json.get_block_data_by_id(o,e);if(!i)return[];for(var c=i.connections[e],s=Object.keys(c),l=this,u=0;u<s.length;u++){var d=function(n){var u=c[s[n]];if("input"===u.type&&u.input_name===t){var d=s[n],f=o.blocks[d];if(!f)throw Error("Cannot find block "+d+" in json.");if(!f.is_shadow)return{value:[]};var p=["blocks",d];r.push((0,a.removeOp)(p));var h=["connections",d];r.push((0,a.removeOp)(h));var v=["connections",e,d];r.push((0,a.removeOp)(v));var m=void 0,_={};Object.keys(f.fields).forEach(function(e){m=f.fields[e],f.field_extra_attr[e]&&(_=f.field_extra_attr[e])});var g=i.blocks[e].shadows[t],y=l.Blink.utils.string_to_dom(g);y.setAttribute("id",d);var b=y.childNodes[0];void 0!==m&&"field"===b.nodeName&&(b.textContent=m),Object.keys(_).forEach(function(e){var t=_[e];b.setAttribute(e,JSON.stringify(t))});var E=l.Blink.xml.dom_to_text(y);return E!==g&&r.push((0,a.replaceOp)(["blocks",e,"shadows",t],g,E)),"break"}}(u);if("object"==typeof d)return d.value;if("break"===d)break}return r},(0,r.__decorate)([(0,c.lazy_inject)(c.BINDING.Blink)],e.prototype,"Blink",void 0),e}()},17761(e,t,n){"use strict";t.OTAdapter=void 0;var r=n(21464),a=n(45547);t.OTAdapter=function(){function e(e,t){this.transform_to_op=new a.TransformToOp(e,t),this.transform_to_ide=new r.TransformToIde,this.op_generator=this.transform_to_op}return e.prototype.register_plugins=function(e){this.transform_to_op.register_plugins(e),this.transform_to_ide.register_plugins(e)},e.prototype.start=function(){this.transform_to_op.start()},e.prototype.stop=function(){this.transform_to_op.stop()},e.prototype.reset=function(){this.transform_to_op.reset()},e.prototype.decompose_and_transform_op=function(e){this.transform_to_ide.decompose_and_transform_op(e)},e.prototype.transform_drop_operation=function(e){this.transform_drop_operation(e)},e.prototype.transform_pick_operation=function(e){this.transform_pick_operation(e)},e}()},35396(e,t,n){"use strict";n.r(t),n.d(t,{clientOp:()=>m,procedurePlugin:()=>v,serverOp:()=>_,blinkOTAdapter:()=>h});var r=n(17761),a=n(93891),o=n(75083),i=n(59994),c=n(16699);function s(){var e=c.a(),t=i.a.getDoc();if(e){var n=null==t?void 0:t.blockly[e].workspaceJson;if(n)return n}return{blocks:{},connections:{},comments:{}}}function l(e){var t=c.a();t&&e.forEach(function(e){null!=e&&e.unshift("workspaceJson"),null!=e&&e.unshift(t),null!=e&&e.unshift("blockly"),i.a.applyClient(e)})}function u(e,t){if(t){var n=o.insertOp(["blockly",e],t);i.a.applyClient(n)}}var d=n(50862),f=n(29504);function p(e){var t=i.a.getDoc(),n=c.a();if(e&&t)if(3===e.length&&"blockly"===e[0])!f.g(e[2])&&f.e(e[2])&&d.z.addWorkspaceData(e[2].i);else{var r,a=e[1];if(a===n)try{h.decompose_and_transform_op(e)}catch(e){window.confirm("协作异常，请刷新页面？")}var o=null==(r=d.z.getWorkspaceDataByScreenId(a))?void 0:r.getProcedureManager(),s=t.blockly[a];o&&s.workspaceJson&&(v.analyze_op_and_update(e,s.workspaceJson,o),d.z.setWorkspaceDataByScreenId(a,s),d.z.refreshProcedureToolbox())}}var h=new r.OTAdapter(s,l),v=new a.ProcedurePlugin;h.register_plugins([v]);var m={};Object.defineProperty(m,"getCurrentScreenWorkspaceData",{get:function(){return s}}),Object.defineProperty(m,"applyIdeToOp",{get:function(){return l}}),Object.defineProperty(m,"addWorkspace",{get:function(){return u}});var _={};Object.defineProperty(_,"applyServerOp",{get:function(){return p}})},59994(e,t,n){"use strict";n.d(t,{a:()=>U});var r,a,o,i,c=n(7452),s=n.n(c),l=n(99085),u=n(94082),d=n(75083),f=n(33383),p=n(46621),h=n(22224),v=n(5762),m=n(88963),_=n(451),g=n(28413),y=n(92986),b=n(35685),E=n(16699),k=n(29504),C=function(){function e(){l.a(this,e),this._doc=null,this._previousDoc=null}return u.a(e,[{key:"setDoc",value:function(e){this._previousDoc=this._doc,this._doc=e}},{key:"getDoc",value:function(){if(this._doc)return this._doc;console.error("error:the doc is null")}},{key:"getPreviousDoc",value:function(){return this._previousDoc}},{key:"setPreviousDoc",value:function(e){return this._previousDoc=e}},{key:"onGetSnapShort",value:function(e){E.f(h.cloneDeep(e))}},{key:"applyServerOp2IDE",value:function(e){var t=this;k.c(e)?e.forEach(function(e){t.handleServerOp2IDE(e)}):this.handleServerOp2IDE(e)}},{key:"handleServerOp2IDE",value:function(e){var t=this,n=d.type.apply(this._doc,e);if(n&&e)if(this.setDoc(n),"blockly"!==e[0]){var r,a=new Map,o=k.b(e),i=o.picks,c=o.drops;i.forEach(function(e){k.f(e.op)&&a.set(e.op.p,y.a({path:["$"].concat(g.a(e.path)),json:t._previousDoc})[0]),Object.entries(b.E).forEach(function(t){var n=_.a(t,2)[1];n&&n.serverOp&&n.serverOp.pick&&n.serverOp.pick(e)})}),c.forEach(function(e){if(k.d(e.op)){var t=a.get(e.op.d);e.op={i:t}}Object.entries(b.E).forEach(function(t){var n=_.a(t,2)[1];n&&n.serverOp&&n.serverOp.drop&&n.serverOp.drop(e)})})}else null!=(r=b.E.blink)&&r.serverOp.applyServerOp(e)}},{key:"applyOpFromIDE",value:function(e){var t=d.type.apply(this._doc,e);t&&this.setDoc(t)}}]),e}(),w="set_doc",T="join",O=n(27071),x=n(51877),A=n(49736),S=n(34221),P=n(71691),R=n(57698),N=n.n(R),I=n(67240).a.oTSocketHost,D=function(){function e(t,n){l.a(this,e),this.subject=void 0,this.client=void 0,this.subject=N()(I,{path:"/collaborate/",query:{work_id:n,stag:4},upgrade:!1,transports:["websocket"]}),this.client=t,this.onSocketEvent(n)}return u.a(e,[{key:"onSocketEvent",value:function(e){var t=this;this.subject.on("operation_ack",function(e){var n=e.code;console.info("===OPERATION_ACK===="),1e7===n&&window.confirm("服务器响应错误，是否刷新页面？")&&window.location.reload(),t.client.handleOperationAck()}).on("operation_relay",function(e){console.info("===OPERATION_RELAY===",e),t.client.handleApplyServer(e.op[0][0])}).on("join_ack",function(e){console.info("===JOIN_ACK===",e),t.client.handleJoinAck(e)}).on("set_doc_ack",function(e){console.info("===SET_DOC_ACK==="),t.client.handleSetDocAck(e)}).on("get_online_user_list_ack",function(e){console.info("===GET_ONLINE_USER_LIST_ACK===")}).on("svr_user_status_change",function(e){console.info("===SVR_USER_STATUS_CHANGE==="),t.client.handleServerUserStatusChanged(e)}).on("svr_coll_user_change",function(e){t.client.handleUserCountChange(e),console.info("===SVR_COLL_USER_CHANGE===")}).on("svr_coll_user_eliminated",function(e){console.info("===SVR_COLL_USER_ELIMINATED==="),t.client.handleUserEliminated(e.eliminated_code)}).on("user_focus_on_pos_ack",function(){console.info("===USER_FOCUS_ON_POS_ACK===")}).on("user_focus_on_pos_relay",function(e){console.info("===USER_FOCUS_ON_POS_RELAY===",e),t.client.handleCustomEventRelay(e)}).on("svr_save_work",function(){t.client.handleSetCollAutoSave()}).on("svr_edit_permit_change",function(e){t.client.handleUserPermissionChange(e)}).on("set_doc_relay",function(e){t.client.collSetDoc(e)}).on("reconnect",function(){t.client.handleServerReconnect()}).on("disconnect",function(){t.client.handleDisconnect()}).on("connect",function(){t.subject.emit(T,e)})}}]),e}(),F=function(){function e(){l.a(this,e),this.applyClient=function(e,t){e.sendOperation(e.revision,t),e.setState(new L(t))},this.serverAck=function(e){throw Error("There is no pending operation.")},this.transformSelection=function(e){return e}}return u.a(e,[{key:"applyServer",value:function(e,t){return e.setState(this),{op:t}}},{key:"resend",value:function(e){}}]),e}(),L=function(){function e(t){l.a(this,e),this.outstanding=void 0,this.outstanding=t}return u.a(e,[{key:"applyClient",value:function(e,t){e.setState(new M(this.outstanding,t))}},{key:"applyServer",value:function(t,n){var r=[0,0];return r[1]=d.type.transformNoConflict(n,this.outstanding,"left"),r[0]=d.type.transformNoConflict(this.outstanding,n,"right"),t.setState(new e(r[0])),{op:r[1]}}},{key:"serverAck",value:function(e){e.setState(new F)}},{key:"transformSelection",value:function(e){}},{key:"resend",value:function(e){e.sendOperation(e.revision,this.outstanding)}}]),e}(),M=function(){function e(t,n){l.a(this,e),this.outstanding=void 0,this.buffer=void 0,this.outstanding=t,this.buffer=n}return u.a(e,[{key:"applyClient",value:function(t,n){var r=d.type.compose(this.buffer,n);t.setState(new e(this.outstanding,r))}},{key:"applyServer",value:function(t,n){var r=[0,0],a=[0,0];return r[1]=d.type.transformNoConflict(n,this.outstanding,"left"),a[1]=d.type.transformNoConflict(r[1],this.buffer,"left"),r[0]=d.type.transformNoConflict(this.outstanding,n,"right"),a[0]=d.type.transformNoConflict(this.buffer,r[1],"right"),t.setState(new e(r[0],a[0])),{op:a[1]}}},{key:"serverAck",value:function(e){e.setState(new L(this.buffer)),e.sendOperation(e.revision,this.buffer)}},{key:"transformSelection",value:function(e){return e.transform(this.outstanding).transform(this.buffer)}},{key:"resend",value:function(e){e.sendOperation(e.revision,this.outstanding)}}]),e}();(r=i||(i={}))[r.RevertProject=1]="RevertProject",(a=o||(o={}))[a.UserOperation=1]="UserOperation",a[a.ProjectRemove=2]="ProjectRemove";var B=function(){var e,t;function n(e){var t=this;l.a(this,n),this._socket=void 0,this.revision=void 0,this.adapter=void 0,this.isSuccessfulCreateRoom=void 0,this.state=void 0,this.initDocData=void 0,this._canRefreshUrl=!0,this.socketSuc=void 0,this.sendOperation=function(e,n){t._socket.subject.emit("operation",{revision:e,op:[[n]]})},this.applyOperation=function(e){t.adapter.applyServerOp2IDE(e)},this.socketSuc={resolve:function(e){},reject:function(e){},promise:Promise.resolve({status:"suc"})},this.socketSuc.promise=new Promise(function(e,n){t.socketSuc.resolve=e,t.socketSuc.reject=n}),this.revision=0,this._socket=new D(this,e),this.adapter=new C,this.state=new F,this._canRefreshUrl=!0}return u.a(n,[{key:"disconnect",value:function(){this._canRefreshUrl=!1,this._socket.subject.close()}},{key:"waitInitial",value:function(){return this.socketSuc.promise}},{key:"setState",value:function(e){this.state=e}},{key:"emitCustomEvent",value:function(e){console.info("======= USER_FOCUS_ON_POS======="),this._socket.subject.emit("user_focus_on_pos",e)}},{key:"applyClient",value:function(e){console.info("======= apply Client=======",e),e=h.cloneDeep(e),this.state.applyClient(this,e),this.adapter.applyOpFromIDE(e)}},{key:"transformSelection",value:function(e){return this.state.transformSelection(e)}},{key:"handleApplyServer",value:function(e){console.info("================== accept Server op ==================");try{this.revision++;var t=this.state.applyServer(this,e).op;this.applyOperation(t)}catch(e){console.error("applyServer error",e)}}},{key:"handleNotifySnapshot",value:function(e){this.revision=e.revision,this.adapter.onGetSnapShort(e.doc)}},{key:"handleServerReconnect",value:function(){"function"==typeof this.state.resend&&this.state.resend(this)}},{key:"handleDisconnect",value:function(){this._canRefreshUrl&&window.confirm("与后台连接断开，是否刷新页面？")&&window.location.reload()}},{key:"handleOperationAck",value:function(){this.revision++,this.state.serverAck(this)}},{key:"handleJoinAck",value:(e=S.a(s().mark(function e(t){var n,r;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.code,r=t.data,this.initDocData=void 0,0x1312d02!==n){e.next=9;break}return e.next=5,E.b();case 5:this.initDocData=e.sent,this._socket.subject.emit(w,{doc:this.initDocData}),e.next=10;break;case 9:0x1312d01===n?(console.error("sock 启动失败请重试"),this.socketSuc.resolve({status:"fail"})):r&&(this.initDocData=r.doc,this._setAdapterInitData(),this.handleNotifySnapshot(r),this.socketSuc.resolve({status:"suc"}));case 10:case"end":return e.stop()}},e,this)})),function(t){return e.apply(this,arguments)})},{key:"_setAdapterInitData",value:function(){this.initDocData&&this.adapter.setDoc(this.initDocData)}},{key:"handleSetDocAck",value:function(e){0x1312d01===e.code?this._socket.subject.emit(T):(this._setAdapterInitData(),this.socketSuc.resolve({status:"suc"}))}},{key:"_distributeUserColor",value:function(e){var t,n=E.c();Object.keys(n).forEach(function(t){e.some(function(e){return e.id===Number(t)})||delete n[t]});var r=[];e.forEach(function(e){n[e.id]=A.b.find(function(e){return!r.includes(e.toUpperCase())})||A.a,r.push(n[e.id])}),null!=(t=b.E.customEvent)&&t.emit.userColors(n),P.a(O.t(n))}},{key:"handleServerUserStatusChanged",value:function(e){var t;this._distributeUserColor(e),this._updateUserFocusInfoList(e),P.a(O.l(e)),null!=(t=b.E.customEvent)&&t.emit.focusItem("widget")}},{key:"_updateUserFocusInfoList",value:function(e){var t=E.d();P.a(O.v(p.a.List(t.filter(function(t){return e.some(function(e){return e.id===t.userId})}))))}},{key:"handleUserCountChange",value:function(e){var t=[];e.forEach(function(e){t.push({id:e.coll_user_id,nickname:e.nickname,avatar_url:e.avatar_url,is_author:e.is_author,edit_permission:e.edit_permission})}),P.a(O.s(t))}},{key:"handleUserEliminated",value:function(e){var t=P.b();this.disconnect(),P.a(x.zh({onConfirm:function(){P.a(x.Gf())},allowText:v.c(t,"confirm").toString(),onClose:function(){P.a(x.Gf())},title:v.c(t,e===o.ProjectRemove?"OT.currentProjectBeDeleteTitle":"OT.editPermissionLostTitle").toString(),content:v.c(t,e===o.ProjectRemove?"OT.currentProjectBeDeleteDescription":"OT.editPermissionLostDescription").toString(),cancelBtnVisible:!1}))}},{key:"handleCustomEventRelay",value:function(e){var t;null!=(t=b.E.customEvent)&&t.accept(e)}},{key:"handleSetCollAutoSave",value:function(){P.a(x.di(!0))}},{key:"handleUserPermissionChange",value:function(e){var t,n=P.b(),r=e.edit_permission===m.c.ReadOnly?v.c(n,"OT.permissionChangeToReadOnly").toString():v.c(n,"OT.permissionChangeToEdit").toString(),a=null==(t=P.d.getState().common.userInfo)?void 0:t.id,o=e.coll_user_id;a===o&&(P.a(x.mj({visible:!0,message:r,duration:2e3})),P.a(x.Ci(e.edit_permission===m.c.ReadOnly?m.c.ReadOnly:m.c.Edit)));var i=Array.from(P.d.getState().oTState.cooperationUserList),c=i.find(function(e){return e.id===o});c&&(c.edit_permission=e.edit_permission),P.a(O.s(i))}},{key:"forceSetDoc",value:(t=S.a(s().mark(function e(){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.b();case 2:this.initDocData=e.sent,this.adapter.setDoc(this.initDocData),this._socket.subject.emit(w,{doc:this.initDocData,force:1,business_type:i.RevertProject}),this.revision=0;case 6:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"collSetDoc",value:function(e){if(e.business_type===i.RevertProject){var t=P.b();P.a(x.zh({allowText:v.c(t,"confirm").toString(),title:v.c(t,"OT.tips").toString(),content:v.c(t,"OT.revert").toString(),cancelBtnVisible:!1}))}this.initDocData=e.doc,this._setAdapterInitData(),this.handleNotifySnapshot(e)}}]),n}(),j=n(35396),U=new(function(){var e,t,n;function r(){l.a(this,r),this.client=void 0,this.workerId=void 0,this.workerId=""}return u.a(r,[{key:"init",value:(e=S.a(s().mark(function e(t){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.disconnect(),this.workerId=t,this.client=new B(t),e.next=5,this.client.waitInitial();case 5:if("suc"!==e.sent.status){e.next=11;break}b.E.init(),j.blinkOTAdapter.start(),e.next=13;break;case 11:return e.next=13,this.reconnect();case 13:case"end":return e.stop()}},e,this)})),function(t){return e.apply(this,arguments)})},{key:"reconnect",value:(t=S.a(s().mark(function e(){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.lb(500);case 2:return this.disconnect(),e.next=5,this.init(this.workerId);case 5:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"disconnect",value:(n=S.a(s().mark(function e(){var t;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:null!=(t=this.client)&&t.disconnect(),this.client=void 0,j.blinkOTAdapter.stop(),b.E.dispose();case 4:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"applyClient",value:function(e){var t;null!=(t=this.client)&&t.applyClient(e)}},{key:"getDoc",value:function(){var e,t;return null==(e=this.client)||null==(t=e.adapter)?void 0:t.getDoc()}},{key:"getPreviousDoc",value:function(){var e,t;return null==(e=this.client)||null==(t=e.adapter)?void 0:t.getPreviousDoc()}}]),r}());window.oT=U,window.json=d},59097(e,t){"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,a=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,c=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,_=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,y=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function E(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case o:case c:case i:case p:return e;default:switch(e=e&&e.$$typeof){case l:case f:case m:case v:case s:return e;default:return t}}case a:return t}}}function k(e){return E(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=l,t.ContextProvider=s,t.Element=r,t.ForwardRef=f,t.Fragment=o,t.Lazy=m,t.Memo=v,t.Portal=a,t.Profiler=c,t.StrictMode=i,t.Suspense=p,t.isAsyncMode=function(e){return k(e)||E(e)===u},t.isConcurrentMode=k,t.isContextConsumer=function(e){return E(e)===l},t.isContextProvider=function(e){return E(e)===s},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return E(e)===f},t.isFragment=function(e){return E(e)===o},t.isLazy=function(e){return E(e)===m},t.isMemo=function(e){return E(e)===v},t.isPortal=function(e){return E(e)===a},t.isProfiler=function(e){return E(e)===c},t.isStrictMode=function(e){return E(e)===i},t.isSuspense=function(e){return E(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===d||e===c||e===i||e===p||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===l||e.$$typeof===f||e.$$typeof===g||e.$$typeof===y||e.$$typeof===b||e.$$typeof===_)},t.typeOf=E},90550(e,t,n){"use strict";e.exports=n(59097)},5722(e,t,n){"use strict";n.d(t,{a:()=>c,b:()=>l,c:()=>s,d:()=>d,e:()=>u,f:()=>i,g:()=>o,h:()=>a,i:()=>r});var r=40,a=40,o=1800,i=3200,c="#FFFFFFFF",s=300,l=300,u=!1,d=!1},88633(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{a:()=>r})},28413(e,t,n){"use strict";n.d(t,{a:()=>o});var r=n(88633),a=n(95361);function o(e){return function(e){if(Array.isArray(e))return r.a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||a.a(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},22469(e){e.exports="https://creation.codemao.cn/coconut/web/1.22.0-0/static/media/cloud.af9d6145.svg"},88421(e){e.exports="https://creation.codemao.cn/coconut/web/1.22.0-0/static/media/cloudVariable.2e53464f.svg"},15630(e){e.exports="https://creation.codemao.cn/coconut/web/1.22.0-0/static/media/phoneShake.110aec77.svg"},39907(e){e.exports="https://creation.codemao.cn/coconut/web/1.22.0-0/static/media/input.7cad9508.svg"},77508(e){e.exports="https://creation.codemao.cn/coconut/web/1.22.0-0/static/media/internet.8da56d4e.svg"},77833(e){e.exports="https://creation.codemao.cn/coconut/web/1.22.0-0/static/media/sms.eaf81dc0.svg"},91458(e){e.exports="https://creation.codemao.cn/coconut/web/1.22.0-0/static/media/phone.acdd3d45.svg"},66087(e){e.exports="https://creation.codemao.cn/coconut/web/1.22.0-0/static/media/tab.906ad81b.svg"},87384(e){e.exports="https://creation.codemao.cn/coconut/web/1.22.0-0/static/media/pedometer.08b217ab.svg"},73533(e){e.exports="https://creation.codemao.cn/coconut/web/1.22.0-0/static/media/list.08d415cb.svg"},94694(e){e.exports="https://creation.codemao.cn/coconut/web/1.22.0-0/static/media/dict.e1b9d957.svg"},60436(e){e.exports="https://creation.codemao.cn/coconut/web/1.22.0-0/static/media/cloudDict.811724d4.svg"},28979(e){e.exports="https://creation.codemao.cn/coconut/web/1.22.0-0/static/media/cloudTable.db6e918a.svg"},50862(e,t,n){"use strict";n.d(t,{f:()=>eh,q:()=>eV,j:()=>eg,u:()=>Y,c:()=>c,n:()=>eY,y:()=>ez,g:()=>g,r:()=>eJ,k:()=>eb,v:()=>eZ,o:()=>eH,d:()=>em,z:()=>eE,h:()=>s.e,s:()=>eQ,l:()=>eK,w:()=>eX,e:()=>ev,p:()=>eq,i:()=>eA,t:()=>e$,b:()=>s.b,m:()=>eW,x:()=>eG});var r,a,o,i,c,s=n(17438),l=n(28413),u=n(99085),d=n(94082),f=n(38752),p=n(32919),h=n(5762),v=n(36303),m=n(94220),_=n(33383),g=new(function(){function e(){u.a(this,e),this.lastSelectedWidgetCategoryName=void 0,this.basicToolboxConfig=void 0}return d.a(e,[{key:"getToolbox",value:function(){var e;return null==(e=f.Z.mainWorkspace)?void 0:e.get_toolbox()}},{key:"convertBlockTypeToXml",value:function(e){var t=v.a(),n="<xml>";return e.forEach(function(e){e!==s.c?t[e]?n+=t[e]:n+=e:n+='<sep gap="50"></sep>'}),n+="</xml>",f.Z.xml.text_to_dom(n).children}},{key:"getConfig",value:function(){var e=this;if(this.basicToolboxConfig)return this.basicToolboxConfig;var t=Object.keys(s.f).map(function(t){var n=s.f[t];return{name:n.id,text:n.text,icon:{font_id:n.iconId},blocks:Array.isArray(n.blocks)?e.convertBlockTypeToXml(n.blocks):n.blocks}});return this.basicToolboxConfig=[].concat(l.a(t),[{name:"toolbox-widget",text:"%{BKY_COMPONENTS}",children:[],selectable:!1,element:{unselected_classname:"cocoToolboxWidgetTab",selected_classname:"cocoToolboxWidgetTabSelected"},icon:{font_id:"icon-fold"}},{name:"toolbox-invisible-widget",text:"%{BKY_INVISIBLE_COMPONENTS}",children:[],selectable:!1,element:{unselected_classname:"cocoToolboxWidgetTab",selected_classname:"cocoToolboxWidgetTabSelected"},icon:{font_id:"icon-fold"}},{name:"toolbox-global-widget",text:"%{BKY_GLOBAL_COMPONENTS}",children:[],selectable:!1,element:{unselected_classname:"cocoToolboxWidgetTab",selected_classname:"cocoToolboxWidgetTabSelected"},icon:{font_id:"icon-fold"}},{name:"toolbox-any-widget",text:"%{BKY_ANY_COMPONENTS}",children:[],selectable:!1,element:{unselected_classname:"cocoToolboxWidgetTab",selected_classname:"cocoToolboxWidgetTabSelected"},icon:{font_id:"icon-fold"}}]),this.basicToolboxConfig}},{key:"_appendTreeNode",value:function(e,t,n,r,a,o){var i=this.getToolbox();if(i){var c=r.find(function(t){return t.get_name()===e});if(!c){if(n===m.m)return;var l=s.e()[n];if(!l)return void console.error("Type [".concat(n,"] has no toolbox config. "));c=i.new_node({name:e,text:t||l.text||h.c(h.b,"untitled"),icon:{font_id:_.X(l.iconId)?void 0:l.iconId,html:_.X(l.iconId)?'<img draggable="false" style="width: 16px; height: 16px;" src="'.concat(l.iconId,'">'):void 0},blocks:o?"ANY_".concat(n):Array.isArray(l.blocks)?this.convertBlockTypeToXml(l.blocks):l.blocks})}a.add_child_at(c,0)}}},{key:"update",value:function(e){var t=this,n=this.getToolbox();if(n&&e){var r,a,o=n.find_node_by_name("toolbox-widget"),i=n.find_node_by_name("toolbox-invisible-widget");if(!o||!i)throw Error("Trying to update toolbox before init");var c=o.remove_children(),s=i.remove_children();try{(null==(a=e.invisibleWidgetIds)?void 0:a.length)>0?i.html_div.style.display="block":i.html_div.style.display="none"}catch(e){console.error(e)}var l=[];this._appendTreeNode(e.id,e.title,m.D,c,o),e.widgetIds.forEach(function(e){var n=p.dc.get(e);if(n){var r=p.qb(e);(null==r?void 0:r.type)&&[m.x,m.A].includes(r.type)||(t._appendTreeNode(n.id,p.Fb(n.id),n.type,c,o),-1===l.indexOf(n.type)&&l.unshift(n.type))}}),null!=(r=e.invisibleWidgetIds)&&r.forEach(function(e){var n=p.dc.get(e);n&&(t._appendTreeNode(n.id,p.Fb(n.id),n.type,s,i),-1===l.indexOf(n.type)&&l.unshift(n.type))})}}},{key:"updateGlobalWidget",value:function(e){var t=this,n=this.getToolbox();if(n&&e){var r=n.find_node_by_name("toolbox-global-widget");if(!r)throw Error("Trying to update toolbox before init");try{e.length>0?r.html_div.style.display="block":r.html_div.style.display="none"}catch(e){console.error(e)}var a=r.remove_children(),o=[];e.forEach(function(e){var n=p.dc.get(e);n&&(t._appendTreeNode(n.id,p.Fb(n.id),n.type,a,r),-1===o.indexOf(n.type)&&o.unshift(n.type))})}}},{key:"updateAnyWidget",value:function(e){var t=this,n=this.getToolbox();if(n&&e){var r=n.find_node_by_name("toolbox-any-widget");if(!r)throw Error("Trying to update toolbox before init");var a=r.remove_children(),o=[];e.forEach(function(e){t._appendTreeNode("ANY_"+e,e,e,a,r,!0),-1===o.indexOf(e)&&o.unshift(e)})}}},{key:"updateToolBoxWidgetTitle",value:function(e,t){var n,r,a=null==(n=f.Z.mainWorkspace)||null==(r=n.get_toolbox())?void 0:r.find_node_by_name(e);a&&(a.get_element().getElementsByClassName("blocklyTreeLabel")[0].textContent=t)}},{key:"changeSelectWidgetCategoryStyle",value:function(e){if(this.clearLastSelectWidgetCategoryStyle(),this.lastSelectedWidgetCategoryName=e,e){var t,n=e,r=p.qb(e);(null==r?void 0:r.type)&&[m.x,m.A].includes(r.type)&&(n=r.id);var a=null==(t=f.Z.mainWorkspace.get_toolbox())?void 0:t.find_node_by_name(n);a&&a.get_element().classList.add("cocoWidgetSelected")}}},{key:"clearLastSelectWidgetCategoryStyle",value:function(){var e=document.getElementsByClassName("cocoWidgetSelected")[0];e&&e.classList.remove("cocoWidgetSelected")}},{key:"checkIsWidgetCategory",value:function(e){var t,n,r,a=this.getToolbox();if(a){var o=null==(t=a.find_node_by_name("toolbox-widget"))?void 0:t.get_children();if(o&&o.indexOf(e)>-1)return!0;var i=null==(n=a.find_node_by_name("toolbox-invisible-widget"))?void 0:n.get_children();if(i&&i.indexOf(e)>-1)return!0;var c=null==(r=a.find_node_by_name("toolbox-global-widget"))?void 0:r.get_children();return!!(c&&c.indexOf(e)>-1)}}},{key:"getSelectWidgetCategoryName",value:function(){var e,t=null==(e=this.getToolbox())?void 0:e.get_selected();if(t&&this.checkIsWidgetCategory(t))return t.get_name()}},{key:"setSelectedItem",value:function(e){var t;null!=(t=this.getToolbox())&&t.set_selected_item(e)}},{key:"setSelectedItemByWidgetId",value:function(e){var t=this.getToolbox();(null==t?void 0:t.flyout.is_visible())&&null!=t&&t.set_selected_item(null==t?void 0:t.find_node_by_name(e))}}]),e}()),y=n(22469),b=n.n(y),E=n(88421),k=n.n(E),C=n(15630),w=n.n(C),T=n(39907),O=n.n(T),x=n(77508),A=n.n(x),S=n(77833),P=n.n(S),R=n(91458),N=n.n(R),I=n(66087),D=n.n(I),F=n(87384),L=n.n(F),M=n(73533),B=n.n(M),j=n(94694),U=n.n(j),W=n(60436),V=n.n(W),K=n(28979),z=n.n(K),G={BLOCK_CLOUD_ICON:b(),BLOCK_CLOUD_VARIABLE_ICON:k(),BLOCK_PHONE_SHAKE_ICON:w(),BLOCK_INPUT_ICON:O(),BLOCK_INTERNET_ICON:A(),BLOCK_SMS_ICON:P(),BLOCK_PHONE_ICON:N(),BLOCK_TAB_ICON:D(),BLOCK_PEDOMETER_ICON:L(),BLOCK_LIST_ICON:B(),BLOCK_DICT_ICON:U(),BLOCK_CLOUD_DICT_ICON:V(),BLOCK_CLOUD_TABLE_ICON:z()},Y=function(){for(var e in G)f.Z.Msg[e]=G[e]},$=n(7452),H=n.n($),q=n(34221),Z=n(71262),J=n(71691),X=n(75195),Q=n(92136),ee=n(36963),et=n(51877);(r=o||(o={})).PNG="dataurl+png",r.SVG_ASCII="dataurl+ascii",r.SVG_BASE64="dataurl+base64",r.XML="xml";var en="http://www.w3.org/1999/xlink";function er(){return(er=q.a(H().mark(function e(t){var n,r,a,o,i,c=arguments;return H().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.length>1&&void 0!==c[1]?c[1]:2,a=null==(n=f.Z.mainWorkspace.get_block_by_id(t))?void 0:n.svg_group){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,ec(a);case 6:o=e.sent,el(o,((i=a.getBBox()).width+10)*r,(i.height+10)*r,"png",function(e){J.d.dispatch(et.bi(!0,e))});case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ea(){return(ea=q.a(H().mark(function e(t,n){var r,a,o,i,c,s;return H().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=2,a=t.type,e.next=4,ec(n);case 4:return o=e.sent,c=((i=n.getBBox()).width+10)*r,s=(i.height+10)*r,e.abrupt("return",new Promise(function(e){el(o,c,s,"png",function(n){var r=t.type,o=t.widgetType||"";if(o=o.toLowerCase(),"widget_event"===a){var i=t.event;r="".concat(o,"_event_").concat(i)}else if("widget_get"===a){var c=t.property;r="".concat(o,"_get_").concat(c)}else if("widget_set"===a){var s=t.property;r="".concat(o,"_set_").concat(s)}else if("widget_method"===a){var l=t.method;r="".concat(o,"_method_").concat(l)}var u=document.createElement("a");u.href=n,u.download="".concat(r,".png"),u.click(),e(r)})}));case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function eo(){return ei.apply(this,arguments)}function ei(){return(ei=q.a(H().mark(function e(){var t,n,r,a,o,i,c,s;return H().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null==(t=f.Z.mainWorkspace.get_flyout())?void 0:t.get_workspace()){e.next=3;break}return e.abrupt("return");case 3:r=n.get_top_blocks(!1),a=Q.a(r),e.prev=5,a.s();case 7:if((o=a.n()).done){e.next=18;break}if(c=o.value,s=null==(i=n.get_block_by_id(c.id))?void 0:i.svg_group){e.next=12;break}return e.abrupt("return");case 12:return e.next=14,function(e,t){return ea.apply(this,arguments)}(c,s);case 14:return e.next=16,_.lb(200);case 16:e.next=7;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(5),a.e(e.t0);case 23:return e.prev=23,a.f(),e.finish(23);case 26:case"end":return e.stop()}},e,null,[[5,20,23,26]])}))).apply(this,arguments)}function ec(e){return es.apply(this,arguments)}function es(){return(es=q.a(H().mark(function e(t){var n,r,a,o,i,c,s,l,u,d,p;return H().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(n=t.cloneNode(!0)).removeAttribute("width"),n.removeAttribute("height"),n.removeAttribute("transform"),r=n.querySelectorAll("image"),a=H().mark(function e(t){var n;return H().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=r[t].getAttributeNS(en,"href"))||!n.match(/\.svg$/g)){e.next=4;break}return e.next=4,fetch(n).then(function(e){return e.text()}).then(function(e){var n="data:image/svg+xml,"+encodeURIComponent(e);r[t].setAttributeNS(en,"href",n)});case 4:case"end":return e.stop()}},e)}),o=0;case 7:if(!(o<r.length)){e.next=12;break}return e.delegateYield(a(o),"t0",9);case 9:o++,e.next=7;break;case 12:return i=document.createElementNS("http://www.w3.org/2000/svg","style"),c=f.Z.di_container.get(ee.BINDING.css),i.textContent="".concat(c.CONTENT," .blocklyDropdownArrow{ fill: rgba(0, 0, 0, .1); }"),(s=t.getBBox()).x-=5,s.y-=5,s.width+=10,s.height+=10,u=(l=new XMLSerializer).serializeToString(document.querySelector("defs")),d=l.serializeToString(i),p=l.serializeToString(n),u=u.replace(/[\n\r]|\s{2,}/g,""),e.abrupt("return",'<svg xmlns="'.concat("http://www.w3.org/2000/svg",'" xmlns:xlink="').concat(en,'" width="').concat(s.width,'" height="').concat(s.height,'"')+' viewBox="'.concat(s.x," ").concat(s.y," ").concat(s.width," ").concat(s.height,'">\n      ').concat(u,"\n      ").concat(d,"\n      ").concat(p,"\n    </svg>"));case 26:case"end":return e.stop()}},e)}))).apply(this,arguments)}function el(e,t,n,r,a){r=r||"png";var o="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e))),i=document.createElement("canvas"),c=i.getContext("2d");if(c){i.width=t,i.height=n;var s=new Image;s.onload=function(){c.clearRect(0,0,t,n),c.drawImage(s,0,0,t,n),a(i.toDataURL("image/".concat(r)))},s.src=o}}window.location.href.toLowerCase().includes("batchdownloadblockimage=1")&&window.addEventListener("load",function(){var e=document.getElementById("logo");null!=e&&e.addEventListener("click",eo)});var eu=n(28950),ed=n(90759),ef=n(59435),ep=n(41051),eh=X.d,ev=.5*eh,em=2*eh,e_={zoom:{controls:!1,wheel:!1,startScale:eh,maxScale:em,minScale:ev,scaleSpeed:1.2},notch:!1,tooltip:!0,flyout:{fixed_width:X.b,corner_radius:12,blocks:{default_gap:12/eh,head_block_offset:[14/eh,4/eh]},padding:{left:16/eh,top:24/eh}},grid:{spacing:10,step:10},show_scrollbars:{flyout:!1},delete_area_margin:0,sounds:!1,scrollable:{flyout:!0},context_menu:{workspace:[f.I.WorkspaceOptionType.PASTE,f.I.WorkspaceOptionType.CLEAN_UP,f.I.WorkspaceOptionType.DELETE_ALL,f.I.WorkspaceOptionType.COPY_ALL,f.I.WorkspaceOptionType.GLOBAL_COMMENT],block:[f.I.BlockOptionType.COPY_AND_PASTE,f.I.BlockOptionType.COPY,f.I.BlockOptionType.ADD_COMMENT,f.I.BlockOptionType.COLLAPSE,f.I.BlockOptionType.DELETE,function(e){var t;return{text:h.c(J.b(),"Workspace.ContextMenu.blockToImage"),name:"blockToImage",enabled:!0,callback:(t=q.a(H().mark(function t(){return H().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.unselect(),t.next=3,function(e){return er.apply(this,arguments)}(e.id);case 3:case"end":return t.stop()}},t)})),function(){return t.apply(this,arguments)})}},function(e){if(e.type===Z.PROCEDURE_BLOCK_TYPES.CALL_NORETURN||e.type===Z.PROCEDURE_BLOCK_TYPES.CALL_RETURN){var t=function(){var t,n=J.d.getState(),r=n.project.screens.get(n.project.currentScreenIndex);if(r){var a=null==(t=eE.getWorkspaceDataByScreenId(r.id))?void 0:t.getProcedureManager();if(a)return a.get_procedure_by_caller_id(e.id)}}();return{text:h.c(J.b(),"Workspace.ContextMenu.jumpToProcDef"),name:"jumpToProcDef",enabled:!!t&&!t.disabled,callback:function(){if(t){var e=t.def_id,n=f.Z.mainWorkspace.get_block_by_id(e);n&&(f.Z.mainWorkspace.center_on_block(e),n.select(),eE.setDebuggingBlock(n),n.set_glow_stack(!0))}}}}}]}};function eg(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"zh";Object.assign(f.Z.Msg,e),f.Z.utils.set_language(t)}function ey(){var e=eE.getWorkspaceDataByScreenId(eE.getCurrentScreenId());if(!e)throw Error("No workspace selected");return e.getProcedureManager()}function eb(e,t){var n=f.Z.inject(e,eu.a(eu.a(eu.a({},e_),t),{},{custom_svg_defs:ep.a,auto_resize:!0})),r=g.getToolbox();return r&&(r.get_flyout().hide(),r.get_flyout().get_workspace().set_scale(.8),r.get_children().forEach(function(e){return e.set_expanded(!0)})),n.get_parent_svg().setAttribute("enable-animation","true"),Object.values(s.b).forEach(function(e,t){f.Z.mainWorkspace.register_flyout_button(e,function(){var t=document.createElementNS(X.c,"foreignObject");t.style.overflow="visible";var n=document.getElementById(e);if(n){var r=n.clientWidth,a=n.clientHeight;t.setAttribute("width","".concat(r)),t.setAttribute("height","".concat(a)),t.appendChild(n)}return{svg_group:t,update_callback:function(n){var r=t.querySelector("#".concat(e));if(r){var a=r.clientWidth,o=r.clientHeight;a*=1.25,o*=1.25,t.setAttribute("width","".concat(a)),t.setAttribute("height","".concat(o)),n.width=a,n.height=o}}}})}),Object.values(s.a).forEach(function(e){var t={lineLabel:e.id,text:e.label};p.x([t],"category")}),ed.d(),ed.b(ey),n}var eE=new ef.b,ek=n(25507),eC=n(35685),ew=[-12,-16],eT=[-20,-20],eO='<svg width="'.concat(24,'px" height="').concat(24,'px" class="icon" aria-hidden="true">\n  <use xlink:href="#icon-block-drag-delete"></use>\n</svg>'),ex=new(function(){function e(){var t;u.a(this,e),this.iconGroup=void 0,this.iconGroup=(t=f.BU.dom.create_svg_element("g",{class:"blocklyDeleteIcon"}),f.BU.dom.create_svg_element("g",{id:"block_delete_icon_animate_id",class:"blocklyDeleteIconShow"},t).innerHTML=eO,t)}return d.a(e,[{key:"removeDisposeAnimation",value:function(){var e=this.iconGroup.querySelector("#".concat("block_delete_icon_animate_id"));e&&e.classList.remove("blocklyDeleteIconDispose")}},{key:"create",value:function(e){this.removeDisposeAnimation();var t,n=function(e){var t=f.q.fromValues(-12,-12);if(f.BU.base.is_workspace_comment(e))return f.q.add(t,t,e.is_expanded()?eT:ew);if(!f.BU.base.is_block_svg(e))return t;var n=[0,0];if(e.is_starting_block())n[0]=-20,n[1]=-4;else if(e.output_connection){var r=e.output_connection.check_&&e.output_connection.check_.indexOf("Boolean")>-1;n[0]=r?10:4}return f.q.add(t,t,n),t}(e);this.iconGroup.setAttribute("transform","translate(".concat(n[0],", ").concat(n[1],")"));var r=null==(t=e.workspace.get_block_drag_surface())?void 0:t.get_group();r&&r.appendChild(this.iconGroup)}},{key:"remove",value:function(){var e=this.iconGroup.querySelector("#".concat("block_delete_icon_animate_id"));e&&(e.classList.add("blocklyDeleteIconDispose"),f.BU.dom.remove_node(this.iconGroup))}}]),e}());function eA(){f.Z.mainWorkspace.add_event_listener(f.I.BlockEventType.UI,eR),f.Z.mainWorkspace.add_change_listener(eP),f.Z.mainWorkspace.add_event_listener(f.I.BlockEventType.DELETE,function(){eE.eventBus.emit(ef.a.DELETE_BLOCK)}),f.Z.mainWorkspace.add_event_listener(f.I.BlockEventType.START_DRAG,eD),f.Z.mainWorkspace.add_event_listener(f.I.BlockEventType.END_DRAG,eF),f.Z.mainWorkspace.add_event_listener(f.I.BlockEventType.DRAG_AREA_CHANGE,eL);var e=f.Z.widget_div.DIV;document.addEventListener("focusout",function(e){var t,n,r=document.querySelector(".slider-controller"),a=ek.is_parent(r,e.relatedTarget),o=document.querySelector(".angle-controller"),i=ek.is_parent(o,e.relatedTarget),c=document.querySelector(".color-controller"),s=ek.is_parent(c,e.relatedTarget),l="menu-item"===(null==(t=e.relatedTarget)?void 0:t.className),u="blocklyHtmlInput"===(null==(n=e.relatedTarget)?void 0:n.className);a||i||s||u||l||f.Z.widget_div.hide()}),null!=e&&e.addEventListener("contextmenu",function(e){e.preventDefault()})}var eS=[f.I.BlockEventType.CHANGE,f.I.BlockEventType.CREATE,f.I.BlockEventType.DELETE,f.I.BlockEventType.MOVE];function eP(e){-1!==eS.indexOf(e.type)&&eE.eventBus.emit(ef.a.COMMON_BLOCKS,{canRedo:f.Z.mainWorkspace.get_redo_stack().length>0,canUndo:f.Z.mainWorkspace.get_undo_stack().length>0})}function eR(e){var t,n,r,a,o,i,c;switch(eE.stopWarningAnimation(),e.type){case f.I.UIEventType.SCALE:t=Number(e.get_new_value()),eE.eventBus.emit(ef.a.WORKSPACE_SCALE_CHANGE,_.M(t,ev,em));break;case f.I.UIEventType.FLYOUT_SHOW:n=e.get_new_value(),eE.eventBus.emit(ef.a.FLYOUT_CHANGE,!!n);break;case f.I.UIEventType.CATEGORY_WILL_CHANGE:(a=null==(r=e.get_new_value())?void 0:r.get_name())&&ed.e(a);break;case f.I.UIEventType.SELECTED:c=e.get_new_value(),null!=(o=eC.E.customEvent)&&null!=(i=o.emit)&&i.focusItem("block",c);break;case f.I.UIEventType.CATEGORY:eN(e);break;case f.I.UIEventType.V_SCROLLBAR_SET:case f.I.UIEventType.H_SCROLLBAR_SET:case f.I.UIEventType.CLICK:case f.I.UIEventType.CONTEXT_MENU_OPEN:eB()}}var eN=function(e){var t,n=g.getSelectWidgetCategoryName()||g.lastSelectedWidgetCategoryName;n&&(g.changeSelectWidgetCategoryStyle(n),eE.eventBus.emit(ef.a.SELECT_WIDGET_CATEGORY,n));var r=e.get_new_value();if(r){var a,o,c,s=r.get_tree();s!==i&&s&&s!==f.Z.mainWorkspace.get_toolbox()&&(i&&null!=(c=i.get_element())&&c.classList.remove("cocoTreeRelated"),null!=(a=(i=s).get_element())&&null!=(o=a.classList)&&o.add("cocoTreeRelated"))}else i&&(null!=(t=i.get_element())&&t.classList.remove("cocoTreeRelated"),i=void 0)},eI=!1;function eD(e){eB(),eI=e._is_from_flyout,eM(1)}function eF(e){J.d.dispatch(et.ti(!1))}function eL(e){var t=e.area,n=e.is_in,r=e.get_block_id(),a=f.Z.mainWorkspace.get_block_by_id(r);if(!f.BU.base.is_workspace_comment(a)||!a.get_parent_block())switch(t){case f.I.DragArea.INJECTION_DIV:break;case f.I.DragArea.DELETE_AREA:a&&(eI||(eI||J.d.dispatch(et.ti(n)),n?ex.create(a):ex.remove(),eM(n?.7:1)));case f.I.DragArea.WORKSPACE:}}function eM(e){var t;if(!(e>1||e<0)){var n=null==(t=f.Z.mainWorkspace.get_block_drag_surface())?void 0:t.get_group();n&&(1===e?n.removeAttribute("opacity"):n.setAttribute("opacity","".concat(e)))}}function eB(){var e=eE.getDebuggingBlock();e&&e.set_glow_stack(!1)}var ej=n(13244);(a=c||(c={})).PRIMITIVE="PRIMITIVE",a.ARRAY="ARRAY",a.STORAGE="STORAGE",a.DOC_KEYS="DOC_KEYS",a.BROADCAST="BROADCAST",a.SCREEN="SCREEN",a.IMAGE_LIBRARY="IMAGE_LIBRARY",a.ICON_LIBRARY="ICON_LIBRARY",a.SOUND_LIBRARY="SOUND_LIBRARY",a.CLOUD_DATABASE="CLOUD_DATABASE",a.CLOUD_DOC_KEYS="CLOUD_DOC_KEYS",a.DATA_SOURCE="DATA_SOURCE",a.GRID="DATABASE_WIDGET",a.COLUMNS="COLUMNS",a.CLOUD_DB="CLOUD_DB",a.TABLE_DATA_COLUMN="TABLE_DATA_COLUMN",a.OBJECT="OBJECT",a.CLOUD_TABLE_COLUMNS="CLOUD_TABLE_COLUMNS",a.CLOUD_DICT_KEYS="CLOUD_DICT_KEYS";var eU=function(){var e;return eu.a((e={},ej.a(e,c.PRIMITIVE,{blocksList:["variables_get","variables_set","variables_change"],fieldName:"VAR"}),ej.a(e,c.ARRAY,{blocksList:["array_get"],fieldName:"ARRAY"}),ej.a(e,c.OBJECT,{blocksList:["object_get"],fieldName:"OBJECT"}),ej.a(e,c.BROADCAST,{blocksList:["broadcast_input"],fieldName:"BROADCAST"}),ej.a(e,c.DOC_KEYS,{blocksList:["local_document_all_key_field_dropdown","local_document_set_field_item","local_document_remove_field_item","local_document_get_field_item","local_document_check_if_field_key_exists","new_local_document_all_key_field_dropdown","new_local_document_set_field_item","new_local_document_remove_field_item","new_local_document_get_field_item","new_local_document_check_if_field_key_exists"],fieldName:"DOC_KEYS"}),ej.a(e,c.IMAGE_LIBRARY,{blocksList:["image_file_list_dropdown"],fieldName:"IMAGE_FILE_ID"}),ej.a(e,c.ICON_LIBRARY,{blocksList:["icon_file_list_dropdown"],fieldName:"ICON_FILE_ID"}),ej.a(e,c.SOUND_LIBRARY,{blocksList:["audio_sound_file_list_dropdown"],fieldName:"SOUND_FILE_ID"}),ej.a(e,c.CLOUD_DOC_KEYS,{blocksList:["cloud_document_all_key_field_dropdown"],fieldName:"DOC_KEYS"}),ej.a(e,c.SCREEN,{blocksList:["screen_set_background_color","screen_set_background_image","screen_navigate_to","screen_navigate_to_by_value","new_screen_navigate_to","new_screen_navigate_to_by_value","screen_get_size","screen_get_color","screen_get_background_image","screen_check_if_pressed"],fieldName:"SCREEN_ID"}),ej.a(e,c.DATA_SOURCE,{blocksList:["data_source_get"],fieldName:"DATA_SOURCE"}),ej.a(e,c.GRID,{blocksList:["data_source_get"],fieldName:"DATA_SOURCE"}),ej.a(e,c.COLUMNS,{blocksList:["cloudDB_all_column_dropdown"],fieldName:"COLUMNS"}),ej.a(e,c.CLOUD_DB,{blocksList:["cloudDB_insert","cloudDB_delete","cloudDB_update","cloudDB_query_by_column","cloudDB_query_by_count"],fieldName:"WIDGET_ID"}),ej.a(e,c.TABLE_DATA_COLUMN,{blocksList:["table_data_column_field_dropdown"],fieldName:"COLUMN"}),ej.a(e,c.CLOUD_DICT_KEYS,{blocksList:["cloud_dict_all_key_dropdown"],fieldName:"KEYS"}),ej.a(e,c.CLOUD_TABLE_COLUMNS,{blocksList:["cloudTable_all_column_dropdown"],fieldName:"COLUMNS"}),e),p.N())};function eW(e,t,n){var r,a=eU(),o=a[e].blocksList,i=a[e].fieldName;f.Z.mainWorkspace&&(f.Z.mainWorkspace.get_all_blocks().forEach(function(e){if(o.includes(e.type)&&e.inputList.length){var r,a=e.get_field(i);a&&(null==(r=a.get_value())?void 0:r.toString())===t&&a.get_text()!==n&&a.set_text(n)}}),null!=(r=f.Z.mainWorkspace.get_toolbox())&&r.refresh_selection())}function eV(e,t){var n,r=eU(),a=r[e].blocksList,o=r[e].fieldName;f.Z.mainWorkspace&&(f.Z.mainWorkspace.get_all_blocks().forEach(function(e){if(a.includes(e.type)&&e.inputList.length){var n,r=e.get_field(o);r&&(null==(n=r.get_value())?void 0:n.toString())===t&&(null!=r&&r.set_value(p.h),null!=r&&r.set_text(p.g))}}),null!=(n=f.Z.mainWorkspace.get_toolbox())&&n.refresh_selection())}function eK(){var e;f.Z.mainWorkspace&&(f.Z.mainWorkspace.get_all_blocks().forEach(function(e){var t;if(e.inputList.length){var n=e.get_field("BUMP_TYPE");if(n){var r=e.get_field_value("BUMP_TYPE");if((null==r?void 0:r.startsWith("ACTOR_"))||(null==r?void 0:r.startsWith("BRUSH_"))){var a=p.Bb(r);a?n.set_text(a.title):(n.set_value(p.h),n.set_text(p.g))}}var o=e.get_field("TARGET");if(o){var i=e.get_field_value("TARGET");if((null==i?void 0:i.startsWith("ACTOR_"))||(null==i?void 0:i.startsWith("BRUSH_"))){var c=p.Bb(i);c?o.set_text(c.title):(o.set_value(p.h),o.set_text(p.g))}}var s=e.get_field("ACTOR_ACTION_ID")||e.get_shadow_field("ACTOR_ACTION_WRAPPER","ACTOR_ACTION_ID");if(s){var l,u,d,f=e.get_field("ACTOR_STYLE_ID")||e.get_shadow_field("ACTOR_STYLE_WRAPPER","ACTOR_STYLE_ID"),h=e.get_field("WIDGET_ID")||(null==(t=e.parent_block)?void 0:t.get_field("WIDGET_ID")),v=null==h?void 0:h.get_value();if(!v||void 0===(u=p.Bb(v))||(l=s.get_value())===p.h||void 0===(d=u.attributes.actionList.find(function(e){return e.id===l})))return s.set_value(p.h),s.set_text(p.g),null!=f&&f.set_value(p.h),null!=f&&f.set_text(p.g),void(u||(null==h||h.set_value(p.h),null==h||h.set_text(p.g)));if(s.set_value(d.id),s.set_text(d.name),f){var m=f.get_value(),_=d.styleList.findIndex(function(e){return e.id===m}),g=-1===_?void 0:d.styleList[_];f.set_value((null==g?void 0:g.id)||p.h)}}}}),null!=(e=f.Z.mainWorkspace.get_toolbox())&&e.refresh_selection())}function ez(e,t,n){e&&n&&(eW(n,e,t),(n===m.a||n===m.c)&&eK())}function eG(e,t){eW(c.SCREEN,e,t)}function eY(e,t,n){var r=eU()[c.CLOUD_DOC_KEYS].blocksList;f.Z.mainWorkspace.get_all_blocks().forEach(function(a){if(r.includes(a.type)){var o,i=a.parent_block;i&&i.get_field_value("WIDGET_ID")===e&&a.get_field_value("DOC_KEYS")===t&&null!=(o=a.get_field("DOC_KEYS"))&&o.set_value(n)}})}function e$(e){var t=eU(),n=t.LIST_VIEWER_WIDGET.blocksList.concat(t.NEW_LIST_VIEWER_WIDGET.blocksList);f.Z.mainWorkspace&&f.Z.mainWorkspace.get_all_blocks().forEach(function(t){if(n.includes(t.type)&&t.inputList.length){var r,a=t.get_field("WIDGET_ID");if(a&&(null==(r=a.get_value())?void 0:r.toString())===e){var o=t.get_field("SLOT_WIDGET");null!=o&&o.set_value(p.h),null!=o&&o.set_text(p.g);var i=t.get_field("ATTRIBUTE");null!=i&&i.set_value(p.h),null!=i&&i.set_text(p.g)}}})}function eH(e,t){var n=eU()[c.DOC_KEYS].blocksList;f.Z.mainWorkspace.get_all_blocks().forEach(function(r){if(n.includes(r.type)){var a=r.parent_block;if(a&&a.get_field_value("WIDGET_ID")===e){var o,i=r.get_field("DOC_KEYS"),c=Q.a(t);try{for(c.s();!(o=c.n()).done;){var s=o.value;s.id===(null==i?void 0:i.get_value())&&i.set_text(s.key)}}catch(e){c.e(e)}finally{c.f()}}}})}function eq(e,t){var n=eU()[c.TABLE_DATA_COLUMN].blocksList;f.Z.mainWorkspace.get_all_blocks().forEach(function(r){if(n.includes(r.type)){var a=r.parent_block;if(a&&a.get_field_value("WIDGET_ID")===e){var o=r.get_field("COLUMN"),i=t.header;for(var c in i)if(c===(null==o?void 0:o.get_value())){var s=i[c];o.set_text(s.field)}}}})}function eZ(e,t,n){var r=eU()[c.CLOUD_DICT_KEYS].blocksList;f.Z.mainWorkspace.get_all_blocks().forEach(function(a){if(r.includes(a.type)){var o=a.parent_block,i=null==o?void 0:o.get_field_value("WIDGET_ID");if(i&&e===p.Z(i)&&a.get_field_value("KEYS")===t){var c=a.get_field("KEYS");null!=c&&c.set_value(n),null!=c&&c.set_text(n)}}})}function eJ(e){var t=eU()[c.CLOUD_DICT_KEYS].blocksList;f.Z.mainWorkspace.get_all_blocks().forEach(function(n){if(t.includes(n.type)){var r=n.parent_block;if(r&&r.get_field_value("WIDGET_ID")===e){var a=n.get_field("KEYS");null!=a&&a.set_value(p.h),null!=a&&a.set_text(p.g)}}})}function eX(e,t,n){var r=eU()[c.CLOUD_TABLE_COLUMNS].blocksList;f.Z.mainWorkspace.get_all_blocks().forEach(function(a){if(r.includes(a.type)){var o=a.parent_block,i=null==o?void 0:o.get_field_value("WIDGET_ID");if(i&&e===p.db(i)&&a.get_field_value("COLUMNS")===t){var c=a.get_field("COLUMNS");null!=c&&c.set_value(n),null!=c&&c.set_text(n)}}})}function eQ(e){var t=eU()[c.CLOUD_TABLE_COLUMNS].blocksList;f.Z.mainWorkspace.get_all_blocks().forEach(function(n){if(t.includes(n.type)){var r=n.parent_block;if(r&&r.get_field_value("WIDGET_ID")===e){var a=n.get_field("COLUMNS");null!=a&&a.set_value(p.h),null!=a&&a.set_text(p.g)}}})}},51774(e,t,n){"use strict";n.d(t,{a:()=>r,b:()=>o,c:()=>a,d:()=>c,e:()=>i});var r="icon-widget-web-view",a=40,o=40,i=!1,c=!1},47605(e,t,n){"use strict";var r,a;n.d(t,{a:()=>r}),(a=r||(r={})).ADD="CLOUD_TABLE_ADD",a.SETTER="CLOUD_TABLE_SETTER",a.DELETE="CLOUD_TABLE_DELETE",a.QUERY="CLOUD_TABLE_QUERY",a.CLEAR="CLOUD_TABLE_CLEAR"},41586(e){e.exports={dialog:"ConfirmDialog_dialog__yHS01",dialogButtons:"ConfirmDialog_dialogButtons__nS63H",dialogSecondary:"ConfirmDialog_dialogSecondary__50hKJ",denyButton:"ConfirmDialog_denyButton__1yfVU"}},44057(e,t,n){"use strict";var r,a;n.d(t,{a:()=>r}),(a=r||(r={})).SETTER="SETTER",a.DELETE="DELETE",a.QUERY="QUERY",a.CLEAR="CLEAR"},74719(e,t,n){"use strict";var r=n(72239),a=n(41594),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"},i=n(92379),c=function(e,t){return a.createElement(i.a,r.a(r.a({},e),{},{ref:t,icon:o}))};c.displayName="CheckCircleOutlined",t.a=a.forwardRef(c)},15354(e,t,n){"use strict";var r=n(72239),a=n(41594),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"},i=n(92379),c=function(e,t){return a.createElement(i.a,r.a(r.a({},e),{},{ref:t,icon:o}))};c.displayName="InfoCircleOutlined",t.a=a.forwardRef(c)},6881(e,t,n){"use strict";var r=n(72239),a=n(41594),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"}},{tag:"path",attrs:{d:"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"close-circle",theme:"outlined"},i=n(92379),c=function(e,t){return a.createElement(i.a,r.a(r.a({},e),{},{ref:t,icon:o}))};c.displayName="CloseCircleOutlined",t.a=a.forwardRef(c)},38795(e,t,n){"use strict";function r(e,t){"string"==typeof(n=e)&&-1!==n.indexOf(".")&&1===parseFloat(n)&&(e="100%");var n,r,a="string"==typeof(r=e)&&-1!==r.indexOf("%");return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),a&&(e=parseInt(String(e*t),10)/100),1e-6>Math.abs(e-t)?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function a(e){return Math.min(1,Math.max(0,e))}function o(e){return(isNaN(e=parseFloat(e))||e<0||e>1)&&(e=1),e}function i(e){return e<=1?100*Number(e)+"%":e}function c(e){return 1===e.length?"0"+e:String(e)}n.d(t,{a:()=>r,b:()=>o,c:()=>a,d:()=>i,e:()=>c})},11689(e,t,n){"use strict";n.d(t,{a:()=>r});var r={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}},49465(e,t,n){"use strict";function r(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}n.d(t,{a:()=>r})},56116(e,t,n){"use strict";var r=n(26564),a={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},o={lang:r.a({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"}),timePickerLocale:r.a({},a)},i="${label} is not a valid ${type}";t.a={locale:"en",Pagination:{items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},DatePicker:o,TimePicker:a,Calendar:o,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:i,method:i,array:i,object:i,number:i,date:i,boolean:i,integer:i,float:i,regexp:i,email:i,url:i,hex:i},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"}}},66981(e,t,n){"use strict";var r=n(72239),a=n(41594),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"},i=n(92379),c=function(e,t){return a.createElement(i.a,r.a(r.a({},e),{},{ref:t,icon:o}))};c.displayName="ExclamationCircleOutlined",t.a=a.forwardRef(c)},47594(e,t,n){"use strict";n.d(t,{a:()=>rN});var r,a,o,i,c,s,l,u,d,f,p,h,v,m,_,g,y,b=n(41594),E=n.n(b),k=function(e){return+setTimeout(e,16)},C=function(e){return clearTimeout(e)};"undefined"!=typeof window&&"requestAnimationFrame"in window&&(k=function(e){return window.requestAnimationFrame(e)},C=function(e){return window.cancelAnimationFrame(e)});var w=0,T=new Map;function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=w+=1;return!function t(r){if(0===r)T.delete(n),e();else{var a=k(function(){t(r-1)});T.set(n,a)}}(t),n}O.cancel=function(e){var t=T.get(e);return T.delete(t),C(t)};var x=n(75206),A=n.n(x);function S(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}var P=(0,b.forwardRef)(function(e,t){var n=e.didUpdate,r=e.getContainer,a=e.children,o=(0,b.useRef)();(0,b.useImperativeHandle)(t,function(){return{}});var i=(0,b.useRef)(!1);return!i.current&&S()&&(o.current=r(),i.current=!0),(0,b.useEffect)(function(){null!=n&&n(e)}),(0,b.useEffect)(function(){return function(){var e,t;null!=(e=o.current)&&null!=(t=e.parentNode)&&t.removeChild(o.current)}},[]),o.current?A().createPortal(a,o.current):null});function R(e){if("undefined"==typeof document)return 0;if(e||void 0===l){var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var n=document.createElement("div"),r=n.style;r.position="absolute",r.top="0",r.left="0",r.pointerEvents="none",r.visibility="hidden",r.width="200px",r.height="150px",r.overflow="hidden",n.appendChild(t),document.body.appendChild(n);var a=t.offsetWidth;n.style.overflow="scroll";var o=t.offsetWidth;a===o&&(o=n.clientWidth),document.body.removeChild(n),l=a-o}return l}var N=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return{};var n=t.element,r=void 0===n?document.body:n,a={},o=Object.keys(e);return o.forEach(function(e){a[e]=r.style[e]}),o.forEach(function(t){r.style[t]=e[t]}),a},I={},D=function(e){if(document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth||e){var t=RegExp("".concat("ant-scrolling-effect"),"g"),n=document.body.className;if(e){if(!t.test(n))return;return N(I),I={},void(document.body.className=n.replace(t,"").trim())}var r=R();if(r&&(I=N({position:"relative",width:"calc(100% - ".concat(r,"px)")}),!t.test(n))){var a="".concat(n," ").concat("ant-scrolling-effect");document.body.className=a.trim()}}},F=n(2822),L=n(70155),M=n(63509),B=n(7837),j=n(2394),U=n(61117),W=[],V=RegExp("".concat("ant-scrolling-effect"),"g"),K=0,z=new Map,G=function e(t){var n=this;j.a(this,e),this.lockTarget=void 0,this.options=void 0,this.getContainer=function(){var e;return null==(e=n.options)?void 0:e.container},this.reLock=function(e){var t=W.find(function(e){return e.target===n.lockTarget});t&&n.unLock(),n.options=e,t&&(t.options=e,n.lock())},this.lock=function(){var e;if(!W.some(function(e){return e.target===n.lockTarget}))if(W.some(function(e){var t,r=e.options;return(null==r?void 0:r.container)===(null==(t=n.options)?void 0:t.container)}))W=[].concat(U.a(W),[{target:n.lockTarget,options:n.options}]);else{var t=0,r=(null==(e=n.options)?void 0:e.container)||document.body;(r===document.body&&window.innerWidth-document.documentElement.clientWidth>0||r.scrollHeight>r.clientHeight)&&(t=R());var a=r.className;0===W.filter(function(e){var t,r=e.options;return(null==r?void 0:r.container)===(null==(t=n.options)?void 0:t.container)}).length&&z.set(r,N({width:0!==t?"calc(100% - ".concat(t,"px)"):void 0,overflow:"hidden",overflowX:"hidden",overflowY:"hidden"},{element:r})),V.test(a)||(r.className="".concat(a," ").concat("ant-scrolling-effect").trim()),W=[].concat(U.a(W),[{target:n.lockTarget,options:n.options}])}},this.unLock=function(){var e,t=W.find(function(e){return e.target===n.lockTarget});if(W=W.filter(function(e){return e.target!==n.lockTarget}),t&&!W.some(function(e){var n,r=e.options;return(null==r?void 0:r.container)===(null==(n=t.options)?void 0:n.container)})){var r=(null==(e=n.options)?void 0:e.container)||document.body,a=r.className;V.test(a)&&(N(z.get(r),{element:r}),z.delete(r),r.className=r.className.replace(V,"").trim())}},this.lockTarget=K++,this.options=t},Y=0,$=S(),H={},q=function(e){if(!$)return null;if(e){if("string"==typeof e)return document.querySelectorAll(e)[0];if("function"==typeof e)return e();if("object"===F.a(e)&&e instanceof window.HTMLElement)return e}return document.body},Z=function(e){M.a(n,e);var t=L.a(n);function n(e){var r;return j.a(this,n),(r=t.call(this,e)).container=void 0,r.componentRef=(0,b.createRef)(),r.rafId=void 0,r.scrollLocker=void 0,r.renderComponent=void 0,r.updateScrollLocker=function(e){var t=(e||{}).visible,n=r.props,a=n.getContainer,o=n.visible;o&&o!==t&&$&&q(a)!==r.scrollLocker.getContainer()&&r.scrollLocker.reLock({container:q(a)})},r.updateOpenCount=function(e){var t=e||{},n=t.visible,a=t.getContainer,o=r.props,i=o.visible,c=o.getContainer;i!==n&&$&&q(c)===document.body&&(i&&!n?Y+=1:e&&(Y-=1)),("function"==typeof c&&"function"==typeof a?c.toString()!==a.toString():c!==a)&&r.removeCurrentContainer()},r.attachToParent=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e||r.container&&!r.container.parentNode){var t=q(r.props.getContainer);return!!t&&(t.appendChild(r.container),!0)}return!0},r.getContainer=function(){return $?(r.container||(r.container=document.createElement("div"),r.attachToParent(!0)),r.setWrapperClassName(),r.container):null},r.setWrapperClassName=function(){var e=r.props.wrapperClassName;r.container&&e&&e!==r.container.className&&(r.container.className=e)},r.removeCurrentContainer=function(){var e,t;null!=(e=r.container)&&null!=(t=e.parentNode)&&t.removeChild(r.container)},r.switchScrollingEffect=function(){1!==Y||Object.keys(H).length?Y||(N(H),H={},D(!0)):(D(),H=N({overflow:"hidden",overflowX:"hidden",overflowY:"hidden"}))},r.scrollLocker=new G({container:q(e.getContainer)}),r}return B.a(n,[{key:"componentDidMount",value:function(){var e=this;this.updateOpenCount(),this.attachToParent()||(this.rafId=O(function(){e.forceUpdate()}))}},{key:"componentDidUpdate",value:function(e){this.updateOpenCount(e),this.updateScrollLocker(e),this.setWrapperClassName(),this.attachToParent()}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.visible,n=e.getContainer;$&&q(n)===document.body&&(Y=t&&Y?Y-1:Y),this.removeCurrentContainer(),O.cancel(this.rafId)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.forceRender,r=e.visible,a=null,o={getOpenCount:function(){return Y},getContainer:this.getContainer,switchScrollingEffect:this.switchScrollingEffect,scrollLocker:this.scrollLocker};return(n||r||this.componentRef.current)&&(a=(0,b.createElement)(P,{getContainer:this.getContainer,ref:this.componentRef},t(o))),a}}]),n}(b.Component),J=n(46942),X=n.n(J),Q={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=Q.F1&&t<=Q.F12)return!1;switch(t){case Q.ALT:case Q.CAPS_LOCK:case Q.CONTEXT_MENU:case Q.CTRL:case Q.DOWN:case Q.END:case Q.ESC:case Q.HOME:case Q.INSERT:case Q.LEFT:case Q.MAC_FF_META:case Q.META:case Q.NUMLOCK:case Q.NUM_CENTER:case Q.PAGE_DOWN:case Q.PAGE_UP:case Q.PAUSE:case Q.PRINT_SCREEN:case Q.RIGHT:case Q.SHIFT:case Q.UP:case Q.WIN_KEY:case Q.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=Q.ZERO&&e<=Q.NINE||e>=Q.NUM_ZERO&&e<=Q.NUM_MULTIPLY||e>=Q.A&&e<=Q.Z||-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case Q.SPACE:case Q.QUESTION_MARK:case Q.NUM_PLUS:case Q.NUM_MINUS:case Q.NUM_PERIOD:case Q.NUM_DIVISION:case Q.SEMICOLON:case Q.DASH:case Q.EQUALS:case Q.COMMA:case Q.PERIOD:case Q.SLASH:case Q.APOSTROPHE:case Q.SINGLE_QUOTE:case Q.OPEN_SQUARE_BRACKET:case Q.BACKSLASH:case Q.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},ee="".concat("accept acceptCharset accessKey action allowFullScreen allowTransparency\n    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge\n    charSet checked classID className colSpan cols content contentEditable contextMenu\n    controls coords crossOrigin data dateTime default defer dir disabled download draggable\n    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder\n    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity\n    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media\n    mediaGroup method min minLength multiple muted name noValidate nonce open\n    optimum pattern placeholder poster preload radioGroup readOnly rel required\n    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected\n    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style\n    summary tabIndex target title type useMap value width wmode wrap"," ").concat("onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown\n    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick\n    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown\n    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel\n    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough\n    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata\n    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError").split(/[\s\n]+/);function et(e,t){return 0===e.indexOf(t)}var en=n(72239),er=n(72541),ea=n(36454),eo=n(90550);function ei(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var ec=(r=S(),a="undefined"!=typeof window?window:{},o={animationend:ei("Animation","AnimationEnd"),transitionend:ei("Transition","TransitionEnd")},r&&("AnimationEvent"in a||delete o.animationend.animation,"TransitionEvent"in a||delete o.transitionend.transition),o),es={};S()&&(es=document.createElement("div").style);var el={};function eu(e){if(el[e])return el[e];var t=ec[e];if(t)for(var n=Object.keys(t),r=n.length,a=0;a<r;a+=1){var o=n[a];if(Object.prototype.hasOwnProperty.call(t,o)&&o in es)return el[e]=t[o],el[e]}return""}var ed=eu("animationend"),ef=eu("transitionend"),ep=!(!ed||!ef),eh=ed||"animationend",ev=ef||"transitionend";function em(e,t){return e?"object"===F.a(e)?e[t.replace(/-\w/g,function(e){return e[1].toUpperCase()})]:"".concat(e,"-").concat(t):null}function e_(e){var t=(0,b.useRef)(!1),n=(0,b.useState)(e),r=er.a(n,2),a=r[0],o=r[1];return(0,b.useEffect)(function(){return function(){t.current=!0}},[]),[a,function(e){t.current||o(e)}]}var eg=S()?b.useLayoutEffect:b.useEffect,ey=["prepare","start","active","end"];function eb(e){return"active"===e||"end"===e}var eE=function(e,t){var n=(0,b.useState)("none"),r=er.a(n,2),a=r[0],o=r[1],i=function(){var e=(0,b.useRef)(null);function t(){O.cancel(e.current)}return(0,b.useEffect)(function(){return function(){t()}},[]),[function n(r){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t();var o=O(function(){a<=1?r({isCanceled:function(){return o!==e.current}}):n(r,a-1)});e.current=o},t]}(),c=er.a(i,2),s=c[0],l=c[1];return eg(function(){if("none"!==a&&"end"!==a){var e=ey.indexOf(a),n=ey[e+1],r=t(a);!1===r?o(n):s(function(e){function t(){e.isCanceled()||o(n)}!0===r?t():Promise.resolve(r).then(t)})}},[e,a]),(0,b.useEffect)(function(){return function(){l()}},[]),[function(){o("prepare")},a]},ek=function(e){M.a(n,e);var t=L.a(n);function n(){return j.a(this,n),t.apply(this,arguments)}return B.a(n,[{key:"render",value:function(){return this.props.children}}]),n}(b.Component),eC=function(e){var t=e;function n(e){return!(!e.motionName||!t)}"object"===F.a(e)&&(t=e.transitionSupport);var r=(0,b.forwardRef)(function(e,t){var r,a,o,i=e.visible,c=void 0===i||i,s=e.removeOnLeave,l=e.forceRender,u=e.children,d=e.motionName,f=e.leavedClassName,p=e.eventProps,h=n(e),v=(0,b.useRef)(),m=(0,b.useRef)(),_=function(e,t,n,r){var a=r.motionEnter,o=void 0===a||a,i=r.motionAppear,c=void 0===i||i,s=r.motionLeave,l=void 0===s||s,u=r.motionDeadline,d=r.motionLeaveImmediately,f=r.onAppearPrepare,p=r.onEnterPrepare,h=r.onLeavePrepare,v=r.onAppearStart,m=r.onEnterStart,_=r.onLeaveStart,g=r.onAppearActive,y=r.onEnterActive,E=r.onLeaveActive,k=r.onAppearEnd,C=r.onEnterEnd,w=r.onLeaveEnd,T=r.onVisibleChanged,O=e_(),x=er.a(O,2),A=x[0],S=x[1],P=e_("none"),R=er.a(P,2),N=R[0],I=R[1],D=e_(null),F=er.a(D,2),L=F[0],M=F[1],B=(0,b.useRef)(!1),j=(0,b.useRef)(null),U=(0,b.useRef)(!1),W=(0,b.useRef)(null);function V(){return n()||W.current}var K=(0,b.useRef)(!1);function z(e){var t,n=V();!(e&&!e.deadline&&e.target!==n)&&("appear"===N&&K.current?t=null==k?void 0:k(n,e):"enter"===N&&K.current?t=null==C?void 0:C(n,e):"leave"===N&&K.current&&(t=null==w?void 0:w(n,e)),!1===t||U.current||(I("none"),M(null)))}var G=function(e){var t=(0,b.useRef)(),n=(0,b.useRef)(e);n.current=e;var r=(0,b.useCallback)(function(e){n.current(e)},[]);function a(e){e&&(e.removeEventListener(ev,r),e.removeEventListener(eh,r))}return(0,b.useEffect)(function(){return function(){a(t.current)}},[]),[function(e){t.current&&t.current!==e&&a(t.current),e&&e!==t.current&&(e.addEventListener(ev,r),e.addEventListener(eh,r),t.current=e)},a]}(z),Y=er.a(G,1)[0],$=(0,b.useMemo)(function(){var e,t,n;switch(N){case"appear":return e={},ea.a(e,"prepare",f),ea.a(e,"start",v),ea.a(e,"active",g),e;case"enter":return t={},ea.a(t,"prepare",p),ea.a(t,"start",m),ea.a(t,"active",y),t;case"leave":return n={},ea.a(n,"prepare",h),ea.a(n,"start",_),ea.a(n,"active",E),n;default:return{}}},[N]),H=eE(N,function(e){if("prepare"===e){var t,n=$.prepare;return!!n&&n(V())}return J in $&&M((null==(t=$[J])?void 0:t.call($,V(),null))||null),"active"===J&&(Y(V()),u>0&&(clearTimeout(j.current),j.current=setTimeout(function(){z({deadline:!0})},u))),!0}),q=er.a(H,2),Z=q[0],J=q[1];K.current=eb(J),eg(function(){S(t);var n,r=B.current;B.current=!0,e&&(!r&&t&&c&&(n="appear"),r&&t&&o&&(n="enter"),(r&&!t&&l||!r&&d&&!t&&l)&&(n="leave"),n&&(I(n),Z()))},[t]),(0,b.useEffect)(function(){("appear"!==N||c)&&("enter"!==N||o)&&("leave"!==N||l)||I("none")},[c,o,l]),(0,b.useEffect)(function(){return function(){clearTimeout(j.current),U.current=!0}},[]),(0,b.useEffect)(function(){void 0!==A&&"none"===N&&null!=T&&T(A)},[A,N]);var X=L;return $.prepare&&"start"===J&&(X=en.a({transition:"none"},X)),[N,J,X,null!=A?A:t]}(h,c,function(){var e;try{return(e=v.current||m.current)instanceof HTMLElement?e:A().findDOMNode(e)}catch(e){return null}},e),g=er.a(_,4),y=g[0],E=g[1],k=g[2],C=g[3],w=(0,b.useRef)(C);C&&(w.current=!0);var T=(0,b.useRef)(t);T.current=t;var O=(0,b.useCallback)(function(e){var t;v.current=e,t=T.current,"function"==typeof t?t(e):"object"===F.a(t)&&t&&"current"in t&&(t.current=e)},[]),x=en.a(en.a({},p),{},{visible:c});return u?"none"!==y&&n(e)?("prepare"===E?o="prepare":eb(E)?o="active":"start"===E&&(o="start"),r=u(en.a(en.a({},x),{},{className:X()(em(d,y),(a={},ea.a(a,em(d,"".concat(y,"-").concat(o)),o),ea.a(a,d,"string"==typeof d),a)),style:k}),O)):r=C?u(en.a({},x),O):!(void 0===s||s)&&w.current?u(en.a(en.a({},x),{},{className:f}),O):l?u(en.a(en.a({},x),{},{style:{display:"none"}}),O):null:r=null,(0,b.createElement)(ek,{ref:m},r)});return r.displayName="CSSMotion",r}(ep),ew=n(26564),eT=n(76043);function eO(e){var t;return t=e&&"object"===F.a(e)&&"key"in e?e:{key:e},en.a(en.a({},t),{},{key:String(t.key)})}function ex(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(eO)}var eA=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function eS(e){var t=e.prefixCls,n=e.style,r=e.visible,a=e.maskProps,o=e.motionName;return(0,b.createElement)(eC,{key:"mask",visible:r,motionName:o,leavedClassName:"".concat(t,"-mask-hidden")},function(e){var r=e.className,o=e.style;return(0,b.createElement)("div",ew.a({style:en.a(en.a({},o),n),className:X()("".concat(t,"-mask"),r)},a))})}function eP(e,t,n){var r=t;return!r&&n&&(r="".concat(e,"-").concat(n)),r}!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:eC;(function(e){M.a(r,e);var n=L.a(r);function r(){var e;return j.a(this,r),(e=n.apply(this,arguments)).state={keyEntities:[]},e.removeKey=function(t){e.setState(function(e){return{keyEntities:e.keyEntities.map(function(e){return e.key!==t?e:en.a(en.a({},e),{},{status:"removed"})})}})},e}return B.a(r,[{key:"render",value:function(){var e=this,n=this.state.keyEntities,r=this.props,a=r.component,o=r.children,i=r.onVisibleChanged,c=eT.a(r,["component","children","onVisibleChanged"]),s=a||b.Fragment,l={};return eA.forEach(function(e){l[e]=c[e],delete c[e]}),delete c.keys,(0,b.createElement)(s,c,n.map(function(n){var r=n.status,a=eT.a(n,["status"]);return(0,b.createElement)(t,ew.a({},l,{key:a.key,visible:"add"===r||"keep"===r,eventProps:a,onVisibleChanged:function(t){null!=i&&i(t,{key:a.key}),t||e.removeKey(a.key)}}),o)}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities;return{keyEntities:(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,a=t.length,o=ex(e),i=ex(t);o.forEach(function(e){for(var t=!1,o=r;o<a;o+=1){var c=i[o];if(c.key===e.key){r<o&&(n=n.concat(i.slice(r,o).map(function(e){return en.a(en.a({},e),{},{status:"add"})})),r=o),n.push(en.a(en.a({},c),{},{status:"keep"})),r+=1,t=!0;break}}t||n.push(en.a(en.a({},e),{},{status:"remove"}))}),r<a&&(n=n.concat(i.slice(r).map(function(e){return en.a(en.a({},e),{},{status:"add"})})));var c={};return n.forEach(function(e){var t=e.key;c[t]=(c[t]||0)+1}),Object.keys(c).filter(function(e){return c[e]>1}).forEach(function(e){(n=n.filter(function(t){var n=t.key,r=t.status;return n!==e||"remove"!==r})).forEach(function(t){t.key===e&&(t.status="keep")})}),n})(r,ex(n)).filter(function(e){var t=r.find(function(t){var n=t.key;return e.key===n});return!t||"removed"!==t.status||"remove"!==e.status})}}}]),r})(b.Component).defaultProps={component:"div"}}(ep);var eR=-1;function eN(e,t){var n=e["page".concat(t?"Y":"X","Offset")],r="scroll".concat(t?"Top":"Left");if("number"!=typeof n){var a=e.document;"number"!=typeof(n=a.documentElement[r])&&(n=a.body[r])}return n}var eI=(0,b.memo)(function(e){return e.children},function(e,t){return!t.shouldUpdate}),eD={width:0,height:0,overflow:"hidden",outline:"none"},eF=(0,b.forwardRef)(function(e,t){var n,r,a,o=e.closable,i=e.prefixCls,c=e.width,s=e.height,l=e.footer,u=e.title,d=e.closeIcon,f=e.style,p=e.className,h=e.visible,v=e.forceRender,m=e.bodyStyle,_=e.bodyProps,g=e.children,y=e.destroyOnClose,E=e.modalRender,k=e.motionName,C=e.ariaId,w=e.onClose,T=e.onVisibleChanged,O=e.onMouseDown,x=e.onMouseUp,A=e.mousePosition,S=(0,b.useRef)(),P=(0,b.useRef)(),R=(0,b.useRef)();(0,b.useImperativeHandle)(t,function(){return{focus:function(){var e;null!=(e=S.current)&&e.focus()},changeActive:function(e){var t=document.activeElement;e&&t===P.current?S.current.focus():e||t!==S.current||P.current.focus()}}});var N=(0,b.useState)(),I=er.a(N,2),D=I[0],F=I[1],L={};function M(){var e,t,n,r,a,o=(n={left:(t=(e=R.current).getBoundingClientRect()).left,top:t.top},a=(r=e.ownerDocument).defaultView||r.parentWindow,n.left+=eN(a),n.top+=eN(a,!0),n);F(A?"".concat(A.x-o.left,"px ").concat(A.y-o.top,"px"):"")}void 0!==c&&(L.width=c),void 0!==s&&(L.height=s),D&&(L.transformOrigin=D),l&&(n=(0,b.createElement)("div",{className:"".concat(i,"-footer")},l)),u&&(r=(0,b.createElement)("div",{className:"".concat(i,"-header")},(0,b.createElement)("div",{className:"".concat(i,"-title"),id:C},u))),o&&(a=(0,b.createElement)("button",{type:"button",onClick:w,"aria-label":"Close",className:"".concat(i,"-close")},d||(0,b.createElement)("span",{className:"".concat(i,"-close-x")})));var B=(0,b.createElement)("div",{className:"".concat(i,"-content")},a,r,(0,b.createElement)("div",ew.a({className:"".concat(i,"-body"),style:m},_),g),n);return(0,b.createElement)(eC,{visible:h,onVisibleChanged:T,onAppearPrepare:M,onEnterPrepare:M,forceRender:v,motionName:k,removeOnLeave:y,ref:R},function(e,t){var n=e.className,r=e.style;return(0,b.createElement)("div",{key:"dialog-element",role:"document",ref:t,style:en.a(en.a(en.a({},r),f),L),className:X()(i,p,n),onMouseDown:O,onMouseUp:x},(0,b.createElement)("div",{tabIndex:0,ref:S,style:eD,"aria-hidden":"true"}),(0,b.createElement)(eI,{shouldUpdate:h||v},E?E(B):B),(0,b.createElement)("div",{tabIndex:0,ref:P,style:eD,"aria-hidden":"true"}))})});function eL(e){var t=e.prefixCls,n=void 0===t?"rc-dialog":t,r=e.zIndex,a=e.visible,o=void 0!==a&&a,i=e.keyboard,c=void 0===i||i,s=e.focusTriggerAfterClose,l=void 0===s||s,u=e.scrollLocker,d=e.title,f=e.wrapStyle,p=e.wrapClassName,h=e.wrapProps,v=e.onClose,m=e.afterClose,_=e.transitionName,g=e.animation,y=e.closable,E=e.mask,k=void 0===E||E,C=e.maskTransitionName,w=e.maskAnimation,T=e.maskClosable,O=e.maskStyle,x=e.maskProps,A=(0,b.useRef)(),S=(0,b.useRef)(),P=(0,b.useRef)(),R=(0,b.useState)(o),N=er.a(R,2),I=N[0],D=N[1],F=(0,b.useRef)();function L(e){null!=v&&v(e)}F.current||(F.current="rcDialogTitle".concat(eR+=1));var M=(0,b.useRef)(!1),B=(0,b.useRef)(),j=null;return(void 0===T||T)&&(j=function(e){M.current?M.current=!1:S.current===e.target&&L(e)}),(0,b.useEffect)(function(){return o&&D(!0),function(){}},[o]),(0,b.useEffect)(function(){return function(){clearTimeout(B.current)}},[]),(0,b.useEffect)(function(){return I?(null==u||u.lock(),null==u?void 0:u.unLock):function(){}},[I,u]),(0,b.createElement)("div",ew.a({className:"".concat(n,"-root")},function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=!1===n?{aria:!0,data:!0,attr:!0}:!0===n?{aria:!0}:en.a({},n);var r={};return Object.keys(e).forEach(function(n){(t.aria&&("role"===n||et(n,"aria-"))||t.data&&et(n,"data-")||t.attr&&ee.includes(n))&&(r[n]=e[n])}),r}(e,{data:!0})),(0,b.createElement)(eS,{prefixCls:n,visible:k&&o,motionName:eP(n,C,w),style:en.a({zIndex:r},O),maskProps:x}),(0,b.createElement)("div",ew.a({tabIndex:-1,onKeyDown:function(e){c&&e.keyCode===Q.ESC?(e.stopPropagation(),L(e)):o&&e.keyCode===Q.TAB&&P.current.changeActive(!e.shiftKey)},className:X()("".concat(n,"-wrap"),p),ref:S,onClick:j,role:"dialog","aria-labelledby":d?F.current:null,style:en.a(en.a({zIndex:r},f),{},{display:I?null:"none"})},h),(0,b.createElement)(eF,ew.a({},e,{onMouseDown:function(){clearTimeout(B.current),M.current=!0},onMouseUp:function(){B.current=setTimeout(function(){M.current=!1})},ref:P,closable:void 0===y||y,ariaId:F.current,prefixCls:n,visible:o,onClose:L,onVisibleChanged:function(e){if(e){var t,n,r;n=S.current,r=document.activeElement,n&&n.contains(r)||(A.current=document.activeElement,null!=(t=P.current)&&t.focus())}else{if(D(!1),k&&A.current&&l){try{A.current.focus({preventScroll:!0})}catch(e){}A.current=null}I&&null!=m&&m()}},motionName:eP(n,_,g)}))))}eF.displayName="Content";var eM=function(e){var t=e.visible,n=e.getContainer,r=e.forceRender,a=e.destroyOnClose,o=void 0!==a&&a,i=e.afterClose,c=(0,b.useState)(t),s=er.a(c,2),l=s[0],u=s[1];return(0,b.useEffect)(function(){t&&u(!0)},[t]),!1===n?(0,b.createElement)(eL,ew.a({},e,{getOpenCount:function(){return 2}})):r||!o||l?(0,b.createElement)(Z,{visible:t,forceRender:r,getContainer:n},function(t){return(0,b.createElement)(eL,ew.a({},e,{destroyOnClose:o,afterClose:function(){null!=i&&i(),u(!1)}},t))}):null};eM.displayName="Dialog";var eB=n(95889),ej=n(56116),eU=ew.a({},ej.a.Modal);function eW(e){eU=e?ew.a(ew.a({},eU),e):ew.a({},ej.a.Modal)}var eV=n(93310),eK=n(78400),ez=n(53223),eG=n(98936),eY=n(49465),e$=n(70236),eH=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)0>t.indexOf(r[a])&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};eY.a()&&window.document.documentElement&&document.documentElement.addEventListener("click",function(e){u={x:e.pageX,y:e.pageY},setTimeout(function(){u=null},100)},!0);var eq=function(e){var t,n=(0,b.useContext)(eG.b),r=n.getPopupContainer,a=n.getPrefixCls,o=n.direction,i=function(t){var n=e.onCancel;null!=n&&n(t)},c=function(t){var n=e.onOk;null!=n&&n(t)},s=e.prefixCls,l=e.footer,d=e.visible,f=e.wrapClassName,p=e.centered,h=e.getContainer,v=e.closeIcon,m=e.focusTriggerAfterClose,_=eH(e,["prefixCls","footer","visible","wrapClassName","centered","getContainer","closeIcon","focusTriggerAfterClose"]),g=a("modal",s),y=a(),E=(0,b.createElement)(ez.a,{componentName:"Modal",defaultLocale:eU},function(t){var n=e.okText,r=e.okType,a=e.cancelText,o=e.confirmLoading;return(0,b.createElement)(b.Fragment,null,(0,b.createElement)(eV.a,ew.a({onClick:i},e.cancelButtonProps),a||t.cancelText),(0,b.createElement)(eV.a,ew.a({},eK.a(r),{loading:o,onClick:c},e.okButtonProps),n||t.okText))}),k=(0,b.createElement)("span",{className:"".concat(g,"-close-x")},v||(0,b.createElement)(eB.a,{className:"".concat(g,"-close-icon")})),C=X()(f,(t={},ea.a(t,"".concat(g,"-centered"),!!p),ea.a(t,"".concat(g,"-wrap-rtl"),"rtl"===o),t));return(0,b.createElement)(eM,ew.a({},_,{getContainer:void 0===h?r:h,prefixCls:g,wrapClassName:C,footer:void 0===l?E:l,visible:d,mousePosition:u,onClose:i,closeIcon:k,focusTriggerAfterClose:void 0===m||m,transitionName:e$.b(y,"zoom",e.transitionName),maskTransitionName:e$.b(y,"fade",e.maskTransitionName)}))};eq.defaultProps={width:520,confirmLoading:!1,visible:!1,okType:"primary"};var eZ=n(15354),eJ=n(74719),eX=n(6881),eQ=n(66981);function e0(e){return!(!e||!e.then)}var e1=function(e){var t=(0,b.useRef)(!1),n=(0,b.useRef)(),r=(0,b.useState)(!1),a=er.a(r,2),o=a[0],i=a[1];(0,b.useEffect)(function(){var t;if(e.autoFocus){var r=n.current;t=setTimeout(function(){return r.focus()})}return function(){t&&clearTimeout(t)}},[]);var c=e.type,s=e.children,l=e.prefixCls,u=e.buttonProps;return(0,b.createElement)(eV.a,ew.a({},eK.a(c),{onClick:function(n){var r,a,o,c=e.actionFn,s=e.close;if(!t.current)if(t.current=!0,c){if(e.emitEvent){if(o=c(n),e.quitOnNullishReturnValue&&!e0(o))return t.current=!1,void s(n)}else if(c.length)o=c(s),t.current=!1;else if(!(o=c()))return void s();r=o,a=e.close,e0(r)&&(i(!0),r.then(function(){i(!1),a.apply(void 0,arguments),t.current=!1},function(e){console.error(e),i(!1),t.current=!1}))}else s()},loading:o,prefixCls:l},u,{ref:n}),s)},e2=n(80084),e6=n(62285),e4={},e3=function(e,t){e||e4[t]||(e4[t]=!0)},e5="RC_FORM_INTERNAL_HOOKS",e8=function(){e3(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},e9=(0,b.createContext)({getFieldValue:e8,getFieldsValue:e8,getFieldError:e8,getFieldWarning:e8,getFieldsError:e8,isFieldsTouched:e8,isFieldTouched:e8,isFieldValidating:e8,isFieldsValidating:e8,resetFields:e8,setFields:e8,setFieldsValue:e8,validateFields:e8,submit:e8,getInternalHooks:function(){return e8(),{dispatch:e8,initEntityValue:e8,registerField:e8,useSubscribe:e8,setInitialValues:e8,setCallbacks:e8,getFields:e8,setValidateMessages:e8,setPreserve:e8,getInitialValue:e8}}});function e7(e){return null==e?[]:Array.isArray(e)?e:[e]}var te=n(42923),tt=n.n(te);function tn(){return(tn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function tr(e){return(tr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ta(e,t){return(ta=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function to(e,t,n){return(to=!function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}()?function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&ta(a,n.prototype),a}:Reflect.construct).apply(null,arguments)}function ti(e){var t="function"==typeof Map?new Map:void 0;return(ti=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return to(e,arguments,tr(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),ta(n,e)})(e)}n(65606);var tc=/%[sdj%]/g;function ts(e){if(!e||!e.length)return null;var t={};return e.forEach(function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)}),t}function tl(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=0,o=n.length;return"function"==typeof e?e.apply(null,n):"string"==typeof e?e.replace(tc,function(e){if("%%"===e)return"%";if(a>=o)return e;switch(e){case"%s":return String(n[a++]);case"%d":return Number(n[a++]);case"%j":try{return JSON.stringify(n[a++])}catch(e){return"[Circular]"}default:return e}}):e}function tu(e,t){return null==e||!("array"!==t||!Array.isArray(e)||e.length)||!("string"!==t&&"url"!==t&&"hex"!==t&&"email"!==t&&"date"!==t&&"pattern"!==t||"string"!=typeof e||e)}function td(e,t,n){var r=0,a=e.length;!function o(i){if(i&&i.length)n(i);else{var c=r;r+=1,c<a?t(e[c],o):n([])}}([])}var tf=function(e){function t(t,n){var r;return(r=e.call(this,"Async Validation Error")||this).errors=t,r.fields=n,r}return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,ta(t,e),t}(ti(Error));function tp(e,t){return function(n){var r;return r=e.fullFields?function(e,t){for(var n=e,r=0;r<t.length&&void 0!=n;r++)n=n[t[r]];return n}(t,e.fullFields):t[n.field||e.fullField],n&&void 0!==n.message?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:"function"==typeof n?n():n,fieldValue:r,field:n.field||e.fullField}}}function th(e,t){if(t){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];"object"==typeof r&&"object"==typeof e[n]?e[n]=tn({},e[n],r):e[n]=r}}return e}var tv=function(e,t,n,r,a,o){!e.required||n.hasOwnProperty(e.field)&&!tu(t,o||e.type)||r.push(tl(a.messages.required,e.fullField))},tm={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,url:RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},t_={integer:function(e){return t_.number(e)&&parseInt(e,10)===e},float:function(e){return t_.number(e)&&!t_.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return new RegExp(e),!0}catch(e){return!1}},date:function(e){return"function"==typeof e.getTime&&"function"==typeof e.getMonth&&"function"==typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"==typeof e},object:function(e){return"object"==typeof e&&!t_.array(e)},method:function(e){return"function"==typeof e},email:function(e){return"string"==typeof e&&e.length<=320&&!!e.match(tm.email)},url:function(e){return"string"==typeof e&&e.length<=2048&&!!e.match(tm.url)},hex:function(e){return"string"==typeof e&&!!e.match(tm.hex)}},tg=function(e,t,n,r,a){(/^\s+$/.test(t)||""===t)&&r.push(tl(a.messages.whitespace,e.fullField))},ty=function(e,t,n,r,a){if(e.required&&void 0===t)tv(e,t,n,r,a);else{var o=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(o)>-1?t_[o](t)||r.push(tl(a.messages.types[o],e.fullField,e.type)):o&&typeof t!==e.type&&r.push(tl(a.messages.types[o],e.fullField,e.type))}},tb=function(e,t,n,r,a){var o="number"==typeof e.len,i="number"==typeof e.min,c="number"==typeof e.max,s=t,l=null,u="number"==typeof t,d="string"==typeof t,f=Array.isArray(t);if(u?l="number":d?l="string":f&&(l="array"),!l)return!1;f&&(s=t.length),d&&(s=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),o?s!==e.len&&r.push(tl(a.messages[l].len,e.fullField,e.len)):i&&!c&&s<e.min?r.push(tl(a.messages[l].min,e.fullField,e.min)):c&&!i&&s>e.max?r.push(tl(a.messages[l].max,e.fullField,e.max)):i&&c&&(s<e.min||s>e.max)&&r.push(tl(a.messages[l].range,e.fullField,e.min,e.max))},tE=function(e,t,n,r,a){e.enum=Array.isArray(e.enum)?e.enum:[],-1===e.enum.indexOf(t)&&r.push(tl(a.messages.enum,e.fullField,e.enum.join(", ")))},tk=function(e,t,n,r,a){e.pattern&&(e.pattern instanceof RegExp?(e.pattern.lastIndex=0,e.pattern.test(t)||r.push(tl(a.messages.pattern.mismatch,e.fullField,t,e.pattern))):"string"!=typeof e.pattern||new RegExp(e.pattern).test(t)||r.push(tl(a.messages.pattern.mismatch,e.fullField,t,e.pattern)))},tC=function(e,t,n,r,a){var o=e.type,i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(tu(t,o)&&!e.required)return n();tv(e,t,r,i,a,o),tu(t,o)||ty(e,t,r,i,a)}n(i)},tw={string:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(tu(t,"string")&&!e.required)return n();tv(e,t,r,o,a,"string"),tu(t,"string")||(ty(e,t,r,o,a),tb(e,t,r,o,a),tk(e,t,r,o,a),!0===e.whitespace&&tg(e,t,r,o,a))}n(o)},method:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(tu(t)&&!e.required)return n();tv(e,t,r,o,a),void 0!==t&&ty(e,t,r,o,a)}n(o)},number:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(""===t&&(t=void 0),tu(t)&&!e.required)return n();tv(e,t,r,o,a),void 0!==t&&(ty(e,t,r,o,a),tb(e,t,r,o,a))}n(o)},boolean:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(tu(t)&&!e.required)return n();tv(e,t,r,o,a),void 0!==t&&ty(e,t,r,o,a)}n(o)},regexp:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(tu(t)&&!e.required)return n();tv(e,t,r,o,a),tu(t)||ty(e,t,r,o,a)}n(o)},integer:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(tu(t)&&!e.required)return n();tv(e,t,r,o,a),void 0!==t&&(ty(e,t,r,o,a),tb(e,t,r,o,a))}n(o)},float:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(tu(t)&&!e.required)return n();tv(e,t,r,o,a),void 0!==t&&(ty(e,t,r,o,a),tb(e,t,r,o,a))}n(o)},array:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(null==t&&!e.required)return n();tv(e,t,r,o,a,"array"),null!=t&&(ty(e,t,r,o,a),tb(e,t,r,o,a))}n(o)},object:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(tu(t)&&!e.required)return n();tv(e,t,r,o,a),void 0!==t&&ty(e,t,r,o,a)}n(o)},enum:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(tu(t)&&!e.required)return n();tv(e,t,r,o,a),void 0!==t&&tE(e,t,r,o,a)}n(o)},pattern:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(tu(t,"string")&&!e.required)return n();tv(e,t,r,o,a),tu(t,"string")||tk(e,t,r,o,a)}n(o)},date:function(e,t,n,r,a){var o,i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(tu(t,"date")&&!e.required)return n();tv(e,t,r,i,a),!tu(t,"date")&&(ty(e,o=t instanceof Date?t:new Date(t),r,i,a),o&&tb(e,o.getTime(),r,i,a))}n(i)},url:tC,hex:tC,email:tC,required:function(e,t,n,r,a){var o=[],i=Array.isArray(t)?"array":typeof t;tv(e,t,r,o,a,i),n(o)},any:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(tu(t)&&!e.required)return n();tv(e,t,r,o,a)}n(o)}};function tT(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var tO=tT(),tx=function(){function e(e){this.rules=null,this._messages=tO,this.define(e)}var t=e.prototype;return t.define=function(e){var t=this;if(!e)throw Error("Cannot configure a schema with no rules");if("object"!=typeof e||Array.isArray(e))throw Error("Rules must be an object");this.rules={},Object.keys(e).forEach(function(n){var r=e[n];t.rules[n]=Array.isArray(r)?r:[r]})},t.messages=function(e){return e&&(this._messages=th(tT(),e)),this._messages},t.validate=function(t,n,r){var a=this;void 0===n&&(n={}),void 0===r&&(r=function(){});var o=t,i=n,c=r;if("function"==typeof i&&(c=i,i={}),!this.rules||0===Object.keys(this.rules).length)return c&&c(null,o),Promise.resolve(o);if(i.messages){var s=this.messages();s===tO&&(s=tT()),th(s,i.messages),i.messages=s}else i.messages=this.messages();var l={};(i.keys||Object.keys(this.rules)).forEach(function(e){var n=a.rules[e],r=o[e];n.forEach(function(n){var i=n;"function"==typeof i.transform&&(o===t&&(o=tn({},o)),r=o[e]=i.transform(r)),(i="function"==typeof i?{validator:i}:tn({},i)).validator=a.getValidationMethod(i),i.validator&&(i.field=e,i.fullField=i.fullField||e,i.type=a.getType(i),l[e]=l[e]||[],l[e].push({rule:i,value:r,source:o,field:e}))})});var u={};return function(e,t,n,r,a){if(t.first){var o=new Promise(function(t,o){var i;td((i=[],Object.keys(e).forEach(function(t){i.push.apply(i,e[t]||[])}),i),n,function(e){return r(e),e.length?o(new tf(e,ts(e))):t(a)})});return o.catch(function(e){return e}),o}var i=!0===t.firstFields?Object.keys(e):t.firstFields||[],c=Object.keys(e),s=c.length,l=0,u=[],d=new Promise(function(t,o){var d=function(e){if(u.push.apply(u,e),++l===s)return r(u),u.length?o(new tf(u,ts(u))):t(a)};c.length||(r(u),t(a)),c.forEach(function(t){var r=e[t];if(-1!==i.indexOf(t))td(r,n,d);else{var a=[],o=0,c=r.length;function s(e){a.push.apply(a,e||[]),++o===c&&d(a)}r.forEach(function(e){n(e,s)})}})});return d.catch(function(e){return e}),d}(l,i,function(t,n){var r,a=t.rule,c=("object"===a.type||"array"===a.type)&&("object"==typeof a.fields||"object"==typeof a.defaultField);function s(e,t){return tn({},t,{fullField:a.fullField+"."+e,fullFields:a.fullFields?[].concat(a.fullFields,[e]):[e]})}function l(r){void 0===r&&(r=[]);var l=Array.isArray(r)?r:[r];!i.suppressWarning&&l.length&&e.warning("async-validator:",l),l.length&&void 0!==a.message&&(l=[].concat(a.message));var d=l.map(tp(a,o));if(i.first&&d.length)return u[a.field]=1,n(d);if(c){if(a.required&&!t.value)return void 0!==a.message?d=[].concat(a.message).map(tp(a,o)):i.error&&(d=[i.error(a,tl(i.messages.required,a.field))]),n(d);var f={};a.defaultField&&Object.keys(t.value).map(function(e){f[e]=a.defaultField});var p={};Object.keys(f=tn({},f,t.rule.fields)).forEach(function(e){var t=f[e],n=Array.isArray(t)?t:[t];p[e]=n.map(s.bind(null,e))});var h=new e(p);h.messages(i.messages),t.rule.options&&(t.rule.options.messages=i.messages,t.rule.options.error=i.error),h.validate(t.value,t.rule.options||i,function(e){var t=[];d&&d.length&&t.push.apply(t,d),e&&e.length&&t.push.apply(t,e),n(t.length?t:null)})}else n(d)}c=c&&(a.required||!a.required&&t.value),a.field=t.field,a.asyncValidator?r=a.asyncValidator(a,t.value,l,t.source,i):a.validator&&(!0===(r=a.validator(a,t.value,l,t.source,i))?l():!1===r?l("function"==typeof a.message?a.message(a.fullField||a.field):a.message||(a.fullField||a.field)+" fails"):r instanceof Array?l(r):r instanceof Error&&l(r.message)),r&&r.then&&r.then(function(){return l()},function(e){return l(e)})},function(e){for(var t=[],n={},r=0;r<e.length;r++)!function(e){var n;Array.isArray(e)?t=(n=t).concat.apply(n,e):t.push(e)}(e[r]);t.length?(n=ts(t),c(t,n)):c(null,o)},o)},t.getType=function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!=typeof e.validator&&e.type&&!tw.hasOwnProperty(e.type))throw Error(tl("Unknown rule type %s",e.type));return e.type||"string"},t.getValidationMethod=function(e){if("function"==typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return -1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?tw.required:tw[this.getType(e)]||void 0},e}();tx.register=function(e,t){if("function"!=typeof t)throw Error("Cannot register a validator by type, validator is not a function");tw[e]=t},tx.warning=function(){},tx.messages=tO,tx.validators=tw;var tA="'${name}' is not a valid ${type}",tS={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:tA,method:tA,array:tA,object:tA,number:tA,date:tA,boolean:tA,integer:tA,float:tA,regexp:tA,email:tA,url:tA,hex:tA},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}};function tP(e,t){for(var n=e,r=0;r<t.length;r+=1){if(null==n)return;n=n[t[r]]}return n}var tR=n(67439),tN=n(7757),tI=n(9516);function tD(e){return e7(e)}function tF(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.length&&r&&void 0===n&&!tP(e,t.slice(0,-1))?e:function e(t,n,r,a){if(!n.length)return r;var o,i=tI.a(n),c=i[0],s=i.slice(1);return o=t||"number"!=typeof c?Array.isArray(t)?U.a(t):en.a({},t):[],a&&void 0===r&&1===s.length?delete o[c][s[0]]:o[c]=e(o[c],s,r,a),o}(e,t,n,r)}(e,t,n,r)}function tL(e,t){var n={};return t.forEach(function(t){var r=tP(e,t);n=tF(n,t,r)}),n}function tM(e,t){return e&&e.some(function(e){return tU(e,t)})}function tB(e){return"object"===F.a(e)&&null!==e&&Object.getPrototypeOf(e)===Object.prototype}function tj(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce(function(e,t){return function e(t,n){var r=Array.isArray(t)?U.a(t):en.a({},t);return n&&Object.keys(n).forEach(function(t){var a=r[t],o=n[t],i=tB(a)&&tB(o);r[t]=i?e(a,o||{}):o}),r}(e,t)},e)}function tU(e,t){return!(!e||!t||e.length!==t.length)&&e.every(function(e,n){return t[n]===e})}function tW(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&e in t.target?t.target[e]:t}function tV(e,t,n){var r=e.length;if(t<0||t>=r||n<0||n>=r)return e;var a=e[t],o=t-n;return o>0?[].concat(U.a(e.slice(0,n)),[a],U.a(e.slice(n,t)),U.a(e.slice(t+1,r))):o<0?[].concat(U.a(e.slice(0,t)),U.a(e.slice(t+1,n+1)),[a],U.a(e.slice(n+1,r))):e}function tK(e,t,n,r,a){return tz.apply(this,arguments)}function tz(){return(tz=tR.a(tt().mark(function e(t,n,r,a,o){var i,c,s,l,u,d,f,p;return tt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return delete(i=en.a({},r)).ruleIndex,c=null,i&&"array"===i.type&&i.defaultField&&(c=i.defaultField,delete i.defaultField),s=new tx(ea.a({},t,[i])),l=tj({},tS,a.validateMessages),s.messages(l),u=[],e.prev=8,e.next=11,Promise.resolve(s.validate(ea.a({},t,n),en.a({},a)));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(8),e.t0.errors?u=e.t0.errors.map(function(e,t){var n=e.message;return(0,b.isValidElement)(n)?(0,b.cloneElement)(n,{key:"error_".concat(t)}):n}):(console.error(e.t0),u=[l.default]);case 16:if(u.length||!c){e.next=21;break}return e.next=19,Promise.all(n.map(function(e,n){return tK("".concat(t,".").concat(n),e,c,a,o)}));case 19:return d=e.sent,e.abrupt("return",d.reduce(function(e,t){return[].concat(U.a(e),U.a(t))},[]));case 21:return f=en.a(en.a({},r),{},{name:t,enum:(r.enum||[]).join(", ")},o),p=u.map(function(e){return"string"==typeof e?function(e,t){return e.replace(/\$\{\w+\}/g,function(e){return t[e.slice(2,-1)]})}(e,f):e}),e.abrupt("return",p);case 24:case"end":return e.stop()}},e,null,[[8,13]])}))).apply(this,arguments)}function tG(){return(tG=tR.a(tt().mark(function e(t){return tt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t).then(function(e){var t;return(t=[]).concat.apply(t,U.a(e))}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function tY(){return(tY=tR.a(tt().mark(function e(t){var n;return tt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.abrupt("return",new Promise(function(e){t.forEach(function(r){r.then(function(r){r.errors.length&&e([r]),(n+=1)===t.length&&e([])})})}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var t$=["name"],tH=[];function tq(e,t,n,r,a,o){return"function"==typeof e?e(t,n,"source"in o?{source:o.source}:{}):r!==a}var tZ=function(e){M.a(n,e);var t=L.a(n);function n(e){var r;return j.a(this,n),(r=t.call(this,e)).state={resetCount:0},r.cancelRegisterFunc=null,r.mounted=!1,r.touched=!1,r.dirty=!1,r.validatePromise=null,r.prevValidating=void 0,r.errors=tH,r.warnings=tH,r.cancelRegister=function(){var e=r.props,t=e.preserve,n=e.isListField,a=e.name;r.cancelRegisterFunc&&r.cancelRegisterFunc(n,t,tD(a)),r.cancelRegisterFunc=null},r.getNamePath=function(){var e=r.props,t=e.name,n=e.fieldContext.prefixName;return void 0!==t?[].concat(U.a(void 0===n?[]:n),U.a(t)):[]},r.getRules=function(){var e=r.props,t=e.rules,n=e.fieldContext;return(void 0===t?[]:t).map(function(e){return"function"==typeof e?e(n):e})},r.refresh=function(){r.mounted&&r.setState(function(e){return{resetCount:e.resetCount+1}})},r.triggerMetaEvent=function(e){var t=r.props.onMetaChange;null!=t&&t(en.a(en.a({},r.getMeta()),{},{destroy:e}))},r.onStoreChange=function(e,t,n){var a=r.props,o=a.shouldUpdate,i=a.dependencies,c=void 0===i?[]:i,s=a.onReset,l=n.store,u=r.getNamePath(),d=r.getValue(e),f=r.getValue(l),p=t&&tM(t,u);switch("valueUpdate"===n.type&&"external"===n.source&&d!==f&&(r.touched=!0,r.dirty=!0,r.validatePromise=null,r.errors=tH,r.warnings=tH,r.triggerMetaEvent()),n.type){case"reset":if(!t||p)return r.touched=!1,r.dirty=!1,r.validatePromise=null,r.errors=tH,r.warnings=tH,r.triggerMetaEvent(),null!=s&&s(),void r.refresh();break;case"setField":if(p){var h=n.data;return"touched"in h&&(r.touched=h.touched),"validating"in h&&!("originRCField"in h)&&(r.validatePromise=h.validating?Promise.resolve([]):null),"errors"in h&&(r.errors=h.errors||tH),"warnings"in h&&(r.warnings=h.warnings||tH),r.dirty=!0,r.triggerMetaEvent(),void r.reRender()}if(o&&!u.length&&tq(o,e,l,d,f,n))return void r.reRender();break;case"dependenciesUpdate":if(c.map(tD).some(function(e){return tM(n.relatedFields,e)}))return void r.reRender();break;default:if(p||(!c.length||u.length||o)&&tq(o,e,l,d,f,n))return void r.reRender()}!0===o&&r.reRender()},r.validateRules=function(e){var t=r.getNamePath(),n=r.getValue(),a=Promise.resolve().then(function(){if(!r.mounted)return[];var o=r.props,i=o.validateFirst,c=o.messageVariables,s=(e||{}).triggerName,l=r.getRules();s&&(l=l.filter(function(e){var t=e.validateTrigger;return!t||e7(t).includes(s)}));var u=function(e,t,n,r,a,o){var i,c,s=e.join("."),l=n.map(function(e,t){var n=e.validator,r=en.a(en.a({},e),{},{ruleIndex:t});return n&&(r.validator=function(e,t,r){var a=!1,o=n(e,t,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];Promise.resolve().then(function(){e3(!a,"Your validator function has already return a promise. `callback` will be ignored."),a||r.apply(void 0,t)})});e3(a=o&&"function"==typeof o.then&&"function"==typeof o.catch,"`callback` is deprecated. Please return a promise instead."),a&&o.then(function(){r()}).catch(function(e){r(e||" ")})}),r}).sort(function(e,t){var n=e.warningOnly,r=e.ruleIndex,a=t.warningOnly,o=t.ruleIndex;return!!n==!!a?r-o:n?1:-1});if(!0===a)c=new Promise((i=tR.a(tt().mark(function e(n,a){var i,c,u;return tt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=0;case 1:if(!(i<l.length)){e.next=12;break}return c=l[i],e.next=5,tK(s,t,c,r,o);case 5:if(!(u=e.sent).length){e.next=9;break}return a([{errors:u,rule:c}]),e.abrupt("return");case 9:i+=1,e.next=1;break;case 12:n([]);case 13:case"end":return e.stop()}},e)})),function(e,t){return i.apply(this,arguments)}));else{var u=l.map(function(e){return tK(s,t,e,r,o).then(function(t){return{errors:t,rule:e}})});c=(a?function(e){return tY.apply(this,arguments)}(u):function(e){return tG.apply(this,arguments)}(u)).then(function(e){return Promise.reject(e)})}return c.catch(function(e){return e}),c}(t,n,l,e,void 0!==i&&i,c);return u.catch(function(e){return e}).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tH;if(r.validatePromise===a){r.validatePromise=null;var t=[],n=[];e.forEach(function(e){var r=e.rule.warningOnly,a=e.errors,o=void 0===a?tH:a;r?n.push.apply(n,U.a(o)):t.push.apply(t,U.a(o))}),r.errors=t,r.warnings=n,r.triggerMetaEvent(),r.reRender()}}),u});return r.validatePromise=a,r.dirty=!0,r.errors=tH,r.warnings=tH,r.triggerMetaEvent(),r.reRender(),a},r.isFieldValidating=function(){return!!r.validatePromise},r.isFieldTouched=function(){return r.touched},r.isFieldDirty=function(){return!(!r.dirty&&void 0===r.props.initialValue)||void 0!==(0,r.props.fieldContext.getInternalHooks(e5).getInitialValue)(r.getNamePath())},r.getErrors=function(){return r.errors},r.getWarnings=function(){return r.warnings},r.isListField=function(){return r.props.isListField},r.isList=function(){return r.props.isList},r.isPreserve=function(){return r.props.preserve},r.getMeta=function(){return r.prevValidating=r.isFieldValidating(),{touched:r.isFieldTouched(),validating:r.prevValidating,errors:r.errors,warnings:r.warnings,name:r.getNamePath()}},r.getOnlyChild=function(e){if("function"==typeof e){var t=r.getMeta();return en.a(en.a({},r.getOnlyChild(e(r.getControlled(),t,r.props.fieldContext))),{},{isFunction:!0})}var n=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[];return E().Children.forEach(t,function(t){(null!=t||n.keepEmpty)&&(Array.isArray(t)?r=r.concat(e(t)):eo.isFragment(t)&&t.props?r=r.concat(e(t.props.children,n)):r.push(t))}),r}(e);return 1===n.length&&(0,b.isValidElement)(n[0])?{child:n[0],isFunction:!1}:{child:n,isFunction:!1}},r.getValue=function(e){var t=r.props.fieldContext.getFieldsValue,n=r.getNamePath();return tP(e||t(!0),n)},r.getControlled=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.props,n=t.trigger,a=t.validateTrigger,o=t.getValueFromEvent,i=t.normalize,c=t.valuePropName,s=t.getValueProps,l=t.fieldContext,u=void 0!==a?a:l.validateTrigger,d=r.getNamePath(),f=l.getInternalHooks,p=l.getFieldsValue,h=f(e5).dispatch,v=r.getValue(),m=s||function(e){return ea.a({},c,e)},_=e[n],g=en.a(en.a({},e),m(v));return g[n]=function(){var e;r.touched=!0,r.dirty=!0,r.triggerMetaEvent();for(var t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];e=o?o.apply(void 0,n):tW.apply(void 0,[c].concat(n)),i&&(e=i(e,v,p(!0))),h({type:"updateValue",namePath:d,value:e}),_&&_.apply(void 0,n)},e7(u||[]).forEach(function(e){var t=g[e];g[e]=function(){t&&t.apply(void 0,arguments);var n=r.props.rules;n&&n.length&&h({type:"validateField",namePath:d,triggerName:e})}}),g},e.fieldContext&&(0,(0,e.fieldContext.getInternalHooks)(e5).initEntityValue)(tN.a(r)),r}return B.a(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldUpdate,n=e.fieldContext;if(this.mounted=!0,n){var r=(0,n.getInternalHooks)(e5).registerField;this.cancelRegisterFunc=r(this)}!0===t&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var e,t=this.state.resetCount,n=this.props.children,r=this.getOnlyChild(n),a=r.child;return r.isFunction?e=a:(0,b.isValidElement)(a)?e=(0,b.cloneElement)(a,this.getControlled(a.props)):(e3(!a,"`children` of Field is not validate ReactElement."),e=a),(0,b.createElement)(b.Fragment,{key:t},e)}}]),n}(b.Component);tZ.contextType=e9,tZ.defaultProps={trigger:"onChange",valuePropName:"value"};var tJ=function(e){var t=e.name,n=eT.a(e,t$),r=(0,b.useContext)(e9),a=void 0!==t?tD(t):void 0,o="keep";return n.isListField||(o="_".concat((a||[]).join("_"))),(0,b.createElement)(tZ,ew.a({key:o,name:a},n,{fieldContext:r}))},tX="__@field_split__";function tQ(e){return e.map(function(e){return"".concat(F.a(e),":").concat(e)}).join(tX)}var t0=function(){function e(){j.a(this,e),this.kvs=new Map}return B.a(e,[{key:"set",value:function(e,t){this.kvs.set(tQ(e),t)}},{key:"get",value:function(e){return this.kvs.get(tQ(e))}},{key:"update",value:function(e,t){var n=t(this.get(e));n?this.set(e,n):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete(tQ(e))}},{key:"map",value:function(e){return U.a(this.kvs.entries()).map(function(t){var n=er.a(t,2),r=n[0],a=n[1];return e({key:r.split(tX).map(function(e){var t=e.match(/^([^:]*):(.*)$/),n=er.a(t,3),r=n[1],a=n[2];return"number"===r?Number(a):a}),value:a})})}},{key:"toJSON",value:function(){var e={};return this.map(function(t){var n=t.key,r=t.value;return e[n.join(".")]=r,null}),e}}]),e}(),t1=["name","errors"],t2=function e(t){var n=this;j.a(this,e),this.formHooked=!1,this.forceRootUpdate=void 0,this.subscribable=!0,this.store={},this.fieldEntities=[],this.initialValues={},this.callbacks={},this.validateMessages=null,this.preserve=null,this.lastValidatePromise=null,this.getForm=function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,getInternalHooks:n.getInternalHooks}},this.getInternalHooks=function(e){return e===e5?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue}):(e3(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)},this.useSubscribe=function(e){n.subscribable=e},this.setInitialValues=function(e,t){n.initialValues=e||{},t&&(n.store=tj({},e,n.store))},this.getInitialValue=function(e){return tP(n.initialValues,e)},this.setCallbacks=function(e){n.callbacks=e},this.setValidateMessages=function(e){n.validateMessages=e},this.setPreserve=function(e){n.preserve=e},this.timeoutId=null,this.warningUnhooked=function(){},this.getFieldEntities=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?n.fieldEntities.filter(function(e){return e.getNamePath().length}):n.fieldEntities},this.getFieldsMap=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new t0;return n.getFieldEntities(e).forEach(function(e){var n=e.getNamePath();t.set(n,e)}),t},this.getFieldEntitiesForNamePathList=function(e){if(!e)return n.getFieldEntities(!0);var t=n.getFieldsMap(!0);return e.map(function(e){var n=tD(e);return t.get(n)||{INVALIDATE_NAME_PATH:tD(e)}})},this.getFieldsValue=function(e,t){if(n.warningUnhooked(),!0===e&&!t)return n.store;var r=n.getFieldEntitiesForNamePathList(Array.isArray(e)?e:null),a=[];return r.forEach(function(n){var r,o="INVALIDATE_NAME_PATH"in n?n.INVALIDATE_NAME_PATH:n.getNamePath();(e||!(null==(r=n.isListField)?void 0:r.call(n)))&&(t?t("getMeta"in n?n.getMeta():null)&&a.push(o):a.push(o))}),tL(n.store,a.map(tD))},this.getFieldValue=function(e){n.warningUnhooked();var t=tD(e);return tP(n.store,t)},this.getFieldsError=function(e){return n.warningUnhooked(),n.getFieldEntitiesForNamePathList(e).map(function(t,n){return!t||"INVALIDATE_NAME_PATH"in t?{name:tD(e[n]),errors:[],warnings:[]}:{name:t.getNamePath(),errors:t.getErrors(),warnings:t.getWarnings()}})},this.getFieldError=function(e){n.warningUnhooked();var t=tD(e);return n.getFieldsError([t])[0].errors},this.getFieldWarning=function(e){n.warningUnhooked();var t=tD(e);return n.getFieldsError([t])[0].warnings},this.isFieldsTouched=function(){n.warningUnhooked();for(var e,t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];var o=r[0],i=r[1],c=!1;0===r.length?e=null:1===r.length?Array.isArray(o)?(e=o.map(tD),c=!1):(e=null,c=o):(e=o.map(tD),c=i);var s=n.getFieldEntities(!0),l=function(e){return e.isFieldTouched()};if(!e)return c?s.every(l):s.some(l);var u=new t0;e.forEach(function(e){u.set(e,[])}),s.forEach(function(t){var n=t.getNamePath();e.forEach(function(e){e.every(function(e,t){return n[t]===e})&&u.update(e,function(e){return[].concat(U.a(e),[t])})})});var d=function(e){return e.some(l)},f=u.map(function(e){return e.value});return c?f.every(d):f.some(d)},this.isFieldTouched=function(e){return n.warningUnhooked(),n.isFieldsTouched([e])},this.isFieldsValidating=function(e){n.warningUnhooked();var t=n.getFieldEntities();if(!e)return t.some(function(e){return e.isFieldValidating()});var r=e.map(tD);return t.some(function(e){return tM(r,e.getNamePath())&&e.isFieldValidating()})},this.isFieldValidating=function(e){return n.warningUnhooked(),n.isFieldsValidating([e])},this.resetWithFieldInitialValue=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=new t0,a=n.getFieldEntities(!0);a.forEach(function(e){var t=e.props.initialValue,n=e.getNamePath();if(void 0!==t){var a=r.get(n)||new Set;a.add({entity:e,value:t}),r.set(n,a)}}),t.entities?e=t.entities:t.namePathList?(e=[],t.namePathList.forEach(function(t){var n,a=r.get(t);a&&(n=e).push.apply(n,U.a(U.a(a).map(function(e){return e.entity})))})):e=a,e.forEach(function(e){if(void 0!==e.props.initialValue){var a=e.getNamePath();if(void 0!==n.getInitialValue(a))e3(!1,"Form already set 'initialValues' with path '".concat(a.join("."),"'. Field can not overwrite it."));else{var o=r.get(a);if(o&&o.size>1)e3(!1,"Multiple Field with path '".concat(a.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(o){var i=n.getFieldValue(a);t.skipExist&&void 0!==i||(n.store=tF(n.store,a,U.a(o)[0].value))}}}})},this.resetFields=function(e){n.warningUnhooked();var t=n.store;if(!e)return n.store=tj({},n.initialValues),n.resetWithFieldInitialValue(),void n.notifyObservers(t,null,{type:"reset"});var r=e.map(tD);r.forEach(function(e){var t=n.getInitialValue(e);n.store=tF(n.store,e,t)}),n.resetWithFieldInitialValue({namePathList:r}),n.notifyObservers(t,r,{type:"reset"})},this.setFields=function(e){n.warningUnhooked();var t=n.store;e.forEach(function(e){var r=e.name;e.errors;var a=eT.a(e,t1),o=tD(r);"value"in a&&(n.store=tF(n.store,o,a.value)),n.notifyObservers(t,[o],{type:"setField",data:e})})},this.getFields=function(){return n.getFieldEntities(!0).map(function(e){var t=e.getNamePath(),r=e.getMeta(),a=en.a(en.a({},r),{},{name:t,value:n.getFieldValue(t)});return Object.defineProperty(a,"originRCField",{value:!0}),a})},this.initEntityValue=function(e){var t=e.props.initialValue;if(void 0!==t){var r=e.getNamePath();void 0===tP(n.store,r)&&(n.store=tF(n.store,r,t))}},this.registerField=function(e){if(n.fieldEntities.push(e),void 0!==e.props.initialValue){var t=n.store;n.resetWithFieldInitialValue({entities:[e],skipExist:!0}),n.notifyObservers(t,[e.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(t,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter(function(t){return t!==e}),!1===(void 0!==r?r:n.preserve)&&(!t||a.length>1)){var o=e.getNamePath(),i=t?void 0:tP(n.initialValues,o);o.length&&n.getFieldValue(o)!==i&&n.fieldEntities.every(function(e){return!tU(e.getNamePath(),o)})&&(n.store=tF(n.store,o,i,!0))}}},this.dispatch=function(e){switch(e.type){case"updateValue":var t=e.namePath,r=e.value;n.updateValue(t,r);break;case"validateField":var a=e.namePath,o=e.triggerName;n.validateFields([a],{triggerName:o})}},this.notifyObservers=function(e,t,r){if(n.subscribable){var a=en.a(en.a({},r),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach(function(n){(0,n.onStoreChange)(e,t,a)})}else n.forceRootUpdate()},this.updateValue=function(e,t){var r=tD(e),a=n.store;n.store=tF(n.store,r,t),n.notifyObservers(a,[r],{type:"valueUpdate",source:"internal"});var o=n.getDependencyChildrenFields(r);o.length&&n.validateFields(o),n.notifyObservers(a,o,{type:"dependenciesUpdate",relatedFields:[r].concat(U.a(o))});var i=n.callbacks.onValuesChange;i&&i(tL(n.store,[r]),n.getFieldsValue()),n.triggerOnFieldsChange([r].concat(U.a(o)))},this.setFieldsValue=function(e){n.warningUnhooked();var t=n.store;e&&(n.store=tj(n.store,e)),n.notifyObservers(t,null,{type:"valueUpdate",source:"external"})},this.getDependencyChildrenFields=function(e){var t=new Set,r=[],a=new t0;return n.getFieldEntities().forEach(function(e){(e.props.dependencies||[]).forEach(function(t){var n=tD(t);a.update(n,function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return t.add(e),t})})}),!function e(n){(a.get(n)||new Set).forEach(function(n){if(!t.has(n)){t.add(n);var a=n.getNamePath();n.isFieldDirty()&&a.length&&(r.push(a),e(a))}})}(e),r},this.triggerOnFieldsChange=function(e,t){var r=n.callbacks.onFieldsChange;if(r){var a=n.getFields();if(t){var o=new t0;t.forEach(function(e){var t=e.name,n=e.errors;o.set(t,n)}),a.forEach(function(e){e.errors=o.get(e.name)||e.errors})}r(a.filter(function(t){return tM(e,t.name)}),a)}},this.validateFields=function(e,t){n.warningUnhooked();var r,a,o,i=!!e,c=i?e.map(tD):[],s=[];n.getFieldEntities(!0).forEach(function(r){if(i||c.push(r.getNamePath()),(null==t?void 0:t.recursive)&&i){var a=r.getNamePath();a.every(function(t,n){return e[n]===t||void 0===e[n]})&&c.push(a)}if(r.props.rules&&r.props.rules.length){var o=r.getNamePath();if(!i||tM(c,o)){var l=r.validateRules(en.a({validateMessages:en.a(en.a({},tS),n.validateMessages)},t));s.push(l.then(function(){return{name:o,errors:[],warnings:[]}}).catch(function(e){var t=[],n=[];return e.forEach(function(e){var r=e.rule.warningOnly,a=e.errors;r?n.push.apply(n,U.a(a)):t.push.apply(t,U.a(a))}),t.length?Promise.reject({name:o,errors:t,warnings:n}):{name:o,errors:t,warnings:n}}))}}});var l=(r=!1,a=s.length,o=[],s.length?new Promise(function(e,t){s.forEach(function(n,i){n.catch(function(e){return r=!0,e}).then(function(n){a-=1,o[i]=n,a>0||(r&&t(o),e(o))})})}):Promise.resolve([]));n.lastValidatePromise=l,l.catch(function(e){return e}).then(function(e){var t=e.map(function(e){return e.name});n.notifyObservers(n.store,t,{type:"validateFinish"}),n.triggerOnFieldsChange(t,e)});var u=l.then(function(){return n.lastValidatePromise===l?Promise.resolve(n.getFieldsValue(c)):Promise.reject([])}).catch(function(e){var t=e.filter(function(e){return e&&e.errors.length});return Promise.reject({values:n.getFieldsValue(c),errorFields:t,outOfDate:n.lastValidatePromise!==l})});return u.catch(function(e){return e}),u},this.submit=function(){n.warningUnhooked(),n.validateFields().then(function(e){var t=n.callbacks.onFinish;if(t)try{t(e)}catch(e){console.error(e)}}).catch(function(e){var t=n.callbacks.onFinishFailed;t&&t(e)})},this.forceRootUpdate=t},t6=function(e){var t=(0,b.useRef)(),n=(0,b.useState)({}),r=er.a(n,2)[1];return t.current||(e?t.current=e:t.current=new t2(function(){r({})}).getForm()),[t.current]},t4=(0,b.createContext)({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),t3=function(e){var t=e.validateMessages,n=e.onFormChange,r=e.onFormFinish,a=e.children,o=(0,b.useContext)(t4),i=(0,b.useRef)({});return(0,b.createElement)(t4.Provider,{value:en.a(en.a({},o),{},{validateMessages:en.a(en.a({},o.validateMessages),t),triggerFormChange:function(e,t){n&&n(e,{changedFields:t,forms:i.current}),o.triggerFormChange(e,t)},triggerFormFinish:function(e,t){r&&r(e,{values:t,forms:i.current}),o.triggerFormFinish(e,t)},registerForm:function(e,t){e&&(i.current=en.a(en.a({},i.current),{},ea.a({},e,t))),o.registerForm(e,t)},unregisterForm:function(e){var t=en.a({},i.current);delete t[e],i.current=t,o.unregisterForm(e)}})},a)},t5=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"],t8=(0,b.forwardRef)(function(e,t){var n=e.name,r=e.initialValues,a=e.fields,o=e.form,i=e.preserve,c=e.children,s=e.component,l=void 0===s?"form":s,u=e.validateMessages,d=e.validateTrigger,f=void 0===d?"onChange":d,p=e.onValuesChange,h=e.onFieldsChange,v=e.onFinish,m=e.onFinishFailed,_=eT.a(e,t5),g=(0,b.useContext)(t4),y=t6(o),E=er.a(y,1)[0],k=E.getInternalHooks(e5),C=k.useSubscribe,w=k.setInitialValues,T=k.setCallbacks,O=k.setValidateMessages,x=k.setPreserve;(0,b.useImperativeHandle)(t,function(){return E}),(0,b.useEffect)(function(){return g.registerForm(n,E),function(){g.unregisterForm(n)}},[g,E,n]),O(en.a(en.a({},g.validateMessages),u)),T({onValuesChange:p,onFieldsChange:function(e){if(g.triggerFormChange(n,e),h){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];h.apply(void 0,[e].concat(r))}},onFinish:function(e){g.triggerFormFinish(n,e),v&&v(e)},onFinishFailed:m}),x(i);var A=(0,b.useRef)(null);w(r,!A.current),A.current||(A.current=!0);var S=c,P="function"==typeof c;P&&(S=c(E.getFieldsValue(!0),E)),C(!P);var R=(0,b.useRef)();(0,b.useEffect)(function(){!function(e,t){if(e===t)return!0;if(!e&&t||e&&!t||!e||!t||"object"!==F.a(e)||"object"!==F.a(t))return!1;var n=Object.keys(e),r=Object.keys(t),a=new Set([].concat(U.a(n),U.a(r)));return U.a(a).every(function(n){var r=e[n],a=t[n];return"function"==typeof r&&"function"==typeof a||r===a})}(R.current||[],a||[])&&E.setFields(a||[]),R.current=a},[a,E]);var N=(0,b.useMemo)(function(){return en.a(en.a({},E),{},{validateTrigger:f})},[E,f]),I=(0,b.createElement)(e9.Provider,{value:N},S);return!1===l?I:(0,b.createElement)(l,ew.a({},_,{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),E.submit()},onReset:function(e){var t;e.preventDefault(),E.resetFields(),null!=(t=_.onReset)&&t.call(_,e)}}),I)});t8.FormProvider=t3,t8.Field=tJ,t8.List=function(e){var t=e.name,n=e.initialValue,r=e.children,a=e.rules,o=e.validateTrigger,i=(0,b.useContext)(e9),c=(0,b.useRef)({keys:[],id:0}).current;if("function"!=typeof r)return e3(!1,"Form.List only accepts function as children."),null;var s=tD(i.prefixName)||[],l=[].concat(U.a(s),U.a(tD(t)));return(0,b.createElement)(e9.Provider,{value:en.a(en.a({},i),{},{prefixName:l})},(0,b.createElement)(tJ,{name:[],shouldUpdate:function(e,t,n){return"internal"!==n.source&&e!==t},rules:a,validateTrigger:o,initialValue:n,isList:!0},function(e,t){var n=e.value,a=e.onChange,o=i.getFieldValue,s=function(){return o(l||[])||[]},u=(void 0===n?[]:n)||[];return Array.isArray(u)||(u=[]),r(u.map(function(e,t){var n=c.keys[t];return void 0===n&&(c.keys[t]=c.id,n=c.keys[t],c.id+=1),{name:t,key:n,isListField:!0}}),{add:function(e,t){var n=s();t>=0&&t<=n.length?(c.keys=[].concat(U.a(c.keys.slice(0,t)),[c.id],U.a(c.keys.slice(t))),a([].concat(U.a(n.slice(0,t)),[e],U.a(n.slice(t))))):(c.keys=[].concat(U.a(c.keys),[c.id]),a([].concat(U.a(n),[e]))),c.id+=1},remove:function(e){var t=s(),n=new Set(Array.isArray(e)?e:[e]);n.size<=0||(c.keys=c.keys.filter(function(e,t){return!n.has(t)}),a(t.filter(function(e,t){return!n.has(t)})))},move:function(e,t){if(e!==t){var n=s();e<0||e>=n.length||t<0||t>=n.length||(c.keys=tV(c.keys,e,t),a(tV(n,e,t)))}}},t)}))},t8.useForm=t6;var t9=n(13756),t7=n(90416),ne=function(e){M.a(n,e);var t=L.a(n);function n(e){var r;return j.a(this,n),r=t.call(this,e),eW(e.locale&&e.locale.Modal),e2.a("internalMark"===e._ANT_MARK__,"LocaleProvider","`LocaleProvider` is deprecated. Please use `locale` with `ConfigProvider` instead: http://u.ant.design/locale"),r}return B.a(n,[{key:"componentDidMount",value:function(){eW(this.props.locale&&this.props.locale.Modal)}},{key:"componentDidUpdate",value:function(e){var t=this.props.locale;e.locale!==t&&eW(t&&t.Modal)}},{key:"componentWillUnmount",value:function(){eW()}},{key:"render",value:function(){var e=this.props,t=e.locale,n=e.children,r=t9.a(function(e){return ew.a(ew.a({},e),{exist:!0})})(t);return(0,b.createElement)(t7.a.Provider,{value:r},n)}}]),n}(b.Component);ne.defaultProps={locale:{}};var nt=n(64371),nn=n(83876),nr=n(7443),na=n(2880);function no(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var ni=(i=na.a(),c="undefined"!=typeof window?window:{},s={animationend:no("Animation","AnimationEnd"),transitionend:no("Transition","TransitionEnd")},i&&("AnimationEvent"in c||delete s.animationend.animation,"TransitionEvent"in c||delete s.transitionend.transition),s),nc={};na.a()&&(nc=document.createElement("div").style);var ns={};function nl(e){if(ns[e])return ns[e];var t=ni[e];if(t)for(var n=Object.keys(t),r=n.length,a=0;a<r;a+=1){var o=n[a];if(Object.prototype.hasOwnProperty.call(t,o)&&o in nc)return ns[e]=t[o],ns[e]}return""}var nu=nl("animationend"),nd=nl("transitionend"),nf=!(!nu||!nd),np=nu||"animationend",nh=nd||"transitionend";function nv(e,t){return e?"object"===F.a(e)?e[t.replace(/-\w/g,function(e){return e[1].toUpperCase()})]:"".concat(e,"-").concat(t):null}function nm(e){var t=(0,b.useRef)(!1),n=(0,b.useState)(e),r=er.a(n,2),a=r[0],o=r[1];return(0,b.useEffect)(function(){return function(){t.current=!0}},[]),[a,function(e){t.current||o(e)}]}var n_=na.a()?b.useLayoutEffect:b.useEffect,ng=n(66241),ny=["prepare","start","active","end"];function nb(e){return"active"===e||"end"===e}var nE=function(e,t){var n=(0,b.useState)("none"),r=er.a(n,2),a=r[0],o=r[1],i=function(){var e=(0,b.useRef)(null);function t(){ng.a.cancel(e.current)}return(0,b.useEffect)(function(){return function(){t()}},[]),[function n(r){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t();var o=ng.a(function(){a<=1?r({isCanceled:function(){return o!==e.current}}):n(r,a-1)});e.current=o},t]}(),c=er.a(i,2),s=c[0],l=c[1];return n_(function(){if("none"!==a&&"end"!==a){var e=ny.indexOf(a),n=ny[e+1],r=t(a);!1===r?o(n):s(function(e){function t(){e.isCanceled()||o(n)}!0===r?t():Promise.resolve(r).then(t)})}},[e,a]),(0,b.useEffect)(function(){return function(){l()}},[]),[function(){o("prepare")},a]},nk=function(e){M.a(n,e);var t=L.a(n);function n(){return j.a(this,n),t.apply(this,arguments)}return B.a(n,[{key:"render",value:function(){return this.props.children}}]),n}(b.Component),nC=function(e){var t=e;function n(e){return!(!e.motionName||!t)}"object"===F.a(e)&&(t=e.transitionSupport);var r=(0,b.forwardRef)(function(e,t){var r,a,o,i=e.visible,c=void 0===i||i,s=e.removeOnLeave,l=e.forceRender,u=e.children,d=e.motionName,f=e.leavedClassName,p=e.eventProps,h=n(e),v=(0,b.useRef)(),m=(0,b.useRef)(),_=function(e,t,n,r){var a=r.motionEnter,o=void 0===a||a,i=r.motionAppear,c=void 0===i||i,s=r.motionLeave,l=void 0===s||s,u=r.motionDeadline,d=r.motionLeaveImmediately,f=r.onAppearPrepare,p=r.onEnterPrepare,h=r.onLeavePrepare,v=r.onAppearStart,m=r.onEnterStart,_=r.onLeaveStart,g=r.onAppearActive,y=r.onEnterActive,E=r.onLeaveActive,k=r.onAppearEnd,C=r.onEnterEnd,w=r.onLeaveEnd,T=r.onVisibleChanged,O=nm(),x=er.a(O,2),A=x[0],S=x[1],P=nm("none"),R=er.a(P,2),N=R[0],I=R[1],D=nm(null),F=er.a(D,2),L=F[0],M=F[1],B=(0,b.useRef)(!1),j=(0,b.useRef)(null),U=(0,b.useRef)(!1),W=(0,b.useRef)(null);function V(){return n()||W.current}var K=(0,b.useRef)(!1);function z(e){var t,n=V();!(e&&!e.deadline&&e.target!==n)&&("appear"===N&&K.current?t=null==k?void 0:k(n,e):"enter"===N&&K.current?t=null==C?void 0:C(n,e):"leave"===N&&K.current&&(t=null==w?void 0:w(n,e)),!1===t||U.current||(I("none"),M(null)))}var G=function(e){var t=(0,b.useRef)(),n=(0,b.useRef)(e);n.current=e;var r=(0,b.useCallback)(function(e){n.current(e)},[]);function a(e){e&&(e.removeEventListener(nh,r),e.removeEventListener(np,r))}return(0,b.useEffect)(function(){return function(){a(t.current)}},[]),[function(e){t.current&&t.current!==e&&a(t.current),e&&e!==t.current&&(e.addEventListener(nh,r),e.addEventListener(np,r),t.current=e)},a]}(z),Y=er.a(G,1)[0],$=(0,b.useMemo)(function(){var e,t,n;switch(N){case"appear":return e={},ea.a(e,"prepare",f),ea.a(e,"start",v),ea.a(e,"active",g),e;case"enter":return t={},ea.a(t,"prepare",p),ea.a(t,"start",m),ea.a(t,"active",y),t;case"leave":return n={},ea.a(n,"prepare",h),ea.a(n,"start",_),ea.a(n,"active",E),n;default:return{}}},[N]),H=nE(N,function(e){if("prepare"===e){var t,n=$.prepare;return!!n&&n(V())}return J in $&&M((null==(t=$[J])?void 0:t.call($,V(),null))||null),"active"===J&&(Y(V()),u>0&&(clearTimeout(j.current),j.current=setTimeout(function(){z({deadline:!0})},u))),!0}),q=er.a(H,2),Z=q[0],J=q[1];K.current=nb(J),n_(function(){S(t);var n,r=B.current;B.current=!0,e&&(!r&&t&&c&&(n="appear"),r&&t&&o&&(n="enter"),(r&&!t&&l||!r&&d&&!t&&l)&&(n="leave"),n&&(I(n),Z()))},[t]),(0,b.useEffect)(function(){("appear"!==N||c)&&("enter"!==N||o)&&("leave"!==N||l)||I("none")},[c,o,l]),(0,b.useEffect)(function(){return function(){clearTimeout(j.current),U.current=!0}},[]),(0,b.useEffect)(function(){void 0!==A&&"none"===N&&null!=T&&T(A)},[A,N]);var X=L;return $.prepare&&"start"===J&&(X=en.a({transition:"none"},X)),[N,J,X,null!=A?A:t]}(h,c,function(){try{return nn.a(v.current||m.current)}catch(e){return null}},e),g=er.a(_,4),y=g[0],E=g[1],k=g[2],C=g[3],w=(0,b.useRef)(C);C&&(w.current=!0);var T=(0,b.useRef)(t);T.current=t;var O=(0,b.useCallback)(function(e){v.current=e,nr.b(T.current,e)},[]),x=en.a(en.a({},p),{},{visible:c});return u?"none"!==y&&n(e)?("prepare"===E?o="prepare":nb(E)?o="active":"start"===E&&(o="start"),r=u(en.a(en.a({},x),{},{className:X()(nv(d,y),(a={},ea.a(a,nv(d,"".concat(y,"-").concat(o)),o),ea.a(a,d,"string"==typeof d),a)),style:k}),O)):r=C?u(en.a({},x),O):!(void 0===s||s)&&w.current?u(en.a(en.a({},x),{},{className:f}),O):l?u(en.a(en.a({},x),{},{style:{display:"none"}}),O):null:r=null,(0,b.createElement)(nk,{ref:m},r)});return r.displayName="CSSMotion",r}(nf);function nw(e){var t;return t=e&&"object"===F.a(e)&&"key"in e?e:{key:e},en.a(en.a({},t),{},{key:String(t.key)})}function nT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(nw)}var nO=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"],nx=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nC,n=function(e){M.a(r,e);var n=L.a(r);function r(){var e;return j.a(this,r),(e=n.apply(this,arguments)).state={keyEntities:[]},e.removeKey=function(t){e.setState(function(e){return{keyEntities:e.keyEntities.map(function(e){return e.key!==t?e:en.a(en.a({},e),{},{status:"removed"})})}})},e}return B.a(r,[{key:"render",value:function(){var e=this,n=this.state.keyEntities,r=this.props,a=r.component,o=r.children,i=r.onVisibleChanged,c=eT.a(r,["component","children","onVisibleChanged"]),s=a||b.Fragment,l={};return nO.forEach(function(e){l[e]=c[e],delete c[e]}),delete c.keys,(0,b.createElement)(s,c,n.map(function(n){var r=n.status,a=eT.a(n,["status"]);return(0,b.createElement)(t,ew.a({},l,{key:a.key,visible:"add"===r||"keep"===r,eventProps:a,onVisibleChanged:function(t){null!=i&&i(t,{key:a.key}),t||e.removeKey(a.key)}}),o)}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities;return{keyEntities:(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,a=t.length,o=nT(e),i=nT(t);o.forEach(function(e){for(var t=!1,o=r;o<a;o+=1){var c=i[o];if(c.key===e.key){r<o&&(n=n.concat(i.slice(r,o).map(function(e){return en.a(en.a({},e),{},{status:"add"})})),r=o),n.push(en.a(en.a({},c),{},{status:"keep"})),r+=1,t=!0;break}}t||n.push(en.a(en.a({},e),{},{status:"remove"}))}),r<a&&(n=n.concat(i.slice(r).map(function(e){return en.a(en.a({},e),{},{status:"add"})})));var c={};return n.forEach(function(e){var t=e.key;c[t]=(c[t]||0)+1}),Object.keys(c).filter(function(e){return c[e]>1}).forEach(function(e){(n=n.filter(function(t){var n=t.key,r=t.status;return n!==e||"remove"!==r})).forEach(function(t){t.key===e&&(t.status="keep")})}),n})(r,nT(n)).filter(function(e){var t=r.find(function(t){var n=t.key;return e.key===n});return!t||"removed"!==t.status||"remove"!==e.status})}}}]),r}(b.Component);return n.defaultProps={component:"div"},n}(nf),nA=function(e){M.a(n,e);var t=L.a(n);function n(){var e;j.a(this,n);for(var r=arguments.length,a=Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).closeTimer=null,e.close=function(t){t&&t.stopPropagation(),e.clearCloseTimer();var n=e.props,r=n.onClose,a=n.noticeKey;r&&r(a)},e.startCloseTimer=function(){e.props.duration&&(e.closeTimer=window.setTimeout(function(){e.close()},1e3*e.props.duration))},e.clearCloseTimer=function(){e.closeTimer&&(clearTimeout(e.closeTimer),e.closeTimer=null)},e}return B.a(n,[{key:"componentDidMount",value:function(){this.startCloseTimer()}},{key:"componentDidUpdate",value:function(e){(this.props.duration!==e.duration||this.props.updateMark!==e.updateMark||this.props.visible!==e.visible&&this.props.visible)&&this.restartCloseTimer()}},{key:"componentWillUnmount",value:function(){this.clearCloseTimer()}},{key:"restartCloseTimer",value:function(){this.clearCloseTimer(),this.startCloseTimer()}},{key:"render",value:function(){var e=this,t=this.props,n=t.prefixCls,r=t.className,a=t.closable,o=t.closeIcon,i=t.style,c=t.onClick,s=t.children,l=t.holder,u="".concat(n,"-notice"),d=Object.keys(this.props).reduce(function(t,n){return("data-"===n.substr(0,5)||"aria-"===n.substr(0,5)||"role"===n)&&(t[n]=e.props[n]),t},{}),f=(0,b.createElement)("div",ew.a({className:X()(u,r,ea.a({},"".concat(u,"-closable"),a)),style:i,onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onClick:c},d),(0,b.createElement)("div",{className:"".concat(u,"-content")},s),a?(0,b.createElement)("a",{tabIndex:0,onClick:this.close,className:"".concat(u,"-close")},o||(0,b.createElement)("span",{className:"".concat(u,"-close-x")})):null);return l?A().createPortal(f,l):f}}]),n}(b.Component);function nS(e){var t=(0,b.useRef)({}),n=(0,b.useState)([]),r=er.a(n,2),a=r[0],o=r[1];return[function(n){var r=!0;e.add(n,function(e,n){var a=n.key;if(e&&(!t.current[a]||r)){var i=(0,b.createElement)(nA,ew.a({},n,{holder:e}));t.current[a]=i,o(function(e){var t=e.findIndex(function(e){return e.key===n.key});if(-1===t)return[].concat(U.a(e),[i]);var r=U.a(e);return r[t]=i,r})}r=!1})},(0,b.createElement)(b.Fragment,null,a)]}nA.defaultProps={onClose:function(){},duration:1.5};var nP=0,nR=Date.now();function nN(){var e=nP;return nP+=1,"rcNotification_".concat(nR,"_").concat(e)}var nI=function(e){M.a(n,e);var t=L.a(n);function n(){var e;j.a(this,n);for(var r=arguments.length,a=Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={notices:[]},e.hookRefs=new Map,e.add=function(t,n){var r=t.key||nN(),a=en.a(en.a({},t),{},{key:r}),o=e.props.maxCount;e.setState(function(e){var t=e.notices,i=t.map(function(e){return e.notice.key}).indexOf(r),c=t.concat();return -1!==i?c.splice(i,1,{notice:a,holderCallback:n}):(o&&t.length>=o&&(a.key=c[0].notice.key,a.updateMark=nN(),a.userPassKey=r,c.shift()),c.push({notice:a,holderCallback:n})),{notices:c}})},e.remove=function(t){e.setState(function(e){return{notices:e.notices.filter(function(e){var n=e.notice,r=n.key;return(n.userPassKey||r)!==t})}})},e.noticePropsMap={},e}return B.a(n,[{key:"getTransitionName",value:function(){var e=this.props,t=e.prefixCls,n=e.animation,r=this.props.transitionName;return!r&&n&&(r="".concat(t,"-").concat(n)),r}},{key:"render",value:function(){var e=this,t=this.state.notices,n=this.props,r=n.prefixCls,a=n.className,o=n.closeIcon,i=n.style,c=[];return t.forEach(function(n,a){var i=n.notice,s=n.holderCallback,l=a===t.length-1?i.updateMark:void 0,u=i.key,d=i.userPassKey,f=en.a(en.a(en.a({prefixCls:r,closeIcon:o},i),i.props),{},{key:u,noticeKey:d||u,updateMark:l,onClose:function(t){var n;e.remove(t),null!=(n=i.onClose)&&n.call(i)},onClick:i.onClick,children:i.content});c.push(u),e.noticePropsMap[u]={props:f,holderCallback:s}}),(0,b.createElement)("div",{className:X()(r,a),style:i},(0,b.createElement)(nx,{keys:c,motionName:this.getTransitionName(),onVisibleChanged:function(t,n){var r=n.key;t||delete e.noticePropsMap[r]}},function(t){var n=t.key,a=t.className,o=t.style,i=t.visible,c=e.noticePropsMap[n],s=c.props,l=c.holderCallback;return l?(0,b.createElement)("div",{key:n,className:X()(a,"".concat(r,"-hook-holder")),style:en.a({},o),ref:function(t){void 0!==n&&(t?(e.hookRefs.set(n,t),l(t,s)):e.hookRefs.delete(n))}}):(0,b.createElement)(nA,ew.a({},s,{className:X()(a,null==s?void 0:s.className),style:en.a(en.a({},o),null==s?void 0:s.style),visible:i}))}))}}]),n}(b.Component);nI.newInstance=void 0,nI.defaultProps={prefixCls:"rc-notification",animation:"fade",style:{top:65,left:"50%"}},nI.newInstance=function(e,t){var n=e||{},r=n.getContainer,a=eT.a(n,["getContainer"]),o=document.createElement("div");r?r().appendChild(o):document.body.appendChild(o);var i=!1;A().render((0,b.createElement)(nI,ew.a({},a,{ref:function(e){i||(i=!0,t({notice:function(t){e.add(t)},removeNotice:function(t){e.remove(t)},component:e,destroy:function(){A().unmountComponentAtNode(o),o.parentNode&&o.parentNode.removeChild(o)},useNotification:function(){return nS(e)}}))}})),o)};var nD=n(23527),nF={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},nL=n(92379),nM=function(e,t){return(0,b.createElement)(nL.a,en.a(en.a({},e),{},{ref:t,icon:nF}))};nM.displayName="ExclamationCircleFilled";var nB=(0,b.forwardRef)(nM),nj=n(42939),nU={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},nW=function(e,t){return(0,b.createElement)(nL.a,en.a(en.a({},e),{},{ref:t,icon:nU}))};nW.displayName="CheckCircleFilled";var nV=(0,b.forwardRef)(nW),nK={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},nz=function(e,t){return(0,b.createElement)(nL.a,en.a(en.a({},e),{},{ref:t,icon:nK}))};nz.displayName="InfoCircleFilled";var nG=3,nY=1,n$="",nH="move-up",nq=!1,nZ=!1;function nJ(e,t){var n=e.prefixCls,r=e.getPopupContainer,a=rh(),o=a.getPrefixCls,i=a.getRootPrefixCls,c=a.getIconPrefixCls,s=o("message",n||n$),l=i(e.rootPrefixCls,s),u=c();if(d)t({prefixCls:s,rootPrefixCls:l,iconPrefixCls:u,instance:d});else{var v={prefixCls:s,transitionName:nq?nH:"".concat(l,"-").concat(nH),style:{top:f},getContainer:p||r,maxCount:h};nI.newInstance(v,function(e){d?t({prefixCls:s,rootPrefixCls:l,iconPrefixCls:u,instance:d}):(d=e,t({prefixCls:s,rootPrefixCls:l,iconPrefixCls:u,instance:e}))})}}var nX={info:(0,b.forwardRef)(nz),success:nV,error:nj.a,warning:nB,loading:nD.a};function nQ(e,t,n){var r,a=void 0!==e.duration?e.duration:nG,o=nX[e.type],i=X()("".concat(t,"-custom-content"),(r={},ea.a(r,"".concat(t,"-").concat(e.type),e.type),ea.a(r,"".concat(t,"-rtl"),!0===nZ),r));return{key:e.key,duration:a,style:e.style||{},className:e.className,content:(0,b.createElement)(r_,{iconPrefixCls:n},(0,b.createElement)("div",{className:i},e.icon||o&&(0,b.createElement)(o,null),(0,b.createElement)("span",null,e.content))),onClose:e.onClose,onClick:e.onClick}}var n0={open:function(e){var t=e.key||nY++,n=new Promise(function(n){var r=function(){return"function"==typeof e.onClose&&e.onClose(),n(!0)};nJ(e,function(n){var a=n.prefixCls,o=n.iconPrefixCls;n.instance.notice(nQ(ew.a(ew.a({},e),{key:t,onClose:r}),a,o))})}),r=function(){d&&d.removeNotice(t)};return r.then=function(e,t){return n.then(e,t)},r.promise=n,r},config:function(e){void 0!==e.top&&(f=e.top,d=null),void 0!==e.duration&&(nG=e.duration),void 0!==e.prefixCls&&(n$=e.prefixCls),void 0!==e.getContainer&&(p=e.getContainer),void 0!==e.transitionName&&(nH=e.transitionName,d=null,nq=!0),void 0!==e.maxCount&&(h=e.maxCount,d=null),void 0!==e.rtl&&(nZ=e.rtl)},destroy:function(e){d&&(e?(0,d.removeNotice)(e):((0,d.destroy)(),d=null))}};function n1(e,t){e[t]=function(n,r,a){return"[object Object]"===Object.prototype.toString.call(n)&&n.content?e.open(ew.a(ew.a({},n),{type:t})):("function"==typeof r&&(a=r,r=void 0),e.open({content:n,duration:r,type:t,onClose:a}))}}["success","info","warning","error","loading"].forEach(function(e){return n1(n0,e)}),n0.warn=n0.warning,n0.useMessage=function(){var e,t,n=null,r=nS({add:function(e,t){null!=n&&n.component.add(e,t)}}),a=er.a(r,2),o=a[0],i=a[1],c=(0,b.useRef)({});return c.current.open=function(r){var a=r.prefixCls,i=e("message",a),c=e(),s=r.key||nY++,l=new Promise(function(e){var a=function(){return"function"==typeof r.onClose&&r.onClose(),e(!0)};nJ(ew.a(ew.a({},r),{prefixCls:i,rootPrefixCls:c,getPopupContainer:t}),function(e){var t=e.prefixCls;n=e.instance,o(nQ(ew.a(ew.a({},r),{key:s,onClose:a}),t))})}),u=function(){n&&n.removeNotice(s)};return u.then=function(e,t){return l.then(e,t)},u.promise=l,u},["success","info","warning","error","loading"].forEach(function(e){return n1(c.current,e)}),[c.current,(0,b.createElement)(eG.a,{key:"holder"},function(n){return e=n.getPrefixCls,t=n.getPopupContainer,i})]};var n2={},n6=4.5,n4=24,n3=24,n5="",n8="topRight",n9=!1;function n7(e,t){var n=e.placement,r=void 0===n?n8:n,a=e.top,o=e.bottom,i=e.getContainer,c=void 0===i?v:i,s=e.prefixCls,l=rh(),u=l.getPrefixCls,d=l.getIconPrefixCls,f=u("notification",s||n5),p=d(),h="".concat(f,"-").concat(r),m=n2[h];if(m)Promise.resolve(m).then(function(e){t({prefixCls:"".concat(f,"-notice"),iconPrefixCls:p,instance:e})});else{var g=X()("".concat(f,"-").concat(r),ea.a({},"".concat(f,"-rtl"),!0===n9));n2[h]=new Promise(function(e){nI.newInstance({prefixCls:f,className:g,style:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n4,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n3;switch(e){case"topLeft":t={left:0,top:n,bottom:"auto"};break;case"topRight":t={right:0,top:n,bottom:"auto"};break;case"bottomLeft":t={left:0,top:"auto",bottom:r};break;default:t={right:0,top:"auto",bottom:r}}return t}(r,a,o),getContainer:c,maxCount:_},function(n){e(n),t({prefixCls:"".concat(f,"-notice"),iconPrefixCls:p,instance:n})})})}}var re={success:eJ.a,info:eZ.a,error:eX.a,warning:eQ.a};function rt(e,t,n){var r=e.duration,a=e.icon,o=e.type,i=e.description,c=e.message,s=e.btn,l=e.onClose,u=e.onClick,d=e.key,f=e.style,p=e.className,h=e.closeIcon,v=void 0===h?m:h,_=void 0===r?n6:r,g=null;a?g=(0,b.createElement)("span",{className:"".concat(t,"-icon")},e.icon):o&&(g=(0,b.createElement)(re[o]||null,{className:"".concat(t,"-icon ").concat(t,"-icon-").concat(o)}));var y=(0,b.createElement)("span",{className:"".concat(t,"-close-x")},v||(0,b.createElement)(eB.a,{className:"".concat(t,"-close-icon")})),E=!i&&g?(0,b.createElement)("span",{className:"".concat(t,"-message-single-line-auto-margin")}):null;return{content:(0,b.createElement)(r_,{iconPrefixCls:n},(0,b.createElement)("div",{className:g?"".concat(t,"-with-icon"):"",role:"alert"},g,(0,b.createElement)("div",{className:"".concat(t,"-message")},E,c),(0,b.createElement)("div",{className:"".concat(t,"-description")},i),s?(0,b.createElement)("span",{className:"".concat(t,"-btn")},s):null)),duration:_,closable:!0,closeIcon:y,onClose:l,onClick:u,key:d,style:f||{},className:X()(p,ea.a({},"".concat(t,"-").concat(o),!!o))}}var rn={open:function(e){n7(e,function(t){var n=t.prefixCls,r=t.iconPrefixCls;t.instance.notice(rt(e,n,r))})},close:function(e){Object.keys(n2).forEach(function(t){return Promise.resolve(n2[t]).then(function(t){t.removeNotice(e)})})},config:function(e){var t=e.duration,n=e.placement,r=e.bottom,a=e.top,o=e.getContainer,i=e.closeIcon,c=e.prefixCls;void 0!==c&&(n5=c),void 0!==t&&(n6=t),void 0!==n?n8=n:e.rtl&&(n8="topLeft"),void 0!==r&&(n3=r),void 0!==a&&(n4=a),void 0!==o&&(v=o),void 0!==i&&(m=i),void 0!==e.rtl&&(n9=e.rtl),void 0!==e.maxCount&&(_=e.maxCount)},destroy:function(){Object.keys(n2).forEach(function(e){Promise.resolve(n2[e]).then(function(e){e.destroy()}),delete n2[e]})}};["success","info","warning","error"].forEach(function(e){rn[e]=function(t){return rn.open(ew.a(ew.a({},t),{type:e}))}}),rn.warn=rn.warning,rn.useNotification=function(){var e,t=null,n=nS({add:function(e,n){null!=t&&t.component.add(e,n)}}),r=er.a(n,2),a=r[0],o=r[1],i=(0,b.useRef)({});return i.current.open=function(n){var r=n.prefixCls,o=e("notification",r);n7(ew.a(ew.a({},n),{prefixCls:o}),function(e){var r=e.prefixCls;t=e.instance,a(rt(n,r))})},["success","info","warning","error"].forEach(function(e){i.current[e]=function(t){return i.current.open(ew.a(ew.a({},t),{type:e}))}}),[i.current,(0,b.createElement)(eG.a,{key:"holder"},function(t){return e=t.getPrefixCls,o})]};var rr=n(91425),ra=n(35458),ro=n(11689),ri=n(32691),rc=n(38795),rs=function(){function e(t,n){if(void 0===t&&(t=""),void 0===n&&(n={}),t instanceof e)return t;"number"==typeof t&&(t=ra.d(t)),this.originalInput=t;var r,a=ri.a(t);this.originalInput=t,this.r=a.r,this.g=a.g,this.b=a.b,this.a=a.a,this.roundA=Math.round(100*this.a)/100,this.format=null!=(r=n.format)?r:a.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=a.ok}return e.prototype.isDark=function(){return 128>this.getBrightness()},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},e.prototype.getLuminance=function(){var e=this.toRgb(),t=e.r/255,n=e.g/255,r=e.b/255;return .2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(e){return this.a=rc.b(e),this.roundA=Math.round(100*this.a)/100,this},e.prototype.toHsv=function(){var e=ra.h(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}},e.prototype.toHsvString=function(){var e=ra.h(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.v);return 1===this.a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this.roundA+")"},e.prototype.toHsl=function(){var e=ra.g(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}},e.prototype.toHslString=function(){var e=ra.g(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.l);return 1===this.a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this.roundA+")"},e.prototype.toHex=function(e){return void 0===e&&(e=!1),ra.f(this.r,this.g,this.b,e)},e.prototype.toHexString=function(e){return void 0===e&&(e=!1),"#"+this.toHex(e)},e.prototype.toHex8=function(e){return void 0===e&&(e=!1),ra.j(this.r,this.g,this.b,this.a,e)},e.prototype.toHex8String=function(e){return void 0===e&&(e=!1),"#"+this.toHex8(e)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),n=Math.round(this.b);return 1===this.a?"rgb("+e+", "+t+", "+n+")":"rgba("+e+", "+t+", "+n+", "+this.roundA+")"},e.prototype.toPercentageRgb=function(){var e=function(e){return Math.round(100*rc.a(e,255))+"%"};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var e=function(e){return Math.round(100*rc.a(e,255))};return 1===this.a?"rgb("+e(this.r)+"%, "+e(this.g)+"%, "+e(this.b)+"%)":"rgba("+e(this.r)+"%, "+e(this.g)+"%, "+e(this.b)+"%, "+this.roundA+")"},e.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var e="#"+ra.f(this.r,this.g,this.b,!1),t=0,n=Object.entries(ro.a);t<n.length;t++){var r=n[t],a=r[0];if(e===r[1])return a}return!1},e.prototype.toString=function(e){var t=!!e;e=null!=e?e:this.format;var n=!1,r=this.a<1&&this.a>=0;return!t&&r&&(e.startsWith("hex")||"name"===e)?"name"===e&&0===this.a?this.toName():this.toRgbString():("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString())},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=rc.c(n.l),new e(n)},e.prototype.brighten=function(t){void 0===t&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),new e(n)},e.prototype.darken=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=rc.c(n.l),new e(n)},e.prototype.tint=function(e){return void 0===e&&(e=10),this.mix("white",e)},e.prototype.shade=function(e){return void 0===e&&(e=10),this.mix("black",e)},e.prototype.desaturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=rc.c(n.s),new e(n)},e.prototype.saturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=rc.c(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,new e(n)},e.prototype.mix=function(t,n){void 0===n&&(n=50);var r=this.toRgb(),a=new e(t).toRgb(),o=n/100;return new e({r:(a.r-r.r)*o+r.r,g:(a.g-r.g)*o+r.g,b:(a.b-r.b)*o+r.b,a:(a.a-r.a)*o+r.a})},e.prototype.analogous=function(t,n){void 0===t&&(t=6),void 0===n&&(n=30);var r=this.toHsl(),a=360/n,o=[this];for(r.h=(r.h-(a*t>>1)+720)%360;--t;)r.h=(r.h+a)%360,o.push(new e(r));return o},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){void 0===t&&(t=6);for(var n=this.toHsv(),r=n.h,a=n.s,o=n.v,i=[],c=1/t;t--;)i.push(new e({h:r,s:a,v:o})),o=(o+c)%1;return i},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),r=new e(t).toRgb();return new e({r:r.r+(n.r-r.r)*n.a,g:r.g+(n.g-r.g)*n.a,b:r.b+(n.b-r.b)*n.a})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),r=n.h,a=[this],o=360/t,i=1;i<t;i++)a.push(new e({h:(r+i*o)%360,s:n.s,l:n.l}));return a},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}(),rl=n(52705),ru="-ant-".concat(Date.now(),"-").concat(Math.random()),rd=["getTargetContainer","getPopupContainer","renderEmpty","pageHeader","input","form"];function rf(){return y||"ant"}function rp(){return g||"anticon"}var rh=function(){return{getPrefixCls:function(e,t){return t||(e?"".concat(rf(),"-").concat(e):rf())},getIconPrefixCls:rp,getRootPrefixCls:function(e,t){return e||y||(t&&t.includes("-")?t.replace(/^(.*)-[^-]*$/,"$1"):rf())}}},rv=function(e){var t,n,r,a,o,i=e.children,c=e.csp,s=e.autoInsertSpaceInButton,l=e.form,u=e.locale,d=e.componentSize,f=e.direction,p=e.space,h=e.virtual,v=e.dropdownMatchSelectWidth,m=e.legacyLocale,_=e.parentContext,g=e.iconPrefixCls,y=(0,b.useCallback)(function(t,n){var r=e.prefixCls;if(n)return n;var a=r||_.getPrefixCls("");return t?"".concat(a,"-").concat(t):a},[_.getPrefixCls,e.prefixCls]),E=ew.a(ew.a({},_),{csp:c,autoInsertSpaceInButton:s,locale:u||m,direction:f,space:p,virtual:h,dropdownMatchSelectWidth:v,getPrefixCls:y});rd.forEach(function(t){var n=e[t];n&&(E[t]=n)});var k=(t=function(){return E},n=function(e,t){var n=Object.keys(e),r=Object.keys(t);return n.length!==r.length||n.some(function(n){return e[n]!==t[n]})},"value"in(r=(0,b.useRef)({})).current&&!n(r.current.condition,E)||(r.current.value=t(),r.current.condition=E),r.current.value),C=(0,b.useMemo)(function(){return{prefixCls:g,csp:c}},[g]),w=i,T={};return u&&(T=(null==(a=u.Form)?void 0:a.defaultValidateMessages)||(null==(o=ej.a.Form)?void 0:o.defaultValidateMessages)||{}),l&&l.validateMessages&&(T=ew.a(ew.a({},T),l.validateMessages)),Object.keys(T).length>0&&(w=(0,b.createElement)(t3,{validateMessages:T},i)),u&&(w=(0,b.createElement)(ne,{locale:u,_ANT_MARK__:"internalMark"},w)),g&&(w=(0,b.createElement)(e6.a.Provider,{value:C},w)),d&&(w=(0,b.createElement)(nt.a,{size:d},w)),(0,b.createElement)(eG.b.Provider,{value:k},w)},rm=function(e){return(0,b.useEffect)(function(){e.direction&&(n0.config({rtl:"rtl"===e.direction}),rn.config({rtl:"rtl"===e.direction}))},[e.direction]),(0,b.createElement)(ez.a,null,function(t,n,r){return(0,b.createElement)(eG.a,null,function(t){return(0,b.createElement)(rv,ew.a({parentContext:t,legacyLocale:r},e))})})};rm.ConfigContext=eG.b,rm.SizeContext=nt.b,rm.config=function(e){var t=e.prefixCls,n=e.iconPrefixCls,r=e.theme;void 0!==t&&(y=t),void 0!==n&&(g=n),r&&function(e,t){var n={},r=function(e,t){var n=e.clone();return(n=(null==t?void 0:t(n))||n).toRgbString()},a=function(e,t){var a=new rs(e),o=rl.a(a.toRgbString());n["".concat(t,"-color")]=r(a),n["".concat(t,"-color-disabled")]=o[1],n["".concat(t,"-color-hover")]=o[4],n["".concat(t,"-color-active")]=o[7],n["".concat(t,"-color-outline")]=a.clone().setAlpha(.2).toRgbString(),n["".concat(t,"-color-deprecated-bg")]=o[1],n["".concat(t,"-color-deprecated-border")]=o[3]};if(t.primaryColor){a(t.primaryColor,"primary");var o=new rs(t.primaryColor),i=rl.a(o.toRgbString());i.forEach(function(e,t){n["primary-".concat(t+1)]=e}),n["primary-color-deprecated-l-35"]=r(o,function(e){return e.lighten(35)}),n["primary-color-deprecated-l-20"]=r(o,function(e){return e.lighten(20)}),n["primary-color-deprecated-t-20"]=r(o,function(e){return e.tint(20)}),n["primary-color-deprecated-t-50"]=r(o,function(e){return e.tint(50)}),n["primary-color-deprecated-f-12"]=r(o,function(e){return e.setAlpha(.12*e.getAlpha())});var c=new rs(i[0]);n["primary-color-active-deprecated-f-30"]=r(c,function(e){return e.setAlpha(.3*e.getAlpha())}),n["primary-color-active-deprecated-d-02"]=r(c,function(e){return e.darken(2)})}t.successColor&&a(t.successColor,"success"),t.warningColor&&a(t.warningColor,"warning"),t.errorColor&&a(t.errorColor,"error"),t.infoColor&&a(t.infoColor,"info");var s=Object.keys(n).map(function(t){return"--".concat(e,"-").concat(t,": ").concat(n[t],";")});rr.a("\n  :root {\n    ".concat(s.join("\n"),"\n  }\n  "),"".concat(ru,"-dynamic-theme"))}(rf(),r)};var r_=rm,rg=function(e){var t=e.icon,n=e.onCancel,r=e.onOk,a=e.close,o=e.zIndex,i=e.afterClose,c=e.visible,s=e.keyboard,l=e.centered,u=e.getContainer,d=e.maskStyle,f=e.okText,p=e.okButtonProps,h=e.cancelText,v=e.cancelButtonProps,m=e.direction,_=e.prefixCls,g=e.rootPrefixCls,y=e.iconPrefixCls,E=e.bodyStyle,k=e.closable,C=e.closeIcon,w=e.modalRender,T=e.focusTriggerAfterClose;e2.a(!("string"==typeof t&&t.length>2),"Modal","`icon` is using ReactNode instead of string naming in v4. Please check `".concat(t,"` at https://ant.design/components/icon"));var O=e.okType||"primary",x="".concat(_,"-confirm"),A=!("okCancel"in e)||e.okCancel,S=e.width||416,P=e.style||{},R=void 0===e.mask||e.mask,N=void 0!==e.maskClosable&&e.maskClosable,I=null!==e.autoFocusButton&&(e.autoFocusButton||"ok"),D=X()(x,"".concat(x,"-").concat(e.type),ea.a({},"".concat(x,"-rtl"),"rtl"===m),e.className),F=A&&(0,b.createElement)(e1,{actionFn:n,close:a,autoFocus:"cancel"===I,buttonProps:v,prefixCls:"".concat(g,"-btn")},h);return(0,b.createElement)(rm,{prefixCls:g,iconPrefixCls:y,direction:m},(0,b.createElement)(eq,{prefixCls:_,className:D,wrapClassName:X()(ea.a({},"".concat(x,"-centered"),!!e.centered)),onCancel:function(){return a({triggerCancel:!0})},visible:c,title:"",footer:"",transitionName:e$.b(g,"zoom",e.transitionName),maskTransitionName:e$.b(g,"fade",e.maskTransitionName),mask:R,maskClosable:N,maskStyle:d,style:P,bodyStyle:E,width:S,zIndex:o,afterClose:i,keyboard:s,centered:l,getContainer:u,closable:void 0!==k&&k,closeIcon:C,modalRender:w,focusTriggerAfterClose:T},(0,b.createElement)("div",{className:"".concat(x,"-body-wrapper")},(0,b.createElement)("div",{className:"".concat(x,"-body")},t,void 0===e.title?null:(0,b.createElement)("span",{className:"".concat(x,"-title")},e.title),(0,b.createElement)("div",{className:"".concat(x,"-content")},e.content)),(0,b.createElement)("div",{className:"".concat(x,"-btns")},F,(0,b.createElement)(e1,{type:O,actionFn:r,close:a,autoFocus:"ok"===I,buttonProps:p,prefixCls:"".concat(g,"-btn")},f)))))},ry=[],rb=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)0>t.indexOf(r[a])&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function rE(e){var t=document.createDocumentFragment(),n=ew.a(ew.a({},e),{close:o,visible:!0});function r(){x.unmountComponentAtNode(t);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var i=r.some(function(e){return e&&e.triggerCancel});e.onCancel&&i&&e.onCancel.apply(e,r);for(var c=0;c<ry.length;c++)if(ry[c]===o){ry.splice(c,1);break}}function a(e){var n=e.okText,r=e.cancelText,a=e.prefixCls,o=rb(e,["okText","cancelText","prefixCls"]);setTimeout(function(){var e=eU,i=rh(),c=i.getPrefixCls,s=i.getIconPrefixCls,l=c(void 0,rx),u=a||"".concat(l,"-modal"),d=s();x.render((0,b.createElement)(rg,ew.a({},o,{prefixCls:u,rootPrefixCls:l,iconPrefixCls:d,okText:n||(o.okCancel?e.okText:e.justOkText),cancelText:r||e.cancelText})),t)})}function o(){for(var t=this,o=arguments.length,i=Array(o),c=0;c<o;c++)i[c]=arguments[c];a(n=ew.a(ew.a({},n),{visible:!1,afterClose:function(){"function"==typeof e.afterClose&&e.afterClose(),r.apply(t,i)}}))}return a(n),ry.push(o),{destroy:o,update:function(e){a(n="function"==typeof e?e(n):ew.a(ew.a({},n),e))}}}function rk(e){return ew.a(ew.a({icon:(0,b.createElement)(eQ.a,null),okCancel:!1},e),{type:"warning"})}function rC(e){return ew.a(ew.a({icon:(0,b.createElement)(eZ.a,null),okCancel:!1},e),{type:"info"})}function rw(e){return ew.a(ew.a({icon:(0,b.createElement)(eJ.a,null),okCancel:!1},e),{type:"success"})}function rT(e){return ew.a(ew.a({icon:(0,b.createElement)(eX.a,null),okCancel:!1},e),{type:"error"})}function rO(e){return ew.a(ew.a({icon:(0,b.createElement)(eQ.a,null),okCancel:!0},e),{type:"confirm"})}var rx="",rA=(0,b.forwardRef)(function(e,t){var n=e.afterClose,r=e.config,a=(0,b.useState)(!0),o=er.a(a,2),i=o[0],c=o[1],s=(0,b.useState)(r),l=er.a(s,2),u=l[0],d=l[1],f=(0,b.useContext)(eG.b),p=f.direction,h=f.getPrefixCls,v=h("modal"),m=h(),_=function(){c(!1);for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.some(function(e){return e&&e.triggerCancel});u.onCancel&&r&&u.onCancel()};return(0,b.useImperativeHandle)(t,function(){return{destroy:_,update:function(e){d(function(t){return ew.a(ew.a({},t),e)})}}}),(0,b.createElement)(ez.a,{componentName:"Modal",defaultLocale:ej.a.Modal},function(e){return(0,b.createElement)(rg,ew.a({prefixCls:v,rootPrefixCls:m},u,{close:_,visible:i,afterClose:n,okText:u.okText||(u.okCancel?e.okText:e.justOkText),direction:p,cancelText:u.cancelText||e.cancelText}))})}),rS=0,rP=(0,b.memo)((0,b.forwardRef)(function(e,t){var n,r,a,o,i=(n=(0,b.useState)([]),a=(r=er.a(n,2))[0],o=r[1],[a,(0,b.useCallback)(function(e){return o(function(t){return[].concat(U.a(t),[e])}),function(){o(function(t){return t.filter(function(t){return t!==e})})}},[])]),c=er.a(i,2),s=c[0],l=c[1];return(0,b.useImperativeHandle)(t,function(){return{patchElement:l}},[]),(0,b.createElement)(b.Fragment,null,s)}));function rR(e){return rE(rk(e))}var rN=eq;rN.useModal=function(){var e=(0,b.useRef)(null),t=(0,b.useState)([]),n=er.a(t,2),r=n[0],a=n[1];(0,b.useEffect)(function(){r.length&&(U.a(r).forEach(function(e){e()}),a([]))},[r]);var o=(0,b.useCallback)(function(t){return function(n){rS+=1;var r,o,i=(0,b.createRef)(),c=(0,b.createElement)(rA,{key:"modal-".concat(rS),config:t(n),ref:i,afterClose:function(){o()}});return o=null==(r=e.current)?void 0:r.patchElement(c),{destroy:function(){function e(){var e;null!=(e=i.current)&&e.destroy()}i.current?e():a(function(t){return[].concat(U.a(t),[e])})},update:function(e){function t(){var t;null!=(t=i.current)&&t.update(e)}i.current?t():a(function(e){return[].concat(U.a(e),[t])})}}}},[]);return[(0,b.useMemo)(function(){return{info:o(rC),success:o(rw),error:o(rT),warning:o(rk),confirm:o(rO)}},[]),(0,b.createElement)(rP,{ref:e})]},rN.info=function(e){return rE(rC(e))},rN.success=function(e){return rE(rw(e))},rN.error=function(e){return rE(rT(e))},rN.warning=rR,rN.warn=rR,rN.confirm=function(e){return rE(rO(e))},rN.destroyAll=function(){for(;ry.length;){var e=ry.pop();e&&e()}},rN.config=function(e){var t=e.rootPrefixCls;e2.a(!1,"Modal","Modal.config is deprecated. Please use ConfigProvider.config instead."),rx=t}},62073(e,t,n){"use strict";var r=n(90550),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},c={};function s(e){return r.isMemo(e)?i:c[e.$$typeof]||a}c[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},c[r.Memo]=i;var l=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(h){var a=p(n);a&&a!==h&&e(t,a,r)}var i=u(n);d&&(i=i.concat(d(n)));for(var c=s(t),v=s(n),m=0;m<i.length;++m){var _=i[m];if(!o[_]&&(!r||!r[_])&&(!v||!v[_])&&(!c||!c[_])){var g=f(n,_);try{l(t,_,g)}catch(e){}}}}return t}},61041(e,t,n){"use strict";n.d(t,{a:()=>s,b:()=>c});var r=n(41594),a=n(62073),o=n.n(a);n(68506),o();var i=(0,r.createContext)(null);i.Consumer;var c=i.Provider,s=i},90977(e){"use strict";e.exports=function(e,t){if(e===t)return!0;if(!e||!t)return!1;var n=Object.keys(e),r=Object.keys(t),a=n.length;if(r.length!==a)return!1;for(var o=0;o<a;o++){var i=n[o];if(e[i]!==t[i]||!Object.prototype.hasOwnProperty.call(t,i))return!1}return!0}},69384(e,t,n){"use strict";var r,a,o,i;function c(e){return e.type===r.literal}function s(e){return e.type===r.argument}function l(e){return e.type===r.number}function u(e){return e.type===r.date}function d(e){return e.type===r.time}function f(e){return e.type===r.select}function p(e){return e.type===r.plural}function h(e){return e.type===r.pound}function v(e){return e.type===r.tag}function m(e){return!(!e||"object"!=typeof e||0!==e.type)}function _(e){return!(!e||"object"!=typeof e||1!==e.type)}n.d(t,{a:()=>r,b:()=>s,c:()=>u,d:()=>_,e:()=>c,f:()=>l,g:()=>m,h:()=>p,i:()=>h,j:()=>f,k:()=>v,l:()=>d}),(o=r||(r={}))[o.literal=0]="literal",o[o.argument=1]="argument",o[o.number=2]="number",o[o.date=3]="date",o[o.time=4]="time",o[o.select=5]="select",o[o.plural=6]="plural",o[o.pound=7]="pound",o[o.tag=8]="tag",(i=a||(a={}))[i.number=0]="number",i[i.dateTime=1]="dateTime"},88713(e,t,n){"use strict";n.d(t,{a:()=>function e(t,n,r,a,s,l,u){if(1===t.length&&o.e(t[0]))return[{type:0,value:t[0].value}];for(var d=[],f=0;f<t.length;f++){var p=t[f];if(o.e(p))d.push({type:0,value:p.value});else if(o.i(p))"number"==typeof l&&d.push({type:0,value:r.getNumberFormat(n).format(l)});else{var h=p.value;if(!s||!(h in s))throw new i.d(h,u);var v=s[h];if(o.b(p))v&&"string"!=typeof v&&"number"!=typeof v||(v="string"==typeof v||"number"==typeof v?String(v):""),d.push({type:+("string"!=typeof v),value:v});else if(o.c(p)){var m="string"==typeof p.style?a.date[p.style]:o.d(p.style)?p.style.parsedOptions:void 0;d.push({type:0,value:r.getDateTimeFormat(n,m).format(v)})}else if(o.l(p))m="string"==typeof p.style?a.time[p.style]:o.d(p.style)?p.style.parsedOptions:void 0,d.push({type:0,value:r.getDateTimeFormat(n,m).format(v)});else if(o.f(p))m="string"==typeof p.style?a.number[p.style]:o.g(p.style)?p.style.parsedOptions:void 0,d.push({type:0,value:r.getNumberFormat(n,m).format(v)});else{if(o.k(p)){var _,g=p.children,y=p.value,b=s[y];if(!c(b))throw new i.c(y,"function",u);var E=b(e(g,n,r,a,s,l).map(function(e){return e.value}));Array.isArray(E)||(E=[E]),d.push.apply(d,E.map(function(e){return{type:+("string"!=typeof e),value:e}}))}if(o.j(p)){if(!(_=p.options[v]||p.options.other))throw new i.b(p.value,v,Object.keys(p.options),u);d.push.apply(d,e(_.value,n,r,a,s))}else if(o.h(p)){if(!(_=p.options["="+v])){if(!Intl.PluralRules)throw new i.a('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',"MISSING_INTL_API",u);var k=r.getPluralRules(n,{type:p.pluralType}).select(v-(p.offset||0));_=p.options[k]||p.options.other}if(!_)throw new i.b(p.value,v,Object.keys(p.options),u);d.push.apply(d,e(_.value,n,r,a,s,v-(p.offset||0)))}}}}return d.length<2?d:d.reduce(function(e,t){var n=e[e.length-1];return n&&0===n.type&&0===t.type?n.value+=t.value:e.push(t),e},[])},b:()=>c});var r,a,o=n(69384),i=n(8620);function c(e){return"function"==typeof e}(r=a||(a={}))[r.literal=0]="literal",r[r.object=1]="object"},85600(e,t,n){"use strict";function r(e,t,n){if(void 0===n&&(n=Error),!e)throw new n(t)}n.d(t,{a:()=>r})},46836(e){function t(e,t,n,r){var a=null==r||"number"==typeof r||"boolean"==typeof r?r:n(r),o=t.get(a);return void 0===o&&(o=e.call(this,r),t.set(a,o)),o}function n(e,t,n){var r=Array.prototype.slice.call(arguments,3),a=n(r),o=t.get(a);return void 0===o&&(o=e.apply(this,r),t.set(a,o)),o}function r(){return JSON.stringify(arguments)}function a(){this.cache=Object.create(null)}a.prototype.has=function(e){return e in this.cache},a.prototype.get=function(e){return this.cache[e]},a.prototype.set=function(e,t){this.cache[e]=t};var o={create:function(){return new a}};e.exports=function(e,a){var i=a&&a.cache?a.cache:o,c=a&&a.serializer?a.serializer:r;return(a&&a.strategy?a.strategy:function(e,r){var a,o,i;return a=1===e.length?t:n,o=r.cache.create(),i=r.serializer,a.bind(this,e,o,i)})(e,{cache:i,serializer:c})},e.exports.strategies={variadic:function(e,t){var r,a;return r=t.cache.create(),a=t.serializer,n.bind(this,e,r,a)},monadic:function(e,n){var r,a;return r=n.cache.create(),a=n.serializer,t.bind(this,e,r,a)}}},15355(e,t,n){"use strict";n.d(t,{a:()=>y});var r=n(35338),a=n(69384),o=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g,i=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,c=/^(@+)?(\+|#+)?$/g;function s(e){var t={};return e.replace(c,function(e,n,r){return"string"!=typeof r?(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length):"+"===r?t.minimumSignificantDigits=n.length:"#"===n[0]?t.maximumSignificantDigits=n.length:(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length+("string"==typeof r?r.length:0)),""}),t}function l(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":return{currencySign:"accounting"};case"sign-always":return{signDisplay:"always"};case"sign-accounting-always":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":return{signDisplay:"never"}}}var u=function(e){function t(n,r,a,o){var i=e.call(this)||this;return i.message=n,i.expected=r,i.found=a,i.location=o,i.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(i,t),i}return r.b(t,e),t.buildMessage=function(e,t){function n(e){return e.charCodeAt(0).toString(16).toUpperCase()}function r(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+n(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+n(e)})}function a(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+n(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+n(e)})}function o(e){switch(e.type){case"literal":return'"'+r(e.text)+'"';case"class":var t=e.parts.map(function(e){return Array.isArray(e)?a(e[0])+"-"+a(e[1]):a(e)});return"["+(e.inverted?"^":"")+t+"]";case"any":return"any character";case"end":return"end of input";case"other":return e.description}}return"Expected "+function(e){var t,n,r=e.map(o);if(r.sort(),r.length>0){for(t=1,n=1;t<r.length;t++)r[t-1]!==r[t]&&(r[n]=r[t],n++);r.length=n}switch(r.length){case 1:return r[0];case 2:return r[0]+" or "+r[1];default:return r.slice(0,-1).join(", ")+", or "+r[r.length-1]}}(e)+" but "+(t?'"'+r(t)+'"':"end of input")+" found."},t}(Error),d=function(e,t){t=void 0!==t?t:{};var n,d,f,p,h={},v={start:eL},m=eL,_=eP("<",!1),g=function(e){return e.join("")},y=eP("#",!1),b=eN("tagElement"),E=eP("/>",!1),k=eP(">",!1),C=eP("</",!1),w=eN("argumentElement"),T=eP("{",!1),O=eP("}",!1),x=eN("numberSkeletonId"),A=/^['\/{}]/,S=eR(["'","/","{","}"],!1,!1),P={type:"any"},R=eN("numberSkeletonTokenOption"),N=eP("/",!1),I=eN("numberSkeletonToken"),D=eP("::",!1),F=function(e){return e9.pop(),e.replace(/\s*$/,"")},L=eP(",",!1),M=eP("number",!1),B=function(e,t,n){return r.a({type:"number"===t?a.a.number:"date"===t?a.a.date:a.a.time,style:n&&n[2],value:e},te())},j=eP("'",!1),U=/^[^']/,W=eR(["'"],!0,!1),V=/^[^a-zA-Z'{}]/,K=eR([["a","z"],["A","Z"],"'","{","}"],!0,!1),z=/^[a-zA-Z]/,G=eR([["a","z"],["A","Z"]],!1,!1),Y=eP("date",!1),$=eP("time",!1),H=eP("plural",!1),q=eP("selectordinal",!1),Z=eP("offset:",!1),J=eP("select",!1),X=eP("=",!1),Q=eN("whitespace"),ee=/^[\t-\r \x85\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,et=eR([["	","\r"]," ","\x85","\xa0"," ",[" "," "],"\u2028","\u2029"," "," ","　"],!1,!1),en=eN("syntax pattern"),er=/^[!-\/:-@[-\^`{-~\xA1-\xA7\xA9\xAB\xAC\xAE\xB0\xB1\xB6\xBB\xBF\xD7\xF7\u2010-\u2027\u2030-\u203E\u2041-\u2053\u2055-\u205E\u2190-\u245F\u2500-\u2775\u2794-\u2BFF\u2E00-\u2E7F\u3001-\u3003\u3008-\u3020\u3030\uFD3E\uFD3F\uFE45\uFE46]/,ea=eR([["!","/"],[":","@"],["[","^"],"`",["{","~"],["\xa1","\xa7"],"\xa9","\xab","\xac","\xae","\xb0","\xb1","\xb6","\xbb","\xbf","\xd7","\xf7",["‐","‧"],["‰","‾"],["⁁","⁓"],["⁕","⁞"],["←","⑟"],["─","❵"],["➔","⯿"],["⸀","⹿"],["、","〃"],["〈","〠"],"〰","﴾","﴿","﹅","﹆"],!1,!1),eo=eN("optional whitespace"),ei=eN("number"),ec=eP("-",!1);eN("apostrophe");var es=eN("double apostrophes"),el=eP("''",!1),eu=eP("\n",!1),ed=eN("argNameOrNumber"),ef=eN("validTag"),ep=eN("argNumber"),eh=eP("0",!1),ev=/^[1-9]/,em=eR([["1","9"]],!1,!1),e_=/^[0-9]/,eg=eR([["0","9"]],!1,!1),ey=eN("argName"),eb=eN("tagName"),eE=0,ek=0,eC=[{line:1,column:1}],ew=0,eT=[],eO=0;if(void 0!==t.startRule){if(!(t.startRule in v))throw Error("Can't start parsing from rule \""+t.startRule+'".');m=v[t.startRule]}function ex(){return e.substring(ek,eE)}function eA(){return eD(ek,eE)}function eS(e,t){throw new u(e,[],"",t=void 0!==t?t:eD(ek,eE))}function eP(e,t){return{type:"literal",text:e,ignoreCase:t}}function eR(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function eN(e){return{type:"other",description:e}}function eI(t){var n,r=eC[t];if(r)return r;for(n=t-1;!eC[n];)n--;for(r={line:(r=eC[n]).line,column:r.column};n<t;)10===e.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return eC[t]=r,r}function eD(e,t){var n=eI(e),r=eI(t);return{start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:r.line,column:r.column}}}function eF(e){eE<ew||(eE>ew&&(ew=eE,eT=[]),eT.push(e))}function eL(){return eM()}function eM(){var e,t;for(e=[],t=eB();t!==h;)e.push(t),t=eB();return e}function eB(){var t,n,u,d,f,p,v,m,_,g,E,k,C,x,A,S,P,R,N,I,j,U,W,V,K,z,G,X,Q,ee,et,en,er,ea,eo,ei,ec,es,el,eu,ed,ef,ep,eh;return(t=eE,ek=eE,(tt?h:void 0)!==h&&(eO++,(u=eW())===h&&(u=eE,(d=eV())!==h&&(f=eM())!==h&&(p=eK())!==h?(ek=u,m=f,(v=d)!==(_=p)&&eS('Mismatch tag "'+v+'" !== "'+_+'"',eA()),u=d=r.a({type:a.a.tag,value:v,children:m},te())):(eE=u,u=h)),eO--,u===h&&(d=h,0===eO&&eF(b)),(n=u)!==h))?(ek=t,t=n):(eE=t,t=h),t===h&&(g=eE,(E=ej())!==h&&(ek=g,k=E,E=r.a({type:a.a.literal,value:k},te())),(t=E)===h)&&(eO++,C=eE,123===e.charCodeAt(eE)?(x="{",eE++):(x=h,0===eO&&eF(T)),x!==h&&eQ()!==h&&(A=e4())!==h&&eQ()!==h?(125===e.charCodeAt(eE)?(S="}",eE++):(S=h,0===eO&&eF(O)),S!==h?(ek=C,P=A,C=x=r.a({type:a.a.argument,value:P},te())):(eE=C,C=h)):(eE=C,C=h),eO--,C===h&&(x=h,0===eO&&eF(w)),(t=C)===h)&&((j=eE,123===e.charCodeAt(eE)?(U="{",eE++):(U=h,0===eO&&eF(T)),U!==h&&eQ()!==h&&(W=e4())!==h&&eQ()!==h&&(44===e.charCodeAt(eE)?(V=",",eE++):(V=h,0===eO&&eF(L)),V!==h&&eQ()!==h&&("number"===e.substr(eE,6)?(K="number",eE+=6):(K=h,0===eO&&eF(M)),K!==h&&eQ()!==h)))?((z=eE,44===e.charCodeAt(eE)?(G=",",eE++):(G=h,0===eO&&eF(L)),G!==h&&(X=eQ())!==h&&(ee=eE,"::"===e.substr(eE,2)?(et="::",eE+=2):(et=h,0===eO&&eF(D)),et!==h&&(en=function(){var e,t,n,a;if(e=eE,t=[],(n=eY())!==h)for(;n!==h;)t.push(n),n=eY();else t=h;return t!==h&&(ek=e,a=t,t=r.a({type:0,tokens:a,parsedOptions:tn?function(e){for(var t={},n=0;n<e.length;n++){var a=e[n];switch(a.stem){case"percent":t.style="percent";continue;case"currency":t.style="currency",t.currency=a.options[0];continue;case"group-off":t.useGrouping=!1;continue;case"precision-integer":case".":t.maximumFractionDigits=0;continue;case"measure-unit":t.style="unit",t.unit=a.options[0].replace(/^(.*?)-/,"");continue;case"compact-short":t.notation="compact",t.compactDisplay="short";continue;case"compact-long":t.notation="compact",t.compactDisplay="long";continue;case"scientific":t=r.a(r.a(r.a({},t),{notation:"scientific"}),a.options.reduce(function(e,t){return r.a(r.a({},e),l(t)||{})},{}));continue;case"engineering":t=r.a(r.a(r.a({},t),{notation:"engineering"}),a.options.reduce(function(e,t){return r.a(r.a({},e),l(t)||{})},{}));continue;case"notation-simple":t.notation="standard";continue;case"unit-width-narrow":t.currencyDisplay="narrowSymbol",t.unitDisplay="narrow";continue;case"unit-width-short":t.currencyDisplay="code",t.unitDisplay="short";continue;case"unit-width-full-name":t.currencyDisplay="name",t.unitDisplay="long";continue;case"unit-width-iso-code":t.currencyDisplay="symbol";continue}if(i.test(a.stem)){if(a.options.length>1)throw RangeError("Fraction-precision stems only accept a single optional option");a.stem.replace(i,function(e,n,r,a,o,i){return"*"===r?t.minimumFractionDigits=n.length:a&&"#"===a[0]?t.maximumFractionDigits=a.length:o&&i?(t.minimumFractionDigits=o.length,t.maximumFractionDigits=o.length+i.length):(t.minimumFractionDigits=n.length,t.maximumFractionDigits=n.length),""}),a.options.length&&(t=r.a(r.a({},t),s(a.options[0])))}else if(c.test(a.stem))t=r.a(r.a({},t),s(a.stem));else{var o=l(a.stem);o&&(t=r.a(r.a({},t),o))}}return t}(a):{}},te())),t}())!==h?(ek=ee,ee=et=en):(eE=ee,ee=h),ee===h&&(ee=eE,ek=eE,e9.push("numberArgStyle"),(et=!0,(et=void 0)!==h&&(en=ej())!==h)?(ek=ee,ee=et=F(en)):(eE=ee,ee=h)),(Q=ee)!==h))?z=G=[G,X,Q]:(eE=z,z=h),z===h&&(z=null),z!==h&&(G=eQ())!==h?(125===e.charCodeAt(eE)?(X="}",eE++):(X=h,0===eO&&eF(O)),X!==h?(ek=j,j=U=B(W,K,z)):(eE=j,j=h)):(eE=j,j=h)):(eE=j,j=h),(R=j)===h&&((er=eE,123===e.charCodeAt(eE)?(ea="{",eE++):(ea=h,0===eO&&eF(T)),ea!==h&&eQ()!==h&&(eo=e4())!==h&&eQ()!==h&&(44===e.charCodeAt(eE)?(ei=",",eE++):(ei=h,0===eO&&eF(L)),ei!==h&&eQ()!==h&&("date"===e.substr(eE,4)?(ec="date",eE+=4):(ec=h,0===eO&&eF(Y)),ec===h&&("time"===e.substr(eE,4)?(ec="time",eE+=4):(ec=h,0===eO&&eF($))),ec!==h&&eQ()!==h)))?((es=eE,44===e.charCodeAt(eE)?(el=",",eE++):(el=h,0===eO&&eF(L)),el!==h&&(eu=eQ())!==h&&(ef=eE,"::"===e.substr(eE,2)?(ep="::",eE+=2):(ep=h,0===eO&&eF(D)),ep!==h&&(eh=function(){var t,n,a,i,c,s;if(t=eE,n=eE,a=[],(i=e$())===h&&(i=eH()),i!==h)for(;i!==h;)a.push(i),(i=e$())===h&&(i=eH());else a=h;return(n=a!==h?e.substring(n,eE):a)!==h&&(ek=t,c=n,n=r.a({type:1,pattern:c,parsedOptions:tn?(s={},c.replace(o,function(e){var t=e.length;switch(e[0]){case"G":s.era=4===t?"long":5===t?"narrow":"short";break;case"y":s.year=2===t?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":s.month=["numeric","2-digit","short","long","narrow"][t-1];break;case"w":case"W":throw RangeError("`w/W` (week) patterns are not supported");case"d":s.day=["numeric","2-digit"][t-1];break;case"D":case"F":case"g":throw RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":s.weekday=4===t?"short":5===t?"narrow":"short";break;case"e":if(t<4)throw RangeError("`e..eee` (weekday) patterns are not supported");s.weekday=["short","long","narrow","short"][t-4];break;case"c":if(t<4)throw RangeError("`c..ccc` (weekday) patterns are not supported");s.weekday=["short","long","narrow","short"][t-4];break;case"a":s.hour12=!0;break;case"b":case"B":throw RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":s.hourCycle="h12",s.hour=["numeric","2-digit"][t-1];break;case"H":s.hourCycle="h23",s.hour=["numeric","2-digit"][t-1];break;case"K":s.hourCycle="h11",s.hour=["numeric","2-digit"][t-1];break;case"k":s.hourCycle="h24",s.hour=["numeric","2-digit"][t-1];break;case"j":case"J":case"C":throw RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":s.minute=["numeric","2-digit"][t-1];break;case"s":s.second=["numeric","2-digit"][t-1];break;case"S":case"A":throw RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":s.timeZoneName=t<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""}),s):{}},te())),n}())!==h?(ek=ef,ef=ep=eh):(eE=ef,ef=h),ef===h&&(ef=eE,ek=eE,e9.push("dateOrTimeArgStyle"),(ep=!0,(ep=void 0)!==h&&(eh=ej())!==h)?(ek=ef,ef=ep=F(eh)):(eE=ef,ef=h)),(ed=ef)!==h))?es=el=[el,eu,ed]:(eE=es,es=h),es===h&&(es=null),es!==h&&(el=eQ())!==h?(125===e.charCodeAt(eE)?(eu="}",eE++):(eu=h,0===eO&&eF(O)),eu!==h?(ek=er,er=ea=B(eo,ec,es)):(eE=er,er=h)):(eE=er,er=h)):(eE=er,er=h),R=er),(t=R)===h)&&(t=function(){var t,n,o,i,c,s,l,u,d,f,p,v,m,_;if(t=eE,123===e.charCodeAt(eE)?(n="{",eE++):(n=h,0===eO&&eF(T)),n!==h)if(eQ()!==h)if((o=e4())!==h)if(eQ()!==h)if(44===e.charCodeAt(eE)?(i=",",eE++):(i=h,0===eO&&eF(L)),i!==h)if(eQ()!==h)if("plural"===e.substr(eE,6)?(c="plural",eE+=6):(c=h,0===eO&&eF(H)),c===h&&("selectordinal"===e.substr(eE,13)?(c="selectordinal",eE+=13):(c=h,0===eO&&eF(q))),c!==h)if(eQ()!==h)if(44===e.charCodeAt(eE)?(s=",",eE++):(s=h,0===eO&&eF(L)),s!==h)if(eQ()!==h)if(l=eE,"offset:"===e.substr(eE,7)?(u="offset:",eE+=7):(u=h,0===eO&&eF(Z)),u!==h&&(d=eQ())!==h&&(f=e0())!==h?l=u=[u,d,f]:(eE=l,l=h),l===h&&(l=null),l!==h)if((u=eQ())!==h){if(d=[],(f=eZ())!==h)for(;f!==h;)d.push(f),f=eZ();else d=h;d!==h&&(f=eQ())!==h&&(125===e.charCodeAt(eE)?(p="}",eE++):(p=h,0===eO&&eF(O)),p!==h)?(ek=t,v=c,m=l,_=d,t=n=r.a({type:a.a.plural,pluralType:"plural"===v?"cardinal":"ordinal",value:o,offset:m?m[2]:0,options:_.reduce(function(e,t){var n=t.id,r=t.value,a=t.location;return n in e&&eS('Duplicate option "'+n+'" in plural element: "'+ex()+'"',eA()),e[n]={value:r,location:a},e},{})},te())):(eE=t,t=h)}else eE=t,t=h;else eE=t,t=h;else eE=t,t=h;else eE=t,t=h;else eE=t,t=h;else eE=t,t=h;else eE=t,t=h;else eE=t,t=h;else eE=t,t=h;else eE=t,t=h;else eE=t,t=h;else eE=t,t=h;return t}())===h&&(t=function(){var t,n,o,i,c,s,l,u,d,f;if(t=eE,123===e.charCodeAt(eE)?(n="{",eE++):(n=h,0===eO&&eF(T)),n!==h)if(eQ()!==h)if((o=e4())!==h)if(eQ()!==h)if(44===e.charCodeAt(eE)?(i=",",eE++):(i=h,0===eO&&eF(L)),i!==h)if(eQ()!==h)if("select"===e.substr(eE,6)?(c="select",eE+=6):(c=h,0===eO&&eF(J)),c!==h)if(eQ()!==h)if(44===e.charCodeAt(eE)?(s=",",eE++):(s=h,0===eO&&eF(L)),s!==h)if(eQ()!==h){if(l=[],(u=eq())!==h)for(;u!==h;)l.push(u),u=eq();else l=h;l!==h&&(u=eQ())!==h&&(125===e.charCodeAt(eE)?(d="}",eE++):(d=h,0===eO&&eF(O)),d!==h)?(ek=t,f=l,t=n=r.a({type:a.a.select,value:o,options:f.reduce(function(e,t){var n=t.id,r=t.value,a=t.location;return n in e&&eS('Duplicate option "'+n+'" in select element: "'+ex()+'"',eA()),e[n]={value:r,location:a},e},{})},te())):(eE=t,t=h)}else eE=t,t=h;else eE=t,t=h;else eE=t,t=h;else eE=t,t=h;else eE=t,t=h;else eE=t,t=h;else eE=t,t=h;else eE=t,t=h;else eE=t,t=h;else eE=t,t=h;return t}())===h&&(N=eE,35===e.charCodeAt(eE)?(I="#",eE++):(I=h,0===eO&&eF(y)),I!==h&&(ek=N,I=r.a({type:a.a.pound},te())),t=I),t}function ej(){var t,n,r,a;if(t=eE,ek=eE,(n=(n=tt)?void 0:h)!==h){if(r=[],(a=e1())===h&&(a=e2())===h&&(a=e6())===h&&(60===e.charCodeAt(eE)?(a="<",eE++):(a=h,0===eO&&eF(_))),a!==h)for(;a!==h;)r.push(a),(a=e1())===h&&(a=e2())===h&&(a=e6())===h&&(60===e.charCodeAt(eE)?(a="<",eE++):(a=h,0===eO&&eF(_)));else r=h;r!==h?(ek=t,t=n=g(r)):(eE=t,t=h)}else eE=t,t=h;if(t===h){if(t=eE,n=[],(r=e1())===h&&(r=e2())===h&&(r=e6())===h&&(r=eU()),r!==h)for(;r!==h;)n.push(r),(r=e1())===h&&(r=e2())===h&&(r=e6())===h&&(r=eU());else n=h;n!==h&&(ek=t,n=g(n)),t=n}return t}function eU(){var t,n,r;return t=eE,n=eE,eO++,(r=eV())===h&&(r=eK())===h&&(r=eW()),eO--,r===h?n=void 0:(eE=n,n=h),n!==h?(60===e.charCodeAt(eE)?(r="<",eE++):(r=h,0===eO&&eF(_)),r!==h?(ek=t,t=n="<"):(eE=t,t=h)):(eE=t,t=h),t}function eW(){var t,n,o,i,c,s,l;return t=eE,n=eE,60===e.charCodeAt(eE)?(o="<",eE++):(o=h,0===eO&&eF(_)),o!==h&&(i=e3())!==h&&(c=eQ())!==h?("/>"===e.substr(eE,2)?(s="/>",eE+=2):(s=h,0===eO&&eF(E)),s!==h?n=o=[o,i,c,s]:(eE=n,n=h)):(eE=n,n=h),n!==h&&(ek=t,l=n,n=r.a({type:a.a.literal,value:l.join("")},te())),n}function eV(){var t,n,r,a;return t=eE,60===e.charCodeAt(eE)?(n="<",eE++):(n=h,0===eO&&eF(_)),n!==h&&(r=e3())!==h?(62===e.charCodeAt(eE)?(a=">",eE++):(a=h,0===eO&&eF(k)),a!==h?(ek=t,t=n=r):(eE=t,t=h)):(eE=t,t=h),t}function eK(){var t,n,r,a;return t=eE,"</"===e.substr(eE,2)?(n="</",eE+=2):(n=h,0===eO&&eF(C)),n!==h&&(r=e3())!==h?(62===e.charCodeAt(eE)?(a=">",eE++):(a=h,0===eO&&eF(k)),a!==h?(ek=t,t=n=r):(eE=t,t=h)):(eE=t,t=h),t}function ez(){var t,n,r,a,o;if(eO++,t=eE,n=[],r=eE,a=eE,eO++,(o=eJ())===h&&(A.test(e.charAt(eE))?(o=e.charAt(eE),eE++):(o=h,0===eO&&eF(S))),eO--,o===h?a=void 0:(eE=a,a=h),a!==h?(e.length>eE?(o=e.charAt(eE),eE++):(o=h,0===eO&&eF(P)),o!==h?r=a=[a,o]:(eE=r,r=h)):(eE=r,r=h),r!==h)for(;r!==h;)n.push(r),r=eE,a=eE,eO++,(o=eJ())===h&&(A.test(e.charAt(eE))?(o=e.charAt(eE),eE++):(o=h,0===eO&&eF(S))),eO--,o===h?a=void 0:(eE=a,a=h),a!==h?(e.length>eE?(o=e.charAt(eE),eE++):(o=h,0===eO&&eF(P)),o!==h?r=a=[a,o]:(eE=r,r=h)):(eE=r,r=h);else n=h;return t=n!==h?e.substring(t,eE):n,eO--,t===h&&(n=h,0===eO&&eF(x)),t}function eG(){var t,n,r;return eO++,t=eE,47===e.charCodeAt(eE)?(n="/",eE++):(n=h,0===eO&&eF(N)),n!==h&&(r=ez())!==h?(ek=t,t=n=r):(eE=t,t=h),eO--,t===h&&(n=h,0===eO&&eF(R)),t}function eY(){var e,t,n,r;if(eO++,e=eE,eQ()!==h)if((t=ez())!==h){for(n=[],r=eG();r!==h;)n.push(r),r=eG();n!==h?(ek=e,e={stem:t,options:n}):(eE=e,e=h)}else eE=e,e=h;else eE=e,e=h;return eO--,e===h&&0===eO&&eF(I),e}function e$(){var t,n,r,a;if(t=eE,39===e.charCodeAt(eE)?(n="'",eE++):(n=h,0===eO&&eF(j)),n!==h){if(r=[],(a=e1())===h&&(U.test(e.charAt(eE))?(a=e.charAt(eE),eE++):(a=h,0===eO&&eF(W))),a!==h)for(;a!==h;)r.push(a),(a=e1())===h&&(U.test(e.charAt(eE))?(a=e.charAt(eE),eE++):(a=h,0===eO&&eF(W)));else r=h;r!==h?(39===e.charCodeAt(eE)?(a="'",eE++):(a=h,0===eO&&eF(j)),a!==h?t=n=[n,r,a]:(eE=t,t=h)):(eE=t,t=h)}else eE=t,t=h;if(t===h)if(t=[],(n=e1())===h&&(V.test(e.charAt(eE))?(n=e.charAt(eE),eE++):(n=h,0===eO&&eF(K))),n!==h)for(;n!==h;)t.push(n),(n=e1())===h&&(V.test(e.charAt(eE))?(n=e.charAt(eE),eE++):(n=h,0===eO&&eF(K)));else t=h;return t}function eH(){var t,n;if(t=[],z.test(e.charAt(eE))?(n=e.charAt(eE),eE++):(n=h,0===eO&&eF(G)),n!==h)for(;n!==h;)t.push(n),z.test(e.charAt(eE))?(n=e.charAt(eE),eE++):(n=h,0===eO&&eF(G));else t=h;return t}function eq(){var t,n,a,o,i,c,s;return t=eE,eQ()!==h&&(n=e8())!==h&&eQ()!==h?(123===e.charCodeAt(eE)?(a="{",eE++):(a=h,0===eO&&eF(T)),a!==h?(ek=eE,e9.push("select"),void 0!==h&&(o=eM())!==h?(125===e.charCodeAt(eE)?(i="}",eE++):(i=h,0===eO&&eF(O)),i!==h?(ek=t,c=n,s=o,e9.pop(),t=r.a({id:c,value:s},te())):(eE=t,t=h)):(eE=t,t=h)):(eE=t,t=h)):(eE=t,t=h),t}function eZ(){var t,n,a,o,i,c,s,l,u,d,f;return(t=eE,eQ()!==h&&(l=eE,u=eE,61===e.charCodeAt(eE)?(d="=",eE++):(d=h,0===eO&&eF(X)),d!==h&&(f=e0())!==h?u=d=[d,f]:(eE=u,u=h),(l=u!==h?e.substring(l,eE):u)===h&&(l=e8()),(n=l)!==h)&&eQ()!==h)?(123===e.charCodeAt(eE)?(a="{",eE++):(a=h,0===eO&&eF(T)),a!==h?(ek=eE,e9.push("plural"),void 0!==h&&(o=eM())!==h?(125===e.charCodeAt(eE)?(i="}",eE++):(i=h,0===eO&&eF(O)),i!==h?(ek=t,c=n,s=o,e9.pop(),t=r.a({id:c,value:s},te())):(eE=t,t=h)):(eE=t,t=h)):(eE=t,t=h)):(eE=t,t=h),t}function eJ(){var t;return eO++,ee.test(e.charAt(eE))?(t=e.charAt(eE),eE++):(t=h,0===eO&&eF(et)),eO--,t===h&&0===eO&&eF(Q),t}function eX(){var t;return eO++,er.test(e.charAt(eE))?(t=e.charAt(eE),eE++):(t=h,0===eO&&eF(ea)),eO--,t===h&&0===eO&&eF(en),t}function eQ(){var t,n,r;for(eO++,t=eE,n=[],r=eJ();r!==h;)n.push(r),r=eJ();return t=n!==h?e.substring(t,eE):n,eO--,t===h&&(n=h,0===eO&&eF(eo)),t}function e0(){var t,n,r,a,o;return eO++,t=eE,45===e.charCodeAt(eE)?(n="-",eE++):(n=h,0===eO&&eF(ec)),n===h&&(n=null),n!==h&&(r=e5())!==h?(ek=t,a=n,t=n=(o=r)?a?-o:o:0):(eE=t,t=h),eO--,t===h&&(n=h,0===eO&&eF(ei)),t}function e1(){var t,n;return eO++,t=eE,"''"===e.substr(eE,2)?(n="''",eE+=2):(n=h,0===eO&&eF(el)),n!==h&&(ek=t,n="'"),eO--,(t=n)===h&&(n=h,0===eO&&eF(es)),t}function e2(){var t,n,r,a,o,i,c,s,l,u,d;if(t=eE,39===e.charCodeAt(eE)?(n="'",eE++):(n=h,0===eO&&eF(j)),n!==h)if(c=eE,s=eE,e.length>eE?(l=e.charAt(eE),eE++):(l=h,0===eO&&eF(P)),l!==h?(ek=eE,(u=(u="<"===(d=l)||">"===d||"{"===d||"}"===d||e7()&&"#"===d)?void 0:h)!==h?s=l=[l,u]:(eE=s,s=h)):(eE=s,s=h),(r=c=s!==h?e.substring(c,eE):s)!==h){for(a=eE,o=[],"''"===e.substr(eE,2)?(i="''",eE+=2):(i=h,0===eO&&eF(el)),i===h&&(U.test(e.charAt(eE))?(i=e.charAt(eE),eE++):(i=h,0===eO&&eF(W)));i!==h;)o.push(i),"''"===e.substr(eE,2)?(i="''",eE+=2):(i=h,0===eO&&eF(el)),i===h&&(U.test(e.charAt(eE))?(i=e.charAt(eE),eE++):(i=h,0===eO&&eF(W)));(a=o!==h?e.substring(a,eE):o)!==h?(39===e.charCodeAt(eE)?(o="'",eE++):(o=h,0===eO&&eF(j)),o===h&&(o=null),o!==h?(ek=t,t=n=r+a.replace("''","'")):(eE=t,t=h)):(eE=t,t=h)}else eE=t,t=h;else eE=t,t=h;return t}function e6(){var t,n,r,a,o;return(t=eE,n=eE,e.length>eE?(r=e.charAt(eE),eE++):(r=h,0===eO&&eF(P)),r!==h&&(ek=eE,(a=(a="<"!==(o=r)&&"{"!==o&&!(e7()&&"#"===o)&&!(e9.length>1&&"}"===o))?void 0:h)!==h))?n=r=[r,a]:(eE=n,n=h),n===h&&(10===e.charCodeAt(eE)?(n="\n",eE++):(n=h,0===eO&&eF(eu))),n!==h?e.substring(t,eE):n}function e4(){var t,n;return eO++,t=eE,(n=e5())===h&&(n=e8()),t=n!==h?e.substring(t,eE):n,eO--,t===h&&(n=h,0===eO&&eF(ed)),t}function e3(){var t,n;return eO++,t=eE,(n=e5())===h&&(n=function(){var t,n,r,a,o;if(eO++,t=eE,n=[],45===e.charCodeAt(eE)?(r="-",eE++):(r=h,0===eO&&eF(ec)),r===h&&(r=eE,a=eE,eO++,(o=eJ())===h&&(o=eX()),eO--,o===h?a=void 0:(eE=a,a=h),a!==h?(e.length>eE?(o=e.charAt(eE),eE++):(o=h,0===eO&&eF(P)),o!==h?r=a=[a,o]:(eE=r,r=h)):(eE=r,r=h)),r!==h)for(;r!==h;)n.push(r),45===e.charCodeAt(eE)?(r="-",eE++):(r=h,0===eO&&eF(ec)),r===h&&(r=eE,a=eE,eO++,(o=eJ())===h&&(o=eX()),eO--,o===h?a=void 0:(eE=a,a=h),a!==h?(e.length>eE?(o=e.charAt(eE),eE++):(o=h,0===eO&&eF(P)),o!==h?r=a=[a,o]:(eE=r,r=h)):(eE=r,r=h));else n=h;return t=n!==h?e.substring(t,eE):n,eO--,t===h&&(n=h,0===eO&&eF(eb)),t}()),t=n!==h?e.substring(t,eE):n,eO--,t===h&&(n=h,0===eO&&eF(ef)),t}function e5(){var t,n,r,a,o;if(eO++,t=eE,48===e.charCodeAt(eE)?(n="0",eE++):(n=h,0===eO&&eF(eh)),n!==h&&(ek=t,n=0),(t=n)===h){if(t=eE,n=eE,ev.test(e.charAt(eE))?(r=e.charAt(eE),eE++):(r=h,0===eO&&eF(em)),r!==h){for(a=[],e_.test(e.charAt(eE))?(o=e.charAt(eE),eE++):(o=h,0===eO&&eF(eg));o!==h;)a.push(o),e_.test(e.charAt(eE))?(o=e.charAt(eE),eE++):(o=h,0===eO&&eF(eg));a!==h?n=r=[r,a]:(eE=n,n=h)}else eE=n,n=h;n!==h&&(ek=t,n=parseInt(n.join(""),10)),t=n}return eO--,t===h&&(n=h,0===eO&&eF(ep)),t}function e8(){var t,n,r,a,o;if(eO++,t=eE,n=[],r=eE,a=eE,eO++,(o=eJ())===h&&(o=eX()),eO--,o===h?a=void 0:(eE=a,a=h),a!==h?(e.length>eE?(o=e.charAt(eE),eE++):(o=h,0===eO&&eF(P)),o!==h?r=a=[a,o]:(eE=r,r=h)):(eE=r,r=h),r!==h)for(;r!==h;)n.push(r),r=eE,a=eE,eO++,(o=eJ())===h&&(o=eX()),eO--,o===h?a=void 0:(eE=a,a=h),a!==h?(e.length>eE?(o=e.charAt(eE),eE++):(o=h,0===eO&&eF(P)),o!==h?r=a=[a,o]:(eE=r,r=h)):(eE=r,r=h);else n=h;return t=n!==h?e.substring(t,eE):n,eO--,t===h&&(n=h,0===eO&&eF(ey)),t}var e9=["root"];function e7(){return"plural"===e9[e9.length-1]}function te(){return t&&t.captureLocation?{location:eA()}:{}}var tt=t&&t.ignoreTag,tn=t&&t.shouldParseSkeleton;if((p=m())!==h&&eE===e.length)return p;throw p!==h&&eE<e.length&&eF({type:"end"}),n=eT,d=ew<e.length?e.charAt(ew):null,f=ew<e.length?eD(ew,ew+1):eD(ew,ew),new u(u.buildMessage(n,d),n,d,f)},f=/(^|[^\\])#/g;function p(e,t){var n=d(e,t=r.a({normalizeHashtagInPlural:!0,shouldParseSkeleton:!0},t||{}));return t.normalizeHashtagInPlural&&function e(t){t.forEach(function(t){(a.h(t)||a.j(t))&&Object.keys(t.options).forEach(function(n){for(var o,i=t.options[n],c=-1,s=void 0,l=0;l<i.value.length;l++){var u=i.value[l];if(a.e(u)&&f.test(u.value)){c=l,s=u;break}}if(s){var p=d(s.value.replace(f,"$1{"+t.value+", number}"));(o=i.value).splice.apply(o,r.c([c,1],p))}e(i.value)})})}(n),n}var h=n(46836),v=n.n(h),m=n(88713);function _(e){return{create:function(){return{has:function(t){return t in e},get:function(t){return e[t]},set:function(t,n){e[t]=n}}}}}var g=v()||h,y=function(){function e(t,n,a,o){var i,c,s=this;if(void 0===n&&(n=e.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(e){var t=s.formatToParts(e);if(1===t.length)return t[0].value;var n=t.reduce(function(e,t){return e.length&&0===t.type&&"string"==typeof e[e.length-1]?e[e.length-1]+=t.value:e.push(t.value),e},[]);return n.length<=1?n[0]||"":n},this.formatToParts=function(e){return m.a(s.ast,s.locales,s.formatters,s.formats,e,void 0,s.message)},this.resolvedOptions=function(){return{locale:Intl.NumberFormat.supportedLocalesOf(s.locales)[0]}},this.getAst=function(){return s.ast},"string"==typeof t){if(this.message=t,!e.__parse)throw TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");this.ast=e.__parse(t,{normalizeHashtagInPlural:!1,ignoreTag:null==o?void 0:o.ignoreTag})}else this.ast=t;if(!Array.isArray(this.ast))throw TypeError("A message must be provided as a String or AST.");this.formats=(i=e.formats,a?Object.keys(i).reduce(function(e,t){var n,o;return e[t]=(n=i[t],(o=a[t])?r.a(r.a(r.a({},n||{}),o||{}),Object.keys(n).reduce(function(e,t){return e[t]=r.a(r.a({},n[t]),o[t]||{}),e},{})):n),e},r.a({},i)):i),this.locales=n,this.formatters=o&&o.formatters||(void 0===(c=this.formatterCache)&&(c={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:g(function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.NumberFormat).bind.apply(e,r.c([void 0],t)))},{cache:_(c.number),strategy:g.strategies.variadic}),getDateTimeFormat:g(function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.DateTimeFormat).bind.apply(e,r.c([void 0],t)))},{cache:_(c.dateTime),strategy:g.strategies.variadic}),getPluralRules:g(function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.PluralRules).bind.apply(e,r.c([void 0],t)))},{cache:_(c.pluralRules),strategy:g.strategies.variadic})})}return Object.defineProperty(e,"defaultLocale",{get:function(){return e.memoizedDefaultLocale||(e.memoizedDefaultLocale=new Intl.NumberFormat().resolvedOptions().locale),e.memoizedDefaultLocale},enumerable:!1,configurable:!0}),e.memoizedDefaultLocale=null,e.__parse=p,e.formats={number:{currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}()},68506(e,t,n){"use strict";n.d(t,{a:()=>p,b:()=>y,c:()=>_,d:()=>h,e:()=>d,f:()=>g,g:()=>f});var r=n(41594),a=n(15355),o=n(46836),i=n.n(o),c=n(85600),s=n(45372),l=function(){return(l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},u=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),a=0;for(t=0;t<n;t++)for(var o=arguments[t],i=0,c=o.length;i<c;i++,a++)r[a]=o[i];return r};function d(e,t,n){return void 0===n&&(n={}),t.reduce(function(t,r){return r in e?t[r]=e[r]:r in n&&(t[r]=n[r]),t},{})}function f(e){c.a(e,"[React Intl] Could not find required `intl` object. <IntlProvider> needs to exist in the component ancestry.")}var p={formats:{},messages:{},timeZone:void 0,textComponent:r.Fragment,defaultLocale:"en",defaultFormats:{},onError:function(e){}};function h(){return{dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}}}function v(e){return{create:function(){return{has:function(t){return t in e},get:function(t){return e[t]},set:function(t,n){e[t]=n}}}}}var m=i()||o;function _(e){void 0===e&&(e={dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}});var t=Intl.RelativeTimeFormat,n=Intl.ListFormat,r=Intl.DisplayNames,o=m(function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.DateTimeFormat).bind.apply(e,u([void 0],t)))},{cache:v(e.dateTime),strategy:m.strategies.variadic}),i=m(function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.NumberFormat).bind.apply(e,u([void 0],t)))},{cache:v(e.number),strategy:m.strategies.variadic}),c=m(function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.PluralRules).bind.apply(e,u([void 0],t)))},{cache:v(e.pluralRules),strategy:m.strategies.variadic});return{getDateTimeFormat:o,getNumberFormat:i,getMessageFormat:m(function(e,t,n,r){return new a.a(e,t,n,l({formatters:{getNumberFormat:i,getDateTimeFormat:o,getPluralRules:c}},r||{}))},{cache:v(e.message),strategy:m.strategies.variadic}),getRelativeTimeFormat:m(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new(t.bind.apply(t,u([void 0],e)))},{cache:v(e.relativeTime),strategy:m.strategies.variadic}),getPluralRules:c,getListFormat:m(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(n.bind.apply(n,u([void 0],e)))},{cache:v(e.list),strategy:m.strategies.variadic}),getDisplayNames:m(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(r.bind.apply(r,u([void 0],e)))},{cache:v(e.displayNames),strategy:m.strategies.variadic})}}function g(e,t,n,r){var a,o=e&&e[t];if(o&&(a=o[n]),a)return a;r(new s.f("No "+t+" format named: "+n))}function y(e){return function(t){return e(r.Children.toArray(t))}}},45372(e,t,n){"use strict";n.d(t,{a:()=>l,b:()=>d,c:()=>u,d:()=>f,e:()=>c,f:()=>s});var r,a,o,i=(a=function(e,t){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});(r=o||(o={})).FORMAT_ERROR="FORMAT_ERROR",r.UNSUPPORTED_FORMATTER="UNSUPPORTED_FORMATTER",r.INVALID_CONFIG="INVALID_CONFIG",r.MISSING_DATA="MISSING_DATA",r.MISSING_TRANSLATION="MISSING_TRANSLATION";var c=function(e){function t(n,r,a){var o=e.call(this,"[React Intl Error "+n+"] "+r+" \n"+(a?"\n"+a.message+"\n"+a.stack:""))||this;return o.code=n,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(o,t),o}return i(t,e),t}(Error),s=function(e){function t(t,n){return e.call(this,"UNSUPPORTED_FORMATTER",t,n)||this}return i(t,e),t}(c),l=function(e){function t(t,n){return e.call(this,"INVALID_CONFIG",t,n)||this}return i(t,e),t}(c),u=function(e){function t(t,n){return e.call(this,"MISSING_DATA",t,n)||this}return i(t,e),t}(c),d=function(e){function t(t,n,r,a){var o=e.call(this,"FORMAT_ERROR",t+" \nLocale: "+n+"\nMessageID: "+(null==r?void 0:r.id)+"\nDefault Message: "+(null==r?void 0:r.defaultMessage)+"\nDescription: "+(null==r?void 0:r.description)+" \n",a)||this;return o.descriptor=r,o}return i(t,e),t}(c),f=function(e){function t(t,n){var r=e.call(this,"MISSING_TRANSLATION",'Missing message: "'+t.id+'" for locale "'+n+'", using '+(t.defaultMessage?"default message":"id")+" as fallback.")||this;return r.descriptor=t,r}return i(t,e),t}(c)},35338(e,t,n){"use strict";n.d(t,{a:()=>o,b:()=>a,c:()=>i});var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function a(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function i(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),a=0;for(t=0;t<n;t++)for(var o=arguments[t],i=0,c=o.length;i<c;i++,a++)r[a]=o[i];return r}},8620(e,t,n){"use strict";n.d(t,{a:()=>i,b:()=>c,c:()=>s,d:()=>l});var r,a,o=n(35338);(r=a||(a={})).MISSING_VALUE="MISSING_VALUE",r.INVALID_VALUE="INVALID_VALUE",r.MISSING_INTL_API="MISSING_INTL_API";var i=function(e){function t(t,n,r){var a=e.call(this,t)||this;return a.code=n,a.originalMessage=r,a}return o.b(t,e),t.prototype.toString=function(){return"[formatjs Error: "+this.code+"] "+this.message},t}(Error),c=function(e){function t(t,n,r,a){return e.call(this,'Invalid values for "'+t+'": "'+n+'". Options are "'+Object.keys(r).join('", "')+'"',"INVALID_VALUE",a)||this}return o.b(t,e),t}(i),s=function(e){function t(t,n,r){return e.call(this,'Value for "'+t+'" must be of type '+n,"INVALID_VALUE",r)||this}return o.b(t,e),t}(i),l=function(e){function t(t,n){return e.call(this,'The intl string context variable "'+t+'" was not provided to the string "'+n+'"',"MISSING_VALUE",n)||this}return o.b(t,e),t}(i)},43964(e,t,n){"use strict";n.d(t,{a:()=>q,b:()=>Z});var r,a,o,i,c,s=n(41594),l=n(61041),u=n(68506),d=n(45372),f=["localeMatcher","style","currency","currencyDisplay","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","currencyDisplay","currencySign","notation","signDisplay","unit","unitDisplay"];function p(e,t,n){var r=e.locale,a=e.formats,o=e.onError;void 0===n&&(n={});var i=n.format,c=i&&u.f(a,"number",i,o)||{};return t(r,u.e(n,f,c))}function h(e,t,n,r){void 0===r&&(r={});try{return p(e,t,r).format(n)}catch(t){e.onError(new d.e("FORMAT_ERROR","Error formatting number.",t))}return String(n)}function v(e,t,n,r){void 0===r&&(r={});try{return p(e,t,r).formatToParts(n)}catch(t){e.onError(new d.e("FORMAT_ERROR","Error formatting number.",t))}return[]}var m=n(8620),_=["numeric","style"];function g(e,t,n,r,a){void 0===a&&(a={}),r||(r="second"),Intl.RelativeTimeFormat||e.onError(new m.a('Intl.RelativeTimeFormat is not available in this environment.\nTry polyfilling it using "@formatjs/intl-relativetimeformat"\n',"MISSING_INTL_API"));try{var o,i,c,s,l,f;return(o=a,i=e.locale,c=e.formats,s=e.onError,void 0===o&&(o={}),f=!!(l=o.format)&&u.f(c,"relative",l,s)||{},t(i,u.e(o,_,f))).format(n,r)}catch(t){e.onError(new d.b("Error formatting relative time.",t))}return String(n)}var y=function(){return(y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},b=["localeMatcher","formatMatcher","timeZone","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName","hourCycle","dateStyle","timeStyle","fractionalSecondDigits","calendar","numberingSystem"];function E(e,t,n,r){var a=e.locale,o=e.formats,i=e.onError,c=e.timeZone;void 0===r&&(r={});var s=r.format,l=y(y({},c&&{timeZone:c}),s&&u.f(o,t,s,i)),d=u.e(r,b,l);return"time"!==t||d.hour||d.minute||d.second||(d=y(y({},d),{hour:"numeric",minute:"numeric"})),n(a,d)}function k(e,t,n,r){void 0===r&&(r={});var a="string"==typeof n?new Date(n||0):n;try{return E(e,"date",t,r).format(a)}catch(t){e.onError(new d.e("FORMAT_ERROR","Error formatting date.",t))}return String(a)}function C(e,t,n,r){void 0===r&&(r={});var a="string"==typeof n?new Date(n||0):n;try{return E(e,"time",t,r).format(a)}catch(t){e.onError(new d.e("FORMAT_ERROR","Error formatting time.",t))}return String(a)}function w(e,t,n,r){void 0===r&&(r={});var a="string"==typeof n?new Date(n||0):n;try{return E(e,"date",t,r).formatToParts(a)}catch(t){e.onError(new d.e("FORMAT_ERROR","Error formatting date.",t))}return[]}function T(e,t,n,r){void 0===r&&(r={});var a="string"==typeof n?new Date(n||0):n;try{return E(e,"time",t,r).formatToParts(a)}catch(t){e.onError(new d.e("FORMAT_ERROR","Error formatting time.",t))}return[]}var O=["localeMatcher","type"];function x(e,t,n,r){var a=e.locale,o=e.onError;void 0===r&&(r={}),Intl.PluralRules||o(new m.a('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',"MISSING_INTL_API"));var i=u.e(r,O);try{return t(a,i).select(n)}catch(e){o(new d.b("Error formatting plural.",e))}return"other"}var A=n(85600),S=n(15355),P=n(88713);(r=c||(c={}))[r.literal=0]="literal",r[r.argument=1]="argument",r[r.number=2]="number",r[r.date=3]="date",r[r.time=4]="time",r[r.select=5]="select",r[r.plural=6]="plural",r[r.pound=7]="pound",r[r.tag=8]="tag",(a=i||(i={}))[a.number=0]="number",a[a.dateTime=1]="dateTime";var R=function(){return(R=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},N=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),a=0;for(t=0;t<n;t++)for(var o=arguments[t],i=0,c=o.length;i<c;i++,a++)r[a]=o[i];return r};function I(e,t){return Object.keys(e).reduce(function(n,r){return n[r]=R({timeZone:t},e[r]),n},{})}function D(e,t){return Object.keys(R(R({},e),t)).reduce(function(n,r){return n[r]=R(R({},e[r]||{}),t[r]||{}),n},{})}function F(e,t){if(!t)return e;var n=S.a.formats;return R(R(R({},n),e),{date:D(I(n.date,t),I(e.date||{},t)),time:D(I(n.time,t),I(e.time||{},t))})}function L(e,t){return Array.isArray(e)&&t?s.createElement.apply(s,N([s.Fragment,null],e)):e}function M(e,t,n,r){var a=e.locale,o=e.formats,i=e.messages,s=e.defaultLocale,l=e.defaultFormats,f=e.onError,p=e.timeZone,h=e.wrapRichTextChunksInFragment;void 0===n&&(n={id:""});var v=n.id,m=n.defaultMessage;A.a(!!v,"[React Intl] An `id` must be provided to format a message.");var _=String(v),g=i&&Object.prototype.hasOwnProperty.call(i,_)&&i[_];if(Array.isArray(g)&&1===g.length&&g[0].type===c.literal)return g[0].value;if(!r&&g&&"string"==typeof g)return g.replace(/'\{(.*?)\}'/gi,"{$1}");var y=r&&Object.keys(r).reduce(function(e,t){var n=r[t];return e[t]=P.b(n)?u.b(n):n,e},{});if(o=F(o,p),l=F(l,p),!g){if((!m||a&&a.toLowerCase()!==s.toLowerCase())&&f(new d.d(n,a)),m)try{return L(t.getMessageFormat(m,s,l).format(y),h)}catch(e){return f(new d.b('Error formatting default message for: "'+_+'", rendering default message verbatim',a,n,e)),m}return _}try{return L(t.getMessageFormat(g,a,o,{formatters:t}).format(y),h)}catch(e){f(new d.b('Error formatting message: "'+_+'", using '+(m?"default message":"id")+" as fallback.",a,n,e))}if(m)try{return L(t.getMessageFormat(m,s,l).format(y),h)}catch(e){f(new d.b('Error formatting the default message for: "'+_+'", rendering message verbatim',a,n,e))}return g||m||_}var B=n(90977),j=n.n(B),U=["localeMatcher","type","style"],W=Date.now();function V(e,t,n,r){var a=e.locale,o=e.onError;void 0===r&&(r={}),Intl.ListFormat||o(new m.a('Intl.ListFormat is not available in this environment.\nTry polyfilling it using "@formatjs/intl-listformat"\n',"MISSING_INTL_API"));var i=u.e(r,U);try{var c={},s=n.map(function(e,t){if("object"==typeof e){var n=W+"_"+t+"_"+W;return c[n]=e,n}return String(e)});return Object.keys(c).length?t(a,i).formatToParts(s).reduce(function(e,t){var n=t.value;return c[n]?e.push(c[n]):"string"==typeof e[e.length-1]?e[e.length-1]+=n:e.push(n),e},[]):t(a,i).format(s)}catch(e){o(new d.e("FORMAT_ERROR","Error formatting list.",e))}return n}var K=["localeMatcher","style","type","fallback"];function z(e,t,n,r){var a=e.locale,o=e.onError;void 0===r&&(r={}),Intl.DisplayNames||o(new m.a('Intl.DisplayNames is not available in this environment.\nTry polyfilling it using "@formatjs/intl-displaynames"\n',"MISSING_INTL_API"));var i=u.e(r,K);try{return t(a,i).of(n)}catch(e){o(new d.e("FORMAT_ERROR","Error formatting display name.",e))}}var G=(o=function(e,t){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Y=function(){return(Y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},$=j()||B;function H(e){return{locale:e.locale,timeZone:e.timeZone,formats:e.formats,textComponent:e.textComponent,messages:e.messages,defaultLocale:e.defaultLocale,defaultFormats:e.defaultFormats,onError:e.onError,wrapRichTextChunksInFragment:e.wrapRichTextChunksInFragment}}function q(e,t){var n=u.c(t),r=Y(Y({},u.a),e),a=r.locale,o=r.defaultLocale,i=r.onError;return a?!Intl.NumberFormat.supportedLocalesOf(a).length&&i?i(new d.c('Missing locale data for locale: "'+a+'" in Intl.NumberFormat. Using default locale: "'+o+'" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details')):!Intl.DateTimeFormat.supportedLocalesOf(a).length&&i&&i(new d.c('Missing locale data for locale: "'+a+'" in Intl.DateTimeFormat. Using default locale: "'+o+'" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details')):(i&&i(new d.a('"locale" was not configured, using "'+o+'" as fallback. See https://formatjs.io/docs/react-intl/api#intlshape for more details')),r.locale=r.defaultLocale||"en"),Y(Y({},r),{formatters:n,formatNumber:h.bind(null,r,n.getNumberFormat),formatNumberToParts:v.bind(null,r,n.getNumberFormat),formatRelativeTime:g.bind(null,r,n.getRelativeTimeFormat),formatDate:k.bind(null,r,n.getDateTimeFormat),formatDateToParts:w.bind(null,r,n.getDateTimeFormat),formatTime:C.bind(null,r,n.getDateTimeFormat),formatTimeToParts:T.bind(null,r,n.getDateTimeFormat),formatPlural:x.bind(null,r,n.getPluralRules),formatMessage:M.bind(null,r,n),formatList:V.bind(null,r,n.getListFormat),formatDisplayName:z.bind(null,r,n.getDisplayNames)})}var Z=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cache=u.d(),t.state={cache:t.cache,intl:q(H(t.props),t.cache),prevConfig:H(t.props)},t}return G(t,e),t.getDerivedStateFromProps=function(e,t){var n=t.prevConfig,r=t.cache,a=H(e);return $(n,a)?null:{intl:q(a,r),prevConfig:a}},t.prototype.render=function(){return u.g(this.state.intl),(0,s.createElement)(l.b,{value:this.state.intl},this.props.children)},t.displayName="IntlProvider",t.defaultProps=u.a,t}(s.PureComponent)},99085(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}n.d(t,{a:()=>r})},50439(e,t,n){"use strict";var r,a;n.d(t,{a:()=>r}),(a=r||(r={})).USER_NOT_LOGIN="USER_NOT_LOGIN",a.USER_CANCEL_SAVE="USER_CANCEL_SAVE",a.SAVE_PROJECT_ERROR="SAVE_PROJECT_ERROR",a.UPDATE_PROJECT_ERROR="UPDATE_PROJECT_ERROR",a.CLOUD_SPACE_DATA_ERROR="CLOUD_SPACE_DATA_ERROR"},5912(e,t,n){"use strict";n.d(t,{a:()=>r,b:()=>l,c:()=>a,d:()=>d,e:()=>o,f:()=>u,g:()=>i,h:()=>s,i:()=>c});var r="#5DC5FBFF",a=3,o=50,i=1,c=!1,s=!1,l=30,u=0,d=9999},6973(e){e.exports=JSON.parse('["cdn-bbs.codemao.cn","static-material.codemao.cn","test-wscdn.codemao.cn","static-k12edu-b2c.codemao.cn","cnr-private.codemao.cn","dev-maker.codemao.cn","static-intl.codemao.cn","dev-static-intl.codemao.cn","cdn-test.codemao.cn","cdn-cnr.codemao.cn","codemaster-teaching-aes.codemao.cn","dev-cdn-common.codemao.cn","dev-cdn-bbs.codemao.cn","dev-common-private.codemao.cn","teaching-aes-codemao.codemao.cn","teaching-aes.codemao.cn","creation-codemao.codemao.cn","creation.codemao.cn","cdn-community-codemao.codemao.cn","cdn-community.codemao.cn","online-education-codemao.codemao.cn","online-education.codemao.cn","education-codemao.codemao.cn","education.codemao.cn","platform-codemao.codemao.cn","platform.codemao.cn","crm-data-export.codemao.cn","kn-cdn-codemao.codemao.cn","static-am-codemao.codemao.cn","public-static-edu-codemao.codemao.cn","static-user-center-codemao.codemao.cn","static-k12edu-kids-codemao.codemao.cn","codemaster-teaching-material-codemao.codemao.cn","codemaster-im-voice-codemao.codemao.cn","codemaster-im-file-codemao.codemao.cn","static-k12edu-codemao.codemao.cn","preview-codemao.codemao.cn","static-k12edu-campproxy-codemao.codemao.cn","static-k12edu-codecamp-private-codemao.codemao.cn","static-k12edu-camprecord-codemao.codemao.cn","static-k12edu-teaching-codemao.codemao.cn","static-platform-codemao.codemao.cn","static-games-codemao.codemao.cn","video-education-codemao.codemao.cn","static-edu-marketing-codemao.codemao.cn","static-edu-codemao.codemao.cn","static-depot-codemao.codemao.cn","community-static-codemao.codemao.cn","static-ai-lab-codemao.codemao.cn","cdn-mobile-codemao.codemao.cn","static-material-codemao.codemao.cn","static-hardware-codemao.codemao.cn","down-codemao.codemao.cn","old-platform-codemao.codemao.cn","static-boxgame-codemao.codemao.cn","static-box3-codemao.codemao.cn","static-ospic-codemao.codemao.cn","old-platform.codemao.cn","dev-static.codemao.cn","static-box3.codemao.cn","static-edu-marketing.codemao.cn","codemaster-im-voice.codemao.cn","codemaster-im-file.codemao.cn","codemaster-teaching-material.codemao.cn","community-static.codemao.cn","static-hn.codemao.cn","ops.codemao.cn","ops-files-hn.codemao.cn","static-ai-lab.codemao.cn","static-k12edu-kids.codemao.cn","dev-static-platform.codemao.cn","dev-ocean.codemao.cn","dev-kn-cdn.codemao.cn","static-kn-m.codemao.cn","static-k12edu-codecamp-private.codemao.cn","static-k12edu-teaching.codemao.cn","static-private-ops.codemao.cn","test-static-k12edu-campproxy.codemao.cn","static-am.codemao.cn","static-edu-classroom.codemao.cn","public-edu-classroom.codemao.cn","tower-dev.codemao.cn","static-depot.codemao.cn","static-k12edu-campproxy.codemao.cn","static-k12edu-camprecord.codemao.cn","staticstatic-k12eduk12edu-camprecord.codemao.cn","dev-static-codemao.codemao.cn","static-https.codemao.cn","static-codemao.codemao.cn","static-boxgame.codemao.cn","static-userprogram.codemao.cn","static-user-center.codemao.cn","static-hardware.codemao.cn","cdn-mobile.codemao.cn","preview.codemao.cn","dev-static-tspic.codemao.cn","static-ospic.codemao.cn","kn-cdn.codemao.cn","ops-files.codemao.cn","ocean.codemao.cn","static-southeast-asia-contest.codemao.cn","static-inter-contest.codemao.cn","public-static-edu.codemao.cn","dev-static-edu.codemao.cn","dev-static-games.codemao.cn","static-edu.codemao.cn","static-educontest.codemao.cn","static-k12edu.codemao.cn","dev-video-education.codemao.cn","video-education.codemao.cn","static-games.codemao.cn","static-international.codemao.cn","static-platform.codemao.cn","frontend-staging.codemao.cn","video.codemao.cn","frontend-static.codemao.cn","down.codemao.cn","static.codemao.cn","static.bcmcdn.com"]')},30083(e,t){function n(){return{"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1}}var r=/javascript\s*\:/gim;t.whiteList=n(),t.getDefaultWhiteList=n,t.onAttr=function(e,t,n){},t.onIgnoreAttr=function(e,t,n){},t.safeAttrValue=function(e,t){return r.test(t)?"":t}},68098(e){e.exports={indexOf:function(e,t){var n,r;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return -1},forEach:function(e,t,n){var r,a;if(Array.prototype.forEach)return e.forEach(t,n);for(r=0,a=e.length;r<a;r++)t.call(n,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}}},27634(e,t,n){var r=n(68098);e.exports=function(e,t){";"!==(e=r.trimRight(e))[e.length-1]&&(e+=";");var n=e.length,a=!1,o=0,i=0,c="";function s(){if(!a){var n=r.trim(e.slice(o,i)),s=n.indexOf(":");if(-1!==s){var l=r.trim(n.slice(0,s)),u=r.trim(n.slice(s+1));if(l){var d=t(o,c.length,l,u,n);d&&(c+=d+"; ")}}}o=i+1}for(;i<n;i++){var l=e[i];if("/"===l&&"*"===e[i+1]){var u=e.indexOf("*/",i+2);if(-1===u)break;o=(i=u+1)+1,a=!1}else"("===l?a=!0:")"===l?a=!1:";"===l?a||s():"\n"===l&&s()}return r.trim(c)}},77864(e,t,n){var r=n(30083),a=n(27634);function o(e){(e=function(e){var t={};for(var n in e)t[n]=e[n];return t}(e||{})).whiteList=e.whiteList||r.whiteList,e.onAttr=e.onAttr||r.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||r.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||r.safeAttrValue,this.options=e}n(68098),o.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,n=t.whiteList,r=t.onAttr,o=t.onIgnoreAttr,i=t.safeAttrValue;return a(e,function(e,t,a,c,s){var l=n[a],u=!1;if(!0===l?u=l:"function"==typeof l?u=l(c):l instanceof RegExp&&(u=l.test(c)),!0!==u&&(u=!1),c=i(a,c)){var d,f={position:t,sourcePosition:e,source:s,isWhite:u};return u?null==(d=r(a,c,f))?a+":"+c:d:null==(d=o(a,c,f))?void 0:d}})},e.exports=o},23378(e,t,n){var r=n(30083),a=n(77864);for(var o in(t=e.exports=function(e,t){return new a(t).process(e)}).FilterCSS=a,r)t[o]=r[o];"undefined"!=typeof window&&(window.filterCSS=e.exports)},89624(e){e.exports={indexOf:function(e,t){var n,r;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return -1},forEach:function(e,t,n){var r,a;if(Array.prototype.forEach)return e.forEach(t,n);for(r=0,a=e.length;r<a;r++)t.call(n,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1}}},78764(e,t,n){var r=n(23378).FilterCSS,a=n(23378).getDefaultWhiteList,o=n(89624),i=new r;function c(e){return e.replace(s,"&lt;").replace(l,"&gt;")}var s=/</g,l=/>/g,u=/"/g,d=/&quot;/g,f=/&#([a-zA-Z0-9]*);?/gim,p=/&colon;?/gim,h=/&newline;?/gim,v=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,m=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,_=/u\s*r\s*l\s*\(.*/gi;function g(e){return e.replace(u,"&quot;")}function y(e){return e.replace(d,'"')}function b(e){return e.replace(f,function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))})}function E(e){return e.replace(p,":").replace(h," ")}function k(e){for(var t="",n=0,r=e.length;n<r;n++)t+=32>e.charCodeAt(n)?" ":e.charAt(n);return o.trim(t)}function C(e){return k(e=E(e=b(e=y(e))))}function w(e){return c(e=g(e))}t.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height","loading"],ins:["datetime"],kbd:[],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]},t.getDefaultWhiteList=function(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height","loading"],ins:["datetime"],kbd:[],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}},t.onTag=function(e,t,n){},t.onIgnoreTag=function(e,t,n){},t.onTagAttr=function(e,t,n){},t.onIgnoreTagAttr=function(e,t,n){},t.safeAttrValue=function(e,t,n,r){if(n=C(n),"href"===t||"src"===t){if("#"===(n=o.trim(n)))return"#";if("http://"!==n.substr(0,7)&&"https://"!==n.substr(0,8)&&"mailto:"!==n.substr(0,7)&&"tel:"!==n.substr(0,4)&&"data:image/"!==n.substr(0,11)&&"ftp://"!==n.substr(0,6)&&"./"!==n.substr(0,2)&&"../"!==n.substr(0,3)&&"#"!==n[0]&&"/"!==n[0])return""}else if("background"===t){if(v.lastIndex=0,v.test(n))return""}else if("style"===t){if(m.lastIndex=0,m.test(n)||(_.lastIndex=0,_.test(n)&&(v.lastIndex=0,v.test(n))))return"";!1!==r&&(n=(r=r||i).process(n))}return w(n)},t.escapeHtml=c,t.escapeQuote=g,t.unescapeQuote=y,t.escapeHtmlEntities=b,t.escapeDangerHtml5Entities=E,t.clearNonPrintableCharacter=k,t.friendlyAttrValue=C,t.escapeAttrValue=w,t.onIgnoreTagStripAll=function(){return""},t.StripTagBody=function(e,t){"function"!=typeof t&&(t=function(){});var n=!Array.isArray(e),r=[],a=!1;return{onIgnoreTag:function(i,c,s){if(n||-1!==o.indexOf(e,i)){if(s.isClosing){var l="[/removed]",u=s.position+l.length;return r.push([!1!==a?a:s.position,u]),a=!1,l}return a||(a=s.position),"[removed]"}return t(i,c,s)},remove:function(e){var t="",n=0;return o.forEach(r,function(r){t+=e.slice(n,r[0]),n=r[1]}),t+=e.slice(n)}}},t.stripCommentTag=function(e){for(var t="",n=0;n<e.length;){var r=e.indexOf("\x3c!--",n);if(-1===r){t+=e.slice(n);break}t+=e.slice(n,r);var a=e.indexOf("--\x3e",r);if(-1===a)break;n=a+3}return t},t.stripBlankChar=function(e){var t=e.split("");return(t=t.filter(function(e){var t=e.charCodeAt(0);return 127!==t&&(!(t<=31)||10===t||13===t)})).join("")},t.attributeWrapSign='"',t.cssFilter=i,t.getDefaultCSSWhiteList=a},91656(e,t,n){var r=n(89624),a=/[^a-zA-Z0-9\\_:.-]/gim;function o(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]?e.substr(1,e.length-2):e}t.parseTag=function(e,t,n){"use strict";var a="",o=0,i=!1,c=!1,s=0,l=e.length,u="",d="";e:for(s=0;s<l;s++){var f=e.charAt(s);if(!1===i){if("<"===f){i=s;continue}}else if(!1===c){if("<"===f){a+=n(e.slice(o,s)),i=s,o=s;continue}if(">"===f||s===l-1){a+=n(e.slice(o,i)),u=function(e){var t,n=r.spaceIndex(e);return t=-1===n?e.slice(1,-1):e.slice(1,n+1),"/"===(t=r.trim(t).toLowerCase()).slice(0,1)&&(t=t.slice(1)),"/"===t.slice(-1)&&(t=t.slice(0,-1)),t}(d=e.slice(i,s+1)),a+=t(i,a.length,u,d,"</"===d.slice(0,2)),o=s+1,i=!1;continue}if('"'===f||"'"===f)for(var p=1,h=e.charAt(s-p);""===h.trim()||"="===h;){if("="===h){c=f;continue e}h=e.charAt(s-++p)}}else if(f===c){c=!1;continue}}return o<l&&(a+=n(e.substr(o))),a},t.parseAttr=function(e,t){"use strict";var n=0,i=0,c=[],s=!1,l=e.length;function u(e,n){if(!((e=(e=r.trim(e)).replace(a,"").toLowerCase()).length<1)){var o=t(e,n||"");o&&c.push(o)}}for(var d=0;d<l;d++){var f,p=e.charAt(d);if(!1!==s||"="!==p)if(!1===s||d!==i){if(/\s|\n|\t/.test(p)){if(e=e.replace(/\s|\n|\t/g," "),!1===s){if(-1===(f=function(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n)return"="===n?t:-1}}(e,d))){u(r.trim(e.slice(n,d))),s=!1,n=d+1;continue}d=f-1;continue}if(-1===(f=function(e,t){for(;t>0;t--){var n=e[t];if(" "!==n)return"="===n?t:-1}}(e,d-1))){u(s,o(r.trim(e.slice(n,d)))),s=!1,n=d+1;continue}}}else{if(-1===(f=e.indexOf(p,d+1)))break;u(s,r.trim(e.slice(i+1,f))),s=!1,n=(d=f)+1}else s=e.slice(n,d),n=d+1,i='"'===e.charAt(n)||"'"===e.charAt(n)?n:function(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n)return"'"===n||'"'===n?t:-1}}(e,d+1)}return n<e.length&&(!1===s?u(e.slice(n)):u(s,o(r.trim(e.slice(n))))),r.trim(c.join(" "))}},44733(e,t,n){var r=n(23378).FilterCSS,a=n(78764),o=n(91656),i=o.parseTag,c=o.parseAttr,s=n(89624);function l(e){(e=function(e){var t={};for(var n in e)t[n]=e[n];return t}(e||{})).stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=a.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=function(e){var t={};for(var n in e)Array.isArray(e[n])?t[n.toLowerCase()]=e[n].map(function(e){return e.toLowerCase()}):t[n.toLowerCase()]=e[n];return t}(e.whiteList||e.allowList):e.whiteList=a.whiteList,this.attributeWrapSign=!0===e.singleQuotedAttributeValue?"'":a.attributeWrapSign,e.onTag=e.onTag||a.onTag,e.onTagAttr=e.onTagAttr||a.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||a.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||a.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||a.safeAttrValue,e.escapeHtml=e.escapeHtml||a.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new r(e.css))}l.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,n=t.whiteList,r=t.onTag,o=t.onIgnoreTag,l=t.onTagAttr,u=t.onIgnoreTagAttr,d=t.safeAttrValue,f=t.escapeHtml,p=this.attributeWrapSign,h=this.cssFilter;t.stripBlankChar&&(e=a.stripBlankChar(e)),t.allowCommentTag||(e=a.stripCommentTag(e));var v=!1;t.stripIgnoreTagBody&&(o=(v=a.StripTagBody(t.stripIgnoreTagBody,o)).onIgnoreTag);var m=i(e,function(e,t,a,i,v){var m={sourcePosition:e,position:t,isClosing:v,isWhite:Object.prototype.hasOwnProperty.call(n,a)},_=r(a,i,m);if(null!=_)return _;if(m.isWhite){if(m.isClosing)return"</"+a+">";var g=function(e){var t=s.spaceIndex(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var n="/"===(e=s.trim(e.slice(t+1,-1)))[e.length-1];return n&&(e=s.trim(e.slice(0,-1))),{html:e,closing:n}}(i),y=n[a],b=c(g.html,function(e,t){var n=-1!==s.indexOf(y,e),r=l(a,e,t,n);return null==r?n?(t=d(a,e,t,h))?e+"="+p+t+p:e:null==(r=u(a,e,t,n))?void 0:r:r});return i="<"+a,b&&(i+=" "+b),g.closing&&(i+=" /"),i+">"}return null==(_=o(a,i,m))?f(i):_},f);return v&&(m=v.remove(m)),m},e.exports=l},29353(e,t,n){var r=n(78764),a=n(91656),o=n(44733);function i(e,t){return new o(t).process(e)}for(var c in(t=e.exports=i).filterXSS=i,t.FilterXSS=o,r)t[c]=r[c];for(var s in a)t[s]=a[s];"undefined"!=typeof window&&(window.filterXSS=e.exports),"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=e.exports)},50983(e,t,n){"use strict";n.r(t),n.d(t,{a:()=>r.y,b:()=>r.T,c:()=>r.N,d:()=>r.I,default:()=>a,e:()=>r.C,f:()=>r.A,g:()=>r.j,h:()=>r.S,i:()=>r.x,j:()=>r.v,k:()=>r.R,l:()=>r.w,m:()=>r.k,n:()=>r.b,o:()=>r.O,p:()=>r.E,q:()=>r.P});var r=n(6188);let a=r.y},70957(e,t,n){"use strict";n.d(t,{m:()=>l});var r=n(7452),a=n.n(r),o=n(34221);n(29353),n(22224),n(42146),n(5446),n(6973);var i=n(13719),c=n.n(i),s=n(73442);function l(){return u.apply(this,arguments)}function u(){return(u=o.a(a().mark(function e(){var t;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c().get("".concat(s.a.tigerHost,"/tiger/v3/web/accounts/profile"),{withCredentials:!0});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}},99820(e,t,n){"use strict";var r,a;n.d(t,{a:()=>r}),(a=r||(r={})).ARROW="ARROW",a.CIRCLE="CIRCLE",a.NONE="NONE"},97783(e){e.exports={hide:"style_hide__xbMGj","coco-widget-wrapper":"style_coco-widget-wrapper__2QHeH","coco-child-widget":"style_coco-child-widget__3Ty5d","coco-child-widget-selected":"style_coco-child-widget-selected__6dONS","coco-child-widget-full":"style_coco-child-widget-full__wKqkZ",flexSC:"style_flexSC__3puyC",flexCC:"style_flexCC__bfcgk",flexLC:"style_flexLC__2eEwz",icon:"style_icon___wwbG",itemTiled:"style_itemTiled__2kkMG",itemCard:"style_itemCard__3Anwe",listViewerBox:"style_listViewerBox__2s1Ku",templateSlot:"style_templateSlot__2rYHs",template1:"style_template1__2XEN-",title:"style_title__32L4i",titleSlot:"style_titleSlot__3Daky",iconBox:"style_iconBox__3rk1k",template2:"style_template2__v3Im5",subTitleBox:"style_subTitleBox__2B9gc",subTitle:"style_subTitle__3cYm2",subTitleSlot:"style_subTitleSlot__3WzuE",template3:"style_template3__1Pz9H",smallImgBox:"style_smallImgBox__1jSTa",smallImgSlot:"style_smallImgSlot__1d6Xx",template4:"style_template4__3B2se",avatarAndTitle:"style_avatarAndTitle__2xROs",avatarImgBox:"style_avatarImgBox__2c3Zm",avatarImgSlot:"style_avatarImgSlot__1Qh5W",template5:"style_template5__Ayk7Z",imgAndTitleBox:"style_imgAndTitleBox__2rs5w",desc:"style_desc__3PxGW",titleSlot1:"style_titleSlot1__1Di1P",titleSlot2:"style_titleSlot2__1H_uo",descSlot:"style_descSlot__wATUS",template6:"style_template6__Ezw69",bannerImgBox:"style_bannerImgBox__19zO-",bannerImgSlot:"style_bannerImgSlot__28S_8",descSlot1:"style_descSlot1__35eTr",descSlot2:"style_descSlot2__3wSkr"}},93811(e){e.exports={hide:"style_hide__1JyFl","coco-widget-wrapper":"style_coco-widget-wrapper__FJ1cs","coco-child-widget":"style_coco-child-widget__16oLm","coco-child-widget-selected":"style_coco-child-widget-selected__3x6Jo","coco-child-widget-full":"style_coco-child-widget-full__1HFLj",inputWidget:"style_inputWidget__Ovvtk",inputWidgetInputWrapper:"style_inputWidgetInputWrapper__2KDq5",inputWidgetUnderpainting:"style_inputWidgetUnderpainting__2Zkru",inputWidgetFill:"style_inputWidgetFill__2Jemp",inputWidgetRounder:"style_inputWidgetRounder__33Owg",inputWidgetOutline:"style_inputWidgetOutline__35W6y",inputWidgetUnderline:"style_inputWidgetUnderline__3D2HX",mask:"style_mask__b8gFz",errorMessage:"style_errorMessage__1xWp8"}},59956(e,t,n){"use strict";function r(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{a:()=>r})},86557(e,t,n){"use strict";n.d(t,{a:()=>a});var r,a,o=n(41594),i=n.n(o),c=n(46942),s=n.n(c),l=n(75195),u=n(25744),d=n(92136),f=n(451);a=i().memo(i().forwardRef(function(e,t){var n=e.warning,a=e.placeholder,c=e.value,p=e.defaultValue,h=e.onChange,v=e.onBlur,m=e.onClick,_=e.onMouseDown,g=e.onKeyDown,y=e.onFocus,b=e.onCompositionStart,E=e.onCompositionEnd,k=e.onClearCallback,C=e.before,w=e.after,T=e.style,O=e.className,x=e.max,A=e.min,S=e.maxLength,P=e.disabled,R=e.type,N=void 0===R?"text":R,I=e.dependency,D=e.rules,F=e.readOnly,L=e.isTrimmed,M=void 0!==L&&L,B=e.clearButtonVisible,j=(0,o.useState)(!1),U=f.a(j,2),W=U[0],V=U[1],K=(0,o.useState)(!1),z=f.a(K,2),G=z[0],Y=z[1],$=(0,o.useRef)(null),H=(0,o.useRef)(""),q=(0,o.useState)(!!p||!!c),Z=f.a(q,2),J=Z[0],X=Z[1],Q=(0,o.useRef)(!0);(0,o.useEffect)(function(){var e=$.current;void 0===c&&e&&(e.value=void 0===p?"":p.toString().substr(0,S||1/0),X(!e.value))},[$,I,c,p]),(0,o.useEffect)(function(){var e=$.current;void 0!==c&&e&&(e.value=c.toString().substr(0,S))},[$,c,S]),(0,o.useImperativeHandle)(t,function(){var e;return{input:$.current,value:(null==(e=$.current)?void 0:e.value)||"",focus:function(){var e;return null==(e=$.current)?void 0:e.focus()},blur:function(){var e;return null==(e=$.current)?void 0:e.blur()},select:function(){var e;return null==(e=$.current)?void 0:e.select()}}});var ee=function(e){var t=$.current;if(t){var n=t.value;if(D){var r=function(e,t,n){var r,a=d.a(n);try{for(a.s();!(r=a.n()).done;){var o=r.value;if(!e.match(o.rule))return{status:"fail",value:t,massage:o.message}}}catch(e){a.e(e)}finally{a.f()}return{status:"success",value:e}}(n,H.current,D);if("fail"===r.status)return en(r),void(t.value=r.value)}if(l.u.test(n))t.value="-";else{var a,o,i=(a="success",l.x.test(n)||(a="fail"),o=parseFloat(n),x&&o>x&&(a="fail",o=x),{status:a,value:isNaN(o)?"":o.toString()});en(i),t.value=i.value,!(A&&Number(i.value)<A)&&h&&h(i.value||"0",e)}}},et=function(){var e=$.current;if(e){var t=e.value,n=t,r=function(e,t,n,r){var a=t.current;if(""!==e){if(r){var o,i=d.a(r);try{for(i.s();!(o=i.n()).done;){var c=o.value;if(!e.match(c.rule))return{status:"fail",value:a,massage:c.message}}}catch(e){i.e(e)}finally{i.f()}}if(n&&(e.length<=n||e.length<a.length))return t.current=e,{status:"success",value:e};if(void 0!==n&&e.length>a.length)return{status:"fail",value:a,massage:"The maximum support length is exceeded"}}for(var s=-1,l=0;l<e.length;l++)if(e[l]!==a[l]){s=l;break}if(s>-1&&void 0!==n){for(var u=a,f=s;f<e.length;f++){var p=a.slice(0,s)+e.slice(s,f)+a.slice(s);if(p.length>n)break;u=p}return t.current=u,{status:"success",value:u}}return{status:"success",value:e}}(t,H,S,D);return n=r.value,Q.current||(n=t),e.value=n,en(r),n}},en=function(e){"fail"===e.status?r||(Y(!0),r=setTimeout(function(){Y(!1),r=null},600)):Y(!1)},er=(0,o.useCallback)(function(e){V(!0),y&&y(e)},[y]),ea=(0,o.useCallback)(function(e){V(!1);var t=$.current;if(t){var n,r=t.value,a=t.value;"number"===N&&(n=parseFloat(r)||0,void 0!==A&&(n=Math.max(n,A)),void 0!==x&&(n=Math.min(n,x)),a=n.toString()),M&&(a=a.trim()),t.value=a,a!==r&&h&&h(a,e),v&&v(a,e)}},[$,N,M,v,h,x,A]);return i().createElement("div",{className:s()("coco-input",O,{"coco-input-focus":W,"coco-input-disabled":P,"coco-input-warning":n,"coco-input-warning-animation":G}),style:T},C,i().createElement("input",Object.assign({ref:$,onChange:function(e){if(X(!e.currentTarget.value),"number"===N)ee(e);else{var t;void 0!==(t=et())&&h&&h(t,e)}},onFocus:er,onBlur:ea,onClick:m,onMouseDown:_,onKeyDown:function(e){var t=$.current;t&&(13===e.keyCode&&t.blur(),g&&g(e))},readOnly:void 0!==F&&F,onCompositionStart:function(){Q.current=!1,b&&b()},onCompositionEnd:function(e){Q.current=!0,et(),E&&E(e)}},{disabled:P,placeholder:a,value:c})),B&&!J&&i().createElement("div",{onMouseDown:function(e){var t=$.current;e.stopPropagation(),e.preventDefault(),t&&(t.value="",t.focus(),X(!0),k&&k())},className:"coco-input-clear-button"},i().createElement(u.a,{type:"icon-close"})),w)}))},52424(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}n.d(t,{a:()=>r})},99282(e,t,n){"use strict";n.d(t,{a:()=>A,b:()=>k,c:()=>b,d:()=>w,e:()=>O,f:()=>m,g:()=>g,h:()=>h});var r=n(28950),a=n(7452),o=n.n(a),i=n(34221),c=n(90612),s=n(63888),l=n(14104),u=n(67240),d=n(50439),f=u.a.serverHost,p=u.a.oTServerHost;function h(e){return v.apply(this,arguments)}function v(){return(v=i.a(o().mark(function e(t){var n,r,a;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=new File([n=new Blob([t],{type:"application/json,charset=utf-8;"})],"project.json",{type:n.type}),e.next=4,s.e(r,"JSON");case 4:return a=e.sent,e.abrupt("return",a.url);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function m(e){return _.apply(this,arguments)}function _(){return(_=i.a(o().mark(function e(t){var n,r,a,i,s,u,p,h;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name,r=t.bcmUrl,a=t.coverUrl,i=t.sourceTag,e.prev=1,e.next=4,l.a.post(f+"/coconut/web/work",{name:n,preview_url:a,bcm_url:r,archive_version:"0.1.0",save_type:t.saveType||c.b.ByUser,work_source_label:i});case 4:if(!(null==(u=e.sent)||null==(s=u.data)?void 0:s.data)){e.next=8;break}return p=u.data.data.work_id,e.abrupt("return",p);case 8:throw console.error("saveProject error"),Error(d.a.SAVE_PROJECT_ERROR);case 12:if(e.prev=12,e.t0=e.catch(1),console.error("saveProject error",e.t0),401!==(null==(h=e.t0.response)?void 0:h.status)){e.next=17;break}throw Error(d.a.USER_NOT_LOGIN);case 17:throw e.t0;case 18:case"end":return e.stop()}},e,null,[[1,12]])}))).apply(this,arguments)}function g(e){return y.apply(this,arguments)}function y(){return(y=i.a(o().mark(function e(t){var n,r,a,i,s,u,p;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name,r=t.bcmUrl,a=t.coverUrl,i=t.id,e.prev=1,e.next=4,l.a.put(f+"/coconut/web/work",{id:i,name:n,preview_url:a,bcm_url:r,archive_version:"0.1.0",save_type:t.saveType||c.b.ByUser});case 4:if(null==(u=e.sent)||null==(s=u.data)?void 0:s.data){e.next=7;break}throw Error(d.a.UPDATE_PROJECT_ERROR);case 7:e.next=14;break;case 9:if(e.prev=9,e.t0=e.catch(1),401!==(null==(p=e.t0.response)?void 0:p.status)){e.next=13;break}throw Error(d.a.USER_NOT_LOGIN);case 13:throw e.t0;case 14:case"end":return e.stop()}},e,null,[[1,9]])}))).apply(this,arguments)}function b(e,t,n){return E.apply(this,arguments)}function E(){return(E=i.a(o().mark(function e(t,n,r){var a,i,c,s,u,d,p;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="?offset=".concat(t,"&limit=").concat(n)+(void 0!==r?"&published=".concat(r):""),i="".concat(f,"/coconut/web/work/list").concat(a),e.next=4,l.a.get(i);case 4:if(c=e.sent,s=[],!(u=c.data)){e.next=12;break}return d=u.currentTime,Array.isArray(p=u.data.items)&&p.forEach(function(e){var t=e.id,n={id:e.work_id||t,name:e.name,coverUrl:e.cover_url,previewUrl:e.preview_url,updateTime:1e3*e.updated_at,serverTime:1e3*d,isCollWork:e.is_coll_work,publishedTime:e.published_at};s.push(n)}),e.abrupt("return",{list:s,total:u.data.total});case 12:throw Error("Get my project list error");case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function k(e,t){return C.apply(this,arguments)}function C(){return(C=i.a(o().mark(function e(t,n){var r,a,i,c,s,u;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("".concat(p,"/coll/coco/coll_works"),{params:{current_page:t,page_size:n}});case 2:if(a=e.sent,i=[],!(c=null==a||null==(r=a.data)?void 0:r.data)){e.next=10;break}return s=Math.round(Date.now()/1e3),Array.isArray(u=c.items)&&u.forEach(function(e){var t=e.id,n=e.name,r=e.cover_url,a=e.update_time,o=e.is_coll_work,c=e.published_at,l={id:t.toString(),name:n,coverUrl:r,updateTime:1e3*a,serverTime:1e3*s,isCollWork:o,publishedTime:c};i.push(l)}),e.abrupt("return",{list:i,total:c.total});case 10:throw Error("Get my project list error");case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function w(e){return T.apply(this,arguments)}function T(){return(T=i.a(o().mark(function e(t){var n,a,i,c,s,u,d;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(f,"/coconut/web/work/").concat(t,"/content"),e.next=3,l.a.get(n);case 3:if(i=(a=e.sent.data).code,c=a.data){e.next=9;break}return e.abrupt("return",{code:i,data:c});case 9:return s=c.bcm_url,e.next=12,fetch(s);case 12:return u=e.sent,e.next=15,u.json();case 15:return d=e.sent,c.name&&c.name!==d.title&&(d.title=c.name),e.abrupt("return",{code:i,data:r.a(r.a({},c),{},{content:d})});case 18:case"end":return e.stop()}},e)}))).apply(this,arguments)}function O(e){return x.apply(this,arguments)}function x(){return(x=i.a(o().mark(function e(t){var n,r,a,i;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(f,"/coconut/web/work/archive/").concat(t),e.next=3,l.a.get(n);case 3:return r=e.sent.data.data.bcm_url,e.next=8,fetch(r);case 8:return a=e.sent,e.next=11,a.json();case 11:return i=e.sent,e.abrupt("return",{content:i});case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function A(e){return S.apply(this,arguments)}function S(){return(S=i.a(o().mark(function e(t){var n,r;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(f,"/coconut/web/work/").concat(t),e.next=3,l.a.delete(n);case 3:return r=e.sent,e.abrupt("return",200===r.data.code);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}}}]);
//# sourceMappingURL=741.60e8c29612c87f4a.js.map