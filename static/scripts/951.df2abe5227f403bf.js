(self.webpackChunkcoco_next=self.webpackChunkcoco_next||[]).push([["951"],{52385(e,t,n){"use strict";n.d(t,{a:()=>o});var r=n(2822),i=n(7757);function o(e,t){return t&&("object"===r.a(t)||"function"==typeof t)?t:i.a(e)}},94082(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,{a:()=>i})},49736(e,t,n){"use strict";n.d(t,{a:()=>i,b:()=>r});var r=["#FF6A3A","#5B81FD","#FFEC3D","#73D13D","#F759AB","#FFA332","#3BA7FF","#F9CC37","#5AB45B","#FF85C0","#F9CC37","#BAE637","#FF4D4F","#36CFC9","#82778C"],i="#9C90A8"},23705(e){e.exports={courseMinIcon:"styles_courseMinIcon__1xPhh",close:"styles_close__1sIAC"}},36137(e,t,n){"use strict";n.d(t,{a:()=>h,b:()=>r});var r,i=n(41594),o=n.n(i),a=n(19040),s=n(37298),c=n(95644),u=n(22827),l=n(33007),d=n(51877),p=n(23705),f=n.n(p),h="COURSE_ICON_NAME";r=(0,i.memo)(function(){var e=(0,a.useDispatch)(),t=c.a().formatMessage;return o().createElement(u.a,{placement:"left",title:t({id:"studyCourseVideo"}),trigger:["hover"]},o().createElement("div",{className:f().courseMinIcon,onClick:function(){s.a.show(),e(d.ii(h,!1))}},o().createElement(l.j,{type:"icon-video"}),o().createElement("div",{className:f().close,onClick:function(t){t.stopPropagation(),s.a.show(),s.a.close({closeAnimationPos:{x:150,y:30}}),e(d.Gh(h))}},o().createElement(l.j,{type:"icon-close"}))))})},24876(e,t,n){"use strict";n.d(t,{a:()=>E,b:()=>S,c:()=>x,d:()=>s,e:()=>a,f:()=>b,g:()=>_,h:()=>h,i:()=>f,j:()=>p,k:()=>u,l:()=>d,m:()=>y,n:()=>l,o:()=>v,p:()=>w,q:()=>O,r:()=>g,s:()=>m,t:()=>T});var r=n(451),i=n(38752),o=n(36963);function a(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{alt:"*",src:e,type:"field_icon",is_head:t}}function s(e,t,n){return{type:"field_image",src:"".concat(e),width:t||"%{BKY_BLOCK_TYPE_ICON_WIDTH}",height:n||"%{BKY_BLOCK_TYPE_ICON_WIDTH}"}}function c(e){return e&&e.length?e.join(", "):""}function u(e,t){var n=e.map(function(e,t){return e||"_unset_".concat(t)});return"async function(".concat(c(n),") {").concat(t,"}")}function l(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=c(t),a=c(r),s="".concat(i?"CocoExtension.":"Coco.").concat(e,"(").concat(o);if(n&&null!==n){var u=t&&t.length?", ":"";s+="".concat(u," async function(").concat(a,") {\n").concat(n,"}")}return s+");\n"}function d(e,t,n){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=JSON.stringify({blockId:t.id,blockType:t.type,screenId:n.getDynamicValue("__CURRENT_SCREEN_ID__")}),o="await ".concat("Coco.","withContextAsync(async ()=> { ").concat(r?"return":""," ").concat(e," }, ").concat(i,")").concat(r?"":";"," ");return e.endsWith("\n")&&(o+="\n"),o}function p(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=t?c(t):"",a="await ".concat(i?"CocoExtension.":"Coco.").concat(e,"(").concat(o),s=c(r);if(n&&null!==n){var u=t&&t.length?", ":"";a+="".concat(u," async function(").concat(s,") {\n").concat(n,"}")}return a+");\n"}function f(e,t,n,r){var i="await ".concat(e,"(");return t&&(i+="async function(".concat(c(r),") {\n").concat(t,"}")),n&&(i+="".concat(t?", ":"").concat(c(n))),i+");\n"}function h(e,t){return"/* ".concat(Object.entries(t).map(function(e){var t=r.a(e,2),n=t[0],i=t[1];return"".concat(n,"=").concat(i)}).join(";")," */ ").concat(e)}function _(e,t){return"async function () {\n    if (typeof (".concat(e,') === "boolean") {\n      return ((').concat(e,") === ").concat(t,");\n    } else if (typeof (").concat(e,') === "number" && ((').concat(e,") === 0)) {\n      return (false === ").concat(t,");\n    }\n    return (true === ").concat(t,")\n  }")}function v(e){return JSON.stringify(e)}function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t?c(t):"";return"".concat(n?"CocoExtension.":"Coco.").concat(e,"(").concat(r,")")}function g(e,t){var n=t?c(t):"";return"await ".concat("Coco.").concat(e,"(").concat(n,")")}function y(e,t,n){var r=t?c(t):"",i="".concat("Coco.").concat(e,"(").concat(r);if(n&&null!==n){var o=t&&t.length?", ":"";i+="".concat(o," asyncScheduler.plan(async function() {\n").concat(n,"})")}return i+");\n"}function b(e,t){var n=encodeURI(e).replace(/%/g,"$");return"$"+t.replace(/-/g,"$")+"_"+n}var E="_param_",w=i.Z.di_container.get(o.BINDING.MutationAddButton),O=i.Z.di_container.get(o.BINDING.MutationRemoveButton),x=i.Z.di_container.get(o.BINDING.ChangeEvent);function S(e,t,n,r){if(!this.get_input(e)){var o=this.rendered;this.rendered=!1;var a=t();if(o&&(this.inputList.forEach(function(e){return e.init()}),this.render(!0)),this.rendered&&(this.cacheId[e]=this.cacheId[e]||i.Z.utils.gen_uid()),this.cacheId[e]){var s,c,u=i.Z.utils.string_to_dom(n);if(u.setAttribute("id",this.cacheId[e]),void 0!==r&&u.firstElementChild&&(u.firstElementChild.textContent=r),null!=(s=a.connection)&&s.set_shadow_dom(u),null!=(c=a.connection)&&c.respawn_shadow(),i.Z.events.is_enabled()){var l=x("mutation",{block:this,old_value:void 0,new_value:"1"});i.Z.events.fire(l)}this.rendered=o}}}function T(e,t,n){var r=this.get_input(e);if(r){var o=null==(a=r.connection)?void 0:a.targetBlock();if(o&&o.is_shadow())this.cacheId[e]=o.id,s=o.get_field_value(t)||"1";else{var a,s,c,u,l=null==(c=r.connection)?void 0:c.get_shadow_dom();this.cacheId[e]=(null==l?void 0:l.getAttribute("id"))||i.Z.utils.gen_uid(),s=(null==l||null==(u=l.querySelector('field[name="'.concat(t,'"]')))?void 0:u.textContent)||"1"}var d=this.rendered;if(this.rendered=!1,n(),d&&(this.inputList.forEach(function(e){return e.init()}),this.render(!0)),i.Z.events.is_enabled()){var p=x("mutation",{block:this,old_value:s,new_value:void 0});i.Z.events.fire(p)}this.rendered=d}}},52484(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{a:()=>r})},55937(e,t,n){"use strict";function r(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{a:()=>r})},3670(e,t,n){"use strict";n.d(t,{a:()=>i});var r=n(86648);function i(e,t){if(e){if("string"==typeof e)return r.a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r.a(e,t):void 0}}},72541(e,t,n){"use strict";n.r(t),n.d(t,{a:()=>a,default:()=>s});var r=n(52484),i=n(3670),o=n(55937);function a(e,t){return r.a(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||i.a(e,t)||o.a()}let s=a},36961(e,t,n){"use strict";n.d(t,{a:()=>c,b:()=>p,c:()=>d,d:()=>f});var r,i,o,a=n(13244),s=n(99432),c="icon-widget-table-data",u=s.a("COLUMN"),l=s.a("COLUMN");o={},a.a(o,u,{field:"第1列"}),a.a(o,l,{field:"第2列"});var d=o,p=[(i={rowId:s.a("ROW")},a.a(i,u,""),a.a(i,l,""),i),(r={rowId:s.a("ROW")},a.a(r,u,""),a.a(r,l,""),r)];function f(){var e,t,n,r=s.a("COLUMN"),i=s.a("COLUMN");return{header:(e={},a.a(e,r,{field:"第1列",width:407}),a.a(e,i,{field:"第2列",width:407}),e),data:[(t={rowId:s.a("ROW")},a.a(t,r,""),a.a(t,i,""),t),(n={rowId:s.a("ROW")},a.a(n,r,""),a.a(n,i,""),n)]}}},8517(e,t,n){"use strict";n.d(t,{e:()=>C,f:()=>A,g:()=>T,a:()=>k,b:()=>R,c:()=>I,d:()=>D});var r,i=n(41594),o=n.n(i),a=n(46942),s=n.n(a),c=n(2980),u=n(33383),l=n(94220),d=n(451),p=n(19040),f=n(51877),h=n(32919),_=n(43591),v=n(99432);function m(e){return e instanceof HTMLInputElement?e.value:e.innerHTML||""}function g(e){return e.replace(/<div><br><\/div>/g,"\n").replace(/<div>|<br>/g,"\n").replace(/<\/div>/g,"")}function y(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.q.FIXED,r=arguments.length>3?arguments[3]:void 0,i=document.getElementById("COCO_APP_ZONE"),o=getComputedStyle(e);if(i){var a=e.getClientRects()[0],s=a.width,c=a.height,u=a.top,d=a.left,p=i.getClientRects()[0],f=p.top,h=p.left;n&l.q.AUTO_WIDTH?t.style.width="auto":t.style.width=s/r+"px",n&l.q.AUTO_HEIGHT?t.style.height="auto":t.style.height=c/r+"px",t.style.top=(u-f)/r+"px",t.style.left=(d-h)/r+"px",t.style.fontSize=o.fontSize,t.style.color=o.color,t.style.lineHeight=o.lineHeight,t.style.textAlign=o.textAlign,t.style.letterSpacing=o.letterSpacing,t.style.fontFamily=o.fontFamily,t.style.whiteSpace=o.whiteSpace,t.style.display=o.display,t.style.justifyContent=o.justifyContent,t.style.alignItems=o.alignItems,t.style.minWidth=o.minWidth,t.style.maxWidth=o.maxWidth,t.style.minHeight=o.minHeight,t.style.maxHeight=o.maxHeight}}function b(e){var t=e.target,n=e.callback,r=e.options,a=void 0===r?{}:r,s=a.sizeAdaptive,c=void 0===s?l.q.FIXED:s,d=a.maxLength,f=void 0===d?1/0:d,h=a.isMultipleRow,b=void 0===h||h,E=(0,i.useRef)(null),w=(0,i.useRef)(),O=(0,p.useSelector)(function(e){return e.common.stageScale});return(0,i.useEffect)(function(){var e=E.current;e&&t&&(w.current=t,y(t,e,c,O),t.style.opacity="0",e.contentEditable="true",e.innerHTML=m(t),setImmediate(function(){v.b(e)}))},[n,c,O,t]),(0,i.useEffect)(function(){var e=E.current;if(b&&e){var t=u.p(function(e){n(e)},60),r=new _.default(function(){t(g(e.innerHTML))});return r.observe(e),function(){r&&r.disconnect(),r=null}}},[n,f,b]),o().createElement("div",{className:"coco-widget-editor-div",ref:E,onBlur:function(){var e=E.current;e&&(w.current&&(w.current.style.opacity="1"),e.style.display="none")},onDoubleClick:function(){var e=E.current;e&&v.c(e)},onInput:function(e){var t=E.current;if(t){var n=g(t.innerHTML);n.length>=f&&(t.innerHTML=n.slice(0,f),v.b(t))}},onPaste:function(e){if((null==e?void 0:e.clipboardData)&&document.execCommand){e.preventDefault();var t=e.clipboardData.getData("text/plain");document.execCommand("insertText",!1,t)}}})}function E(e){var t=e.target,n=e.callback,r=e.options,a=(void 0===r?{}:r).sizeAdaptive,s=void 0===a?l.q.FIXED:a,c=(0,i.useRef)(null),u=(0,i.useRef)(),d=(0,p.useSelector)(function(e){return e.common.stageScale});return(0,i.useEffect)(function(){var e=c.current;if(e&&t){var n=m(t);u.current=t,y(t,e,s,d),t.style.opacity="0",e.contentEditable="true",e.value=n,setImmediate(function(){e.selectionEnd=n.length,e.selectionStart=n.length,e.focus()})}},[n,s,d,t]),o().createElement("input",{onKeyDown:function(e){13===e.keyCode&&e.currentTarget.blur()},onDoubleClick:function(e){e.target.select()},type:"text",onBlur:function(e){var t=e.target;t&&(u.current&&(u.current.style.opacity="1"),t.style.display="none"),n(e.target.value)},ref:c,className:"coco-widget-editor-input"})}r=function(e){var t=e.options,n=(void 0===t?{}:t).isMultipleRow;return o().createElement("div",{className:"coco-widget-editor"},void 0===n||n?o().createElement(b,e):o().createElement(E,e))};var w=n(12327),O=function(e){var t=e.render,n=e.widgetId,a=e.widgetType,s=(0,i.useState)(),c=d.a(s,2),u=c[0],_=c[1],v=(0,p.useDispatch)(),m=(0,p.useSelector)(function(e){return e.project.selectedWidgetId}),g=m===n,y=(0,i.useCallback)(function(e,t,r,i){v(f.Lg(n,e,t,r,i))},[v,n]),b="coco-widget-wrapper";(a===l.a||a===l.c)&&(b="");var E=h.qb(n);return(null==E?void 0:E.type)&&[l.x,l.A].includes(E.type)&&(b+=" coco-child-widget",a===l.v&&(b+=" coco-child-widget-full"),n===m&&(b+=" coco-child-widget-selected")),o().createElement("div",{className:b},u&&o().createElement(r,u),t(y,function(e,t,r){w.r(n)&&_({target:e,callback:t,options:r})},g))},x=n(28950),S=n(81555),T=new Map,R=new Map,k=[];function A(e){var t=e.widget,n=e.forceRender,r=e.zIndex,i=void 0===r?0:r;if(n||!t.parentId){var a=w.Db(t.type);if(!a)return null;var u=a.component;if(c.q(t.type)&&!a.isInvisibleWidget){var d=new u(x.a(x.a({},t.attributes),{},{__widgetId:t.id,__widgetType:t.type,__width:t.size.width,__height:t.size.height}));return o().createElement(O,{key:t.id,widgetId:t.id,widgetType:t.type,render:function(){return o().createElement("div",{id:t.id,style:{position:"absolute",left:t.position.x,top:t.position.y,display:t.visible?"block":"none",width:t.size.width,height:t.size.height,opacity:a.isInvisibleWidget||void 0===t.opacity?void 0:t.opacity/100},className:s()(S.b),"data-role":l.M},o().createElement("div",{style:{position:"absolute",width:"100%",height:"100%",zIndex:1e4}}),d.render())}})}return o().createElement(O,{key:t.id,widgetId:t.id,widgetType:t.type,render:function(e,n,r){return o().createElement(u,Object.assign({},t,{onChange:e,onEdit:n,zIndex:i,selected:r}))}})}}function I(e,t){var n=w.Cb(e);return n?A({widget:n,forceRender:!0,zIndex:t}):null}function D(e){var t=w.Cb(e);return t?A({widget:t,forceRender:!0}):null}function C(e,t,n,r){var i,o=w.Cb(e);if(!o)return null;var a=u.q(o),s=w.Cb(a.parentId||"");if(!s)return console.error("getParentWidget error"),null;if(s.attributes.disabled&&a.type===l.H&&(["titleSlot"].includes(t)?a.attributes.color="#7C7C7C":a.attributes.color="#CACACA"),void 0===n)return A({widget:a,forceRender:!0});var c=null==(i=s.attributes.templateSlotMap[t])?void 0:i.dataBindings;if(r&&c){var d=r[c];a.type===l.H&&(a.attributes.content=d||""),a.type===l.v&&d&&w.Fb(d)&&(a.attributes.fileId=d)}return A({widget:x.a({},a),forceRender:!0})}},16699(e,t,n){"use strict";n.d(t,{a:()=>l,b:()=>h,c:()=>m,d:()=>g,e:()=>v,f:()=>f,g:()=>d,h:()=>p});var r=n(7452),i=n.n(r),o=n(451),a=n(34221),s=n(71691),c=n(51877),u=n(43721),l=function(){var e,t=s.d.getState().project.currentScreenIndex;return null==(e=s.d.getState().project.screens.get(t))?void 0:e.get("id")},d=function(e){var t,n=s.d.getState().project,r=n.currentScreenIndex;return e===(null==(t=n.screens.get(r))?void 0:t.id)},p=function(e){return s.d.dispatch(e)};function f(e){p(c.xh(e))}function h(){return _.apply(this,arguments)}function _(){return(_=a.a(i().mark(function e(){var t;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.c();case 2:return Object.entries((t=e.sent).screens).forEach(function(e){o.a(e,2)[1].snapshot=""}),e.abrupt("return",t);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function v(){var e;return(null==(e=s.d.getState().common.userInfo)?void 0:e.id)||-1}function m(){return s.d.getState().oTState.onlineCooperationUserColorRecord.toJSON()}function g(){return s.d.getState().oTState.userFocusOTInfoList.toJSON()}},72756(e,t,n){var r=!!(n.g===n.g.window&&n.g.URL&&n.g.Blob&&n.g.Worker);function i(e,t){var i,o=this;if(t=t||{},r)return i=e.toString().trim().match(/^function\s*\w*\s*\([\w\s,]*\)\s*{([\w\W]*?)}$/)[1],new n.g.Worker(n.g.URL.createObjectURL(new n.g.Blob([i],{type:"text/javascript"})));this.self=t,this.self.postMessage=function(e){setTimeout(function(){o.onmessage({data:e})},0)},setTimeout(e.bind(t,t),0)}i.prototype.postMessage=function(e){var t=this;setTimeout(function(){t.self.onmessage({data:e})},0)},e.exports=i},33771(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=0x100000000*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},4556(e){for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0;return""+t[e[r++]]+t[e[r++]]+t[e[r++]]+t[e[r++]]+"-"+t[e[r++]]+t[e[r++]]+"-"+t[e[r++]]+t[e[r++]]+"-"+t[e[r++]]+t[e[r++]]+"-"+t[e[r++]]+t[e[r++]]+t[e[r++]]+t[e[r++]]+t[e[r++]]+t[e[r++]]}},64964(e,t,n){var r,i,o=n(33771),a=n(4556),s=0,c=0;e.exports=function(e,t,n){var u=t&&n||0,l=t||[],d=(e=e||{}).node||r,p=void 0!==e.clockseq?e.clockseq:i;if(null==d||null==p){var f=o();null==d&&(d=r=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==p&&(p=i=16383&(f[6]<<8|f[7]))}var h=void 0!==e.msecs?e.msecs:new Date().getTime(),_=void 0!==e.nsecs?e.nsecs:c+1,v=h-s+(_-c)/1e4;if(v<0&&void 0===e.clockseq&&(p=p+1&16383),(v<0||h>s)&&void 0===e.nsecs&&(_=0),_>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,c=_,i=p;var m=(1e4*(0xfffffff&(h+=122192928e5))+_)%0x100000000;l[u++]=m>>>24&255,l[u++]=m>>>16&255,l[u++]=m>>>8&255,l[u++]=255&m;var g=h/0x100000000*1e4&0xfffffff;l[u++]=g>>>8&255,l[u++]=255&g,l[u++]=g>>>24&15|16,l[u++]=g>>>16&255,l[u++]=p>>>8|128,l[u++]=255&p;for(var y=0;y<6;++y)l[u+y]=d[y];return t||a(l)}},58666(e,t,n){var r=n(33771),i=n(4556);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},1645(e,t,n){var r=n(64964),i=n(58666);i.v1=r,i.v4=i,e.exports=i},38671(e,t,n){var r;!function(){"use strict";var i=function(){this.init()};i.prototype={init:function(){var e=this||o;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var t=this||o;if(e=parseFloat(e),t.ctx||f(),void 0!==e&&e>=0&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,o.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),i=0;i<r.length;i++){var a=t._howls[n]._soundById(r[i]);a&&a._node&&(a._node.volume=a._volume*e)}return t}return t._volume},mute:function(e){var t=this||o;t.ctx||f(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,o.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),i=0;i<r.length;i++){var a=t._howls[n]._soundById(r[i]);a&&a._node&&(a._node.muted=!!e||a._muted)}return t},stop:function(){for(var e=this||o,t=0;t<e._howls.length;t++)e._howls[t].stop();return e},unload:function(){for(var e=this||o,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&void 0!==e.ctx.close&&(e.ctx.close(),e.ctx=null,f()),e},codecs:function(e){return(this||o)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||o;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===new Audio().oncanplaythrough&&(e._canPlayEvent="canplay")}catch(t){e.noAudio=!0}else e.noAudio=!0;try{new Audio().muted&&(e.noAudio=!0)}catch(e){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||o,t=null;try{t="undefined"!=typeof Audio?new Audio:null}catch(t){return e}if(!t||"function"!=typeof t.canPlayType)return e;var n=t.canPlayType("audio/mpeg;").replace(/^no$/,""),r=e._navigator&&e._navigator.userAgent.match(/OPR\/([0-6].)/g);return e._codecs={mp3:!(r&&33>parseInt(r[0].split("/")[1],10)||!n&&!t.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(t.canPlayType('audio/wav; codecs="1"')||t.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(t.canPlayType("audio/x-m4b;")||t.canPlayType("audio/m4b;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(t.canPlayType("audio/x-flac;")||t.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||o;if(!e._audioUnlocked&&e.ctx){e._audioUnlocked=!1,e.autoUnlock=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var t=function t(n){for(;e._html5AudioPool.length<e.html5PoolSize;)try{var r=new Audio;r._unlocked=!0,e._releaseHtml5Audio(r)}catch(t){e.noAudio=!0;break}for(var i=0;i<e._howls.length;i++)if(!e._howls[i]._webAudio)for(var o=e._howls[i]._getSoundIds(),a=0;a<o.length;a++){var s=e._howls[i]._soundById(o[a]);s&&s._node&&!s._node._unlocked&&(s._node._unlocked=!0,s._node.load())}e._autoResume();var c=e.ctx.createBufferSource();c.buffer=e._scratchBuffer,c.connect(e.ctx.destination),void 0===c.start?c.noteOn(0):c.start(0),"function"==typeof e.ctx.resume&&e.ctx.resume(),c.onended=function(){c.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",t,!0),document.removeEventListener("touchend",t,!0),document.removeEventListener("click",t,!0);for(var n=0;n<e._howls.length;n++)e._howls[n]._emit("unlock")}};return document.addEventListener("touchstart",t,!0),document.addEventListener("touchend",t,!0),document.addEventListener("click",t,!0),e}},_obtainHtml5Audio:function(){var e=this||o;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var t=new Audio().play();return t&&"undefined"!=typeof Promise&&(t instanceof Promise||"function"==typeof t.then)&&t.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(e){var t=this||o;return e._unlocked&&t._html5AudioPool.push(e),t},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&void 0!==e.ctx.suspend&&o.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio){for(var n=0;n<e._howls[t]._sounds.length;n++)if(!e._howls[t]._sounds[n]._paused)return e}return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout(function(){if(e.autoSuspend){e._suspendTimer=null,e.state="suspending";var t=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())};e.ctx.suspend().then(t,t)}},3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&void 0!==e.ctx.resume&&o.usingWebAudio)return"running"===e.state&&"interrupted"!==e.ctx.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state||"running"===e.state&&"interrupted"===e.ctx.state?(e.ctx.resume().then(function(){e.state="running";for(var t=0;t<e._howls.length;t++)e._howls[t]._emit("resume")}),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}};var o=new i,a=function(e){e.src&&0!==e.src.length?this.init(e):console.error("An array of source files must be passed with any new Howl.")};a.prototype={init:function(e){var t=this;return o.ctx||f(),t._autoplay=e.autoplay||!1,t._format="string"!=typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload="boolean"!=typeof e.preload&&"metadata"!==e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src="string"!=typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:!(!e.xhr||!e.xhr.withCredentials)&&e.xhr.withCredentials},t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onunlock=e.onunlock?[{fn:e.onunlock}]:[],t._onresume=[],t._webAudio=o.usingWebAudio&&!t._html5,void 0!==o.ctx&&o.ctx&&o.autoUnlock&&o._unlockAudio(),o._howls.push(t),t._autoplay&&t._queue.push({event:"play",action:function(){t.play()}}),t._preload&&"none"!==t._preload&&t.load(),t},load:function(){var e=null;if(o.noAudio)this._emit("loaderror",null,"No audio support.");else{"string"==typeof this._src&&(this._src=[this._src]);for(var t,n,r=0;r<this._src.length;r++){if(this._format&&this._format[r])t=this._format[r];else{if("string"!=typeof(n=this._src[r])){this._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(t=/^data:audio\/([^;,]+);/i.exec(n))||(t=/\.([^.]+)$/.exec(n.split("?",1)[0])),t&&(t=t[1].toLowerCase())}if(t||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),t&&o.codecs(t)){e=this._src[r];break}}if(e)return this._src=e,this._state="loading","https:"===window.location.protocol&&"http:"===e.slice(0,5)&&(this._html5=!0,this._webAudio=!1),new s(this),this._webAudio&&u(this),this;this._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(e,t){var n=this,r=null;if("number"==typeof e)r=e,e=null;else{if("string"==typeof e&&"loaded"===n._state&&!n._sprite[e])return null;if(void 0===e&&(e="__default",!n._playLock)){for(var i=0,a=0;a<n._sounds.length;a++)n._sounds[a]._paused&&!n._sounds[a]._ended&&(i++,r=n._sounds[a]._id);1===i?e=null:r=null}}var s=r?n._soundById(r):n._inactiveSound();if(!s)return null;if(r&&!e&&(e=s._sprite||"__default"),"loaded"!==n._state){s._sprite=e,s._ended=!1;var c=s._id;return n._queue.push({event:"play",action:function(){n.play(c)}}),c}if(r&&!s._paused)return t||n._loadQueue("play"),s._id;n._webAudio&&o._autoResume();var u=Math.max(0,s._seek>0?s._seek:n._sprite[e][0]/1e3),l=Math.max(0,(n._sprite[e][0]+n._sprite[e][1])/1e3-u),d=1e3*l/Math.abs(s._rate),p=n._sprite[e][0]/1e3,f=(n._sprite[e][0]+n._sprite[e][1])/1e3;s._sprite=e,s._ended=!1;var h=function(){s._paused=!1,s._seek=u,s._start=p,s._stop=f,s._loop=!(!s._loop&&!n._sprite[e][2])};if(!(u>=f)){var _=s._node;if(n._webAudio){var v=function(){n._playLock=!1,h(),n._refreshBuffer(s);var e=s._muted||n._muted?0:s._volume;_.gain.setValueAtTime(e,o.ctx.currentTime),s._playStart=o.ctx.currentTime,void 0===_.bufferSource.start?s._loop?_.bufferSource.noteGrainOn(0,u,86400):_.bufferSource.noteGrainOn(0,u,l):s._loop?_.bufferSource.start(0,u,86400):_.bufferSource.start(0,u,l),d!==1/0&&(n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),d)),t||setTimeout(function(){n._emit("play",s._id),n._loadQueue()},0)};"running"===o.state&&"interrupted"!==o.ctx.state?v():(n._playLock=!0,n.once("resume",v),n._clearTimer(s._id))}else{var m=function(){_.currentTime=u,_.muted=s._muted||n._muted||o._muted||_.muted,_.volume=s._volume*o.volume(),_.playbackRate=s._rate;try{var r=_.play();if(r&&"undefined"!=typeof Promise&&(r instanceof Promise||"function"==typeof r.then)?(n._playLock=!0,h(),r.then(function(){n._playLock=!1,_._unlocked=!0,t||(n._emit("play",s._id),n._loadQueue())}).catch(function(){n._playLock=!1,n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),s._ended=!0,s._paused=!0})):t||(n._playLock=!1,h(),n._emit("play",s._id),n._loadQueue()),_.playbackRate=s._rate,_.paused)return void n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==e||s._loop?n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),d):(n._endTimers[s._id]=function(){n._ended(s),_.removeEventListener("ended",n._endTimers[s._id],!1)},_.addEventListener("ended",n._endTimers[s._id],!1))}catch(e){n._emit("playerror",s._id,e)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===_.src&&(_.src=n._src,_.load());var g=window&&window.ejecta||!_.readyState&&o._navigator.isCocoonJS;_.readyState>=3||g?m():(n._playLock=!0,_.addEventListener(o._canPlayEvent,function e(){m(),_.removeEventListener(o._canPlayEvent,e,!1)},!1),n._clearTimer(s._id))}return s._id}n._ended(s)},pause:function(e){var t=this;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var n=t._getSoundIds(e),r=0;r<n.length;r++){t._clearTimer(n[r]);var i=t._soundById(n[r]);if(i&&!i._paused&&(i._seek=t.seek(n[r]),i._rateSeek=0,i._paused=!0,t._stopFade(n[r]),i._node))if(t._webAudio){if(!i._node.bufferSource)continue;void 0===i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),t._cleanBuffer(i._node)}else isNaN(i._node.duration)&&i._node.duration!==1/0||i._node.pause();arguments[1]||t._emit("pause",i?i._id:null)}return t},stop:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(e)}}),n;for(var r=n._getSoundIds(e),i=0;i<r.length;i++){n._clearTimer(r[i]);var o=n._soundById(r[i]);o&&(o._seek=o._start||0,o._rateSeek=0,o._paused=!0,o._ended=!0,n._stopFade(r[i]),o._node&&(n._webAudio?o._node.bufferSource&&(void 0===o._node.bufferSource.stop?o._node.bufferSource.noteOff(0):o._node.bufferSource.stop(0),n._cleanBuffer(o._node)):isNaN(o._node.duration)&&o._node.duration!==1/0||(o._node.currentTime=o._start||0,o._node.pause(),o._node.duration===1/0&&n._clearSound(o._node))),t||n._emit("stop",o._id))}return n},mute:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(e,t)}}),n;if(void 0===t){if("boolean"!=typeof e)return n._muted;n._muted=e}for(var r=n._getSoundIds(t),i=0;i<r.length;i++){var a=n._soundById(r[i]);a&&(a._muted=e,a._interval&&n._stopFade(a._id),n._webAudio&&a._node?a._node.gain.setValueAtTime(e?0:a._volume,o.ctx.currentTime):a._node&&(a._node.muted=!!o._muted||e),n._emit("mute",a._id))}return n},volume:function(){var e,t,n,r=this,i=arguments;if(0===i.length)return r._volume;if(1===i.length||2===i.length&&void 0===i[1]?r._getSoundIds().indexOf(i[0])>=0?t=parseInt(i[0],10):e=parseFloat(i[0]):i.length>=2&&(e=parseFloat(i[0]),t=parseInt(i[1],10)),!(void 0!==e&&e>=0&&e<=1))return(n=t?r._soundById(t):r._sounds[0])?n._volume:0;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"volume",action:function(){r.volume.apply(r,i)}}),r;void 0===t&&(r._volume=e),t=r._getSoundIds(t);for(var a=0;a<t.length;a++)(n=r._soundById(t[a]))&&(n._volume=e,i[2]||r._stopFade(t[a]),r._webAudio&&n._node&&!n._muted?n._node.gain.setValueAtTime(e,o.ctx.currentTime):n._node&&!n._muted&&(n._node.volume=e*o.volume()),r._emit("volume",n._id));return r},fade:function(e,t,n,r){var i=this;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"fade",action:function(){i.fade(e,t,n,r)}}),i;e=Math.min(Math.max(0,parseFloat(e)),1),t=Math.min(Math.max(0,parseFloat(t)),1),n=parseFloat(n),i.volume(e,r);for(var a=i._getSoundIds(r),s=0;s<a.length;s++){var c=i._soundById(a[s]);if(c){if(r||i._stopFade(a[s]),i._webAudio&&!c._muted){var u=o.ctx.currentTime,l=u+n/1e3;c._volume=e,c._node.gain.setValueAtTime(e,u),c._node.gain.linearRampToValueAtTime(t,l)}i._startFadeInterval(c,e,t,n,a[s],void 0===r)}}return i},_startFadeInterval:function(e,t,n,r,i,o){var a=this,s=t,c=n-t,u=Math.abs(c/.01),l=Math.max(4,u>0?r/u:r),d=Date.now();e._fadeTo=n,e._interval=setInterval(function(){var i=(Date.now()-d)/r;d=Date.now(),s+=c*i,s=Math.round(100*s)/100,s=c<0?Math.max(n,s):Math.min(n,s),a._webAudio?e._volume=s:a.volume(s,e._id,!0),o&&(a._volume=s),(n<t&&s<=n||n>t&&s>=n)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,a.volume(n,e._id),a._emit("fade",e._id))},l)},_stopFade:function(e){var t=this._soundById(e);return t&&t._interval&&(this._webAudio&&t._node.gain.cancelScheduledValues(o.ctx.currentTime),clearInterval(t._interval),t._interval=null,this.volume(t._fadeTo,e),t._fadeTo=null,this._emit("fade",e)),this},loop:function(){var e,t,n,r=arguments;if(0===r.length)return this._loop;if(1===r.length){if("boolean"!=typeof r[0])return!!(n=this._soundById(parseInt(r[0],10)))&&n._loop;e=r[0],this._loop=e}else 2===r.length&&(e=r[0],t=parseInt(r[1],10));for(var i=this._getSoundIds(t),o=0;o<i.length;o++)(n=this._soundById(i[o]))&&(n._loop=e,this._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=e,e&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop)));return this},rate:function(){var e,t,n,r=this,i=arguments;if(0===i.length?t=r._sounds[0]._id:1===i.length?r._getSoundIds().indexOf(i[0])>=0?t=parseInt(i[0],10):e=parseFloat(i[0]):2===i.length&&(e=parseFloat(i[0]),t=parseInt(i[1],10)),"number"!=typeof e)return(n=r._soundById(t))?n._rate:r._rate;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"rate",action:function(){r.rate.apply(r,i)}}),r;void 0===t&&(r._rate=e),t=r._getSoundIds(t);for(var a=0;a<t.length;a++)if(n=r._soundById(t[a])){r.playing(t[a])&&(n._rateSeek=r.seek(t[a]),n._playStart=r._webAudio?o.ctx.currentTime:n._playStart),n._rate=e,r._webAudio&&n._node&&n._node.bufferSource?n._node.bufferSource.playbackRate.setValueAtTime(e,o.ctx.currentTime):n._node&&(n._node.playbackRate=e);var s=r.seek(t[a]),c=1e3*((r._sprite[n._sprite][0]+r._sprite[n._sprite][1])/1e3-s)/Math.abs(n._rate);!r._endTimers[t[a]]&&n._paused||(r._clearTimer(t[a]),r._endTimers[t[a]]=setTimeout(r._ended.bind(r,n),c)),r._emit("rate",n._id)}return r},seek:function(){var e,t,n=this,r=arguments;if(0===r.length?t=n._sounds[0]._id:1===r.length?n._getSoundIds().indexOf(r[0])>=0?t=parseInt(r[0],10):n._sounds.length&&(t=n._sounds[0]._id,e=parseFloat(r[0])):2===r.length&&(e=parseFloat(r[0]),t=parseInt(r[1],10)),void 0===t)return n;if("number"==typeof e&&("loaded"!==n._state||n._playLock))return n._queue.push({event:"seek",action:function(){n.seek.apply(n,r)}}),n;var i=n._soundById(t);if(i){if(!("number"==typeof e&&e>=0)){if(n._webAudio){var a=n.playing(t)?o.ctx.currentTime-i._playStart:0,s=i._rateSeek?i._rateSeek-i._seek:0;return i._seek+(s+a*Math.abs(i._rate))}return i._node.currentTime}var c=n.playing(t);c&&n.pause(t,!0),i._seek=e,i._ended=!1,n._clearTimer(t),n._webAudio||!i._node||isNaN(i._node.duration)||(i._node.currentTime=e);var u=function(){n._emit("seek",t),c&&n.play(t,!0)};c&&!n._webAudio?setTimeout(function e(){n._playLock?setTimeout(e,0):u()},0):u()}return n},playing:function(e){if("number"==typeof e){var t=this._soundById(e);return!!t&&!t._paused}for(var n=0;n<this._sounds.length;n++)if(!this._sounds[n]._paused)return!0;return!1},duration:function(e){var t=this._duration,n=this._soundById(e);return n&&(t=this._sprite[n._sprite][1]/1e3),t},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,n=0;n<t.length;n++)t[n]._paused||e.stop(t[n]._id),e._webAudio||(e._clearSound(t[n]._node),t[n]._node.removeEventListener("error",t[n]._errorFn,!1),t[n]._node.removeEventListener(o._canPlayEvent,t[n]._loadFn,!1),t[n]._node.removeEventListener("ended",t[n]._endFn,!1),o._releaseHtml5Audio(t[n]._node)),delete t[n]._node,e._clearTimer(t[n]._id);var r=o._howls.indexOf(e);r>=0&&o._howls.splice(r,1);var i=!0;for(n=0;n<o._howls.length;n++)if(o._howls[n]._src===e._src||e._src.indexOf(o._howls[n]._src)>=0){i=!1;break}return c&&i&&delete c[e._src],o.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,t,n,r){var i=this["_on"+e];return"function"==typeof t&&i.push(r?{id:n,fn:t,once:r}:{id:n,fn:t}),this},off:function(e,t,n){var r=this["_on"+e],i=0;if("number"==typeof t&&(n=t,t=null),t||n)for(i=0;i<r.length;i++){var o=n===r[i].id;if(t===r[i].fn&&o||!t&&o){r.splice(i,1);break}}else if(e)this["_on"+e]=[];else{var a=Object.keys(this);for(i=0;i<a.length;i++)0===a[i].indexOf("_on")&&Array.isArray(this[a[i]])&&(this[a[i]]=[])}return this},once:function(e,t,n){return this.on(e,t,n,1),this},_emit:function(e,t,n){for(var r=this["_on"+e],i=r.length-1;i>=0;i--)!(r[i].id&&r[i].id!==t&&"load"!==e)&&(setTimeout((function(e){e.call(this,t,n)}).bind(this,r[i].fn),0),r[i].once&&this.off(e,r[i].fn,r[i].id));return this._loadQueue(e),this},_loadQueue:function(e){if(this._queue.length>0){var t=this._queue[0];t.event===e&&(this._queue.shift(),this._loadQueue()),e||t.action()}return this},_ended:function(e){var t=e._sprite;if(!this._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(this._ended.bind(this,e),100),this;var n=!(!e._loop&&!this._sprite[t][2]);if(this._emit("end",e._id),!this._webAudio&&n&&this.stop(e._id,!0).play(e._id),this._webAudio&&n){this._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=o.ctx.currentTime;var r=1e3*(e._stop-e._start)/Math.abs(e._rate);this._endTimers[e._id]=setTimeout(this._ended.bind(this,e),r)}return this._webAudio&&!n&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,this._clearTimer(e._id),this._cleanBuffer(e._node),o._autoSuspend()),this._webAudio||n||this.stop(e._id,!0),this},_clearTimer:function(e){if(this._endTimers[e]){if("function"!=typeof this._endTimers[e])clearTimeout(this._endTimers[e]);else{var t=this._soundById(e);t&&t._node&&t._node.removeEventListener("ended",this._endTimers[e],!1)}delete this._endTimers[e]}return this},_soundById:function(e){for(var t=0;t<this._sounds.length;t++)if(e===this._sounds[t]._id)return this._sounds[t];return null},_inactiveSound:function(){this._drain();for(var e=0;e<this._sounds.length;e++)if(this._sounds[e]._ended)return this._sounds[e].reset();return new s(this)},_drain:function(){var e=this._pool,t=0,n=0;if(!(this._sounds.length<e)){for(n=0;n<this._sounds.length;n++)this._sounds[n]._ended&&t++;for(n=this._sounds.length-1;n>=0;n--){if(t<=e)return;this._sounds[n]._ended&&(this._webAudio&&this._sounds[n]._node&&this._sounds[n]._node.disconnect(0),this._sounds.splice(n,1),t--)}}},_getSoundIds:function(e){if(void 0===e){for(var t=[],n=0;n<this._sounds.length;n++)t.push(this._sounds[n]._id);return t}return[e]},_refreshBuffer:function(e){return e._node.bufferSource=o.ctx.createBufferSource(),e._node.bufferSource.buffer=c[this._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,o.ctx.currentTime),this},_cleanBuffer:function(e){var t=o._navigator&&o._navigator.vendor.indexOf("Apple")>=0;if(o._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),t))try{e.bufferSource.buffer=o._scratchBuffer}catch(e){}return e.bufferSource=null,this},_clearSound:function(e){/MSIE |Trident\//.test(o._navigator&&o._navigator.userAgent)||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var s=function(e){this._parent=e,this.init()};s.prototype={init:function(){var e=this._parent;return this._muted=e._muted,this._loop=e._loop,this._volume=e._volume,this._rate=e._rate,this._seek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++o._counter,e._sounds.push(this),this.create(),this},create:function(){var e=this._parent,t=o._muted||this._muted||this._parent._muted?0:this._volume;return e._webAudio?(this._node=void 0===o.ctx.createGain?o.ctx.createGainNode():o.ctx.createGain(),this._node.gain.setValueAtTime(t,o.ctx.currentTime),this._node.paused=!0,this._node.connect(o.masterGain)):o.noAudio||(this._node=o._obtainHtml5Audio(),this._errorFn=this._errorListener.bind(this),this._node.addEventListener("error",this._errorFn,!1),this._loadFn=this._loadListener.bind(this),this._node.addEventListener(o._canPlayEvent,this._loadFn,!1),this._endFn=this._endListener.bind(this),this._node.addEventListener("ended",this._endFn,!1),this._node.src=e._src,this._node.preload=!0===e._preload?"auto":e._preload,this._node.volume=t*o.volume(),this._node.load()),this},reset:function(){var e=this._parent;return this._muted=e._muted,this._loop=e._loop,this._volume=e._volume,this._rate=e._rate,this._seek=0,this._rateSeek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++o._counter,this},_errorListener:function(){this._parent._emit("loaderror",this._id,this._node.error?this._node.error.code:0),this._node.removeEventListener("error",this._errorFn,!1)},_loadListener:function(){var e=this._parent;e._duration=Math.ceil(10*this._node.duration)/10,0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue()),this._node.removeEventListener(o._canPlayEvent,this._loadFn,!1)},_endListener:function(){var e=this._parent;e._duration===1/0&&(e._duration=Math.ceil(10*this._node.duration)/10,e._sprite.__default[1]===1/0&&(e._sprite.__default[1]=1e3*e._duration),e._ended(this)),this._node.removeEventListener("ended",this._endFn,!1)}};var c={},u=function(e){var t=e._src;if(c[t])return e._duration=c[t].duration,void p(e);if(/^data:[^;]+;base64,/.test(t)){for(var n=atob(t.split(",")[1]),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);d(r.buffer,e)}else{var o=new XMLHttpRequest;o.open(e._xhr.method,t,!0),o.withCredentials=e._xhr.withCredentials,o.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach(function(t){o.setRequestHeader(t,e._xhr.headers[t])}),o.onload=function(){var t=(o.status+"")[0];"0"===t||"2"===t||"3"===t?d(o.response,e):e._emit("loaderror",null,"Failed loading audio file with status: "+o.status+".")},o.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete c[t],e.load())},l(o)}},l=function(e){try{e.send()}catch(t){e.onerror()}},d=function(e,t){var n=function(){t._emit("loaderror",null,"Decoding audio data failed.")},r=function(e){e&&t._sounds.length>0?(c[t._src]=e,p(t,e)):n()};"undefined"!=typeof Promise&&1===o.ctx.decodeAudioData.length?o.ctx.decodeAudioData(e).then(r).catch(n):o.ctx.decodeAudioData(e,r,n)},p=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue())},f=function(){if(o.usingWebAudio){try{"undefined"!=typeof AudioContext?o.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?o.ctx=new webkitAudioContext:o.usingWebAudio=!1}catch(e){o.usingWebAudio=!1}o.ctx||(o.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(o._navigator&&o._navigator.platform),t=o._navigator&&o._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=t?parseInt(t[1],10):null;if(e&&n&&n<9){var r=/safari/.test(o._navigator&&o._navigator.userAgent.toLowerCase());o._navigator&&!r&&(o.usingWebAudio=!1)}o.usingWebAudio&&(o.masterGain=void 0===o.ctx.createGain?o.ctx.createGainNode():o.ctx.createGain(),o.masterGain.gain.setValueAtTime(o._muted?0:o._volume,o.ctx.currentTime),o.masterGain.connect(o.ctx.destination)),o._setup()}};void 0!==(r=(function(){return{Howler:o,Howl:a}}).apply(t,[]))&&(e.exports=r),t.Howler=o,t.Howl=a,void 0!==n.g?(n.g.HowlerGlobal=i,n.g.Howler=o,n.g.Howl=a,n.g.Sound=s):"undefined"!=typeof window&&(window.HowlerGlobal=i,window.Howler=o,window.Howl=a,window.Sound=s)}(),function(){"use strict";HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){if(!this.ctx||!this.ctx.listener)return this;for(var t=this._howls.length-1;t>=0;t--)this._howls[t].stereo(e);return this},HowlerGlobal.prototype.pos=function(e,t,n){return this.ctx&&this.ctx.listener?(t="number"!=typeof t?this._pos[1]:t,n="number"!=typeof n?this._pos[2]:n,"number"!=typeof e?this._pos:(this._pos=[e,t,n],void 0!==this.ctx.listener.positionX?(this.ctx.listener.positionX.setTargetAtTime(this._pos[0],Howler.ctx.currentTime,.1),this.ctx.listener.positionY.setTargetAtTime(this._pos[1],Howler.ctx.currentTime,.1),this.ctx.listener.positionZ.setTargetAtTime(this._pos[2],Howler.ctx.currentTime,.1)):this.ctx.listener.setPosition(this._pos[0],this._pos[1],this._pos[2]),this)):this},HowlerGlobal.prototype.orientation=function(e,t,n,r,i,o){if(!this.ctx||!this.ctx.listener)return this;var a=this._orientation;return t="number"!=typeof t?a[1]:t,n="number"!=typeof n?a[2]:n,r="number"!=typeof r?a[3]:r,i="number"!=typeof i?a[4]:i,o="number"!=typeof o?a[5]:o,"number"!=typeof e?a:(this._orientation=[e,t,n,r,i,o],void 0!==this.ctx.listener.forwardX?(this.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),this.ctx.listener.forwardY.setTargetAtTime(t,Howler.ctx.currentTime,.1),this.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),this.ctx.listener.upX.setTargetAtTime(r,Howler.ctx.currentTime,.1),this.ctx.listener.upY.setTargetAtTime(i,Howler.ctx.currentTime,.1),this.ctx.listener.upZ.setTargetAtTime(o,Howler.ctx.currentTime,.1)):this.ctx.listener.setOrientation(e,t,n,r,i,o),this)},Howl.prototype.init=(n=Howl.prototype.init,function(e){return this._orientation=e.orientation||[1,0,0],this._stereo=e.stereo||null,this._pos=e.pos||null,this._pannerAttr={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:360,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:360,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:0,distanceModel:void 0!==e.distanceModel?e.distanceModel:"inverse",maxDistance:void 0!==e.maxDistance?e.maxDistance:1e4,panningModel:void 0!==e.panningModel?e.panningModel:"HRTF",refDistance:void 0!==e.refDistance?e.refDistance:1,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:1},this._onstereo=e.onstereo?[{fn:e.onstereo}]:[],this._onpos=e.onpos?[{fn:e.onpos}]:[],this._onorientation=e.onorientation?[{fn:e.onorientation}]:[],n.call(this,e)}),Howl.prototype.stereo=function(e,t){var n=this;if(!n._webAudio)return n;if("loaded"!==n._state)return n._queue.push({event:"stereo",action:function(){n.stereo(e,t)}}),n;var i=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===t){if("number"!=typeof e)return n._stereo;n._stereo=e,n._pos=[e,0,0]}for(var o=n._getSoundIds(t),a=0;a<o.length;a++){var s=n._soundById(o[a]);if(s){if("number"!=typeof e)return s._stereo;s._stereo=e,s._pos=[e,0,0],s._node&&(s._pannerAttr.panningModel="equalpower",s._panner&&s._panner.pan||r(s,i),"spatial"===i?void 0!==s._panner.positionX?(s._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),s._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),s._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):s._panner.setPosition(e,0,0):s._panner.pan.setValueAtTime(e,Howler.ctx.currentTime)),n._emit("stereo",s._id)}}return n},Howl.prototype.pos=function(e,t,n,i){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"pos",action:function(){o.pos(e,t,n,i)}}),o;if(t="number"!=typeof t?0:t,n="number"!=typeof n?-.5:n,void 0===i){if("number"!=typeof e)return o._pos;o._pos=[e,t,n]}for(var a=o._getSoundIds(i),s=0;s<a.length;s++){var c=o._soundById(a[s]);if(c){if("number"!=typeof e)return c._pos;c._pos=[e,t,n],c._node&&(c._panner&&!c._panner.pan||r(c,"spatial"),void 0!==c._panner.positionX?(c._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),c._panner.positionY.setValueAtTime(t,Howler.ctx.currentTime),c._panner.positionZ.setValueAtTime(n,Howler.ctx.currentTime)):c._panner.setPosition(e,t,n)),o._emit("pos",c._id)}}return o},Howl.prototype.orientation=function(e,t,n,i){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"orientation",action:function(){o.orientation(e,t,n,i)}}),o;if(t="number"!=typeof t?o._orientation[1]:t,n="number"!=typeof n?o._orientation[2]:n,void 0===i){if("number"!=typeof e)return o._orientation;o._orientation=[e,t,n]}for(var a=o._getSoundIds(i),s=0;s<a.length;s++){var c=o._soundById(a[s]);if(c){if("number"!=typeof e)return c._orientation;c._orientation=[e,t,n],c._node&&(c._panner||(c._pos||(c._pos=o._pos||[0,0,-.5]),r(c,"spatial")),void 0!==c._panner.orientationX?(c._panner.orientationX.setValueAtTime(e,Howler.ctx.currentTime),c._panner.orientationY.setValueAtTime(t,Howler.ctx.currentTime),c._panner.orientationZ.setValueAtTime(n,Howler.ctx.currentTime)):c._panner.setOrientation(e,t,n)),o._emit("orientation",c._id)}}return o},Howl.prototype.pannerAttr=function(){var e,t,n,i=arguments;if(!this._webAudio)return this;if(0===i.length)return this._pannerAttr;if(1===i.length){if("object"!=typeof i[0])return(n=this._soundById(parseInt(i[0],10)))?n._pannerAttr:this._pannerAttr;e=i[0],void 0===t&&(e.pannerAttr||(e.pannerAttr={coneInnerAngle:e.coneInnerAngle,coneOuterAngle:e.coneOuterAngle,coneOuterGain:e.coneOuterGain,distanceModel:e.distanceModel,maxDistance:e.maxDistance,refDistance:e.refDistance,rolloffFactor:e.rolloffFactor,panningModel:e.panningModel}),this._pannerAttr={coneInnerAngle:void 0!==e.pannerAttr.coneInnerAngle?e.pannerAttr.coneInnerAngle:this._coneInnerAngle,coneOuterAngle:void 0!==e.pannerAttr.coneOuterAngle?e.pannerAttr.coneOuterAngle:this._coneOuterAngle,coneOuterGain:void 0!==e.pannerAttr.coneOuterGain?e.pannerAttr.coneOuterGain:this._coneOuterGain,distanceModel:void 0!==e.pannerAttr.distanceModel?e.pannerAttr.distanceModel:this._distanceModel,maxDistance:void 0!==e.pannerAttr.maxDistance?e.pannerAttr.maxDistance:this._maxDistance,refDistance:void 0!==e.pannerAttr.refDistance?e.pannerAttr.refDistance:this._refDistance,rolloffFactor:void 0!==e.pannerAttr.rolloffFactor?e.pannerAttr.rolloffFactor:this._rolloffFactor,panningModel:void 0!==e.pannerAttr.panningModel?e.pannerAttr.panningModel:this._panningModel})}else 2===i.length&&(e=i[0],t=parseInt(i[1],10));for(var o=this._getSoundIds(t),a=0;a<o.length;a++)if(n=this._soundById(o[a])){var s=n._pannerAttr;s={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:s.coneInnerAngle,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:s.coneOuterAngle,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:s.coneOuterGain,distanceModel:void 0!==e.distanceModel?e.distanceModel:s.distanceModel,maxDistance:void 0!==e.maxDistance?e.maxDistance:s.maxDistance,refDistance:void 0!==e.refDistance?e.refDistance:s.refDistance,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:s.rolloffFactor,panningModel:void 0!==e.panningModel?e.panningModel:s.panningModel};var c=n._panner;c?(c.coneInnerAngle=s.coneInnerAngle,c.coneOuterAngle=s.coneOuterAngle,c.coneOuterGain=s.coneOuterGain,c.distanceModel=s.distanceModel,c.maxDistance=s.maxDistance,c.refDistance=s.refDistance,c.rolloffFactor=s.rolloffFactor,c.panningModel=s.panningModel):(n._pos||(n._pos=this._pos||[0,0,-.5]),r(n,"spatial"))}return this},Sound.prototype.init=(e=Sound.prototype.init,function(){var t=this._parent;this._orientation=t._orientation,this._stereo=t._stereo,this._pos=t._pos,this._pannerAttr=t._pannerAttr,e.call(this),this._stereo?t.stereo(this._stereo):this._pos&&t.pos(this._pos[0],this._pos[1],this._pos[2],this._id)}),Sound.prototype.reset=(t=Sound.prototype.reset,function(){var e=this._parent;return this._orientation=e._orientation,this._stereo=e._stereo,this._pos=e._pos,this._pannerAttr=e._pannerAttr,this._stereo?e.stereo(this._stereo):this._pos?e.pos(this._pos[0],this._pos[1],this._pos[2],this._id):this._panner&&(this._panner.disconnect(0),this._panner=void 0,e._refreshBuffer(this)),t.call(this)});var e,t,n,r=function(e,t){"spatial"===(t=t||"spatial")?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,void 0!==e._panner.positionX?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),void 0!==e._panner.orientationX?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}}()},18578(e,t,n){"use strict";n.d(t,{a:()=>e_});var r,i,o,a,s,c,u,l={};Object.defineProperty(l,"notes",{get:function(){return ea}}),Object.defineProperty(l,"instruments",{get:function(){return es}}),Object.defineProperty(l,"set_instrument_by_id",{get:function(){return ec}}),Object.defineProperty(l,"beats_to_duration",{get:function(){return eu}}),Object.defineProperty(l,"duration_to_beats",{get:function(){return el}}),Object.defineProperty(l,"note_id_to_key",{get:function(){return ed}}),Object.defineProperty(l,"note_key_to_id",{get:function(){return ep}}),Object.defineProperty(l,"play",{get:function(){return ef}}),Object.defineProperty(l,"midi_stop",{get:function(){return eh}});var d={"sound_player/ios_webm_error":"该设备暂时不支持播放录音音频","sound_player/block_no_network":"无网络连接，作品中一些积木无法正常运行","voice_detection/not_found_error":"无录音设备，无法进行侦测","voice_detection/pc_permission_error":"未开启声音侦测权限，快去设置吧","voice_detection/no_supported_error":"你的浏览器不支持录音，建议下载最新的谷歌浏览器","voice_detection/ios_wechat_error":"微信端暂不支持声音侦测功能，可以在safari浏览器中运行作品","voice_detection/ios_permission_error":"未获取到录音权限","voice_detection/ios_version_error":"系统版本太低，无法使用声音侦测","voice_detection/android_permission_error":"未获取到录音权限，建议用微信扫一扫打开","record_error/pc_browser_not_support":"你的浏览器不支持录音，建议下载最新的谷歌浏览器","record_error/device_error":"你的电脑没有录音设备，无法录音","record_error/pc_permission_error":"需要开启浏览器录音设备","record_error/pc_other_case":"你的浏览器不支持录音","record_error/ios_permission_error":"未获得录音权限","record_error/ios_other_case":"你的设备不支持录音","record_error/android_permission_error":"未获取到录音权限，建议用微信扫一扫打开","record_error/android_other_case":"你的设备不支持录音","say/not_support":"该浏览器不支持说此类语言"};function p(e){return d[e]?d[e]:e}var f=n(22224);function h(e,t){r&&r({type:t,content:e})}function _(){return"pc"!=(navigator.userAgent.indexOf("iPad")>=0||navigator.userAgent.indexOf("iPhone")>=0?"ios":navigator.userAgent.indexOf("Android")>=0?"android":"pc")&&(screen.width<425||screen.height<425||navigator.userAgent.indexOf("iPhone")>=0||navigator.userAgent.indexOf("Android")>=0&&navigator.userAgent.indexOf("Mobile")>=0)&&navigator.userAgent.indexOf("iPhone")>=0}var v={audio_recording:!1};function m(){return window.AudioContext=window.AudioContext||window.webkitAudioContext,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mediaDevices&&navigator.mediaDevices.getUserMedia,window.URL=window.URL||window.webkitURL,AudioContext&&(navigator.getUserMedia||navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)&&URL&&(v.audio_recording=!0),v}function g(){return navigator.userAgent.indexOf("iPad")>=0||navigator.userAgent.indexOf("iPhone")>=0?"ios":navigator.userAgent.indexOf("Android")>=0?"android":"pc"}function y(){return"pc"===g()}function b(){return"ios"===g()}function E(){return"android"===g()}var w=n(72756);function O(){var e,t,n,r=0,i=[],o=this;function a(){for(var e=0;e<n;e++)i[e]=[]}function s(e,t){for(var n=new Float32Array(t),r=0,i=0;i<e.length;i++)n.set(e[i],r),r+=e[i].length;return n}function c(e,t,n){for(var r=0;r<n.length;r++)e.setUint8(t+r,n.charCodeAt(r))}o.onmessage=function(u){var l;switch(u.data.command){case"init":l=u.data.config,__DEV__&&console.log("WAV Encoding worker init:",l),e=l.record_sample_rate,n=l.num_channels,t=l.target_sample_rate,a();break;case"record":for(var d=u.data.buffer,p=0;p<n;p++)i[p].push(d[p]);r+=d[0].length;break;case"exportWAV":!function(a){for(var u=[],l=0;l<n;l++)u.push(s(i[l],r));var d=new Blob([function(e){var r=new DataView(new ArrayBuffer(44+2*e.length));c(r,0,"RIFF"),r.setUint32(4,36+2*e.length,!0),c(r,8,"WAVE"),c(r,12,"fmt "),r.setUint32(16,16,!0),r.setUint16(20,1,!0),r.setUint16(22,n,!0),r.setUint32(24,t,!0),r.setUint32(28,4*t,!0),r.setUint16(32,2*n,!0),r.setUint16(34,16,!0),c(r,36,"data"),r.setUint32(40,2*e.length,!0);for(var i=44,o=0;o<e.length;o++,i+=2){var a=Math.max(-1,Math.min(1,e[o]));r.setInt16(i,a<0?32768*a:32767*a,!0)}return r}(function(n){if(t==e)return n;if(t>e)throw Error("downsampling rate show be smaller than original sample rate");for(var r=e/t,i=new Float32Array(Math.round(n.length/r)),o=0,a=0;o<i.length;){for(var s=Math.round((o+1)*r),c=0,u=0,l=a;l<s&&l<n.length;l++)c+=n[l],u++;i[o]=c/u,o++,a=s}return i}(2===n?function(e,t){for(var n=e.length+t.length,r=new Float32Array(n),i=0,o=0;i<n;)r[i++]=e[o],r[i++]=t[o],o++;return r}(u[0],u[1]):u[0]))],{type:a});o.postMessage({command:"exportWAV",data:d})}(u.data.mime_type);break;case"getBuffer":for(var f=[],h=0;h<n;h++)f.push(s(i[h],r));o.postMessage({command:"getBuffer",data:f});break;case"clear":r=0,i=[],a()}}}var x=function(){function e(e,t){var n=this;this.config={buffer_len:4096,num_channels:2,sample_rate:44100,mime_type:"audio/wav"},this._state="inactive",this.callbacks={getBuffer:[],exportWAV:[]},f.assign(this.config,t),this.context=e.context,this.node=(this.context.createScriptProcessor||this.context.createJavaScriptNode).call(this.context,this.config.buffer_len,this.config.num_channels,this.config.num_channels),this.node.onaudioprocess=function(e){if("recording"===n._state){for(var t=[],r=0;r<n.config.num_channels;r++)t.push(e.inputBuffer.getChannelData(r));n.worker.postMessage({command:"record",buffer:t})}},e.connect(this.node),this.node.connect(this.context.destination),this.worker=new w(O,{}),this.worker.postMessage({command:"init",config:{record_sample_rate:this.context.sampleRate,num_channels:this.config.num_channels,target_sample_rate:this.config.sample_rate}}),this.worker.onmessage=function(e){__DEV__&&console.log("WAV Recorder onmessage:",e.data);var t=n.callbacks[e.data.command].pop();"function"==typeof t&&t(e.data.data)}}return Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.clear(),this._state="recording",this.record()},e.prototype.record=function(){this._state="recording"},e.prototype.stop=function(e){this._state="inactive",this.export_wav(e)},e.prototype.clear=function(){this.worker.postMessage({command:"clear"})},e.prototype.getBuffer=function(e){if(!(e=e||this.config.callback))throw Error("Callback not set");this.callbacks.getBuffer.push(e),this.worker.postMessage({command:"getBuffer"})},e.prototype.export_wav=function(e,t){if(t=t||this.config.mime_type,!(e=e||this.config.callback))throw Error("Callback not set");this.callbacks.exportWAV.push(e),this.worker.postMessage({command:"exportWAV",mime_type:t})},e}(),S=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},T=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){var c=[o,s];if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&c[0]?r.return:c[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,c[1])).done)return i;switch(r=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===c[0]||2===c[0])){a=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){a.label=c[1];break}if(6===c[0]&&a.label<i[1]){a.label=i[1],i=c;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(c);break}i[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}};function R(e){this.stream=void 0,this.audio_context=void 0,this.on_stop=void 0,this.sample_rate=0,this.num_channels=0,this.blob_chunks=[],__DEV__&&console.log("Recorder Init:",e),f.assign(this,e),__DEV__&&console.log("Recorder Init with SampleRate:",this.sample_rate)}R.prototype.init=function(e){return S(this,void 0,void 0,function(){var t,n,r,i,o=this;return T(this,function(a){switch(a.label){case 0:if(t=m(),n={audio:e||!0},!t.audio_recording)throw y()?this.recorder_noticer("record_error/pc_browser_not_support"):E()?this.recorder_noticer("record_error/android_permission_error"):b()&&this.recorder_noticer("record_error/ios_permission_error"),ReferenceError("Browser not supported.");if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)return[3,5];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,navigator.mediaDevices.getUserMedia(n)];case 2:return r=a.sent(),[2,this.create_recorder(r)];case 3:throw i=a.sent(),this.check_failed(i),i;case 4:return[3,6];case 5:return[2,new Promise(function(e,t){navigator.getUserMedia(n,function(t){e(o.create_recorder(t))},function(e){o.check_failed(e),t(e)})})];case 6:return[2]}})})},R.prototype.create_recorder=function(e,t){var n,r=this;if(this.stream=e,"undefined"==typeof MediaRecorder||this.sample_rate||this.num_channels)return __DEV__&&console.log("Use fallback recorder."),this.create_fallback_recorder(e);MediaRecorder.isTypeSupported("audio/webm")&&(n="audio/webm");var i=new MediaRecorder(e,{mimeType:n});return this.media_stream_recorder=i,this.media_stream_recorder.ondataavailable=function(e){r.blob_chunks.push(e.data)},this.media_stream_recorder.onstop=function(){if(!r.media_stream_recorder)throw Error("Recorder not found!");if(r.media_stream_recorder instanceof MediaRecorder){if(r.on_stop){var e=new Blob(r.blob_chunks,{type:r.media_stream_recorder.mimeType});r.on_stop(e),r.blob_chunks.length=0}delete r.media_stream_recorder,r.dispose().then(function(){__DEV__&&console.log("Stop Recording: Disposed")}).catch(function(e){throw e})}},this.media_stream_recorder},R.prototype.create_fallback_recorder=function(e){var t=this;this.audio_context=new AudioContext;var n=this.audio_context.createMediaStreamSource(e),r={num_channels:this.num_channels,sample_rate:this.sample_rate,callback:function(e){t.on_stop&&(t.on_stop(e),t.media_stream_recorder instanceof x&&(t.media_stream_recorder.worker&&t.media_stream_recorder.worker.terminate(),t.stream&&t.stream.getTracks()[0].stop())),t.remove_recorder()}};return this.media_stream_recorder=new x(n,r),this.media_stream_recorder},R.prototype.start_recording=function(){return S(this,void 0,void 0,function(){return T(this,function(e){switch(e.label){case 0:return this.media_stream_recorder?[3,2]:[4,this.init()];case 1:e.sent(),e.label=2;case 2:return this.media_stream_recorder?this.media_stream_recorder.start():console.warn("Recorder not prepared."),[2]}})})},R.prototype.stop_recording=function(){this.media_stream_recorder?this.media_stream_recorder.stop():console.warn("You are not recording.")},R.prototype.check_failed=function(e){switch(__DEV__&&console.warn(e.name),e.name){case"DevicesNotFoundError":case"NotFoundError":this.recorder_noticer("record_error/device_error");break;case"PermissionDeniedError":case"PermissionDismissedError":case"NotAllowedError":y()?this.recorder_noticer("record_error/pc_permission_error"):E()?this.recorder_noticer("record_error/android_permission_error"):b()&&this.recorder_noticer("record_error/ios_permission_error");break;default:y()?this.recorder_noticer("record_error/pc_other_case"):E()?this.recorder_noticer("record_error/android_other_case"):b()&&this.recorder_noticer("record_error/ios_other_case")}},R.prototype.recorder_noticer=function(e){h(p(e),"error")},R.prototype.if_recorder_work=function(){return!!this.media_stream_recorder},R.prototype.is_recording=function(){if(this.media_stream_recorder)return"recording"===this.media_stream_recorder.state},R.prototype.dispose=function(){return S(this,void 0,void 0,function(){return T(this,function(e){switch(e.label){case 0:return this.audio_context?[4,this.audio_context.close()]:[3,2];case 1:e.sent(),delete this.audio_context,e.label=2;case 2:return this.stream&&(this.stream.getTracks()[0].stop(),delete this.stream),[2]}})})},R.prototype.remove_recorder=function(){delete this.media_stream_recorder,this.dispose().then(function(){__DEV__&&console.log("Stop Recording: Disposed")}).catch(function(e){throw e})};var k=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},A=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){var c=[o,s];if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&c[0]?r.return:c[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,c[1])).done)return i;switch(r=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===c[0]||2===c[0])){a=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){a.label=c[1];break}if(6===c[0]&&a.label<i[1]){a.label=i[1],i=c;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(c);break}i[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}},I=!1,D=!1,C=void 0;function L(){return k(this,void 0,void 0,function(){return A(this,function(e){switch(e.label){case 0:return D=!1,I=!1,u?(u(),[2]):(C&&C.getTracks()[0].stop(),a&&(s&&o&&s.disconnect(o.destination),a.disconnect(),a=void 0),o?[4,o.close()]:[3,2]);case 1:e.sent(),e.label=2;case 2:return o=void 0,[2]}})})}var N=n(38671),M=n(1645),j={},U={},F={};function P(e,t,n){void 0===n&&(n=!1);var r=new N.Howl({src:t,html5:!1,format:["mp3","wav"]});return n?U[e]=r:j[e]=r,r}function B(e,t,n,r){var i=M.v4();F[i]=i;var o=document.body,a=document.createElement("audio");a.autoplay=!0,a.src=e,a.style.display="none",a.setAttribute("id","audio"+i),o.appendChild(a),a.addEventListener("error",function(e){n&&n(e)}),a.addEventListener("ended",function(e){t&&t(e)}),a.addEventListener("pause",function(e){r&&r()})}function H(e){var t;e?U[e]?((t=U[e]).stop(),t.unload()):j[e]?(t=j[e]).stop():console.warn("Howl not Found"):(f.forEach(j,function(e){e.stop()}),f.forEach(U,function(e){e.stop(),e.unload()}),f.forEach(F,function(e,t){var n=document.getElementById("audio"+t);n&&n.pause()}),F={})}function V(e){2==e&&h(p("sound_player/block_no_network"),"notice")}var G={},W={},q={};function z(e,t,n){void 0===n&&(n=!1);var r=new N.Howl({src:t,html5:!0,format:["mp3","wav"]});return n?W[e]=r:G[e]=r,r}function Y(e,t,n,r,i){var o=z(r||M.v4(),e,!0);if(o){if("loaded"===o.state())return void o.play();o.once("load",function(){o.play()}),o.once("loaderror",function(e,t){console.error("Howl Error when Add Sound to Store:",t),J(t),n&&n()}),o.on("end",function(){t&&t(),o.unload()}),o.once("stop",function(){i&&i()})}}function X(e){var t;e?W[e]?((t=W[e]).stop(),t.unload()):G[e]?(t=G[e]).stop():console.warn("Howl not Found"):(f.forEach(G,function(e){e.stop()}),f.forEach(W,function(e){e.stop(),e.unload()}),f.forEach(q,function(e,t){var n=document.getElementById("audio"+t);n&&n.pause()}),q={})}function J(e){2==e&&h(p("sound_player/block_no_network"),"notice")}var Z={},Q={},$={};function K(e,t,n){void 0===n&&(n=!1);var r=new N.Howl({src:t,html5:!1,format:["mp3","wav"]});return n?Q[e]=r:Z[e]=r,r}function ee(e){if(e)if("url"!==e){var t=Z[e]||Q[e];t?(t.unload(),delete Z[e],delete Q[e]):console.warn("Howl not Found")}else f.forEach(Q,function(e,t){e.unload(),delete Q[t]});else console.warn("Sound id no found")}function et(e){var t;e?Q[e]?((t=Q[e]).unload(),t.stop()):Z[e]?(t=Z[e]).stop():console.warn("Howl not Found"):(f.forEach(Z,function(e){e.stop()}),f.forEach(Q,function(e){e.stop(),e.unload()}),f.forEach($,function(e,t){var n=document.getElementById("audio"+t);n&&n.pause()}),$={})}function en(e){2==e&&h(p("sound_player/block_no_network"),"notice")}function er(e,t){var n,r;return y()?function(e,t){var n=Z[e];if(n)return n.rate(t);console.warn("Howl not Found")}(e,t):E()?((n=j[e])||console.warn("Howl not Found"),n.rate(t)):b()?((r=G[e])||console.warn("Howl not Found"),r.rate(t)):void 0}function ei(e,t){var n,r;return y()?function(e,t){var n=Z[e];if(n)return n.volume(t);console.warn("Howl not Found")}(e,t):E()?((n=j[e])||console.warn("Howl not Found"),n.volume(t)):b()?((r=G[e])||console.warn("Howl not Found"),r.volume(t)):void 0}var eo={load:function(e,t,n){return void 0===n&&(n=!1),y()?K(e,t,n):E()?P(e,t,n):b()?z(e,t,n):void 0},unload:function(e){if(y())ee(e);else if(E())if(e){if("url"!==e){var t=j[e];t?(t.unload(),delete j[e]):console.warn("Howl not Found")}}else console.warn("Sound id no found");else b()&&function(e){if(e){if("url"!==e){var t=G[e];t?(t.unload(),delete G[e]):console.warn("Howl not Found")}}else console.warn("Sound id no found")}(e)},play:function(e,t,n,r){if(y()){var i=Z[e];if(i){"loaded"!==i.state()&&(console.warn("Howl load fail"),t&&t());var o=i.play();i.once("end",function(){t&&t()},o),i.once("loaderror",function(e,t){console.error("Howler Load Error:",t),en(t),n&&n()}),i.once("stop",function(){r&&r()})}else console.warn("Howl not found")}else E()?function(e,t,n,r){var i=j[e];if(!i)return console.warn("Howl not found"),B(i._src,t,n,r);if("loaded"!==i.state())return console.warn("Howl load fail"),B(i._src,t,n,r);var o=i.play();i.once("end",function(){t&&t()},o),i.once("stop",function(){r&&r()}),i.once("loaderror",function(e){console.error("Howler Load Error:",e),V(e),n&&n(),B(i._src,t,n)})}(e,t,n,r):b()&&function(e,t,n,r){console.log("play");var i=G[e];if(!i)return Y(i._src,t,n),console.warn("Howl not found");"loaded"!==i.state()&&(console.warn("Howl load fail"),Y(i._src,t,n,void 0,r));var o=i.play();i.once("end",function(){t&&t()},o),i.once("loaderror",function(e,o){J(o),n&&n(),Y(i._src,t,n,void 0,r)}),i.once("stop",function(){r&&r()})}(e,t,n,r)},play_url:function(e,t,n,r,i){if(y()){var o;"loaded"===(o=K(r||M.v4(),e,!0)).state()&&o.play(),o.once("load",function(){o.play()}),o.once("end",function(){ee(r),t&&t()}),o.once("stop",function(){i&&i()}),o.once("loaderror",function(e,t){console.error("Howler Load Error:",t),en(t),n&&n()})}else E()?function(e,t,n,r,i){var o=P(r||M.v4(),e,!0);if(o){if("loaded"===o.state())return o.play();o.once("load",function(){o.play()}),o.once("loaderror",function(e,t){console.error("Howl Error when Add Sound to Store:",t),V(t),n&&n()}),o.on("end",function(){t&&t(),o.unload()}),o.once("stop",function(){i&&i()})}}(e,t,n,r,i):b()&&Y(e,t,n,r,i)},stop:function(e){y()?et(e):E()?H(e):b()&&X(e)},is_playing:function(e){return y()?function(e){if(!e)return f.find(Z,function(e){return e.playing()});if("url"===e)return f.find(Q,function(e){return e.playing()});var t=Z[e];if(t)return t.playing();console.warn("Howl not Found")}(e):E()?function(e){if(!e)return f.find(j,function(e){return e.playing()});if("url"!==e){var t=j[e];return t||console.warn("Howl not Found"),t.playing()}}(e):b()?function(e){if(!e)return f.find(G,function(e){return e.playing()});if("url"!==e){var t=G[e];return t||console.warn("Howl not Found"),t.playing()}}(e):void 0},set_rate:er,set_volume:ei,stop_all_audio:function(){y()?et():E()?H():b()&&X(),L().catch(function(e){console.error(e)})},reset_sound:function(e){for(var t in e)ei(e[t].id,e[t].volume),er(e[t].id,e[t].playback_rate)},get_volume:function(e){return y()?Z[e].volume():E()?j[e].volume():b()?G[e].volume():0},get_rate:function(e){return y()?Z[e].rate():E()?j[e].rate():b()?G[e].rate():0},get_howl:function(e){return y()?function(e){if(void 0!=Z[e])return Z[e]}(e):E()?function(e){if(void 0!=j[e])return j[e]}(e):b()?function(e){if(void 0!=G[e])return G[e]}(e):void 0},check_sound:function(e){return y()?void 0!==Z[e]:E()?void 0!==j[e]:b()?void 0!==G[e]:void 0}},ea=["A0","Bb0","B0","C1","Db1","D1","Eb1","E1","F1","Gb1","G1","Ab1","A1","Bb1","B1","C2","Db2","D2","Eb2","E2","F2","Gb2","G2","Ab2","A2","Bb2","B2","C3","Db3","D3","Eb3","E3","F3","Gb3","G3","Ab3","A3","Bb3","B3","C4","Db4","D4","Eb4","E4","F4","Gb4","G4","Ab4","A4","Bb4","B4","C5","Db5","D5","Eb5","E5","F5","Gb5","G5","Ab5","A5","Bb5","B5","C6","Db6","D6","Eb6","E6","F6","Gb6","G6","Ab6","A6","Bb6","B6","C7","Db7","D7","Eb7","E7","F7","Gb7","G7","Ab7","A7","Bb7","B7","C8"],es=["piano"];function ec(e){}function eu(e){return f.isNumber(e)?60*e/80:0}function el(e){return e/60*80}function ed(e){return ea[e]}function ep(e){return f.indexOf(ea,e)}function ef(e,t){var n=i+"/"+ea[e]+".mp3",r=f.uniqueId("midi"),o=eo.load(r,n,!0);if(o){if("loaded"===o.state()){var a=o.play();if(t){var s=eu(t);o.fade(1,.01,s<.2?200:1e3*s,a)}return}o.once("load",function(){var e=o.play();if(t){var n=eu(t);o.fade(1,.01,n<.2?200:1e3*n,e)}}),o.once("loaderror",function(e,t){__DEV__&&console.error("Howl Error when Add Sound to Store:",t)})}return r}function eh(e){eo.stop(e)}var e_={AudioPlayer:eo,MidiPlayer:l,start_volume_measuring:function(e){return k(this,void 0,void 0,function(){var t;return A(this,function(n){var r;return o||(o=new AudioContext),e?D?(__DEV__&&console.warn("Volume measurement is already running."),[2]):(D=!0,c?(c(e),[2]):I?(__DEV__&&console.warn("Volume measurement is already initialized."),[2,o.resume()]):(t={video:!1,audio:!0},m().audio_recording?(o&&(s=(o.createScriptProcessor||o.createJavaScriptNode).call(o,1024,1,1)).connect(o.destination),navigator.mediaDevices.getUserMedia(t).then(function(t){if(o){a=o.createMediaStreamSource(t),C=t;var n=o.createAnalyser();n.fftSize=1024,n.smoothingTimeConstant=.5,s.onaudioprocess=function(){var t=new Uint8Array(n.frequencyBinCount);n.getByteFrequencyData(t),e&&e(f.round(f.mean(t)))},a.connect(s),a.connect(n),I=!0}}).catch(function(e){switch(e.name){case"PermissionDeniedError":case"NotAllowedError":y()?h(p("voice_detection/pc_permission_error"),"notice"):E()?h(p("voice_detection/android_permission_error"),"notice"):b()&&h(p("voice_detection/ios_permission_error"),"notice");break;case"DevicesNotFoundError":case"NotFoundError":h(p("voice_detection/not_found_error"),"notice");break;default:h(e.name,"notice")}__DEV__&&console.log(e.name)})):(navigator.userAgent.indexOf("MicroMessenger")>=0?h(p("voice_detection/ios_wechat_error"),"notice"):(_()||!_()&&navigator.userAgent.indexOf("iPad")>=0)&&11>Number((r=navigator.userAgent.toLowerCase().match(/cpu iphone os (.*?) like mac os/))?r[1].split("_")[0]:0)?h(p("voice_detection/ios_version_error"),"notice"):h(p("voice_detection/no_supported_error"),"notice"),__DEV__&&console.log("Browser not support getUserMedia.")),[2])):[2]})})},stop_volume_measuring:L}},93370(e,t,n){"use strict";n.d(t,{a:()=>o,b:()=>i});var r=n(72788);function i(e){switch(e){case r.a.CONTAIN:return"contain";case r.a.COVER:return"cover";case r.a.STRETCH:return"fill";default:return"cover"}}function o(e){switch(e){case r.a.CONTAIN:return"contain";case r.a.COVER:return"cover";case r.a.STRETCH:return"100% 100%";default:return"cover"}}},18939(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n.d(t,{a:()=>r})},70236(e,t,n){"use strict";n.r(t),n.d(t,{a:()=>a,b:()=>s,default:()=>c});var r=function(){return{height:0,opacity:0}},i=function(e){return{height:e.scrollHeight,opacity:1}},o=function(e,t){return!0===(null==t?void 0:t.deadline)||"height"===t.propertyName},a={motionName:"ant-motion-collapse",onAppearStart:r,onEnterStart:r,onAppearActive:i,onEnterActive:i,onLeaveStart:function(e){return{height:e?e.offsetHeight:0}},onLeaveActive:r,onAppearEnd:o,onEnterEnd:o,onLeaveEnd:o,motionDeadline:500},s=function(e,t,n){return void 0!==n?n:"".concat(e,"-").concat(t)};let c=a},75713(e){e.exports={hide:"style_hide__29aBW","coco-widget-wrapper":"style_coco-widget-wrapper__1HMMw","coco-child-widget":"style_coco-child-widget__21iBc","coco-child-widget-selected":"style_coco-child-widget-selected__1Ufm1","coco-child-widget-full":"style_coco-child-widget-full__1Kd5A",flexSC:"style_flexSC__28Bvk",flexCC:"style_flexCC__wVKPU",flexLC:"style_flexLC__RHqAi",listViewerBox:"style_listViewerBox__3BFis",icon:"style_icon__HB3IA",itemTiled:"style_itemTiled__YZmyb",itemCard:"style_itemCard__1sNLY",templateSlot:"style_templateSlot__1vww2",template1:"style_template1__3RGv6",title:"style_title__TlUlN",titleSlot:"style_titleSlot__3mnTS",iconBox:"style_iconBox__2iYJD",template2:"style_template2__ZcKvY",subTitleBox:"style_subTitleBox__37sK1",subTitle:"style_subTitle__3Yfxl",subTitleSlot:"style_subTitleSlot__3zVVm",template3:"style_template3__3rg0p",smallImgBox:"style_smallImgBox__2jtsJ",smallImgSlot:"style_smallImgSlot__3eXgF",template4:"style_template4__1ttFZ",avatarAndTitle:"style_avatarAndTitle__4TTHA",avatarImgBox:"style_avatarImgBox__1zc2Y",avatarImgSlot:"style_avatarImgSlot__3ft2W",template5:"style_template5__tCCe9",imgAndTitleBox:"style_imgAndTitleBox__cEZ0v",desc:"style_desc__19QH7",titleSlot1:"style_titleSlot1__1VCSE",titleSlot2:"style_titleSlot2__CzFya",descSlot:"style_descSlot__3LeZD",template6:"style_template6__2W0XA",bannerImgBox:"style_bannerImgBox__nIUOv",bannerImgSlot:"style_bannerImgSlot__3tYT9",descSlot1:"style_descSlot1__Ww_C7",descSlot2:"style_descSlot2__3KkJt"}},66508(e){e.exports={hide:"style_hide__7pUUu","coco-widget-wrapper":"style_coco-widget-wrapper__2h0-X","coco-child-widget":"style_coco-child-widget__1JzF2","coco-child-widget-selected":"style_coco-child-widget-selected__2AQx0","coco-child-widget-full":"style_coco-child-widget-full__DB-HI",screenView:"style_screenView__1wSrw"}},36728(e,t,n){"use strict";n.d(t,{a:()=>h,b:()=>_});var r=n(41594),i=n.n(r),o=n(94220),a=n(8517),s=n(99432),c=n(72788),u=n(12327),l=n(66508),d=n.n(l),p=n(63554);function f(e){var t=e.id,n=e.widgetIds,r=e.position,s=e.size,l=e.backgroundColor,p=e.backgroundImage,f=e.backgroundImageResizeMode,h=[];n.forEach(function(e,t){var n=a.g.get(e);n&&(n.zIndex=t,h.push(n))});var _=u.hb(p),v=(null==_?void 0:_.source)||(null==_?void 0:_.cdnUrl);return!v&&(p.includes("://")||p.includes("data:image/"))&&(v=p),i().createElement("div",{id:t,className:d().screenView,"data-role":o.D,"data-widget-type":o.D,style:{top:r.y,left:r.x,width:s.width,height:s.height,backgroundColor:l,backgroundImage:v?"url(".concat(v,")"):"none",backgroundSize:f===c.a.STRETCH?"100% 100%":f}},h.map(function(e){return a.f({widget:e})}))}function h(e){return{id:s.a(o.D),title:e,type:o.D,position:{x:0,y:0},backgroundColor:p.c,backgroundImage:"",backgroundImageResizeMode:c.a.COVER,size:{width:p.e,height:p.d},widgetIds:[],invisibleWidgetIds:[],blocksXML:"",snapshot:"",primitiveVariables:[],arrayVariables:[],objectVariables:[],broadcasts:["Hi"]}}function _(e){var t=e.id,n=e.widgetIds,r=e.position,o=e.size,a=e.backgroundColor,s=e.backgroundImage,c=e.backgroundImageResizeMode;return i().createElement(f,{id:t,widgetIds:n,position:r,size:o,key:t,backgroundColor:a,backgroundImage:s,backgroundImageResizeMode:c})}},58797(e,t,n){"use strict";n.d(t,{a:()=>E,b:()=>v,c:()=>y,d:()=>function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(t=Math.round(t),n=Math.round(n),t<0)return"";if(t<60)return"".concat(I(n,2),":").concat(I(t,2));var r=Math.floor(t/60);return e(t%60,r)},e:()=>k,f:()=>x,g:()=>b,h:()=>C,i:()=>m,j:()=>N,k:()=>j,l:()=>D,m:()=>w,n:()=>T});var r,i=n(92136),o=n(451),a=n(7452),s=n.n(a),c=n(34221),u=n(11012),l=n.n(u),d=n(5762),p=n(99432),f=n(75195),h=n(32919),_=n(10138);function v(e,t){var n=document.createElement("a");document.body.appendChild(n),n.setAttribute("href",e),n.setAttribute("download",t),n.click(),document.body.removeChild(n)}function m(e){return g.apply(this,arguments)}function g(){return(g=c.a(s().mark(function e(t){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,n){var r=new FileReader;r.readAsText(t),r.onload=function(){var t=this.result;if("string"==typeof t)try{var n=JSON.parse(t);e(n)}catch(t){e(null)}},r.onerror=function(e){n(e)}}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function y(e){var t=new FileReader;return t.readAsArrayBuffer(e),new Promise(function(n,r){t.onload=function(t){var r,i=null==(r=t.target)?void 0:r.result;i&&n(new Blob([i],{type:e.type})),n(null)},t.onerror=function(e){r(e)}})}function b(e){var t=document.createElement("img");return t.src=e,new Promise(function(e,n){t.onload=function(){e({width:t.naturalWidth,height:t.naturalHeight})},t.onerror=function(e){n(e)}})}function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[".gif",".jpeg",".png",".svg",".gif",".bmp",".jpg"];return t.includes(x(e.name))?new Promise(function(t){var n=new window.Image;n.src=_.A(e),n.onload=function(){t(!0)},n.onerror=function(){t(!1)}}):Promise.resolve(!1)}function w(e,t,n){return O.apply(this,arguments)}function O(){return(O=c.a(s().mark(function e(t,n,r){var i,o,a,c;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=x(t.name),o=1048576,a={status:"fail",file:t,message:d.c(n,"illegalFormat").toString()},c={status:"success",file:t,message:""},e.next=6,E(t,r);case 6:if(e.sent){e.next=11;break}return e.abrupt("return",a);case 11:return".gif"===i?Number(t.size)>10*o&&(c.status="fail",c.message=d.c(n,"tooLargeGifImage").toString()):Number(t.size)>5*o&&(c.status="fail",c.message=d.c(n,"tooLargeImage").toString()),t.name.slice(0,t.name.lastIndexOf(".")).trim()||(c.status="fail",c.message=d.c(n,"imageNameError").toString()),e.abrupt("return",c);case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}function x(e){var t=e.lastIndexOf(".");return t>-1?e.slice(t).toLowerCase():""}function S(){return(S=c.a(s().mark(function e(t){var n;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(![".mp3",".oga",".wav",".weba",".aac"].includes(x(t.name))){e.next=5;break}return(n=document.createElement("audio")).src=_.A(t),e.abrupt("return",new Promise(function(e){n.oncanplay=function(){e(!0)},n.onerror=function(){e(!1)}}));case 5:return e.abrupt("return",Promise.resolve(!1));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function T(e,t){return R.apply(this,arguments)}function R(){return(R=c.a(s().mark(function e(t,n){var r,i,o;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=1048576,i={status:"fail",file:t,message:d.c(n,"illegalFormat").toString()},o={status:"success",file:t,message:""},e.next=5,function(e){return S.apply(this,arguments)}(t);case 5:if(e.sent){e.next=8;break}return e.abrupt("return",i);case 8:return Number(t.size)>10*r&&(o.status="fail",o.message=d.c(n,"tooLargeSound").toString()),t.name.slice(0,t.name.lastIndexOf(".")).trim()||(o.status="fail",o.message=d.c(n,"soundNameError").toString()),e.abrupt("return",o);case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function k(e){return A.apply(this,arguments)}function A(){return(A=c.a(s().mark(function e(t){var n;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=document.createElement("audio"),e.abrupt("return",new Promise(function(e){n.addEventListener("canplay",function(){e(n.duration)}),n.src=t}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function I(e,t){if(e>=Math.pow(10,t))return e.toString();var n=Array(t+1).join("0")+e;return n.slice(n.length-t)}function D(e){return!(Number(e.size)>5242880)}function C(e,t,n,r){return L.apply(this,arguments)}function L(){return(L=c.a(s().mark(function e(t,n,r,o){var a;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel","text/csv"],e.next=3,new Promise(function(e,u){var d,p=x(n),_=t.name.slice(0,n.length-p.length),v=i.a(r);try{for(v.s();!(d=v.n()).done;)if(!d.value.validator(_)){_=_.replace(f.z,"");break}}catch(e){v.e(e)}finally{v.f()}_.length>20&&(_=_.slice(0,20));var m=h.ac(_,o),g=new FileReader;a.includes(t.type)&&(g.onload=c.a(s().mark(function t(){var n,r,i,o,a,c,u,d;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((n=g.result)&&"string"!=typeof n){for(i=(r=l().read(n,{type:"array"})).Sheets[r.SheetNames[0]],a=(o=l().utils.decode_range(i["!ref"]||"")).s.r;a<=o.e.r;++a)for(c=o.s.c;c<=o.e.c;++c)u={c:c,r:a},(d=i[l().utils.encode_cell(u)])&&d.h&&(d.w=void 0,d.v=d.h),d&&"s"!==d.t&&(d.v=d.v.toString());e(M(l().utils.sheet_to_json(i,{header:1}),m))}else e(null);case 2:case"end":return t.stop()}},t)})),g.readAsArrayBuffer(t))});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}var N=(r=c.a(s().mark(function e(t){var n;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel","text/csv"],e.next=3,new Promise(function(e,r){var i=new FileReader;n.includes(t.type)&&(i.onload=c.a(s().mark(function t(){var n,o,a,c,u,d,p,f;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((n=i.result)&&"string"!=typeof n){for(a=(o=l().read(n,{type:"array"})).Sheets[o.SheetNames[0]],u=(c=l().utils.decode_range(a["!ref"]||"")).s.r;u<=c.e.r;++u)for(d=c.s.c;d<=c.e.c;++d)p={c:d,r:u},(f=a[l().utils.encode_cell(p)])&&f.w&&f.w.length>1e3&&r({error:"cell length larger than 1000"}),f&&f.h&&(f.w=void 0,f.v=f.h),f&&"s"!==f.t&&(f.v=f.v.toString());e(M(l().utils.sheet_to_json(a,{header:1}),"test",!0))}else r({error:"buffer not string"});case 2:case"end":return t.stop()}},t)})),i.readAsArrayBuffer(t))});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)});function M(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r={id:"",name:t,header:{},data:[]},i={};return Object.entries(e[0]).forEach(function(e){var t=o.a(e,2),a=t[0],s=t[1],c=p.a("COLUMN");i[a]=c,r.header[c]={field:s,type:n?"string":""}}),e.splice(0,1),Object.values(e).forEach(function(e){var t={};t.rowId=p.a("ROW"),Object.entries(e).forEach(function(e){var n=o.a(e,2),r=n[0],a=n[1].replace("&#x000d;<br/>"," ");t[i[r]]=a}),r.data.push(t)}),r}function j(e,t){return U.apply(this,arguments)}function U(){return(U=c.a(s().mark(function e(t,n){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e,r){try{var i=new Image,o=document.createElement("canvas"),a=o.getContext("2d");i.src=t,i.setAttribute("crossOrigin","Anonymous"),i.onload=function(){var t=this.width,r=this.height;o.width=r,o.height=t,null!=a&&a.translate(o.width/2,o.height/2),null!=a&&a.rotate(n*Math.PI/180),null!=a&&a.drawImage(i,-t/2,-r/2),e(o.toDataURL())}}catch(e){r(e)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}},32872(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.load_json_js_generator_tell=t.load_json_js_generators_control=void 0,t.load_json_js_generators_control=function(e){e.register("repeat_forever",function(t,n){return"while(true) {\n"+e.statement_to_code(t,n,"DO")+"}\n"}),e.register("repeat_n_times",function(t,n){return"for (let i = 0; i < "+e.value_to_code(t,n,"times",e.ORDER_FUNCTION_CALL)+"; i++) {\n"+e.statement_to_code(t,n,"DO")+"}\n"}),e.register("repeat_forever_until",function(t,n){return"while(!"+e.value_to_code(t,n,"condition",e.ORDER_FUNCTION_CALL)+") {\n"+e.statement_to_code(t,n,"DO")+"}\n"}),e.register("break",function(){return"break;\n"}),e.register("warp",function(t,n){return"warp(function() {\n"+e.statement_to_code(t,n,"DO")+"});\n"}),e.register("wait",function(t,n){return"wait_for_sec("+e.value_to_code(t,n,"time",e.ORDER_FUNCTION_CALL)+");\n"}),e.register("wait_until",function(t,n){return"wait_until("+e.value_to_code(t,n,"condition",e.ORDER_FUNCTION_CALL)+");\n"}),e.register("destruct",function(){return"destruct();\n"}),e.register("controls_if",function(t,n){for(var r=Object.keys(t.blocks[n].shadows),i=r.filter(function(e){return/^IF[0-9]+$/.test(e)}).length,o=1,a="if ("+(e.value_to_code(t,n,"IF0",e.ORDER_FUNCTION_CALL)||"false")+") {\n"+e.statement_to_code(t,n,"DO0")+"}";o<i;)a+=" else if ("+(e.value_to_code(t,n,"IF"+o,e.ORDER_FUNCTION_CALL)||"false")+") {\n"+e.statement_to_code(t,n,"DO"+o)+"}",o++;return r.indexOf("ELSE")>-1&&(a+=" else {\n"+e.statement_to_code(t,n,"ELSE")+"}\n"),a})},t.load_json_js_generator_tell=function(e,t){e.register("tell",function(n,r){var i,o=e.get_field_value(n.blocks[r],"sprite");return"call_events_of('"+((null==(i=t().find(function(e){return e[1]===o}))?void 0:i[0])||"?")+"'), function() {\n"+e.statement_to_code(n,r,"DO")+"});\n"}),e.register("sync_tell",function(n,r){var i,o=e.get_field_value(n.blocks[r],"sprite");return"call_sync_events_of('"+((null==(i=t().find(function(e){return e[1]===o}))?void 0:i[0])||"?")+"'), function() {\n"+e.statement_to_code(n,r,"DO")+"});\n"})}},76129(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JsonJavaScriptGenerator=void 0;var r=n(31635);t.JsonJavaScriptGenerator=function(e){function t(){var t=e.call(this,"Javascript")||this;return t.ORDER_ATOMIC=0,t.ORDER_NEW=1.1,t.ORDER_MEMBER=1.2,t.ORDER_FUNCTION_CALL=2,t.ORDER_INCREMENT=3,t.ORDER_DECREMENT=3,t.ORDER_BITWISE_NOT=4.1,t.ORDER_UNARY_PLUS=4.2,t.ORDER_UNARY_NEGATION=4.3,t.ORDER_LOGICAL_NOT=4.4,t.ORDER_TYPEOF=4.5,t.ORDER_VOID=4.6,t.ORDER_DELETE=4.7,t.ORDER_DIVISION=5.1,t.ORDER_MULTIPLICATION=5.2,t.ORDER_MODULUS=5.3,t.ORDER_SUBTRACTION=6.1,t.ORDER_ADDITION=6.2,t.ORDER_BITWISE_SHIFT=7,t.ORDER_RELATIONAL=8,t.ORDER_IN=8,t.ORDER_INSTANCEOF=8,t.ORDER_EQUALITY=9,t.ORDER_BITWISE_AND=10,t.ORDER_BITWISE_XOR=11,t.ORDER_BITWISE_OR=12,t.ORDER_LOGICAL_AND=13,t.ORDER_LOGICAL_OR=14,t.ORDER_CONDITIONAL=15,t.ORDER_ASSIGNMENT=16,t.ORDER_COMMA=17,t.ORDER_NONE=99,t.ORDER_OVERRIDES=[[t.ORDER_FUNCTION_CALL,t.ORDER_MEMBER],[t.ORDER_FUNCTION_CALL,t.ORDER_FUNCTION_CALL],[t.ORDER_MEMBER,t.ORDER_MEMBER],[t.ORDER_MEMBER,t.ORDER_FUNCTION_CALL],[t.ORDER_LOGICAL_NOT,t.ORDER_LOGICAL_NOT],[t.ORDER_MULTIPLICATION,t.ORDER_MULTIPLICATION],[t.ORDER_ADDITION,t.ORDER_ADDITION],[t.ORDER_LOGICAL_AND,t.ORDER_LOGICAL_AND],[t.ORDER_LOGICAL_OR,t.ORDER_LOGICAL_OR]],t}return(0,r.__extends)(t,e),t.prototype.scrub_naked_value=function(e){return e+";\n"},t.prototype.quote=function(e){return"'"+(e=e.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'"))+"'"},t.prototype.add_comment_prefix=function(e){return this.prefix_lines(e,"// ")},t}(n(79208).JsonGenerator)},16666(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.load_json_js_generator_logic=void 0,t.load_json_js_generator_logic=function(e){e.register("logic_negate",function(t,n){var r=e.ORDER_LOGICAL_NOT;return["!"+(e.value_to_code(t,n,"BOOL",r)||"false"),r]}),e.register("logic_boolean",function(t,n){return["TRUE"==e.get_field_value(t.blocks[n],"BOOL")?"true":"false",e.ORDER_ATOMIC]}),e.register("logic_compare",function(t,n){var r={EQ:"===",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[e.get_field_value(t.blocks[n],"OP")||""],i="==="==r||"!="==r?e.ORDER_EQUALITY:e.ORDER_RELATIONAL;return[(e.value_to_code(t,n,"A",i)||"0")+" "+r+" "+(e.value_to_code(t,n,"B",i)||"0"),i]}),e.register("logic_operation",function(t,n){var r="AND"==e.get_field_value(t.blocks[n],"OP")?"&&":"||",i="&&"==r?e.ORDER_LOGICAL_AND:e.ORDER_LOGICAL_OR;return[(e.value_to_code(t,n,"A",i)||"false")+" "+r+" "+(e.value_to_code(t,n,"B",i)||"false"),i]})}},51629(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.load_json_js_generator_math=void 0,t.load_json_js_generator_math=function(e){e.register("random",function(t,n){var r=e.value_to_code(t,n,"a",e.ORDER_COMMA)||"0";return["Math.floor(Math.random() * ("+(e.value_to_code(t,n,"b",e.ORDER_COMMA)||"0")+" - "+r+") + "+r+")",e.ORDER_FUNCTION_CALL]}),e.register("divisible_by",function(t,n){return[(e.value_to_code(t,n,"NUMBER_TO_CHECK",e.ORDER_MODULUS)||"0")+" % "+(e.value_to_code(t,n,"DIVISOR",e.ORDER_MODULUS)||"0")+" === 0",e.ORDER_EQUALITY]}),e.register("calculate",function(t,n){return["("+(e.value_to_code(t,n,"input",e.ORDER_MEMBER)||"").replace(/\'/g,"")+")",e.ORDER_ATOMIC]}),e.register("math_arithmetic",function(t,n){var r={ADD:[" + ",e.ORDER_ADDITION],MINUS:[" - ",e.ORDER_SUBTRACTION],MULTIPLY:[" * ",e.ORDER_MULTIPLICATION],DIVIDE:[" / ",e.ORDER_DIVISION],POWER:[void 0,e.ORDER_COMMA]}[e.get_field_value(t.blocks[n],"OP")],i=r[0],o=r[1],a=e.value_to_code(t,n,"A",o)||"0",s=e.value_to_code(t,n,"B",o)||"0";return i?[a+i+s,o]:["Math.pow("+a+", "+s+")",e.ORDER_FUNCTION_CALL]});var t=function(t,n){var r=e.get_field_value(t.blocks[n],"OP"),i="",o="";if("NEG"===r)return"-"===(o=e.value_to_code(t,n,"NUM",e.ORDER_UNARY_NEGATION)||"0")[0]&&(o=" "+o),[i="-"+o,e.ORDER_UNARY_NEGATION];switch(o="SIN"===r||"COS"===r||"TAN"===r?e.value_to_code(t,n,"NUM",e.ORDER_DIVISION)||"0":e.value_to_code(t,n,"NUM",e.ORDER_NONE)||"0",r){case"ABS":i="Math.abs("+o+")";break;case"ROOT":i="Math.sqrt("+o+")";break;case"LN":i="Math.log("+o+")";break;case"EXP":i="Math.exp("+o+")";break;case"POW10":i="Math.pow(10,"+o+")";break;case"ROUND":i="Math.round("+o+")";break;case"ROUNDUP":i="Math.ceil("+o+")";break;case"ROUNDDOWN":i="Math.floor("+o+")";break;case"SIN":i="Math.sin("+o+" / 180 * Math.PI)";break;case"COS":i="Math.cos("+o+" / 180 * Math.PI)";break;case"TAN":i="Math.tan("+o+" / 180 * Math.PI)"}if(i)return[i,e.ORDER_FUNCTION_CALL];switch(r){case"LOG10":i="Math.log("+o+") / Math.log(10)";break;case"ASIN":i="Math.asin("+o+") / Math.PI * 180";break;case"ACOS":i="Math.acos("+o+") / Math.PI * 180";break;case"ATAN":i="Math.atan("+o+") / Math.PI * 180";break;default:throw Error("Unknown math operator: "+r)}return[i,e.ORDER_DIVISION]};e.register("math_single",t),e.register("math_trig",t),e.register("math_round",t),e.register("math_modulo",function(t,n){return[(e.value_to_code(t,n,"DIVIDEND",e.ORDER_MODULUS)||"0")+" % "+(e.value_to_code(t,n,"DIVISOR",e.ORDER_MODULUS)||"0"),e.ORDER_MODULUS]}),e.register("math_number_property",function(t,n){var r=e.value_to_code(t,n,"NUMBER_TO_CHECK",e.ORDER_MODULUS)||"0",i="";switch(e.get_field_value(t.blocks[n],"PROPERTY")){case"EVEN":i=r+" % 2 === 0";break;case"ODD":i=r+" % 2 === 1";break;case"PRIME":i="Math.isPrime("+r+")";break;case"WHOLE":i=r+" % 1 === 0";break;case"POSITIVE":i=r+" > 0";break;case"NEGATIVE":i=r+" < 0";break;case"DIVISIBLE_BY":i=r+" % "+(e.value_to_code(t,n,"DIVISOR",e.ORDER_MODULUS)||"0")+" === 0"}return[i,e.ORDER_EQUALITY]})}},10177(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.load_json_js_generator_text=void 0,t.load_json_js_generator_text=function(e){e.register("text_select",function(t,n){return[(e.value_to_code(t,n,"string",e.ORDER_MEMBER)||"''")+".slice("+e.value_to_code(t,n,"char_start_index",e.ORDER_MEMBER)+" - 1, "+e.value_to_code(t,n,"char_end_index",e.ORDER_MEMBER)+")",e.ORDER_ATOMIC]}),e.register("text_length",function(t,n){return[(e.value_to_code(t,n,"VALUE",e.ORDER_MEMBER)||"''")+".length",e.ORDER_ATOMIC]}),e.register("text_contain",function(t,n){return[(e.value_to_code(t,n,"TEXT1",e.ORDER_MEMBER)||"''")+".includes("+(e.value_to_code(t,n,"TEXT2",e.ORDER_MEMBER)||"''")+")",e.ORDER_FUNCTION_CALL]}),e.register("text_split",function(t,n){return[(e.value_to_code(t,n,"TEXT_TO_SPLIT",e.ORDER_MEMBER)||"''")+".split("+(e.value_to_code(t,n,"SPLIT_TEXT",e.ORDER_MEMBER)||"''")+")",e.ORDER_FUNCTION_CALL]}),e.register("text_join",function(t,n){var r=Object.keys(t.blocks[n].shadows).filter(function(e){return/^ADD[0-9]+$/.test(e)}).length;switch(r){case 0:return["''",e.ORDER_ATOMIC];case 1:return["String("+(e.value_to_code(t,n,"ADD0",e.ORDER_NONE)||"")+")",e.ORDER_FUNCTION_CALL];case 2:return["String("+(e.value_to_code(t,n,"ADD0",e.ORDER_NONE)||"''")+") + String("+(e.value_to_code(t,n,"ADD1",e.ORDER_NONE)||"''")+")",e.ORDER_ADDITION];default:for(var i=Array(r),o=0;o<r;o++)i[o]=e.value_to_code(t,n,"ADD"+o,e.ORDER_COMMA)||"''";return["["+i.join(",")+"].join('')",e.ORDER_FUNCTION_CALL]}})}},11504(e,t){"use strict";function n(e){return/^[+-]?Infinity$/.test(e)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?$/.test(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.load_json_js_generator_shadow=void 0,t.load_json_js_generator_shadow=function(e){e.register("logic_empty",function(){return["false",e.ORDER_ATOMIC]}),e.register("math_number",function(t,r){var i=e.get_field_value(t.blocks[r],"NUM")||e.get_field_value(t.blocks[r],"TEXT")||"";return n(i)||(i=e.quote(i)),[i,e.ORDER_ATOMIC]}),e.register("text",function(t,n){return[e.quote(e.get_field_value(t.blocks[n],"TEXT")||""),e.ORDER_ATOMIC]}),e.register("multiline_text",function(t,n){return[e.quote(e.get_field_value(t.blocks[n],"TEXT")||""),e.ORDER_ATOMIC]}),e.register("default_value",function(t,r){var i=e.get_field_value(t.blocks[r],"TEXT")||"";return n(i)||(i=e.quote(i)),[i,e.ORDER_ATOMIC]})}},98687(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.load_json_js_generator_events=void 0,t.load_json_js_generator_events=function(e){var t=function(t,n){for(var r="",i=e.find_next_block(t,n);i;){var o=e.block_to_code(t,i);r+=e.prefix_lines("string"==typeof o?o:o[0],"  "),i=e.find_next_block(t,i)}return r};e.register("start_on_click",function(e,n){return"when_start(function() {\n"+t(e,n)+"});\n"}),e.register("start_on_click_2",function(t,n){return"when_start(function() {\n"+e.statement_to_code(t,n,"DO")+"});\n"}),e.register("on_running_group_activated",function(e,n){return"when_switch_to_current_screen(function() {\n"+t(e,n)+"});\n"}),e.register("self_listen",function(t,n){var r=e.statement_to_code(t,n,"DO");return"when_get_signal("+(e.value_to_code(t,n,"message",e.ORDER_FUNCTION_CALL)||"''")+", function() {\n"+r+"});\n"}),e.register("self_broadcast",function(t,n){return"send_signal("+(e.value_to_code(t,n,"message",e.ORDER_FUNCTION_CALL)||"''")+");\n"}),e.register("self_broadcast_and_wait",function(t,n){return"send_signal_and_wait("+(e.value_to_code(t,n,"message",e.ORDER_FUNCTION_CALL)||"''")+");\n"}),e.register("when",function(t,n){var r=e.statement_to_code(t,n,"DO");return"when ("+(e.value_to_code(t,n,"condition",e.ORDER_FUNCTION_CALL)||"false")+", function() {\n"+r+"});\n"}),e.register("terminate",function(){return"terminate();\n"})}},74438(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.load_json_js_generator_sensing=void 0,t.load_json_js_generator_sensing=function(e){e.register("get_time",function(t,n){return["value_of_current_time('"+e.get_field_value(t.blocks[n],"op")+"')",e.ORDER_ATOMIC]}),e.register("get_timer",function(){return["value_of_timer()",e.ORDER_ATOMIC]}),e.register("reset_timer",function(){return"reset_timer();\n"})}},79453(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.load_json_js_generators_data=void 0,t.load_json_js_generators_data=function(e,t){var n=function(e,n){var r;return(null==(r=t(n).find(function(t){return t[1]===e}))?void 0:r[0])||"?"};e.register("variables_get",function(t,r){return[n(e.get_field_value(t.blocks[r],"VAR")||"?","any")||"?",e.ORDER_ATOMIC]}),e.register("variables_set",function(t,r){var i=e.value_to_code(t,r,"VALUE",e.ORDER_ASSIGNMENT)||"0";return(n(e.get_field_value(t.blocks[r],"VAR")||"?","any")||"?")+" = "+i+";\n"}),e.register("change_variable",function(t,r){var i=n(e.get_field_value(t.blocks[r],"valname")||"","any")||"?",o=e.get_field_value(t.blocks[r],"method"),a=e.value_to_code(t,r,"n",e.ORDER_FUNCTION_CALL)||"''";return a=Number(a)>0?a:"("+a+")","increase"===o?i+" = "+i+" + "+a+";\n":"decrease"===o?i+" = "+i+" - "+a+";\n":""}),e.register("lists_get",function(t,r){return[n(e.get_field_value(t.blocks[r],"VAR")||"?","list")||"?",e.ORDER_ATOMIC]});var r=function(t,n,r){var i=e.value_to_code(t,n,r,e.ORDER_FUNCTION_CALL)||"[]";return"?"===i?"[]":i},i=function(t,n,r){return e.value_to_code(t,n,r,e.ORDER_FUNCTION_CALL)||"''"};e.register("lists_append",function(e,t){return r(e,t,"VAR")+".push("+i(e,t,"VALUE")+");\n"}),e.register("lists_insert_value",function(t,n){var o;return r(t,n,"VAR")+".splice("+((o=parseInt(e.value_to_code(t,n,"INDEX",e.ORDER_FUNCTION_CALL)||"0"))>0?o-1:o+1)+", 0, "+i(t,n,"VALUE")+");\n"}),e.register("lists_copy",function(e,t){return r(e,t,"TARGET")+" = "+r(e,t,"VALUE")+".concat();\n"}),e.register("lists_length",function(t,n){return[r(t,n,"VAR")+".length",e.ORDER_FUNCTION_CALL]}),e.register("lists_is_exist",function(t,n){return[r(t,n,"VAR")+".includes("+i(t,n,"VALUE")+")",e.ORDER_FUNCTION_CALL]}),e.register("lists_index_of",function(t,n){return[r(t,n,"VAR")+".indexOf("+i(t,n,"VALUE")+")",e.ORDER_FUNCTION_CALL]})}},79208(e,t,n){"use strict";t.JsonGenerator=void 0;var r=n(56309);function i(e){return"string"==typeof e||e instanceof String}t.JsonGenerator=function(){function e(e){this.json_data_convertors=new Map,this.INDENT="  ",this.ORDER_OVERRIDES=[],this.name_=e}return e.prototype.register=function(e,t){this.json_data_convertors.set(e,t)},e.prototype.workspace_to_code=function(e,t){var n=this,i=[],o=[];return Object.keys(e.blocks).forEach(function(n){var r=e.blocks[n];if(!r.parent_id){if(t&&!t(r.type))return;o.push(r)}}),Object.keys(e.comments).forEach(function(t){var n=e.comments[t];n.parent_id||o.push(n)}),o.sort(function(e,t){return e.location&&t.location?e.location[1]-t.location[1]||e.location[0]-t.location[0]:0}),o.forEach(function(t){if((0,r.is_block_json)(t)){var o=n.block_to_code(e,t.id);Array.isArray(o)&&(o=o[0]),o&&(t.is_output&&(o=n.scrub_naked_value(o)),i.push(o))}else i.push(n.add_comment_prefix(t.text||""))}),i.join("\n")},e.prototype.block_to_code=function(e,t){if(!t)return"";var n=e.blocks[t];if(n.disabled)return this.block_to_code(e,this.find_next_block(e,t));var r=this.json_data_convertors.get(n.type);if(!r||"[object Function]"!==({}).toString.call(r))throw Error("Language "+this.name_+" does not know how to generate code for block type "+n.type+".");var o=r.call(this,e,t);if(Array.isArray(o))return[this.scrub_(e,t,o[0]),o[1]];if(i(o))return"start_on_click"===n.type?o:this.scrub_(e,t,o);if(void 0==o)return"";throw Error("Invalid code generated: "+o)},e.prototype.scrub_=function(e,t,n){return this.block_comment_to_code(e,t)+n+this.block_to_code(e,this.find_next_block(e,t))},e.prototype.block_comment_to_code=function(e,t){var n=e.blocks[t];if(n.is_output&&n.parent_id)return"";var r="";n.comment&&(r+=this.add_comment_prefix(n.comment+"\n"));var i=this.get_nested_children_comments(e,t).join("\n");return i&&(r+=this.add_comment_prefix(i+"\n")),r},e.prototype.prefix_lines=function(e,t){return t+e.replace(/(?!\n$)\n/g,"\n"+t)},e.prototype.find_next_block=function(e,t){var n=e.connections[t];return Object.keys(n).find(function(e){return"next"===n[e].type})},e.prototype.get_input_target_block=function(e,t,n){var r=e.connections[t];return Object.keys(r).find(function(e){var t=r[e];return"input"===t.type&&t.input_name===n})},e.prototype.find_statement_block=function(e,t,n){var r=e.connections[t];return Object.keys(r).find(function(t){var i=r[t],o=e.blocks[t];return"input"===i.type&&i.input_name===n&&o&&!o.is_output})},e.prototype.get_nested_children_comments=function(e,t){var n=this,r=[],i=e.connections[t],o=e.blocks;return Object.keys(i).forEach(function(t){"input"===i[t].type&&o[t].is_output&&(r=r.concat(n.get_nested_children_comments(e,t)))}),r},e.prototype.value_to_code=function(e,t,n,r){var i=this.get_input_target_block(e,t,n);if(!i)return"";var o=this.block_to_code(e,i);if(""===o)return"";Array.isArray(o)||(o=[o,0]);var a=o[0];if(!a)return"";var s=o[1]||0,c=!1,u=Math.floor(r),l=Math.floor(s);if(u<=l&&(u!==l||0!==u&&99!==u)){c=!0;for(var d=0;d<this.ORDER_OVERRIDES.length;d++)if(this.ORDER_OVERRIDES[d][0]==r&&this.ORDER_OVERRIDES[d][1]==s){c=!1;break}}return c&&(a="("+a+")"),a},e.prototype.statement_to_code=function(e,t,n){var r=this.find_statement_block(e,t,n);if(!r)return"";var o=this.block_to_code(e,r);return i(o)||(o=o[0]),o&&(o=this.prefix_lines(o,this.INDENT)),o},e.prototype.get_field_value=function(e,t){return e.fields[t]},e}()},1739(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JsonPythonGenerator=void 0;var r=n(31635);t.JsonPythonGenerator=function(e){function t(){var t=e.call(this,"Python")||this;return t.ORDER_ATOMIC=0,t.ORDER_COLLECTION=1,t.ORDER_STRING_CONVERSION=1,t.ORDER_MEMBER=2.1,t.ORDER_FUNCTION_CALL=2.2,t.ORDER_EXPONENTIATION=3,t.ORDER_UNARY_SIGN=4,t.ORDER_BITWISE_NOT=4,t.ORDER_MULTIPLICATIVE=5,t.ORDER_ADDITIVE=6,t.ORDER_BITWISE_SHIFT=7,t.ORDER_BITWISE_AND=8,t.ORDER_BITWISE_XOR=9,t.ORDER_BITWISE_OR=10,t.ORDER_RELATIONAL=11,t.ORDER_LOGICAL_NOT=12,t.ORDER_LOGICAL_AND=13,t.ORDER_LOGICAL_OR=14,t.ORDER_CONDITIONAL=15,t.ORDER_LAMBDA=16,t.ORDER_NONE=99,t.ORDER_EQUALITY=9,t.ORDER_OVERRIDES=[[t.ORDER_FUNCTION_CALL,t.ORDER_MEMBER],[t.ORDER_FUNCTION_CALL,t.ORDER_FUNCTION_CALL],[t.ORDER_MEMBER,t.ORDER_MEMBER],[t.ORDER_MEMBER,t.ORDER_FUNCTION_CALL],[t.ORDER_LOGICAL_NOT,t.ORDER_LOGICAL_NOT],[t.ORDER_LOGICAL_AND,t.ORDER_LOGICAL_AND],[t.ORDER_LOGICAL_OR,t.ORDER_LOGICAL_OR]],t}return(0,r.__extends)(t,e),t.prototype.scrub_naked_value=function(e){return e+"\n"},t.prototype.quote=function(e){var t="'";return -1!==(e=e.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/\%/g,"\\%")).indexOf("'")&&(-1===e.indexOf('"')?t='"':e=e.replace(/'/g,"\\'")),t+e+t},t.prototype.add_comment_prefix=function(e){return this.prefix_lines(e,"# ")},t}(n(79208).JsonGenerator)},75542(e,t,n){"use strict";t.load_basic_blocks_json_js_generators=t.JsonJavaScriptGenerator=void 0;var r=n(76129);Object.defineProperty(t,"JsonJavaScriptGenerator",{enumerable:!0,get:function(){return r.JsonJavaScriptGenerator}});var i=n(16666),o=n(51629),a=n(10177),s=n(11504),c=n(98687),u=n(32872),l=n(74438);t.load_basic_blocks_json_js_generators=function(e){(0,s.load_json_js_generator_shadow)(e),(0,c.load_json_js_generator_events)(e),(0,u.load_json_js_generators_control)(e),(0,l.load_json_js_generator_sensing)(e),(0,o.load_json_js_generator_math)(e),(0,i.load_json_js_generator_logic)(e),(0,a.load_json_js_generator_text)(e)},n(32872),n(79453),n(1739)},60096(e,t,n){"use strict";n.d(t,{e:()=>m,f:()=>p,a:()=>g,b:()=>y,c:()=>d,d:()=>b});var r=n(99085),i=n(94082),o=function(){function e(){r.a(this,e),this.profileMap=new Map}return i.a(e,[{key:"insertBlockProfile",value:function(e,t){this.profileMap.set(e,t)}},{key:"getBlockProfileList",value:function(){var e=[];return this.profileMap.forEach(function(t){return e.push(t)}),e}}]),e}(),a=n(75542),s=n(24876),c=function(){function e(){var t=this;r.a(this,e),this.dynamicValueMap=new Map,this.generator=new a.JsonJavaScriptGenerator,this.getFieldValue=this.generator.get_field_value.bind(this.generator),this.quote=this.generator.quote.bind(this.generator),this.registerDelegate=this.generator.register.bind(this.generator),this.insertBlockSnippetGenerator=function(e,n){t.registerDelegate(e,function(e,r){var i=n(e,r);if("string"==typeof i&&i.trim().length>0){var o=e.blocks[r],a=t.getFieldValue(o,"WIDGET_ID"),c={blockId:o.id,blockType:o.type};return a&&(c.widgetId=a),s.h(i,c)}return i})},this.statementToCode=this.generator.statement_to_code.bind(this.generator),this.valueToCode=this.generator.value_to_code.bind(this.generator),this.workspaceToCode=this.generator.workspace_to_code.bind(this.generator),this.ORDER_ATOMIC=this.generator.ORDER_ATOMIC,this.ORDER_NEW=this.generator.ORDER_NEW,this.ORDER_MEMBER=this.generator.ORDER_MEMBER,this.ORDER_FUNCTION_CALL=this.generator.ORDER_FUNCTION_CALL,this.ORDER_INCREMENT=this.generator.ORDER_INCREMENT,this.ORDER_DECREMENT=this.generator.ORDER_DECREMENT,this.ORDER_BITWISE_NOT=this.generator.ORDER_BITWISE_NOT,this.ORDER_UNARY_PLUS=this.generator.ORDER_UNARY_PLUS,this.ORDER_UNARY_NEGATION=this.generator.ORDER_UNARY_NEGATION,this.ORDER_LOGICAL_NOT=this.generator.ORDER_LOGICAL_NOT,this.ORDER_TYPEOF=this.generator.ORDER_TYPEOF,this.ORDER_VOID=this.generator.ORDER_VOID,this.ORDER_DELETE=this.generator.ORDER_DELETE,this.ORDER_DIVISION=this.generator.ORDER_DIVISION,this.ORDER_MULTIPLICATION=this.generator.ORDER_MULTIPLICATION,this.ORDER_MODULUS=this.generator.ORDER_MODULUS,this.ORDER_SUBTRACTION=this.generator.ORDER_SUBTRACTION,this.ORDER_ADDITION=this.generator.ORDER_ADDITION,this.ORDER_BITWISE_SHIFT=this.generator.ORDER_BITWISE_SHIFT,this.ORDER_RELATIONAL=this.generator.ORDER_RELATIONAL,this.ORDER_IN=this.generator.ORDER_IN,this.ORDER_INSTANCEOF=this.generator.ORDER_INSTANCEOF,this.ORDER_EQUALITY=this.generator.ORDER_EQUALITY,this.ORDER_BITWISE_AND=this.generator.ORDER_BITWISE_AND,this.ORDER_BITWISE_XOR=this.generator.ORDER_BITWISE_XOR,this.ORDER_BITWISE_OR=this.generator.ORDER_BITWISE_OR,this.ORDER_LOGICAL_AND=this.generator.ORDER_LOGICAL_AND,this.ORDER_LOGICAL_OR=this.generator.ORDER_LOGICAL_OR,this.ORDER_CONDITIONAL=this.generator.ORDER_CONDITIONAL,this.ORDER_ASSIGNMENT=this.generator.ORDER_ASSIGNMENT,this.ORDER_COMMA=this.generator.ORDER_COMMA,this.ORDER_NONE=this.generator.ORDER_NONE,a.load_basic_blocks_json_js_generators(this.generator)}return i.a(e,[{key:"getDynamicValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.dynamicValueMap.get(e);return t?n||"":n||e}},{key:"setDynamicValue",value:function(e,t){this.dynamicValueMap.set(e,t)}},{key:"deleteDynamicValue",value:function(e){this.dynamicValueMap.delete(e)}},{key:"clearAllDynamicValues",value:function(){this.dynamicValueMap.clear()}}]),e}(),u=function(){function e(){r.a(this,e),this.xmlMap=new Map}return i.a(e,[{key:"insertBlockXML",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.xmlMap.set(e,{xml:t,notCached:n})}},{key:"getBlockXMLRecord",value:function(){var e={};return this.xmlMap.forEach(function(t,n){var r=t.xml,i=t.notCached,o="";"string"==typeof r?o='<block type="'.concat(n,'" uncache="').concat(i,'">').concat(r,"</block>"):r.forEach(function(e){o+='<block type="'.concat(n,'">').concat(e,'</block> <sep gap="15"></sep>')}),e[n]=o}),e}}]),e}(),l={getWidgetListByType:function(e,t){return[]},getButtonTypeById:function(e){return""},getPrimitiveVariableList:function(e){return[]},getArrayVariableList:function(e){return[]},getObjectVariableList:function(e){return[]},getBroadcastList:function(e){return[]},getCloudDocumentList:function(){return[]},getLocalDocumentList:function(){return[]},getImageFiles:function(){return[]},getIconFiles:function(){return[]},getCloudDocumentFieldList:function(e,t){return[]},getLocalDocumentFieldList:function(e,t){return[]},getCloudDBList:function(){return[]},getCloudDBColumnList:function(e,t){return[]},getCloudDictKeyList:function(e,t){return[]},getScreenList:function(){return[]},dispatchAction:function(){},getActorActionList:function(e){return[]},getActorStyleList:function(e,t){return[]},getSoundFiles:function(){return[]},getSliderVisible:function(){return!1},getListViewerChildWidgetList:function(e,t){return[]},getGlobalGridList:function(e){return[]},getTableDataColumnList:function(e){return[]},getCloudTableColumnList:function(e,t){return[]}};function d(){return l}function p(e){l=e}var f=new o,h=new c,_=new u;function v(e,t,n){n.setBlockGroupProfile(f,e,t),n.setBlockGroupSnippet&&n.setBlockGroupSnippet(h),n.setBlockGroupXML&&n.setBlockGroupXML(_,e),n.setBlockGroupExtra&&n.setBlockGroupExtra(e,t)}function m(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];r.forEach(v.bind(void 0,e,t))}function g(){return f.getBlockProfileList()}function y(){return _.getBlockXMLRecord()}function b(){return h}},37027(e,t,n){"use strict";n.d(t,{a:()=>h,b:()=>l,c:()=>p});var r=n(7452),i=n.n(r),o=n(34221),a=n(14104),s=n(67240);s.a.backendHost;var c=s.a.serverHost,u=s.a.openServiceHost;function l(){return d.apply(this,arguments)}function d(){return(d=o.a(i().mark(function e(){var t,n;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.a.get(c+"/coconut/primary-course/list");case 3:if(200!==(t=e.sent.data).code){e.next=10;break}return n=t.data.items.map(function(e){return{id:e.id,gif:e.gif,preview:e.preview,title:e.title,bcmUrl:e.bcm_url,videoUrl:e.video_url,courseIntro:e.course_intro}}),e.abrupt("return",n);case 10:return e.abrupt("return",[]);case 11:e.next=17;break;case 13:throw e.prev=13,e.t0=e.catch(0),console.error(e.t0),e.t0;case 17:case"end":return e.stop()}},e,null,[[0,13]])}))).apply(this,arguments)}function p(){return f.apply(this,arguments)}function f(){return(f=o.a(i().mark(function e(){var t,n;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.a.get(c+"/coconut/sample/list");case 3:if(200!==(t=e.sent.data).code){e.next=10;break}return n=t.data.items.map(function(e){return{id:e.id.toString(),name:e.name,gif:e.gif_url,image:e.preview_url,bcmUrl:e.bcm_url}}),e.abrupt("return",n);case 10:return e.abrupt("return",[]);case 11:e.next=17;break;case 13:throw e.prev=13,e.t0=e.catch(0),console.error(e.t0),e.t0;case 17:case"end":return e.stop()}},e,null,[[0,13]])}))).apply(this,arguments)}function h(e){return _.apply(this,arguments)}function _(){return(_=o.a(i().mark(function e(t){var n,r;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.a.post(u+"/content-security/image/sensor",{businessCode:"coco",uri:t,params:["PULP"]});case 3:if(200!==(n=e.sent).status||!n.data){e.next=7;break}return r=n.data,e.abrupt("return",r.result);case 7:return e.abrupt("return",!1);case 10:throw e.prev=10,e.t0=e.catch(0),console.error(e.t0),e.t0;case 14:case"end":return e.stop()}},e,null,[[0,10]])}))).apply(this,arguments)}},95361(e,t,n){"use strict";n.d(t,{a:()=>i});var r=n(88633);function i(e,t){if(e){if("string"==typeof e)return r.a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r.a(e,t):void 0}}},92136(e,t,n){"use strict";n.d(t,{a:()=>i});var r=n(95361);function i(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=r.a(e))){var t,n,i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,s=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return a=e.done,e},e:function(e){s=!0,n=e},f:function(){try{a||null==t.return||t.return()}finally{if(s)throw n}}}}},26434(e,t,n){"use strict";n.d(t,{a:()=>p});var r=n(7452),i=n.n(r),o=n(34221),a=n(71312),s=n(14104),c=n(67240),u="".concat(c.a.serverHost,"/coconut"),l=!1,d=0;function p(e){return f.apply(this,arguments)}function f(){return(f=o.a(i().mark(function e(t){var n,r;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(l){e.next=3;break}return e.next=3,function(){return h.apply(this,arguments)}();case 3:return n=Math.round(Date.now()/1e3)+d,r=a.sha256("".concat("pBlYqXbJDu").concat(n).concat(t)).toLocaleUpperCase(),e.abrupt("return",{sign:r,timestamp:n});case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function h(){return(h=o.a(i().mark(function e(){var t,n;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get("".concat(u,"/clouddb/currentTime"));case 2:if(200===(t=e.sent.data).code)try{n=Math.round(Date.now()/1e3),d=t.data-n,l=!0}catch(e){}case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}},2622(e,t,n){"use strict";var r,i,o=(Object.defineProperty(i=(r=n(13719))&&r.__esModule?function(){return r.default}:function(){return r},"a",{enumerable:!0,get:i}),i).a.create({timeout:5e3,withCredentials:!0});o.interceptors.request.use(function(e){return e},function(e){return Promise.reject(e)}),o.interceptors.response.use(function(e){return e},function(e){return e.response,Promise.reject(e)}),t.a=o},78967(e,t,n){"use strict";var r=n(14890);t.a=function(e,t){void 0===t&&(t=!0);var n,i=new Promise(function(r){n=setTimeout(r,e,t)});return i[r.a]=function(){clearTimeout(n)},i}},24008(e,t,n){"use strict";n.r(t),n.d(t,{a:()=>c,b:()=>f,c:()=>m,d:()=>a,default:()=>g,e:()=>d,f:()=>v,g:()=>o,h:()=>u,i:()=>p,j:()=>l,k:()=>s,l:()=>h,m:()=>_,n:()=>i});var r=n(14890),i=function(e){return null==e},o=function(e){return null!=e},a=function(e){return"function"==typeof e},s=function(e){return"string"==typeof e},c=Array.isArray,u=function(e){return e&&!c(e)&&"object"==typeof e},l=function(e){return e&&a(e.then)},d=function(e){return e&&a(e.next)&&a(e.throw)},p=function e(t){return t&&(s(t)||_(t)||a(t)||c(t)&&t.every(e))},f=function(e){return e&&a(e.take)&&a(e.close)},h=function(e){return a(e)&&e.hasOwnProperty("toString")},_=function(e){return!!e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype},v=function(e){return f(e)&&e[r.e]},m=function(e){return e&&e[r.c]};let g=c},14890(e,t,n){"use strict";n.r(t),n.d(t,{a:()=>i,b:()=>o,c:()=>a,d:()=>s,default:()=>_,e:()=>c,f:()=>u,g:()=>h,h:()=>l,i:()=>d,j:()=>p,k:()=>f});var r=function(e){return"@@redux-saga/"+e},i=r("CANCEL_PROMISE"),o=r("CHANNEL_END"),a=r("IO"),s=r("MATCH"),c=r("MULTICAST"),u=r("SAGA_ACTION"),l=r("SELF_CANCELLATION"),d=r("TASK"),p=r("TASK_CANCEL"),f=r("TERMINATE"),h=r("LOCATION");let _=i},40392(e,t,n){"use strict";n.r(t),n.d(t,{A:()=>G,B:()=>C,C:()=>W,D:()=>q,E:()=>Y,F:()=>y,G:()=>T,H:()=>s,I:()=>S,J:()=>b,K:()=>I,L:()=>h,M:()=>d,N:()=>m,O:()=>f,P:()=>x,Q:()=>c,R:()=>p,S:()=>R,T:()=>O,U:()=>w,a:()=>M,b:()=>g,c:()=>U,d:()=>E,default:()=>ea,e:()=>u,f:()=>P,g:()=>z,h:()=>B,i:()=>J,j:()=>et,k:()=>en,l:()=>ee,m:()=>ei,n:()=>N,o:()=>D,p:()=>j,q:()=>V,r:()=>L,s:()=>eo,t:()=>$,u:()=>Z,v:()=>Q,w:()=>F,x:()=>er,y:()=>H,z:()=>l});var r=n(14890),i=n(26564),o=n(24008),a=n(78967),s=function(){return!0},c=function(){},u=function(e){return e};function l(e,t,n){if(!t(e))throw Error(n)}var d=function(e,t){i.a(e,t),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(function(n){e[n]=t[n]})},p=function(e,t){var n;return(n=[]).concat.apply(n,t.map(e))};function f(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}function h(e){var t=!1;return function(){t||(t=!0,e())}}var _=function(e){throw e},v=function(e){return{value:e,done:!0}};function m(e,t,n){void 0===t&&(t=_),void 0===n&&(n="iterator");var r={meta:{name:n},next:e,throw:t,return:v,isSagaIterator:!0};return"undefined"!=typeof Symbol&&(r[Symbol.iterator]=function(){return r}),r}function g(e,t){var n=t.sagaStack;console.error(e),console.error(n)}var y=function(e){return Error("\n  redux-saga: Error checking hooks detected an inconsistent state. This is likely a bug\n  in redux-saga code and not yours. Thanks for reporting this in the project's github repo.\n  Error: "+e+"\n")},b=function(e){return Array.apply(null,Array(e))},E=function(e){return function(t){return e(Object.defineProperty(t,r.f,{value:!0}))}},w=function(e){return e===r.k},O=function(e){return e===r.j},x=function(e){return w(e)||O(e)};function S(e,t){var n,r=Object.keys(e),i=r.length,a=0,s=o.a(e)?b(i):{},u={};return r.forEach(function(e){var r=function(r,o){n||(o||x(r)?(t.cancel(),t(r,o)):(s[e]=r,++a===i&&(n=!0,t(s))))};r.cancel=c,u[e]=r}),t.cancel=function(){n||(n=!0,r.forEach(function(e){return u[e].cancel()}))},u}function T(e){return{name:e.name||"anonymous",location:R(e)}}function R(e){return e[r.g]}var k={isEmpty:s,put:c,take:c};function A(e,t){void 0===e&&(e=10);var n=Array(e),r=0,i=0,o=0,a=function(t){n[i]=t,i=(i+1)%e,r++},s=function(){if(0!=r){var t=n[o];return n[o]=null,r--,o=(o+1)%e,t}},c=function(){for(var e=[];r;)e.push(s());return e};return{isEmpty:function(){return 0==r},put:function(s){var u;if(r<e)a(s);else switch(t){case 1:throw Error("Channel's Buffer overflow!");case 3:n[i]=s,o=i=(i+1)%e;break;case 4:u=2*e,r=(n=c()).length,i=n.length,o=0,n.length=u,e=u,a(s)}},take:s,flush:c}}var I=function(){return k},D=function(e){return A(e,3)},C=function(e){return A(e,4)},L="TAKE",N="PUT",M="ALL",j="RACE",U="CALL",F="CPS",P="FORK",B="JOIN",H="CANCEL",V="SELECT",G="ACTION_CHANNEL",W="CANCELLED",q="FLUSH",z="GET_CONTEXT",Y="SET_CONTEXT",X=function(e,t){var n;return(n={})[r.c]=!0,n.combinator=!1,n.type=e,n.payload=t,n};function J(e,t){return void 0===e&&(e="*"),o.i(e)?X(L,{pattern:e}):o.f(e)&&o.g(t)&&o.i(t)?X(L,{channel:e,pattern:t}):o.b(e)?X(L,{channel:e}):void 0}function Z(e,t){return o.n(t)&&(t=e,e=void 0),X(N,{channel:e,action:t})}function Q(e){var t=X(M,e);return t.combinator=!0,t}function $(e){var t=X(j,e);return t.combinator=!0,t}function K(e,t){var n,r=null;return o.d(e)?n=e:(o.a(e)?(r=e[0],n=e[1]):(r=e.context,n=e.fn),r&&o.k(n)&&o.d(r[n])&&(n=r[n])),{context:r,fn:n,args:t}}function ee(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return X(U,K(e,n))}function et(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return X(P,K(e,n))}function en(e){return void 0===e&&(e=r.h),X(H,e)}function er(e){void 0===e&&(e=u);for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return X(V,{selector:e,args:n})}function ei(e,t){return X(G,{pattern:e,buffer:t})}var eo=ee.bind(null,a.a);let ea=M},76679(e,t,n){"use strict";n.d(t,{a:()=>r.v,b:()=>r.l,c:()=>r.s,d:()=>r.j,e:()=>r.u,f:()=>r.x,g:()=>d,h:()=>p});var r=n(40392);n(14890);var i=n(24008);n(78967);var o=function(e){return{done:!0,value:e}},a={};function s(e){return i.b(e)?"channel":i.l(e)?String(e):i.d(e)?e.name:String(e)}function c(e,t,n){var i,s,c,u=t;function l(t,n){if(u===a)return o(t);if(n&&!s)throw u=a,n;i&&i(t);var r=n?e[s](n):e[u]();return u=r.nextState,c=r.effect,i=r.stateUpdater,s=r.errorState,u===a?o(t):c}return r.N(l,function(e){return l(null,e)},n)}function u(e,t){for(var n,i=arguments.length,o=Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];var u={done:!1,value:r.i(e)},l=function(e){return n=e};return c({q1:function(){return{nextState:"q2",effect:u,stateUpdater:l}},q2:function(){var e;return{nextState:"q1",effect:(e=n,{done:!1,value:r.j.apply(void 0,[t].concat(o,[e]))})}}},"q1","takeEvery("+s(e)+", "+t.name+")")}function l(e,t){for(var n,i,o=arguments.length,a=Array(o>2?o-2:0),u=2;u<o;u++)a[u-2]=arguments[u];var l={done:!1,value:r.i(e)},d=function(e){return{done:!1,value:r.j.apply(void 0,[t].concat(a,[e]))}},p=function(e){return n=e},f=function(e){return i=e};return c({q1:function(){return{nextState:"q2",effect:l,stateUpdater:f}},q2:function(){var e;return n?{nextState:"q3",effect:(e=n,{done:!1,value:r.k(e)})}:{nextState:"q1",effect:d(i),stateUpdater:p}},q3:function(){return{nextState:"q1",effect:d(i),stateUpdater:p}}},"q1","takeLatest("+s(e)+", "+t.name+")")}function d(e,t){for(var n=arguments.length,i=Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];return r.j.apply(void 0,[u,e,t].concat(i))}function p(e,t){for(var n=arguments.length,i=Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];return r.j.apply(void 0,[l,e,t].concat(i))}},91703(e,t,n){"use strict";n.d(t,{a:()=>p,b:()=>d,c:()=>u});var r=n(92136),i=n(94220),o=n(32919),a=n(46431),s=n(95655),c=n(44062);function u(e,t){for(var n in e){var r=e[n];if(1===t)if(r.type===i.v&&""===r.attributes.fileId&&(r.attributes.fileId="https://creation.codemao.cn/coconut/web/1.10.0/static/media/defaultImage.8392642c.svg"),r.type!==i.H||r.parentId)if(r.type===i.w){var c=r.attributes.sizeType;if(c){var u=o.ob(c);r.size.height=u.height,r.attributes.fontSize=u.fontSize}r.attributes.color&&(r.attributes.backgroundColor=r.attributes.color),r.attributes.mode&&(r.attributes.templateMode=r.attributes.mode),r.attributes.placeholderColor=a.n,r.attributes.valueColor=a.o,r.attributes.fontFamily=a.f,r.attributes.backgroundMode=s.a.TEMPLATE,r.attributes.backgroundImage=a.a,r.attributes.imageResizeMode=s.b.CONTAIN}else r.type===i.F&&l(r);else{var d="__textWidgetMigrateContainer",p=document.getElementById(d);p||((p=document.createElement("div")).id=d,p.style.whiteSpace="pre",p.style.wordBreak="break-all",p.style.position="absolute",p.style.zIndex="-100",p.style.visibility="hidden",p.style.padding="6px",document.body.appendChild(p));var f=r.attributes,h=f.fontSize,_=f.content.replace(/&nbsp;/g," ");r.attributes.content=_,40===r.size.width&&40===r.size.height&&r.attributes.sizeAdaptive===i.q.AUTO_ALL?(p.style.fontSize="".concat(h,"px"),p.innerText=_,r.size.width=Math.max(40,p.clientWidth),r.size.height=Math.max(40,p.clientHeight),r.attributes.sizeAdaptive=i.q.AUTO_HEIGHT,p.innerText=""):r.attributes.sizeAdaptive=i.q.FIXED}else 2===t&&r.type===i.F&&l(r)}}function l(e){var t=e.attributes.mode,n=e.attributes.sizeType;if(t&&n){var r=c.l[t][n];e.size.width=r.width,e.size.height=r.height}e.attributes.backgroundMode=s.a.TEMPLATE,e.attributes.imageResizeMode=s.b.CONTAIN}function d(e){Object.values(e.screens).forEach(function(e){e.objectVariables||(e.objectVariables=[])}),e.globalObjectList||(e.globalObjectList=[])}function p(e){var t=function(e){var t=[];for(var n in e)if(e[n]){var r=e[n].blocks;if(r)for(var i in r){var o=r[i].fields;if(o){var a=o.BROADCAST;a&&!t.includes(a)&&t.push(a)}}}return t}(e.blockJsonMap);return{title:e.title,screenIds:e.screenList.map(function(e){return e.id}),screens:function(e,t,n){var i,o={},a=r.a(e);try{for(a.s();!(i=a.n()).done;){var s=i.value;s.arrayVariables=[],s.broadcasts=n,s.objectVariables=[],s.primitiveVariables=[],s.widgets=function(e,t){var n={};return e.forEach(function(e){n[e]=t[e]}),n}(s.widgetIds.concat(s.invisibleWidgetIds),t),o[s.id]=s}}catch(e){a.e(e)}finally{a.f()}return o}(e.screenList,e.widgetMap,t),blockly:function(e){var t={};for(var n in e)t[n]={screenId:n,workspaceJson:e[n],workspaceOffset:{x:0,y:0}};return t}(e.blockJsonMap),imageFileList:f(e.imageFileList),soundFileList:f(e.soundFileList),iconFileList:f(e.iconFileList),version:e.version,apiToken:e.apiToken||"",globalVariableList:_(e.variableMap).variableList,globalArrayList:_(e.variableMap).arrayList,globalObjectList:_(e.variableMap).objectList,globalWidgetIds:h(e.widgetMap).list,globalWidgets:h(e.widgetMap).map,authorId:e.authorId,extensionWidgetList:e.extensionWidgetList,unsafeExtensionWidgetList:e.unsafeExtensionWidgetList,fontFileList:f(e.fontFileList),sourceTag:e.sourceTag,sourceId:e.sourceId}}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[];for(var n in e)t.push(e[n]);return t}function h(e){var t=[],n={};for(var r in e)e[r].isGlobalWidget&&(t.push(r),n[r]=e[r]);return{list:t,map:n}}function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[],n=[],r=[];for(var i in e)i.startsWith("VARIABLE")?t.push({defaultValue:e[i],id:i,name:i,value:e[i]}):i.startsWith("OBJECT")?r.push({defaultValue:e[i],id:i,name:i,value:e[i]}):i.startsWith("ARRAY")&&n.push({defaultValue:e[i],id:i,name:i,value:e[i]});return{variableList:t,objectList:r,arrayList:n}}},83518(e,t,n){"use strict";var r,i=n(14890),o=n(26564),a=n(11041),s=n(24008),c=n(40392),u=n(95766),l=function(){var e={};return e.promise=new Promise(function(t,n){e.resolve=t,e.reject=n}),e};n(78967);var d=[],p=0;function f(e){d.push(e),p||(p++,_())}function h(e){try{return p++,e()}finally{_()}}function _(){var e;for(p--;!p&&void 0!==(e=d.shift());){var t=e;try{p++,t()}finally{p--}}}var v=function(e){return function(t){return e.some(function(e){return E(e)(t)})}},m=function(e){return function(t){return e(t)}},g=function(e){return function(t){return t.type===String(e)}},y=function(e){return function(t){return t.type===e}},b=function(){return c.H};function E(e){var t="*"===e?b:s.k(e)?g:s.a(e)?v:s.l(e)?g:s.d(e)?m:s.m(e)?y:null;if(null===t)throw Error("invalid pattern: "+e);return t(e)}var w={type:i.b},O=function(e){return e&&e.type===i.b};function x(){var e,t,n,r,o,a,s=(t=!1,r=n=[],o=function(){r===n&&(r=n.slice())},a=function(){t=!0;var e=n=r;r=[],e.forEach(function(e){e(w)})},(e={})[i.e]=!0,e.put=function(e){if(!t)if(O(e))a();else for(var o=n=r,s=0,c=o.length;s<c;s++){var u=o[s];u[i.d](e)&&(u.cancel(),u(e))}},e.take=function(e,n){void 0===n&&(n=b),t?e(w):(e[i.d]=n,o(),r.push(e),e.cancel=c.L(function(){o(),c.O(r,e)}))},e.close=a,e),u=s.put;return s.put=function(e){e[i.f]?u(e):f(function(){u(e)})},s}function S(e,t){var n=e[i.a];s.d(n)&&(t.cancel=n),e.then(t,function(e){t(e,!0)})}var T=0,R=function(){return++T};function k(e){e.isRunning()&&e.cancel()}(r={})[c.r]=function(e,t,n){var r=t.channel,o=void 0===r?e.channel:r,a=t.pattern,c=t.maybe,u=function(e){e instanceof Error?n(e,!0):!O(e)||c?n(e):n(i.k)};try{o.take(u,s.g(a)?E(a):null)}catch(e){return void n(e,!0)}n.cancel=u.cancel},r[c.n]=function(e,t,n){var r=t.channel,i=t.action,o=t.resolve;f(function(){var t;try{t=(r?r.put:e.dispatch)(i)}catch(e){return void n(e,!0)}o&&s.j(t)?S(t,n):n(t)})},r[c.a]=function(e,t,n,r){var i=r.digestEffect,o=T,a=Object.keys(t);if(0!==a.length){var u=c.I(t,n);a.forEach(function(e){i(t[e],o,u[e],e)})}else n(s.a(t)?[]:{})},r[c.p]=function(e,t,n,r){var i=r.digestEffect,o=T,a=Object.keys(t),u=s.a(t)?c.J(a.length):{},l={},d=!1;a.forEach(function(e){var t=function(t,r){d||(r||c.P(t)?(n.cancel(),n(t,r)):(n.cancel(),d=!0,u[e]=t,n(u)))};t.cancel=c.Q,l[e]=t}),n.cancel=function(){d||(d=!0,a.forEach(function(e){return l[e].cancel()}))},a.forEach(function(e){d||i(t[e],o,l[e],e)})},r[c.c]=function(e,t,n,r){var i=t.context,o=t.fn,a=t.args,u=r.task;try{var l=o.apply(i,a);if(s.j(l))return void S(l,n);if(s.e(l))return void N(e,l,u.context,T,c.G(o),!1,n);n(l)}catch(e){n(e,!0)}},r[c.w]=function(e,t,n){var r=t.context,i=t.fn,o=t.args;try{var a=function(e,t){s.n(e)?n(t):n(e,!0)};i.apply(r,o.concat(a)),a.cancel&&(n.cancel=a.cancel)}catch(e){n(e,!0)}},r[c.f]=function(e,t,n,r){var i=t.context,o=t.fn,a=t.args,u=t.detached,l=r.task,d=function(e){var t=e.context,n=e.fn,r=e.args;try{var i=n.apply(t,r);if(s.e(i))return i;var o=!1;return c.N(function(e){return o?{value:e,done:!0}:(o=!0,{value:i,done:!s.j(i)})})}catch(e){return c.N(function(){throw e})}}({context:i,fn:o,args:a}),p=d.isSagaIterator?{name:d.meta.name}:c.G(o);h(function(){var t=N(e,d,l.context,T,p,u,void 0);u?n(t):t.isRunning()?(l.queue.addTask(t),n(t)):t.isAborted()?l.queue.abort(t.error()):n(t)})},r[c.h]=function(e,t,n,r){var i=r.task,o=function(e,t){if(e.isRunning()){var n={task:i,cb:t};t.cancel=function(){e.isRunning()&&c.O(e.joiners,n)},e.joiners.push(n)}else e.isAborted()?t(e.error(),!0):t(e.result())};if(s.a(t)){if(0===t.length)return void n([]);var a=c.I(t,n);t.forEach(function(e,t){o(e,a[t])})}else o(t,n)},r[c.y]=function(e,t,n,r){var o=r.task;t===i.h?k(o):s.a(t)?t.forEach(k):k(t),n()},r[c.q]=function(e,t,n){var r=t.selector,i=t.args;try{n(r.apply(void 0,[e.getState()].concat(i)))}catch(e){n(e,!0)}},r[c.A]=function(e,t,n){var r,i,o,a=t.pattern,s=(void 0===(r=t.buffer)&&(r=c.B()),i=!1,o=[],{take:function(e){i&&r.isEmpty()?e(w):r.isEmpty()?(o.push(e),e.cancel=function(){c.O(o,e)}):e(r.take())},put:function(e){if(!i){if(0===o.length)return r.put(e);o.shift()(e)}},flush:function(e){e(i&&r.isEmpty()?w:r.flush())},close:function(){if(!i){i=!0;var e=o;o=[];for(var t=0,n=e.length;t<n;t++)(0,e[t])(w)}}}),u=E(a),l=function t(n){O(n)||e.channel.take(t,u),s.put(n)},d=s.close;s.close=function(){l.cancel(),d()},e.channel.take(l,u),n(s)},r[c.C]=function(e,t,n,r){n(r.task.isCancelled())},r[c.D]=function(e,t,n){t.flush(n)},r[c.g]=function(e,t,n,r){n(r.task.context[t])},r[c.E]=function(e,t,n,r){var i=r.task;c.M(i.context,t),n()};function A(e){var t=e.name,n=e.location;return n?t+"  "+(n.fileName+"?")+n.lineNumber:t}var I=null,D=[],C=function(){I=null,D.length=0},L=function(){var e,t,n,r=D[0],i=D.slice(1),o=r.crashedEffect?(e=r.crashedEffect,(t=c.S(e))?t.code+"  "+(t.fileName+"?")+t.lineNumber:""):null;return["The above error occurred in task "+A(r.meta)+(o?" \n when executing effect "+o:"")].concat(i.map(function(e){return"    created by "+A(e.meta)}),[(n=c.R(function(e){return e.cancelledTasks},D)).length?["Tasks cancelled due to error:"].concat(n).join("\n"):""]).join("\n")};function N(e,t,n,o,a,u,d){var p=e.finalizeRunEffect(function(t,n,o){s.j(t)?S(t,o):s.e(t)?N(e,t,h.context,n,a,!1,o):t&&t[i.c]?(0,r[t.type])(e,t.payload,o,_):o(t)});v.cancel=c.Q;var f={meta:a,cancel:function(){0===f.status&&(f.status=1,v(i.j))},status:0},h=function(e,t,n,r,o,a,s){void 0===s&&(s=c.Q);var u,d,p,f=0,h=null,_=[],v=Object.create(n),m=function(e,t,n){var r,i=[],o=!1;function a(e){t(),u(),n(e,!0)}function s(t){i.push(t),t.cont=function(s,u){!o&&(c.O(i,t),t.cont=c.Q,u?a(s):(t===e&&(r=s),i.length||(o=!0,n(r))))}}function u(){o||(o=!0,i.forEach(function(e){e.cont=c.Q,e.cancel()}),i=[])}return s(e),{addTask:s,cancelAll:u,abort:a,getTasks:function(){return i}}}(t,function(){_.push.apply(_,m.getTasks().map(function(e){return e.meta.name}))},g);function g(t,n){if(n){if(f=2,(r={meta:o,cancelledTasks:_}).crashedEffect=I,D.push(r),y.isRoot){var r,a=L();C(),e.onError(t,{sagaStack:a})}p=t,h&&h.reject(t)}else t===i.j?f=1:1!==f&&(f=3),d=t,h&&h.resolve(t);y.cont(t,n),y.joiners.forEach(function(e){e.cb(t,n)}),y.joiners=null}(u={})[i.i]=!0,u.id=r,u.meta=o,u.isRoot=a,u.context=v,u.joiners=[],u.queue=m,u.cancel=function(){0===f&&(f=1,m.cancelAll(),g(i.j,!1))},u.cont=s,u.end=g,u.setContext=function(e){c.M(v,e)},u.toPromise=function(){return h||(h=l(),2===f?h.reject(p):0!==f&&h.resolve(d)),h.promise},u.isRunning=function(){return 0===f},u.isCancelled=function(){return 1===f||0===f&&1===t.status},u.isAborted=function(){return 2===f},u.result=function(){return d},u.error=function(){return p};var y=u;return y}(e,f,n,o,a,u,d),_={task:h,digestEffect:m};return d&&(d.cancel=h.cancel),v(),h;function v(e,n){try{var r;n?(r=t.throw(e),C()):c.T(e)?(f.status=1,v.cancel(),r=s.d(t.return)?t.return(i.j):{done:!0,value:i.j}):r=c.U(e)?s.d(t.return)?t.return():{done:!0}:t.next(e),r.done?(1!==f.status&&(f.status=3),f.cont(r.value)):m(r.value,o,v)}catch(e){if(1===f.status)throw e;f.status=2,f.cont(e,!0)}}function m(t,n,r,i){void 0===i&&(i="");var o,a=R();function s(n,i){o||(o=!0,r.cancel=c.Q,e.sagaMonitor&&(i?e.sagaMonitor.effectRejected(a,n):e.sagaMonitor.effectResolved(a,n)),i&&(I=t),r(n,i))}e.sagaMonitor&&e.sagaMonitor.effectTriggered({effectId:a,parentEffectId:n,label:i,effect:t}),s.cancel=c.Q,r.cancel=function(){!o&&(o=!0,s.cancel(),s.cancel=c.Q,e.sagaMonitor&&e.sagaMonitor.effectCancelled(a))},p(t,a,s)}}function M(e,t){for(var n,r=e.channel,i=void 0===r?x():r,o=e.dispatch,a=e.getState,s=e.context,l=void 0===s?{}:s,d=e.sagaMonitor,p=e.effectMiddlewares,f=e.onError,_=void 0===f?c.b:f,v=arguments.length,m=Array(v>2?v-2:0),g=2;g<v;g++)m[g-2]=arguments[g];var y=t.apply(void 0,m),b=R();if(d&&(d.rootSagaStarted=d.rootSagaStarted||c.Q,d.effectTriggered=d.effectTriggered||c.Q,d.effectResolved=d.effectResolved||c.Q,d.effectRejected=d.effectRejected||c.Q,d.effectCancelled=d.effectCancelled||c.Q,d.actionDispatched=d.actionDispatched||c.Q,d.rootSagaStarted({effectId:b,saga:t,args:m})),p){var E=u.compose.apply(void 0,p);n=function(e){return function(t,n,r){return E(function(t){return e(t,n,r)})(t)}}}else n=c.e;var w={channel:i,dispatch:c.d(o),getState:a,sagaMonitor:d,onError:_,finalizeRunEffect:n};return h(function(){var e=N(w,y,l,b,c.G(t),!0,void 0);return d&&d.effectResolved(b,e),e})}t.a=function(e){var t,n=void 0===e?{}:e,r=n.context,i=void 0===r?{}:r,s=n.channel,u=void 0===s?x():s,l=n.sagaMonitor,d=a.a(n,["context","channel","sagaMonitor"]);function p(e){var n=e.getState,r=e.dispatch;return t=M.bind(null,o.a({},d,{context:i,channel:u,dispatch:r,getState:n,sagaMonitor:l})),function(e){return function(t){l&&l.actionDispatched&&l.actionDispatched(t);var n=e(t);return u.put(t),n}}}return p.run=function(){return t.apply(void 0,arguments)},p.setContext=function(e){c.M(i,e)},p}},22516(e,t,n){"use strict";n.d(t,{a:()=>y,b:()=>m,c:()=>O,d:()=>E,e:()=>_,f:()=>s,g:()=>u,h:()=>r,i:()=>c,j:()=>i,k:()=>o,l:()=>a,m:()=>b,n:()=>g,o:()=>x,p:()=>w,q:()=>v,r:()=>h,s:()=>S,t:()=>l,u:()=>d,v:()=>p,x:()=>f});var r="SET_NAVIGATOR",i="SET_WIDGET",o="UNSET_WIDGET",a="UPDATE_SCREEN",s="SET_CAMERA_DIRECTION",c="SET_SWITCH_SCREEN_PARAM",u="SET_EMULATOR_PHONE_INFO",l=function(e){return{payload:{navigator:e},type:r}},d=function(e){return{payload:{param:e},type:c}},p=function(e,t){return{payload:{id:e,widget:t},type:i}},f=function(e,t,n){return{payload:{id:e,key:t,value:n},type:a}},h=function(e){return{payload:{cameraDirection:e},type:s}},_="ASYNC_SET_CLOUD_DOC_FIELD_VALUE",v=function(e,t,n,r){return{type:_,payload:{documentId:e,key:t,value:n,fieldType:r}}},m="ASYNC_DELETE_CLOUD_DOC_FIELD_VALUE",g=function(e,t,n){return{type:m,payload:{documentId:e,key:t,id:n}}},y="ASYNC_CLEAR_CLOUD_DOC_ALL_FIELD_VALUE",b=function(e){return{type:y,payload:{documentId:e}}},E="ASYNC_GET_CLOUD_DOC_FIELD_VALUE",w=function(e,t,n){return{type:E,payload:{documentId:e,key:t,isConsole:n}}},O="ASYNC_GET_CLOUD_DOC_ALL_FIELD_VALUE",x=function(e){return{type:O,payload:{documentId:e}}},S=function(e){return{payload:e,type:u}}},66961(e,t,n){"use strict";n.d(t,{e:()=>b,f:()=>g,g:()=>d,a:()=>l,b:()=>v,c:()=>p,d:()=>h});var r,i=n(7452),o=n.n(i),a=n(28950),s=n(34221),c=n(14104),u=n(67240).a.socketHost;function l(){var e={};if(r&&(r.authorization&&(e["x-coconut-authorization"]=r.authorization),r.device)){var t=r.device,n=t.groupId,i=t.platform,o=t.origin;e["X-CodeMao-Mobile-Requested"]=JSON.stringify({group_id:n,platform:i,origin:o})}return e}function d(e){r=e}function p(e,t,n){return f.apply(this,arguments)}function f(){return(f=s.a(o().mark(function e(t,n,r){var i,s;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i={room_name:t,work_id:n,user_limit:r},e.next=3,c.a.post(u+"/coconut/room",a.a({},i),{headers:l()});case 3:if((s=e.sent).data.success){e.next=6;break}throw Error(s.data.msg);case 6:return e.abrupt("return",s.data.data);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function h(e){return _.apply(this,arguments)}function _(){return(_=s.a(o().mark(function e(t){var n,r;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={username:t},e.next=3,c.a.put(u+"/coconut/room/username",a.a({},n),{headers:l()});case 3:if((r=e.sent).data.success){e.next=6;break}throw Error(r.data.msg);case 6:return e.abrupt("return",r.data.msg);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function v(e){return m.apply(this,arguments)}function m(){return(m=s.a(o().mark(function e(t){var n;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.get(u+"/coconut/room/allow_join?id=".concat(t),{headers:l()});case 2:if((n=e.sent).data.success){e.next=5;break}throw Error(n.data.msg);case 5:return e.abrupt("return",n.data.data);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function g(e){return y.apply(this,arguments)}function y(){return(y=s.a(o().mark(function e(t){var n;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.get(u+"/coconut/room/users?id=".concat(t),{headers:l()});case 2:if((n=e.sent).data.success){e.next=5;break}throw Error(n.data.msg);case 5:return e.abrupt("return",n.data.data);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function b(e){return E.apply(this,arguments)}function E(){return(E=s.a(o().mark(function e(t){var n;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.get(u+"/coconut/room?work_id=".concat(t),{headers:l()});case 2:if((n=e.sent).data.success){e.next=5;break}throw Error(n.data.msg);case 5:return e.abrupt("return",n.data.data);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}},70626(e,t,n){"use strict";n.d(t,{a:()=>ei,b:()=>er});var r,i=n(46621),o=n(95766),a=n(83518),s=n(91703),c=n(13244),u=n(28950),l=n(56662),d=n(22516),p=window.localStorage.getItem("LANGUAGE")||navigator.language,f=o.combineReducers({widgetMap:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.a.Map({}),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.k:return e.delete(t.payload.id);case d.j:return e.set(t.payload.id,t.payload.widget);default:return e}},screenList:function(){var e,t,n,r,o,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.a.List([]),s=arguments.length>1?arguments[1]:void 0;return s.type!==d.l?a:(t=(e=s.payload).id,n=e.key,r=e.value,(o=a.findIndex(function(e){return e.id===t}))>-1?a.update(o,function(e){return u.a(u.a({},e),{},c.a({},n,r))}):a)},variableMap:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,t=arguments.length>1?arguments[1]:void 0;return t.type,e},imageFileMap:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,t=arguments.length>1?arguments[1]:void 0;return t.type,e},soundFileMap:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,t=arguments.length>1?arguments[1]:void 0;return t.type,e},iconFileMap:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,t=arguments.length>1?arguments[1]:void 0;return t.type,e},currentScreenId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return t.type===d.h?t.payload.navigator:e},currentScreenParam:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return t.type===d.i?t.payload.param:e},httpClientMap:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,t=arguments.length>1?arguments[1]:void 0;return t.type,e},mediaMap:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cameraDirection:0},t=arguments.length>1?arguments[1]:void 0;return t.type===d.f?u.a({state:e},t.payload):e},emulatorPhoneInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{dialPageVisible:!1,callingPageVisible:!1,contactPageVisible:!1,sendSmsPageVisible:!1,receiveSmsPageVisible:!1,phoneDialWidgetId:"",contactWidgetId:"",smsWidgetId:"",phoneNumber:"",callType:"",callStatus:l.b.IDEL,sendSmsNumber:"",sendSmsContent:"",receiveSmsNumber:"",receiveSmsContent:""},t=arguments.length>1?arguments[1]:void 0;return t.type===d.g?u.a(u.a({},e),t.payload):e},language:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;return t.type,e}}),h=n(7452),_=n.n(h),v=n(76679),m=n(34221),g=n(2622),y=n(73442),b=n(77407),E=n(66961),w=n(50983),O=n(26434),x="".concat(y.a.serverHost,"/coconut"),S=+!w.e();function T(e){return R.apply(this,arguments)}function R(){return(R=m.a(_().mark(function e(t){var n,r,i,o;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a("dictId=".concat(t));case 3:return r=(n=e.sent).sign,i=n.timestamp,e.next=8,g.a.get(x+"/webdb/try/dict/".concat(t,"/keys"),{headers:u.a({env:S,sign:r,timestamp:i},E.a())});case 8:if(200!==(o=e.sent.data).code){e.next=12;break}return e.abrupt("return",o.data);case 12:throw b.a.condition(!1,{type:"error",message:"网络通讯异常，无法获取所有键或者键值对个数"}),TypeError(o.msg);case 16:if(e.prev=16,e.t0=e.catch(0),!(e.t0 instanceof TypeError)){e.next=20;break}throw e.t0;case 20:throw b.a.condition(!1,{type:"error",message:"网络通讯异常，无法获取所有键或者键值对个数"}),Error("网络错误");case 22:case"end":return e.stop()}},e,null,[[0,16]])}))).apply(this,arguments)}function k(e){return A.apply(this,arguments)}function A(){return(A=m.a(_().mark(function e(t){var n,r,i,o;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a("dictId=".concat(t));case 3:return r=(n=e.sent).sign,i=n.timestamp,e.next=8,g.a.delete(x+"/webdb/try/dict/clear/".concat(t),{headers:u.a({env:S,sign:r,timestamp:i},E.a())});case 8:if(200!==(o=e.sent.data).code){e.next=12;break}return e.abrupt("return",o.success);case 12:throw b.a.condition(!1,{type:"error",message:"无法清空所有键值对"}),TypeError(o.msg);case 16:if(e.prev=16,e.t0=e.catch(0),!(e.t0 instanceof TypeError)){e.next=20;break}throw e.t0;case 20:throw b.a.condition(!1,{type:"error",message:"网络通讯异常，无法清空所有键值对"}),Error("网络错误");case 22:case"end":return e.stop()}},e,null,[[0,16]])}))).apply(this,arguments)}function I(e,t,n){return D.apply(this,arguments)}function D(){return(D=m.a(_().mark(function e(t,n,r){var i,o,a,s;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a("dictId=".concat(t,"&key=").concat(n));case 3:return o=(i=e.sent).sign,a=i.timestamp,e.next=8,g.a.get(x+"/webdb/try/dict/".concat(t,"/getvalue"),{params:{key:n},headers:u.a({env:S,sign:o,timestamp:a},E.a())});case 8:if(200!==(s=e.sent.data).code){e.next=12;break}return e.abrupt("return",s.data);case 12:if(r&&b.a.condition(!1,{type:"error",messageId:"keyNotExists",values:{key:n}}),0x2687810!==s.code){e.next=15;break}return e.abrupt("return",[]);case 15:throw TypeError(s.msg);case 18:if(e.prev=18,e.t0=e.catch(0),!(e.t0 instanceof TypeError)){e.next=22;break}throw e.t0;case 22:throw b.a.condition(!1,{type:"error",messageId:"notNetwork",values:{type:"获取",key:n}}),Error("网络错误");case 24:case"end":return e.stop()}},e,null,[[0,18]])}))).apply(this,arguments)}function C(e,t,n,r){return L.apply(this,arguments)}function L(){return(L=m.a(_().mark(function e(t,n,r,i){var o,a,s,c,l;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o={key:n.toString(),type:i,value:r.toString()},e.next=4,O.a("".concat(JSON.stringify(o)));case 4:return s=(a=e.sent).sign,c=a.timestamp,e.next=9,g.a.post(x+"/webdb/try/dict/".concat(t,"/set"),{key:n,type:i,value:r},{headers:u.a({env:S,sign:s,timestamp:c},E.a())});case 9:if(200!==(l=e.sent.data).code){e.next=13;break}return e.abrupt("return",l.success);case 13:throw 0x2687812===l.code?b.a.condition(!1,{type:"error",message:l.msg}):b.a.condition(!1,{type:"error",messageId:"keyNotExists",values:{key:n}}),TypeError(l.msg);case 17:if(e.prev=17,e.t0=e.catch(0),!(e.t0 instanceof TypeError)){e.next=21;break}throw e.t0;case 21:throw b.a.condition(!1,{type:"error",messageId:"notNetwork",values:{type:"添加或者更新",key:n}}),Error("与服务器通讯出现错误时，通讯网络问题");case 23:case"end":return e.stop()}},e,null,[[0,17]])}))).apply(this,arguments)}function N(e,t,n){return M.apply(this,arguments)}function M(){return(M=m.a(_().mark(function e(t,n,r){var i,o,a,s;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a("dictId=".concat(t,"&id=").concat(r,"&key=").concat(n));case 3:return o=(i=e.sent).sign,a=i.timestamp,e.next=8,g.a.delete(x+"/webdb/try/dict/".concat(t,"/remove?key=").concat(n,"&id=").concat(r),{headers:u.a({env:S,sign:o,timestamp:a},E.a())});case 8:if(200!==(s=e.sent.data).code){e.next=12;break}return e.abrupt("return",s.success);case 12:throw b.a.condition(!1,{type:"error",messageId:"keyNotExists",values:{key:n}}),TypeError(s.msg);case 16:if(e.prev=16,e.t0=e.catch(0),!(e.t0 instanceof TypeError)){e.next=20;break}throw e.t0;case 20:throw b.a.condition(!1,{type:"error",messageId:"deleteNotNetwork",values:{type:"删除",key:n}}),Error("与服务器通讯出现错误时，通讯网络问题");case 22:case"end":return e.stop()}},e,null,[[0,16]])}))).apply(this,arguments)}var j=_().mark(W),U=_().mark(q),F=_().mark(z),P=_().mark(Y),B=_().mark(X),H=_().mark(Z),V=_().mark(Q),G=_().mark($);function W(e){var t,n,r,i,o,a,s,c;return _().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.resolve,n=e.reject,i=(r=e.payload).documentId,o=r.key,a=r.value,s=r.fieldType,u.prev=2,u.next=5,v.b(C,i,o,a,s);case 5:return c=u.sent,u.abrupt("return",t(c));case 9:u.prev=9,u.t0=u.catch(2),n(u.t0.message);case 12:case"end":return u.stop()}},j,null,[[2,9]])}function q(e){var t,n,r,i,o,a,s;return _().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.resolve,n=e.reject,i=(r=e.payload).documentId,o=r.key,a=r.id,c.prev=2,c.next=5,v.b(N,i,o,a);case 5:return s=c.sent,c.abrupt("return",t(s));case 9:c.prev=9,c.t0=c.catch(2),n(c.t0.message);case 12:case"end":return c.stop()}},U,null,[[2,9]])}function z(e){var t,n,r,i;return _().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.resolve,n=e.reject,r=e.payload.documentId,o.prev=2,o.next=5,v.b(k,r);case 5:return i=o.sent,o.abrupt("return",t(i));case 9:o.prev=9,o.t0=o.catch(2),n(o.t0.message);case 12:case"end":return o.stop()}},F,null,[[2,9]])}function Y(e){var t,n,r,i,o,a,s;return _().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.resolve,n=e.reject,i=(r=e.payload).documentId,o=r.key,a=r.isConsole,c.prev=2,c.next=5,v.b(I,i,o,a);case 5:return s=c.sent,c.abrupt("return",t(s));case 9:c.prev=9,c.t0=c.catch(2),n(c.t0.message);case 12:case"end":return c.stop()}},P,null,[[2,9]])}function X(e){var t,n,r,i;return _().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.resolve,n=e.reject,r=e.payload.documentId,o.prev=2,o.next=5,v.b(T,r);case 5:return i=o.sent,o.abrupt("return",t(i));case 9:o.prev=9,o.t0=o.catch(2),n(o.t0.message);case 12:case"end":return o.stop()}},B,null,[[2,9]])}var J={ASYNC_SET_CLOUD_DOC_FIELD_VALUE:W,ASYNC_CLEAR_CLOUD_DOC_ALL_FIELD_VALUE:z,ASYNC_DELETE_CLOUD_DOC_FIELD_VALUE:q,ASYNC_GET_CLOUD_DOC_FIELD_VALUE:Y,ASYNC_GET_CLOUD_DOC_ALL_FIELD_VALUE:X};function Z(){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.g([d.a,d.b,d.d,d.c,d.e],Q);case 2:case"end":return e.stop()}},H)}function Q(e){var t;return _().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(t=J[e.type])){n.next=4;break}return n.next=4,v.b(t,e);case 4:case"end":return n.stop()}},V)}function $(){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a([v.d(Z)]);case 2:case"end":return e.stop()}},G)}var K=a.a(),ee=o.createStore(f),et=!1;try{r=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||window.compose,et=!1}catch(e){r=void 0}function en(e){var t=new Map;for(var n in e)t.set(n,e[n]);return t}function er(e){var t=e.screenList,n=e.widgetMap,a=e.variableMap,c=e.imageFileMap,u=e.soundFileMap,l=e.iconFileMap,d=e.initialScreenId,p=e.version;s.c(n,p);var h={screenList:i.a.List(t),widgetMap:i.a.Map(n),variableMap:a?en(a):void 0,imageFileMap:c?en(c):void 0,soundFileMap:u?en(u):void 0,iconFileMap:l?en(l):void 0,currentScreenId:d};return ee=et&&r?o.createStore(f,h,r(o.applyMiddleware(K))):o.createStore(f,h,o.applyMiddleware(K)),K.run($),ee}function ei(){return ee}},19549(e,t,n){"use strict";n.d(t,{a:()=>o,b:()=>i});var r=n(65606);function i(){return"[object process]"===Object.prototype.toString.call(void 0!==r?r:0)}function o(e,t){return e.require(t)}},88614(e,t,n){"use strict";n.d(t,{a:()=>c,b:()=>u});var r=n(95610),i=n(19549);e=n.hmd(e);var o={nowSeconds:function(){return Date.now()/1e3}},a=i.b()?function(){try{return i.a(e,"perf_hooks").performance}catch(e){return}}():function(){var e=r.e().performance;if(e&&e.now)return{now:function(){return e.now()},timeOrigin:Date.now()-e.now()}}(),s=void 0===a?o:{nowSeconds:function(){return(a.timeOrigin+a.now())/1e3}},c=o.nowSeconds.bind(o),u=s.nowSeconds.bind(s);!function(){var e=r.e().performance;if(e&&e.now){var t=e.now(),n=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+t-n):36e5,o=e.timing&&e.timing.navigationStart,a="number"==typeof o?Math.abs(o+t-n):36e5;(i<36e5||a<36e5)&&i<=a&&e.timeOrigin}}()},95610(e,t,n){"use strict";n.d(t,{a:()=>d,b:()=>l,c:()=>u,d:()=>c,e:()=>o,f:()=>p,g:()=>f,h:()=>s,i:()=>a});var r=n(19549),i={};function o(){return r.b()?n.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:i}function a(){var e=o(),t=e.crypto||e.msCrypto;if(void 0!==t&&t.getRandomValues){var n=new Uint16Array(8);t.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var r=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return r(n[0])+r(n[1])+r(n[2])+r(n[3])+r(n[4])+r(n[5])+r(n[6])+r(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}function s(e){if(!e)return{};var t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};var n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],relative:t[5]+n+r}}function c(e){if(e.message)return e.message;if(e.exception&&e.exception.values&&e.exception.values[0]){var t=e.exception.values[0];return t.type&&t.value?t.type+": "+t.value:t.type||t.value||e.event_id||"<unknown>"}return e.event_id||"<unknown>"}function u(e){var t=o();if(!("console"in t))return e();var n=t.console,r={};["debug","info","warn","error","log","assert"].forEach(function(e){e in t.console&&n[e].__sentry_original__&&(r[e]=n[e],n[e]=n[e].__sentry_original__)});var i=e();return Object.keys(r).forEach(function(e){n[e]=r[e]}),i}function l(e,t,n){e.exception=e.exception||{},e.exception.values=e.exception.values||[],e.exception.values[0]=e.exception.values[0]||{},e.exception.values[0].value=e.exception.values[0].value||t||"",e.exception.values[0].type=e.exception.values[0].type||n||"Error"}function d(e,t){void 0===t&&(t={});try{e.exception.values[0].mechanism=e.exception.values[0].mechanism||{},Object.keys(t).forEach(function(n){e.exception.values[0].mechanism[n]=t[n]})}catch(e){}}function p(){try{return document.location.href}catch(e){return""}}function f(e,t){if(!t)return 6e4;var n=parseInt(""+t,10);if(!isNaN(n))return 1e3*n;var r=Date.parse(""+t);return isNaN(r)?6e4:r-e}},41005(e){e.exports=JSON.parse('{"a":"1.22.0-0"}')},28640(e,t,n){"use strict";n.d(t,{a:()=>_});var r,i,o,a=n(88097),s=n(41525),c=n(97248),u=n(70164),l=n(32899);function d(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}var p=u.b(),f={},h={};function _(e){e&&"string"==typeof e.type&&"function"==typeof e.callback&&(f[e.type]=f[e.type]||[],f[e.type].push(e.callback),function(e){if(!h[e])switch(h[e]=!0,e){case"console":"console"in p&&["debug","info","warn","error","log","assert"].forEach(function(e){e in p.console&&l.b(p.console,e,function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];v("console",{args:n,level:e}),t&&Function.prototype.apply.call(t,p.console,n)}})});break;case"dom":if("document"in p){var t=v.bind(null,"dom"),n=m(t,!0);p.document.addEventListener("click",n,!1),p.document.addEventListener("keypress",n,!1),["EventTarget","Node"].forEach(function(e){var n=p[e]&&p[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(l.b(n,"addEventListener",function(e){return function(n,r,i){if("click"===n||"keypress"==n)try{var o=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},a=o[n]=o[n]||{refCount:0};if(!a.handler){var s=m(t);a.handler=s,e.call(this,n,s,i)}a.refCount+=1}catch(e){}return e.call(this,n,r,i)}}),l.b(n,"removeEventListener",function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{var i=this.__sentry_instrumentation_handlers__||{},o=i[t];o&&(o.refCount-=1,o.refCount<=0&&(e.call(this,t,o.handler,r),o.handler=void 0,delete i[t]),0===Object.keys(i).length&&delete this.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,n,r)}}))})}break;case"xhr":if("XMLHttpRequest"in p){var i=[],o=[],f=XMLHttpRequest.prototype;l.b(f,"open",function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this,a=t[1];r.__sentry_xhr__={method:s.h(t[0])?t[0].toUpperCase():t[0],url:t[1]},s.h(a)&&"POST"===r.__sentry_xhr__.method&&a.match(/sentry_key/)&&(r.__sentry_own_request__=!0);var c=function(){if(4===r.readyState){try{r.__sentry_xhr__&&(r.__sentry_xhr__.status_code=r.status)}catch(e){}try{var e=i.indexOf(r);if(-1!==e){i.splice(e);var n=o.splice(e)[0];r.__sentry_xhr__&&void 0!==n[0]&&(r.__sentry_xhr__.body=n[0])}}catch(e){}v("xhr",{args:t,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:r})}};return"onreadystatechange"in r&&"function"==typeof r.onreadystatechange?l.b(r,"onreadystatechange",function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return c(),e.apply(r,t)}}):r.addEventListener("readystatechange",c),e.apply(r,t)}}),l.b(f,"send",function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return i.push(this),o.push(t),v("xhr",{args:t,startTimestamp:Date.now(),xhr:this}),e.apply(this,t)}})}break;case"fetch":(function(){if(!function(){if(!("fetch"in u.b()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}())return!1;var e=u.b();if(d(e.fetch))return!0;var t=!1,n=e.document;if(n&&"function"==typeof n.createElement)try{var r=n.createElement("iframe");r.hidden=!0,n.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(t=d(r.contentWindow.fetch)),n.head.removeChild(r)}catch(e){c.a.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return t})()&&l.b(p,"fetch",function(e){return function(){for(var t,n,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o={args:r,fetchData:{method:(void 0===(t=r)&&(t=[]),"Request"in p&&s.d(t[0],Request)&&t[0].method?String(t[0].method).toUpperCase():t[1]&&t[1].method?String(t[1].method).toUpperCase():"GET"),url:(void 0===(n=r)&&(n=[]),"string"==typeof n[0]?n[0]:"Request"in p&&s.d(n[0],Request)?n[0].url:String(n[0]))},startTimestamp:Date.now()};return v("fetch",a.a({},o)),e.apply(p,r).then(function(e){return v("fetch",a.a(a.a({},o),{endTimestamp:Date.now(),response:e})),e},function(e){throw v("fetch",a.a(a.a({},o),{endTimestamp:Date.now(),error:e})),e})}});break;case"history":!function(){if(n=(t=(e=u.b()).chrome)&&t.app&&t.app.runtime,i="history"in e&&!!e.history.pushState&&!!e.history.replaceState,!n&&i){var e,t,n,i,o=p.onpopstate;p.onpopstate=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=p.location.href,i=r;if(r=n,v("history",{from:i,to:n}),o)try{return o.apply(this,e)}catch(e){}},l.b(p.history,"pushState",a),l.b(p.history,"replaceState",a)}function a(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=t.length>2?t[2]:void 0;if(i){var o=r,a=String(i);r=a,v("history",{from:o,to:a})}return e.apply(this,t)}}}();break;case"error":g=p.onerror,p.onerror=function(e,t,n,r,i){return v("error",{column:r,error:i,line:n,msg:e,url:t}),!!g&&g.apply(this,arguments)};break;case"unhandledrejection":y=p.onunhandledrejection,p.onunhandledrejection=function(e){return v("unhandledrejection",e),!y||y.apply(this,arguments)};break;default:c.a.warn("unknown instrumentation type:",e)}}(e.type))}function v(e,t){if(e&&f[e])try{for(var n,r,i=a.g(f[e]||[]),o=i.next();!o.done;o=i.next()){var s=o.value;try{s(t)}catch(t){c.a.error("Error while triggering instrumentation handler.\nType: "+e+"\nName: "+function(e){try{return e&&"function"==typeof e&&e.name||"<anonymous>"}catch(e){return"<anonymous>"}}(s)+"\nError: "+t)}}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function m(e,t){return void 0===t&&(t=!1),function(n){if(n&&o!==n&&!function(e){if("keypress"!==e.type)return!1;try{var t=e.target;if(!t||!t.tagName)return!0;if("INPUT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable)return!1}catch(e){}return!0}(n)){var r="keypress"===n.type?"input":n.type;(void 0===i||function(e,t){if(!e||e.type!==t.type)return!0;try{if(e.target!==t.target)return!0}catch(e){}return!1}(o,n))&&(e({event:n,name:r,global:t}),o=n),clearTimeout(i),i=p.setTimeout(function(){i=void 0},1e3)}}}var g=null,y=null},13144(e,t,n){"use strict";n.d(t,{a:()=>a,b:()=>s,c:()=>o,d:()=>c,e:()=>u});var r=n(28302),i=RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function o(e){var t;return void 0===e&&(e=null==(t=r.b().getClient())?void 0:t.getOptions()),!!e&&("tracesSampleRate"in e||"tracesSampler"in e)}function a(e){var t=e.match(i);if(t){var n=void 0;return"1"===t[3]?n=!0:"0"===t[3]&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}}function s(e){var t,n;return void 0===e&&(e=r.b()),null==(n=null==(t=e)?void 0:t.getScope())?void 0:n.getTransaction()}function c(e){return e/1e3}function u(e){return 1e3*e}},97248(e,t,n){"use strict";n.d(t,{a:()=>s});var r=n(70164),i=r.b(),o="Sentry Logger ",a=function(){function e(){this._enabled=!1}return e.prototype.disable=function(){this._enabled=!1},e.prototype.enable=function(){this._enabled=!0},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&r.a(function(){i.console.log(o+"[Log]: "+e.join(" "))})},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&r.a(function(){i.console.warn(o+"[Warn]: "+e.join(" "))})},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&r.a(function(){i.console.error(o+"[Error]: "+e.join(" "))})},e}();i.__SENTRY__=i.__SENTRY__||{};var s=i.__SENTRY__.logger||(i.__SENTRY__.logger=new a)},41525(e,t,n){"use strict";function r(e){return"[object String]"===Object.prototype.toString.call(e)}function i(e){return"[object Object]"===Object.prototype.toString.call(e)}function o(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function a(e){return!!(e&&e.then&&"function"==typeof e.then)}function s(e,t){try{return e instanceof t}catch(e){return!1}}n.d(t,{d:()=>s,e:()=>i,g:()=>o,h:()=>r,j:()=>a})},81126(e,t,n){"use strict";var r,i,o;n.d(t,{a:()=>r}),(i=r||(r={})).Ok="ok",i.DeadlineExceeded="deadline_exceeded",i.Unauthenticated="unauthenticated",i.PermissionDenied="permission_denied",i.NotFound="not_found",i.ResourceExhausted="resource_exhausted",i.InvalidArgument="invalid_argument",i.Unimplemented="unimplemented",i.Unavailable="unavailable",i.InternalError="internal_error",i.UnknownError="unknown_error",i.Cancelled="cancelled",i.AlreadyExists="already_exists",i.FailedPrecondition="failed_precondition",i.Aborted="aborted",i.OutOfRange="out_of_range",i.DataLoss="data_loss",(o=r||(r={})).fromHttpCode=function(e){if(e<400)return o.Ok;if(e>=400&&e<500)switch(e){case 401:return o.Unauthenticated;case 403:return o.PermissionDenied;case 404:return o.NotFound;case 409:return o.AlreadyExists;case 413:return o.FailedPrecondition;case 429:return o.ResourceExhausted;default:return o.InvalidArgument}if(e>=500&&e<600)switch(e){case 501:return o.Unimplemented;case 503:return o.Unavailable;case 504:return o.DeadlineExceeded;default:return o.InternalError}return o.UnknownError}},70164(e,t,n){"use strict";n.d(t,{a:()=>s,b:()=>o,c:()=>a});var r=n(5653),i={};function o(){return r.b()?n.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:i}function a(){var e=o(),t=e.crypto||e.msCrypto;if(void 0!==t&&t.getRandomValues){var n=new Uint16Array(8);t.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var r=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return r(n[0])+r(n[1])+r(n[2])+r(n[3])+r(n[4])+r(n[5])+r(n[6])+r(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}function s(e){var t=o();if(!("console"in t))return e();var n=t.console,r={};["debug","info","warn","error","log","assert"].forEach(function(e){e in t.console&&n[e].__sentry_original__&&(r[e]=n[e],n[e]=n[e].__sentry_original__)});var i=e();return Object.keys(r).forEach(function(e){n[e]=r[e]}),i}},88097(e,t,n){"use strict";n.d(t,{a:()=>o,c:()=>i,d:()=>c,e:()=>a,f:()=>u,g:()=>s});var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(e,t){var n,r,i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var o=i.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){r={error:e}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return a}function u(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(c(arguments[t]));return e}},32899(e,t,n){"use strict";n.d(t,{a:()=>function e(t){if(i.e(t)){var n,o,a={};try{for(var s=r.g(Object.keys(t)),c=s.next();!c.done;c=s.next()){var u=c.value;void 0!==t[u]&&(a[u]=e(t[u]))}}catch(e){n={error:e}}finally{try{c&&!c.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}return a}return Array.isArray(t)?t.map(e):t},b:()=>a});var r=n(88097),i=n(41525);function o(){this._hasWeakSet="function"==typeof WeakSet,this._inner=this._hasWeakSet?new WeakSet:[]}function a(e,t,n){if(t in e){var r=e[t],i=n(r);if("function"==typeof i)try{i.prototype=i.prototype||{},Object.defineProperties(i,{__sentry_original__:{enumerable:!1,value:r}})}catch(e){}e[t]=i}}o.prototype.memoize=function(e){if(this._hasWeakSet)return!!this._inner.has(e)||(this._inner.add(e),!1);for(var t=0;t<this._inner.length;t++)if(this._inner[t]===e)return!0;return this._inner.push(e),!1},o.prototype.unmemoize=function(e){if(this._hasWeakSet)this._inner.delete(e);else for(var t=0;t<this._inner.length;t++)if(this._inner[t]===e){this._inner.splice(t,1);break}}},5653(e,t,n){"use strict";n.d(t,{a:()=>o,b:()=>i,c:()=>a}),e=n.hmd(e);var r=n(65606);function i(){return"[object process]"===Object.prototype.toString.call(void 0!==r?r:0)}function o(e,t){return e.require(t)}function a(t){var n;try{n=o(e,t)}catch(e){}try{var r=o(e,"process").cwd;n=o(e,r()+"/node_modules/"+t)}catch(e){}return n}},10427(e,t,n){"use strict";n.d(t,{a:()=>u});var r=n(88097),i=n(28302),o=n(41525),a=n(97248),s=n(32899),c=n(79407),u=function(e){function t(t,n){var r=e.call(this,t)||this;return r._measurements={},r._hub=i.b(),o.d(n,i.a)&&(r._hub=n),r.name=t.name||"",r.metadata=t.metadata||{},r._trimEnd=t.trimEnd,r.transaction=r,r}return r.c(t,e),t.prototype.setName=function(e){this.name=e},t.prototype.initSpanRecorder=function(e){void 0===e&&(e=1e3),this.spanRecorder||(this.spanRecorder=new c.b(e)),this.spanRecorder.add(this)},t.prototype.setMeasurements=function(e){this._measurements=r.a({},e)},t.prototype.setMetadata=function(e){this.metadata=r.a(r.a({},this.metadata),e)},t.prototype.finish=function(t){var n=this;if(void 0===this.endTimestamp){if(this.name||(a.a.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),e.prototype.finish.call(this,t),!0===this.sampled){var r=this.spanRecorder?this.spanRecorder.spans.filter(function(e){return e!==n&&e.endTimestamp}):[];this._trimEnd&&r.length>0&&(this.endTimestamp=r.reduce(function(e,t){return e.endTimestamp&&t.endTimestamp?e.endTimestamp>t.endTimestamp?e:t:e}).endTimestamp);var i={contexts:{trace:this.getTraceContext()},spans:r,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",debug_meta:this.metadata};return Object.keys(this._measurements).length>0&&(a.a.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),i.measurements=this._measurements),a.a.log("[Tracing] Finishing "+this.op+" transaction: "+this.name+"."),this._hub.captureEvent(i)}a.a.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.")}},t.prototype.toContext=function(){var t=e.prototype.toContext.call(this);return s.a(r.a(r.a({},t),{name:this.name,trimEnd:this._trimEnd}))},t.prototype.updateWithContext=function(t){var n;return e.prototype.updateWithContext.call(this,t),this.name=null!=(n=t.name)?n:"",this._trimEnd=t.trimEnd,this},t}(c.a)},28302(e,t,n){"use strict";n.d(t,{a:()=>y,b:()=>w,c:()=>b}),(i=s||(s={})).Ok="ok",i.Exited="exited",i.Crashed="crashed",i.Abnormal="abnormal",(o=a||(a={})).Ok="ok",o.Errored="errored",o.Crashed="crashed";var r,i,o,a,s,c,u=n(88097),l=n(70164),d=n(13803),p=n(97248),f=n(5653),h=n(41525);(r=c||(c={})).PENDING="PENDING",r.RESOLVED="RESOLVED",r.REJECTED="REJECTED";var _=function(){function e(e){var t=this;this._state=c.PENDING,this._handlers=[],this._resolve=function(e){t._setResult(c.RESOLVED,e)},this._reject=function(e){t._setResult(c.REJECTED,e)},this._setResult=function(e,n){t._state===c.PENDING&&(h.j(n)?n.then(t._resolve,t._reject):(t._state=e,t._value=n,t._executeHandlers()))},this._attachHandler=function(e){t._handlers=t._handlers.concat(e),t._executeHandlers()},this._executeHandlers=function(){if(t._state!==c.PENDING){var e=t._handlers.slice();t._handlers=[],e.forEach(function(e){e.done||(t._state===c.RESOLVED&&e.onfulfilled&&e.onfulfilled(t._value),t._state===c.REJECTED&&e.onrejected&&e.onrejected(t._value),e.done=!0)})}};try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}return e.resolve=function(t){return new e(function(e){e(t)})},e.reject=function(t){return new e(function(e,n){n(t)})},e.all=function(t){return new e(function(n,r){if(Array.isArray(t))if(0!==t.length){var i=t.length,o=[];t.forEach(function(t,a){e.resolve(t).then(function(e){o[a]=e,0==(i-=1)&&n(o)}).then(null,r)})}else n([]);else r(TypeError("Promise.all requires an array as input."))})},e.prototype.then=function(t,n){var r=this;return new e(function(e,i){r._attachHandler({done:!1,onfulfilled:function(n){if(t)try{return void e(t(n))}catch(e){return void i(e)}e(n)},onrejected:function(t){if(n)try{return void e(n(t))}catch(e){return void i(e)}i(t)}})})},e.prototype.catch=function(e){return this.then(function(e){return e},e)},e.prototype.finally=function(t){var n=this;return new e(function(e,r){var i,o;return n.then(function(e){o=!1,i=e,t&&t()},function(e){o=!0,i=e,t&&t()}).then(function(){o?r(i):e(i)})})},e.prototype.toString=function(){return"[object SyncPromise]"},e}(),v=function(){function e(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}return e.clone=function(t){var n=new e;return t&&(n._breadcrumbs=u.f(t._breadcrumbs),n._tags=u.a({},t._tags),n._extra=u.a({},t._extra),n._contexts=u.a({},t._contexts),n._user=t._user,n._level=t._level,n._span=t._span,n._session=t._session,n._transactionName=t._transactionName,n._fingerprint=t._fingerprint,n._eventProcessors=u.f(t._eventProcessors),n._requestSession=t._requestSession),n},e.prototype.addScopeListener=function(e){this._scopeListeners.push(e)},e.prototype.addEventProcessor=function(e){return this._eventProcessors.push(e),this},e.prototype.setUser=function(e){return this._user=e||{},this._session&&this._session.update({user:e}),this._notifyScopeListeners(),this},e.prototype.getUser=function(){return this._user},e.prototype.getRequestSession=function(){return this._requestSession},e.prototype.setRequestSession=function(e){return this._requestSession=e,this},e.prototype.setTags=function(e){return this._tags=u.a(u.a({},this._tags),e),this._notifyScopeListeners(),this},e.prototype.setTag=function(e,t){var n;return this._tags=u.a(u.a({},this._tags),((n={})[e]=t,n)),this._notifyScopeListeners(),this},e.prototype.setExtras=function(e){return this._extra=u.a(u.a({},this._extra),e),this._notifyScopeListeners(),this},e.prototype.setExtra=function(e,t){var n;return this._extra=u.a(u.a({},this._extra),((n={})[e]=t,n)),this._notifyScopeListeners(),this},e.prototype.setFingerprint=function(e){return this._fingerprint=e,this._notifyScopeListeners(),this},e.prototype.setLevel=function(e){return this._level=e,this._notifyScopeListeners(),this},e.prototype.setTransactionName=function(e){return this._transactionName=e,this._notifyScopeListeners(),this},e.prototype.setTransaction=function(e){return this.setTransactionName(e)},e.prototype.setContext=function(e,t){var n;return null===t?delete this._contexts[e]:this._contexts=u.a(u.a({},this._contexts),((n={})[e]=t,n)),this._notifyScopeListeners(),this},e.prototype.setSpan=function(e){return this._span=e,this._notifyScopeListeners(),this},e.prototype.getSpan=function(){return this._span},e.prototype.getTransaction=function(){var e,t=this.getSpan();return(null==t?void 0:t.transaction)?null==t?void 0:t.transaction:(null==(e=null==t?void 0:t.spanRecorder)?void 0:e.spans[0])?t.spanRecorder.spans[0]:void 0},e.prototype.setSession=function(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this},e.prototype.getSession=function(){return this._session},e.prototype.update=function(t){if(!t)return this;if("function"==typeof t){var n=t(this);return n instanceof e?n:this}return t instanceof e?(this._tags=u.a(u.a({},this._tags),t._tags),this._extra=u.a(u.a({},this._extra),t._extra),this._contexts=u.a(u.a({},this._contexts),t._contexts),t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint),t._requestSession&&(this._requestSession=t._requestSession)):h.e(t)&&(this._tags=u.a(u.a({},this._tags),t.tags),this._extra=u.a(u.a({},this._extra),t.extra),this._contexts=u.a(u.a({},this._contexts),t.contexts),t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession)),this},e.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},e.prototype.addBreadcrumb=function(e,t){var n="number"==typeof t?Math.min(t,100):100;if(n<=0)return this;var r=u.a({timestamp:d.b()},e);return this._breadcrumbs=u.f(this._breadcrumbs,[r]).slice(-n),this._notifyScopeListeners(),this},e.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},e.prototype.applyToEvent=function(e,t){if(this._extra&&Object.keys(this._extra).length&&(e.extra=u.a(u.a({},this._extra),e.extra)),this._tags&&Object.keys(this._tags).length&&(e.tags=u.a(u.a({},this._tags),e.tags)),this._user&&Object.keys(this._user).length&&(e.user=u.a(u.a({},this._user),e.user)),this._contexts&&Object.keys(this._contexts).length&&(e.contexts=u.a(u.a({},this._contexts),e.contexts)),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts=u.a({trace:this._span.getTraceContext()},e.contexts);var n,r,i=null==(n=this._span.transaction)?void 0:n.name;i&&(e.tags=u.a({transaction:i},e.tags))}return this._applyFingerprint(e),e.breadcrumbs=u.f(e.breadcrumbs||[],this._breadcrumbs),e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,this._notifyEventProcessors(u.f(((r=l.b()).__SENTRY__=r.__SENTRY__||{},r.__SENTRY__.globalEventProcessors=r.__SENTRY__.globalEventProcessors||[],r.__SENTRY__.globalEventProcessors),this._eventProcessors),e,t)},e.prototype._notifyEventProcessors=function(e,t,n,r){var i=this;return void 0===r&&(r=0),new _(function(o,a){var s=e[r];if(null===t||"function"!=typeof s)o(t);else{var c=s(u.a({},t),n);h.j(c)?c.then(function(t){return i._notifyEventProcessors(e,t,n,r+1).then(o)}).then(null,a):i._notifyEventProcessors(e,c,n,r+1).then(o).then(null,a)}})},e.prototype._notifyScopeListeners=function(){var e=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(function(t){t(e)}),this._notifyingListeners=!1)},e.prototype._applyFingerprint=function(e){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint},e}(),m=n(32899),g=function(){function e(e){this.errors=0,this.sid=l.c(),this.duration=0,this.status=s.Ok,this.init=!0,this.ignoreDuration=!1;var t=d.c();this.timestamp=t,this.started=t,e&&this.update(e)}return e.prototype.update=function(e){if(void 0===e&&(e={}),e.user&&(!this.ipAddress&&e.user.ip_address&&(this.ipAddress=e.user.ip_address),this.did||e.did||(this.did=e.user.id||e.user.email||e.user.username)),this.timestamp=e.timestamp||d.c(),e.ignoreDuration&&(this.ignoreDuration=e.ignoreDuration),e.sid&&(this.sid=32===e.sid.length?e.sid:l.c()),void 0!==e.init&&(this.init=e.init),!this.did&&e.did&&(this.did=""+e.did),"number"==typeof e.started&&(this.started=e.started),this.ignoreDuration)this.duration=void 0;else if("number"==typeof e.duration)this.duration=e.duration;else{var t=this.timestamp-this.started;this.duration=t>=0?t:0}e.release&&(this.release=e.release),e.environment&&(this.environment=e.environment),!this.ipAddress&&e.ipAddress&&(this.ipAddress=e.ipAddress),!this.userAgent&&e.userAgent&&(this.userAgent=e.userAgent),"number"==typeof e.errors&&(this.errors=e.errors),e.status&&(this.status=e.status)},e.prototype.close=function(e){e?this.update({status:e}):this.status===s.Ok?this.update({status:s.Exited}):this.update()},e.prototype.toJSON=function(){return m.a({sid:""+this.sid,init:this.init,started:new Date(1e3*this.started).toISOString(),timestamp:new Date(1e3*this.timestamp).toISOString(),status:this.status,errors:this.errors,did:"number"==typeof this.did||"string"==typeof this.did?""+this.did:void 0,duration:this.duration,attrs:m.a({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},e}(),y=function(){function e(e,t,n){void 0===t&&(t=new v),void 0===n&&(n=4),this._version=n,this._stack=[{}],this.getStackTop().scope=t,e&&this.bindClient(e)}return e.prototype.isOlderThan=function(e){return this._version<e},e.prototype.bindClient=function(e){this.getStackTop().client=e,e&&e.setupIntegrations&&e.setupIntegrations()},e.prototype.pushScope=function(){var e=v.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e},e.prototype.popScope=function(){return!(this.getStack().length<=1)&&!!this.getStack().pop()},e.prototype.withScope=function(e){var t=this.pushScope();try{e(t)}finally{this.popScope()}},e.prototype.getClient=function(){return this.getStackTop().client},e.prototype.getScope=function(){return this.getStackTop().scope},e.prototype.getStack=function(){return this._stack},e.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},e.prototype.captureException=function(e,t){var n=this._lastEventId=l.c(),r=t;if(!t){var i=void 0;try{throw Error("Sentry syntheticException")}catch(e){i=e}r={originalException:e,syntheticException:i}}return this._invokeClient("captureException",e,u.a(u.a({},r),{event_id:n})),n},e.prototype.captureMessage=function(e,t,n){var r=this._lastEventId=l.c(),i=n;if(!n){var o=void 0;try{throw Error(e)}catch(e){o=e}i={originalException:e,syntheticException:o}}return this._invokeClient("captureMessage",e,t,u.a(u.a({},i),{event_id:r})),r},e.prototype.captureEvent=function(e,t){var n=this._lastEventId=l.c();return this._invokeClient("captureEvent",e,u.a(u.a({},t),{event_id:n})),n},e.prototype.lastEventId=function(){return this._lastEventId},e.prototype.addBreadcrumb=function(e,t){var n=this.getStackTop(),r=n.scope,i=n.client;if(r&&i){var o=i.getOptions&&i.getOptions()||{},a=o.beforeBreadcrumb,s=void 0===a?null:a,c=o.maxBreadcrumbs,p=void 0===c?100:c;if(!(p<=0)){var f=d.b(),h=u.a({timestamp:f},e),_=s?l.a(function(){return s(h,t)}):h;null!==_&&r.addBreadcrumb(_,p)}}},e.prototype.setUser=function(e){var t=this.getScope();t&&t.setUser(e)},e.prototype.setTags=function(e){var t=this.getScope();t&&t.setTags(e)},e.prototype.setExtras=function(e){var t=this.getScope();t&&t.setExtras(e)},e.prototype.setTag=function(e,t){var n=this.getScope();n&&n.setTag(e,t)},e.prototype.setExtra=function(e,t){var n=this.getScope();n&&n.setExtra(e,t)},e.prototype.setContext=function(e,t){var n=this.getScope();n&&n.setContext(e,t)},e.prototype.configureScope=function(e){var t=this.getStackTop(),n=t.scope,r=t.client;n&&r&&e(n)},e.prototype.run=function(e){var t=E(this);try{e(this)}finally{E(t)}},e.prototype.getIntegration=function(e){var t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(t){return p.a.warn("Cannot retrieve integration "+e.id+" from the current Hub"),null}},e.prototype.startSpan=function(e){return this._callExtensionMethod("startSpan",e)},e.prototype.startTransaction=function(e,t){return this._callExtensionMethod("startTransaction",e,t)},e.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},e.prototype.captureSession=function(e){if(void 0===e&&(e=!1),e)return this.endSession();this._sendSessionUpdate()},e.prototype.endSession=function(){var e,t,n,r,i;null!=(n=null==(t=null==(e=this.getStackTop())?void 0:e.scope)?void 0:t.getSession())&&n.close(),this._sendSessionUpdate(),null!=(i=null==(r=this.getStackTop())?void 0:r.scope)&&i.setSession()},e.prototype.startSession=function(e){var t=this.getStackTop(),n=t.scope,r=t.client,i=r&&r.getOptions()||{},o=i.release,a=i.environment,c=(l.b().navigator||{}).userAgent,d=new g(u.a(u.a(u.a({release:o,environment:a},n&&{user:n.getUser()}),c&&{userAgent:c}),e));if(n){var p=n.getSession&&n.getSession();p&&p.status===s.Ok&&p.update({status:s.Exited}),this.endSession(),n.setSession(d)}return d},e.prototype._sendSessionUpdate=function(){var e=this.getStackTop(),t=e.scope,n=e.client;if(t){var r=t.getSession&&t.getSession();r&&n&&n.captureSession&&n.captureSession(r)}},e.prototype._invokeClient=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=this.getStackTop(),i=r.scope,o=r.client;o&&o[e]&&o[e].apply(o,u.f(t,[i]))},e.prototype._callExtensionMethod=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=b().__SENTRY__;if(r&&r.extensions&&"function"==typeof r.extensions[e])return r.extensions[e].apply(this,t);p.a.warn("Extension method "+e+" couldn't be found, doing nothing.")},e}();function b(){var e=l.b();return e.__SENTRY__=e.__SENTRY__||{extensions:{},hub:void 0},e}function E(e){var t=b(),n=x(t);return S(t,e),n}function w(){var e=b();return O(e)&&!x(e).isOlderThan(4)||S(e,new y),f.b()?function(e){try{var t,n,r,i=null==(r=null==(n=null==(t=b().__SENTRY__)?void 0:t.extensions)?void 0:n.domain)?void 0:r.active;if(!i)return x(e);if(!O(i)||x(i).isOlderThan(4)){var o=x(e).getStackTop();S(i,new y(o.client,v.clone(o.scope)))}return x(i)}catch(t){return x(e)}}(e):x(e)}function O(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function x(e){return e&&e.__SENTRY__&&e.__SENTRY__.hub||(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=new y),e.__SENTRY__.hub}function S(e,t){return!!e&&(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=t,!0)}},57087(e,t,n){"use strict";n.d(t,{a:()=>y,b:()=>g});var r,i,o=n(88097),a=n(28302);(r=i||(i={})).Explicit="explicitly_set",r.Sampler="client_sampler",r.Rate="client_rate",r.Inheritance="inheritance";var s=n(97248),c=n(5653),u=n(28640),l=n(81126),d=n(13144);function p(){var e=d.b();e&&(s.a.log("[Tracing] Transaction: "+l.a.InternalError+" -> Global error occured"),e.setStatus(l.a.InternalError))}var f=n(92462),h=n(10427);function _(){var e=this.getScope();if(e){var t=e.getSpan();if(t)return{"sentry-trace":t.toTraceparent()}}return{}}function v(e,t,n){var r,o;return d.c()?void 0!==e.sampled?e.setMetadata({transactionSampling:{method:i.Explicit}}):("function"==typeof t.tracesSampler?(r=t.tracesSampler(n),e.setMetadata({transactionSampling:{method:i.Sampler,rate:Number(r)}})):void 0!==n.parentSampled?(r=n.parentSampled,e.setMetadata({transactionSampling:{method:i.Inheritance}})):(r=t.tracesSampleRate,e.setMetadata({transactionSampling:{method:i.Rate,rate:Number(r)}})),(isNaN(o=r)||"number"!=typeof o&&"boolean"!=typeof o?(s.a.warn("[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got "+JSON.stringify(o)+" of type "+JSON.stringify(typeof o)+"."),1):(o<0||o>1)&&(s.a.warn("[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got "+o+"."),1))?(s.a.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1):r?(e.sampled=Math.random()<r,e.sampled?s.a.log("[Tracing] starting "+e.op+" transaction - "+e.name):s.a.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = "+Number(r)+")")):(s.a.log("[Tracing] Discarding transaction because "+("function"==typeof t.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),e.sampled=!1)):e.sampled=!1,e}function m(e,t){var n,r,i=(null==(n=this.getClient())?void 0:n.getOptions())||{},a=new h.a(e,this);return(a=v(a,i,o.a({parentSampled:e.parentSampled,transactionContext:e},t))).sampled&&a.initSpanRecorder(null==(r=i._experiments)?void 0:r.maxSpans),a}function g(e,t,n,r,i){var a,s,c=(null==(a=e.getClient())?void 0:a.getOptions())||{},u=new f.b(t,e,n,r);return(u=v(u,c,o.a({parentSampled:t.parentSampled,transactionContext:t},i))).sampled&&u.initSpanRecorder(null==(s=c._experiments)?void 0:s.maxSpans),u}function y(){var t;(t=a.c()).__SENTRY__&&(t.__SENTRY__.extensions=t.__SENTRY__.extensions||{},t.__SENTRY__.extensions.startTransaction||(t.__SENTRY__.extensions.startTransaction=m),t.__SENTRY__.extensions.traceHeaders||(t.__SENTRY__.extensions.traceHeaders=_)),c.b()&&function(){var t=a.c();if(t.__SENTRY__){var n={mongodb:function(){return new(c.a(e,"./integrations/mongo")).Mongo},mongoose:function(){return new(c.a(e,"./integrations/mongo")).Mongo({mongoose:!0})},mysql:function(){return new(c.a(e,"./integrations/mysql")).Mysql},pg:function(){return new(c.a(e,"./integrations/postgres")).Postgres}},r=Object.keys(n).filter(function(e){return!!c.c(e)}).map(function(e){try{return n[e]()}catch(e){return}}).filter(function(e){return e});r.length>0&&(t.__SENTRY__.integrations=o.f(t.__SENTRY__.integrations||[],r))}}(),u.a({callback:p,type:"error"}),u.a({callback:p,type:"unhandledrejection"})}e=n.hmd(e)},79407(e,t,n){"use strict";n.d(t,{a:()=>u,b:()=>c});var r=n(88097),i=n(70164),o=n(13803),a=n(32899),s=n(81126),c=function(){function e(e){void 0===e&&(e=1e3),this.spans=[],this._maxlen=e}return e.prototype.add=function(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)},e}(),u=function(){function e(e){if(this.traceId=i.c(),this.spanId=i.c().substring(16),this.startTimestamp=o.d(),this.tags={},this.data={},!e)return this;e.traceId&&(this.traceId=e.traceId),e.spanId&&(this.spanId=e.spanId),e.parentSpanId&&(this.parentSpanId=e.parentSpanId),"sampled"in e&&(this.sampled=e.sampled),e.op&&(this.op=e.op),e.description&&(this.description=e.description),e.data&&(this.data=e.data),e.tags&&(this.tags=e.tags),e.status&&(this.status=e.status),e.startTimestamp&&(this.startTimestamp=e.startTimestamp),e.endTimestamp&&(this.endTimestamp=e.endTimestamp)}return e.prototype.child=function(e){return this.startChild(e)},e.prototype.startChild=function(t){var n=new e(r.a(r.a({},t),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));return n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n),n.transaction=this.transaction,n},e.prototype.setTag=function(e,t){var n;return this.tags=r.a(r.a({},this.tags),((n={})[e]=t,n)),this},e.prototype.setData=function(e,t){var n;return this.data=r.a(r.a({},this.data),((n={})[e]=t,n)),this},e.prototype.setStatus=function(e){return this.status=e,this},e.prototype.setHttpStatus=function(e){this.setTag("http.status_code",String(e));var t=s.a.fromHttpCode(e);return t!==s.a.UnknownError&&this.setStatus(t),this},e.prototype.isSuccess=function(){return this.status===s.a.Ok},e.prototype.finish=function(e){this.endTimestamp="number"==typeof e?e:o.d()},e.prototype.toTraceparent=function(){var e="";return void 0!==this.sampled&&(e=this.sampled?"-1":"-0"),this.traceId+"-"+this.spanId+e},e.prototype.toContext=function(){return a.a({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})},e.prototype.updateWithContext=function(e){var t,n,r,i,o;return this.data=null!=(t=e.data)?t:{},this.description=e.description,this.endTimestamp=e.endTimestamp,this.op=e.op,this.parentSpanId=e.parentSpanId,this.sampled=e.sampled,this.spanId=null!=(n=e.spanId)?n:this.spanId,this.startTimestamp=null!=(r=e.startTimestamp)?r:this.startTimestamp,this.status=e.status,this.tags=null!=(i=e.tags)?i:{},this.traceId=null!=(o=e.traceId)?o:this.traceId,this},e.prototype.getTraceContext=function(){return a.a({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})},e.prototype.toJSON=function(){return a.a({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})},e}()},92462(e,t,n){"use strict";n.d(t,{a:()=>u,b:()=>d});var r=n(88097),i=n(13803),o=n(97248),a=n(79407),s=n(81126),c=n(10427),u=1e3,l=function(e){function t(t,n,r,i){void 0===r&&(r="");var o=e.call(this,i)||this;return o._pushActivity=t,o._popActivity=n,o.transactionSpanId=r,o}return r.c(t,e),t.prototype.add=function(t){var n=this;t.spanId!==this.transactionSpanId&&(t.finish=function(e){t.endTimestamp="number"==typeof e?e:i.d(),n._popActivity(t.spanId)},void 0===t.endTimestamp&&this._pushActivity(t.spanId)),e.prototype.add.call(this,t)},t}(a.b),d=function(e){function t(t,n,r,i){void 0===r&&(r=u),void 0===i&&(i=!1);var a=e.call(this,t,n)||this;return a._idleHub=n,a._idleTimeout=r,a._onScope=i,a.activities={},a._heartbeatTimer=0,a._heartbeatCounter=0,a._finished=!1,a._beforeFinishCallbacks=[],n&&i&&(p(n),o.a.log("Setting idle transaction on scope. Span ID: "+a.spanId),n.configureScope(function(e){return e.setSpan(a)})),a._initTimeout=setTimeout(function(){a._finished||a.finish()},a._idleTimeout),a}return r.c(t,e),t.prototype.finish=function(t){var n,a,c=this;if(void 0===t&&(t=i.d()),this._finished=!0,this.activities={},this.spanRecorder){o.a.log("[Tracing] finishing IdleTransaction",new Date(1e3*t).toISOString(),this.op);try{for(var u=r.g(this._beforeFinishCallbacks),l=u.next();!l.done;l=u.next())(0,l.value)(this,t)}catch(e){n={error:e}}finally{try{l&&!l.done&&(a=u.return)&&a.call(u)}finally{if(n)throw n.error}}this.spanRecorder.spans=this.spanRecorder.spans.filter(function(e){if(e.spanId===c.spanId)return!0;e.endTimestamp||(e.endTimestamp=t,e.setStatus(s.a.Cancelled),o.a.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(e,void 0,2)));var n=e.startTimestamp<t;return n||o.a.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(e,void 0,2)),n}),o.a.log("[Tracing] flushing IdleTransaction")}else o.a.log("[Tracing] No active IdleTransaction");return this._onScope&&p(this._idleHub),e.prototype.finish.call(this,t)},t.prototype.registerBeforeFinishCallback=function(e){this._beforeFinishCallbacks.push(e)},t.prototype.initSpanRecorder=function(e){var t=this;this.spanRecorder||(this.spanRecorder=new l(function(e){t._finished||t._pushActivity(e)},function(e){t._finished||t._popActivity(e)},this.spanId,e),o.a.log("Starting heartbeat"),this._pingHeartbeat()),this.spanRecorder.add(this)},t.prototype._pushActivity=function(e){this._initTimeout&&(clearTimeout(this._initTimeout),this._initTimeout=void 0),o.a.log("[Tracing] pushActivity: "+e),this.activities[e]=!0,o.a.log("[Tracing] new activities count",Object.keys(this.activities).length)},t.prototype._popActivity=function(e){var t=this;if(this.activities[e]&&(o.a.log("[Tracing] popActivity "+e),delete this.activities[e],o.a.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){var n=this._idleTimeout,r=i.d()+n/1e3;setTimeout(function(){t._finished||t.finish(r)},n)}},t.prototype._beat=function(){if(clearTimeout(this._heartbeatTimer),!this._finished){var e=Object.keys(this.activities),t=e.length?e.reduce(function(e,t){return e+t}):"";t===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=t,this._heartbeatCounter>=3?(o.a.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus(s.a.DeadlineExceeded),this.setTag("heartbeat","failed"),this.finish()):this._pingHeartbeat()}},t.prototype._pingHeartbeat=function(){var e=this;o.a.log("pinging Heartbeat -> current counter: "+this._heartbeatCounter),this._heartbeatTimer=setTimeout(function(){e._beat()},5e3)},t}(c.a);function p(e){if(e){var t=e.getScope();t&&t.getTransaction()&&t.setSpan(void 0)}}},13803(e,t,n){"use strict";n.d(t,{a:()=>d,b:()=>c,c:()=>u,d:()=>l});var r=n(70164),i=n(5653);e=n.hmd(e);var o={nowSeconds:function(){return Date.now()/1e3}},a=i.b()?function(){try{return i.a(e,"perf_hooks").performance}catch(e){return}}():function(){var e=r.b().performance;if(e&&e.now)return{now:function(){return e.now()},timeOrigin:Date.now()-e.now()}}(),s=void 0===a?o:{nowSeconds:function(){return(a.timeOrigin+a.now())/1e3}},c=o.nowSeconds.bind(o),u=s.nowSeconds.bind(s),l=u,d=function(){var e=r.b().performance;if(e&&e.now){var t=e.now(),n=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+t-n):36e5,o=e.timing&&e.timing.navigationStart,a="number"==typeof o?Math.abs(o+t-n):36e5;return i<36e5||a<36e5?i<=a?e.timeOrigin:o:n}}()},87973(e,t,n){"use strict";n.d(t,{a:()=>tq,b:()=>tz});var r,i,o,a,s,c,u,l,d,p,f,h,_,v,m,g,y,b=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){d=Function.prototype.toString,Function.prototype.toString=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.__sentry_original__||this;return d.apply(n,e)}},e.id="FunctionToString",e}(),E=n(88097);function w(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return D(e,Error)}}function O(e){return"[object ErrorEvent]"===Object.prototype.toString.call(e)}function x(e){return"[object DOMError]"===Object.prototype.toString.call(e)}function S(e){return"[object String]"===Object.prototype.toString.call(e)}function T(e){return null===e||"object"!=typeof e&&"function"!=typeof e}function R(e){return"[object Object]"===Object.prototype.toString.call(e)}function k(e){return"undefined"!=typeof Event&&D(e,Event)}function A(e){return"undefined"!=typeof Element&&D(e,Element)}function I(e){return!!(e&&e.then&&"function"==typeof e.then)}function D(e,t){try{return e instanceof t}catch(e){return!1}}var C=n(88614);(r=p||(p={})).PENDING="PENDING",r.RESOLVED="RESOLVED",r.REJECTED="REJECTED";var L=function(){function e(e){var t=this;this._state=p.PENDING,this._handlers=[],this._resolve=function(e){t._setResult(p.RESOLVED,e)},this._reject=function(e){t._setResult(p.REJECTED,e)},this._setResult=function(e,n){t._state===p.PENDING&&(I(n)?n.then(t._resolve,t._reject):(t._state=e,t._value=n,t._executeHandlers()))},this._attachHandler=function(e){t._handlers=t._handlers.concat(e),t._executeHandlers()},this._executeHandlers=function(){if(t._state!==p.PENDING){var e=t._handlers.slice();t._handlers=[],e.forEach(function(e){e.done||(t._state===p.RESOLVED&&e.onfulfilled&&e.onfulfilled(t._value),t._state===p.REJECTED&&e.onrejected&&e.onrejected(t._value),e.done=!0)})}};try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}return e.resolve=function(t){return new e(function(e){e(t)})},e.reject=function(t){return new e(function(e,n){n(t)})},e.all=function(t){return new e(function(n,r){if(Array.isArray(t))if(0!==t.length){var i=t.length,o=[];t.forEach(function(t,a){e.resolve(t).then(function(e){o[a]=e,0==(i-=1)&&n(o)}).then(null,r)})}else n([]);else r(TypeError("Promise.all requires an array as input."))})},e.prototype.then=function(t,n){var r=this;return new e(function(e,i){r._attachHandler({done:!1,onfulfilled:function(n){if(t)try{return void e(t(n))}catch(e){return void i(e)}e(n)},onrejected:function(t){if(n)try{return void e(n(t))}catch(e){return void i(e)}i(t)}})})},e.prototype.catch=function(e){return this.then(function(e){return e},e)},e.prototype.finally=function(t){var n=this;return new e(function(e,r){var i,o;return n.then(function(e){o=!1,i=e,t&&t()},function(e){o=!0,i=e,t&&t()}).then(function(){o?r(i):e(i)})})},e.prototype.toString=function(){return"[object SyncPromise]"},e}(),N=n(95610),M=function(){function e(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}return e.clone=function(t){var n=new e;return t&&(n._breadcrumbs=E.f(t._breadcrumbs),n._tags=E.a({},t._tags),n._extra=E.a({},t._extra),n._contexts=E.a({},t._contexts),n._user=t._user,n._level=t._level,n._span=t._span,n._session=t._session,n._transactionName=t._transactionName,n._fingerprint=t._fingerprint,n._eventProcessors=E.f(t._eventProcessors),n._requestSession=t._requestSession),n},e.prototype.addScopeListener=function(e){this._scopeListeners.push(e)},e.prototype.addEventProcessor=function(e){return this._eventProcessors.push(e),this},e.prototype.setUser=function(e){return this._user=e||{},this._session&&this._session.update({user:e}),this._notifyScopeListeners(),this},e.prototype.getUser=function(){return this._user},e.prototype.getRequestSession=function(){return this._requestSession},e.prototype.setRequestSession=function(e){return this._requestSession=e,this},e.prototype.setTags=function(e){return this._tags=E.a(E.a({},this._tags),e),this._notifyScopeListeners(),this},e.prototype.setTag=function(e,t){var n;return this._tags=E.a(E.a({},this._tags),((n={})[e]=t,n)),this._notifyScopeListeners(),this},e.prototype.setExtras=function(e){return this._extra=E.a(E.a({},this._extra),e),this._notifyScopeListeners(),this},e.prototype.setExtra=function(e,t){var n;return this._extra=E.a(E.a({},this._extra),((n={})[e]=t,n)),this._notifyScopeListeners(),this},e.prototype.setFingerprint=function(e){return this._fingerprint=e,this._notifyScopeListeners(),this},e.prototype.setLevel=function(e){return this._level=e,this._notifyScopeListeners(),this},e.prototype.setTransactionName=function(e){return this._transactionName=e,this._notifyScopeListeners(),this},e.prototype.setTransaction=function(e){return this.setTransactionName(e)},e.prototype.setContext=function(e,t){var n;return null===t?delete this._contexts[e]:this._contexts=E.a(E.a({},this._contexts),((n={})[e]=t,n)),this._notifyScopeListeners(),this},e.prototype.setSpan=function(e){return this._span=e,this._notifyScopeListeners(),this},e.prototype.getSpan=function(){return this._span},e.prototype.getTransaction=function(){var e,t=this.getSpan();return(null==t?void 0:t.transaction)?null==t?void 0:t.transaction:(null==(e=null==t?void 0:t.spanRecorder)?void 0:e.spans[0])?t.spanRecorder.spans[0]:void 0},e.prototype.setSession=function(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this},e.prototype.getSession=function(){return this._session},e.prototype.update=function(t){if(!t)return this;if("function"==typeof t){var n=t(this);return n instanceof e?n:this}return t instanceof e?(this._tags=E.a(E.a({},this._tags),t._tags),this._extra=E.a(E.a({},this._extra),t._extra),this._contexts=E.a(E.a({},this._contexts),t._contexts),t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint),t._requestSession&&(this._requestSession=t._requestSession)):R(t)&&(this._tags=E.a(E.a({},this._tags),t.tags),this._extra=E.a(E.a({},this._extra),t.extra),this._contexts=E.a(E.a({},this._contexts),t.contexts),t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession)),this},e.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},e.prototype.addBreadcrumb=function(e,t){var n="number"==typeof t?Math.min(t,100):100;if(n<=0)return this;var r=E.a({timestamp:C.a()},e);return this._breadcrumbs=E.f(this._breadcrumbs,[r]).slice(-n),this._notifyScopeListeners(),this},e.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},e.prototype.applyToEvent=function(e,t){var n;if(this._extra&&Object.keys(this._extra).length&&(e.extra=E.a(E.a({},this._extra),e.extra)),this._tags&&Object.keys(this._tags).length&&(e.tags=E.a(E.a({},this._tags),e.tags)),this._user&&Object.keys(this._user).length&&(e.user=E.a(E.a({},this._user),e.user)),this._contexts&&Object.keys(this._contexts).length&&(e.contexts=E.a(E.a({},this._contexts),e.contexts)),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts=E.a({trace:this._span.getTraceContext()},e.contexts);var r=null==(n=this._span.transaction)?void 0:n.name;r&&(e.tags=E.a({transaction:r},e.tags))}return this._applyFingerprint(e),e.breadcrumbs=E.f(e.breadcrumbs||[],this._breadcrumbs),e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,this._notifyEventProcessors(E.f(j(),this._eventProcessors),e,t)},e.prototype._notifyEventProcessors=function(e,t,n,r){var i=this;return void 0===r&&(r=0),new L(function(o,a){var s=e[r];if(null===t||"function"!=typeof s)o(t);else{var c=s(E.a({},t),n);I(c)?c.then(function(t){return i._notifyEventProcessors(e,t,n,r+1).then(o)}).then(null,a):i._notifyEventProcessors(e,c,n,r+1).then(o).then(null,a)}})},e.prototype._notifyScopeListeners=function(){var e=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(function(t){t(e)}),this._notifyingListeners=!1)},e.prototype._applyFingerprint=function(e){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint},e}();function j(){var e=N.e();return e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.globalEventProcessors=e.__SENTRY__.globalEventProcessors||[],e.__SENTRY__.globalEventProcessors}function U(e){j().push(e)}(i=f||(f={})).Ok="ok",i.Exited="exited",i.Crashed="crashed",i.Abnormal="abnormal",(o=h||(h={})).Ok="ok",o.Errored="errored",o.Crashed="crashed";var F=N.e(),P="Sentry Logger ",B=function(){function e(){this._enabled=!1}return e.prototype.disable=function(){this._enabled=!1},e.prototype.enable=function(){this._enabled=!0},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&N.c(function(){F.console.log(P+"[Log]: "+e.join(" "))})},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&N.c(function(){F.console.warn(P+"[Warn]: "+e.join(" "))})},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&N.c(function(){F.console.error(P+"[Error]: "+e.join(" "))})},e}();F.__SENTRY__=F.__SENTRY__||{};var H=F.__SENTRY__.logger||(F.__SENTRY__.logger=new B),V=n(19549);function G(e,t){try{for(var n=e,r=[],i=0,o=0,a=void 0;n&&i++<5&&!("html"===(a=function(e,t){var n,r,i,o,a,s=[];if(!e||!e.tagName)return"";s.push(e.tagName.toLowerCase());var c=(null==t?void 0:t.length)?t.filter(function(t){return e.getAttribute(t)}).map(function(t){return[t,e.getAttribute(t)]}):null;if(null==c?void 0:c.length)c.forEach(function(e){s.push("["+e[0]+'="'+e[1]+'"]')});else if(e.id&&s.push("#"+e.id),(n=e.className)&&S(n))for(r=n.split(/\s+/),a=0;a<r.length;a++)s.push("."+r[a]);var u=["type","name","title","alt"];for(a=0;a<u.length;a++)i=u[a],(o=e.getAttribute(i))&&s.push("["+i+'="'+o+'"]');return s.join("")}(n,t))||i>1&&o+3*r.length+a.length>=80);)r.push(a),o+=a.length,n=n.parentNode;return r.reverse().join(" > ")}catch(e){return"<unknown>"}}var W=function(){function e(){this._hasWeakSet="function"==typeof WeakSet,this._inner=this._hasWeakSet?new WeakSet:[]}return e.prototype.memoize=function(e){if(this._hasWeakSet)return!!this._inner.has(e)||(this._inner.add(e),!1);for(var t=0;t<this._inner.length;t++)if(this._inner[t]===e)return!0;return this._inner.push(e),!1},e.prototype.unmemoize=function(e){if(this._hasWeakSet)this._inner.delete(e);else for(var t=0;t<this._inner.length;t++)if(this._inner[t]===e){this._inner.splice(t,1);break}},e}();function q(e){try{return e&&"function"==typeof e&&e.name||"<anonymous>"}catch(e){return"<anonymous>"}}function z(e,t){return void 0===t&&(t=0),"string"!=typeof e||0===t||e.length<=t?e:e.substr(0,t)+"..."}function Y(e,t){if(!Array.isArray(e))return"";for(var n=[],r=0;r<e.length;r++){var i=e[r];try{n.push(String(i))}catch(e){n.push("[value cannot be serialized]")}}return n.join(t)}function X(e,t){return!!S(e)&&("[object RegExp]"===Object.prototype.toString.call(t)?t.test(e):"string"==typeof t&&-1!==e.indexOf(t))}function J(e,t,n){if(t in e){var r=e[t],i=n(r);if("function"==typeof i)try{i.prototype=i.prototype||{},Object.defineProperties(i,{__sentry_original__:{enumerable:!1,value:r}})}catch(e){}e[t]=i}}function Z(e){if(w(e)){var t={message:e.message,name:e.name,stack:e.stack};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}if(k(e)){var r={};r.type=e.type;try{r.target=A(e.target)?G(e.target):Object.prototype.toString.call(e.target)}catch(e){r.target="<unknown>"}try{r.currentTarget=A(e.currentTarget)?G(e.currentTarget):Object.prototype.toString.call(e.currentTarget)}catch(e){r.currentTarget="<unknown>"}for(var i in"undefined"!=typeof CustomEvent&&D(e,CustomEvent)&&(r.detail=e.detail),e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i]);return r}return e}function Q(e,t){return"domain"===t&&e&&"object"==typeof e&&e._events?"[Domain]":"domainEmitter"===t?"[DomainEmitter]":void 0!==n.g&&e===n.g?"[Global]":"undefined"!=typeof window&&e===window?"[Window]":"undefined"!=typeof document&&e===document?"[Document]":R(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e?"[SyntheticEvent]":"number"==typeof e&&e!=e?"[NaN]":void 0===e?"[undefined]":"function"==typeof e?"[Function: "+q(e)+"]":"symbol"==typeof e?"["+String(e)+"]":"bigint"==typeof e?"[BigInt: "+String(e)+"]":e}function $(e,t){try{return JSON.parse(JSON.stringify(e,function(e,n){return function e(t,n,r,i){if(void 0===r&&(r=1/0),void 0===i&&(i=new W),0===r){var o=Object.prototype.toString.call(n);if("string"==typeof n)return n;if("[object Object]"===o)return"[Object]";if("[object Array]"===o)return"[Array]";var a=Q(n);return T(a)?a:o}if(null!=n&&"function"==typeof n.toJSON)return n.toJSON();var s=Q(n,t);if(T(s))return s;var c=Z(n),u=Array.isArray(n)?[]:{};if(i.memoize(n))return"[Circular ~]";for(var l in c)Object.prototype.hasOwnProperty.call(c,l)&&(u[l]=e(l,c[l],r-1,i));return i.unmemoize(n),u}(e,n,t)}))}catch(e){return"**non-serializable**"}}function K(e){if(R(e)){var t,n,r={};try{for(var i=E.g(Object.keys(e)),o=i.next();!o.done;o=i.next()){var a=o.value;void 0!==e[a]&&(r[a]=K(e[a]))}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return Array.isArray(e)?e.map(K):e}var ee=function(){function e(e){this.errors=0,this.sid=N.i(),this.duration=0,this.status=f.Ok,this.init=!0,this.ignoreDuration=!1;var t=C.b();this.timestamp=t,this.started=t,e&&this.update(e)}return e.prototype.update=function(e){if(void 0===e&&(e={}),e.user&&(!this.ipAddress&&e.user.ip_address&&(this.ipAddress=e.user.ip_address),this.did||e.did||(this.did=e.user.id||e.user.email||e.user.username)),this.timestamp=e.timestamp||C.b(),e.ignoreDuration&&(this.ignoreDuration=e.ignoreDuration),e.sid&&(this.sid=32===e.sid.length?e.sid:N.i()),void 0!==e.init&&(this.init=e.init),!this.did&&e.did&&(this.did=""+e.did),"number"==typeof e.started&&(this.started=e.started),this.ignoreDuration)this.duration=void 0;else if("number"==typeof e.duration)this.duration=e.duration;else{var t=this.timestamp-this.started;this.duration=t>=0?t:0}e.release&&(this.release=e.release),e.environment&&(this.environment=e.environment),!this.ipAddress&&e.ipAddress&&(this.ipAddress=e.ipAddress),!this.userAgent&&e.userAgent&&(this.userAgent=e.userAgent),"number"==typeof e.errors&&(this.errors=e.errors),e.status&&(this.status=e.status)},e.prototype.close=function(e){e?this.update({status:e}):this.status===f.Ok?this.update({status:f.Exited}):this.update()},e.prototype.toJSON=function(){return K({sid:""+this.sid,init:this.init,started:new Date(1e3*this.started).toISOString(),timestamp:new Date(1e3*this.timestamp).toISOString(),status:this.status,errors:this.errors,did:"number"==typeof this.did||"string"==typeof this.did?""+this.did:void 0,duration:this.duration,attrs:K({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},e}(),et=function(){function e(e,t,n){void 0===t&&(t=new M),void 0===n&&(n=4),this._version=n,this._stack=[{}],this.getStackTop().scope=t,e&&this.bindClient(e)}return e.prototype.isOlderThan=function(e){return this._version<e},e.prototype.bindClient=function(e){this.getStackTop().client=e,e&&e.setupIntegrations&&e.setupIntegrations()},e.prototype.pushScope=function(){var e=M.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e},e.prototype.popScope=function(){return!(this.getStack().length<=1)&&!!this.getStack().pop()},e.prototype.withScope=function(e){var t=this.pushScope();try{e(t)}finally{this.popScope()}},e.prototype.getClient=function(){return this.getStackTop().client},e.prototype.getScope=function(){return this.getStackTop().scope},e.prototype.getStack=function(){return this._stack},e.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},e.prototype.captureException=function(e,t){var n=this._lastEventId=N.i(),r=t;if(!t){var i=void 0;try{throw Error("Sentry syntheticException")}catch(e){i=e}r={originalException:e,syntheticException:i}}return this._invokeClient("captureException",e,E.a(E.a({},r),{event_id:n})),n},e.prototype.captureMessage=function(e,t,n){var r=this._lastEventId=N.i(),i=n;if(!n){var o=void 0;try{throw Error(e)}catch(e){o=e}i={originalException:e,syntheticException:o}}return this._invokeClient("captureMessage",e,t,E.a(E.a({},i),{event_id:r})),r},e.prototype.captureEvent=function(e,t){var n=this._lastEventId=N.i();return this._invokeClient("captureEvent",e,E.a(E.a({},t),{event_id:n})),n},e.prototype.lastEventId=function(){return this._lastEventId},e.prototype.addBreadcrumb=function(e,t){var n=this.getStackTop(),r=n.scope,i=n.client;if(r&&i){var o=i.getOptions&&i.getOptions()||{},a=o.beforeBreadcrumb,s=void 0===a?null:a,c=o.maxBreadcrumbs,u=void 0===c?100:c;if(!(u<=0)){var l=C.a(),d=E.a({timestamp:l},e),p=s?N.c(function(){return s(d,t)}):d;null!==p&&r.addBreadcrumb(p,u)}}},e.prototype.setUser=function(e){var t=this.getScope();t&&t.setUser(e)},e.prototype.setTags=function(e){var t=this.getScope();t&&t.setTags(e)},e.prototype.setExtras=function(e){var t=this.getScope();t&&t.setExtras(e)},e.prototype.setTag=function(e,t){var n=this.getScope();n&&n.setTag(e,t)},e.prototype.setExtra=function(e,t){var n=this.getScope();n&&n.setExtra(e,t)},e.prototype.setContext=function(e,t){var n=this.getScope();n&&n.setContext(e,t)},e.prototype.configureScope=function(e){var t=this.getStackTop(),n=t.scope,r=t.client;n&&r&&e(n)},e.prototype.run=function(e){var t=er(this);try{e(this)}finally{er(t)}},e.prototype.getIntegration=function(e){var t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(t){return H.warn("Cannot retrieve integration "+e.id+" from the current Hub"),null}},e.prototype.startSpan=function(e){return this._callExtensionMethod("startSpan",e)},e.prototype.startTransaction=function(e,t){return this._callExtensionMethod("startTransaction",e,t)},e.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},e.prototype.captureSession=function(e){if(void 0===e&&(e=!1),e)return this.endSession();this._sendSessionUpdate()},e.prototype.endSession=function(){var e,t,n,r,i;null!=(n=null==(t=null==(e=this.getStackTop())?void 0:e.scope)?void 0:t.getSession())&&n.close(),this._sendSessionUpdate(),null!=(i=null==(r=this.getStackTop())?void 0:r.scope)&&i.setSession()},e.prototype.startSession=function(e){var t=this.getStackTop(),n=t.scope,r=t.client,i=r&&r.getOptions()||{},o=i.release,a=i.environment,s=(N.e().navigator||{}).userAgent,c=new ee(E.a(E.a(E.a({release:o,environment:a},n&&{user:n.getUser()}),s&&{userAgent:s}),e));if(n){var u=n.getSession&&n.getSession();u&&u.status===f.Ok&&u.update({status:f.Exited}),this.endSession(),n.setSession(c)}return c},e.prototype._sendSessionUpdate=function(){var e=this.getStackTop(),t=e.scope,n=e.client;if(t){var r=t.getSession&&t.getSession();r&&n&&n.captureSession&&n.captureSession(r)}},e.prototype._invokeClient=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=this.getStackTop(),i=r.scope,o=r.client;o&&o[e]&&o[e].apply(o,E.f(t,[i]))},e.prototype._callExtensionMethod=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=en().__SENTRY__;if(r&&r.extensions&&"function"==typeof r.extensions[e])return r.extensions[e].apply(this,t);H.warn("Extension method "+e+" couldn't be found, doing nothing.")},e}();function en(){var e=N.e();return e.__SENTRY__=e.__SENTRY__||{extensions:{},hub:void 0},e}function er(e){var t=en(),n=ea(t);return es(t,e),n}function ei(){var e=en();return eo(e)&&!ea(e).isOlderThan(4)||es(e,new et),V.b()?function(e){try{var t,n,r,i=null==(r=null==(n=null==(t=en().__SENTRY__)?void 0:t.extensions)?void 0:n.domain)?void 0:r.active;if(!i)return ea(e);if(!eo(i)||ea(i).isOlderThan(4)){var o=ea(e).getStackTop();es(i,new et(o.client,M.clone(o.scope)))}return ea(i)}catch(t){return ea(e)}}(e):ea(e)}function eo(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function ea(e){return e&&e.__SENTRY__&&e.__SENTRY__.hub||(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=new et),e.__SENTRY__.hub}function es(e,t){return!!e&&(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=t,!0)}var ec=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],eu=function(){function e(t){void 0===t&&(t={}),this._options=t,this.name=e.id}return e.prototype.setupOnce=function(){U(function(t){var n=ei();if(!n)return t;var r=n.getIntegration(e);if(r){var i=n.getClient(),o=i?i.getOptions():{},a="function"==typeof r._mergeOptions?r._mergeOptions(o):{};return"function"!=typeof r._shouldDropEvent?t:r._shouldDropEvent(t,a)?null:t}return t})},e.prototype._shouldDropEvent=function(e,t){return this._isSentryError(e,t)?(H.warn("Event dropped due to being internal Sentry Error.\nEvent: "+N.d(e)),!0):this._isIgnoredError(e,t)?(H.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+N.d(e)),!0):this._isDeniedUrl(e,t)?(H.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+N.d(e)+".\nUrl: "+this._getEventFilterUrl(e)),!0):!this._isAllowedUrl(e,t)&&(H.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+N.d(e)+".\nUrl: "+this._getEventFilterUrl(e)),!0)},e.prototype._isSentryError=function(e,t){if(!t.ignoreInternal)return!1;try{return e&&e.exception&&e.exception.values&&e.exception.values[0]&&"SentryError"===e.exception.values[0].type||!1}catch(e){return!1}},e.prototype._isIgnoredError=function(e,t){return!(!t.ignoreErrors||!t.ignoreErrors.length)&&this._getPossibleEventMessages(e).some(function(e){return t.ignoreErrors.some(function(t){return X(e,t)})})},e.prototype._isDeniedUrl=function(e,t){if(!t.denyUrls||!t.denyUrls.length)return!1;var n=this._getEventFilterUrl(e);return!!n&&t.denyUrls.some(function(e){return X(n,e)})},e.prototype._isAllowedUrl=function(e,t){if(!t.allowUrls||!t.allowUrls.length)return!0;var n=this._getEventFilterUrl(e);return!n||t.allowUrls.some(function(e){return X(n,e)})},e.prototype._mergeOptions=function(e){return void 0===e&&(e={}),{allowUrls:E.f(this._options.whitelistUrls||[],this._options.allowUrls||[],e.whitelistUrls||[],e.allowUrls||[]),denyUrls:E.f(this._options.blacklistUrls||[],this._options.denyUrls||[],e.blacklistUrls||[],e.denyUrls||[]),ignoreErrors:E.f(this._options.ignoreErrors||[],e.ignoreErrors||[],ec),ignoreInternal:void 0===this._options.ignoreInternal||this._options.ignoreInternal}},e.prototype._getPossibleEventMessages=function(e){if(e.message)return[e.message];if(e.exception)try{var t=e.exception.values&&e.exception.values[0]||{},n=t.type,r=t.value,i=void 0===r?"":r;return[""+i,(void 0===n?"":n)+": "+i]}catch(t){H.error("Cannot extract message for event "+N.d(e))}return[]},e.prototype._getLastValidUrl=function(e){void 0===e&&(e=[]);for(var t=e.length-1;t>=0;t--){var n=e[t];if("<anonymous>"!==(null==n?void 0:n.filename)&&"[native code]"!==(null==n?void 0:n.filename))return n.filename||null}return null},e.prototype._getEventFilterUrl=function(e){try{if(e.stacktrace){var t=e.stacktrace.frames;return this._getLastValidUrl(t)}if(e.exception){var n=e.exception.values&&e.exception.values[0].stacktrace&&e.exception.values[0].stacktrace.frames;return this._getLastValidUrl(n)}return null}catch(t){return H.error("Cannot extract url for event "+N.d(e)),null}},e.id="InboundFilters",e}(),el={};function ed(){if(!("fetch"in N.e()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function ep(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}Object.defineProperty(el,"FunctionToString",{get:function(){return b}}),Object.defineProperty(el,"InboundFilters",{get:function(){return eu}});var ef=N.e(),eh={},e_={};function ev(e){e&&"string"==typeof e.type&&"function"==typeof e.callback&&(eh[e.type]=eh[e.type]||[],eh[e.type].push(e.callback),function(e){if(!e_[e])switch(e_[e]=!0,e){case"console":"console"in ef&&["debug","info","warn","error","log","assert"].forEach(function(e){e in ef.console&&J(ef.console,e,function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];em("console",{args:n,level:e}),t&&Function.prototype.apply.call(t,ef.console,n)}})});break;case"dom":if("document"in ef){var t=em.bind(null,"dom"),n=eg(t,!0);ef.document.addEventListener("click",n,!1),ef.document.addEventListener("keypress",n,!1),["EventTarget","Node"].forEach(function(e){var n=ef[e]&&ef[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(J(n,"addEventListener",function(e){return function(n,r,i){if("click"===n||"keypress"==n)try{var o=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},a=o[n]=o[n]||{refCount:0};if(!a.handler){var s=eg(t);a.handler=s,e.call(this,n,s,i)}a.refCount+=1}catch(e){}return e.call(this,n,r,i)}}),J(n,"removeEventListener",function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{var i=this.__sentry_instrumentation_handlers__||{},o=i[t];o&&(o.refCount-=1,o.refCount<=0&&(e.call(this,t,o.handler,r),o.handler=void 0,delete i[t]),0===Object.keys(i).length&&delete this.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,n,r)}}))})}break;case"xhr":if("XMLHttpRequest"in ef){var r=[],i=[],o=XMLHttpRequest.prototype;J(o,"open",function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var o=this,a=t[1];o.__sentry_xhr__={method:S(t[0])?t[0].toUpperCase():t[0],url:t[1]},S(a)&&"POST"===o.__sentry_xhr__.method&&a.match(/sentry_key/)&&(o.__sentry_own_request__=!0);var s=function(){if(4===o.readyState){try{o.__sentry_xhr__&&(o.__sentry_xhr__.status_code=o.status)}catch(e){}try{var e=r.indexOf(o);if(-1!==e){r.splice(e);var n=i.splice(e)[0];o.__sentry_xhr__&&void 0!==n[0]&&(o.__sentry_xhr__.body=n[0])}}catch(e){}em("xhr",{args:t,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:o})}};return"onreadystatechange"in o&&"function"==typeof o.onreadystatechange?J(o,"onreadystatechange",function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return s(),e.apply(o,t)}}):o.addEventListener("readystatechange",s),e.apply(o,t)}}),J(o,"send",function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return r.push(this),i.push(t),em("xhr",{args:t,startTimestamp:Date.now(),xhr:this}),e.apply(this,t)}})}break;case"fetch":(function(){if(!ed())return!1;var e=N.e();if(ep(e.fetch))return!0;var t=!1,n=e.document;if(n&&"function"==typeof n.createElement)try{var r=n.createElement("iframe");r.hidden=!0,n.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(t=ep(r.contentWindow.fetch)),n.head.removeChild(r)}catch(e){H.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return t})()&&J(ef,"fetch",function(e){return function(){for(var t,n,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o={args:r,fetchData:{method:(void 0===(t=r)&&(t=[]),"Request"in ef&&D(t[0],Request)&&t[0].method?String(t[0].method).toUpperCase():t[1]&&t[1].method?String(t[1].method).toUpperCase():"GET"),url:(void 0===(n=r)&&(n=[]),"string"==typeof n[0]?n[0]:"Request"in ef&&D(n[0],Request)?n[0].url:String(n[0]))},startTimestamp:Date.now()};return em("fetch",E.a({},o)),e.apply(ef,r).then(function(e){return em("fetch",E.a(E.a({},o),{endTimestamp:Date.now(),response:e})),e},function(e){throw em("fetch",E.a(E.a({},o),{endTimestamp:Date.now(),error:e})),e})}});break;case"history":!function(){if(n=(t=(e=N.e()).chrome)&&t.app&&t.app.runtime,r="history"in e&&!!e.history.pushState&&!!e.history.replaceState,!n&&r){var e,t,n,r,i=ef.onpopstate;ef.onpopstate=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=ef.location.href,r=_;if(_=n,em("history",{from:r,to:n}),i)try{return i.apply(this,e)}catch(e){}},J(ef.history,"pushState",o),J(ef.history,"replaceState",o)}function o(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t.length>2?t[2]:void 0;if(r){var i=_,o=String(r);_=o,em("history",{from:i,to:o})}return e.apply(this,t)}}}();break;case"error":ey=ef.onerror,ef.onerror=function(e,t,n,r,i){return em("error",{column:r,error:i,line:n,msg:e,url:t}),!!ey&&ey.apply(this,arguments)};break;case"unhandledrejection":eb=ef.onunhandledrejection,ef.onunhandledrejection=function(e){return em("unhandledrejection",e),!eb||eb.apply(this,arguments)};break;default:H.warn("unknown instrumentation type:",e)}}(e.type))}function em(e,t){if(e&&eh[e])try{for(var n,r,i=E.g(eh[e]||[]),o=i.next();!o.done;o=i.next()){var a=o.value;try{a(t)}catch(t){H.error("Error while triggering instrumentation handler.\nType: "+e+"\nName: "+q(a)+"\nError: "+t)}}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function eg(e,t){return void 0===t&&(t=!1),function(n){if(n&&m!==n&&!function(e){if("keypress"!==e.type)return!1;try{var t=e.target;if(!t||!t.tagName)return!0;if("INPUT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable)return!1}catch(e){}return!0}(n)){var r="keypress"===n.type?"input":n.type;(void 0===v||function(e,t){if(!e||e.type!==t.type)return!0;try{if(e.target!==t.target)return!0}catch(e){}return!1}(m,n))&&(e({event:n,name:r,global:t}),m=n),clearTimeout(v),v=ef.setTimeout(function(){v=void 0},1e3)}}}var ey=null,eb=null,eE=Object.setPrototypeOf||(({__proto__:[]})instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n]);return e}),ew=function(e){function t(t){var n=this.constructor,r=e.call(this,t)||this;return r.message=t,r.name=n.prototype.constructor.name,eE(r,n.prototype),r}return E.c(t,e),t}(Error),eO=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,ex=function(){function e(e){"string"==typeof e?this._fromString(e):this._fromComponents(e),this._validate()}return e.prototype.toString=function(e){void 0===e&&(e=!1);var t=this.host,n=this.path,r=this.pass,i=this.port,o=this.projectId;return this.protocol+"://"+this.publicKey+(e&&r?":"+r:"")+"@"+t+(i?":"+i:"")+"/"+(n?n+"/":n)+o},e.prototype._fromString=function(e){var t=eO.exec(e);if(!t)throw new ew("Invalid Dsn");var n=E.d(t.slice(1),6),r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],c="",u=n[5],l=u.split("/");if(l.length>1&&(c=l.slice(0,-1).join("/"),u=l.pop()),u){var d=u.match(/^\d+/);d&&(u=d[0])}this._fromComponents({host:a,pass:void 0===o?"":o,path:c,projectId:u,port:void 0===s?"":s,protocol:r,publicKey:i})},e.prototype._fromComponents=function(e){"user"in e&&!("publicKey"in e)&&(e.publicKey=e.user),this.user=e.publicKey||"",this.protocol=e.protocol,this.publicKey=e.publicKey||"",this.pass=e.pass||"",this.host=e.host,this.port=e.port||"",this.path=e.path||"",this.projectId=e.projectId},e.prototype._validate=function(){var e=this;if(["protocol","publicKey","host","projectId"].forEach(function(t){if(!e[t])throw new ew("Invalid Dsn: "+t+" missing")}),!this.projectId.match(/^\d+$/))throw new ew("Invalid Dsn: Invalid projectId "+this.projectId);if("http"!==this.protocol&&"https"!==this.protocol)throw new ew("Invalid Dsn: Invalid protocol "+this.protocol);if(this.port&&isNaN(parseInt(this.port,10)))throw new ew("Invalid Dsn: Invalid port "+this.port)},e}(),eS=[];function eT(e){return e.reduce(function(e,t){return e.every(function(e){return t.name!==e.name})&&e.push(t),e},[])}var eR=function(){function e(e,t){this._integrations={},this._numProcessing=0,this._backend=new e(t),this._options=t,t.dsn&&(this._dsn=new ex(t.dsn))}return e.prototype.captureException=function(e,t,n){var r=this,i=t&&t.event_id;return this._process(this._getBackend().eventFromException(e,t).then(function(e){return r._captureEvent(e,t,n)}).then(function(e){i=e})),i},e.prototype.captureMessage=function(e,t,n,r){var i=this,o=n&&n.event_id,a=T(e)?this._getBackend().eventFromMessage(String(e),t,n):this._getBackend().eventFromException(e,n);return this._process(a.then(function(e){return i._captureEvent(e,n,r)}).then(function(e){o=e})),o},e.prototype.captureEvent=function(e,t,n){var r=t&&t.event_id;return this._process(this._captureEvent(e,t,n).then(function(e){r=e})),r},e.prototype.captureSession=function(e){this._isEnabled()?"string"!=typeof e.release?H.warn("Discarded session because of missing or non-string release"):(this._sendSession(e),e.update({init:!1})):H.warn("SDK not enabled, will not capture session.")},e.prototype.getDsn=function(){return this._dsn},e.prototype.getOptions=function(){return this._options},e.prototype.flush=function(e){var t=this;return this._isClientDoneProcessing(e).then(function(n){return t._getBackend().getTransport().close(e).then(function(e){return n&&e})})},e.prototype.close=function(e){var t=this;return this.flush(e).then(function(e){return t.getOptions().enabled=!1,e})},e.prototype.setupIntegrations=function(){var e,t,n,r,i,o;this._isEnabled()&&!this._integrations.initialized&&(this._integrations=(e=this._options,t={},(n=e.defaultIntegrations&&E.f(e.defaultIntegrations)||[],r=e.integrations,i=E.f(eT(n)),Array.isArray(r)?i=E.f(i.filter(function(e){return r.every(function(t){return t.name!==e.name})}),eT(r)):"function"==typeof r&&(i=Array.isArray(i=r(i))?i:[i]),-1!==(o=i.map(function(e){return e.name})).indexOf("Debug")&&i.push.apply(i,E.f(i.splice(o.indexOf("Debug"),1))),i).forEach(function(e){t[e.name]=e,-1===eS.indexOf(e.name)&&(e.setupOnce(U,ei),eS.push(e.name),H.log("Integration installed: "+e.name))}),Object.defineProperty(t,"initialized",{value:!0}),t))},e.prototype.getIntegration=function(e){try{return this._integrations[e.id]||null}catch(t){return H.warn("Cannot retrieve integration "+e.id+" from the current Client"),null}},e.prototype._updateSessionFromEvent=function(e,t){var n,r,i=!1,o=!1,a=t.exception&&t.exception.values;if(a){o=!0;try{for(var s=E.g(a),c=s.next();!c.done;c=s.next()){var u=c.value.mechanism;if(u&&!1===u.handled){i=!0;break}}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}var l=e.status===f.Ok;(l&&0===e.errors||l&&i)&&(e.update(E.a(E.a({},i&&{status:f.Crashed}),{errors:e.errors||Number(o||i)})),this.captureSession(e))},e.prototype._sendSession=function(e){this._getBackend().sendSession(e)},e.prototype._isClientDoneProcessing=function(e){var t=this;return new L(function(n){var r=0,i=setInterval(function(){0==t._numProcessing?(clearInterval(i),n(!0)):(r+=1,e&&r>=e&&(clearInterval(i),n(!1)))},1)})},e.prototype._getBackend=function(){return this._backend},e.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},e.prototype._prepareEvent=function(e,t,n){var r=this,i=this.getOptions().normalizeDepth,o=void 0===i?3:i,a=E.a(E.a({},e),{event_id:e.event_id||(n&&n.event_id?n.event_id:N.i()),timestamp:e.timestamp||C.a()});this._applyClientOptions(a),this._applyIntegrationsMetadata(a);var s=t;n&&n.captureContext&&(s=M.clone(s).update(n.captureContext));var c=L.resolve(a);return s&&(c=s.applyToEvent(a,n)),c.then(function(e){return"number"==typeof o&&o>0?r._normalizeEvent(e,o):e})},e.prototype._normalizeEvent=function(e,t){if(!e)return null;var n=E.a(E.a(E.a(E.a(E.a({},e),e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(function(e){return E.a(E.a({},e),e.data&&{data:$(e.data,t)})})}),e.user&&{user:$(e.user,t)}),e.contexts&&{contexts:$(e.contexts,t)}),e.extra&&{extra:$(e.extra,t)});e.contexts&&e.contexts.trace&&(n.contexts.trace=e.contexts.trace);var r=this.getOptions()._experiments;return(void 0===r?{}:r).ensureNoCircularStructures?$(n):n},e.prototype._applyClientOptions=function(e){var t=this.getOptions(),n=t.environment,r=t.release,i=t.dist,o=t.maxValueLength,a=void 0===o?250:o;"environment"in e||(e.environment="environment"in t?n:"production"),void 0===e.release&&void 0!==r&&(e.release=r),void 0===e.dist&&void 0!==i&&(e.dist=i),e.message&&(e.message=z(e.message,a));var s=e.exception&&e.exception.values&&e.exception.values[0];s&&s.value&&(s.value=z(s.value,a));var c=e.request;c&&c.url&&(c.url=z(c.url,a))},e.prototype._applyIntegrationsMetadata=function(e){var t=Object.keys(this._integrations);t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=E.f(e.sdk.integrations||[],t))},e.prototype._sendEvent=function(e){this._getBackend().sendEvent(e)},e.prototype._captureEvent=function(e,t,n){return this._processEvent(e,t,n).then(function(e){return e.event_id},function(e){H.error(e)})},e.prototype._processEvent=function(e,t,n){var r=this,i=this.getOptions(),o=i.beforeSend,a=i.sampleRate;if(!this._isEnabled())return L.reject(new ew("SDK not enabled, will not capture event."));var s="transaction"===e.type;return!s&&"number"==typeof a&&Math.random()>a?L.reject(new ew("Discarding event because it's not included in the random sample (sampling rate = "+a+")")):this._prepareEvent(e,n,t).then(function(e){if(null===e)throw new ew("An event processor returned null, will not send event.");if(t&&t.data&&!0===t.data.__sentry__||s||!o)return e;var n=o(e,t);return r._ensureBeforeSendRv(n)}).then(function(e){if(null===e)throw new ew("`beforeSend` returned `null`, will not send event.");var t=n&&n.getSession&&n.getSession();return!s&&t&&r._updateSessionFromEvent(t,e),r._sendEvent(e),e}).then(null,function(e){if(e instanceof ew)throw e;throw r.captureException(e,{data:{__sentry__:!0},originalException:e}),new ew("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: "+e)})},e.prototype._process=function(e){var t=this;this._numProcessing+=1,e.then(function(e){return t._numProcessing-=1,e},function(e){return t._numProcessing-=1,e})},e.prototype._ensureBeforeSendRv=function(e){var t="`beforeSend` method has to return `null` or a valid event.";if(I(e))return e.then(function(e){if(!R(e)&&null!==e)throw new ew(t);return e},function(e){throw new ew("beforeSend rejected with "+e)});if(!R(e)&&null!==e)throw new ew(t);return e},e}();(a=g||(g={})).Unknown="unknown",a.Skipped="skipped",a.Success="success",a.RateLimit="rate_limit",a.Invalid="invalid",a.Failed="failed",(s=g||(g={})).fromHttpCode=function(e){return e>=200&&e<300?s.Success:429===e?s.RateLimit:e>=400&&e<500?s.Invalid:e>=500?s.Failed:s.Unknown};var ek=function(){function e(){}return e.prototype.sendEvent=function(e){return L.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:g.Skipped})},e.prototype.close=function(e){return L.resolve(!0)},e}(),eA=function(){function e(e){this._options=e,this._options.dsn||H.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return e.prototype.eventFromException=function(e,t){throw new ew("Backend has to implement `eventFromException` method")},e.prototype.eventFromMessage=function(e,t,n){throw new ew("Backend has to implement `eventFromMessage` method")},e.prototype.sendEvent=function(e){this._transport.sendEvent(e).then(null,function(e){H.error("Error while sending event: "+e)})},e.prototype.sendSession=function(e){this._transport.sendSession?this._transport.sendSession(e).then(null,function(e){H.error("Error while sending session: "+e)}):H.warn("Dropping session because custom transport doesn't implement sendSession")},e.prototype.getTransport=function(){return this._transport},e.prototype._setupTransport=function(){return new ek},e}();(c=y||(y={})).Fatal="fatal",c.Error="error",c.Warning="warning",c.Log="log",c.Info="info",c.Debug="debug",c.Critical="critical",(u=y||(y={})).fromString=function(e){switch(e){case"debug":return u.Debug;case"info":return u.Info;case"warn":case"warning":return u.Warning;case"error":return u.Error;case"fatal":return u.Fatal;case"critical":return u.Critical;default:return u.Log}};var eI=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,eD=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,eC=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,eL=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,eN=/\((\S*)(?::(\d+))(?::(\d+))\)/,eM=/Minified React error #\d+;/i;function ej(e){var t=null,n=0;e&&("number"==typeof e.framesToPop?n=e.framesToPop:eM.test(e.message)&&(n=1));try{if(t=function(e){if(!e||!e.stacktrace)return null;for(var t,n=e.stacktrace,r=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,i=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\((.*)\))? in (.*):\s*$/i,o=n.split("\n"),a=[],s=0;s<o.length;s+=2){var c=null;(t=r.exec(o[s]))?c={url:t[2],func:t[3],args:[],line:+t[1],column:null}:(t=i.exec(o[s]))&&(c={url:t[6],func:t[3]||t[4],args:t[5]?t[5].split(","):[],line:+t[1],column:+t[2]}),c&&(!c.func&&c.line&&(c.func="?"),a.push(c))}return a.length?{message:eF(e),name:e.name,stack:a}:null}(e))return eU(t,n)}catch(e){}try{if(t=function(e){if(!e||!e.stack)return null;for(var t,n,r,i=[],o=e.stack.split("\n"),a=0;a<o.length;++a){if(n=eI.exec(o[a])){var s=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(t=eN.exec(n[2]))&&(n[2]=t[1],n[3]=t[2],n[4]=t[3]);var c=n[2]&&0===n[2].indexOf("address at ")?n[2].substr(11):n[2],u=n[1]||"?",l=-1!==u.indexOf("safari-extension"),d=-1!==u.indexOf("safari-web-extension");(l||d)&&(u=-1!==u.indexOf("@")?u.split("@")[0]:"?",c=l?"safari-extension:"+c:"safari-web-extension:"+c),r={url:c,func:u,args:s?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=eC.exec(o[a]))r={url:n[2],func:n[1]||"?",args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=eD.exec(o[a])))continue;n[3]&&n[3].indexOf(" > eval")>-1&&(t=eL.exec(n[3]))?(n[1]=n[1]||"eval",n[3]=t[1],n[4]=t[2],n[5]=""):0!==a||n[5]||void 0===e.columnNumber||(i[0].column=e.columnNumber+1),r={url:n[3],func:n[1]||"?",args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}!r.func&&r.line&&(r.func="?"),i.push(r)}return i.length?{message:eF(e),name:e.name,stack:i}:null}(e))return eU(t,n)}catch(e){}return{message:eF(e),name:e&&e.name,stack:[],failed:!0}}function eU(e,t){try{return E.a(E.a({},e),{stack:e.stack.slice(t)})}catch(t){return e}}function eF(e){var t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function eP(e){var t=eH(e.stack),n={type:e.name,value:e.message};return t&&t.length&&(n.stacktrace={frames:t}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function eB(e){return{exception:{values:[eP(e)]}}}function eH(e){if(!e||!e.length)return[];var t=e,n=t[0].func||"",r=t[t.length-1].func||"";return(-1!==n.indexOf("captureMessage")||-1!==n.indexOf("captureException"))&&(t=t.slice(1)),-1!==r.indexOf("sentryWrapped")&&(t=t.slice(0,-1)),t.slice(0,50).map(function(e){return{colno:null===e.column?void 0:e.column,filename:e.url||t[0].url,function:e.func||"?",in_app:!0,lineno:null===e.line?void 0:e.line}}).reverse()}function eV(e,t,n){if(void 0===n&&(n={}),O(e)&&e.error)return eB(ej(e=e.error));if(x(e)||(i=e,"[object DOMException]"===Object.prototype.toString.call(i))){var r,i,o,a,s,c=e,u=c.name||(x(c)?"DOMError":"DOMException"),l=c.message?u+": "+c.message:u;return r=eG(l,t,n),N.b(r,l),"code"in c&&(r.tags=E.a(E.a({},r.tags),{"DOMException.code":""+c.code})),r}return w(e)?r=eB(ej(e)):(R(e)||k(e)?(o=e,a=n.rejection,s={exception:{values:[{type:k(o)?o.constructor.name:a?"UnhandledRejection":"Error",value:"Non-Error "+(a?"promise rejection":"exception")+" captured with keys: "+function(e,t){void 0===t&&(t=40);var n=Object.keys(Z(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return z(n[0],t);for(var r=n.length;r>0;r--){var i=n.slice(0,r).join(", ");if(!(i.length>t))return r===n.length?i:z(i,t)}return""}(o)}]},extra:{__serialized__:function e(t,n,r){void 0===n&&(n=3),void 0===r&&(r=102400);var i=$(t,n);return~-encodeURI(JSON.stringify(i)).split(/%..|./).length>r?e(t,n-1,r):i}(o)}},t&&(s.stacktrace={frames:eH(ej(t).stack)}),r=s):(r=eG(e,t,n),N.b(r,""+e,void 0)),N.a(r,{synthetic:!0}),r)}function eG(e,t,n){void 0===n&&(n={});var r={message:e};return n.attachStacktrace&&t&&(r.stacktrace={frames:eH(ej(t).stack)}),r}function eW(e){if(e.metadata&&e.metadata.sdk){var t=e.metadata.sdk;return{name:t.name,version:t.version}}}function eq(e,t){var n=eW(t),r="aggregates"in e?"sessions":"session";return{body:JSON.stringify(E.a(E.a({sent_at:new Date().toISOString()},n&&{sdk:n}),t.forceEnvelope()&&{dsn:t.getDsn().toString()}))+"\n"+JSON.stringify({type:r})+"\n"+JSON.stringify(e),type:r,url:t.getEnvelopeEndpointWithUrlEncodedAuth()}}function ez(e,t){var n,r=eW(t),i=e.type||"event",o="transaction"===i||t.forceEnvelope(),a=e.debug_meta||{},s=a.transactionSampling,c=E.e(a,["transactionSampling"]),u=s||{},l=u.method,d=u.rate;0===Object.keys(c).length?delete e.debug_meta:e.debug_meta=c;var p={body:JSON.stringify((r&&(n=t.metadata.sdk)&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||n.name,e.sdk.version=e.sdk.version||n.version,e.sdk.integrations=E.f(e.sdk.integrations||[],n.integrations||[]),e.sdk.packages=E.f(e.sdk.packages||[],n.packages||[])),e)),type:i,url:o?t.getEnvelopeEndpointWithUrlEncodedAuth():t.getStoreEndpointWithUrlEncodedAuth()};if(o){var f=JSON.stringify(E.a(E.a({event_id:e.event_id,sent_at:new Date().toISOString()},r&&{sdk:r}),t.forceEnvelope()&&{dsn:t.getDsn().toString()}))+"\n"+JSON.stringify({type:i,sample_rates:[{id:l,rate:d}]})+"\n"+p.body;p.body=f}return p}var eY=function(){function e(e,t,n){void 0===t&&(t={}),this.dsn=e,this._dsnObject=new ex(e),this.metadata=t,this._tunnel=n}return e.prototype.getDsn=function(){return this._dsnObject},e.prototype.forceEnvelope=function(){return!!this._tunnel},e.prototype.getBaseApiEndpoint=function(){var e=this.getDsn(),t=e.protocol?e.protocol+":":"",n=e.port?":"+e.port:"";return t+"//"+e.host+n+(e.path?"/"+e.path:"")+"/api/"},e.prototype.getStoreEndpoint=function(){return this._getIngestEndpoint("store")},e.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return this.getStoreEndpoint()+"?"+this._encodedAuth()},e.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return this.forceEnvelope()?this._tunnel:this._getEnvelopeEndpoint()+"?"+this._encodedAuth()},e.prototype.getStoreEndpointPath=function(){var e=this.getDsn();return(e.path?"/"+e.path:"")+"/api/"+e.projectId+"/store/"},e.prototype.getRequestHeaders=function(e,t){var n=this.getDsn(),r=["Sentry sentry_version=7"];return r.push("sentry_client="+e+"/"+t),r.push("sentry_key="+n.publicKey),n.pass&&r.push("sentry_secret="+n.pass),{"Content-Type":"application/json","X-Sentry-Auth":r.join(", ")}},e.prototype.getReportDialogEndpoint=function(e){void 0===e&&(e={});var t=this.getDsn(),n=this.getBaseApiEndpoint()+"embed/error-page/",r=[];for(var i in r.push("dsn="+t.toString()),e)if("dsn"!==i)if("user"===i){if(!e.user)continue;e.user.name&&r.push("name="+encodeURIComponent(e.user.name)),e.user.email&&r.push("email="+encodeURIComponent(e.user.email))}else r.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return r.length?n+"?"+r.join("&"):n},e.prototype._getEnvelopeEndpoint=function(){return this._getIngestEndpoint("envelope")},e.prototype._getIngestEndpoint=function(e){return this._tunnel?this._tunnel:""+this.getBaseApiEndpoint()+this.getDsn().projectId+"/"+e+"/"},e.prototype._encodedAuth=function(){var e;return Object.keys(e={sentry_key:this.getDsn().publicKey,sentry_version:"7"}).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")},e}(),eX=function(){function e(e){this._limit=e,this._buffer=[]}return e.prototype.isReady=function(){return void 0===this._limit||this.length()<this._limit},e.prototype.add=function(e){var t=this;if(!this.isReady())return L.reject(new ew("Not adding Promise due to buffer limit reached."));var n=e();return -1===this._buffer.indexOf(n)&&this._buffer.push(n),n.then(function(){return t.remove(n)}).then(null,function(){return t.remove(n).then(null,function(){})}),n},e.prototype.remove=function(e){return this._buffer.splice(this._buffer.indexOf(e),1)[0]},e.prototype.length=function(){return this._buffer.length},e.prototype.drain=function(e){var t=this;return new L(function(n){var r=setTimeout(function(){e&&e>0&&n(!1)},e);L.all(t._buffer).then(function(){clearTimeout(r),n(!0)}).then(null,function(){n(!0)})})},e}(),eJ={event:"error",transaction:"transaction",session:"session",attachment:"attachment"},eZ=function(){function e(e){this.options=e,this._buffer=new eX(30),this._rateLimits={},this._api=new eY(e.dsn,e._metadata,e.tunnel),this.url=this._api.getStoreEndpointWithUrlEncodedAuth()}return e.prototype.sendEvent=function(e){throw new ew("Transport Class has to implement `sendEvent` method")},e.prototype.close=function(e){return this._buffer.drain(e)},e.prototype._handleResponse=function(e){var t=e.requestType,n=e.response,r=e.headers,i=e.resolve,o=e.reject,a=g.fromHttpCode(n.status);this._handleRateLimit(r)&&H.warn("Too many "+t+" requests, backing off until: "+this._disabledUntil(t)),a!==g.Success?o(n):i({status:a})},e.prototype._disabledUntil=function(e){var t=eJ[e];return this._rateLimits[t]||this._rateLimits.all},e.prototype._isRateLimited=function(e){return this._disabledUntil(e)>new Date(Date.now())},e.prototype._handleRateLimit=function(e){var t=Date.now(),n=e["x-sentry-rate-limits"],r=e["retry-after"];if(n){try{for(var i=E.g(n.trim().split(",")),o=i.next();!o.done;o=i.next()){var a=o.value.split(":",2),s=parseInt(a[0],10),c=1e3*(isNaN(s)?60:s);try{for(d=void 0,h=(f=E.g(a[1].split(";"))).next();!h.done;h=f.next()){var u,l,d,p,f,h,_=h.value;this._rateLimits[_||"all"]=new Date(t+c)}}catch(e){d={error:e}}finally{try{h&&!h.done&&(p=f.return)&&p.call(f)}finally{if(d)throw d.error}}}}catch(e){u={error:e}}finally{try{o&&!o.done&&(l=i.return)&&l.call(i)}finally{if(u)throw u.error}}return!0}return!!r&&(this._rateLimits.all=new Date(t+N.g(t,r)),!0)},e}(),eQ=function(e){function t(t,n){void 0===n&&(n=function(){var e,t=N.e();if(ep(t.fetch))return t.fetch.bind(t);var n=t.document,r=t.fetch;if("function"==typeof(null==n?void 0:n.createElement))try{var i=n.createElement("iframe");i.hidden=!0,n.head.appendChild(i),(null==(e=i.contentWindow)?void 0:e.fetch)&&(r=i.contentWindow.fetch),n.head.removeChild(i)}catch(e){H.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return r.bind(t)}());var r=e.call(this,t)||this;return r._fetch=n,r}return E.c(t,e),t.prototype.sendEvent=function(e){return this._sendRequest(ez(e,this._api),e)},t.prototype.sendSession=function(e){return this._sendRequest(eq(e,this._api),e)},t.prototype._sendRequest=function(e,t){var n=this;if(this._isRateLimited(e.type))return Promise.reject({event:t,type:e.type,reason:"Transport for "+e.type+" requests locked till "+this._disabledUntil(e.type)+" due to too many requests.",status:429});var r={body:e.body,method:"POST",referrerPolicy:!function(){if(!ed())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(e){return!1}}()?"":"origin"};return void 0!==this.options.fetchParameters&&Object.assign(r,this.options.fetchParameters),void 0!==this.options.headers&&(r.headers=this.options.headers),this._buffer.add(function(){return new L(function(t,i){n._fetch(e.url,r).then(function(r){var o={"x-sentry-rate-limits":r.headers.get("X-Sentry-Rate-Limits"),"retry-after":r.headers.get("Retry-After")};n._handleResponse({requestType:e.type,response:r,headers:o,resolve:t,reject:i})}).catch(i)})})},t}(eZ),e$=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return E.c(t,e),t.prototype.sendEvent=function(e){return this._sendRequest(ez(e,this._api),e)},t.prototype.sendSession=function(e){return this._sendRequest(eq(e,this._api),e)},t.prototype._sendRequest=function(e,t){var n=this;return this._isRateLimited(e.type)?Promise.reject({event:t,type:e.type,reason:"Transport for "+e.type+" requests locked till "+this._disabledUntil(e.type)+" due to too many requests.",status:429}):this._buffer.add(function(){return new L(function(t,r){var i=new XMLHttpRequest;for(var o in i.onreadystatechange=function(){if(4===i.readyState){var o={"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")};n._handleResponse({requestType:e.type,response:i,headers:o,resolve:t,reject:r})}},i.open("POST",e.url),n.options.headers)n.options.headers.hasOwnProperty(o)&&i.setRequestHeader(o,n.options.headers[o]);i.send(e.body)})})},t}(eZ),eK=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return E.c(t,e),t.prototype.eventFromException=function(e,t){var n,r;return n=this._options,r=eV(e,t&&t.syntheticException||void 0,{attachStacktrace:n.attachStacktrace}),N.a(r,{handled:!0,type:"generic"}),r.level=y.Error,t&&t.event_id&&(r.event_id=t.event_id),L.resolve(r)},t.prototype.eventFromMessage=function(e,t,n){var r,i,o;return void 0===t&&(t=y.Info),r=this._options,void 0===(i=t)&&(i=y.Info),(o=eG(e,n&&n.syntheticException||void 0,{attachStacktrace:r.attachStacktrace})).level=i,n&&n.event_id&&(o.event_id=n.event_id),L.resolve(o)},t.prototype._setupTransport=function(){if(!this._options.dsn)return e.prototype._setupTransport.call(this);var t=E.a(E.a({},this._options.transportOptions),{dsn:this._options.dsn,tunnel:this._options.tunnel,_metadata:this._options._metadata});return this._options.transport?new this._options.transport(t):ed()?new eQ(t):new e$(t)},t}(eA);function e0(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=ei();if(r&&r[e])return r[e].apply(r,E.f(t));throw Error("No hub defined or "+e+" was not found on the hub, please open a bug report.")}function e1(e){e0("setUser",e)}var e2=0;function e3(e,t,n){if(void 0===t&&(t={}),"function"!=typeof e)return e;try{if(e.__sentry__)return e;if(e.__sentry_wrapped__)return e.__sentry_wrapped__}catch(t){return e}var r=function(){var r,i=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);var o=i.map(function(e){return e3(e,t)});return e.handleEvent?e.handleEvent.apply(this,o):e.apply(this,o)}catch(e){throw e2+=1,setTimeout(function(){e2-=1}),r=function(n){n.addEventProcessor(function(e){var n=E.a({},e);return t.mechanism&&(N.b(n,void 0,void 0),N.a(n,t.mechanism)),n.extra=E.a(E.a({},n.extra),{arguments:i}),n}),function(e,t){var n;try{throw Error("Sentry syntheticException")}catch(e){n=e}e0("captureException",e,{captureContext:void 0,originalException:e,syntheticException:n})}(e)},e0("withScope",r),e}};try{for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}catch(e){}e.prototype=e.prototype||{},r.prototype=e.prototype,Object.defineProperty(e,"__sentry_wrapped__",{enumerable:!1,value:r}),Object.defineProperties(r,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:e}});try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:function(){return e.name}})}catch(e){}return r}var e4=function(){function e(t){this.name=e.id,this._options=E.a({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},t)}return e.prototype.addSentryBreadcrumb=function(e){this._options.sentry&&ei().addBreadcrumb({category:"sentry."+("transaction"===e.type?"transaction":"event"),event_id:e.event_id,level:e.level,message:N.d(e)},{event:e})},e.prototype.setupOnce=function(){var e=this;this._options.console&&ev({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._consoleBreadcrumb.apply(e,E.f(t))},type:"console"}),this._options.dom&&ev({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._domBreadcrumb.apply(e,E.f(t))},type:"dom"}),this._options.xhr&&ev({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._xhrBreadcrumb.apply(e,E.f(t))},type:"xhr"}),this._options.fetch&&ev({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._fetchBreadcrumb.apply(e,E.f(t))},type:"fetch"}),this._options.history&&ev({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._historyBreadcrumb.apply(e,E.f(t))},type:"history"})},e.prototype._consoleBreadcrumb=function(e){var t={category:"console",data:{arguments:e.args,logger:"console"},level:y.fromString(e.level),message:Y(e.args," ")};if("assert"===e.level){if(!1!==e.args[0])return;t.message="Assertion failed: "+(Y(e.args.slice(1)," ")||"console.assert"),t.data.arguments=e.args.slice(1)}ei().addBreadcrumb(t,{input:e.args,level:e.level})},e.prototype._domBreadcrumb=function(e){var t,n="object"==typeof this._options.dom?this._options.dom.serializeAttribute:void 0;"string"==typeof n&&(n=[n]);try{t=e.event.target?G(e.event.target,n):G(e.event,n)}catch(e){t="<unknown>"}0!==t.length&&ei().addBreadcrumb({category:"ui."+e.name,message:t},{event:e.event,name:e.name,global:e.global})},e.prototype._xhrBreadcrumb=function(e){if(e.endTimestamp&&!e.xhr.__sentry_own_request__){var t=e.xhr.__sentry_xhr__||{},n=t.method,r=t.url,i=t.status_code,o=t.body;ei().addBreadcrumb({category:"xhr",data:{method:n,url:r,status_code:i},type:"http"},{xhr:e.xhr,input:o})}},e.prototype._fetchBreadcrumb=function(e){e.endTimestamp&&!(e.fetchData.url.match(/sentry_key/)&&"POST"===e.fetchData.method)&&(e.error?ei().addBreadcrumb({category:"fetch",data:e.fetchData,level:y.Error,type:"http"},{data:e.error,input:e.args}):ei().addBreadcrumb({category:"fetch",data:E.a(E.a({},e.fetchData),{status_code:e.response.status}),type:"http"},{input:e.args,response:e.response}))},e.prototype._historyBreadcrumb=function(e){var t=N.e(),n=e.from,r=e.to,i=N.h(t.location.href),o=N.h(n),a=N.h(r);o.path||(o=i),i.protocol===a.protocol&&i.host===a.host&&(r=a.relative),i.protocol===o.protocol&&i.host===o.host&&(n=o.relative),ei().addBreadcrumb({category:"navigation",data:{from:n,to:r}})},e.id="Breadcrumbs",e}(),e5=function(e){function t(t){return void 0===t&&(t={}),t._metadata=t._metadata||{},t._metadata.sdk=t._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:"6.12.0"}],version:"6.12.0"},e.call(this,eK,t)||this}return E.c(t,e),t.prototype.showReportDialog=function(e){if(void 0===e&&(e={}),N.e().document)if(this._isEnabled()){var t=E.a(E.a({},e),{dsn:e.dsn||this.getDsn()});if(void 0===t&&(t={}),t.eventId)if(t.dsn){var n=document.createElement("script");n.async=!0,n.src=new eY(t.dsn).getReportDialogEndpoint(t),t.onLoad&&(n.onload=t.onLoad),(document.head||document.body).appendChild(n)}else H.error("Missing dsn option in showReportDialog call");else H.error("Missing eventId option in showReportDialog call")}else H.error("Trying to call showReportDialog with Sentry Client disabled")},t.prototype._prepareEvent=function(t,n,r){return t.platform=t.platform||"javascript",e.prototype._prepareEvent.call(this,t,n,r)},t.prototype._sendEvent=function(t){var n=this.getIntegration(e4);n&&n.addSentryBreadcrumb(t),e.prototype._sendEvent.call(this,t)},t}(eR),e6=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],e9=function(){function e(t){this.name=e.id,this._options=E.a({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},t)}return e.prototype.setupOnce=function(){var e=N.e();this._options.setTimeout&&J(e,"setTimeout",this._wrapTimeFunction.bind(this)),this._options.setInterval&&J(e,"setInterval",this._wrapTimeFunction.bind(this)),this._options.requestAnimationFrame&&J(e,"requestAnimationFrame",this._wrapRAF.bind(this)),this._options.XMLHttpRequest&&"XMLHttpRequest"in e&&J(XMLHttpRequest.prototype,"send",this._wrapXHR.bind(this)),this._options.eventTarget&&(Array.isArray(this._options.eventTarget)?this._options.eventTarget:e6).forEach(this._wrapEventTarget.bind(this))},e.prototype._wrapTimeFunction=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[0];return t[0]=e3(r,{mechanism:{data:{function:q(e)},handled:!0,type:"instrument"}}),e.apply(this,t)}},e.prototype._wrapRAF=function(e){return function(t){return e.call(this,e3(t,{mechanism:{data:{function:"requestAnimationFrame",handler:q(e)},handled:!0,type:"instrument"}}))}},e.prototype._wrapEventTarget=function(e){var t=N.e(),n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(J(n,"addEventListener",function(t){return function(n,r,i){try{"function"==typeof r.handleEvent&&(r.handleEvent=e3(r.handleEvent.bind(r),{mechanism:{data:{function:"handleEvent",handler:q(r),target:e},handled:!0,type:"instrument"}}))}catch(e){}return t.call(this,n,e3(r,{mechanism:{data:{function:"addEventListener",handler:q(r),target:e},handled:!0,type:"instrument"}}),i)}}),J(n,"removeEventListener",function(e){return function(t,n,r){try{var i=null==n?void 0:n.__sentry_wrapped__;i&&e.call(this,t,i,r)}catch(e){}return e.call(this,t,n,r)}}))},e.prototype._wrapXHR=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(function(e){e in r&&"function"==typeof r[e]&&J(r,e,function(t){var n={mechanism:{data:{function:e,handler:q(t)},handled:!0,type:"instrument"}};return t.__sentry_original__&&(n.mechanism.data.handler=q(t.__sentry_original__)),e3(t,n)})}),e.apply(this,t)}},e.id="TryCatch",e}(),e8=function(){function e(t){this.name=e.id,this._onErrorHandlerInstalled=!1,this._onUnhandledRejectionHandlerInstalled=!1,this._options=E.a({onerror:!0,onunhandledrejection:!0},t)}return e.prototype.setupOnce=function(){Error.stackTraceLimit=50,this._options.onerror&&(H.log("Global Handler attached: onerror"),this._installGlobalOnErrorHandler()),this._options.onunhandledrejection&&(H.log("Global Handler attached: onunhandledrejection"),this._installGlobalOnUnhandledRejectionHandler())},e.prototype._installGlobalOnErrorHandler=function(){var t=this;this._onErrorHandlerInstalled||(ev({callback:function(n){var r=n.error,i=ei(),o=i.getIntegration(e),a=r&&!0===r.__sentry_own_request__;if(o&&!(e2>0)&&!a){var s=i.getClient(),c=void 0===r&&S(n.msg)?t._eventFromIncompleteOnError(n.msg,n.url,n.line,n.column):t._enhanceEventWithInitialFrame(eV(r||n.msg,void 0,{attachStacktrace:s&&s.getOptions().attachStacktrace,rejection:!1}),n.url,n.line,n.column);N.a(c,{handled:!1,type:"onerror"}),i.captureEvent(c,{originalException:r})}},type:"error"}),this._onErrorHandlerInstalled=!0)},e.prototype._installGlobalOnUnhandledRejectionHandler=function(){var t=this;this._onUnhandledRejectionHandlerInstalled||(ev({callback:function(n){var r=n;try{"reason"in n?r=n.reason:"detail"in n&&"reason"in n.detail&&(r=n.detail.reason)}catch(e){}var i=ei(),o=i.getIntegration(e),a=r&&!0===r.__sentry_own_request__;if(!o||e2>0||a)return!0;var s=i.getClient(),c=T(r)?t._eventFromRejectionWithPrimitive(r):eV(r,void 0,{attachStacktrace:s&&s.getOptions().attachStacktrace,rejection:!0});c.level=y.Error,N.a(c,{handled:!1,type:"onunhandledrejection"}),i.captureEvent(c,{originalException:r})},type:"unhandledrejection"}),this._onUnhandledRejectionHandlerInstalled=!0)},e.prototype._eventFromIncompleteOnError=function(e,t,n,r){var i,o=O(e)?e.message:e,a=o.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);a&&(i=a[1],o=a[2]);var s={exception:{values:[{type:i||"Error",value:o}]}};return this._enhanceEventWithInitialFrame(s,t,n,r)},e.prototype._eventFromRejectionWithPrimitive=function(e){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(e)}]}}},e.prototype._enhanceEventWithInitialFrame=function(e,t,n,r){e.exception=e.exception||{},e.exception.values=e.exception.values||[],e.exception.values[0]=e.exception.values[0]||{},e.exception.values[0].stacktrace=e.exception.values[0].stacktrace||{},e.exception.values[0].stacktrace.frames=e.exception.values[0].stacktrace.frames||[];var i=isNaN(parseInt(r,10))?void 0:r,o=isNaN(parseInt(n,10))?void 0:n,a=S(t)&&t.length>0?t:N.f();return 0===e.exception.values[0].stacktrace.frames.length&&e.exception.values[0].stacktrace.frames.push({colno:i,filename:a,function:"?",in_app:!0,lineno:o}),e},e.id="GlobalHandlers",e}(),e7=function(){function e(t){void 0===t&&(t={}),this.name=e.id,this._key=t.key||"cause",this._limit=t.limit||5}return e.prototype.setupOnce=function(){U(function(t,n){var r=ei().getIntegration(e);if(r){var i=r._handler&&r._handler.bind(r);return"function"==typeof i?i(t,n):t}return t})},e.prototype._handler=function(e,t){if(!e.exception||!e.exception.values||!t||!D(t.originalException,Error))return e;var n=this._walkErrorTree(t.originalException,this._key);return e.exception.values=E.f(n,e.exception.values),e},e.prototype._walkErrorTree=function(e,t,n){if(void 0===n&&(n=[]),!D(e[t],Error)||n.length+1>=this._limit)return n;var r=eP(ej(e[t]));return this._walkErrorTree(e[t],t,E.f([r],n))},e.id="LinkedErrors",e}(),te=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(t,n){t(function(t){var r=n().getIntegration(e);if(r){try{if(r._shouldDropEvent(t,r._previousEvent))return H.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(e){}return r._previousEvent=t}return t})},e.prototype._shouldDropEvent=function(e,t){return!!t&&(!!this._isSameMessageEvent(e,t)||!!this._isSameExceptionEvent(e,t))},e.prototype._isSameMessageEvent=function(e,t){var n=e.message,r=t.message;return!(!n&&!r)&&!(n&&!r||!n&&r)&&n===r&&!!this._isSameFingerprint(e,t)&&!!this._isSameStacktrace(e,t)},e.prototype._getFramesFromEvent=function(e){var t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){return}if(e.stacktrace)return e.stacktrace.frames},e.prototype._isSameStacktrace=function(e,t){var n=this._getFramesFromEvent(e),r=this._getFramesFromEvent(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||r.length!==n.length)return!1;for(var i=0;i<r.length;i++){var o=r[i],a=n[i];if(o.filename!==a.filename||o.lineno!==a.lineno||o.colno!==a.colno||o.function!==a.function)return!1}return!0},e.prototype._getExceptionFromEvent=function(e){return e.exception&&e.exception.values&&e.exception.values[0]},e.prototype._isSameExceptionEvent=function(e,t){var n=this._getExceptionFromEvent(t),r=this._getExceptionFromEvent(e);return!(!n||!r)&&n.type===r.type&&n.value===r.value&&!!this._isSameFingerprint(e,t)&&!!this._isSameStacktrace(e,t)},e.prototype._isSameFingerprint=function(e,t){var n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return n.join("")===r.join("")}catch(e){return!1}},e.id="Dedupe",e}(),tt=N.e(),tn=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){U(function(t){if(ei().getIntegration(e)){if(!tt.navigator&&!tt.location&&!tt.document)return t;var n,r,i,o=(null==(n=t.request)?void 0:n.url)||(null==(r=tt.location)?void 0:r.href),a=(tt.document||{}).referrer,s=(tt.navigator||{}).userAgent,c=E.a(E.a(E.a({},null==(i=t.request)?void 0:i.headers),a&&{Referer:a}),s&&{"User-Agent":s}),u=E.a(E.a({},o&&{url:o}),{headers:c});return E.a(E.a({},t),{request:u})}return t})},e.id="UserAgent",e}(),tr=[new el.InboundFilters,new el.FunctionToString,new e9,new e4,new e8,new e7,new te,new tn],ti=n(97248),to=n(70164),ta=n(57087),ts=n(92462),tc=n(81126),tu=n(13144),tl=to.b(),td=n(5653),tp=n(13803),tf=n(41525);function th(e,t){try{for(var n=e,r=[],i=0,o=0,a=void 0;n&&i++<5&&!("html"===(a=function(e,t){var n,r,i,o,a,s=[];if(!e||!e.tagName)return"";s.push(e.tagName.toLowerCase());var c=(null==t?void 0:t.length)?t.filter(function(t){return e.getAttribute(t)}).map(function(t){return[t,e.getAttribute(t)]}):null;if(null==c?void 0:c.length)c.forEach(function(e){s.push("["+e[0]+'="'+e[1]+'"]')});else if(e.id&&s.push("#"+e.id),(n=e.className)&&tf.h(n))for(r=n.split(/\s+/),a=0;a<r.length;a++)s.push("."+r[a]);var u=["type","name","title","alt"];for(a=0;a<u.length;a++)i=u[a],(o=e.getAttribute(i))&&s.push("["+i+'="'+o+'"]');return s.join("")}(n,t))||i>1&&o+3*r.length+a.length>=80);)r.push(a),o+=a.length,n=n.parentNode;return r.reverse().join(" > ")}catch(e){return"<unknown>"}}var t_=function(e,t,n){var r;return function(i){t.value>=0&&(i||n)&&(t.delta=t.value-(r||0),(t.delta||void 0===r)&&(r=t.value,e(t)))}},tv=function(e,t){return{name:e,value:null!=t?t:-1,delta:0,entries:[],id:"v2-"+Date.now()+"-"+(Math.floor(0x82f79cd8fff*Math.random())+1e12)}},tm=function(e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){if("first-input"===e&&!("PerformanceEventTiming"in self))return;var n=new PerformanceObserver(function(e){return e.getEntries().map(t)});return n.observe({type:e,buffered:!0}),n}}catch(e){}},tg=function(e,t){var n=function n(r){("pagehide"===r.type||"hidden"===document.visibilityState)&&(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},ty=-1,tb=function(){return ty<0&&(ty="hidden"===document.visibilityState?0:1/0,tg(function(e){ty=e.timeStamp},!0)),{get firstHiddenTime(){return ty}}},tE={},tw=to.b(),tO=function(){function e(){this._measurements={},this._performanceCursor=0,!td.b()&&(null==tw?void 0:tw.performance)&&(null==tw?void 0:tw.document)&&(tw.performance.mark&&tw.performance.mark("sentry-tracing-init"),this._trackCLS(),this._trackLCP(),this._trackFID())}return e.prototype.addPerformanceEntries=function(e){var t=this;if(tw&&tw.performance&&tw.performance.getEntries&&tp.a){ti.a.log("[Tracing] Adding & adjusting spans using Performance API");var n,r,i,o,a,s=tu.d(tp.a);if(tw.document&&tw.document.scripts){for(var c=0;c<tw.document.scripts.length;c++)if("true"===tw.document.scripts[c].dataset.entry){n=tw.document.scripts[c].src;break}}if(tw.performance.getEntries().slice(this._performanceCursor).forEach(function(c){var u=tu.d(c.startTime),l=tu.d(c.duration);if(!("navigation"===e.op&&s+u<e.startTimestamp))switch(c.entryType){case"navigation":tx({transaction:e,entry:c,event:"unloadEvent",timeOrigin:s}),tx({transaction:e,entry:c,event:"redirect",timeOrigin:s}),tx({transaction:e,entry:c,event:"domContentLoadedEvent",timeOrigin:s}),tx({transaction:e,entry:c,event:"loadEvent",timeOrigin:s}),tx({transaction:e,entry:c,event:"connect",timeOrigin:s}),tx({transaction:e,entry:c,event:"secureConnection",timeOrigin:s,eventEnd:"connectEnd",description:"TLS/SSL"}),tx({transaction:e,entry:c,event:"fetch",timeOrigin:s,eventEnd:"domainLookupStart",description:"cache"}),tx({transaction:e,entry:c,event:"domainLookup",timeOrigin:s,description:"DNS"}),tS(e,{op:"browser",description:"request",startTimestamp:s+tu.d(c.requestStart),endTimestamp:s+tu.d(c.responseEnd)}),tS(e,{op:"browser",description:"response",startTimestamp:s+tu.d(c.responseStart),endTimestamp:s+tu.d(c.responseEnd)}),o=s+tu.d(c.responseStart),a=s+tu.d(c.requestStart);break;case"mark":case"paint":case"measure":var d,p=(d=s+u,tS(e,{description:c.name,endTimestamp:d+l,op:c.entryType,startTimestamp:d}),d);void 0===i&&"sentry-tracing-init"===c.name&&(i=p);var f=tb(),h=c.startTime<f.firstHiddenTime;"first-paint"===c.name&&h&&(ti.a.log("[Measurements] Adding FP"),t._measurements.fp={value:c.startTime},t._measurements["mark.fp"]={value:p}),"first-contentful-paint"===c.name&&h&&(ti.a.log("[Measurements] Adding FCP"),t._measurements.fcp={value:c.startTime},t._measurements["mark.fcp"]={value:p});break;case"resource":var _=c.name.replace(window.location.origin,""),v=function(e,t,n,r,i,o){if("xmlhttprequest"!==t.initiatorType&&"fetch"!==t.initiatorType){var a={};"transferSize"in t&&(a["Transfer Size"]=t.transferSize),"encodedBodySize"in t&&(a["Encoded Body Size"]=t.encodedBodySize),"decodedBodySize"in t&&(a["Decoded Body Size"]=t.decodedBodySize);var s=o+r,c=s+i;return tS(e,{description:n,endTimestamp:c,op:t.initiatorType?"resource."+t.initiatorType:"resource",startTimestamp:s,data:a}),c}}(e,c,_,u,l,s);void 0===r&&(n||"").indexOf(_)>-1&&(r=v)}}),void 0!==r&&void 0!==i&&tS(e,{description:"evaluation",endTimestamp:i,op:"script",startTimestamp:r}),this._performanceCursor=Math.max(performance.getEntries().length-1,0),this._trackNavigator(e),"pageload"===e.op){var u=tu.d(tp.a);"number"==typeof o&&(ti.a.log("[Measurements] Adding TTFB"),this._measurements.ttfb={value:1e3*(o-e.startTimestamp)},"number"==typeof a&&a<=o&&(this._measurements["ttfb.requestTime"]={value:1e3*(o-a)})),["fcp","fp","lcp"].forEach(function(n){if(t._measurements[n]&&!(u>=e.startTimestamp)){var r=t._measurements[n].value,i=Math.abs(1e3*(u+tu.d(r)-e.startTimestamp)),o=i-r;ti.a.log("[Measurements] Normalized "+n+" from "+r+" to "+i+" ("+o+")"),t._measurements[n].value=i}}),this._measurements["mark.fid"]&&this._measurements.fid&&tS(e,{description:"first input delay",endTimestamp:this._measurements["mark.fid"].value+tu.d(this._measurements.fid.value),op:"web.vitals",startTimestamp:this._measurements["mark.fid"].value}),"fcp"in this._measurements||delete this._measurements.cls,e.setMeasurements(this._measurements),this._tagMetricInfo(e)}}},e.prototype._tagMetricInfo=function(e){this._lcpEntry&&(ti.a.log("[Measurements] Adding LCP Data"),this._lcpEntry.element&&e.setTag("lcp.element",th(this._lcpEntry.element)),this._lcpEntry.id&&e.setTag("lcp.id",this._lcpEntry.id),this._lcpEntry.url&&e.setTag("lcp.url",this._lcpEntry.url.trim().slice(0,200)),e.setTag("lcp.size",this._lcpEntry.size)),this._clsEntry&&this._clsEntry.sources&&(ti.a.log("[Measurements] Adding CLS Data"),this._clsEntry.sources.forEach(function(t,n){return e.setTag("cls.source."+(n+1),th(t.node))}))},e.prototype._trackCLS=function(){var e,t,n,r,i,o,a=this;t=tv("CLS",0),n=0,r=[],(o=tm("layout-shift",i=function(i){if(i&&!i.hadRecentInput){var o=r[0],a=r[r.length-1];n&&0!==r.length&&i.startTime-a.startTime<1e3&&i.startTime-o.startTime<5e3?(n+=i.value,r.push(i)):(n=i.value,r=[i]),n>t.value&&(t.value=n,t.entries=r,e&&e())}}))&&(e=t_(function(e){var t=e.entries.pop();t&&(ti.a.log("[Measurements] Adding CLS"),a._measurements.cls={value:e.value},a._clsEntry=t)},t,void 0),tg(function(){o.takeRecords().map(i),e(!0)}))},e.prototype._trackNavigator=function(e){var t=tw.navigator;if(t){var n=t.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),tT(n.rtt)&&(this._measurements["connection.rtt"]={value:n.rtt}),tT(n.downlink)&&(this._measurements["connection.downlink"]={value:n.downlink})),tT(t.deviceMemory)&&e.setTag("deviceMemory",String(t.deviceMemory)),tT(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}},e.prototype._trackLCP=function(){var e=this;!function(e,t){var n,r=tb(),i=tv("LCP"),o=function(e){var t=e.startTime;t<r.firstHiddenTime&&(i.value=t,i.entries.push(e)),n&&n()},a=tm("largest-contentful-paint",o);if(a){n=t_(e,i,void 0);var s=function(){tE[i.id]||(a.takeRecords().map(o),a.disconnect(),tE[i.id]=!0,n(!0))};["keydown","click"].forEach(function(e){addEventListener(e,s,{once:!0,capture:!0})}),tg(s,!0)}}(function(t){var n=t.entries.pop();if(n){var r=tu.d(tp.a),i=tu.d(n.startTime);ti.a.log("[Measurements] Adding LCP"),e._measurements.lcp={value:t.value},e._measurements["mark.lcp"]={value:r+i},e._lcpEntry=n}})},e.prototype._trackFID=function(){var e,t,n,r,i,o=this;t=tb(),n=tv("FID"),(i=tm("first-input",r=function(r){e&&r.startTime<t.firstHiddenTime&&(n.value=r.processingStart-r.startTime,n.entries.push(r),e(!0))}))&&(e=t_(function(e){var t=e.entries.pop();if(t){var n=tu.d(tp.a),r=tu.d(t.startTime);ti.a.log("[Measurements] Adding FID"),o._measurements.fid={value:e.value},o._measurements["mark.fid"]={value:n+r}}},n,void 0),tg(function(){i.takeRecords().map(r),i.disconnect()},!0))},e}();function tx(e){var t=e.transaction,n=e.entry,r=e.event,i=e.timeOrigin,o=e.eventEnd,a=e.description,s=o?n[o]:n[r+"End"],c=n[r+"Start"];c&&s&&tS(t,{op:"browser",description:null!=a?a:r,startTimestamp:i+tu.d(c),endTimestamp:i+tu.d(s)})}function tS(e,t){var n=t.startTimestamp,r=E.e(t,["startTimestamp"]);return n&&e.startTimestamp>n&&(e.startTimestamp=n),e.startChild(E.a({startTimestamp:n},r))}function tT(e){return"number"==typeof e&&isFinite(e)}function tR(e,t){return!!tf.h(e)&&(tf.g(t)?t.test(e):"string"==typeof t&&-1!==e.indexOf(t))}var tk=n(28640),tA={traceFetch:!0,traceXHR:!0,tracingOrigins:["localhost",/^\//]},tI=to.b(),tD=E.a({idleTimeout:ts.a,markBackgroundTransactions:!0,maxTransactionDuration:600,routingInstrumentation:function(e,t,n){if(void 0===t&&(t=!0),void 0===n&&(n=!0),tI&&tI.location){var r,i=tI.location.href;t&&(r=e({name:tI.location.pathname,op:"pageload"})),n&&tk.a({callback:function(t){var n=t.to,o=t.from;void 0===o&&i&&-1!==i.indexOf(n)?i=void 0:o!==n&&(i=void 0,r&&(ti.a.log("[Tracing] Finishing current transaction with op: "+r.op),r.finish()),r=e({name:tI.location.pathname,op:"navigation"}))},type:"history"})}else ti.a.warn("Could not initialize routing instrumentation due to invalid location")},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0},tA),tC=function(){function e(t){this.name=e.id,this._metrics=new tO,this._emitOptionsWarning=!1;var n=tA.tracingOrigins;t&&t.tracingOrigins&&Array.isArray(t.tracingOrigins)&&0!==t.tracingOrigins.length?n=t.tracingOrigins:this._emitOptionsWarning=!0,this.options=E.a(E.a(E.a({},tD),t),{tracingOrigins:n})}return e.prototype.setupOnce=function(e,t){var n,r,i,o,a,s,c,u,l,d=this;this._getCurrentHub=t,this._emitOptionsWarning&&(ti.a.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),ti.a.warn("[Tracing] We added a reasonable default for you: "+tA.tracingOrigins));var p=this.options,f=p.routingInstrumentation,h=p.startTransactionOnLocationChange,_=p.startTransactionOnPageLoad,v=p.markBackgroundTransactions,m=p.traceFetch,g=p.traceXHR,y=p.tracingOrigins,b=p.shouldCreateSpanForRequest;f(function(e){return d._createRouteTransaction(e)},_,h),v&&(tl&&tl.document?tl.document.addEventListener("visibilitychange",function(){var e=tu.b();tl.document.hidden&&e&&(ti.a.log("[Tracing] Transaction: "+tc.a.Cancelled+" -> since tab moved to the background, op: "+e.op),e.status||e.setStatus(tc.a.Cancelled),e.setTag("visibilitychange","document.hidden"),e.finish())}):ti.a.warn("[Tracing] Could not set up background tab detection due to lack of global document")),r=(n=E.a(E.a({},tA),{traceFetch:m,traceXHR:g,tracingOrigins:y,shouldCreateSpanForRequest:b})).traceFetch,i=n.traceXHR,o=n.tracingOrigins,a=n.shouldCreateSpanForRequest,s={},u=c=function(e){return s[e]||(s[e]=o.some(function(t){return tR(e,t)})&&!tR(e,"sentry_key")),s[e]},"function"==typeof a&&(u=function(e){return c(e)&&a(e)}),l={},r&&tk.a({callback:function(e){!function(e,t,n){if(tu.c()&&e.fetchData&&t(e.fetchData.url)){if(e.endTimestamp&&e.fetchData.__span)return(i=n[e.fetchData.__span])&&(e.response?i.setHttpStatus(e.response.status):e.error&&i.setStatus(tc.a.InternalError),i.finish(),delete n[e.fetchData.__span]);var r=tu.b();if(r){var i=r.startChild({data:E.a(E.a({},e.fetchData),{type:"fetch"}),description:e.fetchData.method+" "+e.fetchData.url,op:"http.client"});e.fetchData.__span=i.spanId,n[i.spanId]=i;var o=e.args[0]=e.args[0],a=e.args[1]=e.args[1]||{},s=a.headers;tf.d(o,Request)&&(s=o.headers),s?"function"==typeof s.append?s.append("sentry-trace",i.toTraceparent()):s=Array.isArray(s)?E.f(s,[["sentry-trace",i.toTraceparent()]]):E.a(E.a({},s),{"sentry-trace":i.toTraceparent()}):s={"sentry-trace":i.toTraceparent()},a.headers=s}}}(e,u,l)},type:"fetch"}),i&&tk.a({callback:function(e){!function(e,t,n){if(tu.c()&&(null==(r=e.xhr)||!r.__sentry_own_request__)&&(null==(i=e.xhr)?void 0:i.__sentry_xhr__)&&t(e.xhr.__sentry_xhr__.url)){var r,i,o=e.xhr.__sentry_xhr__;if(e.endTimestamp&&e.xhr.__sentry_xhr_span_id__)return(s=n[e.xhr.__sentry_xhr_span_id__])&&(s.setHttpStatus(o.status_code),s.finish(),delete n[e.xhr.__sentry_xhr_span_id__]);var a=tu.b();if(a){var s=a.startChild({data:E.a(E.a({},o.data),{type:"xhr",method:o.method,url:o.url}),description:o.method+" "+o.url,op:"http.client"});if(e.xhr.__sentry_xhr_span_id__=s.spanId,n[e.xhr.__sentry_xhr_span_id__]=s,e.xhr.setRequestHeader)try{e.xhr.setRequestHeader("sentry-trace",s.toTraceparent())}catch(e){}}}}(e,u,l)},type:"xhr"})},e.prototype._createRouteTransaction=function(e){var t=this;if(this._getCurrentHub){var n=this.options,r=n.beforeNavigate,i=n.idleTimeout,o=n.maxTransactionDuration,a="pageload"===e.op?function(){var e,t=(e=document.querySelector("meta[name=sentry-trace]"))?e.getAttribute("content"):null;if(t)return tu.a(t)}():void 0,s=E.a(E.a(E.a({},e),a),{trimEnd:!0}),c="function"==typeof r?r(s):s,u=void 0===c?E.a(E.a({},s),{sampled:!1}):c;!1===u.sampled&&ti.a.log("[Tracing] Will not send "+u.op+" transaction because of beforeNavigate."),ti.a.log("[Tracing] Starting "+u.op+" transaction on scope");var l=this._getCurrentHub(),d=to.b().location,p=ta.b(l,u,i,!0,{location:d});return p.registerBeforeFinishCallback(function(e,n){var r,i;t._metrics.addPerformanceEntries(e),r=tu.e(o),i=n-e.startTimestamp,n&&(i>r||i<0)&&(e.setStatus(tc.a.DeadlineExceeded),e.setTag("maxTransactionDurationExceeded","true"))}),p}ti.a.warn("[Tracing] Did not create "+e.op+" transaction because _getCurrentHub is invalid.")},e.id="BrowserTracing",e}(),tL=function(){function e(t){void 0===t&&(t={}),this.name=e.id,this._router=t.router||t.app,this._methods=(Array.isArray(t.methods)?t.methods:[]).concat("use")}return e.prototype.setupOnce=function(){if(this._router){var e,t;e=this._router,void 0===(t=this._methods)&&(t=[]),t.forEach(function(t){var n;return n=e[t],e[t]=function(){for(var e,r,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return n.call.apply(n,E.f([this],(e=i,r=t,e.map(function(e){return"function"==typeof e?tN(e,r):Array.isArray(e)?e.map(function(e){return"function"==typeof e?tN(e,r):e}):e}))))},e})}else ti.a.error("ExpressIntegration is missing an Express instance")},e.id="Express",e}();function tN(e,t){var n=e.length;switch(n){case 2:return function(n,r){var i=r.__sentry_transaction;if(i){var o=i.startChild({description:e.name,op:"middleware."+t});r.once("finish",function(){o.finish()})}return e.call(this,n,r)};case 3:return function(n,r,i){var o,a=null==(o=r.__sentry_transaction)?void 0:o.startChild({description:e.name,op:"middleware."+t});e.call(this,n,r,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];null!=a&&a.finish(),i.call.apply(i,E.f([this],e))})};case 4:return function(n,r,i,o){var a,s=null==(a=i.__sentry_transaction)?void 0:a.startChild({description:e.name,op:"middleware."+t});e.call(this,n,r,i,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];null!=s&&s.finish(),o.call.apply(o,E.f([this],e))})};default:throw Error("Express middleware takes 2-4 arguments. Got: "+n)}}var tM={};Object.defineProperty(tM,"Express",{get:function(){return tL}}),Object.defineProperty(tM,"Postgres",{get:function(){return tU}}),Object.defineProperty(tM,"Mysql",{get:function(){return tF}}),Object.defineProperty(tM,"Mongo",{get:function(){return tH}});var tj=n(32899),tU=function(){function e(t){void 0===t&&(t={}),this.name=e.id,this._usePgNative=!!t.usePgNative}return e.prototype.setupOnce=function(e,t){var n,r=td.c("pg");if(r)if(!this._usePgNative||(null==(n=r.native)?void 0:n.Client)){var i=(this._usePgNative?r.native:r).Client;tj.b(i.prototype,"query",function(e){return function(n,r,i){var o,a,s=null==(a=null==(o=t().getScope())?void 0:o.getSpan())?void 0:a.startChild({description:"string"==typeof n?n:n.text,op:"db"});if("function"==typeof i)return e.call(this,n,r,function(e,t){null!=s&&s.finish(),i(e,t)});if("function"==typeof r)return e.call(this,n,function(e,t){null!=s&&s.finish(),r(e,t)});var c=void 0!==r?e.call(this,n,r):e.call(this,n);return tf.j(c)?c.then(function(e){return null!=s&&s.finish(),e}):(null==s||s.finish(),c)}})}else ti.a.error("Postgres Integration was unable to access 'pg-native' bindings.");else ti.a.error("Postgres Integration was unable to require `pg` package.")},e.id="Postgres",e}(),tF=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(e,t){var n=td.c("mysql/lib/Connection.js");n?tj.b(n,"createQuery",function(e){return function(n,r,i){var o,a,s=null==(a=null==(o=t().getScope())?void 0:o.getSpan())?void 0:a.startChild({description:"string"==typeof n?n:n.sql,op:"db"});return"function"==typeof i?e.call(this,n,r,function(e,t,n){null!=s&&s.finish(),i(e,t,n)}):"function"==typeof r?e.call(this,n,function(e,t,n){null!=s&&s.finish(),r(e,t,n)}):e.call(this,n,r,i)}}):ti.a.error("Mysql Integration was unable to require `mysql` package.")},e.id="Mysql",e}(),tP=["aggregate","bulkWrite","countDocuments","createIndex","createIndexes","deleteMany","deleteOne","distinct","drop","dropIndex","dropIndexes","estimatedDocumentCount","find","findOne","findOneAndDelete","findOneAndReplace","findOneAndUpdate","indexes","indexExists","indexInformation","initializeOrderedBulkOp","insertMany","insertOne","isCapped","mapReduce","options","parallelCollectionScan","rename","replaceOne","stats","updateMany","updateOne"],tB={bulkWrite:["operations"],countDocuments:["query"],createIndex:["fieldOrSpec"],createIndexes:["indexSpecs"],deleteMany:["filter"],deleteOne:["filter"],distinct:["key","query"],dropIndex:["indexName"],find:["query"],findOne:["query"],findOneAndDelete:["filter"],findOneAndReplace:["filter","replacement"],findOneAndUpdate:["filter","update"],indexExists:["indexes"],insertMany:["docs"],insertOne:["doc"],mapReduce:["map","reduce"],rename:["newName"],replaceOne:["filter","doc"],updateMany:["filter","update"],updateOne:["filter","update"]},tH=function(){function e(t){void 0===t&&(t={}),this.name=e.id,this._operations=Array.isArray(t.operations)?t.operations:tP,this._describeOperations=!("describeOperations"in t)||t.describeOperations,this._useMongoose=!!t.useMongoose}return e.prototype.setupOnce=function(e,t){var n=this._useMongoose?"mongoose":"mongodb",r=td.c(n);r?this._instrumentOperations(r.Collection,this._operations,t):ti.a.error("Mongo Integration was unable to require `"+n+"` package.")},e.prototype._instrumentOperations=function(e,t,n){var r=this;t.forEach(function(t){return r._patchOperation(e,t,n)})},e.prototype._patchOperation=function(e,t,n){if(t in e.prototype){var r=this._getSpanContextFromOperationArguments.bind(this);tj.b(e.prototype,t,function(e){return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var a=i[i.length-1],s=n().getScope(),c=null==s?void 0:s.getSpan();if("function"!=typeof a||"mapReduce"===t&&2===i.length){var u=null==c?void 0:c.startChild(r(this,t,i)),l=e.call.apply(e,E.f([this],i));return tf.j(l)?l.then(function(e){return null!=u&&u.finish(),e}):(null==u||u.finish(),l)}var d=null==c?void 0:c.startChild(r(this,t,i.slice(0,-1)));return e.call.apply(e,E.f([this],i.slice(0,-1),[function(e,t){null!=d&&d.finish(),a(e,t)}]))}})}},e.prototype._getSpanContextFromOperationArguments=function(e,t,n){var r={collectionName:e.collectionName,dbName:e.dbName,namespace:e.namespace},i={op:"db",description:t,data:r},o=tB[t],a=Array.isArray(this._describeOperations)?this._describeOperations.includes(t):this._describeOperations;if(!o||!a)return i;try{if("mapReduce"===t){var s=E.d(n,2),c=s[0],u=s[1];r[o[0]]="string"==typeof c?c:c.name||"<anonymous>",r[o[1]]="string"==typeof u?u:u.name||"<anonymous>"}else for(var l=0;l<o.length;l++)r[o[l]]=JSON.stringify(n[l])}catch(e){}return i},e.id="Mongo",e}(),tV=E.a(E.a({},tM),{BrowserTracing:tC});ta.a();var tG=n(41005),tW=n(67240);function tq(e,t){e1({id:e,name:t})}function tz(){e1(null)}try{(l={release:tG.a,dsn:"https://7c6478536deb43e98fe63267ae5c8c7d@sentry.codemao.cn/73",integrations:[new tV.BrowserTracing],environment:tW.b(),tracesSampleRate:1})._metadata=l._metadata||{},l._metadata.sdk=l._metadata.sdk||{name:"sentry.javascript.react",packages:[{name:"npm:@sentry/react",version:"6.12.0"}],version:"6.12.0"},function(e){if(void 0===e&&(e={}),void 0===e.defaultIntegrations&&(e.defaultIntegrations=tr),void 0===e.release){var t,n,r,i,o=N.e();o.SENTRY_RELEASE&&o.SENTRY_RELEASE.id&&(e.release=o.SENTRY_RELEASE.id)}void 0===e.autoSessionTracking&&(e.autoSessionTracking=!0),!0===(t=e).debug&&H.enable(),null!=(n=(r=ei()).getScope())&&n.update(t.initialScope),i=new e5(t),r.bindClient(i),e.autoSessionTracking&&function(){if(void 0===N.e().document)return H.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");var e=ei();"function"==typeof e.startSession&&"function"==typeof e.captureSession&&(e.startSession({ignoreDuration:!0}),e.captureSession(),ev({callback:function(t){var n=t.from,r=t.to;void 0!==n&&n!==r&&(e.startSession({ignoreDuration:!0}),e.captureSession())},type:"history"}))}()}(l)}catch(e){console.error(e)}},80538(e,t,n){"use strict";n.d(t,{a:()=>i});var r=n(72239);function i(e,t){var n=r.a({},e);return Array.isArray(t)&&t.forEach(function(e){delete n[e]}),n}},35685(e,t,n){"use strict";n.d(t,{E:()=>r.An});var r=n(43234)},11680(e,t,n){"use strict";n.d(t,{_e:()=>R,ce:()=>g,de:()=>E,fe:()=>O,ge:()=>T,le:()=>y,me:()=>S,ne:()=>p,se:()=>m,ve:()=>k});var r=n(7452),i=n.n(r),o=n(28413),a=n(34221),s=n(92986),c=n(75083),u=n(59994),l=n(29504),d=n(451);function p(e){var t,n=u.a.getDoc(),r=null==n?void 0:n.screens;if(r){var i=Object.entries(r).find(function(t){var n=d.a(t,2);return n[0],n[1].widgets[e]});t=null==i?void 0:i[1].id}return t||console.error("can't find screen of including widget"),t||""}function f(e,t){var n,r=null==(n=u.a.getDoc())?void 0:n.screens[e].widgetIds,i=0;r&&(i=r.findIndex(function(e){return e===t}))<0&&(i=r.length);for(var o=arguments.length,a=Array(o>2?o-2:0),s=2;s<o;s++)a[s-2]=arguments[s];return["screens",e,"widgetIds",i].concat(a)}function h(e,t){var n,r=null==(n=u.a.getDoc())?void 0:n.screens[e].invisibleWidgetIds,i=0;r&&(i=r.findIndex(function(e){return e===t}))<0&&(i=r.length);for(var o=arguments.length,a=Array(o>2?o-2:0),s=2;s<o;s++)a[s-2]=arguments[s];return["screens",e,"invisibleWidgetIds",i].concat(a)}function _(e,t){return["screens",e,"widgetIds",t]}function v(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return["screens",e,"widgets",t].concat(r)}function m(e){return"widgets"===e[2]}function g(e){return 4===e.length&&m(e)}function y(e,t){return b.apply(this,arguments)}function b(){return(b=a.a(i().mark(function e(t,n){var r,o;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=c.insertOp(v(t,n.id),n),o=c.insertOp(f(t,n.id),n.id),u.a.applyClient(c.type.compose(o,r));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function E(e,t){return w.apply(this,arguments)}function w(){return(w=a.a(i().mark(function e(t,n){var r,o;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=c.insertOp(v(t,n.id),n),o=c.insertOp(h(t,n.id),n.id),u.a.applyClient(c.type.compose(o,r));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function O(e,t,n,r){return x.apply(this,arguments)}function x(){return(x=a.a(i().mark(function e(t,n,r,o){var a,s,d;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=c.insertOp(v(t,n.id),n),s=c.insertOp(f(t,n.id),n.id),d=c.replaceOp(v(t,r,"widgetIds"),!0,o),u.a.applyClient(l.a(s,a,d));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function S(e,t){var n=c.removeOp(f(e,t)),r=c.removeOp(v(e,t));u.a.applyClient(c.type.compose(n,r))}function T(e,t){var n=c.removeOp(h(e,t)),r=c.removeOp(v(e,t));u.a.applyClient(c.type.compose(n,r))}function R(e,t,n,r){var i,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],l=u.a.getDoc();if(["size","position","visible","title","widgetIds"].includes(n)&&a){var d=v(e,t,n);i=0===(l?s.a({path:["$"].concat(o.a(d)),json:l}):[]).length?c.insertOp(d,r):c.replaceOp(d,!0,r)}else{var p=v(e,t,"attributes",n);i=0===(l?s.a({path:["$"].concat(o.a(p)),json:l}):[]).length?c.insertOp(p,r):c.replaceOp(p,!0,r)}u.a.applyClient(i)}function k(e,t,n){var r=c.moveOp(o.a(_(e,t)),o.a(_(e,n)));u.a.applyClient(r)}},10097(e,t,n){"use strict";n.d(t,{Ae:()=>m,Ne:()=>b,Re:()=>E,Se:()=>v,je:()=>y});var r=n(11680),i=n(59994),o=n(75083),a=n(34221),s=n(7452),c=n.n(s),u=n(51877),l=n(32919),d=n(71691),p=n(16699),f=n(26816),h=n(5762),_=n(2980);function v(e){var t,n,i;(0,r.ce)(e.path)&&(n=(t=e.path)[3],i=t[1],n&&i&&p.h(u.Mf(n,i,!1)))}function m(e){var t,n,o,a,s,c,l,d,f,h,_,v,m,y,b,E,w,O,x,S,T,R,k;(0,r.ce)(e.path)&&function(e){g.apply(this,arguments)}(e),"screens"===(t=e.path)[0]&&"widgetIds"===t[2]&&(o=e.path[1],(a=null==(n=i.a.getDoc())?void 0:n.screens[o].widgetIds)&&p.h(u.Bj(o,a))),"screens"===(s=e.path)[0]&&"invisibleWidgetIds"===s[2]&&(c=e.path,l=e.op,d=c[1],f=l.i,p.h(u.jf(d,f,!0))),6===(h=e.path).length&&(0,r.se)(h)&&"attributes"===h[4]&&(_=e.op,v=e.path,m=_.i,y=v[3],b=v[5],E=(0,r.ne)(y),p.h(u.Lg(y,b,m,p.g(E),p.g(E),!1))),5===(w=e.path).length&&(0,r.se)(w)&&(O=e.op,x=e.path,S=O.i,T=x[3],R=x[4],k=(0,r.ne)(T),"title"===R?p.h(u.Ng(T,S,!1,!0,!1)):"widgetIds"===R?p.h(u.Mg(k,T,S,!0,!0,!1)):p.h(u.Lg(T,R,S,p.g(k),p.g(k),!1)))}function g(){return(g=a.a(c().mark(function e(t){var n,r,o,a,s,v,m,g,y,b,E,w,O,x;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.path,o=t.op.i,!f.e(o.type)||l.Db(o.type)||!(v=null==(a=i.a.getDoc())||null==(s=a.extensionWidgetList)?void 0:s.find(function(e){return e.type===o.type}))){e.next=11;break}return m=v.cdnUrl,g=v.id,d.a(u.zh({title:h.c(h.b,"ExtensionWidget.loading").toString(),cancelBtnVisible:!1,confirmBtnVisible:!1})),e.next=9,_.u(m,g);case 9:(y=e.sent)&&(b=y.title,E=y.type,w=f.f(E,!0),d.a(u.Vg()),d.a(u.zh({title:h.c(h.b,"ExtensionWidget.finishRegistration",{title:b,type:w}).toString(),cancelBtnVisible:!1})));case 11:O=r[1],l.Ub(o.id,o),(x=null==(n=i.a.getDoc())?void 0:n.screens[O].widgetIds)&&p.h(u.Bj(O,x));case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}function y(e,t){var n=o.replaceOp([e],!0,t);i.a.applyClient(n)}function b(e){}function E(e,t){var n,r;1===(n=e.path).length&&"title"===n[0]&&(r=e.op.i,p.h(u.Bf(r,!1)))}},67786(e,t,n){"use strict";n.d(t,{Be:()=>_,Fe:()=>v,Ge:()=>m,Le:()=>f,Me:()=>p,Pe:()=>h});var r=n(16699),i=n(32919),o=n(51877),a=n(451),s=n(59994),c=n(75083),u=n(28413);n(35396);var l=n(43721);function d(e){return 2===e.length&&"screens"===e[0]}function p(e,t){e=l.g(e);var n=c.insertOp(["screens",e.id],e),r=c.insertOp(["screenIds",t],e.id),i=c.type.compose(n,r);s.a.applyClient(i)}function f(e,t){var n,r=c.removeOp(["screens",t]),i=c.removeOp(["screenIds",e]),o=c.type.compose(r,i);(null==(n=s.a.getDoc())?void 0:n.blockly[t])&&(o=c.type.compose(o,c.removeOp(["blockly",t]))),s.a.applyClient(o)}function h(e,t){var n=c.moveOp(["screenIds",e],["screenIds",t]);s.a.applyClient(n)}function _(e,t,n){var r=c.replaceOp(["screens",e,t],!0,n);s.a.applyClient(r)}function v(e){var t;d(e.path)&&(t=e.path[1],r.h(o.ng(t,!1)))}function m(e,t){var n,c,p,f,h,_,v,m,g,y,b,E,w;d(e.path)&&(Object.entries((p=e.op.i).widgets).forEach(function(e){var t=a.a(e,2);t[0];var n=t[1];i.Ub(n.id,n)}),f=l.d(p),r.h(o.if(f)),(h=null==(c=s.a.getDoc())?void 0:c.screenIds)&&r.h(o.xg(u.a(h)))),2===(n=e.path).length&&"screenIds"===n[0]&&(v=null==(_=s.a.getDoc())?void 0:_.screenIds)&&r.h(o.xg(u.a(v))),3===(m=e.path).length&&"screens"===m[0]&&(g=e.path,y=e.op,b=g[1],E=g[2],w=y.i,r.h(o.Jg(b,E,w,!1)))}},16651(e,t,n){"use strict";n.d(t,{$e:()=>O,Je:()=>w,Qe:()=>b,Ue:()=>p,Ve:()=>h,Xe:()=>y,Ye:()=>v,et:()=>x,qe:()=>g,ze:()=>_});var r=n(16699),i=n(32919),o=n(51877),a=n(59994),s=n(75083),c=n(34221),u=n(7452),l=n.n(u),d=n(22224);function p(e){return f.apply(this,arguments)}function f(){return(f=c.a(l().mark(function e(t){var n,r,i,o;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(r=d.cloneDeep(t)).source="",i=null==(n=a.a.getDoc())?void 0:n.imageFileList,o=s.insertOp(["imageFileList",(null==i?void 0:i.length)||0],r),a.a.applyClient(o);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function h(e){var t,n=null==(t=a.a.getDoc())?void 0:t.imageFileList,r=null==n?void 0:n.findIndex(function(t){return t.id===e});if(void 0!==r&&r>-1){var i=s.removeOp(["imageFileList",r]);a.a.applyClient(i)}}function _(e,t){var n,r=null==(n=a.a.getDoc())?void 0:n.imageFileList;if(r){var i=r.findIndex(function(t){return t.id===e});if(i>-1){var o=s.replaceOp(["imageFileList",i,"id"],!0,t);a.a.applyClient(o)}}}function v(e,t){var n,r=null==(n=a.a.getDoc())?void 0:n.imageFileList;if(r){var i=r.findIndex(function(t){return t.id===e}),o=s.replaceOp(["imageFileList",i,"cdnUrl"],!0,t);a.a.applyClient(o)}}function m(e){return 2===e.length&&"imageFileList"===e[0]}function g(e){var t,n,i;m(e.path)&&(n=e.path,(i=null==(t=a.a.getPreviousDoc())?void 0:t.imageFileList[n[1]])&&r.h(o.Jf(i.id,!1)))}function y(e){var t,n,s,c,u,l,d,p,f,h,_,v;m(e.path)&&(n=e.op,s=e.path,c=n.i,u=s[1],i.Tb(c,u),r.h(o.Zj()),r.h(o.Uj()),r.h(o.Qj())),3===(t=e.path).length&&"imageFileList"===t[0]&&(d=e.path,p=e.op,f=d[1],h=d[2],_=p.i,(v=null==(l=a.a.getPreviousDoc())?void 0:l.imageFileList[f])&&("id"===h&&r.h(o.zf(_,v.id,!1)),"cdnUrl"===h&&i.bc(v.id,_),r.h(o.Zj()),r.h(o.Uj()),r.h(o.Qj())))}function b(e){return E.apply(this,arguments)}function E(){return(E=c.a(l().mark(function e(t){var n,r,i;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=(null==(r=null==(n=a.a.getDoc())?void 0:n.soundFileList)?void 0:r.length)||0,t.forEach(function(e,t){var n=d.cloneDeep(e);n.source="";var r=s.insertOp(["soundFileList",i+t],n);a.a.applyClient(r)});case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function w(e){var t,n=null==(t=a.a.getDoc())?void 0:t.soundFileList,r=null==n?void 0:n.findIndex(function(t){return t.id===e});if(void 0!==r&&r>-1){var i=s.removeOp(["soundFileList",r]);a.a.applyClient(i)}}function O(e,t){var n,r=null==(n=a.a.getDoc())?void 0:n.soundFileList;if(r){var i=r.findIndex(function(t){return t.id===e});if(i>-1){var o=s.replaceOp(["soundFileList",i,"name"],!0,t);a.a.applyClient(o)}}}function x(e,t){var n,r=null==(n=a.a.getDoc())?void 0:n.soundFileList;if(r){var i=r.findIndex(function(t){return t.id===e}),o=s.replaceOp(["soundFileList",i,"cdnUrl"],!0,t);a.a.applyClient(o)}}},28556(e,t,n){"use strict";n.d(t,{ft:()=>O,it:()=>_,lt:()=>y,ot:()=>h,pt:()=>w,rt:()=>f,st:()=>m,ut:()=>b});var r=n(22224),i=n(16699),o=n(51877),a=n(59994),s=n(75083),c=n(34221),u=n(7452),l=n.n(u),d=n(50862);function p(e){return 2===e.length&&"soundFileList"===e[0]}function f(e){var t,n,r,s;p(e.path)&&(r=e.path,(s=null==(t=a.a.getPreviousDoc())||null==(n=t.soundFileList)?void 0:n[r[1]])&&i.h(o.og(s.id,!1)))}function h(e){var t,n,r,s,c;p(e.path)&&(n=e.op,r=e.path,s=n.i,c=r[1],i.h(o.kf([s],c)),i.h(o.Zj()),i.h(o.Uj()),i.h(o.Qj())),3===(t=e.path).length&&"soundFileList"===t[0]&&function(e){var t,n,r=e.path,s=e.op,c=r[1],u=r[2],l=s.i,p=null==(t=a.a.getPreviousDoc())||null==(n=t.soundFileList)?void 0:n[c];if(p){if("cdnUrl"===u&&i.h(o.Rg(p.id,l)),"name"===u){var f=p.name;i.h(o.Ph(p.id,l)),d.z.replaceTextValue("audio_sound_file_list_dropdown","SOUND_FILE_ID",f,l)}i.h(o.Uj()),i.h(o.Qj())}}(e)}function _(e){return v.apply(this,arguments)}function v(){return(v=c.a(l().mark(function e(t){var n,i,o;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=(null==(i=null==(n=a.a.getDoc())?void 0:n.iconFileList)?void 0:i.length)||0,t.forEach(function(e,t){var n=r.cloneDeep(e);n.source="";var i=s.insertOp(["iconFileList",o+t],n);a.a.applyClient(i)});case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function m(e){return g.apply(this,arguments)}function g(){return(g=c.a(l().mark(function e(t){var n,r,i,o;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:void 0!==(i=null==(r=null==(n=a.a.getDoc())?void 0:n.iconFileList)?void 0:r.findIndex(function(e){return e.id===t}))&&i>-1&&(o=s.removeOp(["iconFileList",i]),a.a.applyClient(o));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function y(e,t){var n,r=null==(n=a.a.getDoc())?void 0:n.iconFileList;if(r){var i=r.findIndex(function(t){return t.id===e});if(i>-1){var o=s.replaceOp(["iconFileList",i,"name"],!0,t);a.a.applyClient(o)}}}function b(e,t){var n,r=null==(n=a.a.getDoc())?void 0:n.iconFileList;if(r){var i=r.findIndex(function(t){return t.id===e}),o=s.replaceOp(["iconFileList",i,"cdnUrl"],!0,t);a.a.applyClient(o)}}function E(e){return 2===e.length&&"iconFileList"===e[0]}function w(e){var t,n,r,s;E(e.path)&&(r=e.path,(s=null==(t=a.a.getPreviousDoc())||null==(n=t.iconFileList)?void 0:n[r[1]])&&i.h(o.mg(s.id,!1)))}function O(e){var t,n,r,s,c,u,l,d,p,f,h,_,v;E(e.path)&&(n=e.op,r=e.path,s=n.i,c=r[1],i.h(o.df([s],c)),i.h(o.Zj()),i.h(o.Uj()),i.h(o.Qj())),3===(t=e.path).length&&"iconFileList"===t[0]&&(d=e.path,p=e.op,f=d[1],h=d[2],_=p.i,(v=null==(u=a.a.getPreviousDoc())||null==(l=u.iconFileList)?void 0:l[f])&&("cdnUrl"===h&&i.h(o.Pg(v.id,_)),"name"===h&&i.h(o.Oh(v.id,_)),i.h(o.Uj()),i.h(o.Qj())))}},14605(e,t,n){"use strict";n.d(t,{At:()=>x,Bt:()=>M,Et:()=>g,Gt:()=>j,Ht:()=>P,It:()=>S,Lt:()=>L,Mt:()=>C,Nt:()=>R,Ot:()=>y,Pt:()=>N,Tt:()=>w,Ut:()=>F,_t:()=>h,bt:()=>v,jt:()=>T,xt:()=>I,yt:()=>m});var r=n(16699),i=n(71691),o=n(51877),a=n(59994),s=n(75083),c=n(34221),u=n(7452),l=n.n(u),d=n(88963);function p(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return["screens",e,"primitiveVariables",t].concat(r)}function f(e){return 4===e.length&&"primitiveVariables"===e[2]||2===e.length&&"globalVariableList"===e[0]}function h(e,t,n,r,i,o){return _.apply(this,arguments)}function _(){return(_=c.a(l().mark(function e(t,n,r,i,o,c){var u,f,h;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:u={id:r,name:i,defaultValue:o,value:o},t===d.i.GLOBAL?(f=s.insertOp(["globalVariableList",c],u),a.a.applyClient(f)):(h=s.insertOp(p(n,c),u),a.a.applyClient(h));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function v(e,t,n){if(e===d.i.GLOBAL){var r,i=null==(r=a.a.getDoc())?void 0:r.globalVariableList.findIndex(function(e){return e.id===n});if(void 0!==i){var o=s.removeOp(["globalVariableList",i]);a.a.applyClient(o)}else console.error("can't find index of globalVariableList")}else{var c,u=null==(c=a.a.getDoc())?void 0:c.screens[t].primitiveVariables.findIndex(function(e){return e.id===n});if(void 0!==u){var l=s.removeOp(p(t,u));a.a.applyClient(l)}else console.error("can't find index of primitiveVariable")}}function m(e,t,n,r,i){if(e===d.i.GLOBAL){var o,c=null==(o=a.a.getDoc())?void 0:o.globalVariableList.findIndex(function(e){return e.id===n});if(void 0!==c){var u=s.replaceOp(["globalVariableList",c,r],!0,i);a.a.applyClient(u)}}else{var l,f=null==(l=a.a.getDoc())?void 0:l.screens[t].primitiveVariables.findIndex(function(e){return e.id===n});if(void 0!==f){var h=s.replaceOp(p(t,f,r),!0,i);a.a.applyClient(h)}}}function g(e){f(e.path)&&function(e){var t=e.path;if("globalVariableList"===t[0]){var n,i,s=t[1],c=null==(i=a.a.getPreviousDoc())?void 0:i.globalVariableList[s],u=null==c?void 0:c.id;return u&&r.h(o.Lf(d.i.GLOBAL,u,"",!1))}var l=t[1],p=t[3],f=null==(n=a.a.getPreviousDoc())?void 0:n.screens[l].primitiveVariables[p],h=null==f?void 0:f.id;h&&r.h(o.Lf(d.i.SCREEN,h,l,!1))}(e)}function y(e){var t;f(e.path)&&function(e){var t=e.path,n=e.op.i,i=n.id,a=n.name,s=n.defaultValue;if("globalVariableList"===t[0]){var c=t[1];return r.h(o.uf(d.i.GLOBAL,i,a,s,"",c,void 0,!1))}var u=t[3],l=t[1];r.h(o.uf(d.i.SCREEN,i,a,s,l,u,void 0,!1))}(e),(5===(t=e.path).length&&"primitiveVariables"===t[2]||3===t.length&&"globalVariableList"===t[0])&&function(e){var t=e.path,n=e.op;if("globalVariableList"===t[0]){var i,s,c=t[1],u=n.i,l=t[2],p=null==(s=a.a.getPreviousDoc())?void 0:s.globalVariableList[c],f=null==p?void 0:p.id;return f&&r.h(o.Hg(d.i.GLOBAL,f,l,u,"",!1))}var h=t[1],_=t[3],v=n.i,m=t[4],g=null==(i=a.a.getPreviousDoc())?void 0:i.screens[h].primitiveVariables[_],y=null==g?void 0:g.id;y&&r.h(o.Hg(d.i.SCREEN,y,m,v,h,!1))}(e)}function b(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return["screens",e,"arrayVariables",t].concat(r)}function E(e){return 4===e.length&&"arrayVariables"===e[2]||2===e.length&&"globalArrayList"===e[0]}function w(e,t,n,r,i,o){return O.apply(this,arguments)}function O(){return(O=c.a(l().mark(function e(t,n,r,i,o,c){var u,p,f;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:u={id:r,name:i,defaultValue:o,value:o},t===d.i.GLOBAL?(p=s.insertOp(["globalArrayList",c],u),a.a.applyClient(p)):(f=s.insertOp(b(n,c),u),a.a.applyClient(f));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function x(e,t,n){if(e===d.i.GLOBAL){var r,i=null==(r=a.a.getDoc())?void 0:r.globalArrayList.findIndex(function(e){return e.id===n});if(void 0!==i){var o=s.removeOp(["globalArrayList",i]);a.a.applyClient(o)}else console.error("can't find index of arrayVariable")}else{var c,u=null==(c=a.a.getDoc())?void 0:c.screens[t].arrayVariables.findIndex(function(e){return e.id===n});if(void 0!==u){var l=s.removeOp(b(t,u));a.a.applyClient(l)}else console.error("can't find index of arrayVariable")}}function S(e,t,n,r,i){if(e===d.i.GLOBAL){var o,c=null==(o=a.a.getDoc())?void 0:o.globalArrayList.findIndex(function(e){return e.id===n});if(void 0!==c){var u=s.replaceOp(["globalArrayList",c,r],!0,i);a.a.applyClient(u)}}else{var l,p=null==(l=a.a.getDoc())?void 0:l.screens[t].arrayVariables.findIndex(function(e){return e.id===n});if(void 0!==p){var f=s.replaceOp(b(t,p,r),!0,i);a.a.applyClient(f)}}}function T(e){E(e.path)&&function(e){var t=e.path;if("globalArrayList"===t[0]){var n,i,s=t[1],c=null==(i=a.a.getPreviousDoc())?void 0:i.globalArrayList[s],u=null==c?void 0:c.id;return u&&r.h(o.If(d.i.GLOBAL,u,"",!1))}var l=t[1],p=t[3],f=null==(n=a.a.getPreviousDoc())?void 0:n.screens[l].arrayVariables[p],h=null==f?void 0:f.id;h&&r.h(o.If(d.i.SCREEN,h,l,!1))}(e)}function R(e){var t;E(e.path)&&function(e){var t=e.path,n=e.op.i,i=n.id,a=n.name,s=n.defaultValue;if("globalArrayList"===t[0]){var c=t[1];return r.h(o.of(d.i.GLOBAL,i,a,s,"",c,void 0,!1))}var u=t[3],l=t[1];r.h(o.of(d.i.SCREEN,i,a,s,l,u,void 0,!1))}(e),(5===(t=e.path).length&&"arrayVariables"===t[2]||3===t.length&&"globalArrayList"===t[0])&&function(e){var t=e.path,n=e.op;if("globalArrayList"===t[0]){var i,s,c=t[1],u=n.i,l=t[2],p=null==(s=a.a.getPreviousDoc())?void 0:s.globalArrayList[c],f=null==p?void 0:p.id;return f&&r.h(o.yg(d.i.GLOBAL,f,l,u,"",!1))}var h=t[1],_=t[3],v=n.i,m=t[4],g=null==(i=a.a.getPreviousDoc())?void 0:i.screens[h].arrayVariables[_],y=null==g?void 0:g.id;y&&r.h(o.yg(d.i.SCREEN,y,m,v,h,!1))}(e)}function k(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return["screens",e,"objectVariables",t].concat(r)}function A(e){return 4===e.length&&"objectVariables"===e[2]||2===e.length&&"globalObjectList"===e[0]}function I(e,t,n,r,i,o){return D.apply(this,arguments)}function D(){return(D=c.a(l().mark(function e(t,n,r,i,o,c){var u,p,f;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:u={id:r,name:i,defaultValue:o,value:o},t===d.i.GLOBAL?(p=s.insertOp(["globalObjectList",c],u),a.a.applyClient(p)):(f=s.insertOp(k(n,c),u),a.a.applyClient(f));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function C(e,t,n){if(e===d.i.GLOBAL){var r,i=null==(r=a.a.getDoc())?void 0:r.globalObjectList.findIndex(function(e){return e.id===n});if(void 0!==i){var o=s.removeOp(["globalObjectList",i]);a.a.applyClient(o)}else console.error("can't find index of objectVariable")}else{var c,u=null==(c=a.a.getDoc())?void 0:c.screens[t].objectVariables.findIndex(function(e){return e.id===n});if(void 0!==u){var l=s.removeOp(k(t,u));a.a.applyClient(l)}else console.error("can't find index of objectVariable")}}function L(e,t,n,r,i){if(e===d.i.GLOBAL){var o,c=null==(o=a.a.getDoc())?void 0:o.globalObjectList.findIndex(function(e){return e.id===n});if(void 0!==c){var u=s.replaceOp(["globalObjectList",c,r],!0,i);a.a.applyClient(u)}}else{var l,p=null==(l=a.a.getDoc())?void 0:l.screens[t].objectVariables.findIndex(function(e){return e.id===n});if(void 0!==p){var f=s.replaceOp(k(t,p,r),!0,i);a.a.applyClient(f)}}}function N(e){A(e.path)&&function(e){var t=e.path;if("globalObjectList"===t[0]){var n,r,s=t[1],c=null==(r=a.a.getPreviousDoc())?void 0:r.globalObjectList[s],u=null==c?void 0:c.id;return u&&i.a(o.Kf(d.i.GLOBAL,u,"",!1))}var l=t[1],p=t[3],f=null==(n=a.a.getPreviousDoc())?void 0:n.screens[l].objectVariables[p],h=null==f?void 0:f.id;h&&i.a(o.Kf(d.i.SCREEN,h,l,!1))}(e)}function M(e){var t;A(e.path)&&function(e){var t=e.path,n=e.op.i,r=n.id,a=n.name,s=n.defaultValue;if("globalObjectList"===t[0]){var c=t[1];return i.a(o.tf({scopeType:d.i.GLOBAL,id:r,name:a,defaultValue:s,screenId:"",index:c,isEmitOT:!1}))}var u=t[3],l=t[1];i.a(o.tf({scopeType:d.i.SCREEN,id:r,name:a,defaultValue:s,screenId:l,index:u,isEmitOT:!1}))}(e),(5===(t=e.path).length&&"objectVariables"===t[2]||3===t.length&&"globalObjectList"===t[0])&&function(e){var t=e.path,n=e.op;if("globalObjectList"===t[0]){var r,s,c=t[1],u=n.i,l=t[2],p=null==(s=a.a.getPreviousDoc())?void 0:s.globalObjectList[c],f=null==p?void 0:p.id;return f&&i.a(o.Gg({scopeType:d.i.GLOBAL,id:f,key:l,value:u,screenId:"",isEmitOT:!1}))}var h=t[1],_=t[3],v=n.i,m=t[4],g=null==(r=a.a.getPreviousDoc())?void 0:r.screens[h].objectVariables[_],y=null==g?void 0:g.id;y&&i.a(o.Gg({scopeType:d.i.SCREEN,id:y,key:m,value:v,screenId:h,isEmitOT:!1}))}(e)}function j(e,t,n){return U.apply(this,arguments)}function U(){return(U=c.a(l().mark(function e(t,n,r){var i;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=s.insertOp(function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return["screens",e,"broadcasts",t].concat(r)}(t,r),n),a.a.applyClient(i);case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function F(e){}function P(e){var t,n,i,a,s;4===(t=e.path).length&&"broadcasts"===t[2]&&(n=e.path,i=e.op.i,a=n[3],s=n[1],r.h(o.pf(i,s,a,void 0,!1)))}},75158(e,t,n){"use strict";n.d(t,{Kt:()=>f,Qt:()=>v,Vt:()=>a,Xt:()=>_,zt:()=>o});var r,i,o,a,s=n(88963),c=n(16699),u=n(59994),l=n(94082),d=n(99085),p=n(28950);function f(e,t){var n,r=c.e(),i=c.a()||"";t||(e=s.k,t="");var o={userId:r,path:{id:t,screenId:i,type:e}};null!=(n=u.a.client)&&n.emitCustomEvent({type:a.USER_FOCUS,data:o}),h.runIntervalTask(o)}(r=a||(a={})).USER_FOCUS="USER_FOCUS",r.CLOUD_DATABASE="CLOUD_DATABASE",r.USER_COLORS="USER_COLORS",(i=o||(o={})).CHANGE_NAME="CHANGE_NAME",i.ADD_DOC="ADD_DOC",i.INITIAL="INITIAL",i.REPLACE_DATA="REPLACE_DATA";var h=new(function(){function e(){d.a(this,e),this.intervalTime=1e4,this.currentUserFocusInfo=void 0,this.timeId=void 0,this.currentUserFocusInfo={userId:-1,path:{screenId:"",id:"",type:""}}}return l.a(e,[{key:"runIntervalTask",value:function(e){var t=this;this.currentUserFocusInfo=p.a({},e),this.timeId&&clearInterval(this.timeId),this.timeId=setInterval(function(){var e;t.currentUserFocusInfo.path.type!==s.k&&null!=(e=u.a.client)&&e.emitCustomEvent({type:a.USER_FOCUS,data:t.currentUserFocusInfo})},this.intervalTime)}}]),e}());function _(e){var t;null!=(t=u.a.client)&&t.emitCustomEvent({type:a.USER_COLORS,data:e})}function v(e,t,n,r){var i;null!=(i=u.a.client)&&i.emitCustomEvent({type:a.CLOUD_DATABASE,data:{type:e,id:t,name:n,fields:r}})}},55831(e,t,n){"use strict";n.d(t,{Jt:()=>h,an:()=>E,nn:()=>g,rn:()=>y,sn:()=>w,tn:()=>m});var r=n(75158),i=n(16699),o=n(51877),a=n(59994),s=n(75083),c=n(92986),u=n(34221),l=n(28413),d=n(7452),p=n.n(d),f=n(27071);function h(e){if(e.type===r.Vt.USER_COLORS)i.h(f.t(e.data));else if(e.type===r.Vt.USER_FOCUS)i.h(f.m(e.data));else{var t,n,a,s;e.type===r.Vt.CLOUD_DATABASE&&(n=(t=e.data).type,a=t.id,s=t.name,n===r.zt.ADD_DOC&&a&&s&&i.h(o.af(a,s)),r.zt.INITIAL)}}function _(e){var t,n=null==(t=a.a.getDoc())?void 0:t.globalWidgetIds,r=0;return n&&(r=n.findIndex(function(t){return t===e}))<0&&(r=n.length),["globalWidgetIds",r]}function v(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return["globalWidgets",e].concat(n)}function m(e){return"globalWidgets"===e[0]}function g(e){return 2===e.length&&m(e)}function y(e){return b.apply(this,arguments)}function b(){return(b=u.a(p().mark(function e(t){var n,r;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=s.insertOp(v(t.id),t),r=s.insertOp(_(t.id),t.id),a.a.applyClient(s.type.compose(r,n));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function E(e){var t=s.removeOp(_(e)),n=s.removeOp(v(e));a.a.applyClient(s.type.compose(t,n))}function w(e,t,n){var r,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=a.a.getDoc();if(["size","position","visible","title","widgetIds"].includes(t)&&i){var u=v(e,t);r=0===(o?c.a({path:["$"].concat(l.a(u)),json:o}):[]).length?s.insertOp(u,n):s.replaceOp(u,!0,n)}else{var d=v(e,"attributes",t);r=0===(o?c.a({path:["$"].concat(l.a(d)),json:o}):[]).length?s.insertOp(d,n):s.replaceOp(d,!0,n)}a.a.applyClient(r)}},67980(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},1686(e,t,n){"use strict";var r=n(67980);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},28536(e,t,n){e.exports=n(1686)()},67511(e){e.exports={hide:"style_hide__EDL81","coco-widget-wrapper":"style_coco-widget-wrapper__3jL6Q","coco-child-widget":"style_coco-child-widget__17YQW","coco-child-widget-selected":"style_coco-child-widget-selected__1POQi","coco-child-widget-full":"style_coco-child-widget-full__2-84w",imageWidget:"style_imageWidget__y1BJc"}},64371(e,t,n){"use strict";n.d(t,{a:()=>o,b:()=>i});var r=n(41594),i=(0,r.createContext)(void 0),o=function(e){var t=e.children,n=e.size;return(0,r.createElement)(i.Consumer,null,function(e){return(0,r.createElement)(i.Provider,{value:n||e},t)})}},9516(e,t,n){"use strict";n.d(t,{a:()=>s});var r=n(52484),i=n(46435),o=n(3670),a=n(55937);function s(e){return r.a(e)||i.a(e)||o.a(e)||a.a()}},75195(e,t,n){"use strict";n.d(t,{x:()=>i,j:()=>v._,u:()=>o,g:()=>m.b,r:()=>m.q,d:()=>v.O,C:()=>f,o:()=>m.l,z:()=>d,a:()=>r,l:()=>m.f,w:()=>_,i:()=>v.v,t:()=>p,E:()=>s,f:()=>v.b,q:()=>m.o,c:()=>v.w,B:()=>l,n:()=>m.i,y:()=>c,k:()=>v.y,v:()=>h,h:()=>m.d,s:()=>m.t,D:()=>a,e:()=>v.C,p:()=>m.n,b:()=>v.E,A:()=>u,m:()=>m.g});var r=[{id:"sans-serif",name:"默认字体",cdnUrl:"",image:"https://kn-cdn.codemao.cn/painter/img/mrht.png"},{id:"zhanKuKuaiLeTi",name:"站酷快乐体",cdnUrl:"https://kn-cdn.codemao.cn/painter/fonts/zkklt.woff",image:"https://kn-cdn.codemao.cn/painter/img/zkklt.png"},{id:"zhanKuWenYiTi",name:"站酷文艺体",cdnUrl:"https://kn-cdn.codemao.cn/painter/fonts/zkwyt.woff",image:"https://kn-cdn.codemao.cn/painter/img/zkwyt.png"},{id:"zhanKuKuHeiTi",name:"站酷酷黑体",cdnUrl:"https://kn-cdn.codemao.cn/painter/fonts/zkht.woff",image:"https://kn-cdn.codemao.cn/painter/img/zkkht.png"},{id:"zhanKuXiaoWeiLogo",name:"站酷小微logo",cdnUrl:"https://kn-cdn.codemao.cn/painter/fonts/zkxwLOGO.woff",image:"https://kn-cdn.codemao.cn/painter/img/zkxwlogo.png"},{id:"zhanKuHuangYouTi",name:"站酷庆科黄油体",cdnUrl:"https://kn-cdn.codemao.cn/painter/fonts/zkqkhyt.woff",image:"https://kn-cdn.codemao.cn/painter/img/zkqkhyt.png"},{id:"ruiZiZhenYanTi",name:"锐字真言体",cdnUrl:"https://kn-cdn.codemao.cn/painter/fonts/rzzyt.woff",image:"https://kn-cdn.codemao.cn/painter/img/rzzyt.png"},{id:"yangRenDongZhuShiTi",name:"杨任东竹石体",cdnUrl:"https://kn-cdn.codemao.cn/painter/fonts/yrdszt.woff",image:"https://kn-cdn.codemao.cn/painter/img/yrdzst.png"},{id:"baoTuXiaoBaiTi",name:"包图小白体",cdnUrl:"https://kn-cdn.codemao.cn/painter/fonts/btxb.woff",image:"https://kn-cdn.codemao.cn/painter/img/btxbt.png"},{id:"muYaoSuiXinShouXieTi",name:"沐瑶随心手写体",cdnUrl:"https://kn-cdn.codemao.cn/painter/fonts/myrbsx.woff",image:"https://kn-cdn.codemao.cn/painter/img/mysxsxt.png"},{id:"shouShuTi",name:"手书体",cdnUrl:"https://kn-cdn.codemao.cn/painter/fonts/sst.woff",image:"https://kn-cdn.codemao.cn/painter/img/sht.png"},{id:"keAiDeKeAi",name:"可爱的可爱",cdnUrl:"https://kn-cdn.codemao.cn/painter/fonts/kadka.woff",image:"https://kn-cdn.codemao.cn/painter/img/kadka.png"}],i=/^(-|\+)?\d*$/,o=/^-+$/,a=/^[a-zA-Z0-9\u4E00-\u9FFF ()\uff08\uff09\-_.']*$/,s=/[^a-zA-Z0-9\u4E00-\u9FFF ()\uff08\uff09\-_.']/g,c=/^[a-zA-Z0-9\u4E00-\u9FFF ()\uff08\uff09\-_']*$/,u=/^[^0-9_]/,l=/^[\u4E00-\u9FFFA-Za-z0-9_]*$/,d=/[^\u4E00-\u9FFFA-Za-z0-9_]/g,p=/^[\u4E00-\u9FFFA-Za-z0-9()\uff08\uff09\-_\s]*$/,f=/^https?:\/\/(www\.)?[a-zA-Z0-9-]+\.\w+/i,h=/^[^-]{0,}$/i;function _(e){return RegExp("^[\\d-]{0,".concat(e,"}$"),"i")}var v=n(77861),m=n(90612)},84119(e,t,n){"use strict";n.d(t,{a:()=>r});var r,i=n(52424),o=n(22224),a=n(41594),s=n.n(a),c=n(46942),u=n.n(c),l=n(33007);r=(0,a.memo)(function(e){var t=e.onStep,n=e.max,r=e.min,c=e.defaultValue,d=e.disabled,p=e.label,f=i.a(e,["onStep","max","min","defaultValue","disabled","label"]),h=Number(n)<=Number(c),_=Number(r)>=Number(c),v=Number(c),m=(0,a.useCallback)(function(e){!h&&o.isFunction(t)&&t("".concat(v+1),e,"up")},[h,t,v]),g=(0,a.useCallback)(function(e){!_&&o.isFunction(t)&&t("".concat(v-1),e,"down")},[_,t,v]);return s().createElement(l.k,Object.assign({},f,{className:u()(f.className,"coco-number-input-wrapper"),defaultValue:c,min:r,max:n,disabled:d,after:s().createElement(s().Fragment,null,s().createElement("div",{className:u()("coco-number-input-label")},s().createElement("span",null,p)),s().createElement("div",{className:"coco-number-input"},s().createElement("span",{className:h||d?"disable":"",onClick:m},s().createElement(l.j,{type:"icon-up"})),s().createElement("span",{className:_||d?"disable":"",onClick:g},s().createElement(l.j,{type:"icon-down"}))))}))})},27615(e,t,n){"use strict";n.d(t,{a:()=>r});var r,i=n(451),o=n(41594),a=n.n(o),s=n(46942),c=n.n(s);r=(0,o.memo)(function(e){var t=e.onChange,n=e.checked,r=(0,o.useState)(n),s=i.a(r,2),u=s[0],l=s[1];return(0,o.useEffect)(function(){l(!!n)},[n]),a().createElement("div",{className:c()("coco-switch",u&&"coco-switch-checked"),onClick:function(){l(!u),t&&t(!u)}},a().createElement("div",{className:c()("coco-switch-handle",u&&"coco-switch-handle-checked")}))})},5297(e,t,n){"use strict";n.d(t,{a:()=>r,b:()=>i});var r="PEDOMETER_WIDGET",i={type:r,icon:"icon-widget-pedometer",title:"widgetName",platforms:["android"],isGlobalWidget:!0,isInvisibleWidget:!0,properties:[{key:"stepCount",label:"stepCount",valueType:"number",defaultValue:0,readonly:!0}],methods:[{key:"startStepUpdate",label:"startStepUpdate",params:[]},{key:"stopStepUpdate",label:"stopStepUpdate",params:[]},{key:"resetStepCount",label:"resetStepCount",params:[]}],events:[{key:"onStepCountChange",label:"onStepCountChange",params:[{key:"stepCount",label:"stepCount",valueType:"number"}],blockOptions:{icon:"%{BKY_BLOCK_PEDOMETER_ICON}"}},{key:"onPedometerNotAvailable",label:"onPedometerNotAvailable",params:[],blockOptions:{icon:"%{BKY_BLOCK_PEDOMETER_ICON}"}},{key:"onPedometerPermissionFail",label:"onPedometerPermissionFail",params:[],blockOptions:{icon:"%{BKY_BLOCK_PEDOMETER_ICON}"}}]}},62986(e,t,n){"use strict";n.d(t,{a:()=>r,b:()=>i});var r="QR_SCANNER_WIDGET",i={type:r,icon:"icon-scan-qr-code",title:"widgetNameMsg",platforms:["android","web"],isGlobalWidget:!0,isInvisibleWidget:!0,properties:[],methods:[{key:"scan",label:"scanMsg",params:[]},{key:"scanImage",label:"scanImageMsg",params:[{key:"image",label:"imageMsg",valueType:"image",defaultValue:""}]}],events:[{key:"onScanSuccess",label:"onScanSuccessMsg",params:[{key:"content",label:"contentMsg",valueType:"string"}]},{key:"onScanError",label:"onScanErrorMsg",params:[{key:"error",label:"errorMsg",valueType:"string"}]}]}},16812(e,t,n){"use strict";n.d(t,{a:()=>r});var r,i=n(28950),o=n(13244),a=n(41594),s=n.n(a),c=n(36243),u=n(46942),l=n.n(u),d=n(94220),p=n(81555),f=n(22690),h=n.n(f);r=function(e){var t=e.id,n=e.visible,r=e.attributes,a=e.onClick,u=r.backgroundColor,f=r.content,_=r.color,v=r.fontFamily,m=r.fontSize,g=r.textAlign,y=r.lineClamp,b={minWidth:16,minHeight:16,backgroundColor:(0,c.A)(u).toString(),color:(0,c.A)(_).toString(),fontFamily:v,fontSize:m,justifyContent:"center",textAlign:g,padding:0,overflow:"hidden"};return s().createElement("div",{id:t,"data-widget-type":d.H,"data-role":d.M,className:l()(p.b,h().textWidget,o.a({},h().hide,!n)),onClick:function(){a&&a()},style:i.a(i.a({},b),{},{position:"static"})},s().createElement("span",{className:h().content,style:{display:y?"-webkit-box":void 0,lineClamp:y||void 0,WebkitLineClamp:y||void 0,whiteSpace:y?"break-spaces":"pre"}},f))}},35119(e){e.exports={hide:"style_hide__3VlNz","coco-widget-wrapper":"style_coco-widget-wrapper__33O5V","coco-child-widget":"style_coco-child-widget__3p2cR","coco-child-widget-selected":"style_coco-child-widget-selected__3_Q4j","coco-child-widget-full":"style_coco-child-widget-full__3qRu-",buttonWidget:"style_buttonWidget__eN_FA",inputWrapper:"style_inputWrapper__2Yvnz",text:"style_text__3Cvdx"}},64038(e,t,n){"use strict";n.d(t,{a:()=>r});var r,i=n(28950),o=n(13244),a=n(41594),s=n.n(a),c=n(36243),u=n(46942),l=n.n(u),d=n(94220),p=n(33383),f=n(12327),h=n(81555),_=n(75149),v=n(16751),m=n(35119),g=n.n(m);r=function(e){var t=e.position,n=e.size,r=e.id,u=e.visible,m=e.opacity,y=e.attributes,b=e.iconFile,E=e.onClick,w=e.onMouseDown,O=e.onMouseUp,x=y.color,S=y.mode,T=y.disabled,R=y.text,k=y.sizeType,A=y.iconId,I=(0,a.useRef)(null),D=(0,a.useRef)(null),C=f.O(S)===v.a.ICON,L=(0,a.useMemo)(function(){var e,t,n=(t=(0,c.A)(x).toString(),(e={},o.a(e,v.b.CONTAINED_TEXT,{default:{backgroundColor:t,color:p.Z(t)?p.a:"#ffffff"},disabled:{backgroundColor:"#cccccc",color:"#e6e6e6"}}),o.a(e,v.b.OUTLINED_TEXT,{default:{borderColor:t,color:t,background:p.Z(t)?p.a:"#ffffff"},disabled:{background:"#ffffff",borderColor:"#e9e9e9",color:"#e9e9e9"}}),o.a(e,v.b.CONTAINED_ICON,{default:{backgroundColor:t,color:p.Z(t)?p.a:"#ffffff"},disabled:{backgroundColor:"#cccccc",color:"#e6e6e6"}}),o.a(e,v.b.OUTLINED_ICON,{default:{borderColor:t,color:t,background:p.Z(t)?p.a:"#ffffff"},disabled:{background:"#ffffff",borderColor:"#e9e9e9",color:"#e9e9e9"}}),e)[S]);return T?n.disabled:n.default},[S,x,T]),N=(0,a.useMemo)(function(){return f.Q(k,S)},[S,k]),M=N.height,j=N.fontSize,U=N.minWidth,F=N.maxWidth;return s().createElement("button",{id:r,className:l()(h.b,g().buttonWidget,o.a({},g().hide,!u)),"data-role":d.M,"data-widget-type":d.d,"data-lock-height":!0,"data-min-width":U,"data-max-width":F,ref:I,onClick:function(){var e=D.current;E&&E(e)},onMouseDown:function(){w&&w()},onMouseUp:function(){O&&O()},style:i.a({borderRadius:C?M/2:M/4,top:t.y,left:t.x,height:M,width:n.width,fontSize:j,opacity:void 0===m?void 0:m/100},L)},C?s().createElement(_.a,{icon:b||f.fb(A)}):s().createElement("div",{className:l()(g().inputWrapper)},s().createElement("div",{className:g().text,ref:D},R)))}},4455(e){e.exports={hide:"style_hide__2Fb-b","coco-widget-wrapper":"style_coco-widget-wrapper__60dp3","coco-child-widget":"style_coco-child-widget__1rhRZ","coco-child-widget-selected":"style_coco-child-widget-selected__3Qn6a","coco-child-widget-full":"style_coco-child-widget-full__2vcm6",webViewWidget:"style_webViewWidget__2AMFy",maskVisible:"style_maskVisible__1Bd0C",mask:"style_mask__2gQOx",placeholderPoster:"style_placeholderPoster__1guUs",header:"style_header__2WxRg",main:"style_main__3iiob",fail:"style_fail__1LQHr",image:"style_image__1Z0Ho",title:"style_title__2SqSr",label:"style_label__2uiTu",loaderBox:"style_loaderBox__3QvTQ",loader:"style_loader__1TGFb",load2:"style_load2__2fRD8"}},1150(e){e.exports="https://creation.codemao.cn/coconut/web/1.22.0-0/static/media/fail-web-view.dc0a9364.svg"},48021(e){e.exports=JSON.parse('{"webviewRefusedUrl":["https://baidu.com","https://www.baidu.com","https://google.com","https://www.google.com","https://qq.com","https://www.qq.com","https://v.qq.com","https://www.v.qq.com","https://mi.com","https://www.mi.com","https://jd.com","https://www.jd.com","https://zhihu.com","https://www.zhihu.com"]}')},55085(e,t,n){"use strict";n.d(t,{a:()=>r});var r,i=n(13244),o=n(451),a=n(7452),s=n.n(a),c=n(34221),u=n(99085),l=n(41594),d=n.n(l),p=n(46942),f=n.n(p),h=n(94220),_=n(81555),v=n(51774),m=n(33007),g=n(63554),y=n(50983),b=n(1150),E=n.n(b),w=n(75195),O=n(48021),x=n(4455),S=n.n(x),T=new function e(){var t,n=this;u.a(this,e),this.urlStore=void 0,this._state=void 0,this.execute=(t=c.a(s().mark(function e(t,r){var i;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.urlStore.push(t),"end"!==n._state){e.next=21;break}n._state="doing";case 3:var o;if(!n.urlStore.length){e.next=20;break}if(0!==(o=i=n.urlStore.shift()||"").indexOf("http://")&&0!==o.indexOf("https://")){e.next=17;break}return e.prev=6,e.next=9,fetch(i,{mode:"no-cors",redirect:"manual"});case 9:r("success"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),r("fail");case 15:e.next=18;break;case 17:r("fail");case 18:e.next=3;break;case 20:n._state="end";case 21:case"end":return e.stop()}},e,null,[[6,12]])})),function(e,n){return t.apply(this,arguments)}),this.urlStore=[],this._state="end"};function R(e){var t,n=e.isEditState,r=e.attributes,i=e.onLoad,a=e.onError,s=e.onLoading,c=r.url,u=r.refreshTimestamp,p=!w.C.test(c),f=y.c(c),h=y.g();h&&(h=O.webviewRefusedUrl.some(function(e){return c.startsWith(e)}));var _=c.startsWith("http://")&&!y.d(),v=(0,l.useState)("loading"),m=o.a(v,2),g=m[0],b=m[1],x=(0,l.useRef)(null);return(0,l.useEffect)(function(){_?b("http-protocol-error"):f||(b("loading"),s&&s(),T.execute(c,function(e){"success"===e?(b("none"),i&&i()):"fail"===e&&(b("error"),a&&a())}))},[c,_,f]),"error"===g||"http-protocol-error"===g||p||h||f?t=d().createElement("div",{className:S().fail},d().createElement("img",{className:S().image,src:E(),alt:"failed"}),d().createElement("p",{className:S().title},"加载失败"),p&&d().createElement("span",{className:S().label},"你输入的网址有错误，请输入正确的网址"),!p&&h&&d().createElement("span",{className:S().label},"你输入的网址做了限制无法打开，可在手机端正常打开"),!p&&!h&&"error"===g&&d().createElement("span",{className:S().label},"请检查是否输入正确的网址，",d().createElement("br",null),"如果网址正确，请尝试在手机端打开"),!p&&!h&&"http-protocol-error"===g&&d().createElement("span",{className:S().label},"由于浏览器安全策略，http://开头的网址无法在浏览器预览，可在手机端正常打开"),f&&d().createElement("span",{className:S().label},"你输入的网址无法打开")):"loading"===g&&(t=d().createElement("div",{className:S().loaderBox},d().createElement("div",{className:S().loader}))),d().createElement(d().Fragment,null,t,!_&&!p&&!f&&"none"===g&&d().createElement("iframe",{ref:x,id:"iframe",title:"coco",sandbox:"allow-scripts allow-same-origin allow-forms",scrolling:n?"no":"auto",src:c,width:"100%",height:"100%",style:{display:c?"block":"none"},key:u}))}function k(){return d().createElement("div",{className:S().placeholderPoster},d().createElement("div",{className:S().header},d().createElement(m.j,{type:"icon-net"}),d().createElement("span",null,"www.codemao.cn")),d().createElement("div",{className:S().main}))}r=function(e){var t=e.id,n=e.position,r=e.visible,o=e.opacity,a=e.size,s=e.isEditState,c=e.attributes,u=c.url,l=c.disabled;return d().createElement("div",{id:t,"data-role":h.M,"data-widget-type":h.C,"data-min-width":v.c,"data-max-width":g.e,"data-max-height":g.d,"data-min-height":v.b,className:f()(S().webViewWidget,_.b,i.a({},S().hide,!r)),style:{top:n.y,left:n.x,height:a.height,width:a.width,minWidth:"".concat(v.c,"px"),minHeight:"".concat(v.b,"px"),maxWidth:"".concat(g.e,"px"),maxHeight:"".concat(g.d,"px"),opacity:void 0===o?void 0:o/100}},(s||l)&&d().createElement("div",{className:S().mask}),u?d().createElement(R,e):d().createElement(k,null))}},20329(e){e.exports={hide:"style_hide__21aDR","coco-widget-wrapper":"style_coco-widget-wrapper__2w9cj","coco-child-widget":"style_coco-child-widget__1E8Er","coco-child-widget-selected":"style_coco-child-widget-selected__1ptOP","coco-child-widget-full":"style_coco-child-widget-full__3ERpt",switchWidget:"style_switchWidget__3fYrB",default:"style_default__2UV70",handle:"style_handle__1H0JK",leftAnimation:"style_leftAnimation__3AHh8",primary:"style_primary__3Frnd",templateWrapper:"style_templateWrapper__1nHYi",imageAnimationFirstHalf:"style_imageAnimationFirstHalf__2Oh-K","image-animation-first-half":"style_image-animation-first-half__1oOJB",imageAnimationSecondHalf:"style_imageAnimationSecondHalf__23SxR","image-animation-second-half":"style_image-animation-second-half__201nn"}},20512(e,t,n){"use strict";n.d(t,{a:()=>r});var r,i=n(13244),o=n(41594),a=n.n(o),s=n(36243),c=n(46942),u=n.n(c),l=n(94220),d=n(81555),p=n(44062),f=n(33383),h=n(32919),_=n(75195),v=n(76224),m=n(20329),g=n.n(m);r=function(e){var t,n,r,c,m,y=e.id,b=e.position,E=e.visible,w=e.opacity,O=e.attributes,x=e.onSwitch,S=e.size,T=e.isEditState,R=O.mode,k=O.color,A=O.disabled,I=O.value,D=O.backgroundMode,C=O.backgroundOpenImage,L=O.backgroundCloseImage,N=O.imageResizeMode,M=a().useRef(null),j=a().useRef(null),U=a().useRef(!1),F=(n=(0,s.A)(k).toString(),r=(t={},i.a(t,v.c.DEFAULT,{turnOn:{backgroundColor:f.hb(n,.3),handleColor:n},turnOff:{backgroundColor:f.hb("#000",.2),handleColor:"#ffffff"},disabled:{backgroundColor:f.hb("#000",.1),handleColor:"#ffffff"}}),i.a(t,v.c.PRIMARY,{turnOn:{backgroundColor:n,handleColor:"#ffffff"},turnOff:{backgroundColor:f.hb("#000",.2),handleColor:"#ffffff"},disabled:{backgroundColor:f.hb("#000",.1),handleColor:"#ffffff"}}),t)[R],A?r.disabled:I?r.turnOn:r.turnOff),P=h.hb(C),B=f.U(C)?C:P?(null==P?void 0:P.source)||(null==P?void 0:P.cdnUrl):p.b,H=h.hb(L),V=f.U(L)?L:H?(null==H?void 0:H.source)||(null==H?void 0:H.cdnUrl):p.a,G=a().createElement("div",{ref:j,style:{backgroundSize:"contain"===N?"contain":"100% 100%",backgroundPosition:"center",backgroundRepeat:"no-repeat",height:S.height,width:S.width}});return(0,o.useEffect)(function(){if(D===v.a.IMAGE&&!U.current){var e=j.current;if(e)return e.style.backgroundImage="url(".concat(I?B:V,")"),function(){e.style.backgroundImage="none"}}},[B,V,D,I]),a().createElement("div",{id:y,"data-role":l.M,"data-widget-type":l.F,"data-min-width":p.j,"data-max-width":_.o,"data-min-height":p.i,"data-max-height":_.m,className:u()(g().switchWidget,d.b,i.a({},g().hide,!E)),style:{top:b.y,left:b.x,height:S.height,width:S.width,minWidth:"".concat(p.j,"px"),minHeight:"".concat(p.i,"px"),maxWidth:"".concat(_.o,"px"),maxHeight:"".concat(_.m,"px"),opacity:void 0===w?void 0:w/100,filter:A&&D===v.a.IMAGE?"saturate(0) brightness(1.1)":void 0},onClick:function(t){if(!A)if(x&&x(!I),D===v.a.TEMPLATE){var n;null!=(n=M.current)&&n.classList.add(g().leftAnimation),setTimeout(function(){var e;null!=(e=M.current)&&e.classList.remove(g().leftAnimation)},100)}else{var r=j.current;if(!h.s(e.id)&&T||!r)return;r.classList.add(g().imageAnimationFirstHalf),U.current=!0,setTimeout(function(){r.classList.remove(g().imageAnimationFirstHalf),r.classList.add(g().imageAnimationSecondHalf),r.style.backgroundImage="url(".concat(I?V:B,")"),setTimeout(function(){r.classList.remove(g().imageAnimationSecondHalf),U.current=!1},100)},100)}}},D===v.a.IMAGE?G:(m=(c=Math.min(c=S.width,(m=S.height)*p.k))/p.k,a().createElement("div",{className:g().templateWrapper,style:{width:c,height:m}},R===v.c.DEFAULT?a().createElement("div",{className:g().default,style:{backgroundColor:F.backgroundColor,borderRadius:m/2}},a().createElement("div",{ref:M,className:u()(g().handle),style:{height:m,width:m,backgroundColor:F.handleColor,left:I?"calc(100% - ".concat(m,"px)"):0}})):a().createElement("div",{className:g().primary,style:{borderRadius:m/2,backgroundColor:F.backgroundColor,height:m,width:c}},a().createElement("div",{className:u()(g().handle),style:{backgroundColor:F.handleColor,height:m,width:m,left:I?"calc(100% - ".concat(m,"px)"):0}})))))}},5062(e){e.exports={hide:"style_hide__Y6gh1","coco-widget-wrapper":"style_coco-widget-wrapper__1ESr6","coco-child-widget":"style_coco-child-widget__HyDBB","coco-child-widget-selected":"style_coco-child-widget-selected__2o1Fh","coco-child-widget-full":"style_coco-child-widget-full__f1rza",sliderBox:"style_sliderBox__3jnH-",main:"style_main__1hVYe",step:"style_step__2MwVy",trackBox:"style_trackBox__2MkLY",track:"style_track__I9eaf",horizontalTrackBox:"style_horizontalTrackBox__2ntrm",verticalTrackBox:"style_verticalTrackBox__32ko8",handle:"style_handle__3NPIU",templateHandle:"style_templateHandle__2Yglu",horizontalHandle:"style_horizontalHandle__3iSOw",handleInner:"style_handleInner__1a2Ye",verticalHandle:"style_verticalHandle__2kGtH",imageHandle:"style_imageHandle__1TkZX",horizontalRotate:"style_horizontalRotate__23nkJ",verticalRotate:"style_verticalRotate__36-mC",handleNotSelected:"style_handleNotSelected__3Jy3L"}},64908(e,t,n){"use strict";n.d(t,{a:()=>o,b:()=>b});var r,i,o,a=n(41594),s=n.n(a),c=n(46942),u=n.n(c),l=n(94220),d=n(33383),p=n(50983),f=n(58968),h=n(5062),_=n.n(h);(r=i||(i={}))[r.DOWN=0]="DOWN",r[r.UP=1]="UP",p.b()&&p.h()&&document.body.addEventListener("touchmove",function(e){b&&e.preventDefault()},{passive:!1});var v=n(81555),m=n(36243),g=n(451),y=n(13244),b=!1;o=function(e){var t,n,r=(0,a.useRef)(null),o=e.id,c=e.position,p=e.visible,h=e.opacity,E=e.attributes,w=e.onSliderChange,O=e.size,x=e.onEndToSlid,S=e.onStartToSlid,T=e.isEditState,R=e.selected,k=void 0!==R&&R,A=e.handleImageUrl,I=e.backgroundImageUrl,D=e.trackImageUrl,C=E.maxValue,L=E.step,N=E.minValue,M=E.direction,j=void 0===M?f.b.HORIZONTAL:M,U=E.sliderType,F=void 0===U?f.d.TEMPLATE:U,P=E.handleImageRatio,B=void 0===P?2:P,H=E.backgroundImageDirection,V=void 0===H?f.b.HORIZONTAL:H,G=E.trackImageDirection,W=void 0===G?f.b.HORIZONTAL:G,q=E.handleImageDirection||f.b.HORIZONTAL,z=E.mode,Y=E.color,X=E.disabled,J=E.value,Z=(0,a.useRef)(null),Q=(0,a.useRef)(null),$=(0,a.useRef)(i.UP),K=(0,a.useState)(!1),ee=g.a(K,2),et=ee[0],en=ee[1],er=(0,a.useState)(0),ei=g.a(er,2),eo=ei[0],ea=ei[1],es=(0,a.useState)(0),ec=g.a(es,2),eu=ec[0],el=ec[1],ed=(0,a.useState)(0),ep=g.a(ed,2),ef=ep[0],eh=ep[1],e_=(0,a.useState)(0),ev=g.a(e_,2),em=ev[0],eg=ev[1],ey=(0,a.useState)(""),eb=g.a(ey,2),eE=eb[0],ew=eb[1],eO=(0,a.useState)(""),ex=g.a(eO,2),eS=ex[0],eT=ex[1],eR=(0,a.useRef)(1),ek=(0,a.useRef)(1);(0,a.useEffect)(function(){if(D){eR.current=eR.current+1;var e=eR.current;d.gb(D,W===f.b.HORIZONTAL?-90:90).then(function(t){eR.current>e||ew(t)}).catch(function(){return ew("")})}},[D,W]),(0,a.useEffect)(function(){if(I){ek.current=ek.current+1;var e=ek.current;d.gb(I,V===f.b.HORIZONTAL?-90:90).then(function(t){ek.current>e||eT(t)}).catch(function(){return eT("")})}},[I,V]),(0,a.useEffect)(function(){F===f.d.IMAGE?en(!0):en(!1)},[F]),(0,a.useEffect)(function(){var e=O.height;(j===f.b.VERTICAL&&(e=O.width),F===f.d.IMAGE)?(ea(e*B),el(e*B),eh(0),eg(0)):z===f.c.DEFAULT?(ea(1.4*e),el(1.4*e),eh(e/3.2),eg(1.4*e/2)):z===f.c.PRIMARY&&(j===f.b.VERTICAL?(ea(e),el(1.6*e)):(ea(1.6*e),el(e)),eh(e/10),eg(e/2.5))},[F,z,O,B,j]);var eA=(t=(0,m.A)(Y).toString(),n={default:{stepBackgroundColor:d.hb(t,.2),handleBorderColor:t,trackBackgroundColor:t},disabled:{stepBackgroundColor:d.hb("#ccc",.2),handleBorderColor:"#ccc",trackBackgroundColor:"#ccc"}},X?n.disabled:n.default);function eI(e,t){return t/e*100+"%"}var eD=(0,a.useCallback)(function(e,t){var n,i=Z.current,o=Q.current,a=r.current,s=null==(n=r.current)?void 0:n.getClientRects()[0];if(!s)return J;var c=Math.max(C-N,1);if(i&&o&&a){if(j===f.b.HORIZONTAL){var u=a.getClientRects()[0].width,l=i.offsetWidth,d=u/(c/L),p=Math.max(Math.min(e-s.left,u),0),h=p/d>=c/L?Math.ceil(p/d):Math.round(p/d);p=h*d;var _=Math.min(L*h+N,C),v=eI(u,p=Math.min(p,u));return i.style.left="calc(".concat(v," - ").concat(l/2,"px)"),o.style.width=v,_}var m=a.getClientRects()[0].height,g=i.offsetHeight,y=m/(c/L),b=Math.max(Math.min(s.bottom-t,m),0),E=b/y>=c/L?Math.ceil(b/y):Math.round(b/y);b=E*y;var w=Math.min(L*E+N,C),O=eI(m,b=Math.min(b,m));return i.style.bottom="calc(".concat(O," - ").concat(g/2,"px)"),o.style.height=O,w}return J},[j,C,N,L,J]),eC=(0,a.useCallback)(function(e){d.W()&&(b=!0,!X&&S&&S(J))},[X,S,J]),eL=(0,a.useCallback)(function(e){if(d.W()&&!X){b=!0;var t=eD(e.changedTouches[0].clientX,e.changedTouches[0].clientY);w&&w(t)}},[X,eD,w]),eN=(0,a.useCallback)(function(){b=!1,!X&&x&&x(J)},[X,x,J]);return(0,a.useLayoutEffect)(function(){var e=Q.current,t=Z.current,n=r.current,i=Math.max(C-N,1);if(e&&t&&n)if(j===f.b.HORIZONTAL){var o=n.offsetWidth,a=t.offsetWidth,s=(J-N)/i*o;J===C&&N===C&&(s=1/i*o);var c=eI(o,s);t.style.left="calc(".concat(c," - ").concat(a/2,"px)"),t.style.bottom="auto",e.style.width=c,e.style.height="100%"}else{var u=n.offsetHeight,l=t.offsetHeight,d=(J-N)/i*u;J===C&&N===C&&(d=1/i*u);var p=eI(u,d);t.style.bottom="calc(".concat(p," - ").concat(l/2,"px)"),t.style.left="auto",e.style.width="100%",e.style.height=p}},[eo,eu,C,N,J,j,et,O]),(0,a.useEffect)(function(){if(!d.W()){var e=J,t=J,n=d.p(function(){w&&w(e)},60),r=Z.current;return r&&null!=r&&r.addEventListener("mousedown",a,{passive:!1}),function(){null!=r&&r.removeEventListener("mousedown",a)}}function o(r){$.current===i.DOWN&&(e=eD(r.clientX,r.clientY),t!==e&&(t=e,w&&(T?n():w(e))))}function a(e){X||T&&!k||(e.preventDefault(),e.stopPropagation(),$.current=i.DOWN,S&&S(J),document.addEventListener("mousemove",o,{passive:!1}),document.addEventListener("mouseup",s,{passive:!1}),document.addEventListener("mouseleave",s,{passive:!1}))}function s(t){t.stopPropagation(),$.current=i.UP,x&&x(e),document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",s),document.removeEventListener("mouseleave",s)}},[X,eD,o,T,x,w,S,k,J]),s().createElement("div",{id:o,"data-role":l.M,"data-widget-type":l.E,className:u()(v.b,y.a({},_().hide,!p)),style:{top:c.y,left:c.x,height:O.height,width:O.width,opacity:void 0===h?void 0:h/100,filter:X&&et?"saturate(0)":void 0}},s().createElement("div",{className:_().sliderBox},s().createElement("div",{className:_().main,ref:r,style:{borderRadius:et?0:j===f.b.HORIZONTAL?O.height/2:O.width/2,backgroundColor:et?"transparent":"#fff"}},s().createElement("div",{className:u()(_().step,j===f.b.VERTICAL&&_().vertical),style:{width:"100%",height:"100%",borderRadius:et?0:j===f.b.HORIZONTAL?O.height/2:O.width/2,backgroundColor:et?void 0:eA.stepBackgroundColor,backgroundImage:et?"url(".concat(V===j?I:eS,")"):void 0}},s().createElement("div",{className:u()(_().trackBox,j===f.b.HORIZONTAL?_().horizontalTrackBox:_().verticalTrackBox),ref:Q,style:{backgroundColor:et?void 0:eA.trackBackgroundColor}},s().createElement("div",{className:_().track,style:{width:j===f.b.HORIZONTAL?O.width:"100%",height:j===f.b.HORIZONTAL?"100%":O.height,backgroundImage:et?"url(".concat(W===j?D:eE,")"):void 0}}))),s().createElement("div",{onTouchStart:eC,onTouchMove:eL,onTouchEnd:eN,ref:Z,className:u()(_().handle,et?_().imageHandle:_().templateHandle,q===j?_().horizontalHandle:_().verticalHandle,q===f.b.HORIZONTAL&&j===f.b.VERTICAL?_().verticalRotate:_().horizontalRotate,T&&!k&&_().handleNotSelected),style:{width:eo,height:eu,borderWidth:ef,borderRadius:em,borderColor:eA.handleBorderColor,color:d.hb(eA.handleBorderColor,.3),backgroundImage:et?"url(".concat(A,")"):void 0}},!et&&z===f.c.PRIMARY&&s().createElement("div",{className:_().handleInner,style:{color:eA.handleBorderColor}})))))}}}]);
//# sourceMappingURL=951.df2abe5227f403bf.js.map