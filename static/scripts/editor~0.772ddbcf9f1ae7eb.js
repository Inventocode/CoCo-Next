(self.webpackChunkcoco_next=self.webpackChunkcoco_next||[]).push([["359"],{65649(e,t,n){"use strict";n.d(t,{A:()=>r});let r={wrapper:"wrapper__c321f",iconButton:"iconButton__cf1cc",left:"left__b202d",logoBox:"logoBox__d0c8d",back:"back__b1b49",logo:"logo__fabf4",logoCutLine:"logoCutLine__cadcc",tool:"tool__eb793",center:"center__c7c0c",userService:"userService__f8ccd",right:"right__ba19e",input:"input__d85f2",portrait:"portrait__b6eeb",iconWrapper:"iconWrapper__e2320",databaseIcon:"databaseIcon__e4fcd",headerIcon:"headerIcon__b0994",cloudIconWrapper:"cloudIconWrapper__d53f0",activeIconWrapper:"activeIconWrapper__e706c",otWrapper:"otWrapper__d402c",shareWrapper:"shareWrapper__c1899",icon:"icon__d8720",shareMenu:"shareMenu__b9ecf",packageBtn:"packageBtn__d3a55",menu:"menu__c3f83",menuIcon:"menuIcon__c0fb5",itemContent:"itemContent__fca0f",disabled:"disabled__c985f",itemLinkContent:"itemLinkContent__c95de",link:"link__ca783",fileDropdown:"fileDropdown__a4817",itemUploadButton:"itemUploadButton__f61c7",projectTitleWrapper:"projectTitleWrapper__ad26e",editIcon:"editIcon__fcb74",projectTitle:"projectTitle__aa048",cutLine:"cutLine__bcfb7",saveBtn:"saveBtn__f48f3",savingIcon:"savingIcon__d579a",saving:"saving__a30d5",saveText:"saveText__ad082",line:"line__ee4fb",saveTipsWrapper:"saveTipsWrapper__dc1f5",show:"show__a4111",closeSaveTips:"closeSaveTips__bbf0f",toolTipsBox:"toolTipsBox__dbf5d"}},94090(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};Object.defineProperty(t,"__esModule",{value:!0});var a=n(41594),s=n(41594),c=n(36935),l=n(71731),u=function(e){function t(t){var n=e.call(this,t)||this;return n.props=t,n}return i(t,e),t.prototype.render=function(){return null},t.mapChildColumnDefs=function(e){return a.Children.map(e,function(e){return e?t.toColDef(e.props):null})},t.toColDef=function(e){var n=e.children,r=o(e,["children"]);return t.hasChildColumns(n)&&(r.children=t.mapChildColumnDefs(n)),r},t.hasChildColumns=function(e){return a.Children.count(e)>0},t}(s.Component);function d(e,t){e.forEach(function(e){u[e]=t})}t.AgGridColumn=u,d(l.ColDefUtil.BOOLEAN_PROPERTIES,c.bool),d(l.ColDefUtil.STRING_PROPERTIES,c.string),d(l.ColDefUtil.OBJECT_PROPERTIES,c.object),d(l.ColDefUtil.ARRAY_PROPERTIES,c.array),d(l.ColDefUtil.NUMBER_PROPERTIES,c.number),d(l.ColDefUtil.FUNCTION_PROPERTIES,c.func)},15169(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var s=n(41594),c=n(41594),l=n(36935),u=n(71731),d=n(94090),p=n(94722),h=n(44549),f=n(21138),m=function(e){function t(t){var n=e.call(this,t)||this;return n.props=t,n.changeDetectionService=new p.ChangeDetectionService,n.api=null,n.portals=[],n.hasPendingPortalUpdate=!1,n.destroyed=!1,n.SYNCHRONOUS_CHANGE_PROPERTIES=["context"],n}return i(t,e),t.prototype.render=function(){var e=this;return s.createElement("div",{style:this.createStyleForDiv(),className:this.props.className,ref:function(t){e.eGridDiv=t}},this.portals)},t.prototype.createStyleForDiv=function(){return o({height:"100%"},this.props.containerStyle||{})},t.prototype.componentDidMount=function(){var e=this.props.modules||[],t={providedBeanInstances:{agGridReact:this,frameworkComponentWrapper:new v(this)},modules:e},n=this.props.gridOptions||{},r=this.props.children;d.AgGridColumn.hasChildColumns(r)&&(n.columnDefs=d.AgGridColumn.mapChildColumnDefs(r)),this.gridOptions=u.ComponentUtil.copyAttributesToGridOptions(n,this.props),new u.Grid(this.eGridDiv,this.gridOptions,t),this.api=this.gridOptions.api,this.columnApi=this.gridOptions.columnApi},t.prototype.waitForInstance=function(e,n,r){var i=this;if(void 0===r&&(r=Date.now()),this.destroyed)return void n(null);if(e.rendered())n(e);else{if(Date.now()-r>=this.props.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return e.isNullValue()?void n(e):void console.error("AG Grid: React Component '"+e.getReactComponentName()+"' not created within "+t.MAX_COMPONENT_CREATION_TIME_IN_MS+"ms");window.setTimeout(function(){i.waitForInstance(e,n,r)})}},t.prototype.mountReactPortal=function(e,t,n){this.portals=a(this.portals,[e]),this.waitForInstance(t,n),this.batchUpdate()},t.prototype.updateReactPortal=function(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()},t.prototype.batchUpdate=function(){var e=this;this.hasPendingPortalUpdate||(setTimeout(function(){e.api&&e.forceUpdate(function(){e.hasPendingPortalUpdate=!1})}),this.hasPendingPortalUpdate=!0)},t.prototype.destroyPortal=function(e){this.portals=this.portals.filter(function(t){return t!==e}),this.batchUpdate()},t.prototype.getStrategyTypeForProp=function(e){if("rowData"===e){if(this.props.rowDataChangeDetectionStrategy)return this.props.rowDataChangeDetectionStrategy;else if(this.isImmutableDataActive())return p.ChangeDetectionStrategyType.IdentityCheck}return p.ChangeDetectionStrategyType.DeepValueCheck},t.prototype.isImmutableDataActive=function(){return this.props.deltaRowDataMode||this.props.immutableData||this.props.gridOptions&&(this.props.gridOptions.deltaRowDataMode||this.props.gridOptions.immutableData)},t.prototype.shouldComponentUpdate=function(e){return this.processPropsChanges(this.props,e),!1},t.prototype.componentDidUpdate=function(e){this.processPropsChanges(e,this.props)},t.prototype.processPropsChanges=function(e,t){var n={};this.extractGridPropertyChanges(e,t,n),this.extractDeclarativeColDefChanges(t,n),this.processSynchronousChanges(n),this.processAsynchronousChanges(n)},t.prototype.extractDeclarativeColDefChanges=function(e,t){if((!this.props.gridOptions||!this.props.gridOptions.columnDefs)&&!this.props.columnDefs){var n=!!e.debug,r="columnDefs",i=this.gridOptions.columnDefs;if(d.AgGridColumn.hasChildColumns(e.children)){var o=this.changeDetectionService.getStrategy(this.getStrategyTypeForProp(r)),a=d.AgGridColumn.mapChildColumnDefs(e.children);o.areEqual(i,a)||(n&&console.log("agGridReact: colDefs definitions changed"),t[r]={previousValue:i,currentValue:a})}else i&&i.length>0&&(t[r]={previousValue:i,currentValue:[]})}},t.prototype.extractGridPropertyChanges=function(e,t,n){var r=this,i=!!t.debug;Object.keys(t).forEach(function(o){u._.includes(u.ComponentUtil.ALL_PROPERTIES,o)&&(r.changeDetectionService.getStrategy(r.getStrategyTypeForProp(o)).areEqual(e[o],t[o])||(i&&console.log("agGridReact: ["+o+"] property changed"),n[o]={previousValue:e[o],currentValue:t[o]}))}),u.ComponentUtil.getEventCallbacks().forEach(function(o){r.props[o]!==t[o]&&(i&&console.log("agGridReact: ["+o+"] event callback changed"),n[o]={previousValue:e[o],currentValue:t[o]})})},t.prototype.componentWillUnmount=function(){this.api&&(this.api.destroy(),this.api=null),this.destroyed=!0},t.prototype.isDisableStaticMarkup=function(){return this.props.disableStaticMarkup},t.prototype.isLegacyComponentRendering=function(){return this.props.legacyComponentRendering},t.prototype.processSynchronousChanges=function(e){var t=o({},e);if(Object.keys(t).length>0){var n={};this.SYNCHRONOUS_CHANGE_PROPERTIES.forEach(function(e){t[e]&&(n[e]=t[e],delete t.context)}),Object.keys(n).length>0&&this.api&&u.ComponentUtil.processOnChange(n,this.gridOptions,this.api,this.columnApi)}return t},t.prototype.processAsynchronousChanges=function(e){var t=this;Object.keys(e).length>0&&window.setTimeout(function(){t.api&&u.ComponentUtil.processOnChange(e,t.gridOptions,t.api,t.columnApi)})},t.MAX_COMPONENT_CREATION_TIME_IN_MS=1e3,t.defaultProps={legacyComponentRendering:!1,disableStaticMarkup:!1,maxComponentCreationTimeMs:t.MAX_COMPONENT_CREATION_TIME_IN_MS},t}(c.Component);function g(e,t){e.forEach(function(e){m[e]=t})}t.AgGridReact=m,m.propTypes={gridOptions:l.object},g(u.ComponentUtil.getEventCallbacks(),l.func),g(u.ComponentUtil.BOOLEAN_PROPERTIES,l.bool),g(u.ComponentUtil.STRING_PROPERTIES,l.string),g(u.ComponentUtil.OBJECT_PROPERTIES,l.object),g(u.ComponentUtil.ARRAY_PROPERTIES,l.array),g(u.ComponentUtil.NUMBER_PROPERTIES,l.number),g(u.ComponentUtil.FUNCTION_PROPERTIES,l.func);var v=function(e){function t(t){var n=e.call(this)||this;return n.agGridReact=t,n}return i(t,e),t.prototype.createWrapper=function(e,t){return this.agGridReact.isLegacyComponentRendering()?new h.LegacyReactComponent(e,this.agGridReact,t):new f.NewReactComponent(e,this.agGridReact,t)},t}(u.BaseComponentWrapper)},94722(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(n=r=t.ChangeDetectionStrategyType||(t.ChangeDetectionStrategyType={})).IdentityCheck="IdentityCheck",n.DeepValueCheck="DeepValueCheck",n.NoCheck="NoCheck",t.ChangeDetectionService=function(){function e(){var e;this.strategyMap=((e={})[r.DeepValueCheck]=new o,e[r.IdentityCheck]=new i(function(e,t){return e===t}),e[r.NoCheck]=new i(function(e,t){return!1}),e)}return e.prototype.getStrategy=function(e){return this.strategyMap[e]},e}();var n,r,i=function(){function e(e){this.strategy=e}return e.prototype.areEqual=function(e,t){return this.strategy(e,t)},e}(),o=function(){function e(){}return e.prototype.areEqual=function(t,n){return e.areEquivalent(e.copy(t),e.copy(n))},e.unwrapStringOrNumber=function(e){return e instanceof Number||e instanceof String?e.valueOf():e},e.copy=function(e){if(!e)return e;if(Array.isArray(e)){for(var t=[],n=0;n<e.length;n++)t.push(this.copy(e[n]));return t}return"object"!=typeof e?e:[{},e].reduce(function(e,t){return Object.keys(t).forEach(function(n){e[n]=t[n]}),e},{})},e.isNaN=function(e){return Number.isNaN?Number.isNaN(e):"number"==typeof e&&isNaN(e)},e.areEquivalent=function(t,n){if(t=e.unwrapStringOrNumber(t),n=e.unwrapStringOrNumber(n),t===n)return!0;if(null===t||null===n||typeof t!=typeof n)return!1;if(e.isNaN(t)&&e.isNaN(n))return!0;if(t instanceof Date)return n instanceof Date&&t.valueOf()===n.valueOf();if("function"==typeof t)return!1;if("object"!=typeof t||t.$$typeof&&"Symbol(react.element)"===t.$$typeof.toString())return t==n;if(Object.isFrozen(t)||Object.isFrozen(n))return t===n;var r=void 0===t.areEquivPropertyTracking,i=void 0===n.areEquivPropertyTracking;try{var o=void 0;if(r)t.areEquivPropertyTracking=[];else if(t.areEquivPropertyTracking.some(function(e){return e===n}))return!0;if(i)n.areEquivPropertyTracking=[];else if(n.areEquivPropertyTracking.some(function(e){return e===t}))return!0;t.areEquivPropertyTracking.push(n),n.areEquivPropertyTracking.push(t);var a={};for(o in t)"areEquivPropertyTracking"!=o&&(a[o]=null);for(o in n)"areEquivPropertyTracking"!=o&&(a[o]=null);for(o in a)if(!this.areEquivalent(t[o],n[o]))return!1;return!0}finally{r&&delete t.areEquivPropertyTracking,i&&delete n.areEquivPropertyTracking}},e}()},7048(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=0;t.default=function(){return"agPortalKey_"+ ++n}},44549(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(41594),a=n(75206),s=n(71731),c=n(30946),l=n(7048),u=n(65848);t.LegacyReactComponent=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.staticMarkup=null,t.staticRenderTime=0,t}return i(t,e),t.prototype.init=function(e){var t=this;return this.eParentElement=this.createParentElement(e),this.renderStaticMarkup(e),new s.AgPromise(function(n){return t.createReactComponent(e,n)})},t.prototype.createReactComponent=function(e,t){var n=this;this.isStatelessComponent()||(e.ref=function(e){n.componentInstance=e,n.addParentContainerStyleAndClasses(),n.removeStaticMarkup()});var r=o.createElement(this.reactComponent,e),i=a.createPortal(r,this.eParentElement,l.default());this.portal=i,this.parentComponent.mountReactPortal(i,this,function(e){t(e),n.isStatelessComponent()&&(n.isSlowRenderer()&&n.removeStaticMarkup(),setTimeout(function(){n.removeStaticMarkup()}))})},t.prototype.fallbackMethodAvailable=function(e){return!1},t.prototype.fallbackMethod=function(e,t){},t.prototype.isSlowRenderer=function(){return this.staticRenderTime>=t.SLOW_RENDERERING_THRESHOLD},t.prototype.isNullValue=function(){return""===this.staticMarkup},t.prototype.renderStaticMarkup=function(e){if(!this.parentComponent.isDisableStaticMarkup()&&(!this.componentType.isCellRenderer||this.componentType.isCellRenderer())){var t=console.error,n=o.createElement(this.reactComponent,e);try{console.error=function(){};var r=Date.now(),i=u.renderToStaticMarkup(n);this.staticRenderTime=Date.now()-r,console.error=t,""===i?this.staticMarkup=i:i&&(this.staticMarkup=document.createElement("span"),this.staticMarkup.innerHTML=i,this.eParentElement.appendChild(this.staticMarkup))}catch(e){}finally{console.error=t}}},t.prototype.removeStaticMarkup=function(){!this.parentComponent.isDisableStaticMarkup()&&this.componentType.isCellRenderer()&&this.staticMarkup&&(this.staticMarkup.remove?(this.staticMarkup.remove(),this.staticMarkup=null):this.eParentElement.removeChild&&(this.eParentElement.removeChild(this.staticMarkup),this.staticMarkup=null))},t.prototype.rendered=function(){return this.isNullValue()||!!this.staticMarkup||this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())},t.SLOW_RENDERERING_THRESHOLD=3,t}(c.ReactComponent)},21138(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(41594),s=n(75206),c=n(71731),l=n(30946),u=n(7048),d=n(65848);t.NewReactComponent=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this;return i.oldPortal=null,i.key=u.default(),i.portalKey=u.default(),i}return i(t,e),t.prototype.init=function(e){var t=this;return this.eParentElement=this.createParentElement(e),this.params=e,this.createOrUpdatePortal(e),new c.AgPromise(function(e){return t.createReactComponent(e)})},t.prototype.createOrUpdatePortal=function(e){var t=this;this.isStatelessComponent()||(e.ref=function(e){t.componentInstance=e,t.addParentContainerStyleAndClasses()}),this.reactElement=a.createElement(this.reactComponent,o(o({},e),{key:this.key})),this.portal=s.createPortal(this.reactElement,this.eParentElement,this.portalKey)},t.prototype.createReactComponent=function(e){this.parentComponent.mountReactPortal(this.portal,this,function(t){e(t)})},t.prototype.isNullValue=function(){return this.valueRenderedIsNull(this.params)},t.prototype.rendered=function(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())},t.prototype.valueRenderedIsNull=function(e){if(this.componentType.isCellRenderer&&!this.componentType.isCellRenderer())return!1;var t=console.error;try{console.error=function(){};var n=d.renderToStaticMarkup(a.createElement(this.reactComponent,e));return""===n}catch(e){}finally{console.error=t}return!1},t.prototype.refreshComponent=function(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.parentComponent.updateReactPortal(this.oldPortal,this.portal)},t.prototype.fallbackMethod=function(e,t){var n=this[e+"Component"];if(n)return n.bind(this)(t)},t.prototype.fallbackMethodAvailable=function(e){return!!this[e+"Component"]},t}(l.ReactComponent)},30946(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(71731),a=n(15140);t.ReactComponent=function(e){function t(t,n,r){var i=e.call(this)||this;return i.portal=null,i.reactComponent=t,i.parentComponent=n,i.componentType=r,i.statelessComponent=i.isStateless(i.reactComponent),i}return i(t,e),t.prototype.getGui=function(){return this.eParentElement},t.prototype.destroy=function(){return this.parentComponent.destroyPortal(this.portal)},t.prototype.createParentElement=function(e){var t=document.createElement(this.parentComponent.props.componentWrappingElement||"div");return o._.addCssClass(t,"ag-react-container"),e.reactContainer=t,t},t.prototype.addParentContainerStyleAndClasses=function(){var e=this;this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&a.assignProperties(this.eParentElement.style,this.componentInstance.getReactContainerStyle()),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses()&&this.componentInstance.getReactContainerClasses().forEach(function(t){return o._.addCssClass(e.eParentElement,t)}))},t.prototype.statelessComponentRendered=function(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0},t.prototype.getFrameworkComponentInstance=function(){return this.componentInstance},t.prototype.isStatelessComponent=function(){return this.statelessComponent},t.prototype.getReactComponentName=function(){return this.reactComponent.name},t.prototype.getMemoType=function(){return this.hasSymbol()?Symbol.for("react.memo"):60115},t.prototype.hasSymbol=function(){return"function"==typeof Symbol&&Symbol.for},t.prototype.isStateless=function(e){return"function"==typeof e&&!(e.prototype&&e.prototype.isReactComponent)||"object"==typeof e&&e.$$typeof===this.getMemoType()},t.prototype.hasMethod=function(e){var t=this.getFrameworkComponentInstance();return!!t&&null!==t[e]||this.fallbackMethodAvailable(e)},t.prototype.callMethod=function(e,t){var n=this,r=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!r)return void setTimeout(function(){return n.callMethod(e,t)});var i=r[e];return i?i.apply(r,t):this.fallbackMethodAvailable(e)?this.fallbackMethod(e,t&&t[0]?t[0]:{}):void 0},t.prototype.addMethod=function(e,t){this[e]=t},t}(function(){})},15140(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assignProperties=function(e,t){Object.keys(t).forEach(function(n){e[n]=t[n]})},t.assign=function(e,n,r){if("string"==typeof n&&(n=n.split(".")),n.length>1){var i=n.shift();t.assign(e[i]="[object Object]"===Object.prototype.toString.call(e[i])?e[i]:{},n,r)}else e[n[0]]=r}},12354(e,t,n){t.AgGridReact=n(15169).AgGridReact,t.AgGridColumn=n(94090).AgGridColumn,n(94722).ChangeDetectionStrategyType},45228(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=!function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==r.join(""))return!1;var i={};if("abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},i)).join(""))return!1;return!0}catch(e){return!1}}()?function(e,i){for(var o,a,s=function(e){if(null==e)throw TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(s[l]=o[l]);if(t){a=t(o);for(var u=0;u<a.length;u++)r.call(o,a[u])&&(s[a[u]]=o[a[u]])}}return s}:Object.assign},72911(e,t,n){"use strict";var r=n(45228),i=n(41594);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a="function"==typeof Symbol&&Symbol.for,s=a?Symbol.for("react.portal"):60106,c=a?Symbol.for("react.fragment"):60107,l=a?Symbol.for("react.strict_mode"):60108,u=a?Symbol.for("react.profiler"):60114,d=a?Symbol.for("react.provider"):60109,p=a?Symbol.for("react.context"):60110,h=a?Symbol.for("react.concurrent_mode"):60111,f=a?Symbol.for("react.forward_ref"):60112,m=a?Symbol.for("react.suspense"):60113,g=a?Symbol.for("react.suspense_list"):60120,v=a?Symbol.for("react.memo"):60115,_=a?Symbol.for("react.lazy"):60116,x=a?Symbol.for("react.block"):60121,y=a?Symbol.for("react.fundamental"):60117,b=a?Symbol.for("react.scope"):60119;function w(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case c:return"Fragment";case s:return"Portal";case u:return"Profiler";case l:return"StrictMode";case m:return"Suspense";case g:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case p:return"Context.Consumer";case d:return"Context.Provider";case f:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case v:return w(e.type);case x:return w(e.render);case _:if(e=1===e._status?e._result:null)return w(e)}return null}var S=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;S.hasOwnProperty("ReactCurrentDispatcher")||(S.ReactCurrentDispatcher={current:null}),S.hasOwnProperty("ReactCurrentBatchConfig")||(S.ReactCurrentBatchConfig={suspense:null});var E={};function C(e,t){for(var n=0|e._threadCount;n<=t;n++)e[n]=e._currentValue2,e._threadCount=n+1}for(var j=new Uint16Array(16),k=0;15>k;k++)j[k]=k+1;j[15]=0;var T=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,I=Object.prototype.hasOwnProperty,N={},O={};function P(e){return!!I.call(O,e)||!I.call(N,e)&&(T.test(e)?O[e]=!0:(N[e]=!0,!1))}function D(e,t,n,r,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){R[e]=new D(e,0,!1,e,null,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];R[t]=new D(t,1,!1,e[1],null,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){R[e]=new D(e,2,!1,e.toLowerCase(),null,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){R[e]=new D(e,2,!1,e,null,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){R[e]=new D(e,3,!1,e.toLowerCase(),null,!1)}),["checked","multiple","muted","selected"].forEach(function(e){R[e]=new D(e,3,!0,e,null,!1)}),["capture","download"].forEach(function(e){R[e]=new D(e,4,!1,e,null,!1)}),["cols","rows","size","span"].forEach(function(e){R[e]=new D(e,6,!1,e,null,!1)}),["rowSpan","start"].forEach(function(e){R[e]=new D(e,5,!1,e.toLowerCase(),null,!1)});var A=/[\-:]([a-z])/g;function L(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(A,L);R[t]=new D(t,1,!1,e,null,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(A,L);R[t]=new D(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(A,L);R[t]=new D(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)}),["tabIndex","crossOrigin"].forEach(function(e){R[e]=new D(e,1,!1,e.toLowerCase(),null,!1)}),R.xlinkHref=new D("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach(function(e){R[e]=new D(e,1,!1,e.toLowerCase(),null,!0)});var M=/["'&<>]/;function B(e){if("boolean"==typeof e||"number"==typeof e)return""+e;e=""+e;var t=M.exec(e);if(t){var n,r="",i=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}i!==n&&(r+=e.substring(i,n)),i=n+1,r+=t}e=i!==n?r+e.substring(i,n):r}return e}var W="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},U=null,F=null,H=null,G=!1,V=!1,Y=null,K=0;function q(){if(null===U)throw Error(o(321));return U}function z(){if(0<K)throw Error(o(312));return{memoizedState:null,queue:null,next:null}}function $(){return null===H?null===F?(G=!1,F=H=z()):(G=!0,H=F):null===H.next?(G=!1,H=H.next=z()):(G=!0,H=H.next),H}function X(e,t,n,r){for(;V;)V=!1,K+=1,H=null,n=e(t,r);return F=U=null,K=0,H=Y=null,n}function J(e,t){return"function"==typeof t?t(e):t}function Z(e,t,n){if(U=q(),H=$(),G){var r=H.queue;if(t=r.dispatch,null!==Y&&void 0!==(n=Y.get(r))){Y.delete(r),r=H.memoizedState;do r=e(r,n.action),n=n.next;while(null!==n);return H.memoizedState=r,[r,t]}return[H.memoizedState,t]}return e=e===J?"function"==typeof t?t():t:void 0!==n?n(t):t,H.memoizedState=e,e=(e=H.queue={last:null,dispatch:null}).dispatch=Q.bind(null,U,e),[H.memoizedState,e]}function Q(e,t,n){if(!(25>K))throw Error(o(301));if(e===U)if(V=!0,e={action:n,next:null},null===Y&&(Y=new Map),void 0===(n=Y.get(t)))Y.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}}function ee(){}var et=0,en={readContext:function(e){var t=et;return C(e,t),e[t]},useContext:function(e){q();var t=et;return C(e,t),e[t]},useMemo:function(e,t){if(U=q(),H=$(),t=void 0===t?null:t,null!==H){var n=H.memoizedState;if(null!==n&&null!==t){e:{var r=n[1];if(null===r)r=!1;else{for(var i=0;i<r.length&&i<t.length;i++)if(!W(t[i],r[i])){r=!1;break e}r=!0}}if(r)return n[0]}}return e=e(),H.memoizedState=[e,t],e},useReducer:Z,useRef:function(e){U=q();var t=(H=$()).memoizedState;return null===t?(e={current:e},H.memoizedState=e):t},useState:function(e){return Z(J,e)},useLayoutEffect:function(){},useCallback:function(e){return e},useImperativeHandle:ee,useEffect:ee,useDebugValue:ee,useResponder:function(e,t){return{props:t,responder:e}},useDeferredValue:function(e){return q(),e},useTransition:function(){return q(),[function(e){e()},!1]}},er="http://www.w3.org/1999/xhtml";function ei(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}var eo={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},ea=r({menuitem:!0},eo),es={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ec=["Webkit","ms","Moz","O"];Object.keys(es).forEach(function(e){ec.forEach(function(t){es[t=t+e.charAt(0).toUpperCase()+e.substring(1)]=es[e]})});var el=/([A-Z])/g,eu=/^ms-/,ed=i.Children.toArray,ep=S.ReactCurrentDispatcher,eh={listing:!0,pre:!0,textarea:!0},ef=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,em={},eg={},ev=Object.prototype.hasOwnProperty,e_={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null,suppressHydrationWarning:null};function ex(e,t){if(void 0===e)throw Error(o(152,w(t)||"Component"))}var ey=function(){function e(e,t){i.isValidElement(e)?e.type!==c?e=[e]:(e=e.props.children,e=i.isValidElement(e)?[e]:ed(e)):e=ed(e),e={type:null,domNamespace:er,children:e,childIndex:0,context:E,footer:""};var n=j[0];if(0===n){var r=j,a=2*(n=r.length);if(!(65536>=a))throw Error(o(304));var s=new Uint16Array(a);for(s.set(r),(j=s)[0]=n+1,r=n;r<a-1;r++)j[r]=r+1;j[a-1]=0}else j[0]=j[n];this.threadID=n,this.stack=[e],this.exhausted=!1,this.currentSelectValue=null,this.previousWasTextNode=!1,this.makeStaticMarkup=t,this.suspenseDepth=0,this.contextIndex=-1,this.contextStack=[],this.contextValueStack=[]}var t=e.prototype;return t.destroy=function(){if(!this.exhausted){this.exhausted=!0,this.clearProviders();var e=this.threadID;j[e]=j[0],j[0]=e}},t.pushProvider=function(e){var t=++this.contextIndex,n=e.type._context,r=this.threadID;C(n,r);var i=n[r];this.contextStack[t]=n,this.contextValueStack[t]=i,n[r]=e.props.value},t.popProvider=function(){var e=this.contextIndex,t=this.contextStack[e],n=this.contextValueStack[e];this.contextStack[e]=null,this.contextValueStack[e]=null,this.contextIndex--,t[this.threadID]=n},t.clearProviders=function(){for(var e=this.contextIndex;0<=e;e--)this.contextStack[e][this.threadID]=this.contextValueStack[e]},t.read=function(e){if(this.exhausted)return null;var t=et;et=this.threadID;var n=ep.current;ep.current=en;try{for(var r=[""],i=!1;r[0].length<e;){if(0===this.stack.length){this.exhausted=!0;var a=this.threadID;j[a]=j[0],j[0]=a;break}var s=this.stack[this.stack.length-1];if(i||s.childIndex>=s.children.length){var c=s.footer;if(""!==c&&(this.previousWasTextNode=!1),this.stack.pop(),"select"===s.type)this.currentSelectValue=null;else if(null!=s.type&&null!=s.type.type&&s.type.type.$$typeof===d)this.popProvider(s.type);else if(s.type===m){this.suspenseDepth--;var l=r.pop();if(i){i=!1;var u=s.fallbackFrame;if(!u)throw Error(o(303));this.stack.push(u),r[this.suspenseDepth]+="\x3c!--$!--\x3e";continue}r[this.suspenseDepth]+=l}r[this.suspenseDepth]+=c}else{var p=s.children[s.childIndex++],h="";try{h+=this.render(p,s.context,s.domNamespace)}catch(e){if(null!=e&&"function"==typeof e.then)throw Error(o(294));throw e}finally{}r.length<=this.suspenseDepth&&r.push(""),r[this.suspenseDepth]+=h}}return r[0]}finally{ep.current=n,et=t}},t.render=function(e,t,n){if("string"==typeof e||"number"==typeof e)return""==(n=""+e)?"":this.makeStaticMarkup?B(n):this.previousWasTextNode?"\x3c!-- --\x3e"+B(n):(this.previousWasTextNode=!0,B(n));if(e=(t=function(e,t,n){for(;i.isValidElement(e);){var a=e,s=a.type;if("function"!=typeof s)break;!function(i,a){var s=a.prototype&&a.prototype.isReactComponent,c=function(e,t,n,r){if(r&&"object"==typeof(r=e.contextType)&&null!==r)return C(r,n),r[n];if(e=e.contextTypes){for(var i in n={},e)n[i]=t[i];t=n}else t=E;return t}(a,t,n,s),l=[],u=!1,d={isMounted:function(){return!1},enqueueForceUpdate:function(){if(null===l)return null},enqueueReplaceState:function(e,t){u=!0,l=[t]},enqueueSetState:function(e,t){if(null===l)return null;l.push(t)}};if(s){if(s=new a(i.props,c,d),"function"==typeof a.getDerivedStateFromProps){var p=a.getDerivedStateFromProps.call(null,i.props,s.state);null!=p&&(s.state=r({},s.state,p))}}else if(U={},s=a(i.props,c,d),null==(s=X(a,i.props,s,c))||null==s.render)return ex(e=s,a);if(s.props=i.props,s.context=c,s.updater=d,void 0===(d=s.state)&&(s.state=d=null),"function"==typeof s.UNSAFE_componentWillMount||"function"==typeof s.componentWillMount)if("function"==typeof s.componentWillMount&&"function"!=typeof a.getDerivedStateFromProps&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&"function"!=typeof a.getDerivedStateFromProps&&s.UNSAFE_componentWillMount(),l.length){d=l;var h=u;if(l=null,u=!1,h&&1===d.length)s.state=d[0];else{p=h?d[0]:s.state;var f=!0;for(h=+!!h;h<d.length;h++){var m=d[h];null!=(m="function"==typeof m?m.call(s,p,i.props,c):m)&&(f?(f=!1,p=r({},p,m)):r(p,m))}s.state=p}}else l=null;if(ex(e=s.render(),a),"function"==typeof s.getChildContext&&"object"==typeof(i=a.childContextTypes)){var g=s.getChildContext();for(var v in g)if(!(v in i))throw Error(o(108,w(a)||"Unknown",v))}g&&(t=r({},t,g))}(a,s)}return{child:e,context:t}}(e,t,this.threadID)).child,t=t.context,null===e||!1===e)return"";if(!i.isValidElement(e)){if(null!=e&&null!=e.$$typeof){if((n=e.$$typeof)===s)throw Error(o(257));throw Error(o(258,n.toString()))}return e=ed(e),this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),""}var a=e.type;if("string"==typeof a)return this.renderDOM(e,t,n);switch(a){case l:case h:case u:case g:case c:return e=ed(e.props.children),this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),"";case m:throw Error(o(294))}if("object"==typeof a&&null!==a)switch(a.$$typeof){case f:U={};var x=a.render(e.props,e.ref);return x=ed(x=X(a.render,e.props,x,e.ref)),this.stack.push({type:null,domNamespace:n,children:x,childIndex:0,context:t,footer:""}),"";case v:return e=[i.createElement(a.type,r({ref:e.ref},e.props))],this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),"";case d:return a=ed(e.props.children),n={type:e,domNamespace:n,children:a,childIndex:0,context:t,footer:""},this.pushProvider(e),this.stack.push(n),"";case p:a=e.type,x=e.props;var S=this.threadID;return C(a,S),a=ed(x.children(a[S])),this.stack.push({type:e,domNamespace:n,children:a,childIndex:0,context:t,footer:""}),"";case y:throw Error(o(338));case _:switch(function(e){if(-1===e._status){e._status=0;var t=e._ctor;e._result=t=t(),t.then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)})}}(a=e.type),a._status){case 1:return e=[i.createElement(a._result,r({ref:e.ref},e.props))],this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),"";case 2:throw a._result;default:throw Error(o(295))}case b:throw Error(o(343))}throw Error(o(130,null==a?a:typeof a,""))},t.renderDOM=function(e,t,n){var a=e.type.toLowerCase();if(n===er&&ei(a),!em.hasOwnProperty(a)){if(!ef.test(a))throw Error(o(65,a));em[a]=!0}var s=e.props;if("input"===a)s=r({type:void 0},s,{defaultChecked:void 0,defaultValue:void 0,value:null!=s.value?s.value:s.defaultValue,checked:null!=s.checked?s.checked:s.defaultChecked});else if("textarea"===a){var c=s.value;if(null==c){c=s.defaultValue;var l=s.children;if(null!=l){if(null!=c)throw Error(o(92));if(Array.isArray(l)){if(!(1>=l.length))throw Error(o(93));l=l[0]}c=""+l}null==c&&(c="")}s=r({},s,{value:void 0,children:""+c})}else if("select"===a)this.currentSelectValue=null!=s.value?s.value:s.defaultValue,s=r({},s,{value:void 0});else if("option"===a){l=this.currentSelectValue;var u=function(e){if(null==e)return e;var t="";return i.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(s.children);if(null!=l){var d=null!=s.value?s.value+"":u;if(c=!1,Array.isArray(l)){for(var p=0;p<l.length;p++)if(""+l[p]===d){c=!0;break}}else c=""+l===d;s=r({selected:void 0,children:void 0},s,{selected:c,children:u})}}if(c=s){if(ea[a]&&(null!=c.children||null!=c.dangerouslySetInnerHTML))throw Error(o(137,a,""));if(null!=c.dangerouslySetInnerHTML){if(null!=c.children)throw Error(o(60));if(!("object"==typeof c.dangerouslySetInnerHTML&&"__html"in c.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=c.style&&"object"!=typeof c.style)throw Error(o(62,""))}for(y in c=s,l=this.makeStaticMarkup,u=1===this.stack.length,d="<"+e.type,c)if(ev.call(c,y)){var h=c[y];if(null!=h){if("style"===y){p=void 0;var f="",m="";for(p in h)if(h.hasOwnProperty(p)){var g=0===p.indexOf("--"),v=h[p];if(null!=v){if(g)var _=p;else if(_=p,eg.hasOwnProperty(_))_=eg[_];else{var x=_.replace(el,"-$1").toLowerCase().replace(eu,"-ms-");_=eg[_]=x}f+=m+_+":",m=p,f+=g=null==v||"boolean"==typeof v||""===v?"":g||"number"!=typeof v||0===v||es.hasOwnProperty(m)&&es[m]?(""+v).trim():v+"px",m=";"}}h=f||null}p=null;t:if(g=a,v=c,-1===g.indexOf("-"))g="string"==typeof v.is;else switch(g){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":g=!1;break t;default:g=!0}g?e_.hasOwnProperty(y)||(p=P(p=y)&&null!=h?p+'="'+B(h)+'"':""):p=function(e,t){var n,r=R.hasOwnProperty(e)?R[e]:null;return((n="style"!==e)&&(n=null!==r?0===r.type:2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])),n||function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":if(r)return!1;if(null!==n)return!n.acceptsBooleans;return"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e;default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(e,t,r,!1))?"":null!==r?(e=r.attributeName,3===(n=r.type)||4===n&&!0===t)?e+'=""':(r.sanitizeURL&&(t=""+t),e+'="'+B(t)+'"'):P(e)?e+'="'+B(t)+'"':""}(y,h),p&&(d+=" "+p)}}l||u&&(d+=' data-reactroot=""');var y=d;c="",eo.hasOwnProperty(a)?y+="/>":(y+=">",c="</"+e.type+">");e:{if(null!=(l=s.dangerouslySetInnerHTML)){if(null!=l.__html){l=l.__html;break e}}else if("string"==typeof(l=s.children)||"number"==typeof l){l=B(l);break e}l=null}return null!=l?(s=[],eh.hasOwnProperty(a)&&"\n"===l.charAt(0)&&(y+="\n"),y+=l):s=ed(s.children),e=e.type,n=null==n||"http://www.w3.org/1999/xhtml"===n?ei(e):"http://www.w3.org/2000/svg"===n&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":n,this.stack.push({domNamespace:n,type:a,children:s,childIndex:0,context:t,footer:c}),this.previousWasTextNode=!1,y},e}(),eb={renderToString:function(e){e=new ey(e,!1);try{return e.read(1/0)}finally{e.destroy()}},renderToStaticMarkup:function(e){e=new ey(e,!0);try{return e.read(1/0)}finally{e.destroy()}},renderToNodeStream:function(){throw Error(o(207))},renderToStaticNodeStream:function(){throw Error(o(208))},version:"16.14.0"};e.exports=eb.default||eb},65848(e,t,n){"use strict";e.exports=n(72911)},90919(e,t,n){"use strict";n(1616)},50216(e,t,n){"use strict";n.d(t,{Re:()=>P});var r=n(74848),i=n(41594),o=n(77322),a=n(62705),s=n(14816),c=n(19042),l=n(52846),u=n(99282),d=n(52301),p=n(88963),h=n(51877),f=n(33007),m=n(28413),g=n(46942),v=n.n(g),_=n(95644),x=n(451),y=n(5762),b=n(34221),w=n(7452),S=n.n(w),E=n(19040),C=n(20126),j=n(28269),k=n.n(j),T=["self","coll","published","unpublished"],I={self:"MyProject.noCreateProjectTips",coll:"MyProject.noCollProjectTips",published:"MyProject.noPublishProjectTips",unpublished:"MyProject.noCreateProjectTips"};function N(e){var t=e.title,n=e.type;return"loaded"===n?(0,r.jsx)(r.Fragment,{}):"emptyList"===n?(0,r.jsx)("div",{className:k().emptyContainer,children:i.createElement(s.we,{text:t})}):(0,r.jsx)(r.Fragment,{})}function O({project:e,onClick:t,onDelete:n,filterType:a,status:s}){let{formatMessage:c}=_.a();function l(){var t=[];return"coll"===a?t.push("deleteCollProject"):e.publishedTime||t.push("deleteProject"),t}return(0,r.jsxs)("div",{className:v()(k().item),onClick:()=>{t(e.id,e.name,e.updateTime)},children:[(0,r.jsx)("div",{className:k().cover,children:(0,r.jsx)("img",{src:(e.coverUrl||e.previewUrl)?.replace("https://static-creation.codemao.cn/","https://creation.codemao.cn/"),alt:e.name})}),(0,r.jsx)(f.a,{className:k().name,text:e.name}),(0,r.jsx)("p",{className:k().time,children:i.createElement(o.ne,{time:e.updateTime,currentTime:e.serverTime})}),!!l().length&&(0,r.jsx)("div",{className:k().menuContainer,onClick:function(e){e.stopPropagation()},children:(0,r.jsx)(d.a,{placement:"rightTop",trigger:"click",overlayClassName:k().menuPopover,zIndex:100,content:(0,r.jsx)("div",{className:k().menuContent,children:(0,r.jsx)(f.l,{onClick:function(t){("deleteProject"===t||"deleteCollProject"===t)&&n(e.id,e.name,e.isCollWork||"coll"===a)},children:l().map(function(e,t){return(0,r.jsx)(f.m,{value:e,children:(0,r.jsx)("span",{children:c({id:"MyProject."+e})})},t)})})}),children:(0,r.jsx)("div",{children:(0,r.jsx)(f.rP,{type:"icon-more"})})})}),(0,r.jsxs)("div",{className:k().badgeWrapper,children:[(e.isCollWork||"coll"===a)&&"loaded"===s&&(0,r.jsx)(f.rP,{type:"icon-collaborator"}),!!e.publishedTime&&(0,r.jsx)(f.rP,{type:"icon-publish"})]})]},e.id)}let P=i.memo(({visible:e,importProjectJson:t})=>{var n,o,s,d=i.useState([]),g=x.a(d,2),w=g[0],j=g[1];let[P,D]=i.useState("loaded"),R=(0,E.useSelector)(function(e){return e.common.language}),A=(0,E.useSelector)(function(e){return e.common.userInfo}),L=(0,E.useSelector)(function(e){return e.project.id}),[M,B]=i.useState("self"),W=(0,E.useDispatch)();var U=i.useRef(0),F=i.useRef(1),H=i.useRef(!1);let{formatMessage:G}=_.a();async function V(e,n,r){try{let n=await u.d(e),{data:r}=n;if(r){if(!(await C.Ml()).includes(Number(e))&&!r.is_author&&r.is_coll_work&&r.content&&r.content.unsafeExtensionWidgetList&&r.content.unsafeExtensionWidgetList.length>0&&!await new Promise(e=>{W(h.xqZ({onConfirm(){e(!0)},onCancel(){e(!1)},title:"协作安全提醒",content:"作品使用了未审核的自定义控件，进行协作可能存在安全隐患，确定要进行协作吗？",isDangerous:!0}))}))return;t({json:r.content,projectId:e,lastSavedTime:1e3*r.updated_at,isCollWork:r.is_coll_work,isAuthor:r.is_author,editPermission:r.edit_permission,jsonFrom:r.is_coll_work?p.d.OTHER:p.d.MY_WORK}),c.a("OpenWork",{workId:e,workType:"coll"===M?2:1,isSuccess:!0,failReason:""})}else W(h.yFv({code:n.code}))}catch(t){console.error("getProjectJson error",t),c.a("OpenWork",{workId:e,workType:"coll"===M?2:1,isSuccess:!1,failReason:t.message})}W(h.epe())}var Y=i.useCallback((n=b.a(S().mark(function e(t){return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!H.current){e.next=2;break}return e.abrupt("return");case 2:if(H.current=!0,D("loading"),"coll"!==M){e.next=10;break}return e.next=7,function(e){return z.apply(this,arguments)}(t);case 7:case 13:case 19:t=e.sent,e.next=26;break;case 10:if("self"!==M){e.next=16;break}return e.next=13,K(t);case 16:if("published"!==M){e.next=22;break}return e.next=19,K(t,!0);case 22:if("unpublished"!==M){e.next=26;break}return e.next=25,K(t,!1);case 25:t=e.sent;case 26:$(t),H.current=!1;case 28:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)}),[M]);function K(e,t){return q.apply(this,arguments)}function q(){return(q=b.a(S().mark(function e(t,n){var r;return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(F.current<U.current)){e.next=2;break}return e.abrupt("return",t);case 2:return e.next=4,u.c(U.current,20,n);case 4:return r=e.sent,U.current+=20,F.current=r.total,e.abrupt("return",[].concat(m.a(t),m.a(r.list)));case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function z(){return(z=b.a(S().mark(function e(t){var n;return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(F.current<20*U.current)){e.next=2;break}return e.abrupt("return",t);case 2:return U.current++,e.next=5,u.b(U.current,20);case 5:return F.current=(n=e.sent).total,e.abrupt("return",[].concat(m.a(t),m.a(n.list)));case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}if(i.useEffect(function(){e&&(U.current=0,H.current=!1,Y([]))},[Y,e]),!e)return null;function $(e){j(e),0===e.length?D("emptyList"):D("loaded")}var X=(o=b.a(S().mark(function e(t){var n,r;return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!A||"coll"!==M){e.next=6;break}return e.next=3,(0,a.de)(t,A.id);case 3:n=e.sent,e.next=10;break;case 6:return e.next=8,u.a(t);case 8:(n=e.sent)&&W(h.Szx({message:y.c(R,"MyProject.deleteProjectSuccess").toString()}));case 10:n?(r=w.findIndex(function(e){return e.id===t}))>-1&&(w.splice(r,1),$(m.a(w)),L===t&&W(h._$u())):W(h.Szx({message:y.c(R,"MyProject.deleteProjectError").toString(),duration:1e3,type:"error"}));case 11:case"end":return e.stop()}},e)})),function(e){return o.apply(this,arguments)});function J(e,t,n){"coll"===M?W(h.xqZ({onConfirm:X.bind(null,e),allowText:G({id:"MyProject.quitCollWorkConfirmText"}),title:G({id:"MyProject.quitCollWorkTitle"},{name:l.f(t)}),content:G({id:"MyProject.quitCollWorkDescription"}),isDangerous:!0})):X(e)}var Z=(s=b.a(S().mark(function e(t){return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:B(t);case 1:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)});return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:k().filter,children:T.map(function(e){return(0,r.jsx)("div",{onClick:Z.bind(null,e),className:v()(k().filterItem,M===e&&k().active),children:G({id:"MyProject.".concat(e)})},e)})}),(0,r.jsxs)("div",{className:k().container,children:[i.createElement(N,{title:G({id:I[M]}),type:P}),w.length>0&&(0,r.jsx)("div",{className:k().main,children:(0,r.jsx)(f.v,{offsetY:300,height:450,onScrollBottom:function(){Y(w)},children:w.map(function(e){return(0,r.jsx)(O,{status:P,project:e,onClick:V,onDelete:J,filterType:M},e.id)})})})]})]})})},41783(e,t,n){"use strict";n.d(t,{Yv:()=>L});var r=n(74848),i=n(10004),o=n(25744),a=n(35685),s=n(9065),c=n(94220),l=n(32919),u=n(50862),d=n(52846),p=n(33383),h=n(52301),f=n(88963),m=n(51877),g=n(33007),v=n(28413),_=n(13244),x=n(46942),y=n.n(x),b=n(95644),w=n(451),S=n(19040),E=n(41594),C=n.n(E),j=n(49186),k=n.n(j);let T=(0,E.memo)(function(e){var t,n=e.id,i=e.type,a=e.title,s=e.visible,l=e.selected,u=e.onDelete,d=e.onSelect,f=e.toggleAttributeVisible,m=e.onCopyToCurrentScreen,g=e.onHide,v=e.onShow,x=e.icon,C=e.children,j=e.isChildren,T=e.isLast,I=e.className,N=e.readonly,O=void 0!==N&&N,P=e.isInvisibleWidget,D=b.a().formatMessage,R=(0,E.useRef)(null),A=(0,S.useSelector)(function(e){return e.block.flyoutVisible}),L=(0,E.useState)(!0),M=w.a(L,2),B=M[0],W=M[1],U=(0,E.useState)(!1),F=w.a(U,2),H=F[0],G=F[1];let[V,Y]=(0,E.useState)("none");(0,E.useEffect)(function(){var e=function e(){G(!1),document.removeEventListener("click",e,!0),document.removeEventListener("contextmenu",e,!0)};return H&&(document.addEventListener("click",e,!0),document.addEventListener("contextmenu",e,!0)),function(){document.removeEventListener("click",e,!0),document.removeEventListener("contextmenu",e,!0)}},[H]),(0,E.useEffect)(function(){l&&R.current&&R.current.scrollIntoView({behavior:"smooth",block:"nearest"})},[l]);var K=function(e){e.stopPropagation(),u(n)},q=function(){m(n)};return(0,r.jsxs)("div",{ref:e=>{if(null===e||"true"===e.getAttribute("data-drag-hook"))return;let t="none",n=new MouseEvent("mousedown"),r=new TouchEvent("touchstart");Object.defineProperty(n,"target",{value:e}),Object.defineProperty(r,"target",{value:e});let i=null,o=null;e.addEventListener("dragstart",function(o){if("polyfill"===t)return;let{dataTransfer:a}=o;t=null!==a&&"_dragDropTouch"in a?"polyfill":"native",(()=>{let t=e.parentElement;if(null===t)return;let i=Object.keys(t).find(e=>e.startsWith("__reactEventHandlers"));if(void 0===i)return;let o=t[i];o?.onMouseDown?.(n),o?.onTouchStart?.(r)})(),i?.(o),Y(t)}),e.addEventListener("touchmove",()=>{G(!1)}),e.addEventListener("dragend",function(e){let{dataTransfer:n}=e;("polyfill"!==t||null===n||"_dragDropTouch"in n)&&(o?.(e),Y(t="none"))}),e.setAttribute("data-drag-hook","true"),Object.defineProperty(e,"ondragstart",{get:()=>null,set(e){i=e}}),Object.defineProperty(e,"ondragend",{get:()=>null,set(e){o=e}}),e.addEventListener("mousedown",e=>{n=e}),e.addEventListener("touchstart",e=>{r=e}),e.draggable=!0;let a=e.removeAttribute;e.removeAttribute=function(e){"draggable"!==e&&a.call(this,e)}},style:{transform:"polyfill"===V?"scale(1.2)":void 0,transition:"transform .1s ease-in-out,box-shadow .1s"},className:y()(k().itemWrapper,void 0===I?"":I),children:[(0,r.jsx)(h.a,{placement:"bottomLeft",trigger:"hover",onVisibleChange:function(e){e&&G(!1)},visible:H,arrowPointAtCenter:!0,overlayClassName:"popoverOverlay",content:function(){return(0,r.jsxs)("div",{className:k().popoverWrapper,onContextMenu:function(e){return e.preventDefault()},children:[!P&&(0,r.jsx)("div",{className:k().menuItem,onMouseDown:q,children:D({id:"copyAndPaste"})}),(0,r.jsx)("div",{className:y()(k().menuItem,k().delete),onMouseDown:K,children:D({id:"delete"})})]})},children:(0,r.jsxs)("div",{ref:R,className:y()(k().item,(t={},_.a(t,k().selected,l&&A),_.a(t,k().selectedLight,l&&!A),_.a(t,k().children,j),_.a(t,k().parent,!!C),_.a(t,k().expanded,B),_.a(t,k().notLast,!T&&j),t)),onContextMenu:function(e){e.preventDefault(),O||i!==c.c&&i!==c.a&&j||G(!0)},onClick:function(){d(n)},children:[(0,r.jsxs)("div",{className:k().left,children:[(0,r.jsx)("span",{className:k().foldIconContainer,onClick:function(e){W(!B),e.stopPropagation()},children:(0,r.jsx)(o.a,{type:"icon-fold-left",className:k().foldIcon})}),p.X(x)?(0,r.jsx)("img",{className:y()(k().widgetIcon,k().widgetUrlIcon),src:x,alt:a,draggable:!1}):(0,r.jsx)(o.a,{type:x,className:k().widgetIcon}),(0,r.jsx)("span",{className:y()(k().label,!s&&k().labelGray),children:a})]}),(0,r.jsxs)("div",{className:k().right,children:[!P&&i!==c.c&&(0,r.jsx)("div",{onClick:function(e){e.stopPropagation(),s?g(n):v(n)},className:y()(k().controlIcon,k().seeIcon),children:(0,r.jsx)(o.a,{type:s?"icon-see":"icon-see-disable"})}),(0,r.jsx)("div",{onClick:function(e){e.stopPropagation(),f(n)},className:k().controlIcon,children:(0,r.jsx)(o.a,{type:"icon-attribute"})})]})]})}),B&&C]})}),I=(0,E.memo)(()=>{var{formatMessage:e}=b.a(),t=(0,S.useDispatch)(),n=(0,E.useRef)();let o=(0,S.useSelector)(e=>e.common.editAreaUpdatedAt),h=(0,S.useSelector)(e=>e.common.widgetAttributeVisible),x=(0,S.useSelector)(e=>e.project.selectedWidgetId),C=(0,S.useSelector)(e=>e.project.globalWidgetIds),j=(0,S.useSelector)(e=>e.block.flyoutVisible),I=s.d(),[N,O]=(0,E.useState)(!1),[P,D]=(0,E.useState)(!1),[R,A]=(0,E.useState)(!1),[L,M]=(0,E.useState)(!1),B=(0,S.useSelector)(e=>e.uiConfig.widgetEditor)===f.j.ReadOnly;if(!I)return null;function W(e){var n,r;t(m.ug(e)),x===e&&h?t(m.fj(!1)):x===e&&j?(u.g.setSelectedItem(),null!=(n=u.g.getToolbox())&&n.flyout.hide()):u.g.setSelectedItem(null==(r=u.g.getToolbox())?void 0:r.find_node_by_name(e))}function U(e){var n,r;t(m.ug(e)),x===e&&j||u.g.setSelectedItem(null==(n=u.g.getToolbox())?void 0:n.find_node_by_name(e)),x===e&&h?(t(m.fj(!1)),null!=(r=u.g.getToolbox())&&r.refresh_selection()):t(m.fj(!0))}function F(e){t(m.Lg(e,"visible",!0,!0,!0))}function H(e){t(m.Lg(e,"visible",!1,!0,!0))}function G(e){t(m.Ef(l.w(e)))}function V(r){var i=l.Bb(r);if(i){var o=l.Fb(i.id||""),a=e({id:"deleteWidget"})+"“"+d.f(o,10)+"”?";if(i.type===c.h)return n.current=l.Bb(r),void t(m.zh({onConfirm:K,onClose:q,allowText:e({id:"delete"}),isDangerous:!0,title:a,content:e({id:"cloudDB.DeleteWidgetsTips"})}));var s=u.z.checkFieldValueIsSelected("WIDGET_ID",r),p=u.z.checkSomeFieldValueIsSelected("WIDGET_ID",l.U(r));s||p?(n.current=l.Bb(r),t(m.zh({onConfirm:K,onClose:q,allowText:e({id:"delete"}),isDangerous:!0,title:a,content:e({id:p?"deleteParentWidgetTips":"deleteWidgetTips"})}))):(t(m.Mf(r,I.id)),n.current=void 0)}}function Y(e){var n,r;t(m.ug(e)),x===e&&j?(u.g.setSelectedItem(),null!=(n=u.g.getToolbox())&&n.flyout.hide()):u.g.setSelectedItem(null==(r=u.g.getToolbox())?void 0:r.find_node_by_name(e))}function K(){var e=n?.current.id;e&&t(m.Mf(e,I.id))}function q(){n.current=void 0}let z=[],$=[],X=[],J=[],Z=new Map;I.widgetIds.forEach(t=>{let n=l.Bb(t);if(n){n&&!n.parentId&&Z.set(t,{widget:n});let{type:i}=n;if(n&&!J.includes(i)){var r=l.Db(n.type);r&&r.hasAnyWidget&&(J.push(i),X.push({type:"ANY_".concat(i),icon:r.icon,title:e({id:"anyWidgetAny"})+e({id:r.title||r.previewAreaWidgetTitle})}))}}}),Z.forEach(e=>{(e.widget.type===c.yV||e.widget.type===c.b5||e.widget.type===c.Sn)&&e.widget.widgetIds.forEach(t=>{let n=l.Bb(t);n&&(e.children||(e.children=[]),e.children.push({widget:n}))}),z.push(e),$.push(e.widget.id)});let Q=[],ee=[];I.invisibleWidgetIds?.forEach(e=>{let t=l.Bb(e);t&&(Q.push({widget:t}),ee.push(t.id))});let et=[],en=[];function er(e,t,n){return(0,r.jsx)(r.Fragment,{children:e.reverse().map(({widget:i,children:o},a)=>(0,r.jsx)(T,{className:t,id:i.id,icon:l.Db(i.type)?.icon||"",type:i.type,title:l.Fb(i.id),visible:i.visible,readonly:B,selected:x===i.id,onDelete:V,onHide:H,onSelect:W,onShow:F,onCopyToCurrentScreen:G,toggleAttributeVisible:U,isLast:a===e?.length-1,isDragAndDeleteDisabled:n?.isDragAndDeleteDisabled,isInvisibleWidget:n?.isInvisibleWidget,isChildren:!!n?.parentId,children:o&&ei(o,{parentId:i.id,isGlobalWidget:n?.isGlobalWidget,isInvisibleWidget:n?.isInvisibleWidget,isDragAndDeleteDisabled:i.type===c.b5||i.type===c.Sn})},i.id))})}function ei(e,n){let o=n?.parentId?"SubReactDragListViewItem":"ReactDragListViewItem",s=`.${o}`;return n?.isInvisibleWidget||n?.isGlobalWidget||n?.isDragAndDeleteDisabled||B?er(e,o,n):(0,r.jsx)(i.Mv,{nodeSelector:s,handleSelector:s,onDragEnd:(e,r)=>{B||function(e,n,r){if(!(e<0||n<0))if(r?.parentId){var i=l.Bb(null==r?void 0:r.parentId),o=i.widgetIds,s=o.length-e-1,c=o.length-n-1,u=o.splice(s,1),d=w.a(u,1)[0],p=v.a(o);p.splice(c,0,d),t(m.Mg(I.id,i.id,p,!0,!0,!0))}else{var h,f=$.length-e-1,g=$.length-n-1,_=$[f],x=$[g];let{widgetIds:i}=I;var y=i.indexOf(x),b=i.indexOf(_);if(y<0||b<0)return;i.splice(b,1),i.splice(y,0,_),t(m.Bj(I.id,v.a(i),null==r?void 0:r.isInvisibleWidget)),null!=(h=a.E.widget)&&h.clientOp.moveWidget(I.id,b,y)}}(e,r,n)},lineClassName:k().dragLine,children:er(e,o,n)})}return C.forEach(e=>{let t=l.Bb(e);t&&t.type!==c.$x&&(et.push({widget:t}),en.push(t.id))}),(0,r.jsx)("div",{className:k().wrapper,children:(0,r.jsxs)("div",{className:k().list,"data-updated-at":o,children:[(0,r.jsxs)("div",{className:k().widgetCategory,onClick:()=>{O(!N)},children:[(0,r.jsx)("span",{children:e({id:"components"})}),(0,r.jsx)(g.j,{type:"icon-fold",className:N?k().fold:k().unFold})]}),!N&&ei(z),!N&&(0,r.jsxs)("div",{className:y()(k().item,k().screenItem,{[k().selected]:!x&&j,[k().selectedLight]:!x&&!j}),onContextMenu:e=>e.preventDefault(),onClick:function(){var e,n;t(m.ug(void 0)),x||!h?!x&&j?(u.g.setSelectedItem(),null!=(e=u.g.getToolbox())&&e.flyout.hide()):u.g.setSelectedItem(null==(n=u.g.getToolbox())?void 0:n.find_node_by_name(I.id)):t(m.fj(!1))},children:[(0,r.jsxs)("div",{className:k().left,children:[(0,r.jsx)(g.j,{type:"icon-screen",className:k().widgetIcon}),(0,r.jsx)("span",{className:k().label,children:I.title})]}),(0,r.jsxs)("div",{className:k().right,children:[(0,r.jsx)("div",{onClick:function(e){var n;e.stopPropagation(),t(m.ug(void 0)),u.g.setSelectedItem(null==(n=u.g.getToolbox())?void 0:n.find_node_by_name(I.id)),t(!x&&h?m.fj(!1):m.fj(!0))},className:y()(k().controlIcon,k().attributeIcon),children:(0,r.jsx)(g.j,{type:"icon-attribute"})}),(0,r.jsx)("div",{className:k().screenBottomIcon,children:(0,r.jsx)(g.j,{type:"icon-screen-bottom"})})]})]}),ee.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:k().widgetCategory,onClick:()=>{D(!P)},children:[(0,r.jsx)("span",{children:e({id:"invisibleWidgetList"})}),(0,r.jsx)(g.j,{type:"icon-fold",className:P?k().fold:k().unFold})]}),!P&&ei(Q,{isInvisibleWidget:!0})]}),en.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:k().widgetCategory,onClick:()=>{A(!R)},children:[(0,r.jsxs)("span",{children:[" ",e({id:"globalWidgetList"})," "]}),(0,r.jsx)(g.j,{type:"icon-fold",className:R?k().fold:k().unFold})]}),!R&&ei(et,{isGlobalWidget:!0,isInvisibleWidget:!0})]}),X.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:k().widgetCategory,onClick:()=>{M(!L)},children:[(0,r.jsx)("span",{children:e({id:"anyWidgetList"})}),(0,r.jsx)(g.j,{type:"icon-fold",className:L?k().fold:k().unFold})]}),!L&&(0,r.jsx)("div",{onContextMenu:function(e){return e.preventDefault()},children:X.reverse().map(function(e){var t,n=e.type,i=e.icon,o=e.title;return(0,r.jsx)("div",{onClick:Y.bind(null,n),className:y()(k().item,(t={},_.a(t,k().selected,x===n&&j),_.a(t,k().selectedLight,x===n&&!j),_.a(t,k().parent,!1),t)),children:(0,r.jsxs)("div",{className:y()(k().left,k().anyWidget),children:[p.X(i)?(0,r.jsx)("img",{className:y()(k().widgetIcon,k().widgetUrlIcon),src:i,alt:o,draggable:!1}):(0,r.jsx)(g.j,{type:i,className:k().widgetIcon}),(0,r.jsx)("span",{className:y()(k().label),children:o})]})},n)})})]})]})})});var N=n(18516),O=n.n(N),P=(0,E.memo)(function(e){var t=e.id,n=e.icon,i=e.label,o=e.color,a=e.bgColor,s=(0,S.useDispatch)(),c=b.a().formatMessage,l=(0,S.useSelector)(function(e){return e.project.selectedWidgetId}),d=(0,S.useSelector)(function(e){return e.block.flyoutVisible}),p=(0,E.useState)(!1),h=w.a(p,2),f=h[0],v=h[1],_=(0,E.useState)(""),x=w.a(_,2),C=x[0],j=x[1];return(0,E.useEffect)(function(){j(l===t&&d?o:f||l===t&&!d?a:"")},[l,t,d,f,o,a]),(0,r.jsxs)("div",{className:y()(O().itemBlock,l===t&&d&&O().itemSelected),style:{backgroundColor:C},onClick:function(){var e,n;s(m.ug(t)),s(m.fj(!1)),l===t&&d?(u.g.setSelectedItem(),null!=(e=u.g.getToolbox())&&e.flyout.hide()):u.g.setSelectedItem(null==(n=u.g.getToolbox())?void 0:n.find_node_by_name(t))},onMouseEnter:function(){v(!0)},onMouseLeave:function(){v(!1)},children:[(0,r.jsx)("div",{className:O().itemBlockIcon,style:{color:o},children:(0,r.jsx)(g.j,{type:n})}),(0,r.jsx)("span",{children:c({id:i})})]},t)}),D=[{id:"toolbox-event",icon:"icon-toolbox-event",label:"event",color:"rgb(84, 115, 248)",bgColor:"rgba(84, 115, 248,0.2)"},{id:"toolbox-control",icon:"icon-toolbox-control",label:"control",color:"#01ADFF",bgColor:"rgba(1,173,255,0.2)"},{id:"toolbox-feature",icon:"icon-toolbox-feature",label:"feature",color:"rgb(0, 175, 195)",bgColor:"rgb(0, 175, 195, 0.2)"},{id:"toolbox-operator",icon:"icon-toolbox-operation",label:"operators",color:"#FF844E",bgColor:"rgba(255,132,78,0.2)"},{id:"toolbox-primitive",icon:"icon-toolbox-variable",label:"variable",color:"#FFBB55",bgColor:"rgba(255,187,85,0.2)"},{id:"toolbox-array",icon:"icon-toolbox-list",label:"list",color:"#FFC915",bgColor:"rgba(255,201,21,0.2)"},{id:"toolbox-object",icon:"icon-toolbox-object",label:"object",color:"rgb(160, 115, 255)",bgColor:"rgb(160, 115, 255, 0.2)"},{id:"toolbox-function",icon:"icon-toolbox-function",label:"procedures",color:"#F78767",bgColor:"rgba(247,135,103,0.2)"}],R=(0,E.memo)(function(){var e=b.a().formatMessage;return(0,r.jsxs)("div",{className:O().basicBlockBox,children:[(0,r.jsx)("div",{className:O().categoryTitle,children:e({id:"basicBlock"})}),(0,r.jsx)("div",{className:O().blockList,children:D.map(function(e){return C().createElement(P,Object.assign({key:e.id},e))})}),(0,r.jsx)("div",{className:O().spaceLine})]})}),A=(0,E.memo)(function(){var e=b.a().formatMessage,t=(0,S.useSelector)(function(e){return e.block.isBlockDragDeleteArea});return(0,r.jsxs)("div",{className:O().deleteBlockBox,children:[(0,r.jsx)("div",{className:y()(O().deleteTopIconBox,t&&O().deleteTopIconBoxOff),children:(0,r.jsx)(g.j,{type:"icon-delete-top",className:O().deleteBlockTopIcon})}),(0,r.jsx)("div",{className:O().deleteBottomIconBox,children:(0,r.jsx)(g.j,{type:"icon-delete-bottom",className:O().deleteBlockBottomIcon})}),(0,r.jsx)("div",{children:e({id:"Workspace.blockDragDeleteAreaTips"})})]})});let L=(0,E.memo)(()=>{let e=(0,S.useDispatch)(),t=(0,E.useRef)(null),n=(0,S.useSelector)(e=>e.block.isBlockDragDeleteArea);return(0,r.jsxs)("div",{className:O().wrapper,onMouseEnter:()=>e(m.ui(!0)),onMouseLeave:()=>e(m.ui(!1)),children:[(0,r.jsx)("div",{className:O().basicBlock,children:(0,r.jsx)(R,{})}),(0,r.jsx)("div",{className:O().widgetTree,ref:t,children:(0,r.jsx)(I,{})}),(0,r.jsx)("div",{className:y()(O().deleteBlockPanel,n&&O().deleteBlockPanelShow),children:C().createElement(A,null)})]})})},48999(e,t,n){"use strict";var r,i,o,a,s=n(74848),c=n(41037),l=n(41594),u=n.n(l),d=n(8330),p=n(80108),h=n(19787),f=n(31806),m=n(39029),g=n(19042),v=n(33383),_=n(51877),x=n(33007),y=n(95644),b=n(34221),w=n(7452),S=n.n(w),E=n(19040),C=n(30221),j=n.n(C);(r=a||(a={})).ORIGINAL_LOGIN="ORIGINAL_LOGIN",r.ORIGINAL_ACCOUNT_SETTING="ORIGINAL_ACCOUNT_SETTING",r.LOGOUT="LOGOUT",r.ACCOUNT_SETTING="ACCOUNT_SETTING",r.USER_AGREEMENT="USER_AGREEMENT";let k=[{label:"用户协议",link:"https://static-platform.codemao.cn/926/protocols/7KeVbBdw_userserviceProtocol.html"},{label:"隐私协议",link:"https://static-platform.codemao.cn/926/protocols/7KeVbBdw_privacyProtocol.html"},{label:"儿童隐私保护协议",link:"https://static-platform.codemao.cn/926/protocols/7KeVbBdw_childrenPrivacyProtectProtocol.html"},{label:"个人信息保护政策摘要",link:"https://static-platform.codemao.cn/926/protocols/7KeVbBdw_informationProtectionPolicySummary.html"},{label:"个人信息收集清单",link:"https://static-platform.codemao.cn/926/protocols/7KeVbBdw_informationCollectionList.html"},{label:"个人信息共享清单",link:"https://static-platform.codemao.cn/926/protocols/7KeVbBdw_informationSharingList.html"}],T=l.memo(e=>{let{formatMessage:t}=y.a();var n,r=(0,E.useDispatch)(),i=(0,E.useSelector)(function(e){return e.common.userInfo}),o=(n=b.a(S().mark(function e(t){return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next=e.t0===a.LOGOUT?3:e.t0===a.ACCOUNT_SETTING?14:16;break;case 3:return e.prev=3,e.next=6,(0,m.Ve)();case 6:return e.next=8,r(_.wg(null));case 8:e.next=13;break;case 10:e.prev=10,e.t1=e.catch(3),console.error(e.t1);case 13:return e.abrupt("break",16);case 14:return window.open(v.D(),"_blank"),e.abrupt("break",16);case 16:if(t===a.ORIGINAL_LOGIN){function n(){window.open(location.origin+"/original_login/","_blank")}"coco-next.localhost"==location.hostname?r(_.xqZ({title:"提示",content:"当前界面不需要进行原始登录，确定要继续吗？",onConfirm:n})):n()}else t===a.ORIGINAL_ACCOUNT_SETTING&&window.open(location.origin+"/original_login/?url=https://shequ.codemao.cn/setting/","_blank");case"end":return e.stop()}},e,null,[[3,10]])})),function(e){return n.apply(this,arguments)}),c=(0,s.jsx)(x.l,{children:k.map((e,t)=>(0,s.jsx)(x.m,{children:(0,s.jsx)("div",{onClick:()=>window.open(e.link,"_blank"),children:e.label})},t))});return i?(0,s.jsx)("div",{className:j().wrapper,children:(0,s.jsx)(x.g,{overlay:(0,s.jsxs)(x.l,{onClick:o,children:[!location.hostname.endsWith(".codemao.cn")&&(0,s.jsx)(x.m,{value:a.ORIGINAL_LOGIN,children:(0,s.jsx)("div",{children:t({id:"originalLogin"})})}),!location.hostname.endsWith(".codemao.cn")&&(0,s.jsx)(x.m,{value:a.ORIGINAL_ACCOUNT_SETTING,children:(0,s.jsx)("div",{children:t({id:"originalAccountSetting"})})}),(0,s.jsx)(x.m,{value:a.ACCOUNT_SETTING,children:(0,s.jsx)("div",{children:t({id:"accountSetting"})})}),(0,s.jsx)(x.y,{subMenu:c,children:(0,s.jsx)("div",{children:t({id:"serviceAgreement"})})}),(0,s.jsx)(x.m,{value:a.LOGOUT,children:(0,s.jsx)("div",{children:t({id:"logout"})})})]}),children:(0,s.jsx)("div",{className:j().image,style:{backgroundImage:`url(${i.avatar_url})`}})})}):(0,s.jsx)("div",{className:j().loginButton,onClick:function(){r(_.Ch()),g.a("LoginButtonClick")},children:t({id:"login"})})});var I=n(50158),N=n(62705),O=n(28388),P=n(55874),D=n.n(P),R=n(27071),A=n(59994),L=n(52301),M=n(43721),B=n(88963),W=n(46942),U=n.n(W),F=n(22827),H=n(451),G=n(32919),V=function(e){var t,n,r=l.useState(!1),i=H.a(r,2),o=i[0],a=i[1],c=y.a().formatMessage,u=function(){a(!1)};return l.useEffect(function(){e.parentVisible||a(!1)},[e.parentVisible]),e.isAuthor?(0,s.jsx)(L.a,{placement:"bottom",content:(t=e.id,n=e.permission,(0,s.jsxs)("div",{className:D().permissionDialog,children:[(0,s.jsxs)("div",{onClick:()=>e.handleChangePermission(B.c.Edit,t,u),className:D().item,children:[(0,s.jsx)(x.rP,{type:"icon-selected",className:U()(D().icon,n===B.c.Edit&&D().selected)}),(0,s.jsx)("span",{children:c({id:"OT.dialogCanEdit"})})]}),(0,s.jsxs)("div",{onClick:()=>e.handleChangePermission(B.c.ReadOnly,t,u),className:D().item,children:[(0,s.jsx)(x.rP,{type:"icon-selected",className:U()(D().icon,n===B.c.ReadOnly&&D().selected)}),(0,s.jsx)("span",{children:c({id:"OT.dialogReadOnly"})})]}),(0,s.jsx)("div",{onClick:()=>e.handleRemovePermission(t,u),className:U()(D().item,D().remove),children:(0,s.jsx)("span",{children:c({id:"OT.dialogRemove"})})})]})),trigger:"click",visible:o,onVisibleChange:e=>a(e),children:(0,s.jsxs)("div",{className:D().edit_role,children:[(0,s.jsx)("span",{children:c(e.permission===B.c.Edit?{id:"OT.edit"}:{id:"OT.readonly"})}),(0,s.jsx)("div",{className:D().icon,children:(0,s.jsx)(x.rP,{type:"icon-dropdown-down",className:D().icon})})]})}):(0,s.jsxs)("div",{className:U()(D().edit_role,D().disabled),children:[(0,s.jsx)("span",{children:c(e.permission===B.c.Edit?{id:"OT.edit"}:{id:"OT.readonly"})}),(0,s.jsx)("div",{className:D().icon,children:(0,s.jsx)(x.rP,{type:"icon-dropdown-down",className:D().icon})})]})},Y=l.memo(function(){var e,t,n,r=(0,E.useSelector)(function(e){return e.project}),i=r.id,o=r.title,a=(0,E.useSelector)(function(e){return e.oTState.cooperationUserList}),c=(0,E.useSelector)(function(e){return e.oTState.onlineCooperationUserColorRecord}),u=(0,E.useSelector)(function(e){return e.common.userInfo}),d=(0,E.useSelector)(function(e){return e.oTState.isAuthor}),p=(0,E.useSelector)(function(e){return e.oTState.collWorkId}),h=y.a().formatMessage,f=(0,E.useSelector)(function(e){return e.common.isProjectModified});0===a.size&&u&&(a=a.push({id:u.id,avatar_url:u.avatar_url,nickname:u.nickname,is_author:!0,edit_permission:1}));var m=M.a(i),w=(0,E.useSelector)(function(e){return e.oTState.editorInviteUrl}),C=(0,E.useSelector)(function(e){return e.oTState.readOnlyInviteUrl}),j=(0,E.useDispatch)(),k=l.useState(!1),T=H.a(k,2),I=T[0],O=T[1],P=l.useState(B.c.Edit),A=H.a(P,2),L=A[0],W=A[1],Y=l.useRef(null),K=l.useState(!1),q=H.a(K,2),z=q[0],$=q[1];async function X(){if(!p&&!await new Promise(e=>{j(_.xqZ({onConfirm(){e(!0)},onCancel(){e(!1)},title:"",content:"进行协作可能存在安全隐患，确定要进行协作吗？",isDangerous:!0}))}))return;let e=i;if(O(!0),e=!m&&f?await _.Y_2(j,_.NEw({isUpdate:m,isAutoSave:!0})):i,G.Y().length>0){O(!1),j(_.xqZ({allowText:"确定",title:"提示",content:"作品中含有云数据库控件，暂时无法协作",cancelBtnVisible:!1}));return}if(!w){e!==p&&await (0,N.se)(e),j(R.o(e));let t=await (0,N.fe)(e,B.c.Edit),n=v.x(e,t);j(R.p(n))}g.a("InviteCollaborationClick",{authorId:u?.id||"",nickName:u?.nickname||""})}var J=(e=b.a(S().mark(function e(t,n,r){return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(0,N.ge)(n,i,t).then(function(){var e;(0,N.le)(i).then(function(){var e=b.a(S().mark(function e(t){return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:j(R.s(t));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),null!=(e=Y.current)&&e.hideContent(),r()});case 1:case"end":return e.stop()}},e)})),function(t,n,r){return e.apply(this,arguments)}),Z=(t=b.a(S().mark(function e(t,n){return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(0,N.de)(i,t).then(function(){var e;null!=(e=Y.current)&&e.hideContent(),n()});case 1:case"end":return e.stop()}},e)})),function(e,n){return t.apply(this,arguments)}),Q=(0,s.jsxs)("div",{className:D().content,children:[d&&(0,s.jsx)("div",{className:D().header,children:(0,s.jsxs)(x.d,{className:D().shareButton,onClick:()=>X.apply(this,arguments),children:[(0,s.jsx)(x.rP,{className:D().invitationIcon,type:"icon-ot-invitation"}),h({id:"OT.inviteFriend"})]})}),(0,s.jsx)("ul",{className:D().list,children:a.map((e,t)=>{var n=e.id,r=e.is_author,i=e.edit_permission;return(0,s.jsxs)("li",{children:[(0,s.jsx)("div",{className:U()(D().headerPhotoBorder),style:{marginRight:"8px",borderColor:c.get(e.id)},children:(0,s.jsx)("div",{className:D().headPhoto,style:{backgroundImage:`url(${e.avatar_url})`}})},e.id),(0,s.jsxs)("div",{className:D().name,children:[(0,s.jsx)("p",{children:e.nickname}),(0,s.jsx)("span",{children:e.id})]}),r?(0,s.jsx)("div",{className:D().role,children:(0,s.jsx)("div",{children:h({id:"OT.creator"})})}):(0,s.jsx)(V,{isAuthor:d,permission:i,id:n,handleChangePermission:J,handleRemovePermission:Z,parentVisible:z})]},t)})})]}),ee=l.useCallback(function(){return L===B.c.Edit?w:L===B.c.ReadOnly?C:""},[w,C,L]),et=l.useCallback((n=b.a(S().mark(function e(t){var n,r;return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==B.c.Edit){e.next=3;break}return W(t),e.abrupt("return");case 3:if(t!==B.c.ReadOnly){e.next=14;break}if(C){e.next=13;break}return e.next=7,(0,N.fe)(i,B.c.ReadOnly);case 7:n=e.sent,r=v.x(i,n),j(R.r(r)),W(t),e.next=14;break;case 13:W(t);case 14:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)}),[j,i,C]);return(0,s.jsxs)("div",{style:{height:"100%"},children:[(0,s.jsx)(x.r,{content:Q,className:D().oTButton,onOpen:()=>$(!0),onClose:()=>$(!1),ref:Y,children:(0,s.jsx)(F.a,{mouseLeaveDelay:0,placement:"bottom",title:h({id:"OT.coll"}),trigger:["hover","click"],overlayInnerStyle:{position:"relative",top:-4},children:(0,s.jsx)("div",{className:U()(D().collIconWrapper,z&&D().activeCollIconWrapper),children:(0,s.jsx)(x.rP,{type:"icon-collaborate-active",className:D().collIcon})})})}),(0,s.jsxs)(x.nh,{className:D().shareOtDialog,visible:I,title:h({id:"OT.copyCollInvitationUrl"}),onClose:()=>O(!1),children:[(0,s.jsxs)("div",{className:D().dialogMain,children:[(0,s.jsx)("div",{className:D().text,children:h({id:"OT.expiration"})}),(0,s.jsxs)("div",{onClick:()=>et(B.c.Edit),className:U()(D().tab,L===B.c.Edit&&D().selected),children:[h({id:"OT.editor"}),(0,s.jsx)("span",{children:h({id:"OT.editorRules"})}),L===B.c.Edit&&(0,s.jsx)("div",{className:D().icon,children:(0,s.jsx)(x.rP,{type:"icon-selected"})})]}),(0,s.jsxs)("div",{onClick:()=>et(B.c.ReadOnly),className:U()(D().tab,L===B.c.ReadOnly&&D().selected),children:[h({id:"OT.reader"}),(0,s.jsx)("span",{children:h({id:"OT.readerRules"})}),L===B.c.ReadOnly&&(0,s.jsx)("div",{className:D().icon,children:(0,s.jsx)(x.rP,{type:"icon-selected"})})]}),(0,s.jsx)("div",{className:D().text,children:h({id:"OT.secure"})})]}),ee()?(0,s.jsx)(x.d,{className:D().copy,type:"primary",onClick:()=>{var e=document.createElement("input"),t=L===B.c.Edit?`${ee()} 点击链接，一起进入《${o}》的协同创作吧~`:`${ee()} 点击链接，查看《${o}》的作品内容吧~`;e.setAttribute("value",t),document.body.append(e),e.select(),document.execCommand("Copy"),document.body.removeChild(e),j(_.Szx({type:"success",message:h({id:"OT.copySuccess"}),showCloseIcon:!1})),O(!1)},children:h({id:"OT.copyLink"})}):(0,s.jsx)(x.d,{className:D().loadingBtn,type:"primary",children:(0,s.jsx)(x.rP,{type:"icon-loading2"})})]})]})});let K=l.memo(()=>{let e=(0,E.useSelector)(function(e){return e.project.id}),[t,n]=l.useState(!1),[r,i]=l.useState(!1),o=(0,E.useDispatch)(),a=(0,E.useSelector)(function(e){return e.oTState.collWorkId});return l.useEffect(function(){if(a){var e;i(!0),(0,N.le)(a).then((e=b.a(S().mark(function e(t){return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o(R.s(t));case 1:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)})),A.a.init(a).then(()=>{i(!1)})}else i(!1),A.a.disconnect()},[o,a]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(O.yt,{}),(0,s.jsx)(Y,{}),(0,s.jsx)(O.vt,{visible:t,onClose:()=>n(!1)}),(0,s.jsx)(O.bt,{visible:r}),M.a(e)&&(0,s.jsx)(O._t,{})]})});var q=n(42338),z=n(16967),$=n(30109),X=n.n($),J=n(10309),Z=n(63888),Q=n(52846),ee=n(88305),et=n.n(ee);function en({visible:e,onClose:t}){let n=(0,E.useSelector)(e=>e.project.projectShareInfo),r=(0,E.useSelector)(e=>e.project.id),i=(0,E.useSelector)(e=>e.common.userInfo),o=(0,E.useSelector)(e=>e.project.projectSource),{formatMessage:a}=y.a(),c=(0,E.useDispatch)(),[u,d]=(0,l.useState)(!1),[p,h]=(0,l.useState)(!1),[f,w]=(0,l.useState)(""),[C,j]=(0,l.useState)(!1),[k,T]=(0,l.useState)(!1),[I,N]=(0,l.useState)(!1),O=(0,l.useRef)(!1),P=(0,l.useCallback)((e,t)=>{g.a("WorkShare",{workId:r,workName:n.title,workTag:"",sourceTag:o.tag,sourceId:o.id,authorId:i?.id||"",nickName:i?.nickname||"",isSuccess:e,failReason:t})},[r,o,n.title,i]),D=(0,l.useCallback)(async()=>{if(!I&&!C)try{await _.Y_2(c,_.xYE(n)),M.a(r)&&w(v.Yq(r)),j(!1),T(!1),P(!0,"")}catch(e){if("40500104"===e.message){c(_.Szx({message:"分享失败，绕审核失败",type:"error"})),j(!1),t();return}c(_.Szx({message:a({id:"Publish.shareQRError"}).toString(),type:"error"})),j(!1),P(!1,e.message)}},[c,a,C,t,r,n,P,I]);function R(){return(R=b.a(S().mark(function e(t){var n,r,i;return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!t[0]){e.next=22;break}return e.prev=1,n=t[0],T(!0),N(!0),e.next=7,v.u(n);case 7:if(!(r=e.sent)){e.next=14;break}return e.next=11,Z.e(r);case 11:i=e.sent.url,c(_.Ti({img:i}));case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),c(_.mj({message:a({id:"Publish.coverImageUploadFail"}).toString(),type:"error"}));case 19:return e.prev=19,N(!1),e.finish(19);case 22:case"end":return e.stop()}},e,null,[[1,16,19,22]])}))).apply(this,arguments)}async function A(){Q.a(f)?(h(!0),c(_.Szx({message:a({id:"Publish.copyLinkSuccess"}).toString(),duration:1e3,type:"success"}))):c(_.Szx({message:a({id:"Publish.copyLinkFailure"}).toString(),duration:1e3,type:"error"}))}return(0,l.useEffect)(function(){e?(O.current||(j(!0),D()),O.current=!0):(O.current=!1,T(!1),d(!1),h(!1))},[D,e]),(0,s.jsxs)(x.nh,{onClose:t,className:et().shareToOthers,title:a({id:"Publish.shareToOthers"}),withPortal:!0,visible:e,children:[(0,s.jsxs)("div",{className:et().qrWrapper,children:[(C||k||I)&&(0,s.jsxs)("div",{className:et().blocking,children:[(0,s.jsx)("div",{className:et().iconWrapper,children:k?(0,s.jsx)("div",{onClick:()=>{O.current=!1,j(!0),T(!1),h(!1)},children:(0,s.jsx)(x.rP,{type:"icon-refresh",className:et().refreshIcon})}):(0,s.jsx)(m.Ge,{})}),(0,s.jsx)("span",{children:a(k?{id:"Publish.refreshQrCode"}:{id:"Publish.creatingQrCode"})})]}),(0,s.jsx)("div",{className:et().qrCode,children:(0,s.jsx)(X(),{value:f,size:168,level:"M",imageSettings:{width:54,height:54,src:"https://static.bcmcdn.com/coco/image/share-dialog/qrlogo.png"}})}),(0,s.jsx)("div",{className:et().message,children:C||k?"":a({id:"Publish.shareQrCode"})}),(0,s.jsxs)("div",{className:et().shareLinkWrapper,children:[(0,s.jsx)("div",{className:et().link,children:f}),(0,s.jsx)("div",{className:U()(et().copyBtn,p&&et().copied,(C||k||I)&&et().disabled),onClick:A,children:a(p?{id:"Publish.shareLinkCopied"}:{id:"Publish.copyShareLink"})})]})]}),(0,s.jsxs)("div",{className:et().lineWrapper,children:[(0,s.jsx)("div",{className:et().line}),(0,s.jsxs)("div",{className:et().settings,onClick:()=>d(!u),children:[(0,s.jsx)("span",{children:a({id:"Publish.moreSettings"})}),(0,s.jsx)(x.rP,{type:"icon-dropdown-down",className:U()(et().settingsIcon,u&&et().rotateSettingsIcon)})]}),(0,s.jsx)("div",{className:et().line})]}),(0,s.jsxs)("div",{className:U()(et().settingWrapper,!u&&et().invisible),children:[(0,s.jsx)("div",{className:et().workInfo,children:(0,s.jsxs)("ul",{children:[(0,s.jsxs)("li",{children:[(0,s.jsxs)("p",{className:et().title,children:[a({id:"Publish.shareTitle"}),(0,s.jsx)("span",{className:et().required,children:"*"})]}),(0,s.jsx)(x.k,{defaultValue:n.title,maxLength:20,placeholder:a({id:"Publish.inputPublishName"}),onBlur:(e,t)=>{e!==n.title&&(""!==e?(T(!0),c(_.Ti({title:e}))):t.target.value=n.title)},isTrimmed:!0})]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("p",{className:et().title,children:a({id:"Publish.shareDescription"})}),(0,s.jsx)(x.A,{defaultValue:n.desc,maxLength:25,placeholder:a({id:"Publish.inputShareDescription"}),rows:3,onBlur:e=>{e.target.value!==n.desc&&(T(!0),c(_.Ti({desc:e.target.value})))}})]})]})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:et().title,children:a({id:"Publish.workCover"})}),(0,s.jsx)(x.c,{width:140,height:138,sourceImage:n.img}),(0,s.jsx)("div",{className:et().changePoster,children:(0,s.jsx)(x.B,{onChange:R,accept:J.f,children:a({id:"Publish.changeWorkCover"})})})]})]})]})}var er=n(1725),ei=n(63763),eo=n(13324),ea=n.n(eo);let es=(0,l.memo)(({visible:e,onClose:t,onConfirm:n})=>{let r=(0,E.useSelector)(e=>e.project.id),i=(0,E.useSelector)(e=>e.project.title),[o,a]=(0,l.useState)(!1),c=(0,l.useRef)(null),{formatMessage:u}=y.a(),d=(0,E.useDispatch)(),[p,h]=(0,l.useState)({name:i,description:"",operation:""}),f=(0,E.useSelector)(e=>e.project.screens.get(0)?.snapshot),b=(0,E.useSelector)(e=>e.project.projectSource);(0,l.useEffect)(()=>{e&&c.current?.setScale(1)},[e]),(0,l.useEffect)(()=>{h({description:"",operation:"",name:i})},[i]);let[w,S]=(0,l.useState)(""),[C,j]=(0,l.useState)(f||"");async function k(){if(o)return;if(a(!0),!await n())return void a(!1);let e=c?.current?.target?.getImageScaledToCanvas(),r="";if(e){let t=e.toDataURL("image/png"),n=v.m(t);n&&(r=(await Z.e(n)).url)}try{let e=await _.Y_2(d,_.TcO(p.name,p.description,p.operation,r));d(_.Szx({type:"success",message:u({id:"Publish.publishSuccess"}),showCloseIcon:!1})),window.open((0,v.OV)(e)),t(),T(p,!0,"")}catch(e){if("40500104"===e.message){d(_.Szx({message:"分享失败，绕审核失败",type:"error"})),a(!1),t();return}d(_.Szx({type:"error",message:u({id:"Publish.publishFail"}),showCloseIcon:!1})),T(p,!1,e.message)}a(!1)}function T(e,t,n){g.a("WorkPublish",{workId:r,workName:e.name,workType:"APP工匠",workDescription:e.description,sourceTag:b.tag,sourceId:b.id,isSuccess:t,failReason:n})}return(0,l.useEffect)(function(){e?M.a(r)?er.j(r).then(({data:e})=>{h({name:e.name,description:e.description===ei.a?"":e.description||"",operation:e.operation===ei.b?"":e.operation||""}),e.cover_url?S(e.cover_url):j(f||"")}):j(f||""):S("")},[e]),(0,s.jsxs)(x.nh,{onClose:t,className:ea().publishDialog,visible:e,withPortal:!0,title:u({id:"Publish.publish"}),children:[(0,s.jsxs)("main",{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(x.c,{ref:c,width:340,height:340,sourceImage:w||C}),(0,s.jsx)("div",{className:ea().changePoster,children:(0,s.jsxs)(x.B,{onChange:function(e){e&&e[0]&&S(e[0])},accept:J.f,children:[(0,s.jsx)(x.rP,{type:"icon-player-upload-file"}),u({id:"Publish.changeWorkCover"})]})})]}),(0,s.jsx)("div",{className:ea().right,children:(0,s.jsxs)("ul",{children:[(0,s.jsxs)("li",{children:[(0,s.jsxs)("p",{children:[u({id:"Publish.publishName"}),(0,s.jsx)("span",{className:ea().required,children:"*"})]}),(0,s.jsx)(x.k,{defaultValue:p.name,maxLength:20,placeholder:u({id:"Publish.inputPublishName"}),onChange:(e,t)=>{h({...p,name:e})},isTrimmed:!0})]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("p",{children:u({id:"Publish.publishDescription"})}),(0,s.jsx)(x.A,{defaultValue:p.description,maxLength:200,placeholder:u({id:"Publish.inputPublishDescription"}),rows:5,onChange:e=>{h({...p,description:e.target.value})}})]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("p",{children:u({id:"Publish.publishOperation"})}),(0,s.jsx)(x.A,{defaultValue:p.operation,maxLength:200,placeholder:u({id:"Publish.inputPublishOperation"}),rows:5,onChange:e=>{h({...p,operation:e.target.value})}})]})]})})]}),(0,s.jsx)("footer",{children:(0,s.jsx)(x.d,{type:"primary",onClick:k,disabled:!p.name,children:o?(0,s.jsx)(m.Ge,{}):u({id:"Publish.publish"})})})]})});var ec=n(90800),el=n(7683),eu=n(1225),ed=n.n(eu),ep=n(11343),eh=n.n(ep),ef=n(26816),em=n(44172),eg=n.n(em);function ev({target:e}){let t={icon:"community"===e?eh():ed(),message:"community"===e?"Publish.shareToCommunity":"Publish.shareToOthers",dialogType:"community"===e?"SHARE_COMMUNITY_DIALOG":"SHARE_QR_DIALOG"},[n,r]=(0,l.useState)("NONE"),i=(0,E.useSelector)(e=>e.common.userInfo),{formatMessage:o}=y.a(),a=(0,E.useSelector)(e=>e.project.id),c=(0,E.useSelector)(e=>e.project.globalWidgetIds),u=(0,E.useDispatch)();async function d(){if(!i)return void u(_.dqt());let n={};c.forEach(e=>{var t=G.Bb(e);t&&(n[e]=t)});let a=new Set,s=new Set;if(Object.values(n).forEach(({type:e})=>{let t=el.uQ(e);e.includes(ef.c_)&&t&&ec.Vi.forEach(e=>{t.code?.includes(e)&&(s.add(e),a.add(t.types.title))})}),s.size)return void u(_.xqZ({allowText:o({id:"cloudDb.know"}),title:"error",content:o({id:"Play.widgetNotSupportsForbiddenKeywords"},{widgetTypeNames:Array.from(a).join("、"),keywords:Array.from(s).join("、")}),cancelBtnVisible:!1}));if("community"===e)return void u(_.xqZ({allowText:o({id:"know"}),title:"该功能已禁用",content:"编程猫禁止将含有自定义控件的作品发布到社区，若强制这么做，会导致相关作品被彻底删除！为保护你的作品，CoCo Next 已禁用把作品发布到编程猫社区的功能。",cancelBtnVisible:!1}));let l=()=>{r(t.dialogType)};"SHARE_QR_DIALOG"===t.dialogType?_.Y_2(u,_.Wf(l)):G.Y().length>0&&"true"!==localStorage.getItem("cloudDBPublishGuide")?u(_.kj(!0,"share",l)):l()}function p(){return h.apply(this,arguments)}function h(){return(h=b.a(S().mark(function e(){return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.Nf(u,_.tg({isUpdate:M.a(a),isAutoSave:!0}));case 3:return e.next=5,u(_.kh());case 5:return e.abrupt("return",!0);case 8:return e.prev=8,e.t0=e.catch(0),e.next=12,u(_.mj({message:o({id:"Publish.projectSaveFail"}),type:"error"}));case 12:return e.abrupt("return",!1);case 13:case"end":return e.stop()}},e,null,[[0,8]])}))).apply(this,arguments)}function f(){r("NONE")}return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{onClick:d,className:eg().shareBtn,children:[(0,s.jsx)("img",{src:t.icon,alt:e,className:eg().shareIcon}),(0,s.jsx)("span",{className:eg().shareMessage,children:o({id:t.message})})]}),(0,s.jsx)(es,{onClose:f,onConfirm:p,visible:"SHARE_COMMUNITY_DIALOG"===n}),(0,s.jsx)(en,{onClose:f,onConfirm:p,visible:"SHARE_QR_DIALOG"===n})]})}var e_=n(79622),ex=n(84637),ey=n(50439),eb=n(2980),ew=n(58797),eS=n(56577),eE=n(73615),eC=n(37298),ej=n(92136),ek=n(65649),eT=n(32267),eI=n.n(eT);function eN(){var e=y.a().formatMessage,t=(0,E.useSelector)(function(e){return e.uiConfig.header}),n=(0,E.useSelector)(function(e){return e.cloudSpace.cloudDictList}),r=(0,E.useSelector)(function(e){return e.cloudSpace.cloudTableList}),i=l.useState(!1),o=H.a(i,2),a=o[0],c=o[1],u=l.useState(!1),d=H.a(u,2),p=d[0],h=d[1];if(l.useEffect(function(){c(!1),h(!1);var e,t,i=ej.a(n);try{for(i.s();!(e=i.n()).done;){var o=e.value;if(o.prod_capacity>=G.a*G.c){h(!0);break}o.prod_capacity>=G.b*G.c&&c(!0)}}catch(e){i.e(e)}finally{i.f()}var a=ej.a(r);try{for(a.s();!(t=a.n()).done;){var s=t.value;if(s.prod_capacity>=G.a*G.d){h(!0);break}s.prod_capacity>=G.b*G.d&&c(!0)}}catch(e){a.e(e)}finally{a.f()}},[n,r]),t.cloudSpaceManager===B.j.Hide)return null;var f=e(p?{id:"cloudSpace.outMaxLimit"}:a?{id:"cloudSpace.outWarnLimit"}:{id:"cloudSpace.cloudSpace"});return(0,s.jsx)(F.a,{placement:"bottom",trigger:["hover"],title:f,overlayInnerStyle:{position:"relative",top:-7},children:(0,s.jsxs)("div",{onClick:()=>window.open(`${v.A()}/`,"_blank"),className:U()(eI().cloudSpaceManager),children:[f===e({id:"cloudSpace.outMaxLimit"})&&(0,s.jsx)("div",{className:eI().cloudIconError,children:(0,s.jsx)(x.rP,{type:"icon-cloud-manager-error"})}),f===e({id:"cloudSpace.outWarnLimit"})&&(0,s.jsx)("div",{className:eI().cloudIconWarn,children:(0,s.jsx)(x.rP,{type:"icon-cloud-manager-warn"})}),f===e({id:"cloudSpace.cloudSpace"})&&(0,s.jsx)("div",{children:(0,s.jsx)(x.rP,{type:"icon-cloud-manager-normal"})})]})})}let eO=l.memo(({children:e})=>{let t=(0,E.useDispatch)();var n,r,i,o,a,c,u=y.a().formatMessage,w=l.useState(!1),C=H.a(w,2),j=C[0],k=C[1],N=l.useState(!1),O=H.a(N,2),P=O[0],D=O[1],R=l.useRef(),A=(0,E.useSelector)(function(e){return e.common.userInfo}),L=(0,E.useSelector)(function(e){return e.common.saving}),W=(0,E.useSelector)(function(e){return e.oTState.isAuthor}),G=(0,E.useSelector)(function(e){return e.cloudSpace.checkedTimeStamp}),V=(0,E.useSelector)(function(e){return e.common.stageRulerVisible}),Y=(0,E.useSelector)(function(e){return e.common.stageVisible}),$=(0,E.useSelector)(function(e){return e.common.cloudDBManagerDialogVisible});let{isPackaging:X,packageQrCodeVisible:J,packageDialogVisible:Z}=(0,E.useSelector)(function(e){return e.project});var Q=(0,E.useSelector)(function(e){return e.common.lastSavedTime}),ee=(0,E.useSelector)(function(e){return e.common.isProjectModified}),et=(0,E.useSelector)(function(e){return e.project.playing}),en=(0,E.useSelector)(function(e){return e.project.id}),er=(0,E.useSelector)(function(e){return e.project.title}),ei=(0,E.useSelector)(function(e){return e.project.jsonFrom}),eo=M.a(en),ea=l.useRef(null),es=l.useRef(null),ec=l.useRef(null),el=l.useState(!1),eu=H.a(el,2),ed=eu[0],ep=eu[1];let eh=(0,E.useSelector)(function(e){return e.uiConfig.header});var ef=l.useState(!1),em=H.a(ef,2),eg=em[0],ej=em[1],eT=void 0!==v.N(window.location.href).archiveId;l.useEffect(function(){ep(!1)},[en]),l.useEffect(function(){eg&&eH(!1,!0)},[G]),l.useEffect(function(){function e(){ea.current&&clearTimeout(ea.current)}return eo?e():ea.current=window.setTimeout(function(){ep(!0)},18e4),e},[en,eo]);var eI=l.useState(!1),eO=H.a(eI,2),eP=eO[0],eD=eO[1],eR=(0,E.useSelector)(function(e){return e.common.collAutoSave}),eA=(0,E.useSelector)(function(e){return e.common.historyArchiveId}),eL=(0,E.useSelector)(function(e){return e.oTState.collWorkId});l.useEffect(function(){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.H.PURPLE,t=(0,p.G)(e),n="";for(var r in t)t[r]&&(n+="".concat(p.B[r],": ").concat(t[r],"; "));document.body.setAttribute("style",n)}(),t(_.Tf()),t(_.Xf())},[t]);var eM=(n=b.a(S().mark(function e(){return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(A){e.next=3;break}return t(_.dqt()),e.abrupt("return");case 3:if(!X){e.next=6;break}return t(_.Szx({message:u({id:"package.packagePending"}),type:"success"})),e.abrupt("return");case 6:return e.prev=6,e.next=9,_.Y_2(t,_.Vf());case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),D(!0);case 14:case"end":return e.stop()}},e,null,[[6,11]])})),function(){return n.apply(this,arguments)}),eB=(r=b.a(S().mark(function e(){var n;return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eH(!1);case 2:n=e.sent,R.current&&R.current(),R.current=null,n&&(t(eS.e(B.j.Hide)),setTimeout(function(){return eF()},100));case 6:case"end":return e.stop()}},e)})),function(){return r.apply(this,arguments)}),eW=function(){R.current&&R.current(),R.current=null,t(eS.e(B.j.Hide)),setTimeout(function(){return eF()},100)},eU=(i=b.a(S().mark(function e(){return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(eo||!ee){e.next=3;break}return t(_.Ri({visible:!0,openFrom:"backHome",onSave:eB,onImport:eW})),e.abrupt("return");case 3:if(!eo||!ee){e.next=9;break}return e.next=6,eH(!0);case 6:if(e.sent){e.next=9;break}return e.abrupt("return");case 9:t(eS.e(B.j.Hide)),setTimeout(function(){return eF()},100);case 11:case"end":return e.stop()}},e)})),function(){return i.apply(this,arguments)}),eF=function(){window.location.href=v.B()};let eH=l.useCallback(async(e,n)=>{if(!A)return void t(_.dqt());if(L)return;ec.current&&clearTimeout(ec.current),e||(ec.current=window.setTimeout(function(){t(_.Qi(!0))},6e3)),k(!1);let r=!0;try{await _.Y_2(t,_.NEw({isUpdate:eo,isAutoSave:e,isNeedReport:n})),e||t(_.Szx({message:u({id:"saveProject.successTips"}),type:"success"})),eD(!1)}catch(n){n.message===ey.a.CLOUD_SPACE_DATA_ERROR?(t(eE.B(!0)),ej(!0)):n.message!==ey.a.USER_CANCEL_SAVE&&n.message!==ey.a.USER_NOT_LOGIN&&(e?eD(!0):k(!0)),t(_.Si(!1)),r=!1}return ec.current&&(clearTimeout(ec.current),t(_.Qi(!1))),r},[t,u,eo,L,A]);l.useEffect(function(){function e(){es.current&&(clearTimeout(es.current),es.current=null)}if(eL||eh.save===B.j.Hide||eh.save===B.j.ReadOnly)e();else if(eo&&ee){if(!es.current)return eo&&ee&&(es.current=window.setTimeout(function(){eH(!0),e()},3e5)),e}else e()},[eo,ee,eH,eL,eh.save]),l.useEffect(function(){!L&&eA&&(ee?b.a(S().mark(function e(){return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eH(!0);case 2:t(_.sg(eA));case 3:case"end":return e.stop()}},e)}))():t(_.sg(eA)))},[ee,eA,eH,t,L]),l.useEffect(function(){eR&&ee&&eH(!0).then(function(){t(_.di(!1))}).catch(function(e){console.error(e),t(_.di(!1))})},[ee,eH,eR,t]);let eG=l.useCallback(e=>{ee?(t(_.Ri({visible:!0,openFrom:"",async onSave(){await eH(!1),R.current&&R.current(),R.current=null},onImport(){R.current&&R.current(),R.current=null}})),R.current=()=>{t(_._$u(e))}):t(_._$u(e));var n=e?.editPermission===B.c.ReadOnly?B.c.ReadOnly:B.c.Edit;t(_.Ci(n))},[t,eH,ee]);var eV=(o=b.a(S().mark(function e(t){var n,r;return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&t.length>0)){e.next=10;break}return n=t[0],e.next=4,ew.i(n);case 4:if(r=e.sent){e.next=8;break}return console.error("file load failed"),e.abrupt("return");case 8:eG({json:r,isAuthor:!0,sourceTag:B.g.LOCAL,jsonFrom:B.d.LOCAL_FILE}),g.a("OpenComputerFileClick");case 10:case"end":return e.stop()}},e)})),function(e){return o.apply(this,arguments)}),eY=(a=b.a(S().mark(function e(n){var r,i;return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n&&n.length>0)){e.next=13;break}return r=n[0],e.prev=2,e.next=5,eb.pQ(r,!1);case 5:i=e.sent.title,t(_.Szx({message:u({id:"HeaderDropdown.importExtensionSuccess"},{title:i}),type:"info"})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.error(e.t0);case 13:case"end":return e.stop()}},e,null,[[2,10]])})),function(e){return a.apply(this,arguments)});l.useEffect(function(){eh.preventLeave===B.j.Show?window.onbeforeunload=function(e){return e&&(e.returnValue="你要离开网页吗？"),"你要离开网页吗？"}:window.onbeforeunload=function(){}},[eh.preventLeave]),l.useEffect(function(){window.addEventListener("message",h.Q.handle)},[t]);var eK=eh.file.openLocalFile===B.j.Show,eq=eh.file.exportLocalFile===B.j.Show,ez=eh.file.saveAs===B.j.Show&&W,e$=(c=b.a(S().mark(function e(){return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!eC.a.isLoaded()){e.next=3;break}return t(_.Szx({message:u({id:"coursePlayingTips"})})),e.abrupt("return");case 3:t(_.fi(!0));case 4:case"end":return e.stop()}},e)})),function(){return c.apply(this,arguments)});return(0,s.jsxs)("div",{className:ek.A.wrapper,"data-html2canvas-ignore":"true",children:[(0,s.jsxs)("div",{className:ek.A.left,children:[!eT&&eh.logo!==B.j.Hide&&(0,s.jsx)(F.a,{mouseLeaveDelay:0,placement:"bottom",title:u({id:"back"}),overlayInnerStyle:{position:"relative",top:-7},children:(0,s.jsxs)("div",{className:ek.A.logoBox,id:"logo",onClick:eU,children:[(0,s.jsx)(x.rP,{type:"icon-dropdown-down",className:ek.A.back}),(0,s.jsx)("div",{className:ek.A.logo})]})}),!eT&&eh.cutLine===B.j.Show&&(0,s.jsx)("div",{className:ek.A.logoCutLine}),(0,s.jsxs)("div",{className:ek.A.menu,children:[Object.values(eh.file).includes(B.j.Show)&&!eT&&(0,s.jsx)(x.g,{className:ek.A.fileDropdown,overlay:(0,s.jsxs)(x.l,{onClick:function(e){switch(e){case"EXPORT_PROJECT_AS_JSON":t(_.Of(!0)),g.a("SaveToComputerClick",{workId:en,workName:er});break;case"CREATE_NEW_PROJECT":t(_.Ah(B.f.CREATE_PROJECT));break;case"OPEN_MY_PROJECT":if(!A)return void t(_.dqt());t(_.Ah(B.f.MY_PROJECT));break;case"SAVE_AS":t(_.NEw({isUpdate:!1,isAutoSave:!1,isNeedReport:!0,isSaveAs:!0}));break;case"HISTORY":return void t(_.tj(!0));case"IMPORT_EXTENSION_WIDGET":break;case"OPEN_LOCAL_FILE":t(_.Gi(!1))}},children:[eh.file.newProject===B.j.Show&&(0,s.jsx)(x.m,{value:"CREATE_NEW_PROJECT",children:(0,s.jsx)("div",{className:ek.A.itemContent,children:u({id:"HeaderDropdown.newProject"})})}),eh.file.openMyProject===B.j.Show&&(0,s.jsx)(x.m,{value:"OPEN_MY_PROJECT",children:(0,s.jsx)("div",{className:ek.A.itemContent,children:u({id:"HeaderDropdown.openProject"})})}),ez&&(0,s.jsx)(x.m,{value:"SAVE_AS",children:(0,s.jsx)("div",{className:ek.A.itemContent,children:u({id:"HeaderDropdown.saveAs"})})}),(0,s.jsx)("div",{className:ek.A.line}),eh.file.showHistory===B.j.Show&&W&&(0,s.jsx)(x.m,{value:"HISTORY",children:(0,s.jsx)("div",{className:ek.A.itemContent,children:u({id:"HeaderDropdown.history"})})}),(0,s.jsx)(x.m,{value:"IMPORT_EXTENSION_WIDGET",children:(0,s.jsx)(x.B,{onChange:eY,accept:".js,.jsx",className:U()(ek.A.itemUploadButton),children:u({id:"HeaderDropdown.importExtension"})})}),(eq||eq)&&(0,s.jsx)("div",{className:ek.A.line}),eK&&(0,s.jsx)(x.m,{value:"OPEN_LOCAL_FILE",children:(0,s.jsx)(x.B,{onChange:eV,onCancel:function(){t(_.Gi(!0))},accept:".json",className:U()(ek.A.itemUploadButton),children:u({id:"HeaderDropdown.openLocalFile"})})}),eq&&(0,s.jsx)(x.m,{value:"EXPORT_PROJECT_AS_JSON",children:(0,s.jsx)("div",{className:ek.A.itemContent,children:u({id:"HeaderDropdown.exportProjectAsJson"})})})]}),children:(0,s.jsx)(F.a,{mouseLeaveDelay:0,placement:"bottom",trigger:["hover","click"],title:u({id:"file"}),overlayInnerStyle:{position:"relative",top:"6px",left:"5px"},children:(0,s.jsx)("div",{className:ek.A.toolTipsBox,children:(0,s.jsx)(x.rP,{className:"coco-header-menuIcon",type:"icon-file"})})})}),Object.values(eh.tutorial).includes(B.j.Show)&&!eT&&(0,s.jsx)(x.g,{overlay:(0,s.jsxs)(x.l,{children:[eh.tutorial.releaseInfo===B.j.Show&&(0,s.jsx)(x.m,{value:"courseVideo",children:(0,s.jsx)("div",{className:ek.A.itemLinkContent,onClick:e$,children:(0,s.jsx)("span",{className:ek.A.link,children:u({id:"courseVideo"})})})}),eh.tutorial.tutorial===B.j.Show&&(0,s.jsx)(x.m,{value:"tutorial",children:(0,s.jsx)("div",{className:ek.A.itemLinkContent,children:(0,s.jsx)("a",{href:d.Al,target:"_blank",rel:"noopener noreferrer",className:ek.A.link,children:u({id:"seeTutorial"})})})}),(0,s.jsx)("div",{className:ek.A.line}),eh.tutorial.feedback===B.j.Show&&(0,s.jsx)(x.m,{value:"feedback",children:(0,s.jsx)("div",{className:ek.A.itemLinkContent,children:(0,s.jsx)("a",{href:d.mp,target:"_blank",rel:"noopener noreferrer",className:ek.A.link,children:u({id:"feedback"})})})}),eh.tutorial.releaseInfo===B.j.Show&&(0,s.jsx)(x.m,{value:"releaseInfo",children:(0,s.jsx)("div",{className:ek.A.itemLinkContent,onClick:()=>t(_.FuR(!0)),children:(0,s.jsx)("span",{className:ek.A.link,children:u({id:"releaseInfo"})})})}),eh.tutorial.about===B.j.Show&&(0,s.jsx)(x.m,{value:"aboutUs",children:(0,s.jsx)("div",{className:ek.A.itemLinkContent,onClick:function(){window.open("".concat(v.B(),"/about/"),"_blank")},children:(0,s.jsx)("span",{className:ek.A.link,children:u({id:"aboutUs"})})})})]}),children:(0,s.jsx)(F.a,{mouseLeaveDelay:0,placement:"bottom",trigger:["hover","click"],title:u({id:"help"}),overlayInnerStyle:{position:"relative",top:"6px",left:"5px"},children:(0,s.jsx)("div",{className:ek.A.toolTipsBox,children:(0,s.jsx)(x.rP,{className:"coco-header-menuIcon",type:"icon-help-circle-active"})})})}),Object.values(eh.help).includes(B.j.Show)&&!eT&&(0,s.jsx)(x.g,{overlay:(0,s.jsxs)(x.l,{onClick:function(e){if(!et)switch(e){case"STAGE_RULER":t(_.Wi(!V));break;case"STAGE_AREA":t(_.Yi(!Y))}},children:[eh.help.ruler===B.j.Show&&(0,s.jsx)(x.m,{value:"STAGE_RULER",children:(0,s.jsx)("div",{className:U()(ek.A.itemContent,et&&ek.A.disabled),children:u(V?{id:"HeaderDropdown.hideRuler"}:{id:"HeaderDropdown.showRuler"})})}),eh.help.stage===B.j.Show&&(0,s.jsx)(x.m,{value:"STAGE_AREA",children:(0,s.jsx)("div",{className:U()(ek.A.itemContent,et&&ek.A.disabled),children:u(Y?{id:"HeaderDropdown.hideWidgetAndStage"}:{id:"HeaderDropdown.showWidgetAndStage"})})})]}),children:(0,s.jsx)(F.a,{mouseLeaveDelay:0,placement:"bottom",trigger:["hover","click"],title:u({id:"setting"}),overlayInnerStyle:{position:"relative",top:"6px",left:"5px"},children:(0,s.jsx)("div",{className:ek.A.toolTipsBox,children:(0,s.jsx)(x.rP,{className:"coco-header-menuIcon",type:"icon-settings"})})})})]}),!eT&&eh.cloudDBManager===B.j.Show&&(0,s.jsx)(F.a,{mouseLeaveDelay:0,placement:"bottom",title:u({id:"cloudDBManager"}),trigger:["hover","click"],overlayInnerStyle:{position:"relative",top:-7},children:(0,s.jsx)("div",{className:U()(ek.A.iconWrapper,ek.A.cloudIconWrapper,$&&ek.A.activeIconWrapper),onClick:()=>t(A?_.jj(!0):_.dqt()),children:(0,s.jsx)(x.rP,{type:"icon-database-manage-active",className:ek.A.databaseIcon})})}),(0,s.jsx)(eN,{})]}),(0,s.jsx)("div",{className:ek.A.center,children:e}),(0,s.jsxs)("div",{className:ek.A.right,children:[!eT&&eh.coll===B.j.Show&&(0,s.jsx)("div",{className:ek.A.otWrapper,children:(0,s.jsx)(K,{})}),!eT&&eh.package===B.j.Show&&W&&(0,s.jsx)(x.g,{className:ek.A.shareMenu,overlay:(0,s.jsxs)(x.l,{children:[(0,s.jsx)(x.m,{children:(0,s.jsx)(ev,{target:"community"})}),(0,s.jsx)(x.m,{children:(0,s.jsx)(ev,{target:"others"})})]}),children:(0,s.jsx)(F.a,{mouseLeaveDelay:0,placement:"bottom",title:u({id:"Publish.share"}),trigger:["hover","click"],overlayInnerStyle:{position:"relative",top:-4},children:(0,s.jsx)("div",{className:U()(ek.A.shareWrapper),children:(0,s.jsx)(x.rP,{type:"icon-share",className:ek.A.icon})})})}),!eT&&eh.cutLine===B.j.Show&&(0,s.jsx)("div",{className:ek.A.cutLine}),!eT&&eh.save===B.j.Show&&(0,s.jsx)(F.a,{placement:"bottom",title:()=>{if(!Q)return u({id:"MyProject.notSaved"});var e=Date.now(),t=e-Q,n=v.G(e,0),r=v.G(e,-1),i=v.G(e,-2),o=new Date(Q),a="",s="".concat(u({id:"MyProject.lastSaved"})," ");if(t<6e4)a="".concat(u({id:"MyProject.justSaved"}));else if(t<36e5){var c=Math.ceil(t/60/1e3);c=Math.min(c=Math.max(c,1),59),a=s+"".concat(c).concat(u({id:"MyProject.minute"})).concat(u({id:"MyProject.ago"}))}else if(t<216e5||Q>n){var l=Math.floor(t/36e5),d=Math.floor(t%36e5/6e4);l&&(a+="".concat(l).concat(u({id:"MyProject.hour"}))),d&&(a+="".concat(d).concat(u({id:"MyProject.minute"}))),a=s+(a+=u({id:"MyProject.ago"}))}else a=Q>r?s+(a=u({id:"MyProject.yesterday"})+v.K(o)):Q>i?s+(a=u({id:"MyProject.theDayBeforeYesterday"})+v.K(o)):s+(a="".concat(o.getFullYear()).concat(u({id:"MyProject.year"}))+"".concat(o.getMonth()+1).concat(u({id:"MyProject.month"}))+"".concat(o.getDate()).concat(u({id:"MyProject.day"})));return a},trigger:["hover","click"],overlayInnerStyle:{position:"relative",top:"8px"},children:(0,s.jsxs)(x.d,{onClick:()=>eH(!1,!0),className:U()(ek.A.saveBtn,L&&ek.A.saving),children:[(0,s.jsx)("span",{className:ek.A.saveText,children:u({id:"save"})}),(0,s.jsx)("span",{className:ek.A.savingIcon,children:(0,s.jsx)(m.Ge,{stroke:"#6e4ff4"})})]})}),!eT&&eh.package===B.j.Show&&W&&(0,s.jsx)(x.d,{className:ek.A.packageBtn,onClick:eM,disabled:X,children:u({id:"package"})}),Z&&(0,s.jsx)(q.Dt,{}),J&&(0,s.jsx)(z.Gt,{}),!eT&&eh.userInfo===B.j.Show&&(0,s.jsx)(T,{}),(0,s.jsxs)("div",{className:U()(ek.A.saveTipsWrapper,ei!==B.d.OTHER&&ed&&!eo&&ek.A.show),children:[u({id:"MyProject.newSaveTips"}),(0,s.jsx)("div",{className:ek.A.closeSaveTips,onClick:()=>ep(!1),children:(0,s.jsx)(x.rP,{type:"icon-close"})})]}),eP&&(0,s.jsx)(I.ot,{type:I.Xe.ERROR,message:u({id:"MyProject.autoSaveErrorTips"}),onClose:()=>eD(!1)}),(0,s.jsx)(f.Pe,{importProjectJson:eG}),(0,s.jsx)(ex.gn,{})]}),(0,s.jsx)(e_.dn,{visible:j,onClose:()=>k(!1),save:()=>eH(!1)}),(0,s.jsx)(e_.fn,{visible:P,onClose:()=>D(!1),save:()=>{D(!1),eM()}}),(0,s.jsx)(e_.pn,{})]})});var eP=n(18341),eD=n(13250),eR=n(26305),eA=n(12848),eL=n(94143),eM=n(95292),eB=n(79675),eW=n(21909),eU=n(93850),eF=n(33340),eH=n(16361),eG=n(71691),eV=n(13719),eY=n.n(eV),eK=n(20126),eq=n(99282),ez=n(2171),e$=n(35273),eX=n(36137);function eJ(){let e=(0,E.useDispatch)(),t=y.a().formatMessage,n=(0,E.useSelector)(e=>e.common.courseList),r=(0,E.useSelector)(e=>e.common.templateList),i=l.useRef(!1);eK.Ml(),l.useEffect(function(){function e(){return(e=b.a(S().mark(function e(){var t,n;return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=v.N(window.location.href).code)){e.next=6;break}return e.next=4,eY().post("https://open-cn.aqara.com/v3.0/open/access_token?code=".concat(t,"&client_id=").concat(eH.AC,"&client_secret=").concat(eH.IC,"&grant_type=authorization_code&redirect_uri=").concat(new URL("/editor",window.location.origin).toString()),{},{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 4:(n=e.sent).data.access_token&&(localStorage.setItem("lvmi_access_token",n.data.access_token),localStorage.setItem("lvmi_refresh_token",n.data.refresh_token),window.close());case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[]);let o=l.useCallback(async t=>{try{i.current=!0;let n=await eq.d(t);if(i.current=!1,n.data){let r=n.data;if(!(await eK.Ml()).includes(Number(t))&&!r.is_author&&r.is_coll_work&&r.content&&r.content.unsafeExtensionWidgetList&&r.content.unsafeExtensionWidgetList.length>0&&!await new Promise(t=>{e(_.xqZ({onConfirm(){t(!0)},onCancel(){t(!1)},title:"协作安全提醒",content:"作品使用了未审核的自定义控件，进行协作可能存在安全隐患，确定要进行协作吗？",isDangerous:!0}))}))return void d();e(_._$u({json:r.content,lastSavedTime:1e3*r.updated_at,isCollWork:r.is_coll_work,isAuthor:r.is_author,projectId:t,editPermission:r.edit_permission,jsonFrom:r.is_coll_work?B.d.OTHER:B.d.MY_WORK}))}else e(_.yFv({code:n.code}))}catch(e){i.current=!1}},[e,t]);var a,c,u=l.useCallback(function(n,r){(function(e,t){return N.me.apply(this,arguments)})(n,r).then(b.a(S().mark(function e(){var t;return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(n);case 2:t=eG.d.getState().common.userInfo,g.a("EnterCollaboration",{collaborationId:(null==t?void 0:t.id)||"",collaborationName:(null==t?void 0:t.nickname)||""});case 4:case"end":return e.stop()}},e)}))).catch(function(n){var r;switch(console.error("加入协作失败,",n),null==(r=n.response)?void 0:r.data.code){case 0x4c4b401:e(_.Ch(function(){window.location.reload()}));break;case 0x989688:e(_.xqZ({onConfirm:function(){e(_._$u())},allowText:t({id:"confirm"}),title:t({id:"OT.canNotFindProjectTitle"}),content:t({id:"OT.inviteLinkOverdueDescription"}),cancelBtnVisible:!1}));break;default:e(_.xqZ({onConfirm:function(){e(_._$u())},allowText:t({id:"confirm"}),title:t({id:"OT.canNotFindProjectTitle"}),content:t({id:"OT.canNotFindProjectDescription"}),cancelBtnVisible:!1}))}})},[e,t,o]),d=l.useCallback(function(){e(_._$u("localhost"===window.location.hostname?void 0:{json:e$}))},[e]),p=l.useCallback(function(t){i.current=!0,fetch(t).then(function(t){t.json().then(function(t){e(_._$u({json:t}))}),i.current=!1}).catch(function(){d(),i.current=!1})},[e,d]),h=l.useCallback(function(t){i.current=!0,fetch(t).then(function(t){t.json().then(function(t){e(_.Ff(t))}),i.current=!1})},[e]),f=l.useCallback((a=b.a(S().mark(function t(n){var r;return S().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i.current=!0,t.next=4,eq.e(n);case 4:r=t.sent,i.current=!1,r?e(_._$u({json:r.content,editPermission:B.c.Preview})):(console.error("归档内容不存在，加载空作品"),d()),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),d(),i.current=!1;case 13:case"end":return t.stop()}},t,null,[[0,9]])})),function(e){return a.apply(this,arguments)}),[e,d]);let m=l.useCallback((c=b.a(S().mark(function t(r){var o;return S().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(o=n.find(function(e){return e.id.toString()===r}))&&(i.current=!0,fetch(o.bcmUrl).then(function(t){t.json().then(function(t){e(_._$u({json:t,jsonFrom:B.d.HOME_COURSE,sourceTag:B.g.COURSE,sourceId:r})),i.current=!1})}).catch(function(){i.current=!1}),eC.a.load({onPlayerInit(){},title:(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{style:{position:"relative",right:5},children:(0,s.jsx)(ez.a,{size:"esm",type:"transparent-fb",width:26,height:14,onClick:b.a(S().mark(function t(){return S().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:eC.a.close({closeAnimationPos:{x:150,y:30}}),e(_.fi(!0));case 2:case"end":return t.stop()}},t)})),children:(0,s.jsx)(x.rP,{type:"icon-btn-fallback",className:"coco-video-back"})})}),o.title]}),videoSrc:o.videoUrl,autoPlay:!0,zIndex:3,useConfirmMask:!0,confirmPercent:.9,onMinimizeBtnClick(){eC.a.hide(),e(_.Qh(eX.a,{name:eX.a,content:(0,s.jsx)(eX.b,{})}))},onClose(){eC.a.close({closeAnimationPos:{x:150,y:30}})}}));case 2:case"end":return t.stop()}},t)})),function(e){return c.apply(this,arguments)}),[n,e]),w=l.useCallback(function(t){let n=r.find(e=>e.id===t);n&&(i.current=!0,fetch(n.bcmUrl).then(t=>{t.json().then(t=>{e(_._$u({json:t,jsonFrom:B.d.HOME_TEMPLATE,sourceTag:B.g.TEMPLATE,sourceId:n.name})),i.current=!1})}).catch(function(){i.current=!1}))},[e,r]);return l.useEffect(()=>{let{workId:e,inviteCode:t,jsonUrl:n,archiveId:r,courseId:a,templateId:s,playerBcmUrl:c}=v.N(window.location.href);i.current||(r?f(r):t&&e?u(e,t):e?o(e):n?p(n):a?m(a):s?w(s):c?h(c):d())},[m,d,u,p,w,f,o,h]),(0,s.jsx)(s.Fragment,{})}var eZ=n(72036),eQ=n(82851),e0=n(28494),e1=n(23525),e2=n(87800),e3=n(84787),e4=n.n(e3),e5=l.memo(()=>{var e=(0,E.useDispatch)(),t=(0,E.useSelector)(function(e){return e.common.blockImageDialogInfo}),n=t.visible,r=t.imgSrc;return(0,s.jsxs)(x.nh,{visible:n,className:e4().blockImageDialog,onClose:()=>{e(_.bi(!1,""))},children:[(0,s.jsx)("div",{className:e4().blockImageWrap,children:(0,s.jsx)("img",{src:r,alt:""})}),(0,s.jsx)("div",{className:e4().btnDownload,onClick:()=>{var e=document.createElement("a");e.href=r,e.download="block.png",e.click()},children:(0,s.jsx)(x.rP,{type:"icon-download-apk"})})]})}),e9=n(75195),e6=`<h1 id="coco-next-更新日志">CoCo Next 更新日志</h1> <h2 id="v1232">v1.23.2</h2> <ul> <li>触屏长按触发拖拽时间延长到 0.4 秒，进一步防止滚动操作被识别为拖拽操作。</li> <li>修复电脑端有触屏时无法用鼠标调整控件顺序的问题。</li> <li>修复触屏设备无法拖拽函数中参数的问题。</li> </ul> <h2 id="v1231">v1.23.1</h2> <ul> <li>紧急禁用把作品发布到编程猫社区的功能。</li> <li>修复预览不能正常加载自定义控件的问题。</li> </ul> <h2 id="v1230">v1.23.0</h2> <h3 id="1-触屏设备拖拽添加控件调整可见控件层级功能优化：">1. 触屏设备拖拽添加控件/调整可见控件层级功能优化：</h3> <ul> <li>需要按住 0.2 秒后才会触发拖拽，避免滚动操作被识别为拖拽操作。</li> <li>触发拖拽后放大相应元素，视觉反馈更好。</li> <li>开始拖拽后收起上下文菜单，防止遮挡。</li> <li>新增点击添加控件，用法类似于 CoCoClick。</li> </ul> <h3 id="2-新增绕审核发布作品功能">2. 新增绕审核发布作品功能</h3> <p>全新绕审核上线！兼容 CoCoPro<del>，还可以把作品发布到编程猫社区</del>。</p> <p>编程猫禁止将含有自定义控件的作品发布到社区，若强制这么做，会导致相关作品被彻底删除！为保护你的作品，CoCo Next 已禁用把作品发布到编程猫社区的功能。</p> <h3 id="3-修复已知问题">3. 修复已知问题</h3> <p>修复控制台、数据观测失效的问题</p> <h2 id="v1223">v1.22.3</h2> <p>这个版本的版本号写错了，正确的版本号应该是 <a href="#v1230">v1.23.0</a></p> <h2 id="v1222">v1.22.2</h2> <ul> <li>主页优化。</li> <li>协作功能可以在 <a href="https://next.ccwidget.top/">https://next.ccwidget.top/</a> 上使用了（需要原始域登录）。</li> <li>添加添加移除自定义控件（支持协作）、自动更新控件商城控件的链接功能。</li> </ul> <p><a href="https://next.ccwidget.top/docs/guide/introduction/login#%E4%BA%8C%E5%8E%9F%E5%A7%8B%E5%9F%9F%E7%99%BB%E5%BD%95">原始域登录文档</a></p> <h2 id="v1221">v1.22.1</h2> <ul> <li>主页和关于界面针对小屏和触屏设备优化。</li> <li>编辑器控件列表单双列随窗口尺寸自动变换。</li> </ul> <h2 id="v1220">v1.22.0</h2> <p>❤️ CoCo Next 首个版本正式发布！</p> <ul> <li>移除对自定义控件的关键词检查、全局变量访问限制和协作限制。</li> <li>修复 Undefined 积木。</li> <li>添加对触屏拖拽添加控件、调整控件顺序的支持。</li> <li>添加临时列表积木。</li> <li>移除屏幕数量上限。</li> </ul> <p>欢迎来 Gitee 仓库给我们点 Star！</p> `;let e8=n.p+"static/assets/editor/images/release-info/left-side.png",e7=function(){let e="",t=!0;for(let n of Array.from(new DOMParser().parseFromString(e6,"text/html").body.children)){if(!t){if("H2"===n.tagName)break;e+=n.outerHTML}n.textContent===`v${e9.f}`&&(t=!1)}return e}(),te=l.memo(()=>{let e=(0,E.useSelector)(e=>e.common.releaseInfoDialogVisible),t=(0,E.useSelector)(e=>e.common.userInfo?.id),n=(0,E.useSelector)(e=>e.common.userInfoFetchDone),[r,i]=(0,l.useState)(!1),o=(0,E.useDispatch)();return(0,l.useEffect)(function(){n&&!r&&(localStorage.getItem("ReleaseVersion")!==e9.f&&(o(_.FuR(!0)),localStorage.setItem("ReleaseVersion",e9.f)),i(!0))},[r,o,t,n]),(0,s.jsxs)(x.nh,{visible:e,className:"ReleaseInfoDialog__ab2d3",onClose:()=>o(_.FuR(!1)),children:[(0,s.jsx)("div",{className:"left__f1f3a",children:(0,s.jsx)("img",{src:e8,alt:""})}),(0,s.jsx)("div",{className:"right__ff44e",children:(0,s.jsxs)("div",{className:"content__c8740",children:[(0,s.jsxs)("div",{className:"updateInfo__b35ea",children:[(0,s.jsx)("header",{children:`版本v${e9.f}更新`}),(0,s.jsx)("div",{dangerouslySetInnerHTML:{__html:e7}})]}),(0,s.jsx)("div",{className:"overViewInfo__f4740",children:(0,s.jsxs)("a",{href:"https://gitee.com/oldsquaw-coco-next/CoCo-Next/blob/main/changelog.md",target:"_blank",rel:"noopener noreferrer",children:["往期功能更新回顾",(0,s.jsx)(x.rP,{className:"iconLink__d2349",type:"icon-dropdown-down"})]})})]})})]})});var tt=n(49701),tn=n(56271),tr=n(87838),ti=n(54196),to=n(80121),ta=n(77650),ts=n(26359),tc=n(98728),tl=n(27661),tu=n(78513),td=n.n(tu),tp=n(5762),th=n(50687),tf=n(43964),tm=n(13115),tg=n.n(tm),tv=(0,l.memo)(function(){let e=(0,E.useSelector)(e=>e.common.permissionDialogInfo);var t=e.visible,n=e.type,r=e.onConfirm,i=e.onDeny,o=e.className,a=e.isDangerous,c=e.denyText,l=e.allowText;let u=(0,E.useDispatch)(),d="https://static.bcmcdn.com/coco/image/permission_camera.png",p="需要开启相机权限才能进行拍照或摄像哦";switch(n){case B.e.camera:break;case B.e.microphone:d="https://static.bcmcdn.com/coco/image/permission_microphone.png",p="需要开启麦克风权限能使用环境音量"}return(0,s.jsxs)(x.nh,{visible:t,showCloseButton:!1,withPortal:!0,maskClosable:!1,className:U()(tg().dialog,o),children:[(0,s.jsx)("img",{className:tg().permissionImage,src:d,alt:""}),(0,s.jsxs)("div",{className:tg().content,children:[(0,s.jsx)("h3",{children:"授权提示"}),(0,s.jsx)("span",{children:p}),(0,s.jsxs)("div",{className:U()(tg().dialogButtons),children:[(0,s.jsx)(x.d,{onClick:()=>{i&&i(),u(_.Ej({type:n,visible:!1}))},className:tg().denyButton,children:void 0===c?"拒绝":c}),(0,s.jsx)(x.d,{type:"primary",danger:a,onClick:function(){r&&r(),u(_.Ej({type:n,visible:!1}))},children:void 0===l?"同意":l})]})]})]})});function t_(e){e.preventDefault()}function tx(e){e.preventDefault()}function ty(){var e,t=(0,E.useDispatch)(),n=(0,E.useSelector)(function(e){return e.project.id}),r=M.a(n),i=(e=b.a(S().mark(function e(){return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.Nf(t,_.tg({isUpdate:r,isAutoSave:!1,isNeedReport:!0}));case 2:e.sent&&t(_.mj({message:"作品保存成功",type:"success"}));case 4:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)});return(0,s.jsx)(th.a,{children:(0,s.jsx)(th.b,{keys:{osx:"command+s",windows:"control+s"},callback:i})})}let tb=u().memo(function(){var e=(0,E.useSelector)(function(e){return e.common.language}),t=(0,E.useSelector)(function(e){return e.project.styleDialog.visible}),n=(0,E.useSelector)(function(e){return e.uiConfig.header}),r=void 0!==v.N(window.location.href).archiveId;return(0,s.jsx)(tf.b,{locale:e,messages:tp.e[e]||tp.e[tp.b],children:(0,s.jsxs)("div",{className:td().layout,onDragOver:t_,onDrop:tx,children:[u().createElement(ty,null),u().createElement(eD.aI,null),(0,s.jsx)(eJ,{}),(0,s.jsx)("header",{className:td().header,children:(0,s.jsx)(eO,{children:(0,s.jsxs)(s.Fragment,{children:[u().createElement(eZ.dL,null),!r&&n.projectName!==B.j.Hide&&u().createElement(eZ.pL,{readonly:n.projectName===B.j.ReadOnly})]})})}),(0,s.jsxs)("section",{className:td().body,children:[(0,s.jsx)("aside",{children:(0,s.jsx)(eP.Sv,{})}),(0,s.jsx)("main",{className:td().main,children:u().createElement(eD.iI,null)})]}),u().createElement(eR.lI,null),u().createElement(eA.hI,null),u().createElement(eU.rN,null),u().createElement(eL.bI,null),u().createElement(tv,null),u().createElement(eW.mj,null),(0,s.jsx)(eM.BI,{}),u().createElement(eB.aj,null),u().createElement(e2.kL,null),u().createElement(e0.wL,null),(0,s.jsx)(e1.AL,{}),(0,s.jsx)(e5,{}),(0,s.jsx)(te,{}),u().createElement(tn.aP,null),(0,s.jsx)(tr._P,{}),(0,s.jsx)(tt.ZL,{}),(0,s.jsx)(to.LP,{}),u().createElement(ts.qP,null),t&&u().createElement(eF.kM,null),u().createElement(eQ.bL,null),u().createElement(ti.kP,null),u().createElement(ta.zP,null),(0,s.jsx)(tc.ZP,{}),(0,s.jsx)(tc.JP,{}),u().createElement(tl.iB,null)]})})}),tw=!!("localhost"===window.location.hostname||"dev-local.codemao.cn"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function tS(e,t){navigator.serviceWorker.register(e).then(e=>{e.onupdatefound=()=>{let{installing:n}=e;null!=n&&(n.onstatechange=()=>{"installed"===n.state&&(navigator.serviceWorker.controller?(console.info("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):t&&t.onSuccess&&t.onSuccess(e))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var tE=n(13123),tC=n(67240),tj=n(75206),tk=n.n(tj);function tT(e,t=!1){let n=e.touches[0];return{x:t?n.pageX:n.clientX,y:t?n.pageY:n.clientY}}function tI(e,t,n){for(let r=0;r<n.length;r++){let i=n[r];e[i]=t[i]}}var tN=class{_dropEffect;_effectAllowed;_data;_dragDropTouch;constructor(e){this._dropEffect="move",this._effectAllowed="all",this._data={},this._dragDropTouch=e}get dropEffect(){return this._dropEffect}set dropEffect(e){this._dropEffect=e}get effectAllowed(){return this._effectAllowed}set effectAllowed(e){this._effectAllowed=e}get types(){return Object.keys(this._data)}clearData(e){null!==e?delete this._data[e.toLowerCase()]:this._data={}}getData(e){let t=e.toLowerCase(),n=this._data[t];return"text"===t&&null==n&&(n=this._data["text/plain"]),n}setData(e,t){this._data[e.toLowerCase()]=t}setDragImage(e,t,n){this._dragDropTouch.setDragImage(e,t,n)}},{round:tO}=Math,tP={allowDragScroll:!0,contextMenuDelayMS:900,dragImageOpacity:.5,dragScrollPercentage:10,dragScrollSpeed:10,dragThresholdPixels:5,forceListen:!1,isPressHoldMode:!1,pressHoldDelayMS:400,pressHoldMargin:25,pressHoldThresholdPixels:0},tD=class{_dragRoot;_dropRoot;_dragSource;_lastTouch;_lastTarget;_ptDown;_isDragEnabled;_isDropZone;_dataTransfer;_img;_imgCustom;_imgOffset;_pressHoldIntervalId;configuration;constructor(e=document,t=document,n){for(this.configuration={...tP,...n||{}},this._dragRoot=e,this._dropRoot=t;!this._dropRoot.elementFromPoint&&this._dropRoot.parentNode;)this._dropRoot=this._dropRoot.parentNode;this._dragSource=null,this._lastTouch=null,this._lastTarget=null,this._ptDown=null,this._isDragEnabled=!1,this._isDropZone=!1,this._dataTransfer=new tN(this),this._img=null,this._imgCustom=null,this._imgOffset={x:0,y:0},this.listen()}listen(){if(0===navigator.maxTouchPoints&&!this.configuration.forceListen)return;let e={passive:!1,capture:!1};this._dragRoot.addEventListener("touchstart",this._touchstart.bind(this),e),this._dragRoot.addEventListener("touchmove",this._touchmove.bind(this),e),this._dragRoot.addEventListener("touchend",this._touchend.bind(this)),this._dragRoot.addEventListener("touchcancel",this._touchend.bind(this))}setDragImage(e,t,n){this._imgCustom=e,this._imgOffset={x:t,y:n}}_touchstart(e){if(this._shouldHandle(e)){this._reset();let t=this._closestDraggable(e.target);t&&e.target&&!this._dispatchEvent(e,"mousemove",e.target)&&!this._dispatchEvent(e,"mousedown",e.target)&&(this._dragSource=t,this._ptDown=tT(e),this._lastTouch=e,setTimeout(()=>{this._dragSource===t&&null===this._img&&this._dispatchEvent(e,"contextmenu",t)&&this._reset()},this.configuration.contextMenuDelayMS),this.configuration.isPressHoldMode?this._pressHoldIntervalId=setTimeout(()=>{this._isDragEnabled=!0,this._touchmove(e)},this.configuration.pressHoldDelayMS):e.isTrusted||e.target===this._lastTarget||(this._lastTarget=e.target))}}_touchmove(e){if(this._shouldCancelPressHoldMove(e))return void this._reset();if(this._shouldHandleMove(e)||this._shouldHandlePressHoldMove(e)){let t=this._getTarget(e);if(this._dispatchEvent(e,"mousemove",t)){this._lastTouch=e,e.preventDefault();return}if(this._dragSource&&!this._img&&this._shouldStartDragging(e)){if(this._dispatchEvent(this._lastTouch,"dragstart",this._dragSource)){this._dragSource=null;return}this._createImage(e),this._dispatchEvent(e,"dragenter",t)}if(this._img&&this._dragSource&&(this._lastTouch=e,e.preventDefault(),this._dispatchEvent(e,"drag",this._dragSource),t!==this._lastTarget&&(this._lastTarget&&this._dispatchEvent(this._lastTouch,"dragleave",this._lastTarget),this._dispatchEvent(e,"dragenter",t),this._lastTarget=t),this._moveImage(e),this._isDropZone=this._dispatchEvent(e,"dragover",t),this.configuration.allowDragScroll)){let t=this._getHotRegionDelta(e);globalThis.scrollBy(t.x,t.y)}}}_touchend(e){if(!(this._lastTouch&&e.target&&this._lastTarget))return void this._reset();if(this._shouldHandle(e)){if(this._dispatchEvent(this._lastTouch,"mouseup",e.target))return void e.preventDefault();this._img||(this._dragSource=null,this._dispatchEvent(this._lastTouch,"click",e.target)),this._destroyImage(),this._dragSource&&(0>e.type.indexOf("cancel")&&this._isDropZone&&this._dispatchEvent(this._lastTouch,"drop",this._lastTarget),this._dispatchEvent(this._lastTouch,"dragend",this._dragSource),this._reset())}}_shouldHandle(e){return e&&!e.defaultPrevented&&e.touches&&e.touches.length<2}_shouldHandleMove(e){return!this.configuration.isPressHoldMode&&this._shouldHandle(e)}_shouldHandlePressHoldMove(e){return this.configuration.isPressHoldMode&&this._isDragEnabled&&e&&e.touches&&e.touches.length}_shouldCancelPressHoldMove(e){return this.configuration.isPressHoldMode&&!this._isDragEnabled&&this._getDelta(e)>this.configuration.pressHoldMargin}_shouldStartDragging(e){let t=this._getDelta(e);return this.configuration.isPressHoldMode?t>=this.configuration.pressHoldThresholdPixels:t>this.configuration.dragThresholdPixels}_reset(){this._destroyImage(),this._dragSource=null,this._lastTouch=null,this._lastTarget=null,this._ptDown=null,this._isDragEnabled=!1,this._isDropZone=!1,this._dataTransfer=new tN(this),clearTimeout(this._pressHoldIntervalId)}_getDelta(e){if(!this._ptDown)return 0;let{x:t,y:n}=this._ptDown,r=tT(e);return((r.x-t)**2+(r.y-n)**2)**.5}_getHotRegionDelta(e){let{clientX:t,clientY:n}=e.touches[0],{innerWidth:r,innerHeight:i}=globalThis,{dragScrollPercentage:o,dragScrollSpeed:a}=this.configuration,s=o/100,c=1-s;return{x:t<r*s?-a:t>r*c?+a:0,y:n<i*s?-a:n>i*c?+a:0}}_getTarget(e){let t=tT(e),n=this._dropRoot.elementFromPoint(t.x,t.y);for(;n&&"none"==getComputedStyle(n).pointerEvents;)n=n.parentElement;return n}_createImage(e){this._img&&this._destroyImage();let t=this._imgCustom||this._dragSource;if(this._img=t.cloneNode(!0),!function e(t,n){var r;r=n,["id","class","style","draggable"].forEach(function(e){r.removeAttribute(e)}),t instanceof HTMLCanvasElement&&(n.width=t.width,n.height=t.height,n.getContext("2d").drawImage(t,0,0)),function(e,t){let n=getComputedStyle(e);for(let e of n)e.includes("transition")||(t.style[e]=n[e]);Object.keys(t.dataset).forEach(e=>delete t.dataset[e])}(t,n),n.style.pointerEvents="none";for(let r=0;r<t.children.length;r++)e(t.children[r],n.children[r])}(t,this._img),this._img.style.top=this._img.style.left="-9999px",!this._imgCustom){let n=t.getBoundingClientRect(),r=tT(e);this._imgOffset={x:r.x-n.left,y:r.y-n.top},this._img.style.opacity=`${this.configuration.dragImageOpacity}`}this._moveImage(e),document.body.appendChild(this._img)}_destroyImage(){this._img&&this._img.parentElement&&this._img.parentElement.removeChild(this._img),this._img=null,this._imgCustom=null}_moveImage(e){requestAnimationFrame(()=>{if(this._img){let t=tT(e,!0),n=this._img.style;n.position="absolute",n.pointerEvents="none",n.zIndex="999999",n.left=`${tO(t.x-this._imgOffset.x)}px`,n.top=`${tO(t.y-this._imgOffset.y)}px`}})}_dispatchEvent(e,t,n){var r;let i,o,a;if(!(e&&n))return!1;let s=(i=new Event(t,{bubbles:!0,cancelable:!0}),o=e.touches[0],i.button=0,i.which=i.buttons=1,tI(i,e,["altKey","ctrlKey","metaKey","shiftKey"]),tI(i,o,["pageX","pageY","clientX","clientY","screenX","screenY","offsetX","offsetY"]),r=i,a=n.getBoundingClientRect(),void 0===r.offsetX&&(r.offsetX=r.clientX-a.x,r.offsetY=r.clientY-a.y),void 0===r.layerX&&(r.layerX=r.pageX-a.left,r.layerY=r.pageY-a.top),i);return s.dataTransfer=this._dataTransfer,n.dispatchEvent(s),s.defaultPrevented}_closestDraggable(e){for(let t=e;null!==t;t=t.parentElement)if(t.draggable)return t;return null}};function tR(e=document,t=document,n){new tD(e,t,n)}"file:///home/runner/work/CoCo-Next/CoCo-Next/editor/node_modules/@dragdroptouch/drag-drop-touch/dist/drag-drop-touch.esm.js".includes("?autoload")?tR(document,document,{forceListen:!0}):globalThis.DragDropTouch={enable:function(e=document,t=document,n){tR(e,t,n)}},tR(document,document,{isPressHoldMode:!0,pressHoldDelayMS:400,forceListen:!0}),["staging","production","prod"].includes(tC.b())&&setInterval(()=>{},100),tk().render((0,s.jsx)(E.Provider,{store:tE.M_,children:(0,s.jsx)(tb,{})}),document.getElementById("root")),i={swUrl:c.v},"serviceWorker"in navigator&&new URL("",window.location.href).origin===window.location.origin&&window.addEventListener("load",()=>{if(tw){let e="/main.sw.js";fetch(e,{headers:{"Service-Worker":"script"}}).then(t=>{let n=t.headers.get("content-type");404===t.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(e=>{e.unregister().then(()=>{window.location.reload()})}):tS(e,i)}).catch(()=>{console.error("No internet connection found. App is running in offline mode.")}),navigator.serviceWorker.ready.then(()=>{})}else tS("/editor/main.sw.js",i)}),navigator.serviceWorker?.getRegistration().then(e=>{e?.active&&!navigator.serviceWorker.controller&&window.location.reload(),e||window.localStorage.getItem("HAS_RELOADED")||(window.localStorage.setItem("HAS_RELOADED",JSON.stringify(!0)),window.location.reload())}),(o=console.info)&&o instanceof Function&&!v.h()&&n.e("216").then(n.bind(n,46651)).then(function(e){var t=e.getCLS,n=e.getFID,r=e.getFCP,i=e.getLCP,a=e.getTTFB;t(o),n(o),r(o),i(o),a(o)})},44539(e,t,n){"use strict";n.d(t,{P:()=>q,Xr:()=>F});var r=n(74848),i=n(41594),o=n(95546),a=n(31713),s=n(18341),c=n(6840),l=n.n(c),u=n(7757),d=n(63509),p=n(10913),h=n(52385),f=n(7837),m=n(2394),g=n(36454),v=n(72541),_=n(26564),x=n(52424),y=n(32919),b=n(50862),w=n(19042),S=n(52846),E=n(88963),C=n(51877),j=n(33007),k=n(13244),T=n(46942),I=n.n(T),N=n(95644),O=n(451),P=n(19040),D=n(75206),R=n(3035),A=n(9065),L=n(28349),M=n.n(L),B=n(75195),W=n(33186),U=n.n(W),F=i.forwardRef(function(e,t){var n=(0,P.useDispatch)(),o=N.a().formatMessage,a=e.onChange,s=e.checkValueIsRepeat,c=e.renameInputValue,l=e.className,u=e.value,d=i.useRef(u),p=i.useState(u),h=O.a(p,2),f=h[0],m=h[1],g=i.useState(!1),v=O.a(g,2),_=v[0],x=v[1],y=i.useRef(null),b=i.useRef(!0),w=i.useRef(null);i.useImperativeHandle(t,function(){return{focus:function(){var e;return null==(e=w.current)?void 0:e.focus()},blur:function(){var e;return null==(e=w.current)?void 0:e.blur()},select:function(){var e;return null==(e=w.current)?void 0:e.select()}}}),i.useEffect(function(){m(u)},[u]);var E=function(){y.current&&window.clearTimeout(y.current),x(!0),y.current=window.setTimeout(function(){x(!1),y.current=null},600)},j=function(){if(w.current){var e=w.current.value,t=S.b(e);if(t>B.i&&E(),b.current){if(!e.match(B.D))return m(d.current),void E();x(!1);var n=d.current,r=S.b(n);if(t<=B.i||t<r)return m(e),void(d.current=e);if(t>r&&r>=B.i)return m(d.current),void E();x(!1);for(var i=-1,o=0;o<e.length;o++)if(e[o]!==n[o]){i=o;break}if(i>-1){for(var a=n,s=i;s<e.length;s++){var c=n.slice(0,i)+e.slice(i,s)+n.slice(i);if(S.b(c)>B.i)break;a=c}m(a),d.current=a}}else m(e)}};return(0,r.jsx)("input",{className:I()(U().input,l,{"coco-input-warning-animation":_}),ref:w,value:f,onBlur:function(){e.onBlur&&e.onBlur();var t=f.trim();if(t){if(m(t),t!==u){if(s(t)){var r=c(t);return void(r&&m(r))}a(t)}}else n(C.Szx({message:o({id:"blankInputValue"}),type:"error",showCloseIcon:!1})),m(u)},onChange:j,onCompositionEnd:function(){b.current=!0,j()},onCompositionStart:function(){b.current=!1},onKeyDown:function(e){var t=w.current;t&&13===e.keyCode&&t.blur()}})}),H=function(e){var t=e.screenId,n=(0,P.useSelector)(function(e){return e.oTState.onlineCooperationUserList}),o=(0,P.useSelector)(function(e){return e.oTState.userFocusOTInfoList}),a=i.useState([]),s=O.a(a,2),c=s[0],l=s[1];if(i.useEffect(function(){var e=o.filter(function(e){return e.path.screenId===t});l(n.filter(function(t){return e.some(function(e){return e.userId===t.id})}).toJSON())},[n,t,o]),!c.length)return null;var u=c.map(function(e){return e.nickname}).join(" ");return(0,r.jsx)("div",{className:M().collaboration,title:u,children:(0,r.jsx)(j.rP,{type:"icon-collaborate"})})},G=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(){m.a(this,n);for(var e,t,r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=h.a(this,(e=p.a(n)).call.apply(e,[this].concat(o))),g.a(u.a(u.a(t)),"wrappedInstance",i.createRef()),t}return d.a(n,t),f.a(n,[{key:"componentDidMount",value:function(){D.findDOMNode(this).sortableHandle=!0}},{key:"getWrappedInstance",value:function(){return l()(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call"),this.wrappedInstance.current}},{key:"render",value:function(){var t=r.withRef?this.wrappedInstance:null;return i.createElement(e,_.a({ref:t},this.props))}}]),n}(i.Component),g.a(t,"displayName",(0,a.sr)("sortableHandle",e)),n}(function(e){var t=e.screen,n=e.index,i=e.title,o=(0,P.useDispatch)();return(0,r.jsx)("div",{className:M().snapshotContainer,onClick:(function(){o(C.vg(n))}).bind(null,n),children:t.snapshot&&(0,r.jsx)("img",{src:t.snapshot,className:M().snapshot,alt:i,draggable:!1})})}),V=i.memo(function(e){var t=e.screen,n=e.selected,o=e.onDeleteIconClick,a=e.updateCanEdit,s=e.canEdit,c=e.readonly,l=e.showDeleteIcon,u=A.e(t.id),d=(0,P.useSelector)(function(e){return e.project.screens}),p=(0,P.useSelector)(function(e){return e.oTState.collWorkId}),h=t.title;let f=N.a().formatMessage,m=(0,P.useDispatch)();var g=i.useRef(null),v=i.useRef(null);return i.useEffect(function(){n&&v.current&&v.current.scrollIntoView()},[n]),i.useEffect(function(){var e,t;s&&(null!=g&&null!=(e=g.current)&&e.focus(),null!=g&&null!=(t=g.current)&&t.select())},[s]),(0,r.jsxs)("div",{ref:v,className:I()(M().item,k.a({},M().selected,n)),children:[(0,r.jsxs)("div",{className:M().view,children:[(0,r.jsx)(G,{screen:t,index:u,title:h}),(0,r.jsxs)(r.Fragment,{children:[!s&&(0,r.jsxs)(r.Fragment,{children:[l&&!c&&(0,r.jsx)("div",{className:M().delete,onClick:function(e){e.stopPropagation(),o(t)},children:(0,r.jsx)(j.rP,{type:"icon-delete-bold"})}),!c&&(0,r.jsx)("div",{className:M().copy,onClick:e=>{d.size>98&&m(C.Szx({showPrefixIcon:!1,message:f({id:"screeMaxSize"})})),e.stopPropagation(),m(C.vg(u)),m(C.Df(t.id))},children:(0,r.jsx)(j.rP,{type:"icon-copy"})}),!!p&&(0,r.jsx)(H,{screenId:t.id})]}),(0,r.jsx)("div",{className:M().index,children:u+1})]})]}),(0,r.jsx)("div",{className:M().titleBox,children:s&&!c?(0,r.jsx)(F,{value:h,checkValueIsRepeat:function(e){return y.r(t.id,e)},onChange:function(e){var n;m(C.Jg(t.id,"title",e)),null!=(n=b.g.getToolbox())&&n.refresh_selection()},ref:g,renameInputValue:function(e){var n,r=y.Ob(t.id,e,d);return m(C.Jg(t.id,"title",r)),null!=(n=b.g.getToolbox())&&n.refresh_selection(),r},onBlur:function(){a(!1)},className:M().editName}):(0,r.jsx)("p",{onClick:function(e){c||a(!0)},style:{display:s?"none":"block"},className:M().canNotEdit,children:h})})]},t.id)}),Y=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(){m.a(this,n);for(var e,t,r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=h.a(this,(e=p.a(n)).call.apply(e,[this].concat(o))),g.a(u.a(u.a(t)),"wrappedInstance",i.createRef()),t}return d.a(n,t),f.a(n,[{key:"componentDidMount",value:function(){this.register()}},{key:"componentDidUpdate",value:function(e){this.node&&(e.index!==this.props.index&&(this.node.sortableInfo.index=this.props.index),e.disabled!==this.props.disabled&&(this.node.sortableInfo.disabled=this.props.disabled)),e.collection!==this.props.collection&&(this.unregister(e.collection),this.register())}},{key:"componentWillUnmount",value:function(){this.unregister()}},{key:"register",value:function(){var e=this.props,t=e.collection,n=e.disabled,r=e.index,i=D.findDOMNode(this);i.sortableInfo={collection:t,disabled:n,index:r,manager:this.context.manager},this.node=i,this.ref={node:i},this.context.manager.add(t,this.ref)}},{key:"unregister",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.collection;this.context.manager.remove(e,this.ref)}},{key:"getWrappedInstance",value:function(){return l()(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call"),this.wrappedInstance.current}},{key:"render",value:function(){var t=r.withRef?this.wrappedInstance:null;return i.createElement(e,_.a({ref:t},(0,a.Zn)(this.props,a.Wr)))}}]),n}(i.Component),g.a(t,"displayName",(0,a.sr)("sortableElement",e)),g.a(t,"contextType",a.Fr),g.a(t,"propTypes",a.Gr),g.a(t,"defaultProps",{collection:0}),n}(function(e){var t=e.screen,n=e.screenIndex,r=e.currentScreenIndex,o=e.updateCanEdit,a=e.editDomIndex,s=e.screensSize,c=x.a(e,["screen","screenIndex","currentScreenIndex","updateCanEdit","editDomIndex","screensSize"]);return i.createElement(V,Object.assign({key:t.id,screen:t,canEdit:a===n,updateCanEdit:function(e){o(e,n)},selected:r===n,showDeleteIcon:s>1},c))}),K=function(e){var t,n,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(e){m.a(this,n),t=h.a(this,p.a(n).call(this,e)),g.a(u.a(u.a(t)),"state",{}),g.a(u.a(u.a(t)),"handleStart",function(e){var n=t.props,r=n.distance,i=n.shouldCancelStart;if(2!==e.button&&!i(e)){t.touched=!0,t.position=(0,a.lr)(e);var o=(0,a.rr)(e.target,function(e){return null!=e.sortableInfo});if(o&&o.sortableInfo&&t.nodeIsChild(o)&&!t.state.sorting){var s=t.props.useDragHandle,c=o.sortableInfo,l=c.index,u=c.collection;if(c.disabled||s&&!(0,a.rr)(e.target,a.Rr))return;t.manager.active={collection:u,index:l},(0,a.ur)(e)||e.target.tagName!==a.wr||e.preventDefault(),r||(0===t.props.pressDelay?t.handlePress(e):t.pressTimer=setTimeout(function(){return t.handlePress(e)},t.props.pressDelay))}}}),g.a(u.a(u.a(t)),"nodeIsChild",function(e){return e.sortableInfo.manager===t.manager}),g.a(u.a(u.a(t)),"handleMove",function(e){var n=t.props,r=n.distance,i=n.pressThreshold;if(!t.state.sorting&&t.touched&&!t._awaitingUpdateBeforeSortStart){var o=(0,a.lr)(e),s={x:t.position.x-o.x,y:t.position.y-o.y},c=Math.abs(s.x)+Math.abs(s.y);t.delta=s,r||i&&!(c>=i)?r&&c>=r&&t.manager.isActive()&&t.handlePress(e):(clearTimeout(t.cancelTimer),t.cancelTimer=setTimeout(t.cancel,0))}}),g.a(u.a(u.a(t)),"handleEnd",function(){t.touched=!1,t.cancel()}),g.a(u.a(u.a(t)),"cancel",function(){var e=t.props.distance;t.state.sorting||(e||clearTimeout(t.pressTimer),t.manager.active=null)}),g.a(u.a(u.a(t)),"handlePress",function(e){try{var n=t.manager.getActive(),r=function(){if(n){var r=function(){var n=f.sortableInfo.index,r=(0,a.ar)(f),i=(0,a.gr)(t.container),d=t.scrollContainer.getBoundingClientRect(),v=c({index:n,node:f,collection:m});if(t.node=f,t.margin=r,t.gridGap=i,t.width=v.width,t.height=v.height,t.marginOffset={x:t.margin.left+t.margin.right+t.gridGap.x,y:Math.max(t.margin.top,t.margin.bottom,t.gridGap.y)},t.boundingClientRect=f.getBoundingClientRect(),t.containerBoundingRect=d,t.index=n,t.newIndex=n,t.axis={x:s.indexOf("x")>=0,y:s.indexOf("y")>=0},t.offsetEdge=(0,a.dr)(f,t.container),t.initialOffset=(0,a.lr)(g?(0,o.Pn)({},e,{pageX:t.boundingClientRect.left,pageY:t.boundingClientRect.top}):e),t.initialScroll={left:t.scrollContainer.scrollLeft,top:t.scrollContainer.scrollTop},t.initialWindowScroll={left:window.pageXOffset,top:window.pageYOffset},t.helper=t.helperContainer.appendChild((0,a.Nr)(f)),(0,a.er)(t.helper,{boxSizing:"border-box",height:"".concat(t.height,"px"),left:"".concat(t.boundingClientRect.left-r.left,"px"),pointerEvents:"none",position:"fixed",top:"".concat(t.boundingClientRect.top-r.top,"px"),width:"".concat(t.width,"px")}),g&&t.helper.focus(),u&&(t.sortableGhost=f,(0,a.er)(f,{opacity:0,visibility:"hidden"})),t.minTranslate={},t.maxTranslate={},g){var _=h?{top:0,left:0,width:t.contentWindow.innerWidth,height:t.contentWindow.innerHeight}:t.containerBoundingRect,x=_.top,y=_.left,b=_.width,w=x+_.height;t.axis.x&&(t.minTranslate.x=y-t.boundingClientRect.left,t.maxTranslate.x=y+b-(t.boundingClientRect.left+t.width)),t.axis.y&&(t.minTranslate.y=x-t.boundingClientRect.top,t.maxTranslate.y=w-(t.boundingClientRect.top+t.height))}else t.axis.x&&(t.minTranslate.x=(h?0:d.left)-t.boundingClientRect.left-t.width/2,t.maxTranslate.x=(h?t.contentWindow.innerWidth:d.left+d.width)-t.boundingClientRect.left-t.width/2),t.axis.y&&(t.minTranslate.y=(h?0:d.top)-t.boundingClientRect.top-t.height/2,t.maxTranslate.y=(h?t.contentWindow.innerHeight:d.top+d.height)-t.boundingClientRect.top-t.height/2);l&&l.split(" ").forEach(function(e){return t.helper.classList.add(e)}),t.listenerNode=e.touches?e.target:t.contentWindow,g?(t.listenerNode.addEventListener("wheel",t.handleKeyEnd,!0),t.listenerNode.addEventListener("mousedown",t.handleKeyEnd,!0),t.listenerNode.addEventListener("keydown",t.handleKeyDown)):(a.Jn.move.forEach(function(e){return t.listenerNode.addEventListener(e,t.handleSortMove,!1)}),a.Jn.end.forEach(function(e){return t.listenerNode.addEventListener(e,t.handleSortEnd,!1)})),t.setState({sorting:!0,sortingIndex:n}),p&&p({node:f,index:n,collection:m,isKeySorting:g,nodes:t.manager.getOrderedRefs(),helper:t.helper},e),g&&t.keyMove(0)},i=t.props,s=i.axis,c=i.getHelperDimensions,l=i.helperClass,u=i.hideSortableGhost,d=i.updateBeforeSortStart,p=i.onSortStart,h=i.useWindowAsScrollContainer,f=n.node,m=n.collection,g=t.manager.isKeySorting,v=function(){if("function"==typeof d){t._awaitingUpdateBeforeSortStart=!0;var n=(0,a.Br)(function(){var t=f.sortableInfo.index;return Promise.resolve(d({collection:m,index:t,node:f,isKeySorting:g},e)).then(function(){})},function(e,n){if(t._awaitingUpdateBeforeSortStart=!1,e)throw n;return n});if(n&&n.then)return n.then(function(){})}}();return v&&v.then?v.then(r):r()}}();return Promise.resolve(r&&r.then?r.then(function(){}):void 0)}catch(e){return Promise.reject(e)}}),g.a(u.a(u.a(t)),"handleSortMove",function(e){var n=t.props.onSortMove;"function"==typeof e.preventDefault&&e.cancelable&&e.preventDefault(),t.updateHelperPosition(e),t.animateNodes(),t.autoscroll(),n&&n(e)}),g.a(u.a(u.a(t)),"handleSortEnd",function(e){var n=t.props,r=n.hideSortableGhost,i=n.onSortEnd,o=t.manager,s=o.active.collection,c=o.isKeySorting,l=t.manager.getOrderedRefs();t.listenerNode&&(c?(t.listenerNode.removeEventListener("wheel",t.handleKeyEnd,!0),t.listenerNode.removeEventListener("mousedown",t.handleKeyEnd,!0),t.listenerNode.removeEventListener("keydown",t.handleKeyDown)):(a.Jn.move.forEach(function(e){return t.listenerNode.removeEventListener(e,t.handleSortMove)}),a.Jn.end.forEach(function(e){return t.listenerNode.removeEventListener(e,t.handleSortEnd)}))),t.helper.parentNode.removeChild(t.helper),r&&t.sortableGhost&&(0,a.er)(t.sortableGhost,{opacity:"",visibility:""});for(var u=0,d=l.length;u<d;u++){var p=l[u],h=p.node;p.edgeOffset=null,p.boundingClientRect=null,(0,a.tr)(h,null),(0,a.nr)(h,null),p.translate=null}t.autoScroller.clear(),t.manager.active=null,t.manager.isKeySorting=!1,t.setState({sorting:!1,sortingIndex:null}),"function"==typeof i&&i({collection:s,newIndex:t.newIndex,oldIndex:t.index,isKeySorting:c,nodes:l},e),t.touched=!1}),g.a(u.a(u.a(t)),"autoscroll",function(){var e=t.props.disableAutoscroll,n=t.manager.isKeySorting;if(e)t.autoScroller.clear();else{if(n){var r=(0,o.Pn)({},t.translate),i=0,s=0;return t.axis.x&&(r.x=Math.min(t.maxTranslate.x,Math.max(t.minTranslate.x,t.translate.x)),i=t.translate.x-r.x),t.axis.y&&(r.y=Math.min(t.maxTranslate.y,Math.max(t.minTranslate.y,t.translate.y)),s=t.translate.y-r.y),t.translate=r,(0,a.tr)(t.helper,t.translate),t.scrollContainer.scrollLeft+=i,void(t.scrollContainer.scrollTop+=s)}t.autoScroller.update({height:t.height,maxTranslate:t.maxTranslate,minTranslate:t.minTranslate,translate:t.translate,width:t.width})}}),g.a(u.a(u.a(t)),"onAutoScroll",function(e){t.translate.x+=e.left,t.translate.y+=e.top,t.animateNodes()}),g.a(u.a(u.a(t)),"handleKeyDown",function(e){var n=e.keyCode,r=t.props,i=r.shouldCancelStart,s=r.keyCodes,c=(0,o.Pn)({},a.Dr,void 0===s?{}:s);!(t.manager.active&&!t.manager.isKeySorting||!(t.manager.active||c.lift.includes(n)&&!i(e)&&t.isValidSortingTarget(e)))&&(e.stopPropagation(),e.preventDefault(),c.lift.includes(n)&&!t.manager.active?t.keyLift(e):c.drop.includes(n)&&t.manager.active?t.keyDrop(e):c.cancel.includes(n)?(t.newIndex=t.manager.active.index,t.keyDrop(e)):c.up.includes(n)?t.keyMove(-1):c.down.includes(n)&&t.keyMove(1))}),g.a(u.a(u.a(t)),"keyLift",function(e){var n=e.target,r=(0,a.rr)(n,function(e){return null!=e.sortableInfo}).sortableInfo,i=r.index,o=r.collection;t.initialFocusedNode=n,t.manager.isKeySorting=!0,t.manager.active={index:i,collection:o},t.handlePress(e)}),g.a(u.a(u.a(t)),"keyMove",function(e){var n=t.manager.getOrderedRefs(),r=n[n.length-1].node.sortableInfo.index,i=t.newIndex+e,o=t.newIndex;if(!(i<0||i>r)){t.prevIndex=o,t.newIndex=i;var s=(0,a.pr)(t.newIndex,t.prevIndex,t.index),c=n.find(function(e){return e.node.sortableInfo.index===s}),l=c.node,u=t.containerScrollDelta,d=c.boundingClientRect||(0,a.cr)(l,u),p=c.translate||{x:0,y:0},h=d.top+p.y-u.top,f=d.left+p.x-u.left,m=o<i,g=m&&t.axis.x?l.offsetWidth-t.width:0,v=m&&t.axis.y?l.offsetHeight-t.height:0;t.handleSortMove({pageX:f+g,pageY:h+v,ignoreTransition:0===e})}}),g.a(u.a(u.a(t)),"keyDrop",function(e){t.handleSortEnd(e),t.initialFocusedNode&&t.initialFocusedNode.focus()}),g.a(u.a(u.a(t)),"handleKeyEnd",function(e){t.manager.active&&t.keyDrop(e)}),g.a(u.a(u.a(t)),"isValidSortingTarget",function(e){var n=t.props.useDragHandle,r=e.target,i=(0,a.rr)(r,function(e){return null!=e.sortableInfo});return i&&i.sortableInfo&&!i.sortableInfo.disabled&&(n?(0,a.Rr)(r):r.sortableInfo)});var t,r=new a.Xn;return(0,a.Pr)(e),t.manager=r,t.wrappedInstance=i.createRef(),t.sortableContextValue={manager:r},t.events={end:t.handleEnd,move:t.handleMove,start:t.handleStart},t}return d.a(n,t),f.a(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.useWindowAsScrollContainer;Promise.resolve(this.getContainer()).then(function(n){e.container=n,e.document=e.container.ownerDocument||document;var r=e.props.contentWindow||e.document.defaultView||window;e.contentWindow="function"==typeof r?r():r,e.scrollContainer=t?e.document.scrollingElement||e.document.documentElement:(0,a.mr)(e.container)||e.container,e.autoScroller=new a.kr(e.scrollContainer,e.onAutoScroll),Object.keys(e.events).forEach(function(t){return a.Jn[t].forEach(function(n){return e.container.addEventListener(n,e.events[t],!1)})}),e.container.addEventListener("keydown",e.handleKeyDown)})}},{key:"componentWillUnmount",value:function(){var e=this;this.helper&&this.helper.parentNode&&this.helper.parentNode.removeChild(this.helper),this.container&&(Object.keys(this.events).forEach(function(t){return a.Jn[t].forEach(function(n){return e.container.removeEventListener(n,e.events[t])})}),this.container.removeEventListener("keydown",this.handleKeyDown))}},{key:"updateHelperPosition",value:function(e){var t=this.props,n=t.lockAxis,r=t.lockOffset,i=t.lockToContainerEdges,o=t.transitionDuration,s=t.keyboardSortingTransitionDuration,c=void 0===s?o:s,l=this.manager.isKeySorting,u=e.ignoreTransition,d=(0,a.lr)(e),p={x:d.x-this.initialOffset.x,y:d.y-this.initialOffset.y};if(p.y-=window.pageYOffset-this.initialWindowScroll.top,p.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=p,i){var h=(0,a.hr)({height:this.height,lockOffset:r,width:this.width}),f=v.a(h,2),m=f[0],g=f[1],_={x:this.width/2-m.x,y:this.height/2-m.y},x={x:this.width/2-g.x,y:this.height/2-g.y};p.x=(0,a.or)(this.minTranslate.x+_.x,this.maxTranslate.x-x.x,p.x),p.y=(0,a.or)(this.minTranslate.y+_.y,this.maxTranslate.y-x.y,p.y)}"x"===n?p.y=0:"y"===n&&(p.x=0),l&&c&&!u&&(0,a.nr)(this.helper,c),(0,a.tr)(this.helper,p)}},{key:"animateNodes",value:function(){var e=this.props,t=e.transitionDuration,n=e.hideSortableGhost,r=e.onSortOver,i=this.containerScrollDelta,o=this.windowScrollDelta,s=this.manager.getOrderedRefs(),c=this.offsetEdge.left+this.translate.x+i.left,l=this.offsetEdge.top+this.translate.y+i.top,u=this.manager.isKeySorting,d=this.newIndex;this.newIndex=null;for(var p=0,h=s.length;p<h;p++){var f=s[p].node,m=f.sortableInfo.index,g=f.offsetWidth,v=f.offsetHeight,_={height:this.height>v?v/2:this.height/2,width:this.width>g?g/2:this.width/2},x=u&&m>this.index&&m<=d,y=u&&m<this.index&&m>=d,b={x:0,y:0},w=s[p].edgeOffset;!w&&(w=(0,a.dr)(f,this.container),s[p].edgeOffset=w,u&&(s[p].boundingClientRect=(0,a.cr)(f,i)));var S=p<s.length-1&&s[p+1],E=p>0&&s[p-1];S&&!S.edgeOffset&&(S.edgeOffset=(0,a.dr)(S.node,this.container),u&&(S.boundingClientRect=(0,a.cr)(S.node,i))),m!==this.index?(t&&(0,a.nr)(f,t),this.axis.x?this.axis.y?y||m<this.index&&(c+o.left-_.width<=w.left&&l+o.top<=w.top+_.height||l+o.top+_.height<=w.top)?(b.x=this.width+this.marginOffset.x,w.left+b.x>this.containerBoundingRect.width-_.width&&S&&(b.x=S.edgeOffset.left-w.left,b.y=S.edgeOffset.top-w.top),null===this.newIndex&&(this.newIndex=m)):(x||m>this.index&&(c+o.left+_.width>=w.left&&l+o.top+_.height>=w.top||l+o.top+_.height>=w.top+v))&&(b.x=-(this.width+this.marginOffset.x),w.left+b.x<this.containerBoundingRect.left+_.width&&E&&(b.x=E.edgeOffset.left-w.left,b.y=E.edgeOffset.top-w.top),this.newIndex=m):x||m>this.index&&c+o.left+_.width>=w.left?(b.x=-(this.width+this.marginOffset.x),this.newIndex=m):(y||m<this.index&&c+o.left<=w.left+_.width)&&(b.x=this.width+this.marginOffset.x,null==this.newIndex&&(this.newIndex=m)):this.axis.y&&(x||m>this.index&&l+o.top+_.height>=w.top?(b.y=-(this.height+this.marginOffset.y),this.newIndex=m):(y||m<this.index&&l+o.top<=w.top+_.height)&&(b.y=this.height+this.marginOffset.y,null==this.newIndex&&(this.newIndex=m))),(0,a.tr)(f,b),s[p].translate=b):n&&(this.sortableGhost=f,(0,a.er)(f,{opacity:0,visibility:"hidden"}))}null==this.newIndex&&(this.newIndex=this.index),u&&(this.newIndex=d);var C=u?this.prevIndex:d;r&&this.newIndex!==C&&r({collection:this.manager.active.collection,index:this.index,newIndex:this.newIndex,oldIndex:C,isKeySorting:u,nodes:s,helper:this.helper})}},{key:"getWrappedInstance",value:function(){return l()(s.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call"),this.wrappedInstance.current}},{key:"getContainer",value:function(){var e=this.props.getContainer;return"function"!=typeof e?D.findDOMNode(this):e(s.withRef?this.getWrappedInstance():void 0)}},{key:"render",value:function(){var t=s.withRef?this.wrappedInstance:null;return(0,r.jsx)(a.Fr.Provider,{value:this.sortableContextValue,children:i.createElement(e,_.a({ref:t},(0,a.Zn)(this.props,a.Lr)))})}},{key:"helperContainer",get:function(){var e=this.props.helperContainer;return"function"==typeof e?e():this.props.helperContainer||this.document.body}},{key:"containerScrollDelta",get:function(){return this.props.useWindowAsScrollContainer?{left:0,top:0}:{left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top}}},{key:"windowScrollDelta",get:function(){return{left:this.contentWindow.pageXOffset-this.initialWindowScroll.left,top:this.contentWindow.pageYOffset-this.initialWindowScroll.top}}}]),n}(i.Component),g.a(t,"displayName",(0,a.sr)("sortableList",e)),g.a(t,"defaultProps",a.Mr),g.a(t,"propTypes",a.xr),n}(function(e){var t=e.screens,n=x.a(e,["screens"]),o=t.size,a=i.useRef(null),s=i.useRef(0),c=function(){a.current&&(s.current=a.current.scrollLeft)},l=function(e){var t;0===e.deltaX&&0!==e.deltaY&&(e.preventDefault(),null!=(t=a.current)&&t.scrollBy({left:Math.round(e.deltaY)/2,behavior:"smooth"}))};return i.useLayoutEffect(function(){if(a.current){var e=a.current;return a.current.scrollLeft=s.current,a.current.addEventListener("scroll",c),a.current.addEventListener("wheel",l),function(){e.removeEventListener("scroll",c),e.removeEventListener("wheel",l)}}}),(0,r.jsx)("div",{className:M().list,ref:a,children:t.map(function(e,t){return i.createElement(Y,Object.assign({key:e.id,screen:e,index:t,screenIndex:t,screensSize:o},n))})})});let q=i.memo(()=>{let e=N.a().formatMessage;var t,n=i.useRef(null),o=(0,P.useSelector)(function(e){return e.project.screens}),a=(0,P.useSelector)(function(e){return e.common.stageWidth}),c=i.useState(-1),l=O.a(c,2),u=l[0],d=l[1],p=i.useState(0),h=O.a(p,2),f=h[0],m=h[1],g=i.useState(0),v=O.a(g,2),_=v[0],x=v[1],y=i.useState(!1),k=O.a(y,2),T=k[0],D=k[1],L=i.useRef(),B=i.useRef(null),W=(0,P.useSelector)(function(e){return e.project.currentScreenIndex}),U=(0,P.useSelector)(function(e){return e.project.playing}),F=A.d(),H=(0,P.useSelector)(function(e){return e.uiConfig.screenPanel})===E.j.ReadOnly;let G=(0,P.useDispatch)();i.useEffect(function(){var e=document.createElement("div");e.id="_cocoScreenListDragContainer",document.body.appendChild(e)},[]),i.useEffect(function(){(null==F?void 0:F.id)&&setTimeout(function(){var e=document.getElementById(F.id);e&&R.a(e,1).then(function(e){G(C.Xj(F.id,e))}).catch(function(e){return console.error(e)})},100)},[F,G]);let V=(0,s.s)();i.useEffect(function(){x(U?a+V:a)},[U,a,V]),i.useEffect(function(){var e=function(e){var t,r,i=e.target,o=null==(t=n.current)?void 0:t.target;o&&!(o.contains(i)||i.closest(".".concat(M().deleteScreenDialog))||i.closest(".".concat(M().snapshotContainer)))&&null!=(r=n.current)&&r.hideContent()};return document.body.addEventListener("click",e),document.body.addEventListener("mousedown",e),function(){document.body.removeEventListener("click",e),document.body.removeEventListener("mousedown",e)}},[null==(t=n.current)?void 0:t.visible]),i.useEffect(function(){var e=document.getElementById("screen_index_".concat(W));e&&e.scrollIntoView({block:"end",inline:"nearest"})},[W]);var Y=function(){B.current&&m(B.current.scrollLeft)},q=function(e){var t;0===e.deltaX&&0!==e.deltaY&&(e.preventDefault(),null!=(t=B.current)&&t.scrollBy({left:Math.round(e.deltaY)/2,behavior:"smooth"}))};if(i.useLayoutEffect(()=>{if(B.current){var e=B.current;return B.current.addEventListener("scroll",Y),B.current.addEventListener("wheel",q),function(){e.removeEventListener("scroll",Y),e.removeEventListener("wheel",q)}}}),!F)return null;var z=function(t){var n=o.find(function(e){return e.id===t});if(n){L.current=n;var r=n.get("title"),i=e({id:"deleteScreen"})+"“"+S.f(r,10)+"”?";G(C.xqZ({onClose:X,onConfirm:J,title:i,isDangerous:!0,content:e({id:"deleteScreenTips"}),allowText:e({id:"delete"}),className:M().deleteScreenDialog}))}},$=function(e){G(C.ng(e))},X=function(){L.current=void 0},J=function(){var e,t=null==(e=L.current)?void 0:e.get("id");t&&G(C.ng(t))},Z=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:M().closeIconBox,onClick:function(){var e;null!=(e=n.current)&&e.hideContent()},children:(0,r.jsx)(j.rP,{type:"icon-close"})}),(0,r.jsxs)("section",{className:M().popoverBody,style:{width:_+2},"data-html2canvas-ignore":"true",children:[i.createElement(K,{screens:o,editDomIndex:u,currentScreenIndex:W,readonly:H,updateCanEdit:function(e,t){d(e?t:-1)},onDeleteIconClick:function(e){0===e.get("widgetIds").length&&b.z.isEmptyWorkspace(F.id,e.id)?$(e.id):z(e.id)},axis:"x",onSortEnd:function(e){var t=e.oldIndex,n=e.newIndex;t===n?(G(C.vg(n)),w.a("ScreenItemClick",{screenId:o.getIn([n,"id"]),screenName:o.getIn([n,"title"])})):(0,P.batch)(function(){var e;G(C.Fi(!0)),G(C.yh(t,n)),G(C.vg(n)),null!=(e=b.g.getToolbox())&&e.refresh_selection()})},helperClass:M().dragItem,helperContainer:document.getElementById("_cocoScreenListDragContainer")||document.body,useDragHandle:!0}),!H&&(0,r.jsx)("div",{className:M().addScreen,onClick:function(){o.size>98&&G(C.Szx({showPrefixIcon:!1,message:e({id:"screeMaxSize"})})),G(C.Hf()),d(o.size)},children:(0,r.jsx)(j.rP,{type:"icon-add2",className:M().addBtn})})]})]}),Q=function(e){G(C.vg(e))};return(0,r.jsxs)("div",{className:M().wrapper,style:{left:U?0:V,width:_},children:[(0,r.jsx)("div",{className:I()(M().stageMask,T&&M().visible)}),(0,r.jsx)(j.r,{content:Z,onOpen:()=>{D(!0)},onHide:()=>{D(!1)},autoClose:!1,ref:n,children:(0,r.jsxs)("div",{className:I()(M().screenIconBox,!U&&M().line),children:[(0,r.jsx)(j.rP,{type:"icon-screen-manage",className:M().screenIcon}),(0,r.jsx)("span",{className:M().screenText,children:e({id:"screenManage"})})]})}),!U&&(0,r.jsxs)("div",{className:M().screenIndexBox,children:[(0,r.jsx)("div",{className:I()(M().prev,f<=0&&M().hide),onClick:function(){var e;null!=(e=B.current)&&e.scrollBy({left:-190,behavior:"smooth"})},children:(0,r.jsx)(j.rP,{type:"icon-pick-up",className:M().prevIcon})}),(0,r.jsx)("div",{className:I()(M().next,f+_-108>=38*o.size&&M().hide),onClick:function(){var e;null!=(e=B.current)&&e.scrollBy({left:190,behavior:"smooth"})},children:(0,r.jsx)(j.rP,{type:"icon-pick-up",className:M().nextIcon})}),(0,r.jsx)("div",{className:M().screenIndexList,ref:B,children:o.map(function(e,t){return(0,r.jsx)("div",{id:"screen_index_".concat(t),className:I()(M().index,W===t&&M().active),onClick:Q.bind(null,t),children:t+1},t)})})]})]})})},26372(e){e.exports={wrapper:"PreviewArea_wrapper__2g99u",side:"PreviewArea_side__3XTRT",mask:"PreviewArea_mask__nhSUu",header:"PreviewArea_header__3tGAU",body:"PreviewArea_body__1s54V",main:"PreviewArea_main__240n6",stage:"PreviewArea_stage__38aST",viewZone:"PreviewArea_viewZone__3iEdy",appZone:"PreviewArea_appZone__2q22j",dragBar:"PreviewArea_dragBar__KyFSw",active:"PreviewArea_active__1ph5s",toastWrapper:"PreviewArea_toastWrapper__2ppGT",toast:"PreviewArea_toast__HctvC",icon:"PreviewArea_icon__x4x_k",stageMask:"PreviewArea_stageMask__3GQZD",isActorDragging:"PreviewArea_isActorDragging__3W4To",foldBtn:"PreviewArea_foldBtn__29ByC",hide:"PreviewArea_hide__2HaDd",show:"PreviewArea_show__j9QuI",visible:"PreviewArea_visible__1Sj5F",canvasFlash:"PreviewArea_canvasFlash__1e0IE",canvasFlashAnimation:"PreviewArea_canvasFlashAnimation__3hYe-",guideLine:"PreviewArea_guideLine__1OIpg",stageReadOnlyMask:"PreviewArea_stageReadOnlyMask__SYAlA"}},18341(e,t,n){"use strict";n.d(t,{s:()=>ez,Sv:()=>e$});var r,i=n(74848),o=n(41594),a=n(14816),s=n(38011),c=n(44539),l=n(20223),u=n(7214),d=n(84694),p=n(27322),h=n(69376),f=n(2116),m=n(45132),g=n(42498),v=n(74845),_=n(10359),x=n(6428),y=n(43741),b=n(64005),w=n(9839),S=n(26450),E=n(14471),C=n(63110),j=n(15003),k=n(30011),T=n(25255),I=n(10032),N=n(74017),O=n(8666),P=n(9667),D=n(38815),R=n(84523),A=n(18575),L=n(2831),M=n(71173),B=n(49617),W=n(28327),U=n(30322),F=n(3061),H=n(40305),G=n(81740),V=n(12181),Y=n(41816),K=n(16622),q=n(12152),z=n.n(q),$=n(75195),X=n(9065),J=n(94220),Z=n(26816),Q=n(32919),ee=n(2980),et=n(33383),en=n(52301),er=n(51877),ei=n(13244),eo=n(46942),ea=n.n(eo),es=n(95644),ec=n(451),el=n(5762),eu=n(19040),ed=n(25744),ep=n(96724),eh=n(5297);function ef(){let[,e]=(0,o.useState)(innerWidth);function t(){e(innerWidth)}return(0,o.useEffect)(()=>(addEventListener("resize",t),()=>{removeEventListener("resize",t)})),innerWidth}var em=n(7683),eg=n(27493),ev=n(43234),e_=n(26372),ex=n.n(e_),ey=[n(62986).a,eh.a,"UNSAFE_EXTENSION_KANO_WAND_WIDGET"];let eb=o.memo(({icon:e,title:t,type:n,docsUrl:a,isMallExtensionWidget:s,isInvisibleWidget:c,widgetServerId:l})=>{let u=X.d(),d=(0,eu.useDispatch)(),{formatMessage:p}=es.a(),[h,f]=o.useState(!1),[m,g]=o.useState(!1),[v,_]=o.useState(!1);var x=o.useState(!0),y=ec.a(x,2),b=y[0],w=y[1];let[S,E]=o.useState(!1),C=(0,eu.useSelector)(e=>e.project.screens),j=(0,eu.useSelector)(e=>e.project.globalWidgetIds),k=(0,eu.useSelector)(e=>e.common.language);o.useEffect(function(){function e(){f(!1),g(!1),document.removeEventListener("click",e,!0),document.removeEventListener("contextmenu",e,!0),document.removeEventListener("dragstart",e,!0)}(h||m)&&(document.addEventListener("click",e,!0),document.addEventListener("contextmenu",e,!0),document.addEventListener("dragstart",e,!0))},[h,m]),o.useEffect(function(){ey.includes(n)&&w(!j.some(e=>e.includes(n)))},[n,j]);let T=!0;(n===J.D8||n===J.C6)&&u&&(T=u.widgetIds.some(e=>Q.Bb(e)?.type===J.yV));let I=async()=>{if(l)await ep.TF([l])?(d(er.Szx({message:p({id:"WidgetMall.removeSuccess"}),type:"success"})),d(er.Kh([n]))):d(er.Szx({message:p({id:"WidgetMall.removeFailure"})}));else if(Z.Np(n)){if((j.some(e=>e.includes(n))||C.some(e=>e.widgetIds.some(e=>e.includes(n))))&&!await new Promise(e=>{d(er.xqZ({title:p({id:"WidgetList.widgetIsUsedTitle"},{title:t}),content:p({id:"WidgetList.widgetIsUsedContent"},{title:t}),onConfirm(){e(!0)},onCancel(){e(!1)},isDangerous:!0}))}))return;eg.ht(eg.hY.EXTENSION,n),em.CY(n),ev.E.extensionWidget?.clientOp.removeUnsafeExtensionWidget(n),d(er.H_H()),d(er.Szx({message:p({id:"WidgetList.removeSuccess"},{title:t}),type:"success"}))}else console.error("removeWidget error: widgetServerId is null")};return(0,i.jsx)(en.a,{placement:"rightTop",trigger:"hover",onVisibleChange:e=>{e&&(f(!1),g(!1))},visible:h||m,content:()=>h?(0,i.jsxs)("div",{style:{boxShadow:"0 0 10px 0 rgba(0,0,0,.15)"},children:[Z.Np(n)&&(0,i.jsx)("div",{className:z().menuWrapper,style:{boxShadow:"none"},onMouseDown:I,children:p({id:"Widget.removeWidget"})}),a&&(0,i.jsx)("a",{className:z().menuWrapper,style:{display:"block",boxShadow:"none"},href:a,children:"如何使用"})]}):m&&v?(0,i.jsx)("div",{className:z().imgWrapper,children:(0,i.jsx)("div",{className:z().widgetImgBig,style:{backgroundImage:`url("${e}")`}})}):void 0,children:(0,i.jsxs)("div",{className:ea()(z().widgetItem,ei.a({},z().disabled,!T||!b)),style:{transform:S&&0!==navigator.maxTouchPoints?"scale(1.2)":void 0},onTouchMove:()=>{f(!1)},onClick:()=>{if(!T||!b){var e="";if(b)e=p({id:"StageToast.addCanvasWidgetTips"});else{var t,r=Q.Db(n);if(!r)return;e=p({id:"StageToast.addLimitedWidgetTips"},{widgetTitle:null==(t=el.c(k,r.title))?void 0:t.toString()})}d(er.xj(e));return}let i=document.querySelector(`.${ex().stage}`),o=document.querySelector(`.${ex().appZone}`);if(null===i||null===o)return;let a=o.getClientRects()[0],s=new DataTransfer;s.setData("widget/dragging-offset-x",`${-a.x}`),s.setData("widget/dragging-offset-y",`${-a.y}`),Object.defineProperty(s,"dropEffect",{value:"copy"}),s.setData("widget/type",n),s.setData("widget/action",J.r.CREATE);let c=Object.keys(i).find(e=>e.startsWith("__reactEventHandlers")),l=i[c],u=new DragEvent("drop",{dataTransfer:s});if(Object.defineProperty(u,"persist",{value:function(){return!0}}),n===J.D8||n===J.C6){d(er.Yh(!0));let e=Array.from(document.querySelectorAll('*[data-widget-type="CANVAS_WIDGET"][id*="CANVAS_WIDGET"]')),t=[];for(let n of e){let e=Object.keys(n).find(e=>e.startsWith("__reactEventHandlers")),r=n[e];function h(e){for(let t of["clientX","clientY","x","y"])Object.defineProperty(u,t,{value:e[t]});r.onDrop(u)}n.addEventListener("click",h),t.push(()=>{n.removeEventListener("click",h)})}document.addEventListener("click",()=>{for(let e of(d(er.Yh(!1)),t))e()},{once:!0});return}l.onDrop(u)},draggable:!0,onMouseEnter:()=>{!s||c||h||(_(!0),r=window.setTimeout(()=>{g(!0)},2e3))},onMouseLeave:()=>{s&&!c&&(r&&clearTimeout(r),_(!1),g(!1))},onContextMenu:e=>{e.preventDefault(),(Z.Np(n)||void 0!==a)&&(_(!1),g(!1),f(!0))},onDragStart:e=>{if(!T||!b){var t="";if(b)t=p({id:"StageToast.addCanvasWidgetTips"});else{var r,i=Q.Db(n);if(!i)return;t=p({id:"StageToast.addLimitedWidgetTips"},{widgetTitle:null==(r=el.c(k,i.title))?void 0:r.toString()})}return d(er.xj(t)),void e.preventDefault()}E(!0),(n===J.a||n===J.c)&&d(er.Yh(!0));var o=e.target,a=null==o?void 0:o.getClientRects()[0];if(o&&o.dataset.widgetType&&a){var s=e.clientX-a.x,c=e.clientY-a.y;e.dataTransfer.setData("widget/dragging-offset-x",s+""),e.dataTransfer.setData("widget/dragging-offset-y",c+""),e.dataTransfer.dropEffect="copy",e.dataTransfer.setData("widget/type",o.dataset.widgetType),e.dataTransfer.setData("widget/action",J.r.CREATE)}},onDragEnd:e=>{let{dataTransfer:t}=e;(null===t||0===navigator.maxTouchPoints||"_dragDropTouch"in t)&&(E(!1),(n===J.D8||n===J.C6)&&d(er.Yh(!1)))},"data-widget-type":n,children:[et.X(e)?c?(0,i.jsx)("img",{className:z().icon,src:e,alt:t,draggable:!1}):(0,i.jsx)("div",{className:z().widgetImgSmall,style:{backgroundImage:`url("${e}")`}}):(0,i.jsx)("span",{className:z().icon,children:(0,i.jsx)(ed.r,{type:e})}),(0,i.jsx)("span",{className:z().title,children:t})]})})}),ew=o.memo(({configList:e,title:t,defaultExpanded:n})=>{let{formatMessage:r}=es.a();var a=(0,eu.useSelector)(e=>e.common.userInfo?.id),s=o.useState(void 0===n||n),c=ec.a(s,2),l=c[0],u=c[1],d="newWidgetCategory_".concat($.f,"_").concat(a),p=f(),h=!a||!p[t];function f(){var e=localStorage.getItem(d);return e?JSON.parse(e):{}}return ef(),e.length?(0,i.jsxs)("div",{className:ea()(z().categoryItem,ei.a({},z().expanded,l)),children:[(0,i.jsxs)("div",{className:ea()(z().categoryHeader,window.innerWidth<=1300&&z().categoryMinHeader),onClick:()=>{if(u(!l),$.k.includes(t)&&a&&!p[t]){var e=f();e[t]=1,localStorage.setItem(d,JSON.stringify(e))}},children:[(0,i.jsxs)("div",{className:z().categoryTitleBox,children:[(0,i.jsx)("h3",{className:ea()(z().categoryTitle),children:r({id:t})}),$.k.includes(t)&&h&&(0,i.jsx)("div",{className:z().newTips,children:"New"})]}),(0,i.jsx)("span",{className:z().icon,children:(0,i.jsx)(ed.r,{type:"icon-fold"})})]}),l&&(0,i.jsx)("div",{className:z().categoryBody,children:e.map(e=>{let{type:t,icon:n,previewAreaWidgetTitle:o,title:a,isInvisibleWidget:s,widgetServerId:c}=e,l=e.docsUrl??e.editConfig?.find(e=>!Array.isArray(e)&&"HelpUrl"===e.type)?.url;return!e.isDiscard&&(0,i.jsx)(eb,{icon:n,title:o?r({id:o}):a,type:t,docsUrl:l,widgetServerId:c,isMallExtensionWidget:Z.QA(t),isInvisibleWidget:s},t)})})]}):null});ee.s(d.r),ee.s(d.o),ee.s(B),ee.s(L),ee.s(d.a),ee.s(M),ee.s(d.i),ee.s(d.s),ee.s(d.c),ee.s(d.l),ee.s(d.u),ee.s(d.d),ee.s(d.p);var eS=ee.s(W,A.tv),eE=ee.s(G);Q.Nb(Q.j.UI,[p.Cp,h.Lp,eS,f.Kp,m.tf,g.uf,v._f,_.Tf,x.xf,y.Wf,b.Jf,w.ah,eE]),Q.Nb(Q.j.STAGE,[S.wh,E.xh,C.zh]);var eC=ee.s(H),ej=ee.s(U);Q.Nb(Q.j.MEDIA,[C.Xh,j.nm,eC,ej]);var ek=ee.s(F);Q.Nb(Q.j.SENSOR,[j.im,j.cm,ek]),Q.Nb(Q.j.DATE,[k.hm,T.ym,T.wm]);var eT=ee.s(K),eI=ee.s(Y),eN=ee.s(V);Q.Nb(Q.j.NETWORK,[T.Sm,I.Pm,eT,eI,eN]),Q.Nb(Q.j.LOCAL_STORAGE,[I.qm,I.eg,O.gg]),Q.Nb(Q.j.CLOUD_STORAGE,[P.Og,I.zm]),Q.Nb(Q.j.CLOUD_SPACE,[D.c_,R.__]),Q.Nb(Q.j.DATABASE,[N.cg]);let eO=o.memo(()=>{var e=Q.Eb(Q.j.UI),t=Q.Eb(Q.j.STAGE),n=Q.Eb(Q.j.MEDIA),r=Q.Eb(Q.j.DATE),o=Q.Eb(Q.j.SENSOR),a=Q.Eb(Q.j.LOCAL_STORAGE),s=Q.Eb(Q.j.CLOUD_SPACE),c=Q.Eb(Q.j.NETWORK),l=Q.Eb(Q.j.SOCIAL);return(0,i.jsxs)("div",{className:z().scrollBasic,children:[(0,i.jsx)(ew,{configList:e,title:"WidgetList.category.ui",defaultExpanded:!0}),(0,i.jsx)(ew,{configList:t,title:"WidgetList.category.stage",defaultExpanded:!1}),(0,i.jsx)(ew,{configList:n,title:"WidgetList.category.media",defaultExpanded:!1}),(0,i.jsx)(ew,{configList:r,title:"WidgetList.category.dateTime",defaultExpanded:!1}),(0,i.jsx)(ew,{configList:o,title:"WidgetList.category.sensor",defaultExpanded:!1}),(0,i.jsx)(ew,{configList:a,title:"WidgetList.category.localStorage",defaultExpanded:!1}),(0,i.jsx)(ew,{configList:s,title:"WidgetList.category.cloudSpace",defaultExpanded:!1}),(0,i.jsx)(ew,{configList:c,title:"WidgetList.category.network",defaultExpanded:!1}),(0,i.jsx)(ew,{configList:l,title:"WidgetList.category.social",defaultExpanded:!1})]})});var eP=n(7815),eD=n(63554),eR=n(81555),eA=n(22776),eL=n(88963),eM=n(33007),eB=n(22827),eW=n(34221),eU=n(7452),eF=n.n(eU),eH=n(87621),eG=n.n(eH),eV=o.memo(function(e){let{formatMessage:t}=es.a();var n=(0,eu.useSelector)(function(e){return e.common.userInfo}),r=(0,eu.useDispatch)();return(0,i.jsxs)(eM.d,{className:z().widgetMallBtn,onClick:()=>{let e=()=>{r(er.gj(!0))};n?e():r(er.Ch(e))},children:[(0,i.jsx)(ed.a,{type:"icon-shop",className:z().shopIcon}),!e.singleColumn&&(0,i.jsx)("span",{children:t({id:"Widget.widgetMall"})})]})}),eY=o.memo(function(e){var t=(0,eu.useSelector)(function(e){return e.common.myExtensionWidgets}),n=(0,eu.useSelector)(function(e){return e.common.userInfo}),r=(0,eu.useDispatch)(),s=[],c=[];let l=e=>({icon:e.icon,title:e.widgetName,previewAreaWidgetTitle:"",type:Z.W9(e.type,!0),isInvisibleWidget:e.isInvisibleWidget,widgetServerId:e.id});t.forEach(e=>{e.isInvisibleWidget?c.push(l(e)):s.push(l(e))});let{formatMessage:u}=es.a();var d=o.useState(!1),p=ec.a(d,2),h=p[0],f=p[1],m=o.useState(!0),g=ec.a(m,2),v=g[0],_=g[1],x=X.c();let y=Q.Eb(Q.j.EXTENSION).filter(function(e){return!Z.QA(e.type)});return o.useEffect(()=>{let e,t=(e=eW.a(eF().mark(function e(){return eF().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,er.Nf(r,er.eg());case 2:f(!1);case 3:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)});n?(f(!0),t()):r(er.Sh([]))},[r,n]),o.useEffect(()=>{0===y.length&&0===s.length&&0===c.length?_(!0):_(!1)},[y,s,c]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:z().scrollExtension,children:[!h&&v&&(0,i.jsx)("div",{className:z().noExtensionWidgets,children:(0,i.jsxs)("div",{className:z().noExtensionWidgetsWrapper,children:[!e.singleColumn&&(0,i.jsx)(a.we,{type:"image-text",text:(0,i.jsxs)(i.Fragment,{children:[u({id:"Widget.emptyTip1"}),(0,i.jsx)("br",{}),u({id:"Widget.emptyTip2"})]})}),(0,i.jsx)(eV,{singleColumn:e.singleColumn})]})}),!h&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(ew,{configList:c,title:"ExtensionWidget.category.function"}),(0,i.jsx)(ew,{configList:s,title:"ExtensionWidget.category.ui"}),(0,i.jsx)(ew,{configList:y,title:"ExtensionWidget.category.extension"},x)]}),h&&(0,i.jsx)("div",{className:z().loading,style:{height:"100%"},children:(0,i.jsx)("img",{src:eG(),alt:"loading"})})]}),(0,i.jsx)("div",{className:z().widgetMallBtnContainer,children:!v&&(0,i.jsx)(eV,{singleColumn:e.singleColumn})})]})}),eK=o.memo(function(e){var t=es.a().formatMessage,n=(0,eu.useSelector)(function(e){return e.uiConfig.widgetEditor})===eL.j.ReadOnly,r=(0,eu.useSelector)(function(e){return!!e.oTState.collWorkId}),a=o.useState("BASIC"),s=ec.a(a,2),c=s[0],l=s[1];return(0,i.jsxs)("div",{className:ea()(z().tabContainer,e.singleColumn?z().singleColumn:z().doubleColumn,n&&z().readonly),children:[(0,i.jsxs)("div",{className:z().tabNav,children:[(0,i.jsx)("div",{onClick:()=>{l("BASIC")},className:ea()(z().tab,"BASIC"===c&&z().activeTab),children:(0,i.jsx)("div",{children:t({id:"Widget.basic"})})}),(0,i.jsx)("div",{onClick:()=>{l("EXTENSION")},className:ea()(z().tab,"EXTENSION"===c&&z().activeTab),children:(0,i.jsx)("div",{children:t({id:"Widget.extension"})})})]}),(0,i.jsxs)("div",{className:z().tabContent,children:[(0,i.jsx)("div",{className:ea()(z().tabContentBox,"BASIC"!==c&&z().hide),children:(0,i.jsx)(eO,{isOT:r})}),(0,i.jsx)("div",{className:ea()(z().tabContentBox,"EXTENSION"!==c&&z().hide),children:(0,i.jsx)(eY,{singleColumn:e.singleColumn})})]})]})}),eq=o.memo(function(){var e=(0,eu.useSelector)(function(e){return e.common.stageToast}),t=e.visible,n=e.toast,r=void 0===n?"":n,a=e.showIcon,s=(0,eu.useDispatch)(),c=o.useRef(null);return o.useEffect(()=>{c.current&&clearTimeout(c.current),t&&(c.current=window.setTimeout(()=>{s(er.th())},3e3))},[s,t,r]),t?(0,i.jsx)("div",{className:ex().toastWrapper,children:(0,i.jsxs)("span",{className:ex().toast,children:[void 0!==a&&a&&(0,i.jsx)(eM.j,{type:"icon-alert-success",className:ex().icon}),r]})}):null});function ez(){return ef()>1300?144:92}var e$=o.memo(()=>{let{formatMessage:e}=es.a();var t=(0,eu.useDispatch)(),n=o.useRef(null),r=o.useRef(null),a=(0,eu.useSelector)(function(e){return e.project.playing}),d=(0,eu.useSelector)(function(e){return e.common.stageVisible}),p=(0,eu.useSelector)(function(e){return e.common.isHoverBlockArea}),h=o.useState(0),f=ec.a(h,2),m=f[0],g=f[1],v=o.useState(!1),_=ec.a(v,2),x=_[0],y=_[1];let b=ef(),w=ez();return o.useEffect(function(){var e=n.current,r=function(e){var n,r=e.target,i=e.clientX,o=e.clientY,a=r.closest("."+eR.b),s=(null==a?void 0:a.id)||"",c=null==a?void 0:a.classList.contains(eR.a);c||e.preventDefault(),!a||c||(null==(n=Q.Bb(s))?void 0:n.parentId)?t(er.Wg()):t(er.Og({position:{x:i,y:o},visible:!0,widgetId:a.id}))};return e&&e.addEventListener("contextmenu",r),function(){e&&e.removeEventListener("contextmenu",r)}},[t,n]),o.useLayoutEffect(function(){if(r.current){var e=Math.max(b/3,514);if(r.current.style.width="".concat(e,"px"),g(e+1),t(er.Zi(e-w)),n.current){var i=n.current.offsetWidth,o=n.current.offsetHeight,a=Math.min(.8*i/eD.e,(o-80)/eD.d,1);a=Math.max(a,.7),t(er.Xi(a))}}},[t]),o.useLayoutEffect(function(){if(r.current&&n.current){var e=n.current.offsetWidth+w;e=Math.max(e,514),eA.default({targets:"#previewAreaWrapper",width:e,easing:"easeInOutSine",duration:300})}},[]),(0,i.jsxs)("div",{id:"previewAreaWrapper",className:ex().wrapper,ref:r,style:{marginLeft:d||a?0:-m},children:[(0,i.jsx)("section",{className:ex().body,children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("aside",{style:{width:`${w}px`},className:ex().side,children:(0,i.jsx)(eK,{singleColumn:92===w})}),(0,i.jsx)(c.P,{}),(0,i.jsxs)("main",{className:ex().main,ref:n,children:[(0,i.jsx)(u.zd,{}),(0,i.jsx)(eq,{}),(0,i.jsx)(eP.a,{})]}),!a&&(0,i.jsx)(eB.a,{placement:"bottom",title:e({id:d?"HeaderDropdown.hideWidgetAndStage":"HeaderDropdown.showWidgetAndStage"}),trigger:["hover","click"],children:(0,i.jsx)("div",{className:ea()(ex().foldBtn,d?ex().hide:ex().show,(x||p)&&ex().visible),onClick:()=>{t(er.Yi(!d))},onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1),children:(0,i.jsx)(eM.j,{type:"icon-double-arrow"})})})]})}),(0,i.jsx)(s.Rn,{}),!a&&(0,i.jsx)(l.lo,{onDrag:e=>{t(er.Zi(e-w))},onDragEnd:e=>{g(e+1),t(er.Zi(e-w))},onEnter:()=>t(er.ui(!0)),onLeave:()=>t(er.ui(!1)),previewAreaRef:r})]})})},25255(e,t,n){"use strict";n.d(t,{Am:()=>y,ym:()=>v,Sm:()=>m,wm:()=>x});var r=n(63110),i=n(38278),o=n(25926),a=n(74375),s=n(60096),c=n(24876),l=n(94220),u=n(28950),d=n(41594),p=n.n(d),h=n(86167);let f={type:l.Kp,category:{iconId:"icon-widget-http-client",blocks:l.Kp},getTemplate(e){var t='<field name="WIDGET_ID">'.concat(e,"</field>");return[`<block type="http_on_client_success" uncache="true">${t}</block>`,`<block type="http_on_client_error" uncache="true">${t}</block>`,a.d,`<block type="http_set_client_url" uncache="true">
        ${t}
        <value name="VALUE">
          <shadow type="text">
          <field name="TEXT"></field>
          </shadow>
        </value>
      </block>`,`<block type="http_set_client_header" uncache="true">
        ${t}
        <value name="VALUE">
          <shadow type="text">
            <field name="TEXT"></field>
          </shadow>
        </value>
      </block>`,`<block type="http_send_get_request" uncache="true">${t}</block>`,`<block type="http_send_post_request" uncache="true">
        ${t}
        <value name="VALUE">
          <shadow type="text">
            <field name="TEXT"></field>
          </shadow>
        </value>
      </block>`,`<block type="http_send_delete_request" uncache="true">${t}</block>`,`<block type="http_send_put_request" uncache="true">
        ${t}
        <value name="VALUE">
          <shadow type="text">
            <field name="TEXT"></field>
          </shadow>
        </value>
      </block>`,`<block type="http_send_patch_request" uncache="true">
        ${t}
        <value name="VALUE">
          <shadow type="text">
            <field name="TEXT"></field>
          </shadow>
        </value>
      </block>`,a.d,`<block type="http_get_client_url" uncache="true">${t}</block>`,a.d,`<block type="object_json_parse" uncache="true">
        <value name="TEXT">
          <shadow type="text">
            <field name="TEXT"></field>
          </shadow>
        </value>
      </block>`]},blockDeclareGroup:{setBlockGroupSnippet(e){function t(t,n,r,i){var o=t.blocks[n],a=e.getFieldValue(o,"WIDGET_ID")||"";if(!a)return"";var s="";return i&&(s=e.valueToCode(t,n,"VALUE",e.ORDER_FUNCTION_CALL)||""),c.l(c.n("httpClientSendRequest",[c.o(a),c.o(r),s]),o,e)}e.insertBlockSnippetGenerator("http_on_client_success",function(t,n){var r=t.blocks[n],i=e.getFieldValue(r,"WIDGET_ID")||"",o=e.statementToCode(t,n,"DO"),a=e.valueToCode(t,n,"HTTP_CODE",e.ORDER_ATOMIC),s=e.valueToCode(t,n,"RESPONSE",e.ORDER_ATOMIC);return o&&i?c.n("argsOnHttpClientSuccess",[c.o(i)],o,[a,s]):""}),e.insertBlockSnippetGenerator("http_on_client_success_code",function(){return"successCode"}),e.insertBlockSnippetGenerator("http_on_client_success_response",function(){return"successResponse"}),e.insertBlockSnippetGenerator("http_on_client_error_code",function(){return"errorCode"}),e.insertBlockSnippetGenerator("http_on_client_error_response",function(){return"errorResponse"}),e.insertBlockSnippetGenerator("http_on_client_error",function(t,n){var r=t.blocks[n],i=e.getFieldValue(r,"WIDGET_ID")||"",o=e.statementToCode(t,n,"DO"),a=e.valueToCode(t,n,"HTTP_CODE",e.ORDER_ATOMIC),s=e.valueToCode(t,n,"MESSAGE",e.ORDER_ATOMIC);return o&&i?c.n("argsOnHttpClientError",[c.o(i)],o,[a,s]):""}),e.insertBlockSnippetGenerator("room_create_room_name",function(){return"room_name"}),e.insertBlockSnippetGenerator("http_on_client_error_response",function(){return"response"}),e.insertBlockSnippetGenerator("http_set_client_url",function(t,n){var r=t.blocks[n],i=e.getFieldValue(r,"WIDGET_ID")||"",o=e.valueToCode(t,n,"VALUE",e.ORDER_FUNCTION_CALL)||"";return i?c.n("setHttpClientUrl",[c.o(i),o]):""}),e.insertBlockSnippetGenerator("http_set_client_header",function(t,n){var r=t.blocks[n],i=e.getFieldValue(r,"WIDGET_ID")||"",o=e.valueToCode(t,n,"VALUE",e.ORDER_FUNCTION_CALL)||"";return i?c.n("setHttpClientHeader",[c.o(i),o]):""}),e.insertBlockSnippetGenerator("http_send_get_request",function(e,n){return t(e,n,"get",!1)}),e.insertBlockSnippetGenerator("http_send_delete_request",function(e,n){return t(e,n,"delete",!1)}),e.insertBlockSnippetGenerator("http_send_post_request",function(e,n){return t(e,n,"post",!0)}),e.insertBlockSnippetGenerator("http_send_put_request",function(e,n){return t(e,n,"put",!0)}),e.insertBlockSnippetGenerator("http_send_patch_request",function(e,n){return t(e,n,"patch",!0)}),e.insertBlockSnippetGenerator("http_get_client_url",function(t,n){var r=t.blocks[n],i=e.getFieldValue(r,"WIDGET_ID")||"";return i?c.s("getHttpClientUrl",[c.o(i)]):""}),e.insertBlockSnippetGenerator("object_json_parse",function(t,n){var r=e.valueToCode(t,n,"TEXT",e.ORDER_FUNCTION_CALL);return c.s("jsonParseToObject",[r])}),e.insertBlockSnippetGenerator("object_get_value",function(t,n){var r=e.valueToCode(t,n,"OBJECT",e.ORDER_FUNCTION_CALL);if(!r||r===a.c)return"";var i=e.valueToCode(t,n,"KEY",e.ORDER_FUNCTION_CALL);return i?c.s("objectGetValue",[r,i]):""})},setBlockGroupProfile(e,t){var n={type:"field_coco_dropdown",name:"WIDGET_ID",custom:!0,options:function(){return s.c().getWidgetListByType(l.Kp)}};e.insertBlockProfile("http_on_client_success",{type:"http_on_client_success",message0:"%{BKY_HTTP_CLIENT_ON_SUCCESS}",args0:[c.e("%{BKY_BLOCK_INTERNET_ICON}",!0),u.a({},n),{type:"input_value",name:"HTTP_CODE",check:"Number",default_shadow:'<shadow type="http_on_client_success_code" />'},{type:"input_value",name:"RESPONSE",check:"String",default_shadow:'<shadow type="http_on_client_success_response" />'},{type:"input_dummy",align:"CENTRE"},{type:"input_statement",name:"DO",provided_context:"http_on_client_success_DO"}],colour:"%{BKY_EVENTS_HUE}",inputsInline:!0,tooltip:"%{BKY_HTTP_CLIENT_ON_SUCCESS_TOOLTIP}"}),e.insertBlockProfile("http_on_client_success_code",{type:"http_on_client_success_code",message0:"".concat(t.Msg.HTTP_CLIENT_STATUS),output:"Number",required_context:"http_on_client_success_DO",colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("http_on_client_success_response",{type:"http_on_client_success_response",message0:"".concat(t.Msg.HTTP_CLIENT_RESPONSE),output:"String",required_context:"http_on_client_success_DO",colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("http_on_client_error",{type:"http_on_client_error",message0:"%{BKY_HTTP_CLIENT_ON_ERROR}",args0:[c.e("%{BKY_BLOCK_INTERNET_ICON}",!0),u.a({},n),{type:"input_value",name:"HTTP_CODE",check:"Number",default_shadow:'<shadow type="http_on_client_error_code" />'},{type:"input_value",name:"MESSAGE",check:"String",default_shadow:'<shadow type="http_on_client_error_response" />'},{type:"input_dummy",align:"CENTRE"},{type:"input_statement",name:"DO",provided_context:"http_on_client_error_DO"}],colour:"%{BKY_EVENTS_HUE}",inputsInline:!0,tooltip:"%{BKY_HTTP_CLIENT_ON_ERROR_TOOLTIP}"}),e.insertBlockProfile("http_on_client_error_code",{type:"http_on_client_error_code",message0:"".concat(t.Msg.HTTP_CLIENT_ERROR_STATUS),output:"Number",required_context:"http_on_client_error_DO",colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("http_on_client_error_response",{type:"http_on_client_error_response",message0:"".concat(t.Msg.HTTP_CLIENT_ERROR_RESPONSE),output:"String",required_context:"http_on_client_error_DO",colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("http_set_client_url",{type:"http_set_client_url",message0:"%{BKY_HTTP_CLIENT_SET_URL}",args0:[u.a({},n),{type:"input_value",name:"VALUE",check:"String",align:"CENTRE"}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_CONTROL_HUE}",inputsInline:!0}),e.insertBlockProfile("http_set_client_header",{type:"http_set_client_header",message0:"%{BKY_HTTP_CLIENT_SET_HEADER}",args0:[u.a({},n),{type:"input_value",name:"VALUE",check:"String",align:"CENTRE"}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_CONTROL_HUE}",inputsInline:!0}),e.insertBlockProfile("http_send_get_request",{type:"http_send_get_request",message0:"%{BKY_HTTP_CLIENT_SEND_WITH_GET_REQUEST}",args0:[u.a({},n)],inputsInline:!0,previousStatement:!0,nextStatement:!0,colour:"%{BKY_CONTROL_HUE}",tooltip:"%{BKY_HTTP_CLIENT_SEND_WITH_GET_REQUEST_TOOLTIP}"}),e.insertBlockProfile("http_send_delete_request",{type:"http_send_delete_request",message0:"%{BKY_HTTP_CLIENT_SEND_DELETE_REQUEST}",args0:[u.a({},n)],inputsInline:!0,previousStatement:!0,nextStatement:!0,colour:"%{BKY_CONTROL_HUE}"}),e.insertBlockProfile("http_send_post_request",{type:"http_send_post_request",message0:"%{BKY_HTTP_CLIENT_SEND_WITH_POST_REQUEST}",args0:[u.a({},n),{type:"input_value",name:"VALUE",check:"String",align:"CENTRE"}],inputsInline:!0,previousStatement:!0,nextStatement:!0,colour:"%{BKY_CONTROL_HUE}",tooltip:"%{BKY_HTTP_CLIENT_SEND_WITH_POST_REQUEST_TOOLTIP}"}),e.insertBlockProfile("http_send_put_request",{type:"http_send_put_request",message0:"%{BKY_HTTP_CLIENT_SEND_PUT_REQUEST}",args0:[u.a({},n),{type:"input_value",name:"VALUE",check:"String",align:"CENTRE"}],inputsInline:!0,previousStatement:!0,nextStatement:!0,colour:"%{BKY_CONTROL_HUE}"}),e.insertBlockProfile("http_send_patch_request",{type:"http_send_patch_request",message0:"%{BKY_HTTP_CLIENT_SEND_PATCH_REQUEST}",args0:[u.a({},n),{type:"input_value",name:"VALUE",check:"String",align:"CENTRE"}],inputsInline:!0,previousStatement:!0,nextStatement:!0,colour:"%{BKY_CONTROL_HUE}"}),e.insertBlockProfile("http_get_client_url",{type:"http_get_client_url",message0:"%{BKY_HTTP_CLIENT_GET_URL}",args0:[u.a({},n)],output:"String",colour:"%{BKY_CONTROL_HUE}",inputsInline:!0}),e.insertBlockProfile("object_json_parse",{type:"object_json_parse",message0:"%{BKY_OBJECT_JSON_PARSE}",args0:[{type:"input_value",name:"TEXT",check:"String",align:"CENTRE"}],output:"Object",colour:"%{BKY_CONTROL_HUE}",inputsInline:!0,tooltip:"%{BKY_OBJECT_JSON_PARSE_TOOLTIP}"}),e.insertBlockProfile("object_get_value",{type:"object_get_value",message0:"%{BKY_OBJECT_GET_VALUE}",args0:[{type:"input_value",name:"OBJECT",check:["Object"]},{type:"input_value",name:"KEY",check:"String",align:"CENTRE"}],output:["String","Object","Number","Array","Boolean"],colour:"%{BKY_CONTROL_HUE}",inputsInline:!0,tooltip:"%{BKY_OBJECT_GET_VALUE_TOOLTIP}"})}},categoryClass:{text:"",iconId:"icon-widget-http-client",blocks:[]},renameBlocksInfo:{blocksList:["http_on_client_success","http_on_client_error","http_set_client_url","http_set_client_header","http_send_get_request","http_send_post_request","http_get_client_url"],fieldName:"WIDGET_ID"},topBlocks:["http_on_client_success","http_on_client_error"]},m={icon:"icon-widget-http-client",title:"HttpClientWidget.widgetName",type:l.Kp,previewAreaWidgetTitle:"HttpClientWidget.widgetName",component:r.Yh,editConfig:[{type:"WidgetTitle"},{type:"TextInput",key:"url",label:"HttpClientWidget.url"},{type:"HttpHeader"},{type:"HttpParams"},{type:"HttpBody"},{type:"HelpUrl",url:"https://codemao-guide.yuque.com/bfiekm/sbo5kh/http-client"}],blockConfig:f,isInvisibleWidget:!0,widget:{isGlobalWidget:!1,size:{width:0,height:0},attributes:{url:"https://restapi.amap.com/v3/weather/weatherInfo",header:[],params:[{key:"city",value:"440300"},{key:"key",value:"4f9570617280f00607575cca7272841e"}],body:""}}};var g={type:l.AT,category:{iconId:o.h,blocks:l.AT},getTemplate:function(e){var t='<field name="WIDGET_ID">'.concat(e,"</field>");return['<block type="time_picker_on_select_done" uncache="true">\n      '.concat(t,"\n    </block>"),a.d,'<block type="time_picker_open_select_dialog" uncache="true">\n      '.concat(t,"\n    </block>"),a.d,'<block type="time_picker_get_time" uncache="true">\n      '.concat(t,"\n    </block>"),'<block type="time_picker_get_value" uncache="true">\n      '.concat(t,"\n    </block>"),a.d,a.e]},blockDeclareGroup:{setBlockGroupSnippet:function(e){e.insertBlockSnippetGenerator("time_picker_on_select_done",function(t,n){var r=t.blocks[n],i=e.getFieldValue(r,"WIDGET_ID")||"",o=e.statementToCode(t,n,"DO"),a=e.valueToCode(t,n,"PARAM_TIME",e.ORDER_ATOMIC),s=e.valueToCode(t,n,"PARAM_HOUR",e.ORDER_ATOMIC),l=e.valueToCode(t,n,"PARAM_MINUTE",e.ORDER_ATOMIC),u=e.valueToCode(t,n,"PARAM_SECOND",e.ORDER_ATOMIC);return i&&o?c.n("argsOnTimePickerSelectDone",[c.o(i)],o,[a,s,l,u]):""}),e.insertBlockSnippetGenerator("time_picker_on_select_done_time",function(){return"time"}),e.insertBlockSnippetGenerator("time_picker_on_select_done_hour",function(){return"hour"}),e.insertBlockSnippetGenerator("time_picker_on_select_done_minute",function(){return"minute"}),e.insertBlockSnippetGenerator("time_picker_on_select_done_second",function(){return"second"}),e.insertBlockSnippetGenerator("time_picker_open_select_dialog",function(t,n){var r=t.blocks[n],i=e.getFieldValue(r,"WIDGET_ID")||"";return i?c.n("openTimePickerDialog",[c.o(i)]):""}),e.insertBlockSnippetGenerator("time_picker_get_value",function(t,n){var r=t.blocks[n],i=e.getFieldValue(r,"WIDGET_ID")||"";if(!i)return"";var o=e.getFieldValue(r,"TYPE");return o?c.s("getTimePickerValue",[c.o(i),c.o(o)]):""}),e.insertBlockSnippetGenerator("time_picker_get_time",function(t,n){var r=t.blocks[n],i=e.getFieldValue(r,"WIDGET_ID")||"";return i?c.s("getTimePickerTime",[c.o(i)]):""})},setBlockGroupProfile:function(e,t){var n={type:"field_coco_dropdown",name:"WIDGET_ID",custom:!0,options:function(){return s.c().getWidgetListByType(l.AT)}};e.insertBlockProfile("time_picker_on_select_done",{type:"time_picker_on_select_done",message0:"%{BKY_TIME_PICKER_ON_SELECT_DONE}",args0:[c.e("%{BKY_BLOCK_TAB_ICON}",!0),u.a({},n),{type:"input_value",name:"PARAM_TIME",align:"CENTRE",default_shadow:'<shadow type="time_picker_on_select_done_time" />'},{type:"input_value",name:"PARAM_HOUR",align:"CENTRE",default_shadow:'<shadow type="time_picker_on_select_done_hour" />'},{type:"input_value",name:"PARAM_MINUTE",align:"CENTRE",default_shadow:'<shadow type="time_picker_on_select_done_minute" />'},{type:"input_value",name:"PARAM_SECOND",align:"CENTRE",default_shadow:'<shadow type="time_picker_on_select_done_second" />'},{type:"input_statement",name:"DO",provided_context:"time_picker_on_select_done_DO"}],colour:"%{BKY_EVENTS_HUE}",inputsInline:!0}),e.insertBlockProfile("time_picker_on_select_done_time",{type:"time_picker_on_select_done_time",message0:"%{BKY_TIME}",output:["String"],required_context:"time_picker_on_select_done_DO",colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("time_picker_on_select_done_hour",{type:"time_picker_on_select_done_hour",message0:"%{BKY_HOUR}",output:["Number"],required_context:"time_picker_on_select_done_DO",colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("time_picker_on_select_done_minute",{type:"time_picker_on_select_done_minute",message0:"%{BKY_MINUTE}",output:["Number"],required_context:"time_picker_on_select_done_DO",colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("time_picker_on_select_done_second",{type:"time_picker_on_select_done_second",message0:"%{BKY_SECOND}",output:["Number"],required_context:"time_picker_on_select_done_DO",colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("time_picker_open_select_dialog",{type:"time_picker_open_select_dialog",message0:"%{BKY_TIME_PICKER_OPEN_SELECT_DIALOG}",args0:[u.a({},n)],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("time_picker_get_time",{type:"time_picker_get_time",message0:"%{BKY_TIME_PICKER_GET_TIME}",args0:[u.a({},n)],output:["String"],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("time_picker_get_value",{type:"time_picker_get_value",message0:"%1 %{BKY_OF} %2",args0:[u.a({},n),{type:"field_coco_dropdown",name:"TYPE",custom:!0,options:function(){return[[t.Msg.HOUR,"hour"],[t.Msg.MINUTE,"minute"],[t.Msg.SECOND,"second"]]}}],output:["Number"],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0})}},categoryClass:{text:"",iconId:o.h,blocks:[]},renameBlocksInfo:{blocksList:["time_picker_on_select_done","time_picker_open_select_dialog","time_picker_get_value","time_picker_get_time"],fieldName:"WIDGET_ID"},topBlocks:["time_picker_on_select_done"]},v={icon:o.h,title:"TimePickerWidget.widgetName",type:l.AT,previewAreaWidgetTitle:"TimePickerWidget.widgetName",component:function(e){var t=e.onChange;return p().createElement(h.a,Object.assign({},e,{onDatePickerChange:function(e){t&&t("timeStamp",new Date(e).getTime())}}))},editConfig:i.gm,blockConfig:g,isInvisibleWidget:o.f,widget:{isGlobalWidget:o.e,size:{width:o.g,height:o.d},attributes:{timeStamp:0,fontSize:o.c,color:o.b,backgroundColor:o.a}}},_={type:l.I,category:{iconId:"icon-widget-timer",blocks:l.I},getTemplate:function(e){var t='<field name="WIDGET_ID">'.concat(e,"</field>");return['<block type="date_set_timing" uncache="true">\n      '.concat(t,"\n    </block>"),'<block type="date_get_timing_value" uncache="true">\n      '.concat(t,"\n    </block>")]},blockDeclareGroup:{setBlockGroupSnippet:function(e){e.insertBlockSnippetGenerator("date_set_timing",function(t,n){var r=t.blocks[n],i=e.getFieldValue(r,"STATE"),o=e.getFieldValue(r,"WIDGET_ID")||"";if(!o)return"";switch(i){case"start":return c.n("startTiming",[c.o(o)]);case"stop":return c.n("stopTiming",[c.o(o)]);case"reset":return c.n("resetTiming",[c.o(o)]);default:return""}}),e.insertBlockSnippetGenerator("date_get_timing_value",function(t,n){var r=t.blocks[n],i=e.getFieldValue(r,"WIDGET_ID")||"";return i?c.s("getTimingValue",[c.o(i)]):""})},setBlockGroupProfile:function(e,t){var n={type:"field_coco_dropdown",name:"WIDGET_ID",custom:!0,options:function(){return s.c().getWidgetListByType(l.I)}};e.insertBlockProfile("date_set_timing",{type:"date_set_timing",message0:"%{BKY_DATE_SET_TIMER_STATE}",args0:[{type:"field_coco_dropdown",name:"STATE",custom:!0,options:function(){return[[t.Msg.START,"start"],[t.Msg.STOP,"stop"],[t.Msg.RESET,"reset"]]}},u.a({},n)],previousStatement:!0,nextStatement:!0,colour:"%{BKY_SOUND_HUE}",inputsInline:!0}),e.insertBlockProfile("date_get_timing_value",{type:"date_get_timing_value",message0:"%{BKY_DATE_TIMER}",args0:[u.a({},n)],output:"Number",colour:"%{BKY_SOUND_HUE}",inputsInline:!0})}},categoryClass:{text:"",iconId:"icon-widget-timer",blocks:[]},renameBlocksInfo:{blocksList:["date_set_timing","date_get_timing_value"],fieldName:"WIDGET_ID"},topBlocks:[]},x={icon:"icon-widget-timer",title:"TimerWidget.widgetName",type:l.I,previewAreaWidgetTitle:"TimerWidget.widgetName",component:r.Yh,editConfig:[{type:"WidgetTitle"}],blockConfig:_,isInvisibleWidget:!0,widget:{isGlobalWidget:!1,size:{width:0,height:0},attributes:{}}},y=[{type:"WidgetTitle"},{type:"HelpUrl",url:"https://codemao-guide.yuque.com/bfiekm/sbo5kh/cloud-room"}]}}]);
//# sourceMappingURL=editor~0.772ddbcf9f1ae7eb.js.map