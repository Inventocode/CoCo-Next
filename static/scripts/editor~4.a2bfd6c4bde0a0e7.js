"use strict";(self.webpackChunkcoco_next=self.webpackChunkcoco_next||[]).push([["435"],{84694(e,t,n){n.d(t,{a:()=>m,c:()=>u,d:()=>p,i:()=>i,l:()=>d,o:()=>c,p:()=>v,r:()=>o,s:()=>s,u:()=>f});var a=n(49430),r=n(22125),l=n(79552),o={};Object.defineProperty(o,"messages",{get:function(){return a.T_}}),Object.defineProperty(o,"types",{get:function(){return a.S_}});var c={};Object.defineProperty(c,"messages",{get:function(){return a.A_}}),Object.defineProperty(c,"types",{get:function(){return a.I_}});var i={};Object.defineProperty(i,"messages",{get:function(){return r.k_}}),Object.defineProperty(i,"types",{get:function(){return r.x_}});var m={};Object.defineProperty(m,"messages",{get:function(){return l.M_}}),Object.defineProperty(m,"types",{get:function(){return l.L_}});var s={};Object.defineProperty(s,"messages",{get:function(){return l.P_}}),Object.defineProperty(s,"types",{get:function(){return l.B_}});var u={};Object.defineProperty(u,"messages",{get:function(){return l.F_}}),Object.defineProperty(u,"types",{get:function(){return l.G_}});var d={};Object.defineProperty(d,"messages",{get:function(){return l.W_}}),Object.defineProperty(d,"types",{get:function(){return l.U_}});var f={};Object.defineProperty(f,"messages",{get:function(){return l.H_}}),Object.defineProperty(f,"types",{get:function(){return l.V_}});var p={};Object.defineProperty(p,"messages",{get:function(){return l.z_}}),Object.defineProperty(p,"types",{get:function(){return l.Y_}});var v={};Object.defineProperty(v,"messages",{get:function(){return l.K_}}),Object.defineProperty(v,"types",{get:function(){return l.q_}})},11293(e,t,n){n.d(t,{py:()=>B,fy:()=>P});var a=n(53178),r=n(59791),l=n(17626),o=n(92379),c=n(72239),i=n(41594),m=n.n(i),s=n(23527),u={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},d=function(e,t){return(0,i.createElement)(o.a,c.a(c.a({},e),{},{ref:t,icon:u}))};d.displayName="CheckOutlined";var f=(0,i.forwardRef)(d),p=n(95889),v=n(42939),g={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},E=function(e,t){return(0,i.createElement)(o.a,c.a(c.a({},e),{},{ref:t,icon:g}))};E.displayName="SearchOutlined";var h=(0,i.forwardRef)(E),N=n(98936),b=n(80538),y=n(63858),C=n.n(y),I=n(36454),w=n(26564),k=n(33383),S=n(51877),T=n(33007),x=n(46942),M=n.n(x),O=n(95644),A=n(451),R=n(34221),L=n(7452),_=n.n(L),W=n(19040),V=n(64371),D=n(70236),j=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)0>t.indexOf(a[r])&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},F=(0,i.forwardRef)(function(e,t){var n,a,o=e.prefixCls,c=e.bordered,m=e.className,u=e.getPopupContainer,d=e.dropdownClassName,g=e.listHeight,E=e.listItemHeight,y=e.size,C=e.notFoundContent,k=j(e,["prefixCls","bordered","className","getPopupContainer","dropdownClassName","listHeight","listItemHeight","size","notFoundContent"]),S=(0,i.useContext)(N.b),T=S.getPopupContainer,x=S.getPrefixCls,O=S.renderEmpty,A=S.direction,R=S.virtual,L=S.dropdownMatchSelectWidth,_=(0,i.useContext)(V.b),W=x("select",o),F=x(),B=(0,i.useMemo)(function(){var e=k.mode;if("combobox"!==e)return"SECRET_COMBOBOX_MODE_DO_NOT_USE"===e?"combobox":e},[k.mode]);a=void 0!==C?C:"combobox"===B?null:O("Select");var P=function(e){var t=e.suffixIcon,n=e.clearIcon,a=e.menuItemSelectedIcon,r=e.removeIcon,o=e.loading,c=e.multiple,m=e.prefixCls,u=n;n||(u=(0,i.createElement)(v.a,null));var d=null;if(void 0!==t)d=t;else if(o)d=(0,i.createElement)(s.a,{spin:!0});else{var g="".concat(m,"-suffix");d=function(e){var t=e.open,n=e.showSearch;return t&&n?(0,i.createElement)(h,{className:g}):(0,i.createElement)(l.Zb,{className:g})}}return{clearIcon:u,suffixIcon:d,itemIcon:void 0!==a?a:c?(0,i.createElement)(f,null):null,removeIcon:void 0!==r?r:(0,i.createElement)(p.a,null)}}(w.a(w.a({},k),{multiple:"multiple"===B||"tags"===B,prefixCls:W})),z=P.suffixIcon,U=P.itemIcon,H=P.removeIcon,G=P.clearIcon,K=b.a(k,["suffixIcon","itemIcon"]),Z=M()(d,I.a({},"".concat(W,"-dropdown-").concat(A),"rtl"===A)),q=y||_,Y=M()((n={},I.a(n,"".concat(W,"-lg"),"large"===q),I.a(n,"".concat(W,"-sm"),"small"===q),I.a(n,"".concat(W,"-rtl"),"rtl"===A),I.a(n,"".concat(W,"-borderless"),!(void 0===c||c)),n),m);return(0,i.createElement)(r.Yb,w.a({ref:t,virtual:R,dropdownMatchSelectWidth:L},K,{transitionName:D.b(F,"slide-up",k.transitionName),listHeight:void 0===g?256:g,listItemHeight:void 0===E?24:E,mode:B,prefixCls:W,direction:A,inputIcon:z,menuItemSelectedIcon:U,removeIcon:H,clearIcon:G,notFoundContent:a,className:Y,getPopupContainer:u||T,dropdownClassName:Z}))});F.SECRET_COMBOBOX_MODE_DO_NOT_USE="SECRET_COMBOBOX_MODE_DO_NOT_USE",F.Option=a.Nb,F.OptGroup=a.kb;var B=F,P=(0,i.memo)(function(e){var t,n=e.keyName,a=e.fontFamily,r=e.onChange,l=O.a().formatMessage,o=(0,W.useDispatch)(),c=(0,i.useState)(k.db),s=A.a(c,2),u=s[0],d=s[1],f=(0,W.useSelector)(function(e){return e.common.isOffLine}),p=(0,W.useSelector)(function(e){return e.resource.fontFileList});(0,i.useEffect)(function(){var e;p.forEach((e=R.a(_().mark(function e(t){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u[t.id]||!t.cdnUrl){e.next=5;break}return e.next=3,k.bb(t.id,t.cdnUrl);case 3:k.db[t.id]=!0,d(k.db);case 5:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)}))},[p,u]);var v=(t=R.a(_().mark(function e(t){var a;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=p.find(function(e){return e.id===t}),!f||u[t]||!(null==a?void 0:a.cdnUrl)){e.next=4;break}return o(S.mj({message:l({id:"download.offline"}),type:"error"})),e.abrupt("return");case 4:if(r&&r(n,t),u[t]||!(null==a?void 0:a.cdnUrl)){e.next=11;break}return e.next=8,k.bb(t,a.cdnUrl);case 8:k.db[t]=!0,d(k.db),o(S.mj({message:l({id:"download.success"}),type:"success"}));case 11:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)});return m().createElement(B,{className:C().fontFamilyWrapper,value:a,optionLabelProp:"label",onChange:v,suffixIcon:m().createElement(T.j,{type:"icon-dropdown-down"})},p.map(function(e,t){return m().createElement(B.Option,{key:t,value:e.id,label:e.name,className:C().option},m().createElement("div",{className:M()(f&&!u[e.id]&&e.cdnUrl&&C().disabled),style:{fontFamily:e.id}},e.name),m().createElement("div",{className:C().iconBox},e.id===a?m().createElement(T.j,{className:C().selectedIcon,type:"icon-selected"}):m().createElement(m().Fragment,null)))}))})},26444(e,t,n){n.d(t,{_y:()=>u,gy:()=>s});var a=n(90612),r=n(33383),l=n(33007),o=n(41594),c=n.n(o),i=n(49277),m=n.n(i),s=(0,o.memo)(function(e){var t=e.keyName,n=void 0===t?"textAlign":t,r=e.onChange,o=e.textAlign;return c().createElement(l.s,{value:o,className:m().alignRadio,onChange:function(e){r(n,e)}},c().createElement(l.t,{value:a.a.LEFT},c().createElement(l.j,{type:"icon-align-left"})),c().createElement(l.t,{value:a.a.CENTER},c().createElement(l.j,{type:"icon-align-center"})),c().createElement(l.t,{value:a.a.RIGHT},c().createElement(l.j,{type:"icon-align-right"})))}),u=(0,o.memo)(function(e){var t=e.keyName,n=void 0===t?"text":t,a=e.getValue,o=e.onChange,i=e.formConfig,m=a(n),s=i.clearButtonVisible,u=i.emitOnChange,d=r.p(function(e){o(n,e)},200);return c().createElement(l.k,{onBlur:function(e){d(e)},onChange:function(e){u&&d(e)},isTrimmed:!0,clearButtonVisible:s,defaultValue:m})})},7306(e,t,n){n.d(t,{wy:()=>w});var a=n(44539),r=n(86585),l=n(78747),o=n(63858),c=n.n(o),i=n(9065),m=n(41804),s=n(32919),u=n(33383),d=n(52301),f=n(51877),p=n(33007),v=n(46942),g=n.n(v),E=n(95644),h=n(451),N=n(19040),b=n(41594),y=n.n(b),C=n(34980),I=n.n(C),w=(0,b.memo)(function(){var e=(0,N.useDispatch)(),t=i.b(),n=E.a().formatMessage,o=i.d(),v=(0,N.useSelector)(function(e){return e.project.screens}),C=(0,b.useState)(!1),w=h.a(C,2),k=w[0],S=w[1];if(!o)return null;var T=o.title,x=o.backgroundColor,M=o.backgroundImage,O=o.backgroundImageResizeMode,A=s.hb(M||""),R=(null==A?void 0:A.source)||(null==A?void 0:A.cdnUrl);return y().createElement(p.h,{"data-updated-at":t},y().createElement(p.i,{className:g()(c().formItemWrapper,c().formWidgetTitle,"changeTitle"),align:"vertical",label:"名称"},y().createElement(a.Xr,{value:T,renameInputValue:function(t){var n=s.Ob(o.id,t,v);return e(f.Jg(o.id,"title",n)),n},onChange:function(t){e(f.Jg(o.id,"title",t))},checkValueIsRepeat:function(e){return s.r(o.id,e)}})),y().createElement("div",null,y().createElement(p.i,{className:g()(c().formItemWrapper,"changeBackgroundColor"),label:n({id:"color"})},y().createElement(d.a,{placement:"rightBottom",trigger:"click",onVisibleChange:function(e){S(e)},content:k&&y().createElement(p.q,{value:x,onChange:function(t){e(f.Jg(o.id,"backgroundColor",t))}})},y().createElement("div",{className:c().colorBlock,style:{backgroundColor:u.i(x)?"#ffffff":x}},u.i(x)&&y().createElement("div",{className:c().slash})))),y().createElement(p.i,{className:g()(c().formItemWrapper,I().changeImageWrapper),align:"vertical",label:n({id:"backgroundImage"})},y().createElement(l.nb,{onUploadFileChange:function(t){t&&e(f.Zf(t,function(t){var n=t[0];e(f.Jg(o.id,"backgroundImage",n.id))}))},onResourceLibraryClick:function(){e(f.wj(m.c.ImageLibrary,function(t){var n=t[0];e(f.Jg(o.id,"backgroundImage",n.id)),e(f.sh())}))},onDelete:function(){e(f.Jg(o.id,"backgroundImage",""))},fileId:M})),R&&y().createElement(p.i,{className:g()(c().formItemWrapper),label:n({id:"adapt"}),align:"vertical"},y().createElement(r.$v,{mode:O,onModeChange:function(t){e(f.Jg(o.id,"backgroundImageResizeMode",t))}}))))})},83823(e,t,n){n.d(t,{Sy:()=>y,lE:()=>X,oE:()=>Z});var a=n(26444),r=n(92379),l=n(2822),o=n(72239),c=n(76043),i=n(63858),m=n.n(i),s=n(7837),u=n(2394),d=n(36454),f=n(72541),p=n(26564),v=n(33007),g=n(46942),E=n.n(g),h=n(95644),N=n(41594),b=n.n(N);n(89622);var y=(0,N.memo)(function(e){var t=e.formConfig,n=(0,h.a().formatMessage)({id:t.label||"content"});return b().createElement(v.i,{className:E()(m().formItemWrapper,m().textInput,"changeContent"),label:n,labelWidth:t.labelWidth},b().createElement(a._y,e))}),C={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=C.F1&&t<=C.F12)return!1;switch(t){case C.ALT:case C.CAPS_LOCK:case C.CONTEXT_MENU:case C.CTRL:case C.DOWN:case C.END:case C.ESC:case C.HOME:case C.INSERT:case C.LEFT:case C.MAC_FF_META:case C.META:case C.NUMLOCK:case C.NUM_CENTER:case C.PAGE_DOWN:case C.PAGE_UP:case C.PAUSE:case C.PRINT_SCREEN:case C.RIGHT:case C.SHIFT:case C.UP:case C.WIN_KEY:case C.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=C.ZERO&&e<=C.NINE||e>=C.NUM_ZERO&&e<=C.NUM_MULTIPLY||e>=C.A&&e<=C.Z||-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case C.SPACE:case C.QUESTION_MARK:case C.NUM_PLUS:case C.NUM_MINUS:case C.NUM_PERIOD:case C.NUM_DIVISION:case C.SEMICOLON:case C.DASH:case C.EQUALS:case C.COMMA:case C.PERIOD:case C.SLASH:case C.APOSTROPHE:case C.SINGLE_QUOTE:case C.OPEN_SQUARE_BRACKET:case C.BACKSLASH:case C.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};function I(){return"function"==typeof BigInt}function w(e){var t=e.trim(),n=t.startsWith("-");n&&(t=t.slice(1)),(t=t.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,"")).startsWith(".")&&(t="0".concat(t));var a=t||"0",r=a.split("."),l=r[0]||"0",o=r[1]||"0";"0"===l&&"0"===o&&(n=!1);var c=n?"-":"";return{negative:n,negativeStr:c,trimStr:a,integerStr:l,decimalStr:o,fullStr:"".concat(c).concat(a)}}function k(e){var t=String(e);return!Number.isNaN(Number(t))&&t.includes("e")}function S(e){var t=String(e);if(k(e)){var n=Number(t.slice(t.indexOf("e-")+2)),a=t.match(/\.(\d+)/);return(null==a?void 0:a[1])&&(n+=a[1].length),n}return t.includes(".")&&x(t)?t.length-t.indexOf(".")-1:0}function T(e){var t=String(e);if(k(e)){if(e>Number.MAX_SAFE_INTEGER)return String(I()?BigInt(e).toString():Number.MAX_SAFE_INTEGER);if(e<Number.MIN_SAFE_INTEGER)return String(I()?BigInt(e).toString():Number.MIN_SAFE_INTEGER);t=e.toFixed(S(t))}return w(t).fullStr}function x(e){return"number"==typeof e?!Number.isNaN(e):!!e&&(/^\s*-?\d+(\.\d+)?\s*$/.test(e)||/^\s*-?\d+\.\s*$/.test(e)||/^\s*-?\.\d+\s*$/.test(e))}var M=function(){function e(t){u.a(this,e),this.origin="",this.number=void 0,this.empty=void 0,(t||0===t)&&String(t).trim()?(this.origin=String(t),this.number=Number(t)):this.empty=!0}return s.a(e,[{key:"negate",value:function(){return new e(-this.toNumber())}},{key:"add",value:function(t){if(this.isInvalidate())return new e(t);var n=Number(t);if(Number.isNaN(n))return this;var a=this.number+n;if(a>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(a<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var r=Math.max(S(this.number),S(n));return new e(a.toFixed(r))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(e){return this.toNumber()===(null==e?void 0:e.toNumber())}},{key:"lessEquals",value:function(e){return 0>=this.add(e.negate().toString()).toNumber()}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e?this.isInvalidate()?"":T(this.number):this.origin}}]),e}(),O=function(){function e(t){if(u.a(this,e),this.origin="",this.negative=void 0,this.integer=void 0,this.decimal=void 0,this.decimalLen=void 0,this.empty=void 0,this.nan=void 0,(t||0===t)&&String(t).trim())if(this.origin=String(t),"-"!==t){var n=t;if(k(n)&&(n=Number(n)),x(n="string"==typeof n?n:T(n))){var a=w(n);this.negative=a.negative;var r=a.trimStr.split(".");this.integer=BigInt(r[0]);var l=r[1]||"0";this.decimal=BigInt(l),this.decimalLen=l.length}else this.nan=!0}else this.nan=!0;else this.empty=!0}return s.a(e,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(e){return BigInt("".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(e,"0")))}},{key:"negate",value:function(){var t=new e(this.toString());return t.negative=!t.negative,t}},{key:"add",value:function(t){if(this.isInvalidate())return new e(t);var n=new e(t);if(n.isInvalidate())return this;var a=Math.max(this.getDecimalStr().length,n.getDecimalStr().length),r=w((this.alignDecimal(a)+n.alignDecimal(a)).toString()),l=r.negativeStr,o=r.trimStr,c="".concat(l).concat(o.padStart(a+1,"0"));return new e("".concat(c.slice(0,-a),".").concat(c.slice(-a)))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(e){return this.toString()===(null==e?void 0:e.toString())}},{key:"lessEquals",value:function(e){return 0>=this.add(e.negate().toString()).toNumber()}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e?this.isInvalidate()?"":w("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),e}();function A(e){return I()?new O(e):new M(e)}function R(e,t,n){if(""===e)return"";var a=w(e),r=a.negativeStr,l=a.integerStr,o=a.decimalStr,c="".concat(t).concat(o),i="".concat(r).concat(l);if(n>=0){var m=Number(o[n]);return m>=5?R(A(e).add("".concat(r,"0.").concat("0".repeat(n)).concat(10-m)).toString(),t,n):0===n?i:"".concat(i).concat(t).concat(o.padEnd(n,"0").slice(0,n))}return".0"===c?i:"".concat(i).concat(c)}function L(e){var t=e.prefixCls,n=e.upNode,a=e.downNode,r=e.upDisabled,l=e.downDisabled,o=e.onStep,c=(0,N.useRef)(),i=(0,N.useRef)();i.current=o;var m=function(e,t){e.preventDefault(),i.current(t),c.current=setTimeout(function e(){i.current(t),c.current=setTimeout(e,200)},600)},s=function(){clearTimeout(c.current)};if((0,N.useEffect)(function(){return s},[]),function(){if("undefined"==typeof navigator||"undefined"==typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null==e?void 0:e.substr(0,4)))}())return null;var u="".concat(t,"-handler"),f=E()(u,"".concat(u,"-up"),d.a({},"".concat(u,"-up-disabled"),r)),v=E()(u,"".concat(u,"-down"),d.a({},"".concat(u,"-down-disabled"),l)),g={unselectable:"on",role:"button",onMouseUp:s,onMouseLeave:s};return(0,N.createElement)("div",{className:"".concat(u,"-wrap")},(0,N.createElement)("span",p.a({},g,{onMouseDown:function(e){m(e,!0)},"aria-label":"Increase Value","aria-disabled":r,className:f}),n||(0,N.createElement)("span",{unselectable:"on",className:"".concat(t,"-handler-up-inner")})),(0,N.createElement)("span",p.a({},g,{onMouseDown:function(e){m(e,!1)},"aria-label":"Decrease Value","aria-disabled":l,className:v}),a||(0,N.createElement)("span",{unselectable:"on",className:"".concat(t,"-handler-down-inner")})))}var _={},W=function(e,t){e||_[t]||(_[t]=!0)},V="undefined"!=typeof window&&window.document&&window.document.createElement?N.useLayoutEffect:N.useEffect;function D(e,t){var n=(0,N.useRef)(!1);V(function(){if(n.current)return e();n.current=!0},t)}var j=function(e){return+setTimeout(e,16)},F=function(e){return clearTimeout(e)};"undefined"!=typeof window&&"requestAnimationFrame"in window&&(j=function(e){return window.requestAnimationFrame(e)},F=function(e){return window.cancelAnimationFrame(e)});var B=0,P=new Map;function z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=B+=1;return!function t(a){if(0===a)P.delete(n),e();else{var r=j(function(){t(a-1)});P.set(n,r)}}(t),n}z.cancel=function(e){var t=P.get(e);return P.delete(t),F(t)};var U=["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","controls","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep"],H=function(e,t){return e||t.isEmpty()?t.toString():t.toNumber()},G=function(e){var t=A(e);return t.isInvalidate()?null:t},K=(0,N.forwardRef)(function(e,t){var n,a,r,o,i,m=e.prefixCls,s=void 0===m?"rc-input-number":m,u=e.className,v=e.style,g=e.min,h=e.max,b=e.step,y=void 0===b?1:b,I=e.defaultValue,w=e.value,k=e.disabled,M=e.readOnly,O=e.upHandler,_=e.downHandler,V=e.keyboard,j=e.controls,F=e.stringMode,B=e.parser,P=e.formatter,K=e.precision,Z=e.decimalSeparator,q=e.onChange,Y=e.onInput,X=e.onPressEnter,Q=e.onStep,J=c.a(e,U),$="".concat(s,"-input"),ee=(0,N.useRef)(null),et=(0,N.useState)(!1),en=f.a(et,2),ea=en[0],er=en[1],el=(0,N.useRef)(!1),eo=(0,N.useRef)(!1),ec=(0,N.useState)(function(){return A(null!=w?w:I)}),ei=f.a(ec,2),em=ei[0],es=ei[1],eu=(0,N.useCallback)(function(e,t){if(!t)return K>=0?K:Math.max(S(e),S(y))},[K,y]),ed=(0,N.useCallback)(function(e){var t=String(e);if(B)return B(t);var n=t;return Z&&(n=n.replace(Z,".")),n.replace(/[^\w.-]+/g,"")},[B,Z]),ef=(0,N.useRef)(""),ep=(0,N.useCallback)(function(e,t){if(P)return P(e,{userTyping:t,input:String(ef.current)});var n="number"==typeof e?T(e):e;if(!t){var a=eu(n,t);x(n)&&(Z||a>=0)&&(n=R(n,Z||".",a))}return n},[P,eu,Z]),ev=(0,N.useState)(function(){var e=null!=I?I:w;return em.isInvalidate()&&["string","number"].includes(l.a(e))?Number.isNaN(e)?"":e:ep(em.toString(),!1)}),eg=f.a(ev,2),eE=eg[0],eh=eg[1];function eN(e,t){eh(ep(e.isInvalidate()?e.toString(!1):e.toString(!t),t))}ef.current=eE;var eb=(0,N.useMemo)(function(){return G(h)},[h]),ey=(0,N.useMemo)(function(){return G(g)},[g]),eC=(0,N.useMemo)(function(){return!(!eb||!em||em.isInvalidate())&&eb.lessEquals(em)},[eb,em]),eI=(0,N.useMemo)(function(){return!(!ey||!em||em.isInvalidate())&&em.lessEquals(ey)},[ey,em]),ew=(n=ee.current,a=(0,N.useRef)(null),[function(){try{var e=n.selectionStart,t=n.selectionEnd,r=n.value,l=r.substring(0,e),o=r.substring(t);a.current={start:e,end:t,value:r,beforeTxt:l,afterTxt:o}}catch(e){}},function(){if(n&&a.current&&ea)try{var e=n.value,t=a.current,r=t.beforeTxt,l=t.afterTxt,o=t.start,c=e.length;if(e.endsWith(l))c=e.length-a.current.afterTxt.length;else if(e.startsWith(r))c=r.length;else{var i=r[o-1],m=e.indexOf(i,o-1);-1!==m&&(c=m+1)}n.setSelectionRange(c,c)}catch(e){W(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(e.message))}}]),ek=f.a(ew,2),eS=ek[0],eT=ek[1],ex=function(e){return eb&&!e.lessEquals(eb)?eb:ey&&!ey.lessEquals(e)?ey:null},eM=function(e){return!ex(e)},eO=function(e,t){var n,a=e,r=eM(a)||a.isEmpty();if(a.isEmpty()||t||(a=ex(a)||a,r=!0),!M&&!k&&r){var l=a.toString(),o=eu(l,t);return o>=0&&(a=A(R(l,".",o))),a.equals(em)||(n=a,void 0===w&&es(n),null!=q&&q(a.isEmpty()?null:H(F,a)),void 0===w&&eN(a,t)),a}return em},eA=(r=(0,N.useRef)(0),o=function(){z.cancel(r.current)},(0,N.useEffect)(function(){return o},[]),function(e){o(),r.current=z(function(){e()})}),eR=function e(t){if(eS(),eh(t),!eo.current){var n=A(ed(t));n.isNaN()||eO(n,!0)}null!=Y&&Y(t),eA(function(){var n=t;B||(n=t.replace(/\u3002/g,".")),n!==t&&e(n)})},eL=function(e){var t;if(!(e&&eC||!e&&eI)){el.current=!1;var n=A(y);e||(n=n.negate());var a=eO((em||A(0)).add(n.toString()),!1);null!=Q&&Q(H(F,a),{offset:y,type:e?"up":"down"}),null!=(t=ee.current)&&t.focus()}},e_=function(e){var t=A(ed(eE)),n=t;n=t.isNaN()?em:eO(t,e),void 0!==w?eN(em,!1):n.isNaN()||eN(n,!1)};return D(function(){em.isInvalidate()||eN(em,!1)},[K]),D(function(){var e=A(w);es(e);var t=A(ed(eE));e.equals(t)&&el.current&&!P||eN(e,el.current)},[w]),D(function(){P&&eT()},[eE]),(0,N.createElement)("div",{className:E()(s,u,(i={},d.a(i,"".concat(s,"-focused"),ea),d.a(i,"".concat(s,"-disabled"),k),d.a(i,"".concat(s,"-readonly"),M),d.a(i,"".concat(s,"-not-a-number"),em.isNaN()),d.a(i,"".concat(s,"-out-of-range"),!em.isInvalidate()&&!eM(em)),i)),style:v,onFocus:function(){er(!0)},onBlur:function(){e_(!1),er(!1),el.current=!1},onKeyDown:function(e){var t=e.which;el.current=!0,t===C.ENTER&&(eo.current||(el.current=!1),e_(!1),null!=X&&X(e)),!1!==V&&!eo.current&&[C.UP,C.DOWN].includes(t)&&(eL(C.UP===t),e.preventDefault())},onKeyUp:function(){el.current=!1},onCompositionStart:function(){eo.current=!0},onCompositionEnd:function(){eo.current=!1,eR(ee.current.value)}},(void 0===j||j)&&(0,N.createElement)(L,{prefixCls:s,upNode:O,downNode:_,upDisabled:eC,downDisabled:eI,onStep:eL}),(0,N.createElement)("div",{className:"".concat($,"-wrap")},(0,N.createElement)("input",p.a({autoComplete:"off",role:"spinbutton","aria-valuemin":g,"aria-valuemax":h,"aria-valuenow":em.isInvalidate()?null:em.toString(),step:y},J,{ref:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){t.forEach(function(t){"function"==typeof t?t(e):"object"===l.a(t)&&t&&"current"in t&&(t.current=e)})}}(ee,t),className:$,value:eE,onChange:function(e){eR(e.target.value)},disabled:k,readOnly:M}))))});K.displayName="InputNumber";var Z=K,q={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"},Y=function(e,t){return(0,N.createElement)(r.a,o.a(o.a({},e),{},{ref:t,icon:q}))};Y.displayName="UpOutlined";var X=(0,N.forwardRef)(Y)},44800(e,t,n){n.d(t,{_E:()=>M,fE:()=>k,gE:()=>x,hE:()=>S,mE:()=>T});var a=n(86585),r=n(61057),l=n(17626),o=n(83823),c=n(64371),i=n(98936),m=n(63858),s=n.n(m),u=n(36454),d=n(26564),f=n(33383),p=n(52301),v=n(33007),g=n(46942),E=n.n(g),h=n(95644),N=n(451),b=n(41594),y=n.n(b),C=n(87867),I=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)0>t.indexOf(a[r])&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},w=(0,b.forwardRef)(function(e,t){var n=(0,b.useContext)(i.b),a=n.getPrefixCls,r=n.direction,m=(0,b.useContext)(c.b),s=e.className,f=e.size,p=e.prefixCls,v=e.addonBefore,g=e.addonAfter,h=e.bordered,N=e.readOnly,y=I(e,["className","size","prefixCls","addonBefore","addonAfter","bordered","readOnly"]),w=a("input-number",p),k=(0,b.createElement)(o.lE,{className:"".concat(w,"-handler-up-inner")}),S=(0,b.createElement)(l.Zb,{className:"".concat(w,"-handler-down-inner")}),T=f||m,x=E()((O={},u.a(O,"".concat(w,"-lg"),"large"===T),u.a(O,"".concat(w,"-sm"),"small"===T),u.a(O,"".concat(w,"-rtl"),"rtl"===r),u.a(O,"".concat(w,"-readonly"),N),u.a(O,"".concat(w,"-borderless"),!(void 0===h||h)),O),s),M=(0,b.createElement)(o.oE,d.a({ref:t,className:x,upHandler:k,downHandler:S,prefixCls:w,readOnly:N},y));if(null!=v||null!=g){var O,A,R="".concat(w,"-group"),L="".concat(R,"-addon"),_=v?(0,b.createElement)("div",{className:L},v):null,W=g?(0,b.createElement)("div",{className:L},g):null,V=E()("".concat(w,"-wrapper"),R,u.a({},"".concat(R,"-rtl"),"rtl"===r)),D=E()("".concat(w,"-group-wrapper"),(A={},u.a(A,"".concat(w,"-group-wrapper-sm"),"small"===m),u.a(A,"".concat(w,"-group-wrapper-lg"),"large"===m),u.a(A,"".concat(w,"-group-wrapper-rtl"),"rtl"===r),A),s);return(0,b.createElement)("div",{className:D,style:e.style},(0,b.createElement)("div",{className:V},_,C.a(M,{style:null}),W))}return M}),k=(0,b.memo)(function(e){var t=e.keyName,n=void 0===t?"number":t,a=e.getValue,r=e.onChange,l=e.formConfig,o=(0,h.a().formatMessage)({id:l.label||"content"}),c=l.max,i=void 0===c?1/0:c,m=l.min,u=void 0===m?-1/0:m,d=l.addonAfter,f=a(n);return y().createElement(v.i,{className:E()(s().formItemWrapper),align:"horizontal",label:o},y().createElement(w,{value:f,addonAfter:d,max:i,min:u,controls:!1,onChange:function(e){r(n,e=Math.min(e=Math.max(e=null===e?0:e,u),i))}}))}),S=(0,b.memo)(function(e){var t=e.keyName,n=void 0===t?"visible":t,r=e.getValue,l=e.onChange,o=e.renderInline,c=h.a().formatMessage,i=r(n),m=y().createElement(v.i,{className:"coco-visible-switch changeVisible"},y().createElement(a.Zv,{hasIcon:!0,onClick:function(){l(n,!i)}},y().createElement("span",{className:s().btnIcon},y().createElement(v.j,{type:i?"icon-see":"icon-see-disable"})),c(i?{id:"show"}:{id:"hide"})));return o?y().createElement(v.e,null,m):y().createElement(v.u,{className:s().formItemWrapper},m)}),T=(0,b.memo)(function(e){var t=e.keyName,n=void 0===t?"disabled":t,r=e.getValue,l=e.onChange,o=e.renderInline,c=h.a().formatMessage,i=r(n),m=y().createElement(v.i,{className:"changeDisabled"},y().createElement(a.Zv,{hasIcon:!0,onClick:function(){l(n,!i)}},y().createElement("span",{className:s().btnIcon},y().createElement(v.j,{type:i?"icon-use_disable":"icon-use"})),c(i?{id:"disabled"}:{id:"able"})));return o?y().createElement(v.e,null,m):y().createElement(v.u,{className:s().formItemWrapper},m)}),x=(0,b.memo)(function(e){var t=e.keyName,n=void 0===t?"color":t,a=e.getValue,l=e.onChange,o=e.renderInline,c=e.formConfig.label,i=a(n),m=(0,h.a().formatMessage)({id:void 0===c?"color":c}),u=y().createElement(v.i,{className:"changeColor",label:m},y().createElement(r.mb,{keyName:n,onChange:l,color:i}));return o?y().createElement(v.e,{span:23},u):y().createElement(v.u,{className:s().formItemWrapper},u)}),M=(0,b.memo)(function(e){var t=e.keyName,n=void 0===t?"backgroundColor":t,a=e.getValue,r=e.onChange,l=e.renderInline,o=e.formConfig,c=a(n),i=h.a().formatMessage,m=o.label,u=i({id:void 0===m?"backgroundColor":m}),d=(0,b.useState)(!1),g=N.a(d,2),E=g[0],C=g[1],I=y().createElement(v.i,{label:u,className:"changeBackgroundColor"},y().createElement(p.a,{placement:"rightBottom",trigger:"click",onVisibleChange:function(e){C(e)},content:E&&y().createElement(v.q,{value:c,onChange:function(e){r(n,e)}})},y().createElement("div",{className:s().colorBlock,style:{backgroundColor:f.i(c)?"#ffffff":c}},f.i(c)&&y().createElement("div",{className:s().slash}))));return l?y().createElement(v.e,{span:23},I):y().createElement(v.u,{className:s().formItemWrapper},I)})},85365(e,t,n){n.d(t,{EE:()=>C,OE:()=>I,wE:()=>w});var a=n(78747),r=n(7663),l=n(61057),o=n(26444),c=n(95655),i=n(46431),m=n(12327),s=n(94220),u=n(33383),d=n(33007),f=n(28950),p=n(46942),v=n.n(p),g=n(95644),E=n(41594),h=n.n(E),N=n(65256),b=n.n(N),y=[{value:c.c.OUTLINED_NORMAL,renderContent:function(e){return h().createElement("div",{className:v()(b().outlineNormal,b().modeItem),style:{borderColor:e}})}},{value:c.c.CONTAINED_NORMAL,renderContent:function(e,t){return h().createElement("div",{className:v()(b().containedNormal,b().modeItem),style:{backgroundColor:t?e:u.hb(e,.1)}})}},{value:c.c.CONTAINED_ROUND,renderContent:function(e,t){return h().createElement("div",{className:v()(b().containedRound,b().modeItem),style:{background:t?e:u.hb(e,.1)}})}},{value:c.c.OUTLINED_FLAT,renderContent:function(e,t){return h().createElement("div",{className:v()(b().outlineFlat,b().modeItem),style:{borderColor:e}})}}],C=(0,E.memo)(function(e){var t=e.keyName,n=void 0===t?"mode":t,a=e.onChange,l=e.getValue,o=g.a().formatMessage,c=l(n),i=l("color"),m=u.Z(i),s=m?"coco-option-white":"";return h().createElement(d.i,{className:v()(b().formItemWrapper,b().typeSelector,b().inputModeSelector,{"coco-input-option-white":m},"changeInputMode"),label:o({id:"style"})},h().createElement(r.lb,{value:c,params:[i,m],modeList:y,onChange:function(e){a(n,e)}},y.map(function(e){return h().createElement(d.p,{key:e.value,value:e.value,className:s},e.renderContent(i,m))})))}),I=(0,E.memo)(function(e){var t=e.keyName,n=void 0===t?"sizeType":t,r=e.onChange,l=e.getValue,o=l(n),c=l("size"),i=Object.values(s.s),u=m.ob(o),d=u.height,f=u.minWidth,p=u.maxWidth;return h().createElement(a.rb,{sizeType:o,sizeTypeList:i,width:null==c?void 0:c.width,height:d,minWidth:f,maxWidth:p,onWidthChange:function(e){r("size",{width:Math.max(f,Math.min(p,Number(e)))})},onSizeTypeChange:function(e){r(n,e);var t=m.ob(o);r("size",{height:t.height,width:Math.max(c.width,t.minWidth)})}})}),w=(0,E.memo)(function(e){var t=e.onChange,n=e.getValue,a=g.a().formatMessage;return h().createElement("div",{className:v()(b().formItemWrapper,"coco-form-item","coco-form-item-vertical")},h().createElement("div",{className:b().tipsWrapper},h().createElement("div",{className:b().labelWrapper},h().createElement("span",null,a({id:"ListViewerWidget.tips"}))),h().createElement("div",{className:b().content},h().createElement("div",{style:{flex:1}},h().createElement(o._y,Object.assign({},e,{formConfig:f.a(f.a({},e.formConfig),{},{emitOnChange:!0}),keyName:"placeholder"}))),h().createElement(l.mb,{width:43,keyName:"placeholderColor",onChange:t,color:n("placeholderColor")||i.n}))),h().createElement("div",{className:b().valueWrapper},h().createElement("div",{className:b().labelWrapper},h().createElement("span",null,a({id:"ListViewerWidget.input"}))),h().createElement("div",{className:b().content},h().createElement("div",{style:{flex:1}},h().createElement(o._y,Object.assign({},e,{keyName:"value",formConfig:f.a(f.a({},e.formConfig),{},{emitOnChange:!0})}))),h().createElement(l.mb,{width:43,keyName:"valueColor",onChange:t,color:n("valueColor")||i.o}))))})},78142(e,t,n){n.d(t,{NE:()=>j,RE:()=>F,SE:()=>_,TE:()=>L,jE:()=>D,kE:()=>B});var a=n(86585),r=n(78747),l=n(61057),o=n(11293),c=n(26444),i=n(65256),m=n.n(i),s=n(34980),u=n.n(s),d=n(63858),f=n.n(d),p=n(95655),v=n(46431),g=n(90612),E=n(22224),h=n(75195),N=n(41804),b=n(32919),y=n(33383),C=n(51877),I=n(33007),w=n(36243),k=n(28950),S=n(46942),T=n.n(S),x=n(95644),M=n(19040),O=n(41594),A=n.n(O),R=n(84119),L=(0,O.memo)(function(e){var t=e.keyName,n=void 0===t?"fontSize":t,a=e.onChange,r=e.formConfig,l=e.value,o=e.width,c=e.rules,i=r.multiple,m=void 0===i?1:i,s=r.label,u=r.min,d=r.max,f=x.a().formatMessage,p=Math.ceil(l*m),v=function(e){return y.p(function(e){var t=parseInt(e);a(n,t/=m)},e)};return A().createElement(R.a,{label:f({id:s}),className:"coco-number-inputRow",style:{width:void 0===o?74:o},type:"number",min:u,max:d,rules:c,defaultValue:p,onChange:v(200),onStep:v(0)})}),_=(0,O.memo)(function(e){var t=e.onChange,n=e.getValue,a=x.a().formatMessage;return A().createElement("div",{className:T()(m().formItemWrapper,"coco-form-item","coco-form-item-vertical")},A().createElement("div",{className:m().labelWrapper},A().createElement("span",null,a({id:"text"})+a({id:"setting"}))),A().createElement("div",{className:m().fontWrapper},A().createElement("div",{className:m().fontFamily},A().createElement(o.fy,{keyName:"fontFamily",onChange:t,fontFamily:n("fontFamily")||v.f})),A().createElement("div",{className:m().fontSize},A().createElement(L,{keyName:"fontSize",onChange:t,formConfig:k.a(k.a({},e.formConfig),{},{label:"fontSize",max:h.l,min:h.p}),value:n("fontSize")||v.g,rules:[{rule:h.w(4)},{rule:h.v}],width:86}))),A().createElement("div",{className:m().alignWrapper},A().createElement(c.gy,{keyName:"textAlign",onChange:t,textAlign:n("textAlign")||"left"})))}),W=function(e){return A().createElement("div",{className:m().backgroundTypeWrapper},A().createElement("div",{className:m().backgroundTypeItem,style:e},A().createElement("div",null)))},V=[{value:p.c.OUTLINED_NORMAL,renderContent:function(e){return W({background:"rgba(255, 255, 255, 0.3)",borderRadius:"4px",border:"2px solid ".concat((0,w.A)(e).alpha(.5).toString())})}},{value:p.c.CONTAINED_NORMAL,renderContent:function(e){return W({background:(0,w.A)(e).alpha(.14).toString(),borderRadius:"4px"})}},{value:p.c.CONTAINED_ROUND,renderContent:function(e){return W({background:(0,w.A)(e).alpha(.14).toString(),borderRadius:"14px"})}},{value:p.c.OUTLINED_FLAT,renderContent:function(e){return W({borderBottom:"2px solid ".concat((0,w.A)(e).alpha(.5).toString())})}}],D=(0,O.memo)(function(e){var t=e.onChange,n=e.getValue,a=x.a().formatMessage,o=n("backgroundColor")||v.c,c=n("backgroundMode")||p.a.TEMPLATE,i=n("templateMode")||p.c.OUTLINED_NORMAL,s=(0,M.useSelector)(function(e){return e.project.selectedWidgetId}),u=(0,M.useDispatch)(),d=n("backgroundImage")||v.a;return A().createElement("div",{className:T()(m().formItemWrapper,m().buttonWrapper,"coco-form-item","coco-form-item-vertical")},A().createElement("div",{className:m().backgroundLabel},A().createElement("span",null,a({id:"background"})),A().createElement("div",{className:m().modeActionWrapper},A().createElement("div",{className:T()(m().modeTemplate,c===p.a.TEMPLATE&&m().backgroundSelected),onClick:function(){t("backgroundMode",p.a.TEMPLATE)}},a({id:"template"})),A().createElement("div",{className:T()(m().modeImage,c===p.a.IMAGE&&m().backgroundSelected),onClick:function(){t("backgroundMode",p.a.IMAGE)}},a({id:"image"})))),c===p.a.TEMPLATE&&A().createElement("div",{className:m().backgroundWrapper},A().createElement("div",{className:m().templateMode},A().createElement(l.hb,{modeList:V,value:i,onChange:function(e){t("templateMode",e)},params:[o]},V.map(function(e){return A().createElement(I.p,{key:e.value,value:e.value},e.renderContent(o))}))),A().createElement("div",{className:m().templateColor},A().createElement("span",null,a({id:"templateColor"})),A().createElement(l.mb,{width:43,keyName:"backgroundColor",onChange:t,color:o}))),c===p.a.IMAGE&&A().createElement(A().Fragment,null,A().createElement("div",{className:m().backgroundWrapper},A().createElement(r.nb,{onUploadFileChange:function(e){e&&s&&u(C.Zf(e,function(e){u(C.Yf(e[0],s))}))},onResourceLibraryClick:function(){u(C.wj(N.c.ImageLibrary,function(e){var t=e[0];s&&u(C.Yf(t,s)),u(C.sh())}))},fileId:b.hb(d)?d:v.a,style:{height:90,padding:"12px"}})),A().createElement("div",{style:{marginTop:8}},A().createElement(I.s,{className:T()(m().radioWrapper,m().sizeRadioBox),value:n("imageResizeMode")||p.b.CONTAIN,onChange:function(e){t("imageResizeMode",e)}},A().createElement(I.t,{value:p.b.CONTAIN},A().createElement(I.j,{type:"icon-contain"}),a({id:"".concat(p.b.CONTAIN)})),A().createElement(I.t,{value:p.b.STRETCH},A().createElement(I.j,{type:"icon-stretch"}),a({id:"".concat(p.b.STRETCH)}))))))}),j=(0,O.memo)(function(e){var t=e.keyName,n=void 0===t?"fileId":t,l=e.getValue,o=e.onChange,c=e.formConfig,i=x.a().formatMessage,m=c.stillImageShowResizeMode,s=c.label,d=(0,M.useSelector)(function(e){return e.project.selectedWidgetId}),f=(0,M.useDispatch)(),p=l(n),v=b.hb(p),g=(null==v?void 0:v.source)||(null==v?void 0:v.cdnUrl),E=l("resizeMode");return A().createElement(A().Fragment,null,A().createElement(I.i,{className:T()(u().formItemWrapper,u().changeImageWrapper),align:"vertical",label:i({id:s||"image"})},A().createElement(r.nb,{onUploadFileChange:function(e){e&&d&&f(C.Zf(e,function(e){f(C.Yf(e[0],d))}))},onResourceLibraryClick:function(){f(C.wj(N.c.ImageLibrary,function(e){var t=e[0];d&&f(C.Yf(t,d)),f(C.sh())}))},onDelete:function(){o(n,"")},fileId:p})),(m||g)&&A().createElement(I.i,{className:T()(u().formItemWrapper,u().imageResizeMode,"changeImageResizeMode"),label:i({id:"adapt"}),align:"vertical"},A().createElement(I.i,{className:"changeSizeFormItemWrapper"},A().createElement(a.$v,{mode:E,onModeChange:function(e){o&&o("resizeMode",e)}}))))}),F=(0,O.memo)(function(e){var t=e.keyName,n=void 0===t?"position":t,a=e.getValue,r=e.onChange,l=e.formConfig.label,o=a(n),c=x.a().formatMessage,i=k.a({},o),m=function(e){return function(t,a){i[t]=parseInt(a),E.debounce(function(e){r(n,e)},e)(i)}};return A().createElement(I.i,{align:"vertical",className:"".concat(f().formItemWrapper," ").concat(f().formInputNumberRow)},A().createElement("p",{className:"coco-form-item-label"},c({id:(void 0===l?"coordinate":l)||"coordinate"})),A().createElement("div",{className:f().formInputNumberRow},A().createElement(I.i,{className:"changeLeft"},A().createElement(I.o,{label:"x",type:"number",defaultValue:Math.round(o.x),className:"".concat(f().justifyInputContent," coco-number-inputRow"),rules:[{rule:h.w(9)}],onChange:function(e){m(50)("x",e)},min:g.s,max:g.k,onStep:function(e){m(0)("x",e)}})),A().createElement(I.i,{className:"changeTop"},A().createElement(I.o,{label:"y",type:"number",defaultValue:Math.round(o.y),className:"".concat(f().justifyInputContent," coco-number-inputRow"),min:g.s,max:g.k,rules:[{rule:h.w(9)}],onChange:function(e,t){m(50)("y",e)},onStep:function(e,t){m(0)("y",e)}}))))}),B=(0,O.memo)(function(e){var t=e.keyName,n=void 0===t?"content":t,a=e.getValue,r=e.onChange,l=e.formConfig,o=x.a().formatMessage,c=(0,O.useRef)(null),i=a(n),m=o({id:l.label||"content"}),s=y.p(function(e){r(n,e)},60);return A().createElement(I.i,{className:T()(f().formItemWrapper,"changeContent"),label:m,align:"vertical"},A().createElement(I.A,{ref:c,defaultValue:i,rows:3,onChange:function(e){s(e.target.value)}}))})},50158(e,t,n){n.d(t,{Xe:()=>r,ot:()=>d});var a,r,l=n(33007),o=n(46942),c=n.n(o),i=n(41594),m=n.n(i);n(2980),n(50439);var s=n(1608),u=n.n(s);(a=r||(r={}))[a.ERROR=0]="ERROR",a[a.WARN=1]="WARN";var d=m().memo(function(e){var t=e.type,n=e.message,a=e.onClose,o=t===r.ERROR?u().error:u().warn;return m().createElement("div",{className:c()(o,u().container)},m().createElement("span",{className:u().message},n),m().createElement("span",{className:u().close,onClick:a},m().createElement(l.j,{type:"icon-close",className:u().icon})))})},67356(e,t,n){n.d(t,{ME:()=>d});var a=n(11293),r=n(33007),l=n(46942),o=n.n(l),c=n(95644),i=n(41594),m=n.n(i),s=n(27649),u=n.n(s),d=(0,i.memo)(function(e){var t=e.keyName,n=void 0===t?"fontFamily":t,l=e.getValue,i=e.onChange,s=c.a().formatMessage,d=l(n);return m().createElement(r.i,{align:"vertical",className:o()(u().formItemWrapper,"changeFontFamily"),label:s({id:"fontFamily"})},m().createElement(a.fy,{keyName:n,onChange:i,fontFamily:d}))})},6779(e,t,n){n.d(t,{BE:()=>E,FE:()=>h,GE:()=>N});var a=n(26444),r=n(49277),l=n.n(r),o=n(63858),c=n.n(o),i=n(90612),m=n(33007),s=n(46942),u=n.n(s),d=n(95644),f=n(41594),p=n.n(f),v=n(62072),g=n.n(v),E=(0,f.memo)(function(e){var t=e.keyName,n=void 0===t?"textAlign":t,r=e.getValue,l=e.onChange,o=e.formConfig,i=r(n),s=(0,d.a().formatMessage)({id:o.label||"horizontalAlignment"});return p().createElement(m.i,{className:u()(c().formItemWrapper,g().content,"changeHorizontalAlign"),label:s,align:"vertical"},p().createElement(a.gy,{keyName:n,onChange:l,textAlign:i}))}),h=(0,f.memo)(function(e){var t=e.keyName,n=void 0===t?"justifyContent":t,a=e.onChange,r=e.textAlign;return p().createElement(m.s,{value:r,className:l().alignRadio,onChange:function(e){a(n,e)}},p().createElement(m.t,{value:i.c.FLEX_START},p().createElement(m.j,{type:"icon-vertical-top"})),p().createElement(m.t,{value:i.c.CENTER},p().createElement(m.j,{type:"icon-vertical-center"})),p().createElement(m.t,{value:i.c.FLEX_END},p().createElement(m.j,{type:"icon-vertical-bottom"})))}),N=(0,f.memo)(function(e){var t=e.keyName,n=void 0===t?"justifyContent":t,a=e.getValue,r=e.onChange,l=a(n),o=d.a().formatMessage;return p().createElement(m.i,{className:u()(c().formItemWrapper,g().content,"changeVerticalAlign"),label:o({id:"verticalAlignment"}),align:"vertical"},p().createElement(h,{keyName:n,onChange:r,textAlign:l}))})},48390(e,t,n){n.d(t,{HE:()=>b,VE:()=>y});var a=n(44539),r=n(26444),l=n(6779),o=n(63858),c=n.n(o),i=n(32919),m=n(51877),s=n(33007),u=n(13244),d=n(46942),f=n.n(d),p=n(95644),v=n(19040),g=n(41594),E=n.n(g),h=n(62298),N=n.n(h),b=(0,g.memo)(function(e){var t=e.getValue,n=e.onChange,a=e.formConfig,o=(0,p.a().formatMessage)({id:a.label||"alignment"}),i=a.horizontalKey,m=void 0===i?"textAlign":i,u=a.verticalKey,d=void 0===u?"justifyContent":u,v=t(m),g=t(d);return E().createElement(s.i,{className:f()(c().formItemWrapper,N().content,"changeHorizontalAlign"),label:o,align:"vertical"},E().createElement("div",null,E().createElement("div",{style:{marginBottom:8}},E().createElement(r.gy,{keyName:m,onChange:n,textAlign:v})),E().createElement("div",null,E().createElement(l.FE,{keyName:d,onChange:n,textAlign:g}))))}),y=function(e){var t=e.formConfig.hasDisableOrVisible,n=(0,v.useSelector)(function(e){return e.project.selectedWidgetId}),r=p.a().formatMessage,l=(0,v.useDispatch)(),o=i.Bb(n||""),d=o?i.Fb(o.id):"";if(!o)return E().createElement(E().Fragment,null);var g=o.id,h=o.type;return E().createElement(s.i,{className:f()(c().formItemWrapper,c().formWidgetTitle,"changeTitle",u.a({},c().formWidgetTitleWithDisableOrVisible,void 0!==t&&t)),label:r({id:"WidgetForm.title"}),align:"vertical"},E().createElement(a.Xr,{value:d,renameInputValue:function(e){var t=i.Pb(g,h,e);return l(m.Ng(g,t,!0,!0)),t},onChange:function(e){l(m.Ng(g,e,!0,!0))},checkValueIsRepeat:function(e){return i.t(g,e)}}))}},53405(e,t,n){n.d(t,{QE:()=>w,qE:()=>C});var a=n(63858),r=n.n(a),l=n(90612),o=n(22224),c=n(75195),i=n(94220),m=n(33383),s=n(33007),u=n(28950),d=n(46942),f=n.n(d),p=n(95644),v=n(451),g=n(19040),E=n(41594),h=n.n(E),N=n(27615),b=n(27296),y=n.n(b),C=(0,E.memo)(function(e){var t=e.keyName,n=e.getValue,a=e.onChange,r=n(void 0===t?"headline":t),l=n("headlineVisible"),o=p.a().formatMessage,c=(0,E.useState)(1),i=v.a(c,2),u=i[0],d=i[1],b=(0,E.useRef)(null),C=(0,g.useSelector)(function(e){return e.common.widgetAttributeVisible});(0,E.useEffect)(function(){var e=b.current;C&&e&&e.setRows(Math.min(e.getRowCount(),3))},[C]);var I=m.p(function(e){a("headline",e)},100);return h().createElement(s.i,{className:f()(y().headline,y().formItemWrapper,"changeHeadline")},h().createElement("div",{className:y().formTitle},h().createElement("p",null,o({id:"headline"})),h().createElement(N.a,{checked:l,onChange:function(e){a("headlineVisible",e)}})),l&&h().createElement(s.A,{ref:b,maxLength:200,defaultValue:r,rows:u,onFocus:function(){d(3)},onChange:function(e){I(e.target.value)},onBlur:function(e,t){d(Math.min(t,3))}}))}),I=[[l.t,l.l],[l.o,l.g]],w=(0,E.memo)(function(e){var t=e.keyName,n=void 0===t?"size":t,a=e.getValue,m=e.onChange,d=e.formConfig.sizeRange,f=void 0===d?I:d,v=a(n)||{width:0,height:0},g=null==v?void 0:v.width,N=null==v?void 0:v.height,b=a("type"),y=a("id"),C=p.a().formatMessage,w=(0,E.useRef)({}),k=function(e,t,a){var r={};r[e]=parseInt(a);var l=w.current;w.current=u.a(u.a({},l),r),o.debounce(function(){var e=w.current;e&&(m(n,e),w.current={})},t)(),b===i.H&&y&&"height"===e&&m("sizeAdaptive",i.q.FIXED)};return h().createElement(s.i,{align:"vertical",className:"".concat(r().formItemWrapper," ").concat(r().formInputNumberRow)},h().createElement("p",{className:"coco-form-item-label"},C({id:"size"})),h().createElement("div",{className:r().formInputNumberRow},h().createElement(s.i,{className:"changeWidth"},h().createElement(s.o,{label:C({id:"width"}),defaultValue:g,type:"number",min:f[0][0],max:Math.min(f[0][1],l.m),rules:[{rule:c.w(9)},{rule:c.v}],className:"".concat(r().justifyInputContent," coco-number-inputRow"),onChange:k.bind(void 0,"width",50),onStep:k.bind(void 0,"width",0)})),h().createElement(s.i,{className:"changeHeight"},h().createElement(s.o,{label:C({id:"height"}),defaultValue:N,type:"number",min:f[1][0],max:Math.min(f[1][1],l.h),rules:[{rule:c.w(9)},{rule:c.v}],className:"".concat(r().justifyInputContent," coco-number-inputRow"),onChange:k.bind(void 0,"height",50),onStep:k.bind(void 0,"height",0)}))))})},8039(e,t,n){n.d(t,{nO:()=>V,oO:()=>j,rO:()=>D,sO:()=>P,tO:()=>W});var a,r=n(78747),l=n(7663),o=n(61057),c=n(11293),i=n(26444),m=n(41804),s=n(32919),u=n(51877),d=n(33007),f=n(451),p=n(19040),v=n(41594),g=n.n(v),E=n(9361),h=n.n(E),N=(0,v.memo)(function(e){var t=e.onChange,n=e.iconId,a=e.color,r=(0,p.useDispatch)(),l=(0,v.useState)(),o=f.a(l,2),c=o[0],i=o[1],E=(0,p.useSelector)(function(e){return e.resource.resourceLibraryUpdateAt});return(0,v.useEffect)(function(){i(s.fb(n))},[n,E]),g().createElement(g().Fragment,null,g().createElement("div",{onClick:function(){r(u.wj(m.c.IconLibrary,function(e){e&&e.length>0&&t("iconId",e[0].id)}))},className:h().buttonTypeIconBox},g().createElement("div",{className:h().svgIcon,style:{color:a}},g().createElement(d.z,{icon:c})),g().createElement(d.j,{type:"icon-dropdown-down",className:h().iconDropdown})))}),b=n(78142),y=n(85322),C=n(94080),I=n(16751),w=n(12327),k=n(75195),S=n(33383),T=n(28950),x=n(13244),M=n(46942),O=n.n(M),A=n(95644),R=n(38203),L=n.n(R),_=[{value:I.b.CONTAINED_TEXT,renderContent:function(e){return g().createElement("div",{className:O()(L().contentButton,L().typeItem),style:{backgroundColor:e,color:S.Z(e)?S.a:"#ffffff"}},"Text")}},{value:I.b.OUTLINED_TEXT,renderContent:function(e){return g().createElement("div",{className:O()(L().outlinedButton,L().typeItem),style:{color:e,background:S.Z(e)?S.a:"#ffffff"}},"Text")}},{value:I.b.CONTAINED_ICON,style:{width:"70px"},renderContent:function(e,t){return g().createElement("div",{style:{backgroundColor:e,color:S.Z(e)?S.a:"#ffffff"},className:O()(L().IconButton,L().contentButton,L().typeItem)},g().createElement(d.z,{icon:t}))}},{value:I.b.OUTLINED_ICON,style:{width:"70px"},renderContent:function(e,t){return g().createElement("div",{style:{color:e,background:S.Z(e)?S.a:"#ffffff"},className:O()(L().IconButton,L().outlinedButton,L().typeItem)},g().createElement(d.z,{icon:t}))}}];a={},x.a(a,I.a.TEXT,[I.c.SMALL,I.c.MEDIUM,I.c.LARGE]),x.a(a,I.a.ICON,[I.c.TINY,I.c.SMALL,I.c.MEDIUM,I.c.LARGE,I.c.HUGE]);var W=(0,v.memo)(function(e){var t=e.keyName,n=e.onChange,a=e.getValue,r=A.a().formatMessage,o=a(void 0===t?"mode":t),c=a("sizeType"),i=a("color"),E=a("iconId"),h=a("text"),N=w.O(o),b=(0,p.useDispatch)(),y=(0,v.useState)(),C=f.a(y,2),k=C[0],T=C[1];(0,v.useEffect)(function(){T(s.fb(E))},[E]);var x=S.p(function(e){n("text",e)},200);return g().createElement(g().Fragment,null,g().createElement(d.i,{className:O()(L().formItemWrapper,L().typeSelector,L().buttonModeSelector,"changeButtonMode"),label:r({id:"mode"})},g().createElement(l.lb,{modeList:_,value:o,onChange:function(e){w.O(e)===I.a.TEXT&&(c===I.c.TINY&&n("sizeType",I.c.SMALL),c===I.c.HUGE&&n("sizeType",I.c.LARGE)),n("mode",e)},params:[i,k]},_.map(function(e){return g().createElement(d.p,{key:e.value,value:e.value},e.renderContent(i,k))}))),N===I.a.TEXT?g().createElement(d.i,{className:O()(L().formItemWrapper,L().cocoInputTitleContent),label:r({id:"content"})},g().createElement(d.k,{className:"coco-input-text",onChange:function(e,t){x(e)},onBlur:function(e,t){x(e)},isTrimmed:!0,defaultValue:h})):g().createElement(d.i,{className:O()(L().formItemWrapper,L().typeSelector,"changeIcon"),label:r({id:"icon"})},g().createElement("div",{onClick:function(){b(u.wj(m.c.IconLibrary,function(e){e&&e.length>0&&n("iconId",e[0].id)}))},className:L().buttonTypeIconBox},g().createElement(d.z,{icon:k}),g().createElement(d.j,{type:"icon-up",className:O()("coco-select-arrow")}))))}),V=(0,v.memo)(function(e){var t=e.keyName,n=void 0===t?"sizeType":t,l=e.onChange,o=e.getValue,c=o(n),i=o("size"),m=o("mode"),s=w.O(m),u=w.Q(c,m),d=u.height,f=u.minWidth,p=u.maxWidth;return g().createElement(r.rb,{sizeType:c,sizeTypeList:a[s],width:null==i?void 0:i.width,height:d,minWidth:f,maxWidth:p,onWidthChange:function(e){l("size",{width:Math.max(f,Math.min(p,Number(e)))})},onSizeTypeChange:function(e){l(n,e);var t=w.Q(e,m);l("size",{height:t.height,width:Math.max(i.width,t.minWidth)})}})}),D=(0,v.memo)(function(e){var t=e.onChange,n=e.getValue,a=A.a().formatMessage,r=n("textVisible");return g().createElement(g().Fragment,null,g().createElement("div",{className:O()(L().formItemWrapper,L().buttonWrapper,"coco-form-item","coco-form-item-vertical")},g().createElement("div",{className:L().labelWrapper},g().createElement("span",null,a({id:"text"})),g().createElement("div",{className:L().actionWrapper,onClick:function(){t("textVisible",!r)}},n("textVisible")?g().createElement("div",{className:L().actionButton}):g().createElement(d.j,{type:"icon-add"}))),r&&g().createElement(g().Fragment,null,g().createElement(i._y,Object.assign({},e,{keyName:"text",formConfig:T.a(T.a({},e.formConfig),{},{emitOnChange:!0})})),g().createElement("div",{className:L().fontWrapper},g().createElement("div",{className:L().fontFamily},g().createElement(c.fy,{keyName:"fontFamily",onChange:t,fontFamily:n("fontFamily")})),g().createElement("div",{className:L().maxFontSize},g().createElement(b.TE,{keyName:"maxFontSize",onChange:t,rules:[{rule:k.v}],formConfig:T.a(T.a({},e.formConfig),{},{label:"fontSize",min:n("allowMinFontSize"),max:n("allowMaxFontSize")}),value:n("maxFontSize")})),g().createElement("div",{className:L().ColorPicker},g().createElement(o.mb,{width:43,keyName:"textColor",onChange:t,color:n("textColor")}))),g().createElement("div",{className:L().alignWrapper},g().createElement(i.gy,{keyName:"textAlign",onChange:t,textAlign:n("textAlign")})))))}),j=(0,v.memo)(function(e){var t=e.onChange,n=e.getValue,a=A.a().formatMessage,r=n("iconVisible");return g().createElement(g().Fragment,null,g().createElement("div",{className:O()(L().formItemWrapper,L().buttonWrapper,"coco-form-item","coco-form-item-vertical")},g().createElement("div",{className:L().labelWrapper},g().createElement("span",null,a({id:"icon"})),g().createElement("div",{className:L().actionWrapper,onClick:function(){t("iconVisible",!r)}},n("iconVisible")?g().createElement("div",{className:L().actionButton}):g().createElement(d.j,{type:"icon-add"}))),r&&g().createElement("div",{className:L().iconWrapper},g().createElement(N,{onChange:t,iconId:n("iconId"),color:n("iconColor")}),g().createElement(o.mb,{width:43,keyName:"iconColor",onChange:t,color:n("iconColor")}))))}),F=function(e){return g().createElement("div",{className:L().backgroundTypeItem,style:e},"Text")},B=[{value:y.b.RECTANGLE_FILL,renderContent:function(e){return F({color:"#FFFFFF",backgroundColor:e,borderRadius:"8px"})}},{value:y.b.RECTANGLE_OUTLINE,renderContent:function(e){return F({color:"#1D1D1F",border:"2px solid ".concat(e),borderRadius:"8px"})}},{value:y.b.CIRCLE_FILL,renderContent:function(e){return F({color:"#FFFFFF",backgroundColor:e,borderRadius:"16px"})}},{value:y.b.CIRCLE_OUTLINE,renderContent:function(e){return F({color:"#1D1D1F",border:"2px solid ".concat(e),borderRadius:"16px"})}}],P=(0,v.memo)(function(e){var t=e.onChange,n=e.getValue,a=A.a().formatMessage,l=n("backgroundColor"),c=n("backgroundMode"),i=(0,p.useSelector)(function(e){return e.project.selectedWidgetId}),f=(0,p.useDispatch)(),v=n("backgroundImage");return g().createElement("div",{className:O()(L().formItemWrapper,L().buttonWrapper,"coco-form-item","coco-form-item-vertical")},g().createElement("div",{className:L().labelWrapper},g().createElement("span",null,a({id:"background"})),g().createElement("div",{className:L().modeActionWrapper},g().createElement("div",{className:O()(L().modeTemplate,c===y.a.TEMPLATE&&L().backgroundSelected),onClick:function(){t("backgroundMode",y.a.TEMPLATE)}},a({id:"template"})),g().createElement("div",{className:O()(L().modeImage,c===y.a.IMAGE&&L().backgroundSelected),onClick:function(){t("backgroundMode",y.a.IMAGE)}},a({id:"image"})))),c===y.a.TEMPLATE&&g().createElement("div",{className:L().backgroundWrapper},g().createElement("div",{className:L().templateMode},g().createElement(o.hb,{modeList:B,value:n("templateMode"),onChange:function(e){t("templateMode",e)},params:[l]},B.map(function(e){return g().createElement(d.p,{key:e.value,value:e.value},e.renderContent(l))}))),g().createElement("div",{className:L().templateColor},g().createElement("span",null,a({id:"templateColor"})),g().createElement(o.mb,{width:43,keyName:"backgroundColor",onChange:t,color:n("backgroundColor")}))),c===y.a.IMAGE&&g().createElement(g().Fragment,null,g().createElement("div",{className:L().backgroundWrapper},g().createElement(r.nb,{onUploadFileChange:function(e){e&&i&&f(u.Zf(e,function(e){f(u.Yf(e[0],i))}))},onResourceLibraryClick:function(){f(u.wj(m.c.ImageLibrary,function(e){var t=e[0];i&&f(u.Yf(t,i)),f(u.sh())}))},fileId:s.hb(v)?v:C.f,style:{height:90,padding:"12px"}})),g().createElement("div",{style:{marginTop:8}},g().createElement(d.s,{className:O()(L().radioWrapper,L().sizeRadioBox),value:n("imageResizeMode"),onChange:function(e){t("imageResizeMode",e)}},g().createElement(d.t,{value:y.c.CONTAIN},g().createElement(d.j,{type:"icon-contain"}),a({id:"".concat(y.c.CONTAIN)})),g().createElement(d.t,{value:y.c.STRETCH},g().createElement(d.j,{type:"icon-stretch"}),a({id:"".concat(y.c.STRETCH)}))))))})},88991(e,t,n){n.d(t,{dO:()=>E});var a=n(33383),r=n(33007),l=n(28413),o=n(13244),c=n(46942),i=n.n(c),m=n(95644),s=n(451),u=n(19040),d=n(41594),f=n.n(d),p=n(38892),v=n.n(p),g=a.p(function(){var e=document.querySelector(".".concat(v().optionsFormItem," ul li:last-child input"));e&&e instanceof HTMLInputElement&&e.focus()},60),E=(0,d.memo)(function(e){var t=e.keyName,n=e.getValue,c=e.onChange,p=n(void 0===t?"options":t),E=m.a().formatMessage,h=(0,d.useRef)({}),N=(0,u.useSelector)(function(e){return e.common.widgetAttributeVisible});(0,d.useEffect)(function(){var e=h.current;e&&N&&Object.entries(e).forEach(function(e){var t=s.a(e,2)[1];t.setRows(Math.min(t.getRowCount(),3))})},[N]);var b=a.p(function(e){c("options",l.a(e))},100);function y(e,t){p[e].content=t.target.value,b(l.a(p))}function C(e,t){e.target.rows=Math.min(t,3)}function I(e,t){t.target.rows=3}return f().createElement(r.i,{align:"vertical",className:i()("changeOptions",v().optionsFormItem,v().formItemWrapper)},f().createElement("div",{className:v().formTitle},f().createElement("p",null,E({id:"radioOptionsContent"})),f().createElement("div",{className:v().count},f().createElement("span",{onClick:function(){p.length>1&&c("options",p.slice(0,-1))},className:i()(o.a({},v().disabled,1===p.length))},f().createElement(r.j,{type:"icon-minus"})),f().createElement("p",null,p.length,E({id:"option"})),f().createElement("span",{onClick:function(){p.length<8&&(c("options",p.concat({content:"",state:"none"})),g())},className:i()(o.a({},v().disabled,8===p.length))},f().createElement(r.j,{type:"icon-add"})))),f().createElement("ul",null,p.map(function(e,t){return f().createElement("li",{key:t},f().createElement("span",null,t+1,"."),f().createElement(r.A,{ref:function(e){return e&&(h.current[t]=e)},defaultValue:e.content,maxLength:200,onFocus:I.bind(null,t),onChange:y.bind(null,t),onBlur:C}))})))})},47962(e,t,n){n.d(t,{_O:()=>b,gO:()=>N,mO:()=>h});var a=n(78747),r=n(7663),l=n(61476),o=n(58677),c=n(53621),i=n(94220),m=n(33007),s=n(46942),u=n.n(s),d=n(95644),f=n(41594),p=n.n(f),v=n(70650),g=n.n(v),E=[{value:c.a.DEFAULT,renderContent:function(){return p().createElement("div",{className:g().defaultRadio},p().createElement("span",null,"Text"))}},{value:c.a.BUTTON,renderContent:function(){return p().createElement("div",{className:g().buttonRadio},p().createElement("span",null,"Text"))}}],h=(0,f.memo)(function(e){var t=e.keyName,n=void 0===t?"mode":t,a=e.onChange,l=(0,e.getValue)(n),o=d.a().formatMessage;return p().createElement(m.i,{className:u()(g().formItemWrapper,g().typeSelector,g().radioTypeSelector,"changeRadioResizeMode"),label:o({id:"style"})},p().createElement(r.lb,{value:l,onChange:function(e){a&&a(n,e)},modeList:E},E.map(function(e){return p().createElement(m.p,{value:e.value,key:e.value},e.renderContent())})))}),N=(0,f.memo)(function(e){var t=e.keyName,n=void 0===t?"sizeType":t,r=e.onChange,l=e.getValue,c=Object.values(i.s),m=l(n),s=l("size"),u=s.height,d=s.width,f=o.g[m],v=f.minWidth,g=f.maxWidth;return p().createElement(a.rb,{sizeType:m,sizeTypeList:c,width:d,height:u,minWidth:v,maxWidth:g,onWidthChange:function(e){r("size",{width:Math.max(v,Math.min(g,Number(e)))})},onSizeTypeChange:function(e){r(n,e)}})}),b=(0,f.memo)(function(e){var t=e.keyName,n=void 0===t?"sizeType":t,r=e.onChange,o=e.getValue,c=Object.values(i.s),m=o(n),s=o("size"),u=s.height,d=s.width,f=l.g[m],v=f.minWidth,g=f.maxWidth;return p().createElement(a.rb,{sizeType:m,sizeTypeList:c,width:d,height:u,minWidth:v,maxWidth:g,onWidthChange:function(e){r("size",{width:Math.max(v,Math.min(g,Number(e)))})},onSizeTypeChange:function(e){r(n,e)}})})},84129(e,t,n){n.d(t,{CO:()=>k,EO:()=>C,OO:()=>I});var a=n(78747),r=n(7663),l=n(61057),o=n(71691),c=n(76224),i=n(44062),m=n(94220),s=n(32919),u=n(33383),d=n(51877),f=n(33007),p=n(46942),v=n.n(p),g=n(95644),E=n(41594),h=n.n(E),N=n(30827),b=n.n(N),y=[{value:c.c.DEFAULT,renderContent:function(){return h().createElement("div",{className:b().default},h().createElement("div",{className:b().handle}))}},{value:c.c.PRIMARY,renderContent:function(){return h().createElement("div",{className:b().primary},h().createElement("div",{className:b().handle}))}}],C=(0,E.memo)(function(e){var t=e.keyName,n=void 0===t?"mode":t,a=e.onChange,l=(0,e.getValue)(n),o=g.a().formatMessage;return h().createElement(f.i,{className:v()(b().formItemWrapper,b().typeSelector,b().switchType,"changeSwitchMode"),label:o({id:"style"})},h().createElement(r.lb,{modeList:y,value:l,onChange:function(e){a&&a(n,e)}},y.map(function(e){return h().createElement(f.p,{value:e.value,key:e.value},e.renderContent())})))}),I=(0,E.memo)(function(e){var t=e.keyName,n=void 0===t?"sizeType":t,r=e.onChange,l=e.getValue,o=Object.values(m.s),c=l(n),i=l("size"),s=i.height,u=i.width;return h().createElement(a.rb,{sizeType:c,sizeTypeList:o,width:u,height:s,onSizeTypeChange:function(e){r(n,e)}})}),w=[{value:c.c.DEFAULT,renderContent:function(e){return h().createElement("div",{className:v()(b().default,"switch-default"),style:{backgroundColor:u.hb(e,.3)}},h().createElement("div",{className:b().handle,style:{backgroundColor:e}}))}},{value:c.c.PRIMARY,renderContent:function(e){return h().createElement("div",{className:v()(b().primary,"switch-primary"),style:{backgroundColor:e}},h().createElement("div",{className:b().handle}))}}],k=(0,E.memo)(function(e){var t=e.onChange,n=e.getValue,a=e.widgetId,r=g.a().formatMessage,m=n("color"),p=n("backgroundMode")||c.a.TEMPLATE,E=n("mode")||c.c.DEFAULT,N=n("backgroundOpenImage")||i.b,y=n("backgroundCloseImage")||i.a,C=N,I=s.hb(N);return!u.U(N)&&I&&(C=(null==I?void 0:I.source)||(null==I?void 0:I.cdnUrl)),h().createElement("div",{className:v()(b().formItemWrapper,b().buttonWrapper,"coco-form-item","coco-form-item-vertical")},h().createElement("div",{className:b().backgroundLabel},h().createElement("span",null,r({id:"background"})),h().createElement("div",{className:b().modeActionWrapper},h().createElement("div",{className:v()(b().modeTemplate,p===c.a.TEMPLATE&&b().backgroundSelected),onClick:function(){t("backgroundMode",c.a.TEMPLATE)}},r({id:"template"})),h().createElement("div",{className:v()(b().modeImage,p===c.a.IMAGE&&b().backgroundSelected),onClick:function(){t("backgroundMode",c.a.IMAGE)}},r({id:"image"})))),p===c.a.TEMPLATE&&h().createElement("div",{className:b().backgroundWrapper},h().createElement("div",{className:b().templateMode},h().createElement(l.hb,{modeList:w,value:E,onChange:function(e){t("mode",e)},params:[m]},w.map(function(e){return h().createElement(f.p,{key:e.value,value:e.value},e.renderContent(m))}))),h().createElement("div",{className:b().templateColor},h().createElement("span",null,r({id:"templateColor"})),h().createElement(l.mb,{width:43,keyName:"color",onChange:t,color:m}))),p===c.a.IMAGE&&h().createElement(h().Fragment,null,h().createElement("div",{className:b().backgroundWrapper},h().createElement("div",{className:b().backgroundImage},h().createElement("img",{src:C,alt:""})),h().createElement("div",{className:b().cover},h().createElement("div",{className:b().editBtn,onClick:function(){o.a(d.Hj({visible:!0,widgetId:a,imageCloseFileId:y,imageOpenFileId:N}))}},r({id:"edit"})))),h().createElement("div",{style:{marginTop:10,marginBottom:3}},h().createElement(f.s,{className:v()(b().radioWrapper,b().sizeRadioBox),value:n("imageResizeMode")||c.b.CONTAIN,onChange:function(e){t("imageResizeMode",e)}},h().createElement(f.t,{value:c.b.CONTAIN},h().createElement(f.j,{type:"icon-contain"}),r({id:"".concat(c.b.CONTAIN)})),h().createElement(f.t,{value:c.b.STRETCH},h().createElement(f.j,{type:"icon-stretch"}),r({id:"".concat(c.b.STRETCH)}))))))})},80676(e,t,n){n.d(t,{NO:()=>k,RO:()=>S,jO:()=>w,kO:()=>T});var a=n(61057),r=n(63858),l=n.n(r),o=n(58968),c=n(69460),i=n(75195),m=n(32919),s=n(33383),u=n(51877),d=n(33007),f=n(46942),p=n.n(f),v=n(95644),g=n(451),E=n(19040),h=n(41594),N=n.n(h),b=n(1265),y=n.n(b),C=[{value:o.d.TEMPLATE,label:"slider.template"},{value:o.d.IMAGE,label:"slider.image"}],I=[{value:o.c.DEFAULT,renderContent:function(e){return N().createElement("div",{className:y().default,style:{background:e}},N().createElement("div",{className:y().handle,style:{borderColor:e}}))}},{value:o.c.PRIMARY,renderContent:function(e){return N().createElement("div",{className:y().primary,style:{background:e}},N().createElement("div",{className:y().handle,style:{color:e,borderColor:e}}))}}],w=(0,h.memo)(function(e){var t=e.keyName,n=void 0===t?"sliderType":t,r=e.onChange,l=e.getValue,i=e.widgetId,f=(0,E.useSelector)(function(e){return e.resource.resourceLibraryUpdateAt}),b=l(n)||o.d.TEMPLATE,w=l("mode"),k=l("color"),S=l("handleImageFileId")||c.c,T=l("handleImageRatio")||1.5,x=l("direction")||o.b.HORIZONTAL,M=l("handleImageDirection")||o.b.HORIZONTAL,O=l("backgroundImageFileId")||c.a,A=l("trackImageFileId")||c.g,R=l("backgroundImageDirection")||o.b.HORIZONTAL,L=l("trackImageDirection")||o.b.HORIZONTAL,_=v.a().formatMessage,W=(0,E.useDispatch)(),V=(0,h.useState)(""),D=g.a(V,2),j=D[0],F=D[1],B=(0,h.useState)(""),P=g.a(B,2),z=P[0],U=P[1],H=(0,h.useState)(""),G=g.a(H,2),K=G[0],Z=G[1],q=(0,h.useState)(""),Y=g.a(q,2),X=Y[0],Q=Y[1],J=(0,h.useState)(""),$=g.a(J,2),ee=$[0],et=$[1];function en(e){e!==b&&r&&r(n,e)}return(0,h.useEffect)(function(){var e;if(s.U(S))e=S;else{var t=m.hb(S);e=(null==t?void 0:t.source)||(null==t?void 0:t.cdnUrl)}Z(e||c.c)},[S,f]),(0,h.useEffect)(function(){var e;if(s.U(O))e=O;else{var t=m.hb(O);e=(null==t?void 0:t.source)||(null==t?void 0:t.cdnUrl)||c.a}Q(e),R===o.b.VERTICAL&&s.gb(e,90).then(function(e){return U(e)}).catch(function(){return U("")})},[R,O,f]),(0,h.useEffect)(function(){var e;if(s.U(A))e=A;else{var t=m.hb(A);e=(null==t?void 0:t.source)||(null==t?void 0:t.cdnUrl)||c.g}et(e),L===o.b.VERTICAL&&s.gb(e,90).then(function(e){return F(e)}).catch(function(){return F("")})},[A,L,f]),N().createElement(d.i,{className:p()(y().formItemWrapper,y().sliderMode,"changeSliderType")},N().createElement("div",{className:"coco-form-item coco-form-item-horizontal"},_({id:"slider.background"}),N().createElement("div",{className:y().sliderType},C.map(function(e){return N().createElement("div",{key:e.value,onClick:en.bind(null,e.value),className:p()(y().typeItem,b===e.value&&y().active)},_({id:e.label}))}))),b===o.d.TEMPLATE&&N().createElement("div",{className:y().templateBox},N().createElement("div",{className:y().templateMode},N().createElement(a.hb,{value:w,modeList:I,onChange:function(e){e!==w&&r&&r("mode",e)},params:[k]},I.map(function(e){return N().createElement(d.p,{key:e.value,value:e.value},e.renderContent(k))}))),N().createElement("div",{className:y().templateColor},N().createElement("span",null,_({id:"templateColor"})),N().createElement(a.mb,{width:42,keyName:"color",onChange:r,color:k}))),b===o.d.IMAGE&&N().createElement("div",{className:y().imageBox},N().createElement("div",{className:y().backgroundImage,style:{width:254,height:20,backgroundImage:"url(".concat(R===o.b.HORIZONTAL?X:z,")")}},N().createElement("div",{className:y().trackImageBox,style:{width:127}},N().createElement("div",{className:y().trackImage,style:{width:254,backgroundImage:"url(".concat(L===o.b.HORIZONTAL?ee:j,")")}}))),N().createElement("div",{className:p()(y().handleImage,M===o.b.VERTICAL&&y().rotate),style:{width:20*T,height:20*T,backgroundImage:"url(".concat(K,")")}}),N().createElement("div",{className:y().cover},N().createElement("div",{className:y().editBtn,onClick:function(){W(u.Gj({visible:!0,widgetId:i,direction:x,handleImageFileId:m.hb(S)?S:c.c,handleImageRatio:T,handleImageDirection:M,backgroundImageFileId:m.hb(O)?O:c.a,backgroundImageDirection:R,trackImageFileId:m.hb(A)?A:c.g,trackImageDirection:L}))}},_({id:"edit"})))))}),k=(0,h.memo)(function(e){var t=e.onChange,n=e.getValue,a=n("maxValue"),r=n("minValue"),l=n("step"),o=n("value"),c=v.a().formatMessage;function m(e){t("minValue",Number(e))}function s(e){t("maxValue",Number(e))}function u(e){t("step",Number(e))}function f(e){t("value",Number(e))}return N().createElement(d.i,{className:p()(y().formItemWrapper,y().sliderRangeFormItem,y().typeSelector,"changeSliderMode"),align:"vertical",label:c({id:"numberValue"})},N().createElement("div",{className:p()(y().firstRow,y().row)},N().createElement(d.o,{label:c({id:"minValue"}),type:"number",defaultValue:r,max:o,min:i.r,onBlur:m,onStep:m,rules:[{rule:i.w(9)}]}),N().createElement("div",{className:y().space}),N().createElement(d.o,{label:c({id:"maxValue"}),type:"number",defaultValue:a,min:o,max:i.n,onBlur:s,onStep:s,rules:o>=0?[{rule:i.v},{rule:i.w(9)}]:[{rule:i.w(9)}]})),N().createElement("div",{className:y().row},N().createElement(d.o,{label:c({id:"gap"}),type:"number",defaultValue:l,min:1,max:Math.max(a-r,1),onBlur:u,onStep:u,rules:[{rule:i.v},{rule:i.w(9)}]}),N().createElement("div",{className:y().space}),N().createElement(d.o,{label:c({id:"initialValue"}),type:"number",defaultValue:o,onBlur:f,onStep:f,min:r,max:a,rules:r>=0?[{rule:i.v},{rule:i.w(9)}]:[{rule:i.w(9)}]})))}),S=(0,h.memo)(function(e){var t=e.keyName,n=void 0===t?"direction":t,a=e.onChange,r=e.getValue,l=r(n)||o.b.HORIZONTAL,c=r("size"),i=v.a().formatMessage;return N().createElement(d.i,{align:"vertical",className:p()(y().formItemWrapper,y().sliderDirection,"changeSliderDirection"),label:i({id:"direction"})},N().createElement(d.s,{className:p()(y().radioWrapper,y().sizeRadioBox),value:l,onChange:function(e){if(e!==l){if(a&&a(n,e),e===o.b.HORIZONTAL){var t={width:c.height,height:c.width};a&&a("size",t)}if(e===o.b.VERTICAL){var r={width:c.height,height:c.width};a&&a("size",r)}}}},N().createElement(d.t,{value:o.b.HORIZONTAL,key:o.b.HORIZONTAL},N().createElement(d.j,{type:l===o.b.HORIZONTAL?"icon-horizontal-active":"icon-horizontal",className:y().alignIcon}),N().createElement("span",null,i({id:"horizontal"}))),N().createElement(d.t,{value:o.b.VERTICAL,key:o.b.VERTICAL},N().createElement(d.j,{type:l===o.b.VERTICAL?"icon-vertical-active":"icon-vertical",className:y().alignIcon}),N().createElement("span",null,i({id:"vertical"})))))}),T=(0,h.memo)(function(e){var t=e.keyName,n=void 0===t?"fontSize":t,a=e.getValue,r=e.onChange,o=e.formConfig,c=o.multiple,i=void 0===c?1:c,m=o.label,u=o.min,f=o.max,g=v.a().formatMessage,E=a(n);E=Math.ceil(E*i);var h=function(e){return s.p(function(e){var t=parseInt(e);r(n,t/=i)},e)};return N().createElement(d.i,{className:p()(l().formItemWrapper,"changeFontSize"),label:g({id:m||"fontSize"})},N().createElement(d.n,{className:"coco-number-inputRow",style:{width:80},type:"number",min:u,max:f,defaultValue:E,onChange:h(200),onStep:h(0)}))})},43075(e,t,n){n.d(t,{BO:()=>k,LO:()=>I,MO:()=>C});var a=n(86585),r=n(63858),l=n.n(r),o=n(80911),c=n(94032),i=n(22224),m=n(75195),s=n(94220),u=n(33007),d=n(28950),f=n(13244),p=n(46942),v=n.n(p),g=n(95644),E=n(451),h=n(41594),N=n.n(h),b=n(34677),y=n.n(b),C=(0,h.memo)(function(e){var t=e.keyName,n=void 0===t?"rotation":t,a=e.getValue,r=e.onChange,o=e.formConfig.label,c=g.a().formatMessage,i=a(n),m=180*i/Math.PI%360;m>180&&(m-=360),m<=-180&&(m+=360),m=Math.round(m);var s=(0,h.useState)(!0),d=E.a(s,2),f=d[0],p=d[1];return N().createElement(u.i,{className:v()(l().formItemWrapper),label:c({id:o})},N().createElement(u.k,{className:y().inputRow,type:"number",defaultValue:m,style:{width:60},after:f&&N().createElement("span",{className:y().mask},N().createElement("span",{className:y().text},m),N().createElement("span",{className:y().symbol},"\xb0")),onBlur:function(e,t){var a=Number(e);r(n,(a%=360)/180*Math.PI),p(!0)},onFocus:function(){p(!1)},dependency:i}))}),I=(0,h.memo)(function(e){var t=e.keyName,n=void 0===t?"flipped":t,r=e.getValue,o=e.onChange,i=e.formConfig.label,m=g.a().formatMessage,p=r(n)||{},v=function(e){o(n,d.a(d.a({},p),{},f.a({},e,!p[e])));var t=r("id"),a=r("parentId"),l=r("type");t&&a&&l===s.a&&setTimeout(function(){var e=c.b(a),n=(null==e?void 0:e.actors.get_actor(t))||{},r=n.is_error,l=n.value;if(r&&l&&!r(l)){var i=l.get_position(),m=l.get_center_position(),s={x:Math.round(m.x-i.x),y:Math.round(m.y-i.y)};o("pivotToCenter",d.a({},s))}},60)};return N().createElement(u.i,{align:"vertical",className:"".concat(l().formItemWrapper," ").concat(l().formInputNumberRow)},N().createElement("p",{className:"coco-form-item-label"},m({id:void 0===i?"flip":i})),N().createElement("div",{className:l().formInputNumberRow},N().createElement(u.i,null,N().createElement(a.Zv,{hasIcon:!0,className:p.horizontal?l().selected:"",onClick:v.bind(void 0,"horizontal")},N().createElement("span",{className:l().btnIcon},N().createElement(u.j,{type:"icon-actor-horizontal"})),m({id:"horizontal"}))),N().createElement(u.i,null,N().createElement(a.Zv,{hasIcon:!0,className:p.vertical?l().selected:"",onClick:v.bind(void 0,"vertical")},N().createElement("span",{className:l().btnIcon},N().createElement(u.j,{type:"icon-actor-vertical"})),m({id:"vertical"})))))}),w=[[o.e,o.c],[o.e,o.c]],k=(0,h.memo)(function(e){var t=e.keyName,n=void 0===t?"scaleAndLock":t,a=e.getValue,r=e.onChange,p=e.formConfig,E=p.scaleRange,b=void 0===E?w:E,C=p.label,I=p.multiple,k=void 0===I?100:I,S={x:1,y:1,ratio:1},T=a("scale"),x=a(n)||(void 0!==T?{x:T,y:T,ratio:!1}:S),M=x.x,O=x.y,A=x.ratio||!1,R=g.a().formatMessage,L=(0,h.useRef)({}),_=(0,h.useCallback)(function(){var e=L.current;if(e&&(void 0!==e.x||void 0!==e.y)){r(n,e),L.current={};var t=a("id"),l=a("parentId"),o=a("type");t&&l&&"scaleAndLock"===n&&o===s.a&&setTimeout(function(){var e=c.b(l),n=(null==e?void 0:e.actors.get_actor(t))||{},a=n.is_error,o=n.value;if(a&&o&&!a(o)){var i=o.get_position(),m=o.get_center_position(),s={x:m.x-i.x,y:m.y-i.y};r("pivotToCenter",d.a({},s))}},60)}},[a,r,n]),W=(0,h.useMemo)(function(){return i.debounce(_,50)},[_]),V=(0,h.useCallback)(function(e,t,n){var a=f.a({},t,parseInt(n||"1")/k);A&&("x"===t&&(a.y=a.x/A,a.y>o.c&&(a.y=o.c,a.x=a.y*A),a.y<o.e&&(a.y=o.e,a.x=a.y*A)),"y"===t&&(a.x=a.y*A,a.x>o.c&&(a.x=o.c,a.y=a.x/A),a.x<o.e&&(a.x=o.e,a.y=a.x/A)));var r=L.current;L.current=d.a(d.a(d.a({},x),r),a),e()},[k,A,x]),D=(0,h.useMemo)(function(){return V.bind(void 0,W,"x")},[V,W]),j=(0,h.useMemo)(function(){return V.bind(void 0,W,"y")},[V,W]);return(0,h.useEffect)(function(){void 0===a(n)&&r(n,S)},[]),N().createElement(u.i,{align:"vertical",className:"".concat(l().formItemWrapper," ").concat(l().formInputNumberRow)},N().createElement("p",{className:"coco-form-item-label"},R({id:void 0===C?"actorScale":C})),N().createElement("div",{className:l().formInputNumberRow},N().createElement(u.i,{className:v()("changeWidth",y().formItem)},N().createElement(u.o,{label:R({id:"width"}),defaultValue:Math.round(M*k),type:"number",min:b[0][0]*k,max:b[0][1]*k,rules:[{rule:m.w(9)},{rule:m.v}],className:"".concat(l().justifyInputContent," coco-number-inputRow"),onChange:D,onStep:V.bind(void 0,_,"x")}),N().createElement("span",{className:y().placeholder},Math.round(M*k),"%")),N().createElement("div",{className:y().lockWrapper,onClick:function(){r(n,d.a(d.a({},x),{},{ratio:!A&&x.x/x.y}))}},N().createElement(u.j,{type:!1===A?"icon-unlocked":"icon-locked"})),N().createElement(u.i,{className:v()("changeHeight",y().formItem)},N().createElement(u.o,{label:R({id:"height"}),defaultValue:Math.round(O*k),type:"number",min:b[1][0]*k,max:b[1][1]*k,rules:[{rule:m.w(9)},{rule:m.v}],className:"".concat(l().justifyInputContent," coco-number-inputRow"),onChange:j,onStep:V.bind(void 0,_,"y")}),N().createElement("span",{className:y().placeholder},Math.round(O*k),"%"))))})},90787(e,t,n){n.d(t,{ft:()=>u,lt:()=>i});var a=n(19040),r=n(41594),l=n.n(r);n(59994);var o=n(50862),c=n(49736),i=function(e,t){var n={};return e.forEach(function(e){n[e.path.id]?(t[e.userId]=c.a,t[n[e.path.id]]=c.a):n[e.path.id]=e.userId}),t};function m(e){return"focusBlocklyFilter-".concat(e)}function s(e){var t=e.userId,n=e.color;return l().createElement("svg",null,l().createElement("filter",{id:m(t),height:"180%",width:"160%",y:"-40%",x:"-30%"},l().createElement("feGaussianBlur",{stdDeviation:"1"}),l().createElement("feComponentTransfer",{result:"outBlur"},l().createElement("feFuncA",{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"})),l().createElement("feFlood",{floodColor:n,floodOpacity:"1",result:"outColor"}),l().createElement("feComposite",{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"}),l().createElement("feGaussianBlur",{in:"SourceAlpha",stdDeviation:"6"}),l().createElement("feOffset",{dx:"0",dy:"2"}),l().createElement("feComponentTransfer",{result:"outShadow"},l().createElement("feFuncA",{type:"linear",slope:"0.4"})),l().createElement("feMerge",null,l().createElement("feMergeNode",{in:"outGlow"}),l().createElement("feMergeNode",{in:"SourceGraphic"}))))}var u=l().memo(function(e){var t=e.list,n=(0,a.useSelector)(function(e){return e.oTState.onlineCooperationUserColorRecord});if((0,r.useEffect)(function(){t&&(document.querySelectorAll(".".concat("focusSvgClassName")).forEach(function(e){return e.style.removeProperty("filter")}),t.length>0&&t.forEach(function(e){var t=o.z.getBlockById(e.path.id),n=(null==t?void 0:t.get_top_parent())||t,a=null==n?void 0:n.get_svg_root();a&&(a.style.filter="url(#".concat(m(e.userId),")"),a.classList.add("focusSvgClassName"),a.dataset.focusId=e.path.id)}))},[n,t]),!t)return l().createElement(l().Fragment,null);var c=i(t,n.toJSON());return l().createElement("svg",{width:0,height:0},t.filter(function(e){return"block"===e.path.type}).map(function(e){return l().createElement(s,{userId:e.userId,key:e.userId,color:c[e.userId]})}))})},92759(e,t,n){n.d(t,{WO:()=>N});var a=n(34677),r=n.n(a),l=n(63858),o=n.n(l),c=n(80911),i=n(32919),m=n(51877),s=n(33007),u=n(46942),d=n.n(u),f=n(95644),p=n(19040),v=n(41594),g=n.n(v),E=n(82407),h=n.n(E),N=(0,v.memo)(function(e){var t=e.formConfig,n=e.widgetId,a=e.getValue,l=f.a().formatMessage,u=(0,p.useDispatch)(),v=a("selectedStyleId"),E=a("actionList"),N=c.j(E,v),b=l({id:t.label||"styleAction"});return g().createElement(s.i,{className:d()(o().formItemWrapper,r().form),label:b,align:"vertical"},g().createElement("div",{className:r().imageBox},g().createElement("img",{alt:"actor style",src:i.mb(N.source)||N.source||h()}),g().createElement("div",{className:r().edit},g().createElement("div",{className:r().btn,onClick:function(){u(m.Dh(n))}},l({id:"edit"})))))})},81480(e,t,n){n.d(t,{KO:()=>I,XO:()=>k,qO:()=>w});var a,r=n(4327),l=n(41804),o=n(32919),c=n(33383),i=n(52301),m=n(51877),s=n(33007),u=n(46942),d=n.n(u),f=n(95644),p=n(451),v=n(19040),g=n(41594),E=n.n(g),h=n(18578),N=n(71750),b=n.n(N),y=h.a.AudioPlayer,C="",I=(0,g.memo)(function(e){var t=e.keyName,n=void 0===t?"fileId":t,u=e.getValue,h=e.onChange,N=f.a().formatMessage,I=(0,v.useSelector)(function(e){return e.project.selectedWidgetId}),w=(0,v.useDispatch)(),k=(0,g.useState)(!1),S=p.a(k,2),T=S[0],x=S[1],M=(0,g.useState)(!1),O=p.a(M,2),A=O[0],R=O[1],L=(0,g.useState)(void 0),_=p.a(L,2),W=_[0],V=_[1],D=(0,g.useState)(!1),j=p.a(D,2),F=j[0],B=j[1],P=u(n);function z(e){e&&I&&w(m.wf(e,function(e){w(m.ag(e[0],I)),a&&a.stop(),x(!1)}))}function U(){w(m.wj(l.c.SoundLibrary,function(e){h(n,e[0].id),w(m.sh()),a&&a.stop(),x(!1)}))}(0,g.useEffect)(function(){return function(){a&&a.stop(),a&&a.off("play"),a&&a.off("end"),a&&a.off("loaderror")}},[]),(0,g.useEffect)(function(){a&&a.stop(),x(!1),V(o.wb(P)),P!==C&&(a=null),C=P},[P]);var H=function(e){B(e)},G=function(){B(!1)},K=function(){return E().createElement(i.a,{content:E().createElement("div",{className:b().soundPopover,onClick:G},E().createElement(s.B,{className:b().content,onChange:z,accept:r.h},E().createElement(s.j,{type:"icon-upload"}),E().createElement("span",null,N({id:"Resource.upload"}))),E().createElement("div",{className:b().content,onClick:U},E().createElement(s.j,{type:"icon-open-resource-library"}),E().createElement("span",null,N({id:"Resource.SoundLibrary"})))),placement:"bottomLeft",trigger:"click",visible:F,onVisibleChange:H},E().createElement("div",{className:b().soundBtn},N({id:"Resource.Replace"})))};return E().createElement(s.i,{className:d()(b().formItemWrapper,b().changeSoundFile)},E().createElement("div",{className:b().title},N({id:"AudioWidget.source"})),E().createElement("div",{className:b().soundBox},E().createElement("div",{tabIndex:-1,className:d()(b().soundInfo,(null==W?void 0:W.id)&&b().soundBgGround),onMouseEnter:function(){R(!0)},onBlur:function(){R(!1)},onMouseLeave:function(){F||(R(!1),B(!1))}},(null==W?void 0:W.id)?E().createElement(E().Fragment,null,E().createElement(E().Fragment,null,E().createElement(s.j,{type:"icon-sound",className:b().iconSound}),E().createElement("div",{className:b().soundName},null==W?void 0:W.name),E().createElement("div",{className:b().soundDuration},c.w(null==W?void 0:W.duration))),E().createElement("div",{className:d()(b().playCover,(A||T)&&b().visible)},E().createElement("div",{className:b().soundDelate,onClick:function(){a&&a.stop(),x(!1),h(n,"")}},E().createElement(s.j,{type:"icon-delete"})),E().createElement("div",{className:b().soundPlayBox,onClick:function(e){if(e.stopPropagation(),W){if(T)return a&&a.stop(),void x(!1);a||(a=y.load(W.id,W.cdnUrl||W.source||"",!0)),a.play(),a.on("play",function(){return x(!0)}),a.on("end",function(){return x(!1)}),a.on("loaderror",function(){x(!1),a=null})}}},T?E().createElement("div",{className:b().soundPauseIconBox},E().createElement(s.j,{type:"icon-sound-pause",className:b().soundDefaultIcon}),E().createElement("div",{className:d()(b().progressWrapper,b().rightWrapper)},E().createElement("div",{className:d()(b().circleProgress,b().rightCircle),style:{animationDuration:"".concat(null==W?void 0:W.duration,"s")}})),E().createElement("div",{className:d()(b().progressWrapper,b().leftWrapper)},E().createElement("div",{className:d()(b().circleProgress,b().leftCircle),style:{animationDuration:"".concat(null==W?void 0:W.duration,"s")}}))):E().createElement("div",{className:b().soundIconBox},E().createElement("div",{className:b().soundPlayIconBox},E().createElement(s.j,{type:"icon-sound-play",className:b().soundPlayIcon})))),E().createElement("div",{className:b().soundName},null==W?void 0:W.name),K())):E().createElement(E().Fragment,null,E().createElement(s.j,{type:"icon-sound",className:b().iconDefaultSound}),E().createElement("div",{className:d()(b().cover,A&&b().visible)},K())))))}),w=(0,g.memo)(function(e){var t=e.keyName,n=void 0===t?"audioVolume":t,a=e.onChange,l=(0,e.getValue)(n),o=f.a().formatMessage;return E().createElement("div",{className:d()(b().formItemWrapper,"changeAudioVolume")},E().createElement("div",{className:"coco-form-item-label"},o({id:"AudioWidget.volume"})),E().createElement(s.x,{className:b().volumeSlider,value:l,min:r.g,max:r.f,onChange:function(e){a&&a(n,e)},isShowRightInput:!0}))}),k=(0,g.memo)(function(e){var t=e.keyName,n=void 0===t?"audioRate":t,a=e.onChange,l=(0,e.getValue)(n),o=f.a().formatMessage;return E().createElement("div",{className:d()(b().formItemWrapper,"changeAudioVolume")},E().createElement("div",{className:"coco-form-item-label"},o({id:"AudioWidget.rate"})),E().createElement(s.x,{className:b().volumeSlider,value:l,min:r.e,max:r.d,onChange:function(e){a&&a(n,e)},isShowRightInput:!0}))})},62873(e,t,n){n.d(t,{JO:()=>v});var a=n(94220),r=n(32919),l=n(51877),o=n(28413),c=n(46942),i=n.n(c),m=n(95644),s=n(19040),u=n(41594),d=n.n(u),f=n(4043),p=n.n(f),v=(0,u.memo)(function(e){var t=e.keyName,n=e.getValue,c=e.widgetId,u=n(void 0===t?"fields":t),f=(0,s.useDispatch)(),v=m.a().formatMessage,g=r.Bb(c);return g?d().createElement("div",{className:i()(p().formItemWrapper,p().storageFields)},d().createElement("div",{className:p().title},d().createElement("div",null,v({id:"initialData"})),d().createElement("span",{className:p().fieldsLength},"键值对:",u.length)),d().createElement("div",{className:p().imageBox},d().createElement("img",{className:p().image,src:"https://static.bcmcdn.com/coco/image/edit_localstorage_data_image.png",alt:"微数据库"}),d().createElement("div",{className:p().edit},d().createElement("div",{className:p().btn,onClick:function(){g.type===a.y?g&&f(l.yj({title:"微数据库",widget:g,dbName:g.title,maxKeyLength:2e3,data:u,onSave:function(e){e.forEach(function(e){(e.key||e.value)&&(e.value="number"===e.type?Number(e.value):e.value)}),f(l.Fg(c,o.a(e)))}})):g.type===a.l?g&&g.type===a.l&&f(l.yj({title:"云微数据库",dbName:g.title,widget:g,maxKeyLength:2e3,data:u,onSave:function(e){f(l.Cg(c,o.a(e)))}})):g.type===a.B&&g&&f(l.yj({title:"微数据库",dbName:g.title,widget:g,maxKeyLength:2e3,data:u,onSave:function(e){e.forEach(function(e){(e.key||e.value)&&(e.value="number"===e.type?Number(e.value):e.value)}),f(l.Fg(c,o.a(e)))}}))}},v({id:"edit"}))))):d().createElement(d().Fragment,null)})},60402(e,t,n){n.d(t,{tw:()=>u});var a=n(33007),r=n(46942),l=n.n(r),o=n(95644),c=n(41594),i=n.n(c),m=n(88490),s=n.n(m),u=(0,c.memo)(function(e){var t=e.keyName,n=void 0===t?"body":t,r=e.getValue,c=e.onChange,m=r(n),u=o.a().formatMessage;return i().createElement("div",{className:l()(s().formItemWrapper,s().httpBody)},i().createElement("div",{className:s().title},i().createElement("div",null,u({id:"HttpClientWidget.body"}))),i().createElement(a.A,{onBlur:function(e,t){c(n,e.target.value)},rows:4,defaultValue:m}))})},66323(e,t,n){n.d(t,{iw:()=>v,ow:()=>p});var a=n(88490),r=n.n(a),l=n(33007),o=n(46942),c=n.n(o),i=n(95644),m=n(451),s=n(41594),u=n.n(s),d=n(56063),f=n(16749),p=(0,s.memo)(function(e){var t=e.keyName,n=void 0===t?"header":t,a=e.getValue,o=e.onChange,p=a(n),v=i.a().formatMessage,g=(0,s.useRef)(-1),E=(0,s.useState)([]),h=m.a(E,2),N=h[0],b=h[1],y=(0,s.useState)(-1),C=m.a(y,2),I=C[0],w=C[1],k=(0,s.useState)(0),S=m.a(k,2),T=S[0],x=S[1];function M(e){var t=e.target;t instanceof HTMLInputElement&&t.select()}function O(e,t){g.current=2*e+t}function A(e,t){N[e].key=t,o(n,N)}function R(e,t){N[e].value=t,o(n,N)}function L(e){N.splice(e,1),o(n,N)}return(0,s.useEffect)(function(){b(p||[])},[p]),(0,s.useEffect)(function(){var e=2*I,t=document.querySelector(".".concat("HTTP_HEADER_KEY_VALUE_INPUT_SERIAL_"+e," input"));t instanceof HTMLInputElement&&(g.current=e,f.a(t,!1))},[I]),u().createElement("div",{className:c()(r().formItemWrapper,r().httpHeader)},u().createElement("div",{className:r().title},u().createElement("div",null,v({id:"HttpClientWidget.header"}))),u().createElement("div",{className:r().list},u().createElement("div",{className:r().listHeader},u().createElement("div",{className:r().column1},v({id:"key"})),u().createElement("div",{className:r().column2},v({id:"value"})),u().createElement("div",{className:r().column3})),u().createElement("div",{className:r().itemWrapper,onKeyDown:function(e){var t=e.target,n=g.current;if(t instanceof HTMLInputElement&&n>-1&&t.selectionEnd===t.selectionStart){var a=e.keyCode,r=n,l=!0;if(38===a?r-=2:40===a?r+=2:37===a&&0===t.selectionStart?(r-=1,l=!1):39===a&&t.selectionEnd===t.value.length&&(r+=1),n!==r){var o=document.querySelector(".".concat("HTTP_HEADER_KEY_VALUE_INPUT_SERIAL_"+r," input"));o&&o instanceof HTMLInputElement&&(g.current=r,f.a(o,l))}}}},p&&p.length>0&&u().createElement(d.a,{width:"auto",height:44*(p.length>5?5:p.length),itemCount:p.length,renderItem:function(e){var t=e.index,n=e.style;return u().createElement("div",{className:r().listItem,key:t,style:n},u().createElement("div",{className:r().column1},u().createElement(l.k,{type:"text",isTrimmed:!0,className:c()(r().listInput,"HTTP_HEADER_KEY_VALUE_INPUT_SERIAL_"+2*t),maxLength:100,onClick:M,defaultValue:p[t].key,onFocus:O.bind(null,t,0),onBlur:A.bind(null,t),dependency:p[t].key})),u().createElement("div",{className:r().column2},u().createElement(l.k,{type:"text",className:c()(r().listInput,"HTTP_HEADER_KEY_VALUE_INPUT_SERIAL_"+(2*t+1)),maxLength:3e3,isTrimmed:!0,onClick:M,defaultValue:p[t].value,onFocus:O.bind(null,t,1),onBlur:R.bind(null,t),dependency:p[t].value})),u().createElement("div",{className:c()(r().inputClose,r().column3),onClick:L.bind(null,t)},u().createElement(l.j,{type:"icon-close"})))},scrollToIndex:T,itemSize:44,className:"VirtualList"}))),u().createElement("div",{className:r().addBtnBox},u().createElement(l.d,{className:r().addBtn,onClick:function(){N.push({key:"",value:""}),o(n,N),w(N.length-1),x(N.length-1)}},u().createElement(l.j,{type:"icon-add"}))))}),v=(0,s.memo)(function(e){var t=e.keyName,n=void 0===t?"params":t,a=e.getValue,o=e.onChange,p=a(n),v=i.a().formatMessage,g=(0,s.useRef)(-1),E=(0,s.useState)([]),h=m.a(E,2),N=h[0],b=h[1],y=(0,s.useState)(-1),C=m.a(y,2),I=C[0],w=C[1],k=(0,s.useState)(0),S=m.a(k,2),T=S[0],x=S[1];function M(e){var t=e.target;t instanceof HTMLInputElement&&t.select()}function O(e,t){g.current=2*e+t}function A(e,t){N[e].key=t,o(n,N)}function R(e,t){N[e].value=t,o(n,N)}function L(e){N.splice(e,1),o(n,N)}return(0,s.useEffect)(function(){b(p||[])},[p]),(0,s.useEffect)(function(){var e=2*I,t=document.querySelector(".".concat("HTTP_PARAM_KEY_VALUE_INPUT_SERIAL_"+e," input"));t instanceof HTMLInputElement&&(g.current=e,f.a(t,!1))},[I]),u().createElement("div",{className:c()(r().formItemWrapper,r().httpParams)},u().createElement("div",{className:r().title},u().createElement("div",null,v({id:"HttpClientWidget.params"}))),u().createElement("div",{className:r().list},u().createElement("div",{className:r().listHeader},u().createElement("div",{className:r().column1},v({id:"key"})),u().createElement("div",{className:r().column2},v({id:"value"})),u().createElement("div",{className:r().column3})),u().createElement("div",{className:r().itemWrapper,onKeyDown:function(e){var t=e.target,n=g.current;if(t instanceof HTMLInputElement&&n>-1&&t.selectionEnd===t.selectionStart){var a=e.keyCode,r=n,l=!0;if(38===a?r-=2:40===a?r+=2:37===a&&0===t.selectionStart?(r-=1,l=!1):39===a&&t.selectionEnd===t.value.length&&(r+=1),n!==r){var o=document.querySelector(".".concat("HTTP_PARAM_KEY_VALUE_INPUT_SERIAL_"+r," input"));o&&o instanceof HTMLInputElement&&(g.current=r,f.a(o,l))}}}},p&&p.length>0&&u().createElement(d.a,{width:"auto",height:44*(p.length>5?5:p.length),itemCount:p.length,renderItem:function(e){var t=e.index,n=e.style;return u().createElement("div",{className:r().listItem,key:t,style:n},u().createElement("div",{className:r().column1},u().createElement(l.k,{type:"text",isTrimmed:!0,className:c()(r().listInput,"HTTP_PARAM_KEY_VALUE_INPUT_SERIAL_"+2*t),maxLength:100,onClick:M,defaultValue:p[t].key,onFocus:O.bind(null,t,0),onBlur:A.bind(null,t),dependency:p[t].key})),u().createElement("div",{className:r().column2},u().createElement(l.k,{type:"text",className:c()(r().listInput,"HTTP_PARAM_KEY_VALUE_INPUT_SERIAL_"+(2*t+1)),maxLength:3e3,isTrimmed:!0,onClick:M,defaultValue:p[t].value,onFocus:O.bind(null,t,1),onBlur:R.bind(null,t),dependency:p[t].value})),u().createElement("div",{className:c()(r().inputClose,r().column3),onClick:L.bind(null,t)},u().createElement(l.j,{type:"icon-close"})))},scrollToIndex:T,itemSize:44,className:"VirtualList"}))),u().createElement("div",{className:r().addBtnBox},u().createElement(l.d,{className:r().addBtn,onClick:function(){N.push({key:"",value:""}),o(n,N),w(N.length-1),x(N.length-1)}},u().createElement(l.j,{type:"icon-add"}))))})},21076(e,t,n){n.d(t,{lw:()=>O,pw:()=>L});var a=n(98852),r=n(11293),l=n(8517),o=n(94220),c=n(50862),i=n(33383),m=n(52301),s=n(58797),u=n(51877),d=n(73615),f=n(33007),p=n(28950),v=n(28413),g=n(46942),E=n.n(g),h=n(95644),N=n(22827),b=n(451),y=n(34221),C=n(7452),I=n.n(C),w=n(19040),k=n(41594),S=n.n(k),T=n(8021),x=n.n(T),M=r.py.Option,O=(0,k.memo)(function(e){var t=e.keyName,n=void 0===t?"dataSource":t,i=e.onChange,d=e.getValue,g=d(n),N=d("templateSlotMap"),C=(0,w.useDispatch)(),T=h.a().formatMessage,O=(0,k.useRef)(null),A=(0,k.useState)(!1),R=b.a(A,2),L=R[0],_=R[1],W=(0,k.useState)([]),V=b.a(W,2),D=V[0],j=V[1],F=(0,w.useSelector)(function(e){return e.project.globalWidgetIds});function B(){var e=[];return F.forEach(function(t){var n=l.g.get(t);(null==n?void 0:n.type)===o.m&&e.push(n)}),e}function P(){for(var e in N)N[e].dataBindings="";i&&i("templateSlotMap",N)}function z(t,a){var r;a.newName&&c.m(c.c.DATA_SOURCE,t,a.newName),(null==(r=a.deleteColumnIdList)?void 0:r.length)&&C(u.rg(g,a.deleteColumnIdList)),a.isCreateNewGrid&&(i&&i(n,t),P()),C(u.ug(e.widgetId))}function U(){return(U=y.a(I().mark(function e(t){var n,r,l,c,i;return I().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&t.length>0)){e.next=19;break}if(n=t[0],s.l(n)){e.next=6;break}return C(u.mj({message:T({id:"maximumGridSourceSize"})})),e.abrupt("return");case 6:return r=(0,a.Sg)(T),l=B().map(function(e){return e.title}),e.next=10,s.h(n,n.name,r,l);case 10:if(c=e.sent){e.next=14;break}return console.error("file import failed"),e.abrupt("return");case 14:return e.next=16,u.Nf(C,u.hg("",o.m,{x:0,y:0},{name:c.name,header:c.header,data:c.data}));case 16:i=e.sent,C(u.mj({message:T({id:"uploadGridSuccess"})})),C(u.sj({grid:p.a({id:i.id,name:i.title},i.attributes.db),isCreateNewGrid:!0,onClose:z}));case 19:case"end":return e.stop()}},e)}))).apply(this,arguments)}function H(e,t){N[e].dataBindings=t||"",i&&i("templateSlotMap",N)}return(0,k.useEffect)(function(){var e=l.g.get(g);if((null==e?void 0:e.type)===o.m){var t=e.attributes.db;if(g&&e){var n=[];for(var a in t.header)n.push([a,t.header[a].field]);j(n)}else j([])}},[g,F]),S().createElement("div",null,S().createElement("div",{className:E()(x().formItemWrapper,x().dataSource)},S().createElement("div",{className:"coco-form-item coco-form-item-horizontal"},S().createElement("div",{className:x().label},T({id:"ListViewerWidget.dataSource"})),S().createElement(r.py,{ref:O,allowClear:!0,onChange:function(e){g!==e&&P(),i&&i(n,e||"")},value:g||void 0,placeholder:T({id:"ListViewerWidget.dataSourcePlaceholder"}),optionLabelProp:"label",listHeight:160,style:{width:"100%",maxWidth:"170px"},suffixIcon:S().createElement(f.j,{type:"icon-dropdown-down"})},B().map(function(e){return S().createElement(M,{value:e.id,key:e.id,label:e.title},S().createElement("div",{className:x().dataSourceOptions},e.title),S().createElement("span",{onClick:function(t){var n,a,r;return n=e.id,t.stopPropagation(),void((r=l.g.get(n))&&r.type===o.m&&(C(u.ug(r.id)),C(u.sj({grid:p.a({id:r.id,name:r.title},r.attributes.db),onClose:z}))),null!=(a=O.current)&&a.blur())}},S().createElement(f.j,{type:"icon-edit"})))})),S().createElement(m.a,{placement:"right",onVisibleChange:function(e){_(e)},visible:L,content:S().createElement("div",{className:x().addGridOverlay},S().createElement(f.l,{onClick:function(e){if("CREATE_NEW_DATA_SOURCE"===e){var t;C(u.nj({title:T({id:"addGridName"}),placeholder:T({id:"addGridNamePlaceholder"}),onConfirm:(t=y.a(I().mark(function e(t){var n;return I().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Nf(C,u.hg("",o.m,{x:0,y:0},{name:t}));case 2:n=e.sent,C(u.sj({grid:p.a({id:n.id,name:n.title},n.attributes.db),isCreateNewGrid:!0,onClose:z}));case 4:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),validators:[{validator:function(e){return!B().some(function(t){return t.title===e})},message:T({id:"gridNameRepeat"})}].concat(v.a((0,a.Sg)(T)))}))}_(!1)}},S().createElement(f.m,{value:"CREATE_NEW_DATA_SOURCE"},S().createElement("div",{className:x().itemContent},T({id:"addGridName"}))),S().createElement(f.m,{value:"IMPORT_DATA_SOURCE"},S().createElement(f.B,{onChange:function(e){return U.apply(this,arguments)},accept:".xlsx, .xls, .csv",className:x().itemContent},T({id:"ListViewerWidget.importNewSource"})))))},S().createElement("div",{className:x().iconAddBox},S().createElement(f.j,{type:"icon-add"}))))),g?S().createElement("div",{className:E()(x().formItemWrapper,"dataBindings")},S().createElement("div",{className:"coco-form-item-label"},T({id:"ListViewerWidget.dataBindings"})),Object.keys(N).reverse().map(function(e){return S().createElement("div",{key:e,className:x().slotItem},S().createElement("div",{className:x().label},N[e].label),S().createElement(r.py,{allowClear:!0,placeholder:T({id:"ListViewerWidget.dataBindingsPlaceholder"}),onChange:H.bind(null,e),value:N[e].dataBindings||void 0,listHeight:160,style:{width:"100%",maxWidth:"215px"}},D.map(function(e){return S().createElement(M,{value:e[0],key:e[0]},e[1])})))})):null)}),A=r.py.Option,R=r.py.OptGroup,L=(0,k.memo)(function(e){var t=e.keyName,n=void 0===t?"dataSource":t,a=e.onChange,c=e.getValue,m=e.widgetId,s=c(n),v=c("templateSlotMap"),g=(0,w.useDispatch)(),y=h.a().formatMessage,C=(0,k.useRef)(null),I=(0,k.useState)([]),T=b.a(I,2),M=T[0],O=T[1],L=(0,k.useState)(!1),_=b.a(L,2),W=_[0],V=_[1],D=(0,k.useState)(!1),j=b.a(D,2),F=j[0],B=j[1],P=(0,w.useSelector)(function(e){return e.project.globalWidgetIds}),z=(0,w.useSelector)(function(e){return e.common.userInfo}),U=(0,w.useSelector)(function(e){return e.cloudSpace.cloudTableList}),H=(0,w.useSelector)(function(e){return e.oTState.isAuthor});(0,k.useEffect)(function(){if(s)if("string"==typeof s){var e=l.g.get(s);if(!e)return void O([]);if((null==e?void 0:e.type)===o.G){var t=e.attributes.db,n=[];for(var a in t.header)n.push([a,t.header[a].field]);O(n)}}else{var r=U.find(function(e){return e.id===s});if(r){var c,i=[];null!=(c=r.columns)&&c.forEach(function(e){return i.push([e.id,e.name])}),O(i)}}else O([])},[U,s,P]);var G=(0,k.useCallback)(function(){g(u.ug(m))},[g,m]),K=(0,k.useCallback)(function(e,t){var n;if(e.stopPropagation(),"string"==typeof t){var a=l.g.get(t);a&&a.type===o.G&&(g(u.ug(a.id)),g(u.zj({grid:p.a({id:a.id,name:a.title},a.attributes.db),onClose:G})))}else window.open("".concat(i.A(),"/dashboard/table/").concat(t),"_blank");null!=(n=C.current)&&n.blur()},[g,G]),Z=(0,k.useMemo)(function(){var e=[];return P.forEach(function(t){var n=l.g.get(t);(null==n?void 0:n.type)===o.G&&e.push(n)}),{localOptions:e.map(function(e){return S().createElement(A,{value:e.id,key:e.id,label:e.title},S().createElement("div",{className:x().dataSourceOptions},S().createElement(f.j,{type:"icon-widget-table-data",className:"coco-widget-icon"}),e.title),S().createElement("span",{onClick:function(t){return K(t,e.id)}},S().createElement(f.j,{type:"icon-turn-edit"})))}),cloudOptions:U.map(function(e){return S().createElement(A,{value:e.id,key:e.id,label:e.name,className:"ant-select-item-hidden"},S().createElement("div",{className:x().dataSourceOptions},e.name))})}},[U,P,K]),q=Z.localOptions,Y=Z.cloudOptions;function X(e){s!==e&&Q(),"number"==typeof e&&(g(d.F(e)),g(d.E(e,!1))),a&&a(n,e||"")}function Q(){for(var e in v)v[e].dataBindings="";a&&a("templateSlotMap",v)}function J(e,t){v[e].dataBindings=t||"",a&&a("templateSlotMap",v)}var $=function(){V(!0)},ee=function(){V(!1)},et=function(){B(!0)},en=function(){B(!1)},ea=function(){g(u.Ch())},er=function(e,t){var n;X(e),null!=(n=C.current)&&n.blur()};return S().createElement("div",null,S().createElement("div",{className:E()(x().formItemWrapper,x().dataSource)},S().createElement("div",{className:x().itemLabel},y({id:"ListViewerWidget.dataSource"})),S().createElement(r.py,{ref:C,allowClear:!0,onChange:X,dropdownRender:function(e){return S().createElement("div",{className:E()(W||F?"addBtnActive":"")},S().createElement("div",{onMouseEnter:$,onMouseLeave:ee,className:E()(x().addDataSource),onClick:function(){var e;null!=C&&null!=(e=C.current)&&e.blur(),g(u.oj({widgetId:m,onConfirm:function(e){a(n,e.id),Q(),(null==e?void 0:e.type)===o.G&&g(u.zj({grid:p.a({id:e.id,name:e.title},e.attributes.db),onClose:G}))}}))}},S().createElement("div",null,S().createElement(f.j,{type:"icon-add",className:x().addIcon}),y({id:"ListViewerWidget.createDataSource"}))),e,(q.length>0||U.length>0)&&S().createElement("div",{className:E()(x().cloudTable,q.length>0&&x().showShadow),onMouseEnter:et,onMouseLeave:en},S().createElement("div",null,y({id:"CloudSpaceDBWidget.widgetName"})),H?S().createElement(f.j,{type:"icon-arrow-down",className:x().arrowIcon}):S().createElement(N.a,{placement:"bottom",title:y({id:"ListViewerWidget.cloudTableOtTips"})},S().createElement("div",null,S().createElement(f.j,{type:"icon-locked",className:x().lockIcon})))),H&&S().createElement("div",{onMouseEnter:et,onMouseLeave:en,className:E()(x().cloudTableList,F&&x().visible)},!z&&S().createElement("div",{className:x().loginBox},S().createElement(f.d,{type:"primary",onClick:ea},y({id:"cloudSpace.needLogin"}))),z&&0===U.length&&S().createElement("div",{className:x().noData},"No Data"),z&&U.length>0&&S().createElement("div",{className:x().listBox},U.map(function(e){return S().createElement("div",{onClick:er.bind(null,e.id,e.name),key:e.id,className:E()("ant-select-item","ant-select-item-option",s===e.id&&"ant-select-item-option-selected")},S().createElement("div",{className:"ant-select-item-option-content"},S().createElement("div",{className:x().dataSourceOptions},S().createElement(f.j,{type:"icon-widget-cloud-table",className:"coco-widget-icon"}),e.name),S().createElement("span",{onClick:function(t){return K(t,e.id)}},S().createElement(f.j,{type:"icon-turn-edit"}))))}))))},value:s||void 0,placeholder:y({id:"ListViewerWidget.dataSourcePlaceholder"}),optionLabelProp:"label",listHeight:200,virtual:!1,dropdownClassName:x().dataSourceSelectDropdown,suffixIcon:S().createElement(f.j,{type:"icon-dropdown-down"})},q.length>0&&S().createElement(R,{key:"localTableData",label:y({id:"ListViewerWidget.localTableData"})}),q,Y)),s?S().createElement("div",{className:E()(x().formItemWrapper,"dataBindings")},S().createElement("div",{className:"coco-form-item-label"},y({id:"ListViewerWidget.dataBindings"})),Object.keys(v).reverse().map(function(e){return S().createElement("div",{key:e,className:x().slotItem},S().createElement("div",{className:x().label},v[e].label),S().createElement(r.py,{allowClear:!0,placeholder:y({id:"ListViewerWidget.dataBindingsPlaceholder"}),onChange:J.bind(null,e),value:v[e].dataBindings||void 0,listHeight:160,style:{width:"100%",maxWidth:"215px"}},M.map(function(e){return S().createElement(A,{value:e[0],key:e[0]},e[1])})))})):null)})},66421(e,t,n){n.d(t,{hw:()=>h,mw:()=>N});var a=n(8021),r=n.n(a),l=n(63858),o=n.n(l),c=n(94220),i=n(51877),m=n(33007),s=n(46942),u=n.n(s),d=n(95644),f=n(451),p=n(19040),v=n(41594),g=n.n(v),E=n(47594),h=(0,v.memo)(function(e){var t=e.keyName,n=void 0===t?"templateType":t,a=e.widgetId,l=e.onChange,o=e.getValue,s=o(n),h=o("templateRenderType"),N=d.a().formatMessage,b=(0,p.useDispatch)(),y=(0,v.useState)(!1),C=f.a(y,2),I=C[0],w=C[1];function k(e){l&&l("templateRenderType",e)}function S(e){e!==s?b(i.Af(a,e,function(){l&&l(n,e),w(!1)})):w(!1)}return g().createElement("div",{className:u()(r().formItemWrapper,"templateType")},g().createElement("div",{className:"coco-form-item coco-form-item-horizontal"},N({id:"ListViewerWidget.templateType"}),g().createElement("div",{className:r().cardBox},g().createElement("div",{onClick:k.bind(null,"tiled"),className:u()(r().cardItem,"tiled"===h&&r().active)},N({id:"ListViewerWidget.tiled"})),g().createElement("div",{onClick:k.bind(null,"card"),className:u()(r().cardItem,"card"===h&&r().active)},N({id:"ListViewerWidget.card"})))),g().createElement("div",{className:r().templateBox,onClick:function(){w(!0)}},g().createElement("img",{className:r().selectedTemplateImg,src:"https://static.bcmcdn.com/coco/image/".concat(s,".png"),alt:""})),g().createElement(E.a,{title:null,visible:I,footer:null,centered:!0,style:{padding:0},bodyStyle:{margin:"60px 0",padding:0,background:"#eff2f8",borderRadius:"12px"},onCancel:function(){w(!1)}},g().createElement("div",{className:r().templateListTitle},g().createElement("div",{className:r().title},N({id:"ListViewerWidget.templateType"})),g().createElement(m.j,{type:"icon-closed"})),g().createElement("div",{className:r().templateListBox},Object.keys(c.o).map(function(e){return g().createElement("div",{className:u()(r().templateItem,e===s&&r().active),key:e,onClick:S.bind(null,e)},e===s&&g().createElement("div",{className:r().selectIconBox},g().createElement(m.j,{type:"icon-style-selected"})),g().createElement("img",{className:r().templateItemImg,src:"https://static.bcmcdn.com/coco/image/".concat(e,".png"),alt:""}))}))))}),N=(0,v.memo)(function(e){var t=e.keyName,n=void 0===t?"options":t,a=e.onChange,r=e.getValue,l=e.formConfig,c=r(n),i=l.dropdown||[],s=d.a().formatMessage,p=(0,v.useState)(c),E=f.a(p,2),h=E[0],N=E[1],b=s({id:l.label||"options"}),y=function(e){N(e),a&&a(n,e)};return g().createElement(m.i,{className:u()(o().formItemWrapper),label:b,align:"horizontal"},g().createElement("div",{className:o().optionSwitch},i.map(function(e){return g().createElement("div",{key:e.label,onClick:y.bind(null,e.value),className:u()(o().option,h===e.value&&o().activeOption)},g().createElement("span",null,e.label))})))})},70590(e,t,n){n.d(t,{_w:()=>f,bw:()=>v,vw:()=>p});var a=n(11293),r=n(63858),l=n.n(r),o=n(33007),c=n(46942),i=n.n(c),m=n(95644),s=n(41594),u=n.n(s),d=n(66912),f=(0,s.memo)(function(e){var t=e.formConfig,n=e.getValue,a=n("style")||d.b.styleA,r=n("themeColor"),c=(0,m.a().formatMessage)({id:t.label||"previewImage"}),s={backgroundColor:r};return u().createElement(o.i,{className:l().formItemWrapper,label:c,align:"vertical"},u().createElement("div",{className:l().dialog},u().createElement("div",{className:l().dialogContent},u().createElement("div",{className:l().titleWrapper,style:a===d.b.styleB?{paddingLeft:"24px"}:{paddingLeft:"101px"}},u().createElement("div",{className:l().title,style:s}),u().createElement("div",{className:l().title,style:s})),u().createElement("div",{className:l().textWrapper},u().createElement("div",{className:i()(l().line,l().firstLine),style:s}),u().createElement("div",{className:i()(l().line,l().secondLine),style:s})),a===d.b.styleA?u().createElement("div",{className:l().buttonWrapper},u().createElement("div",{className:i()(l().button,l().secondary)},"BUTTON"),u().createElement("div",{className:i()(l().button,l().primary),style:s},"BUTTON")):u().createElement("div",{className:l().textButtonWrapper},u().createElement("div",{className:l().secondary},"BUTTON"),u().createElement("div",{className:l().primary,style:{color:r}},"BUTTON")))))}),p=(0,s.memo)(function(e){var t=e.keyName,n=void 0===t?"options":t,r=e.onChange,c=e.getValue,s=e.formConfig,d=c(n),f=s.dropdown||[],p=(0,m.a().formatMessage)({id:s.label||"options"});return u().createElement(o.i,{className:i()(l().formItemWrapper),label:p,align:"horizontal"},u().createElement(a.py,{onChange:function(e){r&&r(n,e)},value:d,optionLabelProp:"label",listHeight:160,suffixIcon:u().createElement(o.j,{type:"icon-dropdown-down"})},f.map(function(e){return u().createElement(a.py.Option,{value:e.value,key:e.value,label:e.label},e.label)})))}),v=(0,s.memo)(function(e){var t=e.formConfig.url;return t?u().createElement("div",{style:{textAlign:"center",position:"absolute",height:"50px",lineHeight:"50px",background:"#fff",width:"100%",bottom:0}},u().createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer"},"如何使用？")):null})},6351(e,t,n){n.d(t,{Sw:()=>y});var a=n(56063),r=n(32919),l=n(52301),o=n(51877),c=n(33007),i=n(46942),m=n.n(i),s=n(95644),u=n(451),d=n(19040),f=n(41594),p=n.n(f),v=n(27690),g=n(19642),E=n.n(g),h=n(45965),N=n.n(h),b={columns:[],rows:[]},y=(0,f.memo)(function(e){var t=e.getValue,n=e.widgetId,i=t("cloudDbId"),g=(0,d.useDispatch)(),h=s.a().formatMessage,y=r.Bb(n),C=(0,f.useState)(b),I=u.a(C,2),w=I[0],k=I[1],S=(0,f.useState)(!0),T=u.a(S,2),x=T[0],M=T[1],O=(0,f.useRef)(!1);return((0,f.useEffect)(function(){return function(){O.current=!0}},[]),(0,f.useEffect)(function(){y&&i&&(k(b),M(!0),Promise.all([v.e(i,"dev"),v.f(i,"dev",0,500)]).then(function(e){var t=u.a(e,2),n=t[0],a=t[1];if(M(!1),n){var r=n.columns.map(function(e){return e.name}),l=n.columns.map(function(e){return e.id}),o=a?a.map(function(e){var t=[];return l.forEach(function(n){e.values[n]?t.push(e.values[n]):t.push("")}),{id:e.record_id,value:t}}):[];O.current||k({columns:r,rows:o})}}).catch(function(e){console.error(e)}))},[i,y]),y)?p().createElement("div",{className:m()(N().formItemWrapper,N().cloudDBList)},x?p().createElement("div",{className:N().loadingArea},p().createElement("img",{src:E(),alt:"loading"}),p().createElement("span",null,h({id:"cloudDBWidget.loading"}))):p().createElement(p().Fragment,null,p().createElement("div",{className:N().title},p().createElement("div",null,h({id:"cloudDBWidget.data"}),p().createElement(l.a,{content:p().createElement("div",{className:N().btnContent},p().createElement("div",null," ",h({id:"cloudDBWidget.tipsContent"}))),placement:"rightTop",trigger:"click"},p().createElement("div",{className:N().btn},"?"))),p().createElement("div",{className:N().editBtnBox},p().createElement(c.d,{className:N().editBtn,onClick:function(){y&&(g(o.Xh("")),g(o.ij(t("name"),!0,i,!1,function(){})))}},p().createElement(c.j,{type:"icon-storage-edit"})))),p().createElement("div",{className:N().list},p().createElement("div",{className:N().itemWrapper},w.columns&&w.columns.length>0&&p().createElement(a.a,{width:w.columns.length>=5?100*w.columns.length:"auto",height:32*(w.rows.length>15?14.5:w.rows.length+1),itemCount:w.rows.length+1,renderItem:function(e){var t=e.index,n=e.style,a=w.rows[t-1],r=w.columns;return 0===t?p().createElement("div",{className:N().listItem,key:t,style:n},r.map(function(e,t){return p().createElement("div",{className:N().column,key:"".concat(e,"-").concat(t)},e)})):p().createElement("div",{className:N().listItem,key:t,style:n},a.value.map(function(e,t){return p().createElement("div",{className:N().row,key:"".concat(a.id,"-").concat(e,"-").concat(t)},p().createElement("span",{title:String(e)},String(e)))}))},itemSize:32,className:"VirtualList"}))))):p().createElement(p().Fragment,null)})},84440(e,t,n){n.d(t,{Pw:()=>S,Lw:()=>k});var a=n(76043),r=n(36454),l=n(72541),o=n(46942),c=n.n(o),i=n(41594),m=n.n(i),s=n(11169),u=n(65019),d=(0,i.forwardRef)(function(e,t){var n,o=e.prefixCls,m=void 0===o?"rc-switch":o,d=e.className,f=e.checked,p=e.defaultChecked,v=e.disabled,g=e.loadingIcon,E=e.checkedChildren,h=e.unCheckedChildren,N=e.onClick,b=e.onChange,y=e.onKeyDown,C=a.a(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),I=s.a(!1,{value:f,defaultValue:p}),w=l.a(I,2),k=w[0],S=w[1];function T(e,t){var n=k;return v||(S(n=e),null!=b&&b(n,t)),n}var x=c()(m,d,(n={},r.a(n,"".concat(m,"-checked"),k),r.a(n,"".concat(m,"-disabled"),v),n));return(0,i.createElement)("button",Object.assign({},C,{type:"button",role:"switch","aria-checked":k,disabled:v,className:x,ref:t,onKeyDown:function(e){e.which===u.a.LEFT?T(!1,e):e.which===u.a.RIGHT&&T(!0,e),null!=y&&y(e)},onClick:function(e){var t=T(!k,e);null!=N&&N(t,e)}}),g,(0,i.createElement)("span",{className:"".concat(m,"-inner")},k?E:h))});d.displayName="Switch";var f=n(64371),p=n(23527),v=n(98936),g=n(63858),E=n.n(g),h=n(26564),N=n(33007),b=n(95644),y=n(38623),C=n(80084),I=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)0>t.indexOf(a[r])&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},w=(0,i.forwardRef)(function(e,t){var n,a=e.prefixCls,l=e.size,o=e.loading,m=e.className,s=e.disabled,u=I(e,["prefixCls","size","loading","className","disabled"]);C.a("checked"in u||!("value"in u),"Switch","`value` is not a valid prop, do you mean `checked`?");var g=(0,i.useContext)(v.b),E=g.getPrefixCls,N=g.direction,b=(0,i.useContext)(f.b),w=E("switch",a),k=(0,i.createElement)("div",{className:"".concat(w,"-handle")},o&&(0,i.createElement)(p.a,{className:"".concat(w,"-loading-icon")})),S=c()((n={},r.a(n,"".concat(w,"-small"),"small"===(l||b)),r.a(n,"".concat(w,"-loading"),o),r.a(n,"".concat(w,"-rtl"),"rtl"===N),n),void 0===m?"":m);return(0,i.createElement)(y.a,{insertExtraNode:!0},(0,i.createElement)(d,h.a({},u,{prefixCls:w,className:S,disabled:s||o,ref:t,loadingIcon:k})))});w.__ANT_SWITCH=!0,w.displayName="Switch";var k=w,S=(0,i.memo)(function(e){var t=e.keyName,n=void 0===t?"switch":t,a=e.getValue,r=e.onChange,l=e.formConfig,o=l.label,i=l.checkedLabel,s=l.unCheckedLabel,u=l.convert,d=l.reverse,f=b.a().formatMessage,p=f({id:void 0===o?"switch":o}),v=i?f({id:i}):"",g=s?f({id:s}):"",h=a(n);return u&&(h=u(h)),m().createElement(N.i,{className:c()(E().formItemWrapper),label:p},m().createElement(k,{checkedChildren:v,unCheckedChildren:g,defaultChecked:h,onClick:function(e){var t=e;d&&(t=d(e)),r&&r(n,t)}}))})},89925(e,t,n){n.d(t,{Gw:()=>d});var a=n(90612),r=n(33007),l=n(46942),o=n.n(l),c=n(95644),i=n(41594),m=n.n(i),s=n(25596),u=n.n(s),d=(0,i.memo)(function(e){var t=e.keyName,n=void 0===t?"opacity":t,l=e.getValue,i=e.onChange,s=c.a().formatMessage,d=l(n);return m().createElement(r.i,{align:"vertical",className:o()(u().formItemWrapper,u().changeOpacity),label:s({id:"WidgetForm.opacity"})},m().createElement(r.x,{value:void 0===d?a.j:d,min:a.r,max:a.j,onChange:function(e){i&&i(n,e)},isShowRightInput:!0}))})},54788(e,t,n){n.d(t,{Hw:()=>h});var a=n(61057),r=n(11293),l=n(78142),o=n(90612),c=n(75195),i=n(33383),m=n(33007),s=n(28950),u=n(46942),d=n.n(u),f=n(95644),p=n(41594),v=n.n(p),g=n(27377),E=n.n(g),h=(0,p.memo)(function(e){var t=e.onChange,n=e.getValue,u=n("content"),p=f.a().formatMessage,g=i.p(function(e){t("content",e)},60);return v().createElement("div",{className:d()(E().formItemWrapper,E().wrapper,"coco-form-item","coco-form-item-vertical")},v().createElement("div",{className:E().labelWrapper},p({id:"content"})),v().createElement(v().Fragment,null,v().createElement("div",null,v().createElement(m.A,{defaultValue:u,rows:3,onChange:function(e){g(e.target.value)}})),v().createElement("div",{className:E().fontWrapper},v().createElement("div",{className:E().fontFamily},v().createElement(r.fy,{keyName:"fontFamily",onChange:t,fontFamily:n("fontFamily")})),v().createElement("div",{className:E().fontSize},v().createElement(l.TE,{keyName:"fontSize",onChange:t,formConfig:s.a(s.a({},e.formConfig),{},{label:"fontSize",max:o.f,min:o.n}),rules:[{rule:c.w(4)},{rule:c.v}],value:n("fontSize")})),v().createElement("div",{className:E().colorPicker},v().createElement(a.mb,{width:43,keyName:"color",onChange:t,color:n("color")})))))})},65603(e,t,n){n.d(t,{Yw:()=>f});var a=n(51877),r=n(28950),l=n(46942),o=n.n(l),c=n(95644),i=n(19040),m=n(41594),s=n.n(m),u=n(15867),d=n.n(u),f=(0,m.memo)(function(e){var t=e.keyName,n=e.widgetId,l=e.getValue,m=e.onChange,u=l(void 0===t?"db":t),f=l("title"),p=(0,i.useDispatch)(),v=c.a().formatMessage;function g(){m("updatedAt",Date.now())}return s().createElement("div",{className:o()(d().formItemWrapper,d().tableData)},s().createElement("div",{className:"coco-form-item coco-form-item-horizontal"},s().createElement("div",{className:d().label},v({id:"TableDataWidget.data"})),s().createElement("div",{className:d().data},s().createElement("span",{className:d().length},v({id:"column"}),":",Object.keys(u.header).length),s().createElement("span",{className:d().length},v({id:"row"}),":",u.data.length))),s().createElement("div",{className:d().imageBox},s().createElement("img",{className:d().image,src:"https://static.bcmcdn.com/coco/image/edit_grid_data_image.png",alt:""}),s().createElement("div",{className:d().edit},s().createElement("div",{className:d().btn,onClick:function(){p(a.zj({grid:r.a({id:n,name:f},u),onClose:g}))}},v({id:"edit"})))))})},35490(e,t,n){n.d(t,{Xw:()=>v});var a=n(63858),r=n.n(a),l=n(51877),o=n(33007),c=n(46942),i=n.n(c),m=n(95644),s=n(19040),u=n(41594),d=n.n(u),f=n(99373),p=n.n(f),v=(0,u.memo)(function(e){var t=e.keyName,n=void 0===t?"text":t,a=e.onChange,c=e.getValue,u=e.formConfig,f=c(n),v=m.a().formatMessage,g=(0,s.useDispatch)(),E=v({id:u.label||"text"});return d().createElement(o.i,{className:i()(r().formItemWrapper,p().form),label:E,align:"vertical"},d().createElement("div",{className:p().imageBox},d().createElement("div",{className:p().edit},d().createElement("div",{className:p().btn,onClick:function(){g(l.Bh({onConfirm:function(e){a(n,e)},content:f}))}},v({id:"edit"})))))})},3529(e,t,n){n.d(t,{Jw:()=>u});var a=n(33007),r=n(46942),l=n.n(r),o=n(95644),c=n(41594),i=n.n(c),m=n(8193),s=n.n(m),u=(0,c.memo)(function(e){var t=e.keyName,n=void 0===t?"penSize":t,r=e.getValue,c=e.onChange,m=e.formConfig,u=m.label,d=m.min,f=m.max,p=o.a().formatMessage,v=r(n);return i().createElement(a.i,{align:"vertical",className:l()(s().formItemWrapper,s().numberSlider),label:p({id:void 0===u?"brushPenSize":u})},i().createElement(a.x,{value:v,min:d,max:f,onChange:function(e){c&&c(n,e)},isShowRightInput:!0}))})},70552(e,t,n){n.d(t,{rC:()=>h,tC:()=>g});var a=n(61057),r=n(84440),l=n(99820),o=n(5912),c=n(52301),i=n(33007),m=n(46942),s=n.n(m),u=n(95644),d=n(41594),f=n.n(d),p=n(9336),v=n.n(p),g=(0,d.memo)(function(e){var t=e.onChange,n=e.getValue,a=u.a().formatMessage,l=n("drawProcess")||!1,m=n("drawSpeed"),d=void 0===m?o.b:m;function p(e){t("drawSpeed",Number(e))}return f().createElement("div",{className:s()(v().formItemWrapper,v().brushWrapper,"coco-form-item","coco-form-item-vertical")},f().createElement("div",{className:v().processWrapper},f().createElement("div",null,f().createElement("span",null,a({id:"drawProcess"})),f().createElement(c.a,{overlayClassName:v().helpPopover,placement:"rightTop",title:"绘图过程是什么？",content:f().createElement("div",null,"这是对绘画过程的解释内容，待定。这是对绘画过程的解释内容， 待定。这是对绘画过程的解释内容，待定。")},f().createElement("span",null,f().createElement(i.j,{type:"icon-help-circle",className:v().helpIcon})))),f().createElement(r.Lw,{defaultChecked:l,onChange:function(e){t("drawProcess",e)}})),l&&f().createElement("div",{className:v().speedWrapper},f().createElement("span",null,a({id:"drawSpeed"})),f().createElement(i.o,{className:v().speedInput,label:a({id:"drawSpeedUnit"}),type:"number",defaultValue:d,max:o.d,min:o.f,onBlur:p,onStep:p})))}),E=[{value:l.a.ARROW,renderContent:function(e){return f().createElement("div",{className:v().cursorArrow,style:{color:e}},f().createElement(i.j,{type:"icon-brush-arrow"}))}},{value:l.a.CIRCLE,renderContent:function(e){return f().createElement("div",{className:v().cursorCircle,style:{backgroundColor:e,outlineColor:e}})}},{value:l.a.NONE,renderContent:function(e){return f().createElement("div",{className:v().cursorNone},"空")}}],h=(0,d.memo)(function(e){var t=e.keyName,n=void 0===t?"color":t,r=e.onChange,o=e.getValue,c=u.a().formatMessage,m=o(n),d=o("cursorShape")||l.a.NONE;return f().createElement("div",{className:s()(v().formItemWrapper,v().colorWrapper,"coco-form-item","coco-form-item-horizontal")},f().createElement("div",{className:v().brushPenColor},f().createElement("span",null,c({id:"brushPenColor"})),f().createElement(a.mb,{width:43,keyName:n,onChange:r,color:m})),f().createElement("div",{className:v().brushPenCursor},f().createElement("span",null,c({id:"brushCursorShape"})),f().createElement(a.hb,{value:d,modeList:E,onChange:function(e){e!==d&&r&&r("cursorShape",e)},params:[m]},E.map(function(e){return f().createElement(i.p,{key:e.value,value:e.value,className:v().cursorOption},e.renderContent(m))}))))})},10119(e,t,n){n.d(t,{Mw:()=>r,aC:()=>S,cC:()=>x,sC:()=>T,uC:()=>O});var a,r,l=n(11293),o=n(94220),c=n(32919),i=n(50862),m=n(33383),s=n(51877),u=n(73615),d=n(33007),f=n(46942),p=n.n(f),v=n(95644),g=n(22827),E=n(451),h=n(34221),N=n(7452),b=n.n(N),y=n(19040),C=n(41594),I=n.n(C),w=n(64903),k=n.n(w);function S(){var e,t,n=(0,y.useDispatch)(),a=(0,y.useSelector)(function(e){return e.project.selectedWidgetId}),r=c.Bb(a||""),l=(null==r?void 0:r.type)===o.j?"cloudDictList":"cloudTableList",m=(0,y.useSelector)(function(e){return e.cloudSpace[l]}),d=(0,C.useState)(!1),f=E.a(d,2),p=f[0],v=f[1],g=void 0;if((null==r?void 0:r.type)===o.j&&(g=r.attributes.cloudDictId),(null==r?void 0:r.type)===o.k&&(g=r.attributes.cloudTableId),g===c.i&&(g=void 0),!r)return{dataSourceId:g,cloudDataSources:m,bindDataSourceId:function(){}};var N=(e=h.a(b().mark(function e(t){var a;return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Nf(n,u.C(t));case 2:null!=(a=i.g.getToolbox())&&a.refresh_selection();case 3:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)}),I=(t=h.a(b().mark(function e(t){var a;return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Nf(n,u.E(t,!1));case 2:null!=(a=i.g.getToolbox())&&a.refresh_selection();case 3:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)});return{dataSourceId:g,cloudDataSources:m,bindDataSourceId:function(e){var t="";r.type===o.j&&(t="cloudDictId",e&&N(e),i.r(r.id)),r.type===o.k&&(t="cloudTableId",i.s(r.id),e&&I(e)),n(s.Lg(r.id,t,e,!0,!0,!0))},addItemHover:p,onMouseOver:function(){v(!0)},onMouseOut:function(){v(!1)}}}function T(){return(0,y.useSelector)(function(e){return e.oTState.isAuthor})}function x(){var e=function(e){window.open("".concat(m.A(),"/dashboard/dict/").concat(e),"_blank")},t=function(e){window.open("".concat(m.A(),"/dashboard/table/").concat(e),"_blank")};return{handleVisitCloudSpace:function(e){e?window.open("".concat(m.A(),"/dashboard/?createType=").concat(e),"_blank"):window.open("".concat(m.A(),"/"),"_blank")},handleVisitDataSource:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"dict",a=arguments.length>1?arguments[1]:void 0;if(!a)return window.open("".concat(m.A()),"_blank");"dict"===n&&e(a),"table"===n&&t(a)}}}(a=r||(r={})).Dict="Dict",a.Table="Table";var M=l.py.Option,O=(0,C.memo)(function(e){var t=e.widgetId,n=v.a().formatMessage,a=(0,y.useDispatch)(),o=c.Bb(t),i=(0,C.useRef)(null),m=S(),u=m.dataSourceId,f=m.cloudDataSources,h=m.bindDataSourceId,N=m.addItemHover,b=m.onMouseOut,w=m.onMouseOver,O=T(),A=x(),R=A.handleVisitCloudSpace,L=A.handleVisitDataSource,_=(0,y.useSelector)(function(e){return e.common.userInfo}),W=(0,C.useState)(!1),V=E.a(W,2),D=V[0],j=V[1];if(!o)return I().createElement(I().Fragment,null);var F=function(){j(!1),a(s.Ch())},B=I().createElement(l.py,{disabled:!O,optionLabelProp:"label",open:D,listItemHeight:40,listHeight:200,allowClear:!0,onDropdownVisibleChange:function(e){return j(e)},ref:i,dropdownRender:function(e){var t=I().createElement(I().Fragment,null,I().createElement("div",{onMouseOut:b,onMouseOver:w,className:p()(k().addDict),onClick:function(){var e;null!=i&&null!=(e=i.current)&&e.blur(),R(r.Dict)}},I().createElement(d.j,{type:"icon-add"}),I().createElement("div",{className:k().newText},n({id:"cloudSpace.newDict"})),I().createElement("div",{className:k().suffixIcon},I().createElement(d.j,{type:"icon-return-arrow"}))),f.length>0?I().createElement("div",{className:p()(k().line,N?k().hideLine:"")}):"",f.length>0?I().createElement("div",null,e):""),a=I().createElement(d.d,{type:"primary",onClick:F},n({id:"cloudSpace.needLogin"}));return I().createElement("div",{className:p()("cloudDictDropdown",_?"":k().unLoginDropdown,N?"addBtnActive":"")},_?t:a)},value:u,defaultValue:void 0,onChange:function(e){j(!1),h(e||c.i)},dropdownClassName:k().cloudSpaceAntSelectDropdown,placeholder:n({id:"cloudSpace.ChooseDataSource"})},f.map(function(e){return I().createElement(M,{label:e.name,value:e.id,key:e.id},I().createElement("div",{className:p()(k().optionRenderBox)},I().createElement("div",{className:p()(k().prefixIcon,"spaceCloud-select-icon")},I().createElement(d.j,{type:"icon-widget-cloud-dict"})),I().createElement("div",{className:p()(k().dictName,u===e.id?k().optionSelected:"")},I().createElement("div",{className:k().nameText},e.name)),I().createElement("div",{className:k().suffixIcon,onClick:function(t){L("dict",e.id)}},I().createElement(d.j,{type:"icon-return-arrow"}))))}));return I().createElement("div",{className:p()(k().formItemWrapper,k().dictFields)},I().createElement("div",{className:k().title},I().createElement("div",null,n({id:"cloudSpace.DataSource"}))),I().createElement("div",{className:k().bindSource},O?B:I().createElement(g.a,{placement:"bottom",title:n({id:"cloudSpace.onlyAuthorCanEdit"})},B)))})},22624(e,t,n){n.d(t,{hC:()=>N});var a=n(11293),r=n(10119),l=n(32919),o=n(51877),c=n(33007),i=n(46942),m=n.n(i),s=n(95644),u=n(22827),d=n(451),f=n(19040),p=n(41594),v=n.n(p),g=n(65737),E=n.n(g),h=a.py.Option,N=(0,p.memo)(function(e){var t=e.widgetId,n=s.a().formatMessage,i=l.Bb(t),g=(0,p.useRef)(null),N=(0,f.useDispatch)(),b=(0,f.useSelector)(function(e){return e.common.userInfo}),y=(0,r.aC)(),C=y.dataSourceId,I=y.cloudDataSources,w=y.bindDataSourceId,k=y.addItemHover,S=y.onMouseOut,T=y.onMouseOver,x=(0,r.sC)(),M=(0,r.cC)(),O=M.handleVisitCloudSpace,A=M.handleVisitDataSource,R=(0,p.useState)(!1),L=d.a(R,2),_=L[0],W=L[1];if(!i)return v().createElement(v().Fragment,null);var V=function(){W(!1),N(o.Ch())},D=v().createElement(a.py,{open:_,listItemHeight:40,listHeight:200,allowClear:!0,onDropdownVisibleChange:function(e){return W(e)},disabled:!x,optionLabelProp:"label",ref:g,dropdownRender:function(e){var t=v().createElement(v().Fragment,null,v().createElement("div",{onMouseOut:S,onMouseOver:T,className:m()(E().optionItem,E().addTable),onClick:function(){var e;null!=g&&null!=(e=g.current)&&e.blur(),O(r.Mw.Table)}},v().createElement(c.j,{type:"icon-add"}),v().createElement("div",{className:E().newText},n({id:"cloudSpace.newTable"})),v().createElement("div",{className:E().suffixIcon},v().createElement(c.j,{type:"icon-return-arrow"}))),I.length>0?v().createElement("div",{className:m()(E().line,k?E().hideLine:"")}):"",I.length>0?v().createElement("div",null,e):""),a=v().createElement(c.d,{type:"primary",onClick:V},n({id:"cloudSpace.needLogin"}));return v().createElement("div",{className:m()("cloudTableDropdown",b?"":E().unLoginDropdown,k?"addBtnActive":"")},b?t:a)},value:C,defaultValue:void 0,onChange:function(e){W(!1),w(e||l.i)},dropdownClassName:E().cloudSpaceAntSelectDropdown,placeholder:n({id:"cloudSpace.ChooseDataSource"})},I.map(function(e){return v().createElement(h,{label:e.name,value:e.id,key:e.id},v().createElement("div",{className:m()(E().optionRenderBox)},v().createElement("div",{className:m()(E().prefixIcon,"spaceCloud-select-icon")},v().createElement(c.j,{type:"icon-widget-cloud-table"})),v().createElement("div",{className:m()(E().tableName,C===e.id?E().optionSelected:"")},v().createElement("div",{className:E().nameText},e.name)),v().createElement("div",{className:E().suffixIcon,onClick:function(t){return A("table",e.id)}},v().createElement(c.j,{type:"icon-return-arrow"}))))}));return v().createElement("div",{className:m()(E().formItemWrapper,E().tableFields)},v().createElement("div",{className:E().title},v().createElement("div",null,n({id:"cloudSpace.DataSource"}))),v().createElement("div",{className:E().bindSource},x?D:v().createElement(u.a,{placement:"bottom",title:n({id:"cloudSpace.onlyAuthorCanEdit"})},D)))})},50813(e,t,n){n.d(t,{_C:()=>i});var a=n(33007),r=n(41594),l=n.n(r),o=n(96448),c=n.n(o),i=function(e){var t=e.formConfig;return l().createElement("div",{className:c().warnBox},l().createElement("div",{className:c().content},l().createElement("span",null,l().createElement("div",{className:c().icon},l().createElement(a.j,{type:"icon-trumpet"})),"将在2023年12月31日停止服务，建议使用新的",l().createElement("a",{target:"_blank",className:c().link,href:t.url},t.label),"控件")))}}}]);
//# sourceMappingURL=editor~4.a2bfd6c4bde0a0e7.js.map