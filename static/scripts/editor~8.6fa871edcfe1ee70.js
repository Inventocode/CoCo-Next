"use strict";(self.webpackChunkcoco_next=self.webpackChunkcoco_next||[]).push([["39"],{1616(e,t,n){n(48999)},19787(e,t,n){n.d(t,{Q:()=>i}),n(33007),n(88963),n(58797);var o=n(99085),i=new function e(){var t=this;o.a(this,e),this._store=void 0,this.handle=function(e){var n=t._store[e.data.type];n&&n.forEach(function(t){return t.call(null,e.data)})},this.add=function(e,n){t._store[e]=t._store[e]?t._store[e].concat(n):[n]},this.remove=function(e,n){var o=t._store[e];o&&(n?o.splice(o.indexOf(n),1):delete t._store[e])},this._store={}}},77322(e,t,n){n.d(t,{ne:()=>s});var o,i,a=n(95644),r=n(41594),l=n.n(r);n(43721),n(22790),n(52301);var c=n(33383);(o=i||(i={}))[o.SAVE_BTN=0]="SAVE_BTN",o[o.MY_PROJECT=1]="MY_PROJECT";var s=l().memo(function(e){var t=a.a().formatMessage,n=e.time,o=e.currentTime,r=e.renderType,s=function(e){return t({id:e})},u=o-n,d=c.G(o,0),p=c.G(o,-1),m=c.G(o,-2),g=new Date(n),E="",T="".concat(s("MyProject.lastSaved")," ");if(u<6e4)E="".concat(s("MyProject.just")),r===i.SAVE_BTN&&(E="".concat(s("MyProject.justSaved")));else if(u<36e5){var v=Math.ceil(u/60/1e3);v=Math.min(v=Math.max(v,1),59),E="".concat(v).concat(s("MyProject.minute")).concat(s("MyProject.ago")),r===i.SAVE_BTN&&(E=T+E)}else if(u<216e5||n>d){var h=Math.floor(u/36e5),f=Math.floor(u%36e5/6e4);h&&(E+="".concat(h).concat(s("MyProject.hour"))),f&&(E+="".concat(f).concat(s("MyProject.minute"))),E+=s("MyProject.ago"),r===i.SAVE_BTN&&(E=T+E)}else E=n>p?s("MyProject.yesterday")+c.K(g):n>m?s("MyProject.theDayBeforeYesterday")+c.K(g):"".concat(g.getFullYear()).concat(s("MyProject.year"))+"".concat(g.getMonth()+1).concat(s("MyProject.month"))+"".concat(g.getDate()).concat(s("MyProject.day")),r===i.SAVE_BTN&&(E=T+E);return l().createElement("span",null,E)})},69376(e,t,n){n.d(t,{Lp:()=>T});var o=n(31656),i=n(16751),a=n(50699),r=n(12327),l=n(94220),c=n(41594),s=n.n(c),u=n(64038),d=i.b.CONTAINED_TEXT,p=i.c.MEDIUM,m=r.Q(p,d),g=m.minWidth,E=m.height,T={icon:a.d,title:"",previewAreaWidgetTitle:"ButtonWidget.widgetName",type:l.d,editConfig:o.Ip,contentTextField:"text",isInvisibleWidget:a.c,hasAnyWidget:!0,widget:{isGlobalWidget:a.b,size:{width:g,height:E},animationRecord:{defaultMode:{click:"press"}},attributes:{disabled:!1,iconId:"default",sizeType:p,mode:d,text:"%{COCO_defaultButtonWidgetContent}",color:a.a}},component:function(e){var t=e.onEdit,n=e.onChange;return s().createElement(u.a,Object.assign({},e,{onClick:function(e){t&&e&&t(e,function(e){n&&n("text",e)},{sizeAdaptive:l.q.FIXED,maxLength:200,isMultipleRow:!1})}}))},blockConfig:o.Ap,isDiscard:!0}},2116(e,t,n){n.d(t,{Qp:()=>U,Kp:()=>w,Xp:()=>P,qp:()=>L});var o,i=n(75195),a=n(46431),r=[{type:"WidgetTitle",hasDisableOrVisible:!0},[{type:"VisibleSwitch"},{type:"DisabledSwitch"}],{type:"InputTextGroup"},{type:"InputSettingGroup"},{type:"InputBackground"},{type:"WidgetOpacity"},{type:"Size",sizeRange:[[a.m,i.o],[a.l,i.m]]},{type:"Coordinate"}],l=n(60096),c=n(24876),s=n(12327),u=n(38752),d=n(94220),p=n(28950),m=n(95655),g={type:d.w,category:{iconId:a.b,blocks:d.w},categoryClass:{text:"",iconId:a.b,blocks:[]},getTemplate:function(e){var t='<field name="WIDGET_ID">'.concat(e,"</field>");return['<block type="input_on_focus" uncache="true">\n        '.concat(t,"\n      </block>"),'<block type="input_on_blur" uncache="true">\n        '.concat(t,"\n      </block>"),'<block type="input_on_change" uncache="true">\n        '.concat(t,"\n      </block>"),'<sep gap="50"></sep>',s.cb({widgetType:d.w,title:"文案",lineId:"text"}),'<block type="input_set_content" uncache="true">\n    '.concat(t,'\n    <value name="CONTENT">\n      <shadow type="text">\n        <field name="TEXT">').concat(u.Z.Msg.INPUT_DEFAULT_VALUE,"</field>\n      </shadow>\n    </value>\n  </block>"),s.sb({property:"contentColor",widgetType:d.w,widgetId:e,isSetProperty:!0}),s.sb({property:"fontSize",widgetType:d.w,widgetId:e,isSetProperty:!0}),s.sb({property:"textAlign",widgetType:d.w,widgetId:e,isSetProperty:!0}),s.cb({widgetType:d.w,title:"样式",lineId:"style"}),s.qb({property:"setTemplateMode",widgetType:d.w,widgetId:e}),s.qb({property:"setBackgroundImage",widgetType:d.w,widgetId:e}),s.cb({widgetType:d.w,title:"通用",lineId:"common"}),s.sb({property:"__opacity",widgetType:d.w,widgetId:e,isSetProperty:!0}),s.sb({property:"__size",widgetType:d.w,widgetId:e,isSetProperty:!0}),'<block type="input_set_position" uncache="true">\n        '.concat(t,'\n        <field name="POSITION_TYPE">positionX</field>\n        <value name="NUM">\n          <shadow type="math_number">\n            <field name="NUM" constraints=\',,1\'>100</field>\n          </shadow>\n        </value>\n    </block>'),'<block type="input_set_visible" uncache="true">\n        '.concat(t,'\n        <field name="VISIBLE">show</field>\n      </block>'),'<block type="input_set_disabled" uncache="true">\n        '.concat(t,'\n        <field name="DISABLE">disabled</field>\n      </block>'),'<block type="input_set_error_message" uncache="true">\n      '.concat(t,'\n      <field name="OPEN">open</field>\n        <value name="CONTENT">\n          <shadow type="text">\n            <field name="TEXT">').concat(u.Z.Msg.INPUT_DEFAULT_ERROR_MESSAGE,"</field>\n          </shadow>\n        </value>\n      </block>"),'<sep gap="50"></sep>',s.cb({widgetType:d.w,title:"返回值",lineId:"getter"}),'<block type="input_get_text" uncache="true">\n        '.concat(t,"\n      </block>"),s.sb({property:"errorMessage",widgetType:d.w,widgetId:e}),s.sb({property:"contentColor",widgetType:d.w,widgetId:e}),s.sb({property:"fontSize",widgetType:d.w,widgetId:e}),s.sb({property:"__opacity",widgetType:d.w,widgetId:e}),s.sb({property:"__size",widgetType:d.w,widgetId:e}),'<block type="input_get_position" uncache="true">\n        '.concat(t,'\n        <field name="POSITION_TYPE">positionX</field>\n      </block>'),'<sep gap="50"></sep>',s.sb({property:"hasErrorMessage",widgetType:d.w,widgetId:e}),s.sb({property:"__visible",widgetType:d.w,widgetId:e}),s.sb({property:"__disabled",widgetType:d.w,widgetId:e})]},blockDeclareGroup:{setBlockGroupSnippet:function(e){[{type:"input_on_focus",funcName:"onInputFocus"},{type:"input_on_blur",funcName:"onInputBlur"},{type:"input_on_change",funcName:"onInputChange"}].forEach(function(t){e.insertBlockSnippetGenerator(t.type,function(n,o){var i=n.blocks[o],a=e.getFieldValue(i,"WIDGET_ID")||"",r=e.statementToCode(n,o,"DO");return r?c.n(t.funcName,[c.o(a)],r):""})}),[{type:"input_set_mode",funcName:"setInputWidgetMode",field:"MODE"},{type:"input_set_size_type",funcName:"setInputWidgetSizeType",field:"SIZE_TYPE"}].forEach(function(t){e.insertBlockSnippetGenerator(t.type,function(n,o){var i=n.blocks[o],a=e.getFieldValue(i,"WIDGET_ID")||"",r=e.getFieldValue(i,t.field);return r?c.n(t.funcName,[c.o(a),c.o(r)]):""})}),e.insertBlockSnippetGenerator("input_field_color",function(t,n){var o=t.blocks[n];return c.o(e.getFieldValue(o,"COLOR_VALUE")||"")}),e.insertBlockSnippetGenerator("input_set_color",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID")||"",a=e.valueToCode(t,n,"COLOR",e.ORDER_FUNCTION_CALL);return c.n("setInputWidgetColor",[c.o(i),a])}),e.insertBlockSnippetGenerator("input_set_position",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID")||"",a=e.getFieldValue(o,"POSITION_TYPE"),r=e.valueToCode(t,n,"NUM",e.ORDER_FUNCTION_CALL)||"";return r&&a?c.l(c.n("positionX"===a?"setInputWidgetPositionX":"setInputWidgetPositionY",[c.o(i),r]),o,e):""}),e.insertBlockSnippetGenerator("input_set_visible",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID")||"",a="show"===e.getFieldValue(o,"VISIBLE");return c.n("setInputWidgetVisible",[c.o(i),a])}),e.insertBlockSnippetGenerator("input_set_disabled",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID")||"",a="disabled"===e.getFieldValue(o,"DISABLED");return c.l(c.n("setInputWidgetDisabled",[c.o(i),a]),o,e)}),e.insertBlockSnippetGenerator("input_set_error_message",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID")||"",a="open"===e.getFieldValue(o,"ERROR_SWITCH"),r=e.valueToCode(t,n,"CONTENT",e.ORDER_FUNCTION_CALL)||"";return a?c.n("setInputWidgetErrorMessage",[c.o(i),r]):c.n("unsetInputWidgetErrorMessage",[c.o(i)])}),e.insertBlockSnippetGenerator("input_set_content",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID")||"",a=e.getFieldValue(o,"TYPE"),r=e.valueToCode(t,n,"CONTENT",e.ORDER_FUNCTION_CALL)||"";return a?c.n("setWidgetTextAttribute",[c.o(i),c.o(a),r]):""}),e.insertBlockSnippetGenerator("input_get_color",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID")||"";return c.s("getInputWidgetColor",[c.o(i)])}),e.insertBlockSnippetGenerator("input_get_text",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID")||"",a=e.getFieldValue(o,"TEXT");if(!a)return"";var r="";return r="inputContent"===a?"getInputWidgetValue":"getInputWidgetPlaceholder",c.s(r,[c.o(i)])}),e.insertBlockSnippetGenerator("input_get_position",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID")||"",a=e.getFieldValue(o,"POSITION_TYPE");if(!a)return"";var r="";return r="positionX"===a?"getInputWidgetPositionX":"getInputWidgetPositionY",c.s(r,[c.o(i)])}),e.insertBlockSnippetGenerator("input_assert_state",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID")||"";return"error"===e.getFieldValue(o,"STATE")?c.s("checkIfInputWidgetHasErrorMessage",[c.o(i)]):"(\n          Coco.getInputWidgetDisabled(".concat(c.o(i),")\n        )")})},setBlockGroupProfile:function(e,t){var n={type:"field_coco_dropdown",name:"WIDGET_ID",custom:!0,options:function(){return l.c().getWidgetListByType("INPUT_WIDGET")}};function o(e){if(this.source_block){var n=this.source_block,o=n.inputList,i=o[o.length-1].name;"open"===e?n.append_shadow_input_json("CONTENT","text",t.Msg.INPUT_DEFAULT_ERROR_MESSAGE).set_check(["String","Number"]):n.removeInput(i)}}[{type:"input_on_focus",message:"%{BKY_INPUT_ON_FOCUS}"},{type:"input_on_blur",message:"%{BKY_INPUT_ON_BLUR}"},{type:"input_on_change",message:"%{BKY_INPUT_ON_CHANGE}"}].forEach(function(i){e.insertBlockProfile(i.type,{type:i.type,message0:i.message,args0:[c.e("%{BKY_BLOCK_INPUT_ICON}",!0),p.a({},n),{type:"input_dummy",align:"CENTRE"},{type:"input_statement",name:"DO"}],colour:"%{BKY_EVENTS_HUE}",inputsInline:!0}),e.insertBlockProfile("input_set_mode",{type:"input_set_mode",message0:"%{BKY_INPUT_SET_MODE}",args0:[p.a({},n),{type:"field_coco_dropdown",name:"MODE",custom:!0,options:function(){return[[t.Msg.INPUT_OUTLINED_NORMAL,m.c.OUTLINED_NORMAL],[t.Msg.INPUT_CONTAINED_NORMAL,m.c.CONTAINED_NORMAL],[t.Msg.INPUT_CONTAINED_ROUND,m.c.CONTAINED_ROUND],[t.Msg.INPUT_OUTLINED_FLAT,m.c.OUTLINED_FLAT]]}}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("input_set_size_type",{type:"input_set_size_type",message0:"%{BKY_INPUT_SET_SIZE}",args0:[p.a({},n),{type:"field_coco_dropdown",name:"SIZE_TYPE",custom:!0,options:function(){return[[t.Msg.SMALL,d.s.SMALL],[t.Msg.MEDIUM,d.s.MEDIUM],[t.Msg.LARGE,d.s.LARGE]]}}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("input_set_color",{type:"input_set_color",message0:"%{BKY_INPUT_SET_COLOR}",args0:[p.a({},n),{type:"input_value",check:["Color","String"],name:"COLOR"}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("input_field_color",{type:"input_field_color",message0:"%1",args0:[{type:"field_colour",name:"COLOR_VALUE",colour:a.e}],colour:"#ffffff",output:["Color"]}),e.insertBlockProfile("input_set_position",{type:"input_set_position",message0:"%{BKY_INPUT_SET_POSITION}",args0:[p.a({},n),{type:"field_coco_dropdown",name:"POSITION_TYPE",custom:!0,options:function(){return[[t.Msg.POSITION_X,"positionX"],[t.Msg.POSITION_Y,"positionY"]]}}],message1:"%1",args1:[{type:"input_value",name:"NUM",check:["Number"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("input_set_visible",{type:"input_set_visible",message0:"%1 %2",args0:[{type:"field_coco_dropdown",name:"VISIBLE",custom:!0,options:function(){return[[t.Msg.SHOW,"show"],[t.Msg.HIDE,"hide"]]}},p.a({},n)],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("input_set_disabled",{type:"input_set_disabled",message0:"%1 %2",args0:[{type:"field_coco_dropdown",name:"DISABLED",custom:!0,options:function(){return[[t.Msg.ABLE,"able"],[t.Msg.DISABLED,"disabled"]]}},p.a({},n)],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("input_set_content",{type:"input_set_content",message0:"%{BKY_INPUT_SET_INPUT_CONTENT}",args0:[p.a({},n),{type:"field_coco_dropdown",name:"TYPE",custom:!0,options:function(){return[[t.Msg.INPUT_CONTENT,"value"],[t.Msg.INPUT_PLACEHOLDER,"placeholder"]]},optOnchange:function(e){var n=this.source_block,o=e||(null==n?void 0:n.get_field_value("TYPE"));if(o){var i="value"===o?t.Msg.INPUT_DEFAULT_VALUE:t.Msg.INPUT_DEFAULT_PLACEHOLDER,a=null==n?void 0:n.get_shadow_field("CONTENT","TEXT");null!=a&&a.set_value(i)}}},{type:"input_value",name:"CONTENT",check:["String","Number","Boolean","Array","Object"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("input_set_error_message",{type:"input_set_error_message",message0:"%{BKY_INPUT_ERROR_TIPS}",args0:[{type:"field_coco_dropdown",name:"ERROR_SWITCH",custom:!0,options:function(){return[[t.Msg.OPEN,"open"],[t.Msg.CLOSE,"close"]]},optOnchange:o},p.a({},n)],message1:"%1",args1:[{type:"input_value",name:"CONTENT",check:["String","Number","Boolean","Array","Object"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("input_get_color",{type:"input_get_color",message0:"%{BKY_INPUT_GET_COLOR}",args0:[p.a({},n)],output:["String","Color"],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("input_get_text",{type:"input_get_text",message0:"%{BKY_INPUT_GET_PROPERTY}",args0:[p.a({},n),{type:"field_coco_dropdown",name:"TEXT",custom:!0,options:function(){return[[t.Msg.INPUT_CONTENT,"inputContent"],[t.Msg.INPUT_PLACEHOLDER,"placeholder"]]}}],output:["String"],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("input_get_position",{type:"input_get_position",message0:"%{BKY_INPUT_GET_PROPERTY}",args0:[p.a({},n),{type:"field_coco_dropdown",name:"POSITION_TYPE",custom:!0,options:function(){return[[t.Msg.POSITION_X,"positionX"],[t.Msg.POSITION_Y,"positionY"]]}}],output:["String","Number"],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("input_assert_state",{type:"input_assert_state",message0:"%{BKY_INPUT_ASSERT_STATE}",args0:[p.a({},n),{type:"field_coco_dropdown",name:"STATE",custom:!0,options:function(){return[[t.Msg.INPUT_REPORT_ERROR,"error"],[t.Msg.DISABLED,"disabled"]]}}],output:["Boolean"],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0})})}},renameBlocksInfo:{blocksList:["input_on_focus","input_on_blur","input_on_change","input_set_mode","input_set_size_type","input_set_color","input_set_position","input_set_visible","input_set_disabled","input_set_error_message","input_get_color","input_get_text","input_get_position","input_assert_state","input_set_content"],fieldName:"WIDGET_ID"},topBlocks:["input_on_focus","input_on_blur","input_on_change"]},E=n(74375),T=n(81555),v=n(10309),h=n(32919),f=n(33383),b=n(36243),O=n(13244),C=n(46942),I=n.n(C),S=n(451),y=n(41594),N=n.n(y),A=n(93811),k=n.n(A);function R(e,t){return(0,b.A)(e).alpha(t).toString()}var B=m.c.OUTLINED_NORMAL,D=d.s.MEDIUM,w={icon:a.b,previewAreaWidgetTitle:"InputWidget.widgetName",title:"",type:d.w,component:function(e){var t=e.id,n=e.position,o=e.visible,r=e.size,l=e.selected,c=e.opacity,s=e.onChange,u=e.attributes,g=u.disabled,E=u.placeholder,v=u.value,b=u.textAlign,C=u.placeholderColor,A=u.valueColor,B=u.fontFamily,D=u.fontSize,w=u.backgroundMode,L=u.templateMode,P=u.backgroundColor,U=u.backgroundImage,M=u.imageResizeMode,Y=r.width,x=r.height,G=(0,y.useRef)(null),K=(0,y.useState)(!1),W=S.a(K,2),F=W[0],V=W[1],H=(0,y.useState)(E),X=S.a(H,2),z=X[0],j=X[1],q=(0,y.useRef)(null);(0,y.useEffect)(function(){var e=q.current;e&&(e.value=v)}),(0,y.useEffect)(function(){var e=q.current;F&&e&&(e.focus(),e.selectionStart=e.selectionEnd=e.value.length)},[F]),(0,y.useEffect)(function(){j(E)},[E]);var Z=h.hb(U),Q=f.U(U)?U:Z?(null==Z?void 0:Z.source)||(null==Z?void 0:Z.cdnUrl):a.a,J=void 0,$=(0,y.useMemo)(function(){var e;return(e={},O.a(e,m.c.OUTLINED_NORMAL,{background:"rgba(255, 255, 255)",borderRadius:"4px",border:"2px solid ".concat(R(P,.5)),borderColor:R(P,.5)}),O.a(e,m.c.CONTAINED_NORMAL,{background:R(P,.14),borderRadius:"4px"}),O.a(e,m.c.CONTAINED_ROUND,{background:R(P,.14),borderRadius:"".concat(x/2,"px")}),O.a(e,m.c.OUTLINED_FLAT,{borderBottom:"2px solid ".concat(R(P,.5)),borderBottomColor:R(P,.5)}),e)[L]},[P,x,L]);J=w===m.a.IMAGE?{backgroundImage:"url(".concat(Q,")"),backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"contain"===M?"contain":"100% 100%",padding:"6px ".concat(20,"px")}:p.a(p.a({},$),{},{padding:"6px ".concat(14,"px")});var ee=(0,y.useMemo)(function(){if(g){var e;return(e={},O.a(e,m.c.OUTLINED_NORMAL,{color:"#CCCCCC",borderColor:"#E9E9E9"}),O.a(e,m.c.CONTAINED_NORMAL,{background:"#E7E7E7",color:"#FFFFFF"}),O.a(e,m.c.CONTAINED_ROUND,{background:"#E7E7E7",color:"#FFFFFF"}),O.a(e,m.c.OUTLINED_FLAT,{color:"#CCCCCC",borderBottomColor:"#E9E9E9"}),e)[L]}},[L,g]);return(0,y.useEffect)(function(){var e,n=ee?ee.color:C;null!=(e=document.getElementById(t))&&e.style.setProperty("--input-placeholder-color",n)},[t,C,ee]),N().createElement("div",{id:t,className:I()(k().inputWidget,w===m.a.TEMPLATE&&L!==m.c.OUTLINED_FLAT&&k().inputWidgetUnderpainting,T.b,O.a({},k().hide,!o)),"data-role":d.M,"data-widget-type":d.w,"data-min-width":a.m,"data-min-height":a.l,ref:G,style:p.a(p.a({top:n.y,left:n.x,height:x,width:Y,minWidth:"".concat(a.m,"px"),minHeight:"".concat(a.l,"px"),fontSize:D,fontFamily:B,color:A,opacity:void 0===c?void 0:c/100,filter:g&&w===m.a.IMAGE?"saturate(0) brightness(1.1)":void 0},J),ee)},N().createElement("div",{className:I()(k().inputWidgetInputWrapper,{}),onDoubleClick:function(){var e=q.current;e&&(e.focus(),e.selectionStart=0,e.selectionEnd=e.value.length)},onClick:function(){var e,t=G.current,n=q.current;t&&n&&l&&(null==(e=G.current)?void 0:e.dataset.clickType)===i.h.CLICK&&V(!0)}},N().createElement("input",{ref:q,onFocus:function(e){var t=G.current;j(""),t&&!g&&t.classList.add(T.a,T.c)},onKeyDown:function(e){var t;13===e.keyCode&&null!=(t=q.current)&&t.blur()},onBlur:function(e){var t=G.current;t&&t.classList.remove(T.a,T.c),s&&s("value",e.target.value),V(!1),j(E)},placeholder:z,style:{textAlign:void 0===b?"left":b,color:g?a.o:A}}),!F&&N().createElement("div",{className:I()(k().mask)})))},editConfig:r,contentTextField:"placeholder",blockConfig:g,isInvisibleWidget:a.j,widget:{isGlobalWidget:a.i,animationRecord:(o={},O.a(o,m.c.OUTLINED_NORMAL,{focus:"borderColorEnhance",error:"defaultOutlineError"}),O.a(o,m.c.OUTLINED_FLAT,{focus:"borderColorEnhance",error:"defaultOutlineError"}),O.a(o,m.c.CONTAINED_NORMAL,{focus:"backgroundColorEnhance",error:"defaultContainedError"}),O.a(o,m.c.CONTAINED_ROUND,{focus:"backgroundColorEnhance",error:"defaultContainedError"}),o),size:{width:a.k,height:a.h},attributes:{disabled:!1,value:"",placeholder:"%{COCO_defaultInputWidgetContent}",color:a.e,sizeType:D,mode:B,textAlign:"left",placeholderColor:a.n,valueColor:a.o,fontFamily:a.f,fontSize:a.g,backgroundMode:m.a.TEMPLATE,templateMode:B,backgroundColor:a.c,backgroundImage:a.a,imageResizeMode:m.b.CONTAIN}}},L=[{type:"WidgetTitle",hasDisableOrVisible:!0},{type:"VisibleSwitch"},{type:"ChangeImage",stillImageShowResizeMode:!0},{type:"BackgroundColor"},{type:"WidgetOpacity"},{type:"Size"},{type:"Coordinate"}],P=[{type:"WidgetTitle",hasDisableOrVisible:!0},{type:"VisibleSwitch"},{type:"ChangeImage",stillImageShowResizeMode:!0},{type:"BackgroundColor"}],U={type:d.v,category:{iconId:v.a,blocks:d.v},categoryClass:{text:"",iconId:v.a,blocks:[]},getTemplate:function(e){var t='<field name="WIDGET_ID">'.concat(e,"</field>");return['<block type="image_on_press" uncache="true">\n      '.concat(t,"\n    </block>"),E.d,'<block type="image_set_file_id" uncache="true">\n      '.concat(t,'\n      <value name="IMAGE_FILE_ID_SHADOW">\n        <shadow type="image_file_list_dropdown"> <field name="IMAGE_FILE_ID">').concat(E.c,"</field></shadow>\n      </value>\n    </block>"),s.sb({property:"backgroundColor",widgetType:d.v,widgetId:e,isSetProperty:!0}),E.d,s.sb({property:"__opacity",widgetType:d.v,widgetId:e,isSetProperty:!0}),'<block type="image_set_size" uncache="true">\n      '.concat(t,'\n      <field name="SIZE_TYPE">height</field>\n      <value name="NUM">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\'0,,1\'>100</field>\n        </shadow>\n      </value>\n    </block>'),'<block type="image_set_position" uncache="true">\n      '.concat(t,'\n      <field name="POSITION_TYPE">positionX</field>\n      <value name="NUM">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\',,1\'>100</field>\n        </shadow>\n      </value>\n    </block>'),'<block type="image_set_visible" uncache="true">\n      '.concat(t,'\n      <field name="VISIBLE">show</field>\n    </block>'),E.d,'<block type="image_get_file_id" uncache="true">\n      '.concat(t,"\n    </block>"),s.sb({property:"backgroundColor",widgetType:d.v,widgetId:e}),s.sb({property:"__opacity",widgetType:d.v,widgetId:e}),'<block type="image_get_size" uncache="true">\n      '.concat(t,'\n      <field name="SIZE_TYPE">height</field>\n    </block>'),'<block type="image_get_position" uncache="true">\n      '.concat(t,'\n      <field name="POSITION_TYPE">positionX</field>\n    </block>'),E.d,s.sb({property:"__visible",widgetType:d.v,widgetId:e})]},blockDeclareGroup:{setBlockGroupSnippet:function(e){function t(t,n){var o=t.blocks[n];return{block:o,widgetId:e.getFieldValue(o,"WIDGET_ID")||""}}e.insertBlockSnippetGenerator("image_on_press",function(n,o){var i=t(n,o).widgetId,a=e.statementToCode(n,o,"DO");return a?c.n("onImagePress",[c.o(i)],a):""}),e.insertBlockSnippetGenerator("image_file_list_dropdown",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"IMAGE_FILE_ID");return void 0===i||i===E.a||i===E.c?e.quote(""):c.o(i)}),e.insertBlockSnippetGenerator("icon_file_list_dropdown",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"ICON_FILE_ID");return void 0===i||i===E.a||i===E.c?e.quote(""):c.o(i)}),e.insertBlockSnippetGenerator("image_set_file_id",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,l=e.valueToCode(n,o,"IMAGE_FILE_ID_SHADOW",e.ORDER_FUNCTION_CALL);return l?c.l(c.n("setImageWidgetImageId",[c.o(r),l]),a,e):""}),e.insertBlockSnippetGenerator("image_set_size",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,l=e.valueToCode(n,o,"NUM",e.ORDER_FUNCTION_CALL),s="width"===e.getFieldValue(a,"SIZE_TYPE")?"setImageWidgetWidth":"setImageWidgetHeight";return c.l(c.n(s,[c.o(r),l]),a,e)}),e.insertBlockSnippetGenerator("image_set_position",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,l=e.valueToCode(n,o,"NUM",e.ORDER_FUNCTION_CALL),s="positionX"===e.getFieldValue(a,"POSITION_TYPE")?"setImageWidgetPositionX":"setImageWidgetPositionY";return c.l(c.n(s,[c.o(r),l]),a,e)}),e.insertBlockSnippetGenerator("image_set_visible",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,l="show"===e.getFieldValue(a,"VISIBLE");return c.n("setImageWidgetVisible",[c.o(r),l])}),e.insertBlockSnippetGenerator("image_get_size",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,l="width"===e.getFieldValue(a,"SIZE_TYPE")?"getImageWidgetWidth":"getImageWidgetHeight";return c.s(l,[c.o(r)])}),e.insertBlockSnippetGenerator("image_get_position",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,l="positionX"===e.getFieldValue(a,"POSITION_TYPE")?"getImageWidgetPositionX":"getImageWidgetPositionY";return c.s(l,[c.o(r)])}),e.insertBlockSnippetGenerator("image_get_file_id",function(e,n){var o=t(e,n).widgetId;return c.s("getImageWidgetImageId",[c.o(o)])})},setBlockGroupProfile:function(e,t){var n={type:"field_coco_dropdown",name:"WIDGET_ID",custom:!0,options:function(){return l.c().getWidgetListByType("IMAGE_WIDGET")}};e.insertBlockProfile("image_on_press",{type:"image_on_press",message0:"%{BKY_IMAGE_ON_PRESS}",args0:[c.e("%{BKY_BLOCK_TAB_ICON}",!0),p.a({},n),{type:"input_dummy",align:"CENTRE"},{type:"input_statement",name:"DO"}],colour:"%{BKY_EVENTS_HUE}",inputsInline:!0}),e.insertBlockProfile("image_set_file_id",{type:"image_set_file_id",message0:"%{BKY_IMAGE_SET_FIELD_ID}",args0:[p.a({},n),{type:"input_value",name:"IMAGE_FILE_ID_SHADOW",check:["String"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0,tooltip:"%{BKY_IMAGE_SET_FIELD_ID_TOOLTIP}"}),e.insertBlockProfile("image_file_list_dropdown",{type:"image_file_list_dropdown",message0:"%1",args0:[{type:"field_coco_dropdown",name:"IMAGE_FILE_ID",custom:!0,options:function(){return l.c().getImageFiles()}}],colour:"%{BKY_APPEARANCE_HUE}",output:["String"]}),e.insertBlockProfile("icon_file_list_dropdown",{type:"icon_file_list_dropdown",message0:"%1",args0:[{type:"field_coco_dropdown",name:"ICON_FILE_ID",custom:!0,options:function(){return l.c().getIconFiles()}}],colour:"%{BKY_APPEARANCE_HUE}",output:["String"]}),e.insertBlockProfile("image_set_size",{type:"image_set_size",message0:"%{BKY_IMAGE_SET_PROPERTY}",args0:[p.a({},n),{type:"field_coco_dropdown",name:"SIZE_TYPE",custom:!0,options:[[t.Msg.HEIGHT,"height"],[t.Msg.WIDTH,"width"]],optOnchange:function(e){var t=this.source_block,n=null==t?void 0:t.get_shadow_field("NUM");n&&"FieldNumber"===n.field_type&&n.set_value("100")}},{type:"input_value",name:"NUM",check:["Number"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("image_set_position",{type:"image_set_position",message0:"%{BKY_IMAGE_SET_PROPERTY}",args0:[p.a({},n),{type:"field_coco_dropdown",name:"POSITION_TYPE",custom:!0,options:[[t.Msg.POSITION_X,"positionX"],[t.Msg.POSITION_Y,"positionY"]]},{type:"input_value",name:"NUM",check:["Number"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("image_set_visible",{type:"image_set_visible",message0:"%1 %2",args0:[{type:"field_coco_dropdown",name:"VISIBLE",custom:!0,options:[[t.Msg.SHOW,"show"],[t.Msg.HIDE,"hide"]]},p.a({},n)],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("image_get_size",{type:"image_get_size",message0:"%{BKY_IMAGE_GET_PROPERTY}",args0:[p.a({},n),{type:"field_coco_dropdown",name:"SIZE_TYPE",custom:!0,options:[[t.Msg.HEIGHT,"height"],[t.Msg.WIDTH,"width"]]}],output:["String","Number"],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("image_get_position",{type:"image_get_position",message0:"%{BKY_IMAGE_GET_PROPERTY}",args0:[p.a({},n),{type:"field_coco_dropdown",name:"POSITION_TYPE",custom:!0,options:[[t.Msg.POSITION_X,"positionX"],[t.Msg.POSITION_Y,"positionY"]]}],output:["String","Number"],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("image_get_file_id",{type:"image_get_file_id",message0:"%{BKY_IMAGE_GET_FILE_ID}",args0:[p.a({},n)],output:["String"],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0,tooltip:"%{BKY_IMAGE_GET_FILE_ID_TOOLTIP}"})}},renameBlocksInfo:{blocksList:["image_on_press","image_set_file_id","image_set_size","image_set_position","image_set_visible","image_get_size","image_get_position","image_get_file_id"],fieldName:"WIDGET_ID"},topBlocks:["image_on_press"]}},45132(e,t,n){n.d(t,{nf:()=>h,tf:()=>v});var o=n(2116),i=n(12327),a=n(94220),r=n(81555),l=n(10309),c=n(13244),s=n(46942),u=n.n(s),d=n(41594),p=n.n(d),m=n(67511),g=n.n(m),E=n(93370),T=n(72788),v={icon:l.a,title:l.b,type:a.v,previewAreaWidgetTitle:"imageBox",component:function(e){var t=e.id,n=e.position,o=e.visible,s=e.opacity,m=e.size,T=e.parentId,v=e.attributes,h=v.resizeMode,f=v.borderRadius,b=v.fileId,O=v.backgroundColor,C=(0,d.useRef)(null),I=i.Fb(b)||l.m;return p().createElement("div",{id:t,className:u()(g().imageWidget,r.b,c.a({},g().hide,!o)),"data-role":a.M,"data-widget-type":a.v,"data-scale-mode":a.p.PROPORTIONAL,ref:C,style:{top:n.y,left:n.x,height:T?"100%":m.height,width:T?"100%":m.width,position:T?"static":"absolute",backgroundColor:O,backgroundImage:"url(".concat(I,")"),backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:E.a(h),borderRadius:f,opacity:void 0===s?void 0:s/100}},p().createElement("img",{src:I,alt:"",style:{visibility:"hidden",borderRadius:f,objectFit:E.b(h)}}))},editConfig:o.qp,childWidgetEditConfig:o.Xp,blockConfig:o.Qp,isInvisibleWidget:l.k,hasAnyWidget:!0,widget:{isGlobalWidget:l.j,size:{width:l.l,height:l.h},attributes:{borderRadius:0,fileId:l.i,resizeMode:T.a.CONTAIN,backgroundColor:l.g}}},h=[{type:"WidgetTitle",hasDisableOrVisible:!0},[{type:"VisibleSwitch"},{type:"DisabledSwitch"}],{type:"Headline"},{type:"Options"},{type:"RadioMode"},{type:"Color"},{type:"WidgetOpacity"},{type:"RadioSizeType"},{type:"Coordinate"}]},42498(e,t,n){n.d(t,{df:()=>b,uf:()=>f});var o=n(45132),i=n(94220),a=n(28413),r=n(41594),l=n.n(r),c=n(73745),s=n(74375),u=n(60096),d=n(24876),p=n(12327),m=n(28950),g=n(13244),E=n(53621),T=n(58677),v={type:"field_coco_dropdown",name:"WIDGET_ID",custom:!0,options:function(){return u.c().getWidgetListByType(i.C)}},h={type:i.C,category:{iconId:T.a,blocks:i.C},getTemplate:function(e){var t='<field name="WIDGET_ID">'.concat(e,"</field>");return['<block type="radio_on_select" uncache="true">\n      '.concat(t,"\n    </block>"),s.d,'<block type="radio_set_headline" uncache="true">\n      '.concat(t,'\n      <value name="HEADLINE">\n        <shadow type="text">\n          <field name="TEXT"></field>\n        </shadow>\n      </value>\n    </block>'),'<block type="radio_set_option_count" uncache="true">\n      '.concat(t,'\n      <value name="COUNT">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\'',1,",",8,",1'>4</field>\n        </shadow>\n      </value>\n    </block>"),'<block type="radio_set_option_content" uncache="true">\n      '.concat(t,'\n      <value name="INDEX">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\'',1,",",8,',1\'>1</field>\n        </shadow>\n      </value>\n      <value name="CONTENT">\n        <shadow type="text">\n          <field name="TEXT"></field>\n        </shadow>\n      </value>\n    </block>'),'<block type="radio_set_option_selected_or_disabled" uncache="true">\n      <field name="STATE">selected</field>\n      '.concat(t,'\n      <value name="INDEX">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\'',1,",",8,",1'>1</field>\n        </shadow>\n      </value>\n    </block>"),'<block type="radio_clear_selected" uncache="true">\n      '.concat(t,"\n    </block>"),'<block type="radio_set_option_feedback" uncache="true">\n      '.concat(t,'\n      <value name="INDEX">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\'',1,",",8,',1\'>1</field>\n        </shadow>\n      </value>\n      <field name="STATE">correct</field>\n    </block>'),'<block type="radio_clear_feedback" uncache="true">\n      '.concat(t,"\n    </block>"),'<block type="radio_delete_option" uncache="true">\n      '.concat(t,'\n      <value name="INDEX">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\'',1,",",8,",1'>1</field>\n        </shadow>\n      </value>\n    </block>"),'<block type="radio_push_option" uncache="true">\n      <value name="CONTENT">\n        <shadow type="text">\n          <field name="TEXT"></field>\n        </shadow>\n      </value>\n      '.concat(t,"\n    </block>"),p.sb({property:"__opacity",widgetType:i.C,widgetId:e,isSetProperty:!0}),'<block type="radio_set_position" uncache="true">\n      <value name="NUM">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\',,1\'>100</field>\n        </shadow>\n      </value>\n      '.concat(t,"\n    </block>"),s.d,'<block type="radio_set_visible" uncache="true">\n      '.concat(t,"\n    </block>"),'<block type="radio_set_disabled" uncache="true">\n      '.concat(t,"\n    </block>"),s.d,'<block type="radio_get_selected_option_index" uncache="true">\n      '.concat(t,"\n    </block>"),'<block type="radio_get_selected_option_content" uncache="true">\n      '.concat(t,"\n    </block>"),'<block type="radio_get_option_content_by_index" uncache="true">\n      '.concat(t,'\n      <value name="INDEX">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\'',1,",",8,",1'>1</field>\n        </shadow>\n      </value>\n    </block>"),'<block type="radio_get_headline" uncache="true">\n      '.concat(t,"\n    </block>"),'<block type="widget_get">\n      <mutation property="optionCount" widget_type="'.concat(i.C,'"></mutation>\n      <field name="WIDGET_ID">').concat(e,"</field>\n    </block>"),'<block type="widget_get">\n      <mutation property="__position" widget_type="'.concat(i.C,'"></mutation>\n      <field name="WIDGET_ID">').concat(e,"</field>\n    </block>"),p.sb({property:"__opacity",widgetType:i.C,widgetId:e}),s.d,p.sb({property:"__visible",widgetType:i.C,widgetId:e}),p.sb({property:"__disabled",widgetType:i.C,widgetId:e})]},blockDeclareGroup:{setBlockGroupSnippet:function(e){function t(t,n){var o=t.blocks[n];return{block:o,widgetId:e.getFieldValue(o,"WIDGET_ID")||""}}e.insertBlockSnippetGenerator("radio_on_select",function(n,o){var i=t(n,o).widgetId,a=e.valueToCode(n,o,"INDEX",e.ORDER_FUNCTION_CALL),r=e.valueToCode(n,o,"CONTENT",e.ORDER_FUNCTION_CALL),l=e.statementToCode(n,o,"DO");return l?d.n("argsOnRadioWidgetSelected",[d.o(i)],l,[a,r]):""}),e.insertBlockSnippetGenerator("radio_on_select_content",function(){return"content"}),e.insertBlockSnippetGenerator("radio_on_select_index",function(){return"index"}),e.insertBlockSnippetGenerator("radio_set_headline",function(n,o){var i=t(n,o).widgetId,a=e.valueToCode(n,o,"HEADLINE",e.ORDER_FUNCTION_CALL);return d.n("setRadioWidgetHeadline",[d.o(i),a])}),e.insertBlockSnippetGenerator("radio_set_option_count",function(n,o){var i=t(n,o),a=i.widgetId,r=i.block,l=e.valueToCode(n,o,"COUNT",e.ORDER_FUNCTION_CALL);return d.l(d.n("setRadioWidgetOptionCount",[d.o(a),l]),r,e)}),e.insertBlockSnippetGenerator("radio_set_option_content",function(n,o){var i=t(n,o),a=i.widgetId,r=i.block,l=e.valueToCode(n,o,"INDEX",e.ORDER_FUNCTION_CALL),c=e.valueToCode(n,o,"CONTENT",e.ORDER_FUNCTION_CALL);return d.l(d.n("setRadioWidgetOptionContent",[d.o(a),l,c]),r,e)}),e.insertBlockSnippetGenerator("radio_set_option_selected_or_disabled",function(n,o){var i=t(n,o),a=i.widgetId,r=i.block,l=e.getFieldValue(r,"STATE")||"",c=e.valueToCode(n,o,"INDEX",e.ORDER_FUNCTION_CALL);return d.l(d.n("setRadioWidgetOptionSelectedOrDisabled",[d.o(a),c,d.o(l)]),r,e)}),e.insertBlockSnippetGenerator("radio_clear_selected",function(e,n){var o=t(e,n).widgetId;return d.n("clearRadioWidgetSelected",[d.o(o)])}),e.insertBlockSnippetGenerator("radio_set_option_feedback",function(n,o){var i=t(n,o),a=i.widgetId,r=i.block,l=e.getFieldValue(r,"STATE")||"",c=e.valueToCode(n,o,"INDEX",e.ORDER_FUNCTION_CALL);return d.l(d.n("setRadioWidgetOptionFeedback",[d.o(a),c,d.o(l)]),r,e)}),e.insertBlockSnippetGenerator("radio_clear_feedback",function(e,n){var o=t(e,n).widgetId;return d.n("clearRadioWidgetFeedback",[d.o(o)])}),e.insertBlockSnippetGenerator("radio_delete_option",function(n,o){var i=t(n,o),a=i.widgetId,r=i.block,l=e.valueToCode(n,o,"INDEX",e.ORDER_FUNCTION_CALL);return d.l(d.n("deleteRadioWidgetOption",[d.o(a),l]),r,e)}),e.insertBlockSnippetGenerator("radio_push_option",function(n,o){var i=t(n,o),a=i.widgetId,r=i.block,l=e.valueToCode(n,o,"CONTENT",e.ORDER_FUNCTION_CALL);return d.l(d.n("pushOptionToRadioWidget",[d.o(a),l]),r,e)}),e.insertBlockSnippetGenerator("radio_set_position",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,l=e.getFieldValue(a,"POSITION_TYPE")||"",c=e.valueToCode(n,o,"NUM",e.ORDER_FUNCTION_CALL);return d.l(d.n("positionX"===l?"setRadioWidgetPositionX":"setRadioWidgetPositionY",[d.o(r),c]),a,e)}),e.insertBlockSnippetGenerator("radio_set_visible",function(n,o){var i=t(n,o),a=i.widgetId,r=i.block,l="show"===e.getFieldValue(r,"VISIBLE");return d.n("setRadioWidgetVisible",[d.o(a),l])}),e.insertBlockSnippetGenerator("radio_set_disabled",function(n,o){var i=t(n,o),a=i.widgetId,r=i.block,l="disabled"===e.getFieldValue(r,"DISPLAY");return d.l(d.n("setRadioWidgetDisabled",[d.o(a),l]),r,e,!1,!0)}),e.insertBlockSnippetGenerator("radio_get_selected_option_index",function(e,n){var o=t(e,n).widgetId;return d.s("getRadioWidgetSelectedOptionIndex",[d.o(o)])}),e.insertBlockSnippetGenerator("radio_get_selected_option_content",function(n,o){var i=t(n,o),a=i.widgetId,r=i.block;return d.l(d.s("getRadioWidgetSelectedOptionContent",[d.o(a)]),r,e,!1,!0)}),e.insertBlockSnippetGenerator("radio_get_option_content_by_index",function(n,o){var i=t(n,o),a=i.widgetId,r=i.block,l=e.valueToCode(n,o,"INDEX",e.ORDER_FUNCTION_CALL);return d.l(d.s("getRadioWidgetOptionContentByIndex",[d.o(a),l]),r,e,!1,!0)}),e.insertBlockSnippetGenerator("radio_get_headline",function(e,n){var o=t(e,n).widgetId;return d.s("getRadioWidgetHeadline",[d.o(o)])}),e.insertBlockSnippetGenerator("radio_get_property",function(n,o){var i=t(n,o),a=i.widgetId,r=i.block,l="";switch(e.getFieldValue(r,"PROPERTY")){case"optionCount":l="getRadioWidgetOptionCount";break;case"positionX":l="getRadioWidgetPositionX";break;case"positionY":l="getRadioWidgetPositionY"}return l?d.s(l,[d.o(a)]):""})},setBlockGroupProfile:function(e,t){e.insertBlockProfile("radio_on_select",{type:"radio_on_select",message0:"%{BKY_RADIO_ON_SELECTED}",args0:[d.e("%{BKY_BLOCK_TAB_ICON}",!0),m.a({},v),{type:"input_value",name:"INDEX",align:"CENTRE",check:["Number"],default_shadow:'<shadow type="radio_on_select_index" />'},{type:"input_value",name:"CONTENT",align:"CENTRE",default_shadow:'<shadow type="radio_on_select_content" />'},{type:"input_dummy",align:"CENTRE"},{type:"input_statement",name:"DO",provided_context:"radio_on_select_DO"}],colour:"%{BKY_EVENTS_HUE}",inputsInline:!0,tooltip:"%{BKY_RADIO_ON_SELECTED_TOOLTIP}"}),e.insertBlockProfile("radio_on_select_index",{type:"radio_on_select_index",message0:"%{BKY_RADIO_PARAM_SELECTED_INDEX}",output:"Number",required_context:"radio_on_select_DO",colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("radio_on_select_content",{type:"radio_on_select_content",message0:"%{BKY_RADIO_PARAM_SELECTED_CONTENT}",output:"String",required_context:"radio_on_select_DO",colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("radio_set_headline",{type:"radio_set_headline",message0:"%{BKY_RADIO_SET_HEADLINE}",args0:[m.a({},v),{type:"input_value",name:"HEADLINE",align:"CENTRE",check:["String","Array","Boolean","Number","Object"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("radio_set_option_count",{type:"radio_set_option_count",message0:"%{BKY_RADIO_SET_OPTION_COUNT}",args0:[m.a({},v),{type:"input_value",name:"COUNT",check:["Number"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("radio_set_option_content",{type:"radio_set_option_content",message0:"%{BKY_RADIO_SET_OPTION_CONTENT}",args0:[m.a({},v),{type:"input_value",name:"INDEX",check:["Number"]},{type:"input_value",name:"CONTENT",check:["String","Number","Boolean","Array","Object"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("radio_set_option_selected_or_disabled",{type:"radio_set_option_selected_or_disabled",message0:"%{BKY_RADIO_SET_OPTION_SELECTED_OR_DISABLED}",args0:[{type:"field_coco_dropdown",name:"STATE",custom:!0,options:[[t.Msg.SELECTED,"selected"],[t.Msg.DISABLED,"disabled"]]},m.a({},v),{type:"input_value",name:"INDEX",check:["Number"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("radio_clear_selected",{type:"radio_clear_selected",message0:"%{BKY_RADIO_CLEAR_SELECTED}",args0:[m.a({},v)],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0,tooltip:"%{BKY_RADIO_CLEAR_SELECTED_TOOLTIP}"}),e.insertBlockProfile("radio_set_option_feedback",{type:"radio_set_option_feedback",message0:"%{BKY_RADIO_SET_OPTION_FEEDBACK}",args0:[m.a({},v),{type:"input_value",name:"INDEX",check:["Number"]},{type:"field_coco_dropdown",name:"STATE",custom:!0,options:[[t.Msg.CORRECT,"correct"],[t.Msg.INCORRECT,"incorrect"]]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0,tooltip:"%{BKY_RADIO_SET_OPTION_FEEDBACK_TOOLTIP}"}),e.insertBlockProfile("radio_clear_feedback",{type:"radio_clear_feedback",message0:"%{BKY_RADIO_CLEAR_FEEDBACK}",args0:[m.a({},v)],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0,tooltip:"%{BKY_RADIO_CLEAR_FEEDBACK_TOOLTIP}"}),e.insertBlockProfile("radio_delete_option",{type:"radio_delete_option",message0:"%{BKY_RADIO_DELETE_OPTION}",args0:[m.a({},v),{type:"input_value",name:"INDEX",check:["Number"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("radio_push_option",{type:"radio_push_option",message0:"%{BKY_RADIO_PUSH_OPTION}",args0:[{type:"input_value",name:"CONTENT",check:["String","Number","Boolean","Array"]},m.a({},v)],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("radio_set_position",{type:"radio_set_position",message0:"%{BKY_RADIO_SET_WIDGET_POSITION}",args0:[m.a({},v),{type:"field_coco_dropdown",name:"POSITION_TYPE",custom:!0,options:function(){return[[t.Msg.POSITION_X,"positionX"],[t.Msg.POSITION_Y,"positionY"]]}},{type:"input_value",name:"NUM",check:["Number"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("radio_set_visible",{type:"radio_set_visible",message0:"%1 %2",args0:[{type:"field_coco_dropdown",name:"VISIBLE",custom:!0,options:function(){return[[t.Msg.SHOW,"show"],[t.Msg.HIDE,"hide"]]}},m.a({},v)],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("radio_set_disabled",{type:"radio_set_disabled",message0:"%1 %2",args0:[{type:"field_coco_dropdown",name:"DISPLAY",custom:!0,options:function(){return[[t.Msg.ABLE,"able"],[t.Msg.DISABLED,"disabled"]]}},m.a({},v)],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("radio_get_selected_option_index",{type:"radio_get_selected_option_index",message0:"%{BKY_RADIO_GET_SELECTED_OPTION_INDEX}",args0:[m.a({},v)],output:["Number"],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0,tooltip:"%{BKY_RADIO_GET_SELECTED_OPTION_INDEX_TOOLTIP}"}),e.insertBlockProfile("radio_get_selected_option_content",{type:"radio_get_selected_option_content",message0:"%{BKY_RADIO_GET_SELECTED_OPTION_CONTENT}",args0:[m.a({},v)],output:["String"],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0,tooltip:"%{BKY_RADIO_GET_SELECTED_OPTION_CONTENT_TOOLTIP}"}),e.insertBlockProfile("radio_get_option_content_by_index",{type:"radio_get_option_content_by_index",message0:"%{BKY_RADIO_GET_OPTION_CONTENT_BY_INDEX}",args0:[m.a({},v),{type:"input_value",name:"INDEX",check:["Number"]}],output:["String"],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("radio_get_headline",{type:"radio_get_headline",message0:"%{BKY_RADIO_GET_HEADLINE}",args0:[m.a({},v)],output:["String"],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("radio_get_property",{type:"radio_get_property",message0:"%{BKY_RADIO_GET_PROPERTY}",args0:[m.a({},v),{type:"field_coco_dropdown",name:"PROPERTY",custom:!0,options:function(){return[[t.Msg.OPTION_COUNT,"optionCount"],[t.Msg.POSITION_X,"positionX"],[t.Msg.POSITION_Y,"positionY"]]}}],output:["Number"],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0})}},categoryClass:{text:"",iconId:T.a,blocks:[]},renameBlocksInfo:{blocksList:["radio_on_select","radio_set_headline","radio_set_option_count","radio_set_option_content","radio_set_option_selected_or_disabled","radio_clear_selected","radio_set_option_feedback","radio_clear_feedback","radio_delete_option","radio_push_option","radio_set_visible","radio_set_disabled","radio_get_selected_option_index","radio_set_position","radio_get_selected_option_content","radio_get_option_content_by_index","radio_get_headline","radio_get_property"],fieldName:"WIDGET_ID"},topBlocks:["radio_on_select"]},f={icon:T.a,title:"radio",type:i.C,previewAreaWidgetTitle:"radio",component:function(e){var t=e.onEdit,n=e.onChange,o=e.attributes.options;return l().createElement(c.a,Object.assign({},e,{onHeadlineClick:function(e){t&&t(e.target,function(e){n&&n("headline",e)},{sizeAdaptive:i.q.AUTO_HEIGHT,maxLength:200})},onOptionClick:function(e,r){t&&t(r,function(t){o[e].content=t,n&&n("options",a.a(o))},{sizeAdaptive:i.q.AUTO_HEIGHT,maxLength:200})}}))},editConfig:o.nf,blockConfig:h,isInvisibleWidget:T.e,widget:{isGlobalWidget:T.d,size:{width:280,height:89},animationRecord:g.a({},E.a.BUTTON,{click:"buttonPress"}),attributes:{disabled:!1,sizeAdaptive:i.q.AUTO_HEIGHT,headlineVisible:!0,options:[{content:"%{COCO_defaultOption1}",state:"none"},{content:"%{COCO_defaultOption2}",state:"none"}],headline:"%{COCO_defaultHeadlineContext}",color:T.b,sizeType:i.s.MEDIUM,mode:E.a.DEFAULT}}},b=[{type:"WidgetTitle",hasDisableOrVisible:!0},[{type:"VisibleSwitch"},{type:"DisabledSwitch"}],{type:"Headline"},{type:"Options"},{type:"Color"},{type:"WidgetOpacity"},{type:"CheckboxSizeType"},{type:"Coordinate"}]},74845(e,t,n){n.d(t,{_f:()=>v});var o=n(42498),i=n(94220),a=n(28413),r=n(41594),l=n.n(r),c=n(58026),s=n(74375),u=n(60096),d=n(24876),p=n(12327),m=n(28950),g=n(61476),E={type:"field_coco_dropdown",name:"WIDGET_ID",custom:!0,options:function(){return u.c().getWidgetListByType(i.g)}},T={type:i.g,category:{iconId:g.e,blocks:i.g},getTemplate:function(e){var t='<field name="WIDGET_ID">'.concat(e,"</field>");return['<block type="checkbox_on_select" uncache="true">\n      '.concat(t,"\n    </block>"),'<block type="checkbox_on_change" uncache="true">\n    '.concat(t,"\n  </block>"),s.d,'<block type="checkbox_set_headline" uncache="true">\n      '.concat(t,'\n      <value name="HEADLINE">\n        <shadow type="text">\n          <field name="TEXT"></field>\n        </shadow>\n      </value>\n    </block>'),s.d,'<block type="checkbox_set_option_count" uncache="true">\n      '.concat(t,'\n      <value name="COUNT">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\'',1,",",8,",1'>4</field>\n        </shadow>\n      </value>\n    </block>"),'<block type="checkbox_set_option_content" uncache="true">\n      '.concat(t,'\n      <value name="INDEX">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\'',1,",",8,',1\'>1</field>\n        </shadow>\n      </value>\n      <value name="CONTENT">\n        <shadow type="text">\n          <field name="TEXT"></field>\n        </shadow>\n      </value>\n    </block>'),'<block type="checkbox_set_option_state" uncache="true">\n      <field name="STATE">selected</field>\n      '.concat(t,'\n      <value name="INDEX">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\'',1,",",8,",1'>1</field>\n        </shadow>\n      </value>\n    </block>"),'<block type="checkbox_clear_selected" uncache="true">\n      '.concat(t,"\n    </block>"),s.d,'<block type="checkbox_set_option_feedback" uncache="true">\n      '.concat(t,'\n      <value name="INDEX">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\'',1,",",8,',1\'>1</field>\n        </shadow>\n      </value>\n      <field name="STATE">correct</field>\n    </block>'),'<block type="checkbox_clear_feedback" uncache="true">\n      '.concat(t,"\n    </block>"),s.d,'<block type="checkbox_delete_option" uncache="true">\n      '.concat(t,'\n      <value name="INDEX">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\'',1,",",8,",1'>1</field>\n        </shadow>\n      </value>\n    </block>"),'<block type="checkbox_push_option" uncache="true">\n      <value name="CONTENT">\n        <shadow type="text">\n          <field name="TEXT"></field>\n        </shadow>\n      </value>\n      '.concat(t,"\n    </block>"),p.sb({property:"__opacity",widgetType:i.g,widgetId:e,isSetProperty:!0}),'<block type="checkbox_set_position" uncache="true">\n      <value name="NUM">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\',,1\'>100</field>\n        </shadow>\n      </value>\n      '.concat(t,"\n    </block>"),s.d,'<block type="checkbox_set_visible" uncache="true">\n      '.concat(t,"\n    </block>"),'<block type="checkbox_set_disabled" uncache="true">\n      '.concat(t,"\n    </block>"),s.d,'<block type="checkbox_get_selected_option_index" uncache="true">\n      '.concat(t,"\n    </block>"),'<block type="checkbox_get_selected_option_content" uncache="true">\n      '.concat(t,"\n    </block>"),'<block type="checkbox_get_option_content_by_index" uncache="true">\n      '.concat(t,'\n      <value name="INDEX">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\'',1,",",8,",1'>1</field>\n        </shadow>\n      </value>\n    </block>"),'<block type="checkbox_get_headline" uncache="true">\n      '.concat(t,"\n    </block>"),'<block type="widget_get">\n      <mutation property="optionCount" widget_type="'.concat(i.g,'"></mutation>\n      <field name="WIDGET_ID">').concat(e,"</field>\n    </block>"),'<block type="widget_get">\n      <mutation property="__position" widget_type="'.concat(i.g,'"></mutation>\n      <field name="WIDGET_ID">').concat(e,"</field>\n    </block>"),p.sb({property:"__opacity",widgetType:i.g,widgetId:e}),s.d,p.sb({property:"__visible",widgetType:i.g,widgetId:e}),p.sb({property:"__disabled",widgetType:i.g,widgetId:e})]},blockDeclareGroup:{setBlockGroupSnippet:function(e){function t(t,n){var o=t.blocks[n];return{block:o,widgetId:e.getFieldValue(o,"WIDGET_ID")||""}}e.insertBlockSnippetGenerator("checkbox_on_select",function(n,o){var i=t(n,o),a=i.widgetId,r=i.block,l=e.valueToCode(n,o,"INDEX",e.ORDER_FUNCTION_CALL),c=e.getFieldValue(r,"TYPE"),s=e.valueToCode(n,o,"CONTENT",e.ORDER_FUNCTION_CALL),u=e.statementToCode(n,o,"DO");return u?d.n("selected"===c?"argsOnCheckboxWidgetSelected":"argsOnCheckboxWidgetUnselected",[d.o(a)],u,[l,s]):""}),e.insertBlockSnippetGenerator("checkbox_on_select_content",function(){return"".concat(d.a,"contentList")}),e.insertBlockSnippetGenerator("checkbox_on_select_index",function(){return"".concat(d.a,"indexList")}),e.insertBlockSnippetGenerator("checkbox_on_change",function(n,o){var i=t(n,o).widgetId,a=e.valueToCode(n,o,"INDEX",e.ORDER_FUNCTION_CALL),r=e.valueToCode(n,o,"RESULT",e.ORDER_FUNCTION_CALL),l=e.statementToCode(n,o,"DO");return l?d.n("argsOnCheckboxWidgetChange",[d.o(i)],l,[a,r]):""}),e.insertBlockSnippetGenerator("checkbox_on_change_result",function(){return"result"}),e.insertBlockSnippetGenerator("checkbox_on_change_index",function(){return"index"}),e.insertBlockSnippetGenerator("checkbox_set_headline",function(n,o){var i=t(n,o).widgetId,a=e.valueToCode(n,o,"HEADLINE",e.ORDER_FUNCTION_CALL);return d.n("setCheckboxWidgetHeadline",[d.o(i),a])}),e.insertBlockSnippetGenerator("checkbox_set_option_count",function(n,o){var i=t(n,o),a=i.widgetId,r=i.block,l=e.valueToCode(n,o,"COUNT",e.ORDER_FUNCTION_CALL);return d.l(d.n("setCheckboxWidgetOptionCount",[d.o(a),l]),r,e)}),e.insertBlockSnippetGenerator("checkbox_set_option_content",function(n,o){var i=t(n,o),a=i.widgetId,r=i.block,l=e.valueToCode(n,o,"INDEX",e.ORDER_FUNCTION_CALL),c=e.valueToCode(n,o,"CONTENT",e.ORDER_FUNCTION_CALL);return d.l(d.n("setCheckboxWidgetOptionContent",[d.o(a),l,c]),r,e)}),e.insertBlockSnippetGenerator("checkbox_set_option_state",function(n,o){var i=t(n,o),a=i.widgetId,r=i.block,l="";switch(e.getFieldValue(r,"STATE")){case"selected":l="setCheckboxWidgetOptionSelected";break;case"unselected":l="setCheckboxWidgetOptionUnselected";break;case"disabled":l="setCheckboxWidgetOptionDisabled"}var c=e.valueToCode(n,o,"INDEX",e.ORDER_FUNCTION_CALL);return d.l(d.n(l,[d.o(a),c]),r,e)}),e.insertBlockSnippetGenerator("checkbox_clear_selected",function(e,n){var o=t(e,n).widgetId;return d.n("clearCheckboxWidgetSelected",[d.o(o)])}),e.insertBlockSnippetGenerator("checkbox_set_option_feedback",function(n,o){var i=t(n,o),a=i.widgetId,r=i.block,l=e.getFieldValue(r,"STATE")||"",c=e.valueToCode(n,o,"INDEX",e.ORDER_FUNCTION_CALL);return d.l(d.n("setCheckboxWidgetOptionFeedback",[d.o(a),c,d.o(l)]),r,e)}),e.insertBlockSnippetGenerator("checkbox_clear_feedback",function(e,n){var o=t(e,n).widgetId;return d.n("clearCheckboxWidgetFeedback",[d.o(o)])}),e.insertBlockSnippetGenerator("checkbox_delete_option",function(n,o){var i=t(n,o),a=i.widgetId,r=i.block,l=e.valueToCode(n,o,"INDEX",e.ORDER_FUNCTION_CALL);return d.l(d.n("deleteCheckboxWidgetOption",[d.o(a),l]),r,e)}),e.insertBlockSnippetGenerator("checkbox_push_option",function(n,o){var i=t(n,o),a=i.widgetId,r=i.block,l=e.valueToCode(n,o,"CONTENT",e.ORDER_FUNCTION_CALL);return d.l(d.n("pushOptionToCheckboxWidget",[d.o(a),l]),r,e)}),e.insertBlockSnippetGenerator("checkbox_set_position",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,l=e.getFieldValue(a,"POSITION_TYPE")||"",c=e.valueToCode(n,o,"NUM",e.ORDER_FUNCTION_CALL);return d.l(d.n("positionX"===l?"setCheckboxWidgetPositionX":"setCheckboxWidgetPositionY",[d.o(r),c]),a,e)}),e.insertBlockSnippetGenerator("checkbox_set_visible",function(n,o){var i=t(n,o),a=i.widgetId,r=i.block,l="show"===e.getFieldValue(r,"VISIBLE");return d.n("setCheckboxWidgetVisible",[d.o(a),l])}),e.insertBlockSnippetGenerator("checkbox_set_disabled",function(n,o){var i=t(n,o),a=i.widgetId,r=i.block,l="disabled"===e.getFieldValue(r,"DISPLAY");return d.n("setCheckboxWidgetDisabled",[d.o(a),l])}),e.insertBlockSnippetGenerator("checkbox_get_selected_option_index",function(e,n){var o=t(e,n).widgetId;return d.s("getCheckboxWidgetSelectedOptionIndex",[d.o(o)])}),e.insertBlockSnippetGenerator("checkbox_get_selected_option_content",function(n,o){var i=t(n,o),a=i.widgetId,r=i.block;return d.l(d.s("getCheckboxWidgetSelectedOptionContent",[d.o(a)]),r,e,!1,!0)}),e.insertBlockSnippetGenerator("checkbox_get_option_content_by_index",function(n,o){var i=t(n,o),a=i.widgetId,r=i.block,l=e.valueToCode(n,o,"INDEX",e.ORDER_FUNCTION_CALL);return d.l(d.s("getCheckboxWidgetOptionContentByIndex",[d.o(a),l]),r,e,!1,!0)}),e.insertBlockSnippetGenerator("checkbox_get_headline",function(e,n){var o=t(e,n).widgetId;return d.s("getCheckboxWidgetHeadline",[d.o(o)])}),e.insertBlockSnippetGenerator("checkbox_get_property",function(n,o){var i=t(n,o),a=i.widgetId,r=i.block,l="";switch(e.getFieldValue(r,"PROPERTY")){case"optionCount":l="getCheckboxWidgetOptionCount";break;case"positionX":l="getCheckboxWidgetPositionX";break;case"positionY":l="getCheckboxWidgetPositionY"}return l?d.s(l,[d.o(a)]):""})},setBlockGroupProfile:function(e,t){e.insertBlockProfile("checkbox_on_select",{type:"checkbox_on_select",message0:"%{BKY_CHECKBOX_ON_SELECTED}",args0:[d.e("%{BKY_BLOCK_TAB_ICON}",!0),m.a({},E),{type:"field_coco_dropdown",name:"TYPE",custom:!0,options:[[t.Msg.SELECTED,"selected"],[t.Msg.UNSELECTED,"unselected"]]},{type:"input_value",name:"INDEX",align:"CENTRE",default_shadow:'<shadow type="checkbox_on_select_index" />'},{type:"input_value",name:"CONTENT",align:"CENTRE",default_shadow:'<shadow type="checkbox_on_select_content" />'},{type:"input_dummy",align:"CENTRE"},{type:"input_statement",name:"DO",provided_context:"checkbox_on_select_DO"}],colour:"%{BKY_EVENTS_HUE}",inputsInline:!0,tooltip:"%{BKY_CHECKBOX_ON_SELECTED_TOOLTIP}"}),e.insertBlockProfile("checkbox_on_select_index",{type:"checkbox_on_select_index",message0:"%{BKY_CHECKBOX_PARAM_SELECTED_INDEX_LIST}",output:"Array",required_context:"checkbox_on_select_DO",colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("checkbox_on_select_content",{type:"checkbox_on_select_content",message0:"%{BKY_CHECKBOX_PARAM_SELECTED_CONTENT_LIST}",output:"Array",required_context:"checkbox_on_select_DO",colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("checkbox_on_change",{type:"checkbox_on_change",message0:"%{BKY_CHECKBOX_ON_CHANGE}",args0:[d.e("%{BKY_BLOCK_TAB_ICON}",!0),m.a({},E),{type:"input_value",name:"INDEX",align:"CENTRE",default_shadow:'<shadow type="checkbox_on_change_index" />'},{type:"input_value",name:"RESULT",align:"CENTRE",check:"Boolean",default_shadow:'<shadow type="checkbox_on_change_result" />'},{type:"input_dummy",align:"CENTRE"},{type:"input_statement",name:"DO",provided_context:"checkbox_on_change_DO"}],colour:"%{BKY_EVENTS_HUE}",inputsInline:!0,tooltip:"%{BKY_CHECKBOX_ON_CHANGE_TOOLTIP}"}),e.insertBlockProfile("checkbox_on_change_index",{type:"checkbox_on_change_index",message0:"%{BKY_CHECKBOX_PARAM_SELECTED_INDEX}",output:"Number",required_context:"checkbox_on_change_DO",colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("checkbox_on_change_result",{type:"checkbox_on_change_result",message0:"%{BKY_CHECKBOX_PARAM_SELECTED_RESULT}",output:"Boolean",required_context:"checkbox_on_change_DO",colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("checkbox_set_headline",{type:"checkbox_set_headline",message0:"%{BKY_CHECKBOX_SET_HEADLINE}",args0:[m.a({},E),{type:"input_value",name:"HEADLINE",align:"CENTRE",check:["String","Array","Boolean","Number","Object"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("checkbox_set_option_count",{type:"checkbox_set_option_count",message0:"%{BKY_CHECKBOX_SET_OPTION_COUNT}",args0:[m.a({},E),{type:"input_value",name:"COUNT",check:["Number"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("checkbox_set_option_content",{type:"checkbox_set_option_content",message0:"%{BKY_CHECKBOX_SET_OPTION_CONTENT}",args0:[m.a({},E),{type:"input_value",name:"INDEX",check:["Number"]},{type:"input_value",name:"CONTENT",check:["String","Number","Boolean","Array","Object"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("checkbox_set_option_state",{type:"checkbox_set_option_state",message0:"%{BKY_CHECKBOX_SET_OPTION_STATE}",args0:[{type:"field_coco_dropdown",name:"STATE",custom:!0,options:[[t.Msg.SELECTED,"selected"],[t.Msg.UNSELECTED,"unselected"],[t.Msg.DISABLED,"disabled"]]},m.a({},E),{type:"input_value",name:"INDEX",check:["Number"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("checkbox_clear_selected",{type:"checkbox_clear_selected",message0:"%{BKY_CHECKBOX_CLEAR_SELECTED}",args0:[m.a({},E)],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0,tooltip:"%{BKY_CHECKBOX_CLEAR_SELECTED_TOOLTIP}"}),e.insertBlockProfile("checkbox_set_option_feedback",{type:"checkbox_set_option_feedback",message0:"%{BKY_CHECKBOX_SET_OPTION_FEEDBACK}",args0:[m.a({},E),{type:"input_value",name:"INDEX",check:["Number"]},{type:"field_coco_dropdown",name:"STATE",custom:!0,options:[[t.Msg.CORRECT,"correct"],[t.Msg.INCORRECT,"incorrect"]]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0,tooltip:"%{BKY_CHECKBOX_SET_OPTION_FEEDBACK_TOOLTIP}"}),e.insertBlockProfile("checkbox_clear_feedback",{type:"checkbox_clear_feedback",message0:"%{BKY_CHECKBOX_CLEAR_FEEDBACK}",args0:[m.a({},E)],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0,tooltip:"%{BKY_CHECKBOX_CLEAR_FEEDBACK_TOOLTIP}"}),e.insertBlockProfile("checkbox_delete_option",{type:"checkbox_delete_option",message0:"%{BKY_CHECKBOX_DELETE_OPTION}",args0:[m.a({},E),{type:"input_value",name:"INDEX",check:["Number"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("checkbox_push_option",{type:"checkbox_push_option",message0:"%{BKY_CHECKBOX_PUSH_OPTION}",args0:[{type:"input_value",name:"CONTENT",check:["String","Number","Boolean","Array"]},m.a({},E)],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("checkbox_set_position",{type:"checkbox_set_position",message0:"%{BKY_CHECKBOX_SET_WIDGET_POSITION}",args0:[m.a({},E),{type:"field_coco_dropdown",name:"POSITION_TYPE",custom:!0,options:function(){return[[t.Msg.POSITION_X,"positionX"],[t.Msg.POSITION_Y,"positionY"]]}},{type:"input_value",name:"NUM",check:["Number"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("checkbox_set_visible",{type:"checkbox_set_visible",message0:"%1 %2",args0:[{type:"field_coco_dropdown",name:"VISIBLE",custom:!0,options:function(){return[[t.Msg.SHOW,"show"],[t.Msg.HIDE,"hide"]]}},m.a({},E)],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("checkbox_set_disabled",{type:"checkbox_set_disabled",message0:"%1 %2",args0:[{type:"field_coco_dropdown",name:"DISPLAY",custom:!0,options:function(){return[[t.Msg.ABLE,"able"],[t.Msg.DISABLED,"disabled"]]}},m.a({},E)],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("checkbox_get_selected_option_index",{type:"checkbox_get_selected_option_index",message0:"%{BKY_CHECKBOX_GET_SELECTED_OPTION_INDEX}",args0:[m.a({},E)],output:["Array"],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0,tooltip:"%{BKY_CHECKBOX_GET_SELECTED_OPTION_INDEX_TOOLTIP}"}),e.insertBlockProfile("checkbox_get_selected_option_content",{type:"checkbox_get_selected_option_content",message0:"%{BKY_CHECKBOX_GET_SELECTED_OPTION_CONTENT}",args0:[m.a({},E)],output:["Array"],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0,tooltip:"%{BKY_CHECKBOX_GET_SELECTED_OPTION_CONTENT_TOOLTIP}"}),e.insertBlockProfile("checkbox_get_option_content_by_index",{type:"checkbox_get_option_content_by_index",message0:"%{BKY_CHECKBOX_GET_OPTION_CONTENT_BY_INDEX}",args0:[m.a({},E),{type:"input_value",name:"INDEX",check:["Number"]}],output:["String"],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("checkbox_get_headline",{type:"checkbox_get_headline",message0:"%{BKY_CHECKBOX_GET_HEADLINE}",args0:[m.a({},E)],output:["String"],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("checkbox_get_property",{type:"checkbox_get_property",message0:"%{BKY_CHECKBOX_GET_PROPERTY}",args0:[m.a({},E),{type:"field_coco_dropdown",name:"PROPERTY",custom:!0,options:function(){return[[t.Msg.OPTION_COUNT,"optionCount"],[t.Msg.POSITION_X,"positionX"],[t.Msg.POSITION_Y,"positionY"]]}}],output:["Number"],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0})}},categoryClass:{text:"",iconId:g.e,blocks:[]},renameBlocksInfo:{blocksList:["checkbox_on_select","checkbox_on_change","checkbox_set_headline","checkbox_set_option_count","checkbox_set_option_content","checkbox_set_option_state","checkbox_clear_selected","checkbox_set_option_feedback","checkbox_clear_feedback","checkbox_delete_option","checkbox_push_option","checkbox_set_visible","checkbox_set_disabled","checkbox_get_selected_option_index","checkbox_set_position","checkbox_get_selected_option_content","checkbox_get_option_content_by_index","checkbox_get_headline","checkbox_get_property"],fieldName:"WIDGET_ID"},topBlocks:["checkbox_on_select","checkbox_on_change"]},v={icon:g.e,title:"checkbox",type:i.g,previewAreaWidgetTitle:"checkbox",component:function(e){var t=e.onEdit,n=e.onChange,o=e.attributes.options;return l().createElement(c.a,Object.assign({},e,{onHeadlineClick:function(e){t&&t(e.target,function(e){n&&n("headline",e)},{sizeAdaptive:i.q.AUTO_HEIGHT,maxLength:200})},onOptionClick:function(e,r){t&&t(r,function(t){o[e].content=t,n&&n("options",a.a(o))},{sizeAdaptive:i.q.AUTO_HEIGHT,maxLength:200})}}))},editConfig:o.df,blockConfig:T,isInvisibleWidget:g.c,widget:{isGlobalWidget:g.b,size:{width:280,height:119},attributes:{disabled:!1,sizeAdaptive:i.q.AUTO_HEIGHT,headlineVisible:!0,options:[{content:"%{COCO_defaultOption1}",state:"none"},{content:"%{COCO_defaultOption2}",state:"none"}],headline:"%{COCO_defaultHeadlineContext}",color:g.f,sizeType:i.s.MEDIUM}}}},62705(e,t,n){n.d(t,{de:()=>m,fe:()=>E,ge:()=>h,le:()=>d,me:()=>v,se:()=>s});var o=n(34221),i=n(7452),a=n.n(i);n(99282);var r=n(14104),l=n(67240),c=l.a.oTServerHost;function s(e){return u.apply(this,arguments)}function u(){return(u=o.a(a().mark(function e(t){var n;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.post(c+"/coll/coco/".concat(t));case 2:if(200!==(n=e.sent.data.code)&&0x989682!==n){e.next=8;break}return e.abrupt("return",!0);case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function d(e){return p.apply(this,arguments)}function p(){return(p=o.a(a().mark(function e(t){var n,o,i,l=arguments;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:1,o=l.length>2&&void 0!==l[2]?l[2]:200,e.next=4,r.a.get(c+"/coll/coco/collaborator/".concat(t),{params:{work_id:t,current_page:n,page_size:o}});case 4:return i=e.sent.data.data.items.map(function(e){return{id:e.coll_user_id,nickname:e.nickname,avatar_url:e.avatar_url,is_author:e.is_author,edit_permission:e.edit_permission||2}}),e.abrupt("return",i);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function m(e,t){return g.apply(this,arguments)}function g(){return(g=o.a(a().mark(function e(t,n){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.delete(c+"/coll/coco/collaborator/".concat(t),{params:{work_id:t,coll_user_id:n}});case 2:if(200!==e.sent.data.code){e.next=8;break}return e.abrupt("return",!0);case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function E(e,t){return T.apply(this,arguments)}function T(){return(T=o.a(a().mark(function e(t,n){var o;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.get(c+"/coll/coco/collaborator/code/".concat(t,"?edit_permission=").concat(n));case 2:if(200!==(o=e.sent).data.code){e.next=5;break}return e.abrupt("return",o.data.data.invite_code);case 5:return e.abrupt("return","");case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function v(){return(v=o.a(a().mark(function e(t,n){var o;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.post(c+"/coll/coco/collaborator/code/add-collaborator",{work_id:Number(t),invite_code:n});case 2:return o=e.sent,e.abrupt("return",200===o.data.code);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function h(e,t,n){return f.apply(this,arguments)}function f(){return(f=o.a(a().mark(function e(t,n,o){var i;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.put(c+"/coll/coco/collaborator/edit_permission/".concat(n),{work_id:n,coll_user_id:t,edit_permission:o});case 2:return i=e.sent,e.abrupt("return",200===i.data.code);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}l.a.oTSocketHost,l.a.serverHost},10359(e,t,n){n.d(t,{Tf:()=>h});var o=n(63554),i=n(51774),a=[{type:"WidgetTitle",hasDisableOrVisible:!0},[{type:"VisibleSwitch"},{type:"DisabledSwitch"}],{type:"TextInput",label:"url",key:"url",clearButtonVisible:!0},{type:"WidgetOpacity"},{type:"Size",sizeRange:[[i.c,o.e],[i.b,o.d]]},{type:"Coordinate"}],r=n(74375),l=n(60096),c=n(24876),s=n(12327),u=n(94220),d=n(28950),p=n(41594),m=n.n(p),g=n(55085),E="%{BKY_BLOCK_INTERNET_ICON}",T={type:"field_coco_dropdown",name:"WIDGET_ID",custom:!0,options:function(){return l.c().getWidgetListByType(u.L)}},v={type:u.L,category:{iconId:i.a,blocks:u.L},getTemplate:function(e){var t='<field name="WIDGET_ID">'.concat(e,"</field>");return['<block type="webview_on_start_load" uncache="true">\n      '.concat(t,"\n    </block>"),'<block type="webview_on_load" uncache="true">\n      '.concat(t,"\n    </block>"),'<block type="webview_on_load_error" uncache="true">\n      '.concat(t,"\n    </block>"),r.d,'<block type="webview_set_url" uncache="true">\n      '.concat(t,'\n      <value name="VALUE">\n        <shadow type="text">\n          <field name="TEXT"></field>\n        </shadow>\n      </value>\n    </block>'),s.sb({property:"__opacity",widgetType:u.L,widgetId:e,isSetProperty:!0}),'<block type="webview_refresh" uncache="true">\n      '.concat(t,"\n    </block>"),r.d,'<block type="webview_set_visible" uncache="true">\n    '.concat(t,"\n    </block>"),'<block type="webview_set_disabled" uncache="true">\n      '.concat(t,"\n    </block>"),r.d,'<block type="webview_get_url" uncache="true">\n      '.concat(t,"\n    </block>"),s.sb({property:"__opacity",widgetType:u.L,widgetId:e}),s.sb({property:"__size",widgetType:u.L,widgetId:e}),s.sb({property:"__position",widgetType:u.L,widgetId:e}),r.d,s.sb({property:"__visible",widgetType:u.L,widgetId:e}),s.sb({property:"__disabled",widgetType:u.L,widgetId:e})]},blockDeclareGroup:{setBlockGroupSnippet:function(e){function t(t,n){var o=t.blocks[n];return{block:o,widgetId:e.getFieldValue(o,"WIDGET_ID")||""}}e.insertBlockSnippetGenerator("webview_on_start_load",function(n,o){var i=t(n,o).widgetId,a=e.statementToCode(n,o,"DO");return a?c.n("onWebViewWidgetStartLoad",[c.o(i)],a):""}),e.insertBlockSnippetGenerator("webview_on_load",function(n,o){var i=t(n,o).widgetId,a=e.statementToCode(n,o,"DO");return a?c.n("onWebViewWidgetLoaded",[c.o(i)],a):""}),e.insertBlockSnippetGenerator("webview_on_load_error",function(n,o){var i=t(n,o).widgetId,a=e.statementToCode(n,o,"DO");return a?c.n("onWebViewWidgetLoadError",[c.o(i)],a):""}),e.insertBlockSnippetGenerator("webview_set_url",function(n,o){var i=t(n,o),a=i.widgetId,r=i.block,l=e.valueToCode(n,o,"VALUE",e.ORDER_FUNCTION_CALL),s=c.o(e.getDynamicValue("__CURRENT_SCREEN_ID__")),u=c.o(r.id);return c.l(c.n("setWebViewWidgetUrl",[c.o(a),l,s,u]),r,e)}),e.insertBlockSnippetGenerator("webview_refresh",function(e,n){var o=t(e,n).widgetId;return c.n("refreshWebViewWidget",[c.o(o)])}),e.insertBlockSnippetGenerator("webview_set_visible",function(n,o){var i=t(n,o),a=i.widgetId,r=i.block,l="show"===e.getFieldValue(r,"VISIBLE");return c.n("setWebViewWidgetVisible",[c.o(a),l])}),e.insertBlockSnippetGenerator("webview_set_disabled",function(n,o){var i=t(n,o),a=i.widgetId,r=i.block,l="disabled"===e.getFieldValue(r,"DISPLAY");return c.n("setWebViewWidgetDisabled",[c.o(a),l])}),e.insertBlockSnippetGenerator("webview_get_url",function(e,n){var o=t(e,n).widgetId;return c.s("getWebViewWidgetUrl",[c.o(o)])}),e.insertBlockSnippetGenerator("webview_get_property",function(n,o){var i=t(n,o),a=i.widgetId,r=i.block,l="";switch(e.getFieldValue(r,"PROPERTY")){case"positionX":l="getWebViewWidgetPositionX";break;case"positionY":l="getWebViewWidgetPositionY";break;case"width":l="getWebViewWidgetWidth";break;case"height":l="getWebViewWidgetHeight"}return c.s(l,[c.o(a)])})},setBlockGroupProfile:function(e,t){e.insertBlockProfile("webview_on_start_load",{type:"webview_on_start_load",message0:"%{BKY_WEBVIEW_ON_START_LOAD}",args0:[c.e(E,!0),d.a({},T),{type:"input_dummy",align:"CENTRE"},{type:"input_statement",name:"DO"}],colour:"%{BKY_EVENTS_HUE}",inputsInline:!0}),e.insertBlockProfile("webview_on_load",{type:"webview_on_load",message0:"%{BKY_WEBVIEW_ON_LOADED}",args0:[c.e(E,!0),d.a({},T),{type:"input_dummy",align:"CENTRE"},{type:"input_statement",name:"DO"}],colour:"%{BKY_EVENTS_HUE}",inputsInline:!0}),e.insertBlockProfile("webview_on_load_error",{type:"webview_on_load_error",message0:"%{BKY_WEBVIEW_ON_LOAD_ERROR}",args0:[c.e(E,!0),d.a({},T),{type:"input_dummy",align:"CENTRE"},{type:"input_statement",name:"DO"}],colour:"%{BKY_EVENTS_HUE}",inputsInline:!0}),e.insertBlockProfile("webview_set_url",{type:"webview_set_url",message0:"%{BKY_WEBVIEW_SET_URL}",args0:[d.a({},T),{type:"input_value",name:"VALUE",align:"CENTRE",check:["String"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("webview_refresh",{type:"webview_refresh",message0:"%{BKY_WEBVIEW_REFRESH}",args0:[d.a({},T)],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("webview_get_url",{type:"webview_get_url",message0:"%{BKY_WEBVIEW_GET_URL}",args0:[d.a({},T)],output:["String"],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("webview_set_visible",{type:"webview_set_visible",message0:"%1 %2",args0:[{type:"field_coco_dropdown",name:"VISIBLE",custom:!0,options:function(){return[[t.Msg.SHOW,"show"],[t.Msg.HIDE,"hide"]]}},d.a({},T)],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("webview_set_disabled",{type:"webview_set_disabled",message0:"%1 %2",args0:[{type:"field_coco_dropdown",name:"DISPLAY",custom:!0,options:function(){return[[t.Msg.ABLE,"able"],[t.Msg.DISABLED,"disabled"]]}},d.a({},T)],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("webview_get_property",{type:"webview_get_property",message0:"%{BKY_WEBVIEW_GET_PROPERTY}",args0:[d.a({},T),{type:"field_coco_dropdown",name:"PROPERTY",custom:!0,options:function(){return[[t.Msg.POSITION_X,"positionX"],[t.Msg.POSITION_Y,"positionY"],[t.Msg.HEIGHT,"height"],[t.Msg.WIDTH,"width"]]}}],output:["Number"],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0})}},categoryClass:{text:"",iconId:i.a,blocks:[]},renameBlocksInfo:{blocksList:["webview_on_start_load","webview_on_load","webview_on_load_error","webview_refresh","webview_set_visible","webview_set_disabled","webview_set_url","webview_get_url","webview_get_property"],fieldName:"WIDGET_ID"},topBlocks:["webview_on_start_load","webview_on_load","webview_on_load_error"]},h={icon:i.a,title:"Webview.widgetName",type:u.L,previewAreaWidgetTitle:"Webview.widgetName",component:function(e){return m().createElement(g.a,Object.assign({},e,{isEditState:!0}))},editConfig:a,blockConfig:v,isInvisibleWidget:i.e,widget:{isGlobalWidget:i.d,size:{width:360,height:200},attributes:{url:"",disabled:!1,refreshTimestamp:0}}}},6428(e,t,n){n.d(t,{xf:()=>h,Df:()=>f});var o=n(75195),i=n(44062),a=[{type:"WidgetTitle",hasDisableOrVisible:!0},[{type:"VisibleSwitch"},{type:"DisabledSwitch"}],{type:"SwitchBackground"},{type:"WidgetOpacity"},{type:"Size",sizeRange:[[i.j,o.o],[i.i,o.m]]},{type:"Coordinate"}],r=n(74375),l=n(60096),c=n(24876),s=n(12327),u=n(94220),d=n(28950),p=n(41594),m=n.n(p),g=n(20512),E={type:"field_coco_dropdown",name:"WIDGET_ID",custom:!0,options:function(){return l.c().getWidgetListByType(u.F)}},T={type:u.F,category:{iconId:i.e,blocks:u.F},getTemplate:function(e){var t='<field name="WIDGET_ID">'.concat(e,"</field>");return['<block type="switch_on_change" uncache="true">\n      '.concat(t,"\n    </block>"),r.d,'<block type="switch_set_state" uncache="true">\n      '.concat(t,'\n      <value name="STATE_WRAPPER">\n        <shadow type="switch_state_dropdown"></shadow>\n      </value>\n    </block>'),r.d,s.sb({property:"__opacity",widgetType:u.F,widgetId:e,isSetProperty:!0}),s.sb({property:"__size",widgetType:u.F,widgetId:e,isSetProperty:!0}),'<block type="switch_set_position" uncache="true">\n      '.concat(t,'\n      <value name="NUM">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\',,1\'>100</field>\n        </shadow>\n      </value>\n    </block>'),'<block type="switch_set_visible" uncache="true">\n    '.concat(t,"\n    </block>"),'<block type="switch_set_disabled" uncache="true">\n      '.concat(t,"\n    </block>"),r.d,'<block type="switch_get_state" uncache="true">\n      '.concat(t,"\n    </block>"),s.sb({property:"__opacity",widgetType:u.F,widgetId:e}),s.sb({property:"__size",widgetType:u.F,widgetId:e}),'<block type="switch_get_position" uncache="true">\n      '.concat(t,"\n    </block>"),r.d,s.sb({property:"__visible",widgetType:u.F,widgetId:e}),s.sb({property:"__disabled",widgetType:u.F,widgetId:e})]},blockDeclareGroup:{setBlockGroupSnippet:function(e){function t(t,n){var o=t.blocks[n];return{block:o,widgetId:e.getFieldValue(o,"WIDGET_ID")||""}}e.insertBlockSnippetGenerator("switch_on_change",function(n,o){var i=t(n,o).widgetId,a=e.statementToCode(n,o,"DO"),r=e.valueToCode(n,o,"STATE",e.ORDER_FUNCTION_CALL);return a?c.n("argsOnSwitchWidgetChange",[c.o(i)],a,[r]):""}),e.insertBlockSnippetGenerator("switch_on_select_change",function(){return"state"}),e.insertBlockSnippetGenerator("switch_state_dropdown",function(n,o){var i=t(n,o).block;return("open"===e.getFieldValue(i,"STATE"))+""}),e.insertBlockSnippetGenerator("switch_set_state",function(n,o){var i=t(n,o).widgetId,a=e.valueToCode(n,o,"STATE_WRAPPER",e.ORDER_FUNCTION_CALL);return c.n("setSwitchWidgetState",[c.o(i),a])}),e.insertBlockSnippetGenerator("switch_set_position",function(n,o){var i=t(n,o),a=i.widgetId,r=i.block,l="positionX"===e.getFieldValue(r,"POSITION_TYPE")?"setSwitchWidgetPositionX":"setSwitchWidgetPositionY",s=e.valueToCode(n,o,"NUM",e.ORDER_FUNCTION_CALL);return c.l(c.n(l,[c.o(a),s]),r,e)}),e.insertBlockSnippetGenerator("switch_set_visible",function(n,o){var i=t(n,o),a=i.widgetId,r=i.block,l="show"===e.getFieldValue(r,"VISIBLE");return c.n("setSwitchWidgetVisible",[c.o(a),l])}),e.insertBlockSnippetGenerator("switch_set_disabled",function(n,o){var i=t(n,o),a=i.widgetId,r=i.block,l="disabled"===e.getFieldValue(r,"DISPLAY");return c.l(c.n("setSwitchWidgetDisabled",[c.o(a),l]),r,e)}),e.insertBlockSnippetGenerator("switch_get_state",function(e,n){var o=t(e,n).widgetId;return c.s("getSwitchWidgetState",[c.o(o)])}),e.insertBlockSnippetGenerator("switch_get_position",function(n,o){var i=t(n,o),a=i.widgetId,r=i.block,l="";switch(e.getFieldValue(r,"PROPERTY")){case"positionX":l="getSwitchWidgetPositionX";break;case"positionY":l="getSwitchWidgetPositionY"}return c.s(l,[c.o(a)])}),e.insertBlockSnippetGenerator("switch_on_change_state",function(){return"".concat(c.a,"state")})},setBlockGroupProfile:function(e,t){e.insertBlockProfile("switch_on_change",{type:"switch_on_change",message0:"%{BKY_SWITCH_ON_STATE_CHANGE}",args0:[c.e("%{BKY_BLOCK_TAB_ICON}",!0),d.a({},E),{type:"input_value",name:"STATE",align:"CENTRE",default_shadow:'<shadow type="switch_on_change_state" />'},{type:"input_dummy",align:"CENTRE"},{type:"input_statement",name:"DO",provided_context:"switch_on_change_state_DO"}],colour:"%{BKY_EVENTS_HUE}",inputsInline:!0}),e.insertBlockProfile("switch_on_change_state",{type:"switch_on_change_state",message0:"%{BKY_SWITCH_PARAM_STATE}",output:"Boolean",required_context:"switch_on_change_state_DO",colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("switch_set_state",{type:"switch_set_state",message0:"%{BKY_SWITCH_SET_STATE}",args0:[d.a({},E),{type:"input_value",name:"STATE_WRAPPER",check:["Boolean"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("switch_state_dropdown",{type:"switch_state_dropdown",message0:"%1",args0:[{type:"field_coco_dropdown",name:"STATE",custom:!0,options:function(){return[[t.Msg.OPEN,"open"],[t.Msg.CLOSE,"close"]]}}],output:["Boolean"]}),e.insertBlockProfile("switch_set_position",{type:"switch_set_position",message0:"%{BKY_SWITCH_SET_POSITION}",args0:[d.a({},E),{type:"field_coco_dropdown",name:"POSITION_TYPE",custom:!0,options:function(){return[[t.Msg.POSITION_X,"positionX"],[t.Msg.POSITION_Y,"positionY"]]}},{type:"input_value",name:"NUM",check:["Number"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("switch_get_state",{type:"switch_get_state",message0:"%{BKY_SWITCH_GET_STATE}",args0:[d.a({},E)],output:["Boolean"],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("switch_set_visible",{type:"switch_set_visible",message0:"%1 %2",args0:[{type:"field_coco_dropdown",name:"VISIBLE",custom:!0,options:function(){return[[t.Msg.SHOW,"show"],[t.Msg.HIDE,"hide"]]}},d.a({},E)],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("switch_set_disabled",{type:"switch_set_disabled",message0:"%1 %2",args0:[{type:"field_coco_dropdown",name:"DISPLAY",custom:!0,options:function(){return[[t.Msg.ABLE,"able"],[t.Msg.DISABLED,"disabled"]]}},d.a({},E)],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("switch_get_position",{type:"switch_get_position",message0:"%{BKY_SWITCH_GET_POSITION}",args0:[d.a({},E),{type:"field_coco_dropdown",name:"PROPERTY",custom:!0,options:function(){return[[t.Msg.POSITION_X,"positionX"],[t.Msg.POSITION_Y,"positionY"]]}}],output:["Number"],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0})}},categoryClass:{text:"",iconId:i.e,blocks:[]},renameBlocksInfo:{blocksList:["switch_on_change","switch_set_state","switch_set_position","switch_set_visible","switch_set_disabled","switch_get_state","switch_get_position"],fieldName:"WIDGET_ID"},topBlocks:["switch_on_change"]},v=n(76224),h={icon:i.e,title:"switch",type:u.F,previewAreaWidgetTitle:"switch",component:function(e){var t=e.onChange;return m().createElement(g.a,Object.assign({},e,{onSwitch:function(n){s.r(e.id)&&t&&t("value",n)},isEditState:!0}))},editConfig:a,blockConfig:T,isInvisibleWidget:i.h,widget:{isGlobalWidget:i.g,size:{width:i.f,height:i.d},attributes:{disabled:!1,color:i.c,sizeType:u.s.MEDIUM,mode:v.c.DEFAULT,value:!1,backgroundMode:v.a.TEMPLATE,backgroundOpenImage:i.b,backgroundCloseImage:i.a,imageResizeMode:v.b.CONTAIN}}},f=[{type:"WidgetTitle",hasDisableOrVisible:!0},[{type:"VisibleSwitch"},{type:"DisabledSwitch"}],{type:"SliderRange"},{type:"SliderDirection"},{type:"SliderMode",label:"mode"},{type:"WidgetOpacity"},{type:"Size"},{type:"Coordinate"}]},43741(e,t,n){n.d(t,{Wf:()=>O});var o=n(6428),i=n(74375),a=n(60096),r=n(24876),l=n(12327),c=n(63554),s=n(94220),u=n(33383),d=n(28950),p=n(451),m=n(19040),g=n(41594),E=n.n(g),T=n(69460),v=n(64908),h={type:"field_coco_dropdown",name:"WIDGET_ID",custom:!0,options:function(){return a.c().getWidgetListByType(s.E)}},f={type:s.E,category:{iconId:T.d,blocks:s.E},getTemplate:function(e){var t='<field name="WIDGET_ID">'.concat(e,"</field>");return['<block type="slider_on_change" uncache="true">\n      '.concat(t,"\n    </block>"),'<block type="slider_on_start_and_end" uncache="true">\n      '.concat(t,"\n    </block>"),i.d,'<block type="slider_set_range_value" uncache="true">\n      '.concat(t,'\n      <value name="NUM">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\'-').concat(c.a,",").concat(c.a,",1'>100</field>\n        </shadow>\n      </value>\n    </block>"),'<block type="slider_set_slide_value" uncache="true">\n      '.concat(t,'\n      <value name="NUM">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\'-').concat(c.a,",").concat(c.a,",1'>100</field>\n        </shadow>\n      </value>\n    </block>"),i.d,l.sb({property:"__opacity",widgetType:s.E,widgetId:e,isSetProperty:!0}),l.sb({property:"__size",widgetType:s.E,widgetId:e,isSetProperty:!0}),'<block type="slider_set_position" uncache="true">\n      '.concat(t,'\n      <value name="NUM">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\',,1\'>100</field>\n        </shadow>\n      </value>\n    </block>'),'<block type="slider_set_visible" uncache="true">\n    '.concat(t,"\n    </block>"),'<block type="slider_set_disabled" uncache="true">\n      '.concat(t,"\n    </block>"),i.d,'<block type="slider_get_range_value" uncache="true">\n      '.concat(t,"\n    </block>"),'<block type="slider_get_slide_value" uncache="true">\n      '.concat(t,"\n    </block>"),l.sb({property:"__opacity",widgetType:s.E,widgetId:e}),'<block type="slider_get_size" uncache="true">\n      '.concat(t,"\n    </block>"),'<block type="slider_get_position" uncache="true">\n      '.concat(t,"\n    </block>"),i.d,l.sb({property:"__visible",widgetType:s.E,widgetId:e}),l.sb({property:"__disabled",widgetType:s.E,widgetId:e})]},blockDeclareGroup:{setBlockGroupSnippet:function(e){function t(t,n){var o=t.blocks[n];return{block:o,widgetId:e.getFieldValue(o,"WIDGET_ID")||""}}e.insertBlockSnippetGenerator("slider_on_change",function(n,o){var i=t(n,o).widgetId,a=e.statementToCode(n,o,"DO"),l=e.valueToCode(n,o,"VALUE",e.ORDER_FUNCTION_CALL);return a?r.n("argsOnSliderWidgetChange",[r.o(i)],a,[l]):""}),e.insertBlockSnippetGenerator("slider_on_change_value",function(){return"value"}),e.insertBlockSnippetGenerator("slider_on_start_and_end",function(n,o){var i=t(n,o),a=i.widgetId,l=i.block,c=e.statementToCode(n,o,"DO"),s="startToSlide"===e.getFieldValue(l,"ACTION")?"argsOnSliderWidgetStartToSlide":"argsOnSliderWidgetEndToSlide",u=e.valueToCode(n,o,"VALUE",e.ORDER_FUNCTION_CALL);return c?r.n(s,[r.o(a)],c,[u]):""}),e.insertBlockSnippetGenerator("slider_on_start_and_end_value",function(){return"value"}),e.insertBlockSnippetGenerator("slider_set_range_value",function(n,o){var i=t(n,o),a=i.widgetId,l=i.block,c="setSliderWidgetMaxValue";"minValue"===e.getFieldValue(l,"PROPERTY")&&(c="setSliderWidgetMinValue");var s=e.valueToCode(n,o,"NUM",e.ORDER_FUNCTION_CALL);return r.l(r.n(c,[r.o(a),s]),l,e)}),e.insertBlockSnippetGenerator("slider_set_slide_value",function(n,o){var i=t(n,o),a=i.widgetId,l=i.block,c=e.valueToCode(n,o,"NUM",e.ORDER_FUNCTION_CALL);return r.l(r.n("setSliderWidgetValue",[r.o(a),c]),l,e)}),e.insertBlockSnippetGenerator("slider_set_size",function(n,o){var i=t(n,o),a=i.widgetId,l=i.block,c=e.valueToCode(n,o,"NUM",e.ORDER_FUNCTION_CALL);return r.l(r.n("setSliderWidgetWidth",[r.o(a),c]),l,e)}),e.insertBlockSnippetGenerator("slider_set_position",function(n,o){var i=t(n,o),a=i.widgetId,l=i.block,c="setSliderWidgetPositionX";"positionY"===e.getFieldValue(l,"PROPERTY")&&(c="setSliderWidgetPositionY");var s=e.valueToCode(n,o,"NUM",e.ORDER_FUNCTION_CALL);return r.l(r.n(c,[r.o(a),s]),l,e)}),e.insertBlockSnippetGenerator("slider_set_value",function(n,o){var i=t(n,o),a=i.widgetId,l=i.block,c="";switch(e.getFieldValue(l,"PROPERTY")){case"maxValue":c="setSliderWidgetMaxValue";break;case"minValue":c="setSliderWidgetMinValue";break;default:c="setSliderWidgetValue"}var s=e.valueToCode(n,o,"NUM",e.ORDER_FUNCTION_CALL);return r.l(r.n(c,[r.o(a),s]),l,e)}),e.insertBlockSnippetGenerator("slider_set_property",function(n,o){var i=t(n,o),a=i.widgetId,l=i.block,c="";switch(e.getFieldValue(l,"PROPERTY")){case"positionX":c="setSliderWidgetPositionX";break;case"positionY":c="setSliderWidgetPositionY";break;default:c="setSliderWidgetWidth"}var s=e.valueToCode(n,o,"NUM",e.ORDER_FUNCTION_CALL);return r.l(r.n(c,[r.o(a),s]),l,e)}),e.insertBlockSnippetGenerator("slider_set_visible",function(n,o){var i=t(n,o),a=i.widgetId,l=i.block,c="show"===e.getFieldValue(l,"VISIBLE");return r.n("setSliderWidgetVisible",[r.o(a),c])}),e.insertBlockSnippetGenerator("slider_set_disabled",function(n,o){var i=t(n,o),a=i.widgetId,l=i.block,c="disabled"===e.getFieldValue(l,"DISPLAY");return r.l(r.n("setSliderWidgetDisabled",[r.o(a),c]),l,e)}),e.insertBlockSnippetGenerator("slider_get_range_value",function(n,o){var i=t(n,o),a=i.widgetId,l=i.block,c="getSliderWidgetMaxValue";return"minValue"===e.getFieldValue(l,"PROPERTY")&&(c="getSliderWidgetMinValue"),r.s(c,[r.o(a)])}),e.insertBlockSnippetGenerator("slider_get_slide_value",function(e,n){var o=t(e,n).widgetId;return r.s("getSliderWidgetValue",[r.o(o)])}),e.insertBlockSnippetGenerator("slider_get_size",function(n,o){var i=t(n,o),a=i.widgetId,l=i.block,c="getSliderWidgetWidth";return"height"===e.getFieldValue(l,"PROPERTY")&&(c="getSliderWidgetHeight"),r.s(c,[r.o(a)])}),e.insertBlockSnippetGenerator("slider_get_position",function(n,o){var i=t(n,o),a=i.widgetId,l=i.block,c="getSliderWidgetPositionX";"positionY"===e.getFieldValue(l,"PROPERTY")&&(c="getSliderWidgetPositionY");var s=e.valueToCode(n,o,"VALUE",e.ORDER_FUNCTION_CALL);return r.s(c,[r.o(a),s])}),e.insertBlockSnippetGenerator("slider_get_value",function(e,n){var o=t(e,n).widgetId;return r.s("getSliderWidgetValue",[r.o(o)])}),e.insertBlockSnippetGenerator("slider_get_property",function(n,o){var i=t(n,o),a=i.widgetId,l=i.block,c="";switch(e.getFieldValue(l,"PROPERTY")){case"positionX":c="getSliderWidgetPositionX";break;case"positionY":c="getSliderWidgetPositionY";break;case"width":c="getSliderWidgetWidth";break;case"height":c="getSliderWidgetHeight";break;case"maxValue":c="getSliderWidgetMaxValue";break;case"minValue":c="getSliderWidgetMinValue"}var s=e.valueToCode(n,o,"VALUE",e.ORDER_FUNCTION_CALL);return r.s(c,[r.o(a),s])})},setBlockGroupProfile:function(e,t){function n(e){i.l(this,e,[{label:"width",min:68,max:c.e,value:100},{label:"maxValue",min:-c.a,max:c.a,value:100},{label:"minValue",min:-c.a,max:c.a,value:100}])}e.insertBlockProfile("slider_on_change",{type:"slider_on_change",message0:"%{BKY_SLIDER_ON_CHANGE}",args0:[r.e("%{BKY_BLOCK_TAB_ICON}",!0),d.a({},h),{type:"input_value",name:"VALUE",align:"CENTRE",check:["Number"],default_shadow:'<shadow type="slider_on_change_value" />'},{type:"input_dummy",align:"CENTRE"},{type:"input_statement",name:"DO",provided_context:"slider_on_change_DO"}],colour:"%{BKY_EVENTS_HUE}",inputsInline:!0}),e.insertBlockProfile("slider_on_change_value",{type:"slider_on_change_value",message0:"%{BKY_SLIDER_PARAM_VALUE}",output:"Number",required_context:"slider_on_change_DO",colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("slider_on_start_and_end",{type:"slider_on_start_and_end",message0:"%{BKY_SLIDER_ON_SLIDE_START_AND_END}",args0:[r.e("%{BKY_BLOCK_TAB_ICON}",!0),d.a({},h),{type:"field_coco_dropdown",name:"ACTION",custom:!0,options:function(){return[[t.Msg.SLIDER_START_TO_SLIDE,"startToSlide"],[t.Msg.SLIDER_END_TO_SLIDE,"endToSlide"]]}},{type:"input_value",name:"VALUE",align:"CENTRE",check:["Number"],default_shadow:'<shadow type="slider_on_start_and_end_value" />'},{type:"input_dummy",align:"CENTRE"},{type:"input_statement",name:"DO",provided_context:"slider_on_start_and_end_value_DO"}],colour:"%{BKY_EVENTS_HUE}",inputsInline:!0}),e.insertBlockProfile("slider_on_start_and_end_value",{type:"slider_on_start_and_end_value",message0:"%{BKY_SLIDER_PARAM_VALUE}",output:"Number",required_context:"slider_on_start_and_end_value_DO",colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("slider_set_range_value",{type:"slider_set_range_value",message0:"%{BKY_SLIDER_SET_PROPERTY}",args0:[d.a({},h),{type:"field_coco_dropdown",name:"PROPERTY",custom:!0,options:function(){return[[t.Msg.SLIDER_MAX_VALUE,"maxValue"],[t.Msg.SLIDER_MIN_VALUE,"minValue"]]},optOnchange:n},{type:"input_value",name:"NUM",check:["Number"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("slider_set_slide_value",{type:"slider_set_slide_value",message0:"%{BKY_SLIDER_SET_SLIDE_VALUE}",args0:[d.a({},h),{type:"input_value",name:"NUM",check:["Number"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("slider_set_size",{type:"slider_set_size",message0:"%{BKY_SLIDER_SET_PROPERTY}",args0:[d.a({},h),{type:"field_coco_dropdown",name:"PROPERTY",custom:!0,options:function(){return[[t.Msg.WIDTH,"width"]]},optOnchange:function(e){var t=this.source_block,n=null==t?void 0:t.get_shadow_field("NUM");n&&"FieldNumber"===n.field_type&&n.set_value("100")}},{type:"input_value",name:"NUM",check:["Number"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("slider_set_position",{type:"slider_set_position",message0:"%{BKY_SLIDER_SET_PROPERTY}",args0:[d.a({},h),{type:"field_coco_dropdown",name:"PROPERTY",custom:!0,options:function(){return[[t.Msg.POSITION_X,"positionX"],[t.Msg.POSITION_Y,"positionY"]]},optOnchange:n},{type:"input_value",name:"NUM",check:["Number"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("slider_set_value",{type:"slider_set_value",message0:"%{BKY_SLIDER_SET_VALUE}",args0:[d.a({},h),{type:"field_coco_dropdown",name:"PROPERTY",custom:!0,options:function(){return[[t.Msg.SLIDER_MAX_VALUE,"maxValue"],[t.Msg.SLIDER_MIN_VALUE,"minValue"],[t.Msg.SLIDER_VALUE,"value"]]},optOnchange:n},{type:"input_value",name:"NUM",check:["Number"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("slider_set_property",{type:"slider_set_property",message0:"%{BKY_SLIDER_SET_PROPERTY}",args0:[d.a({},h),{type:"field_coco_dropdown",name:"PROPERTY",custom:!0,options:function(){return[[t.Msg.POSITION_X,"positionX"],[t.Msg.POSITION_Y,"positionY"],[t.Msg.WIDTH,"width"]]},optOnchange:n},{type:"input_value",name:"NUM",check:["Number"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("slider_set_visible",{type:"slider_set_visible",message0:"%1 %2",args0:[{type:"field_coco_dropdown",name:"VISIBLE",custom:!0,options:function(){return[[t.Msg.SHOW,"show"],[t.Msg.HIDE,"hide"]]}},d.a({},h)],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("slider_set_disabled",{type:"slider_set_disabled",message0:"%1 %2",args0:[{type:"field_coco_dropdown",name:"DISPLAY",custom:!0,options:function(){return[[t.Msg.ABLE,"able"],[t.Msg.DISABLED,"disabled"]]}},d.a({},h)],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("slider_get_range_value",{type:"slider_get_range_value",message0:"%{BKY_SLIDER_GET_PROPERTY}",args0:[d.a({},h),{type:"field_coco_dropdown",name:"PROPERTY",custom:!0,options:function(){return[[t.Msg.SLIDER_MAX_VALUE,"maxValue"],[t.Msg.SLIDER_MIN_VALUE,"minValue"]]}}],output:["Number"],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("slider_get_slide_value",{type:"slider_get_slide_value",message0:"%{BKY_SLIDER_GET_SLIDE_VALUE}",args0:[d.a({},h)],output:["Number"],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("slider_get_size",{type:"slider_get_size",message0:"%{BKY_SLIDER_GET_PROPERTY}",args0:[d.a({},h),{type:"field_coco_dropdown",name:"PROPERTY",custom:!0,options:function(){return[[t.Msg.WIDTH,"width"],[t.Msg.HEIGHT,"height"]]}}],output:["Number"],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("slider_get_position",{type:"slider_get_position",message0:"%{BKY_SLIDER_GET_PROPERTY}",args0:[d.a({},h),{type:"field_coco_dropdown",name:"PROPERTY",custom:!0,options:function(){return[[t.Msg.POSITION_X,"positionX"],[t.Msg.POSITION_Y,"positionY"]]}}],output:["Number"],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("slider_get_value",{type:"slider_get_value",message0:"%{BKY_SLIDER_GET_VALUE}",args0:[d.a({},h)],output:["Number"],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("slider_get_property",{type:"slider_get_property",message0:"%{BKY_SLIDER_GET_PROPERTY}",args0:[d.a({},h),{type:"field_coco_dropdown",name:"PROPERTY",custom:!0,options:function(){return[[t.Msg.POSITION_X,"positionX"],[t.Msg.POSITION_Y,"positionY"],[t.Msg.WIDTH,"width"],[t.Msg.HEIGHT,"height"],[t.Msg.SLIDER_MAX_VALUE,"maxValue"],[t.Msg.SLIDER_MIN_VALUE,"minValue"]]}}],output:["Number"],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0})}},categoryClass:{text:"",iconId:T.d,blocks:[]},renameBlocksInfo:{blocksList:["slider_on_change","slider_on_start_and_end","slider_set_range_value","slider_set_slide_value","slider_set_size","slider_set_position","slider_set_visible","slider_set_disabled","slider_get_range_value","slider_get_slide_value","slider_get_size","slider_get_position"],fieldName:"WIDGET_ID"},topBlocks:["slider_on_change","slider_on_start_and_end"]},b=n(58968),O={icon:T.d,title:"slider",type:s.E,previewAreaWidgetTitle:"slider",component:function(e){var t=e.onChange,n=e.attributes,o=n.handleImageFileId,i=void 0===o?T.c:o,a=n.backgroundImageFileId,r=void 0===a?T.a:a,c=n.trackImageFileId,s=void 0===c?T.g:c,d=(0,m.useSelector)(function(e){return e.resource.resourceLibraryUpdateAt}),h=(0,g.useState)(""),f=p.a(h,2),b=f[0],O=f[1],C=(0,g.useState)(""),I=p.a(C,2),S=I[0],y=I[1],N=(0,g.useState)(""),A=p.a(N,2),k=A[0],R=A[1];return(0,g.useEffect)(function(){var e;if(u.U(i))e=i;else{var t=l.hb(i);e=(null==t?void 0:t.source)||(null==t?void 0:t.cdnUrl)}O(e||T.c)},[i,d]),(0,g.useEffect)(function(){var e;if(u.U(r))e=r;else{var t=l.hb(r);e=(null==t?void 0:t.source)||(null==t?void 0:t.cdnUrl)}y(e||T.a)},[r,d]),(0,g.useEffect)(function(){var e;if(u.U(s))e=s;else{var t=l.hb(s);e=(null==t?void 0:t.source)||(null==t?void 0:t.cdnUrl)}R(e||T.g)},[s,d]),E().createElement(v.a,Object.assign({},e,{onSliderChange:function(e){t&&t("value",e,!1)},isEditState:!0,handleImageUrl:b,backgroundImageUrl:S,trackImageUrl:k}))},editConfig:o.Df,blockConfig:f,isInvisibleWidget:T.f,widget:{isGlobalWidget:T.e,size:{width:280,height:20},attributes:{disabled:!1,minValue:0,maxValue:100,color:T.b,sizeType:s.s.MEDIUM,direction:b.b.HORIZONTAL,sliderType:b.d.TEMPLATE,mode:b.c.DEFAULT,value:50,step:1,handleImageFileId:T.c,handleImageRatio:2,handleImageDirection:b.b.HORIZONTAL,backgroundImageFileId:T.a,backgroundImageDirection:b.b.HORIZONTAL,trackImageFileId:T.g,trackImageDirection:b.b.HORIZONTAL}}}},64005(e,t,n){n.d(t,{Jf:()=>R});var o=n(1864),i=[{type:"WidgetTitle",hasDisableOrVisible:!0},[{type:"VisibleSwitch"},{type:"DisabledSwitch"}],{type:"BackgroundColor"},{type:"WidgetOpacity"},{type:"Coordinate"},{type:"Size",sizeRange:[[o.m,o.k],[o.l,o.j]]},{type:"ListViewerStyleTemplate"},{type:"ListViewerDataSource"},{type:"HelpUrl",url:"https://codemao-guide.yuque.com/bfiekm/sbo5kh/list-viewer"}],a=n(94220),r=n(81555),l=n(32919),c=n(51877),s=n(33007),u=n(13244),d=n(46942),p=n.n(d),m=n(19040),g=n(41594),E=n.n(g),T=n(8517),v=n(97783),h=n.n(v),f=[1,2,3],b={},O=(0,g.memo)(function(e){var t,n,i,d,g,v,O,C,I,S,y,N,A,k,R,B,D,w,L,P,U,M,Y=e.id,x=e.position,G=e.visible,K=e.opacity,W=e.size,F=e.attributes,V=F.backgroundColor,H=F.templateType,X=F.templateRenderType,z=F.templateSlotMap,j=F.disabled,q=F.dataSource,Z=(0,m.useDispatch)(),Q=(0,m.useSelector)(function(e){return e.project.selectedWidgetId});for(var J in z){var $=l.Bb(z[J].widgetId);b[J]=!1!==(null==$?void 0:$.visible)}return E().createElement("div",{id:Y,onMouseDown:function(e){var t,n,o,i=e.target.closest("."+r.b);if(i){if((null==(t=l.Bb(i.id))?void 0:t.parentId)&&i.id===Q)e.stopPropagation();else if((null==(n=l.Bb(Q||""))?void 0:n.parentId)!==(null==(o=l.Bb(i.id))?void 0:o.parentId))return i.id!==Y&&Q!==Y?(e.stopPropagation(),void Z(c.ug(Y))):void 0}},"data-role":a.M,"data-widget-type":a.x,"data-min-width":o.m,"data-max-width":o.k,"data-min-height":o.l,"data-max-height":o.j,className:p()(r.b,u.a({},h().hide,!G)),style:{top:x.y,left:x.x,width:W.width,height:W.height,background:V,opacity:void 0===K?void 0:K/100,filter:j?"saturate(0)":void 0}},E().createElement("div",{style:{width:"100%",height:"100%",overflow:"hidden"}},H===a.o.ONLY_TITLE&&E().createElement(E().Fragment,null,E().createElement("div",{className:p()(h().flexSC,h().template1,"tiled"===X?h().itemTiled:h().itemCard)},b.titleSlot?E().createElement("div",{className:h().title},T.d(null==(t=z.titleSlot)?void 0:t.widgetId)):E().createElement("div",null),E().createElement("div",{className:h().iconBox},E().createElement(s.j,{type:"icon-fold-left",className:h().icon}))),q&&E().createElement(E().Fragment,null,f.map(function(e){return E().createElement("div",{key:e,className:p()(h().flexSC,h().template1,"tiled"===X?h().itemTiled:h().itemCard,h().templateSlot)},b.titleSlot?E().createElement("div",{className:h().titleSlot}):E().createElement("div",null),E().createElement("div",{className:h().iconBox},E().createElement(s.j,{type:"icon-fold-left",className:h().icon})))}))),H===a.o.TITLE_AND_SUBTITLE&&E().createElement(E().Fragment,null,E().createElement("div",{className:p()(h().flexSC,h().template2,"tiled"===X?h().itemTiled:h().itemCard)},b.titleSlot?E().createElement("div",{className:h().title},T.d(null==(n=z.titleSlot)?void 0:n.widgetId)):E().createElement("div",null),E().createElement("div",{className:p()(h().flexSC,h().subTitleBox)},b.subTitleSlot&&E().createElement("div",{className:h().subTitle},T.d(null==(i=z.subTitleSlot)?void 0:i.widgetId)),E().createElement(s.j,{type:"icon-fold-left",className:h().icon}))),q&&E().createElement(E().Fragment,null,f.map(function(e){return E().createElement("div",{key:e,className:p()(h().flexSC,h().template2,"tiled"===X?h().itemTiled:h().itemCard,h().templateSlot)},b.titleSlot?E().createElement("div",{className:h().titleSlot}):E().createElement("div",null),E().createElement("div",{className:p()(h().flexSC,h().subTitleBox)},b.subTitleSlot&&E().createElement("div",{className:h().subTitleSlot}),E().createElement(s.j,{type:"icon-fold-left",className:h().icon})))}))),H===a.o.IMAGE_TITLE_AND_SUBTITLE&&E().createElement(E().Fragment,null,E().createElement("div",{className:p()(h().flexSC,h().template3,"tiled"===X?h().itemTiled:h().itemCard)},E().createElement("div",{className:h().title},b.imageSlot&&E().createElement("div",{className:h().smallImgBox},T.d(null==(d=z.imageSlot)?void 0:d.widgetId)),b.titleSlot&&E().createElement("div",null,T.d(null==(g=z.titleSlot)?void 0:g.widgetId))),E().createElement("div",{className:p()(h().flexSC,h().subTitleBox)},b.subTitleSlot&&E().createElement("div",{className:h().subTitle},T.d(null==(v=z.subTitleSlot)?void 0:v.widgetId)),E().createElement(s.j,{type:"icon-fold-left",className:h().icon}))),q&&E().createElement(E().Fragment,null,f.map(function(e){return E().createElement("div",{key:e,className:p()(h().flexSC,h().template3,"tiled"===X?h().itemTiled:h().itemCard,h().templateSlot)},E().createElement("div",{className:h().title},b.imageSlot&&E().createElement("div",{className:h().smallImgBox},E().createElement("img",{className:h().smallImgSlot,src:o.f,alt:"",draggable:!1})),b.titleSlot&&E().createElement("div",{className:h().titleSlot})),E().createElement("div",{className:p()(h().flexSC,h().subTitleBox)},b.subTitleSlot&&E().createElement("div",{className:h().subTitleSlot}),E().createElement(s.j,{type:"icon-fold-left",className:h().icon})))}))),H===a.o.AVATAR_AND_TITLE_SUBTITLE&&E().createElement(E().Fragment,null,E().createElement("div",{className:p()(h().flexSC,h().template4,"tiled"===X?h().itemTiled:h().itemCard)},E().createElement("div",{className:h().avatarAndTitle},b.avatarSlot&&E().createElement("div",{className:h().avatarImgBox},T.d(null==(O=z.avatarSlot)?void 0:O.widgetId)),E().createElement("div",{className:h().titleBox},b.titleSlot&&E().createElement("div",{className:h().title},T.d(null==(C=z.titleSlot)?void 0:C.widgetId)),b.subTitleSlot&&E().createElement("div",{className:h().subTitle},T.d(null==(I=z.subTitleSlot)?void 0:I.widgetId)))),E().createElement("div",{className:h().iconBox},E().createElement(s.j,{type:"icon-fold-left",className:h().icon}))),q&&E().createElement(E().Fragment,null,f.map(function(e){return E().createElement("div",{key:e,className:p()(h().flexSC,h().template4,"tiled"===X?h().itemTiled:h().itemCard,h().templateSlot)},E().createElement("div",{className:h().avatarAndTitle},b.avatarSlot&&E().createElement("div",{className:h().avatarImgBox},E().createElement("img",{className:h().avatarImgSlot,src:o.a,alt:"",draggable:!1})),E().createElement("div",{className:h().titleBox},b.titleSlot&&E().createElement("div",{className:h().titleSlot}),b.subTitleSlot&&E().createElement("div",{className:h().subTitleSlot}))),E().createElement("div",{className:h().iconBox},E().createElement(s.j,{type:"icon-fold-left",className:h().icon})))}))),H===a.o.IMAGE_AND_TITLE_DESC&&E().createElement(E().Fragment,null,E().createElement("div",{className:p()(h().flexSC,h().template5,"tiled"===X?h().itemTiled:h().itemCard)},E().createElement("div",{className:h().imgAndTitleBox},b.imageSlot&&E().createElement("div",{className:h().smallImgBox},T.d(null==(S=z.imageSlot)?void 0:S.widgetId)),E().createElement("div",null,b.titleSlot&&E().createElement("div",{className:h().title},T.d(null==(y=z.titleSlot)?void 0:y.widgetId)),b.descSlot&&E().createElement("div",{className:h().desc},T.d(null==(N=z.descSlot)?void 0:N.widgetId)))),E().createElement("div",{className:h().iconBox},E().createElement(s.j,{type:"icon-fold-left",className:h().icon}))),q&&E().createElement(E().Fragment,null,f.map(function(e){return E().createElement("div",{key:e,className:p()(h().flexSC,h().template5,"tiled"===X?h().itemTiled:h().itemCard,h().templateSlot)},E().createElement("div",{className:h().imgAndTitleBox},b.imageSlot&&E().createElement("div",{className:h().smallImgBox},E().createElement("img",{className:h().smallImgSlot,src:o.f,alt:"",draggable:!1})),E().createElement("div",{className:h().titleBox},b.titleSlot&&E().createElement(E().Fragment,null,E().createElement("div",{className:h().titleSlot1}),E().createElement("div",{className:h().titleSlot2})),b.descSlot&&E().createElement("div",{className:h().descSlot}))),E().createElement("div",{className:h().iconBox},E().createElement(s.j,{type:"icon-fold-left",className:h().icon})))}))),H===a.o.AVATAR_TITLE_SUBTITLE_AND_IMAGE_DESC&&E().createElement(E().Fragment,null,E().createElement("div",{className:p()(h().template6,"tiled"===X?h().itemTiled:h().itemCard)},E().createElement("div",{className:h().avatarAndTitle},b.avatarSlot&&E().createElement("div",{className:h().avatarImgBox},T.d(null==(A=z.avatarSlot)?void 0:A.widgetId)),E().createElement("div",{className:h().titleBox},b.titleSlot&&E().createElement("div",{className:h().title},T.d(null==(k=z.titleSlot)?void 0:k.widgetId)),b.subTitleSlot&&E().createElement("div",{className:h().subTitle},T.d(null==(R=z.subTitleSlot)?void 0:R.widgetId)))),b.bannerSlot&&E().createElement("div",{className:h().bannerImgBox},T.d(null==(B=z.bannerSlot)?void 0:B.widgetId)),b.descSlot&&E().createElement("div",{className:h().desc},T.d(null==(D=z.descSlot)?void 0:D.widgetId))),q&&E().createElement("div",{className:p()(h().template6,"tiled"===X?h().itemTiled:h().itemCard,h().templateSlot)},E().createElement("div",{className:h().avatarAndTitle},b.avatarSlot&&E().createElement("div",{className:h().avatarImgBox},E().createElement("img",{className:h().avatarImgSlot,src:o.a,alt:"",draggable:!1})),E().createElement("div",{className:h().titleBox},b.titleSlot&&E().createElement("div",{className:h().titleSlot}),b.subTitleSlot&&E().createElement("div",{className:h().subTitleSlot}))),b.bannerSlot&&E().createElement("div",{className:h().bannerImgBox},E().createElement("img",{className:h().bannerImgSlot,src:o.b,alt:"",draggable:!1})),b.descSlot&&E().createElement(E().Fragment,null,E().createElement("div",{className:h().descSlot1}),E().createElement("div",{className:h().descSlot2})," "))),H===a.o.IMAGE_AND_AVATAR_TITLE_SUBTITLE_AND_DESC&&E().createElement(E().Fragment,null,E().createElement("div",{className:p()(h().template6,"tiled"===X?h().itemTiled:h().itemCard)},b.bannerSlot&&E().createElement("div",{className:h().bannerImgBox},T.d(null==(w=z.bannerSlot)?void 0:w.widgetId)),E().createElement("div",{className:h().avatarAndTitle},b.avatarSlot&&E().createElement("div",{className:h().avatarImgBox},T.d(null==(L=z.avatarSlot)?void 0:L.widgetId)),E().createElement("div",{className:h().titleBox},b.titleSlot&&E().createElement("div",{className:h().title},T.d(null==(P=z.titleSlot)?void 0:P.widgetId)),b.subTitleSlot&&E().createElement("div",{className:h().subTitle},T.d(null==(U=z.subTitleSlot)?void 0:U.widgetId)))),b.descSlot&&E().createElement("div",{className:h().desc},T.d(null==(M=z.descSlot)?void 0:M.widgetId))),q&&E().createElement("div",{className:p()(h().template6,"tiled"===X?h().itemTiled:h().itemCard,h().templateSlot)},b.bannerSlot&&E().createElement("div",{className:h().bannerImgBox},E().createElement("img",{className:h().bannerImgSlot,src:o.b,alt:"",draggable:!1})),E().createElement("div",{className:h().avatarAndTitle},b.avatarSlot&&E().createElement("div",{className:h().avatarImgBox},E().createElement("img",{className:h().avatarImgSlot,src:o.a,alt:"",draggable:!1})),E().createElement("div",{className:h().titleBox},b.titleSlot&&E().createElement("div",{className:h().titleSlot}),b.subTitleSlot&&E().createElement("div",{className:h().subTitleSlot}))),b.descSlot&&E().createElement(E().Fragment,null,E().createElement("div",{className:h().descSlot1}),E().createElement("div",{className:h().descSlot2}))))))}),C=n(74375),I=n(60096),S=n(24876),y=n(12327),N=n(28950),A=n(90759),k={type:a.x,category:{iconId:o.i,blocks:a.x},getTemplate:function(e){var t='<field name="WIDGET_ID">'.concat(e,"</field>");return['<block type="list_viewer_on_press" uncache="true">\n      '.concat(t,"\n    </block>"),C.d,y.sb({property:"__opacity",widgetType:a.x,widgetId:e,isSetProperty:!0}),'<block type="list_viewer_set_size" uncache="true">\n      '.concat(t,'\n      <field name="SIZE_TYPE">height</field>\n      <value name="NUM">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\'').concat(o.l,",").concat(o.j,",1'>100</field>\n        </shadow>\n      </value>\n    </block>"),'<block type="list_viewer_set_position" uncache="true">\n      '.concat(t,'\n      <field name="POSITION_TYPE">positionX</field>\n      <value name="NUM">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\',,1\'>100</field>\n        </shadow>\n      </value>\n    </block>'),'<block type="list_viewer_set_data_source" uncache="true">\n      '.concat(t,'\n      <value name="DATA_SOURCE">\n        <shadow type="data_source_get"></shadow>\n      </value>\n    </block>'),'<block type="list_viewer_set_visible" uncache="true">\n      '.concat(t,"\n    </block>"),'<block type="list_viewer_set_disabled" uncache="true">\n      '.concat(t,"\n    </block>"),C.d,y.sb({property:"__opacity",widgetType:a.x,widgetId:e}),'<block type="list_viewer_get_size" uncache="true">\n      '.concat(t,'\n      <field name="SIZE_TYPE">height</field>\n    </block>'),'<block type="list_viewer_get_position" uncache="true">\n      '.concat(t,'\n      <field name="POSITION_TYPE">positionX</field>\n    </block>'),'<block type="list_viewer_get_data_source" uncache="true">\n      '.concat(t,"\n    </block>"),C.d,y.sb({property:"__visible",widgetType:a.x,widgetId:e}),y.sb({property:"__disabled",widgetType:a.x,widgetId:e}),C.d,'<block type="list_viewer_child_widget_on_press" uncache="true">\n      '.concat(t,'\n      <field name="SLOT_WIDGET">').concat("titleSlot","</field>\n    </block>"),C.d,'<block type="list_viewer_child_widget_bind_column" uncache="true">\n      '.concat(t,'\n      <field name="SLOT_WIDGET">').concat("titleSlot",'</field>\n      <value name="COLUMN">\n        <shadow type="text">\n          <field name="TEXT"></field>\n        </shadow>\n      </value>\n    </block>'),'<block type="list_viewer_child_widget_set_string_attributes" uncache="true">\n      '.concat(t,'\n      <value name="ROW">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\'1,,1\'>1</field>\n        </shadow>\n      </value>\n      <field name="SLOT_WIDGET">').concat("titleSlot",'</field>\n      <field name="ATTRIBUTES">').concat(C.c,'</field>\n      <value name="VALUE">\n        <shadow type="text">\n          <field name="TEXT"></field>\n        </shadow>\n      </value>\n    </block>'),'<block type="list_viewer_child_widget_set_font_size" uncache="true">\n      '.concat(t,'\n      <value name="ROW">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\'1,,1\'>1</field>\n        </shadow>\n      </value>\n      <field name="SLOT_WIDGET">').concat("titleSlot",'</field>\n      <value name="VALUE">\n        <shadow type="math_number"><field name="NUM" constraints="12,99,1">16</field></shadow>\n      </value>\n    </block>'),'<block type="list_viewer_child_widget_set_color_attributes" uncache="true">\n      '.concat(t,'\n      <value name="ROW">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\'1,,1\'>1</field>\n        </shadow>\n      </value>\n      <field name="SLOT_WIDGET">').concat("titleSlot",'</field>\n      <field name="ATTRIBUTES">').concat(C.c,'</field>\n      <value name="VALUE">\n      <shadow type="color_picker"><field name="COLOR_PALETTE">#000000</field></shadow>\n      </value>\n    </block>'),C.d,'<block type="list_viewer_child_widget_get_string_attributes" uncache="true">\n      '.concat(t,'\n      <value name="ROW">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\'1,,1\'>1</field>\n        </shadow>\n      </value>\n      <field name="SLOT_WIDGET">').concat("titleSlot",'</field>\n      <field name="ATTRIBUTES">').concat(C.c,"</field>\n    </block>"),'<block type="list_viewer_child_widget_get_font_size" uncache="true">\n      '.concat(t,'\n      <value name="ROW">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\'1,,1\'>1</field>\n        </shadow>\n      </value>\n      <field name="SLOT_WIDGET">').concat("titleSlot","</field>\n    </block>"),'<block type="list_viewer_child_widget_get_color_attributes" uncache="true">\n      '.concat(t,'\n      <value name="ROW">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\'1,,1\'>1</field>\n        </shadow>\n      </value>\n      <field name="SLOT_WIDGET">').concat("titleSlot",'</field>\n      <field name="ATTRIBUTES">').concat(C.c,"</field>\n    </block>")]},blockDeclareGroup:{setBlockGroupSnippet:function(e){e.insertBlockSnippetGenerator("list_viewer_on_press_index",function(){return"".concat(S.a,"index")}),e.insertBlockSnippetGenerator("list_viewer_on_press",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID")||"",a=e.statementToCode(t,n,"DO"),r=e.valueToCode(t,n,"INDEX",e.ORDER_ATOMIC);return i&&i!==C.c&&a?S.n("onListViewerPress",[S.o(i)],a,[r]):""}),e.insertBlockSnippetGenerator("list_viewer_set_size",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID")||"",a=e.valueToCode(t,n,"NUM",e.ORDER_FUNCTION_CALL);if(!i||i===C.c)return"";var r="width"===e.getFieldValue(o,"SIZE_TYPE")?"setListViewerWidgetWidth":"setListViewerWidgetHeight";return S.l(S.n(r,[S.o(i),a]),o,e)}),e.insertBlockSnippetGenerator("list_viewer_set_position",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID")||"",a=e.valueToCode(t,n,"NUM",e.ORDER_FUNCTION_CALL);if(!i||i===C.c)return"";var r="positionX"===e.getFieldValue(o,"POSITION_TYPE")?"setListViewerWidgetPositionX":"setListViewerWidgetPositionY";return S.l(S.n(r,[S.o(i),a]),o,e)}),e.insertBlockSnippetGenerator("data_source_get",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"DATA_SOURCE")||"";return i===C.c?"":S.o(i)}),e.insertBlockSnippetGenerator("list_viewer_set_data_source",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID")||"",a=e.valueToCode(t,n,"DATA_SOURCE",e.ORDER_FUNCTION_CALL)||"";return i&&i!==C.c&&a&&a!==C.c?S.l(S.n("setListViewerWidgetDataSource",[S.o(i),a]),o,e):""}),e.insertBlockSnippetGenerator("list_viewer_set_visible",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID")||"",a="show"===e.getFieldValue(o,"VISIBLE");return i&&i!==C.c?S.n("setListViewerWidgetVisible",[S.o(i),a]):""}),e.insertBlockSnippetGenerator("list_viewer_set_disabled",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID")||"",a="disabled"===e.getFieldValue(o,"DISABLED");return i&&i!==C.c?S.n("setListViewerWidgetDisabled",[S.o(i),a]):""}),e.insertBlockSnippetGenerator("list_viewer_get_size",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID")||"",a="width"===e.getFieldValue(o,"SIZE_TYPE")?"getListViewerWidgetWidth":"getListViewerWidgetHeight";return i&&i!==C.c?S.s(a,[S.o(i)]):""}),e.insertBlockSnippetGenerator("list_viewer_get_position",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID")||"",a="positionX"===e.getFieldValue(o,"POSITION_TYPE")?"getListViewerWidgetPositionX":"getListViewerWidgetPositionY";return i&&i!==C.c?S.s(a,[S.o(i)]):""}),e.insertBlockSnippetGenerator("list_viewer_get_data_source",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID")||"";return i&&i!==C.c?S.s("getListViewerWidgetDataSource",[S.o(i)]):""}),e.insertBlockSnippetGenerator("list_viewer_child_widget_on_press_index",function(){return"".concat(S.a,"index")}),e.insertBlockSnippetGenerator("list_viewer_child_widget_on_press",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID")||"",a=e.getFieldValue(o,"SLOT_WIDGET")||"",r=e.statementToCode(t,n,"DO"),l=e.valueToCode(t,n,"INDEX",e.ORDER_ATOMIC);if(!i||i===C.c||!a||a===C.c||!r)return"";var c="".concat(i,"_").concat(a);return S.n("onListViewerChildWidgetPress",[S.o(c)],r,[l])}),e.insertBlockSnippetGenerator("list_viewer_child_widget_bind_column",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID")||"",a=e.getFieldValue(o,"SLOT_WIDGET")||"",r=e.valueToCode(t,n,"COLUMN",e.ORDER_FUNCTION_CALL);return i&&i!==C.c&&a&&a!==C.c?S.l(S.n("setListViewerChildWidgetBindColumn",[S.o(i),S.o(a),r]),o,e):""}),e.insertBlockSnippetGenerator("list_viewer_child_widget_set_string_attributes",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID")||"",a=e.getFieldValue(o,"SLOT_WIDGET")||"",r=e.getFieldValue(o,"ATTRIBUTE")||"",l=e.valueToCode(t,n,"ROW",e.ORDER_FUNCTION_CALL),c=e.valueToCode(t,n,"VALUE",e.ORDER_FUNCTION_CALL);return i&&i!==C.c&&a&&a!==C.c&&r&&r!==C.c?S.l(S.n("setListViewerChildWidgetAttribute",[S.o(i),l,S.o(a),S.o(r),c]),o,e):""}),e.insertBlockSnippetGenerator("list_viewer_child_widget_set_font_size",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID")||"",a=e.getFieldValue(o,"SLOT_WIDGET")||"",r=e.valueToCode(t,n,"ROW",e.ORDER_FUNCTION_CALL),l=e.valueToCode(t,n,"VALUE",e.ORDER_FUNCTION_CALL);return i&&i!==C.c&&a&&a!==C.c?S.l(S.n("setListViewerChildWidgetAttribute",[S.o(i),r,S.o(a),S.o("fontSize"),l]),o,e):""}),e.insertBlockSnippetGenerator("list_viewer_child_widget_set_color_attributes",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID")||"",a=e.getFieldValue(o,"SLOT_WIDGET")||"",r=e.getFieldValue(o,"ATTRIBUTE")||"",l=e.valueToCode(t,n,"ROW",e.ORDER_FUNCTION_CALL),c=e.valueToCode(t,n,"VALUE",e.ORDER_FUNCTION_CALL);return i&&i!==C.c&&a&&a!==C.c&&r&&r!==C.c?S.l(S.n("setListViewerChildWidgetAttribute",[S.o(i),l,S.o(a),S.o(r),c]),o,e):""}),e.insertBlockSnippetGenerator("list_viewer_child_widget_get_string_attributes",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID")||"",a=e.getFieldValue(o,"SLOT_WIDGET")||"",r=e.getFieldValue(o,"ATTRIBUTE")||"",l=e.valueToCode(t,n,"ROW",e.ORDER_FUNCTION_CALL);return i&&i!==C.c&&a&&a!==C.c&&r?S.l(S.s("getListViewerChildWidgetAttribute",[S.o(i),l,S.o(a),S.o(r)]),o,e,!1,!0):""}),e.insertBlockSnippetGenerator("list_viewer_child_widget_get_font_size",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID")||"",a=e.getFieldValue(o,"SLOT_WIDGET")||"",r=e.valueToCode(t,n,"ROW",e.ORDER_FUNCTION_CALL);return i&&i!==C.c&&a&&a!==C.c?S.l(S.s("getListViewerChildWidgetAttribute",[S.o(i),r,S.o(a),S.o("fontSize")]),o,e,!1,!0):""}),e.insertBlockSnippetGenerator("list_viewer_child_widget_get_color_attributes",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID")||"",a=e.getFieldValue(o,"SLOT_WIDGET")||"",r=e.getFieldValue(o,"ATTRIBUTE")||"",l=e.valueToCode(t,n,"ROW",e.ORDER_FUNCTION_CALL);return i&&i!==C.c&&a&&a!==C.c&&r?S.l(S.s("getListViewerChildWidgetAttribute",[S.o(i),l,S.o(a),S.o(r)]),o,e,!1,!0):""})},setBlockGroupProfile:function(e,t){var n="%{BKY_BLOCK_TAB_ICON}",i=[[t.Msg.TEXT_CONTENT,"content"]],r=[[t.Msg.TEXT_COLOR,"color"],[t.Msg.BACKGROUND_COLOR,"backgroundColor"]],l=[[t.Msg.IMAGE,"fileId"]],c=[[t.Msg.BACKGROUND_COLOR,"backgroundColor"]],s={type:"field_coco_dropdown",name:"WIDGET_ID",custom:!0,options:function(){return I.c().getWidgetListByType(a.x)},optOnchange:function(e){var t,n,o=null==(t=this.source_block)?void 0:t.get_field("SLOT_WIDGET"),i=null==(n=this.source_block)?void 0:n.get_field("ATTRIBUTE");null!=o&&o.set_value(C.c),null!=i&&i.set_value(C.c)}},u={type:"field_coco_dropdown",name:"SLOT_WIDGET",custom:!0,options:function(){var e,t=(null==(e=this.source_block)?void 0:e.get_field_value("WIDGET_ID"))||A.a();return I.c().getListViewerChildWidgetList(t)},optOnchange:p},d={type:"field_coco_dropdown",name:"SLOT_WIDGET",custom:!0,options:function(){var e,t=(null==(e=this.source_block)?void 0:e.get_field_value("WIDGET_ID"))||A.a();return I.c().getListViewerChildWidgetList(t,a.H)},optOnchange:p};function p(e){var t,n=null==(t=this.source_block)?void 0:t.get_field("ATTRIBUTE");null!=n&&n.set_value(C.c)}var m={type:"field_coco_dropdown",name:"ATTRIBUTE",custom:!0,options:function(){var e=(null==(r=this.source_block)?void 0:r.get_field_value("WIDGET_ID"))||A.a(),t=null==(c=this.source_block)?void 0:c.get_field_value("SLOT_WIDGET"),n=y.Cb(e),o=[];if(n&&t){var r,c,s,u,d=y.Cb(null==(s=n.attributes)||null==(u=s.templateSlotMap[t])?void 0:u.widgetId);(null==d?void 0:d.type)===a.H&&(o=o.concat(i)),(null==d?void 0:d.type)===a.v&&(o=o.concat(l))}return o.push([C.b,C.c]),o}},g={type:"field_coco_dropdown",name:"ATTRIBUTE",custom:!0,options:function(){var e=(null==(i=this.source_block)?void 0:i.get_field_value("WIDGET_ID"))||A.a(),t=null==(l=this.source_block)?void 0:l.get_field_value("SLOT_WIDGET"),n=y.Cb(e),o=[];if(n&&t){var i,l,s,u,d=y.Cb(null==(s=n.attributes)||null==(u=s.templateSlotMap[t])?void 0:u.widgetId);(null==d?void 0:d.type)===a.H&&(o=o.concat(r)),(null==d?void 0:d.type)===a.v&&(o=o.concat(c))}return o.push([C.b,C.c]),o}};e.insertBlockProfile("list_viewer_on_press",{type:"list_viewer_on_press",message0:"%{BKY_LIST_VIEWER_ON_PRESS}",args0:[S.e(n,!0),N.a({},s),{type:"input_value",name:"INDEX",check:"String",align:"CENTRE",default_shadow:'<shadow type="list_viewer_on_press_index" />'},{type:"input_dummy",align:"CENTRE"},{type:"input_statement",name:"DO",provided_context:"list_viewer_on_press_DO"}],colour:"%{BKY_EVENTS_HUE}",inputsInline:!0}),e.insertBlockProfile("list_viewer_on_press_index",{type:"list_viewer_on_press_index",message0:"%{BKY_LIST_VIEWER_ROW_INDEX}",output:["Number","String"],required_context:"list_viewer_on_press_DO",colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("list_viewer_set_size",{type:"list_viewer_set_size",message0:"%{BKY_LIST_VIEWER_SET_PROPERTY}",args0:[N.a({},s),{type:"field_coco_dropdown",name:"SIZE_TYPE",custom:!0,options:[[t.Msg.HEIGHT,"height"],[t.Msg.WIDTH,"width"]],optOnchange:function(e){var t,n,i,a,r=e||"";t="width"===r?o.k:o.j,n="width"===r?o.m:o.l,(a=null==(i=this.source_block)?void 0:i.get_shadow_field("NUM"))&&"FieldNumber"===a.field_type&&(a.set_value("100"),a.set_constraints(n,t,1))}},{type:"input_value",name:"NUM",check:["Number"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("list_viewer_set_position",{type:"list_viewer_set_position",message0:"%{BKY_LIST_VIEWER_SET_PROPERTY}",args0:[N.a({},s),{type:"field_coco_dropdown",name:"POSITION_TYPE",custom:!0,options:[[t.Msg.POSITION_X,"positionX"],[t.Msg.POSITION_Y,"positionY"]]},{type:"input_value",name:"NUM",check:["Number"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("data_source_get",{type:"data_source_get",message0:"%1",args0:[{type:"field_coco_dropdown",name:"DATA_SOURCE",custom:!0,advancedOptions:function(){return I.c().getGlobalGridList(this)}}],output:"String",colour:"%{BKY_CONTROL_HUE}",inputsInline:!0}),e.insertBlockProfile("list_viewer_set_data_source",{type:"list_viewer_set_data_source",message0:"%{BKY_LIST_VIEWER_SET_DATA_SOURCE}",args0:[N.a({},s),{type:"input_value",name:"DATA_SOURCE",check:["String"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("list_viewer_set_visible",{type:"list_viewer_set_visible",message0:"%1 %2",args0:[{type:"field_coco_dropdown",name:"VISIBLE",custom:!0,options:[[t.Msg.SHOW,"show"],[t.Msg.HIDE,"hide"]]},N.a({},s)],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("list_viewer_set_disabled",{type:"list_viewer_set_disabled",message0:"%1 %2",args0:[{type:"field_coco_dropdown",name:"DISABLED",custom:!0,options:function(){return[[t.Msg.ABLE,"able"],[t.Msg.DISABLED,"disabled"]]}},N.a({},s)],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("list_viewer_get_size",{type:"list_viewer_get_size",message0:"%{BKY_LIST_VIEWER_GET_PROPERTY}",args0:[N.a({},s),{type:"field_coco_dropdown",name:"SIZE_TYPE",custom:!0,options:[[t.Msg.HEIGHT,"height"],[t.Msg.WIDTH,"width"]]}],output:["String","Number"],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("list_viewer_get_position",{type:"list_viewer_get_position",message0:"%{BKY_LIST_VIEWER_GET_PROPERTY}",args0:[N.a({},s),{type:"field_coco_dropdown",name:"POSITION_TYPE",custom:!0,options:[[t.Msg.POSITION_X,"positionX"],[t.Msg.POSITION_Y,"positionY"]]}],output:["String","Number"],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("list_viewer_get_data_source",{type:"list_viewer_get_data_source",message0:"%{BKY_LIST_VIEWER_GET_DATA_SOURCE}",args0:[N.a({},s)],output:["String"],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("list_viewer_child_widget_on_press",{type:"list_viewer_child_widget_on_press",message0:"%{BKY_LIST_VIEWER_CHILD_WIDGET_ON_PRESS}",args0:[S.e(n,!0),N.a({},s),N.a({},u),{type:"input_value",name:"INDEX",check:"Number",align:"CENTRE",default_shadow:'<shadow type="list_viewer_child_widget_on_press_index" />'},{type:"input_dummy",align:"CENTRE"},{type:"input_statement",name:"DO",provided_context:"list_viewer_child_widget_on_press_DO"}],colour:"%{BKY_EVENTS_HUE}",inputsInline:!0}),e.insertBlockProfile("list_viewer_child_widget_on_press_index",{type:"list_viewer_child_widget_on_press_index",message0:"%{BKY_LIST_VIEWER_ROW_INDEX}",output:"Number",required_context:"list_viewer_child_widget_on_press_DO",colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("list_viewer_child_widget_bind_column",{type:"list_viewer_child_widget_bind_column",message0:"%{BKY_LIST_VIEWER_CHILD_WIDGET_BIND_COLUMN}",args0:[N.a({},s),N.a({},u),{type:"input_value",name:"COLUMN",check:"String"}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("list_viewer_child_widget_set_string_attributes",{type:"list_viewer_child_widget_set_string_attributes",message0:"%{BKY_LIST_VIEWER_CHILD_WIDGET_SET_ATTRIBUTES}",args0:[N.a({},s),{type:"input_value",name:"ROW",check:"Number"},N.a({},u),N.a(N.a({},m),{},{optOnchange:function(e){var t,n=null==(t=this.source_block)?void 0:t.get_input("VALUE");"content"===e&&null!=n&&n.set_check(["String","Number","Boolean","Array"]),"fileId"===e&&null!=n&&n.set_check(["String"])}}),{type:"input_value",name:"VALUE",check:["String","Number","Boolean"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("list_viewer_child_widget_set_color_attributes",{type:"list_viewer_child_widget_set_color_attributes",message0:"%{BKY_LIST_VIEWER_CHILD_WIDGET_SET_ATTRIBUTES}",args0:[N.a({},s),{type:"input_value",name:"ROW",check:"Number"},N.a({},u),N.a({},g),{type:"input_value",name:"VALUE",check:["Color"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("list_viewer_child_widget_set_font_size",{type:"list_viewer_child_widget_set_font_size",message0:"%{BKY_LIST_VIEWER_CHILD_WIDGET_SET_FONT_SIZE}",args0:[N.a({},s),{type:"input_value",name:"ROW",check:"Number"},N.a({},d),{type:"input_value",name:"VALUE",check:["Number"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("list_viewer_child_widget_get_string_attributes",{type:"list_viewer_child_widget_get_string_attributes",message0:"%{BKY_LIST_VIEWER_CHILD_WIDGET_GET_ATTRIBUTES}",args0:[N.a({},s),{type:"input_value",name:"ROW",check:"Number"},N.a({},u),N.a({},m)],output:["String"],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("list_viewer_child_widget_get_font_size",{type:"list_viewer_child_widget_get_font_size",message0:"%{BKY_LIST_VIEWER_CHILD_WIDGET_GET_FONT_SIZE}",args0:[N.a({},s),{type:"input_value",name:"ROW",check:"Number"},N.a({},d)],output:["Number"],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("list_viewer_child_widget_get_color_attributes",{type:"list_viewer_child_widget_get_color_attributes",message0:"%{BKY_LIST_VIEWER_CHILD_WIDGET_GET_ATTRIBUTES}",args0:[N.a({},s),{type:"input_value",name:"ROW",check:"Number"},N.a({},u),N.a({},g)],output:["String","Color"],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0})}},categoryClass:{text:"",iconId:o.i,blocks:[]},renameBlocksInfo:{blocksList:["list_viewer_on_press","list_viewer_set_size","list_viewer_set_position","list_viewer_set_data_source","list_viewer_set_visible","list_viewer_set_disabled","list_viewer_get_size","list_viewer_get_position","list_viewer_get_data_source","list_viewer_child_widget_on_press","list_viewer_child_widget_bind_column","list_viewer_child_widget_set_string_attributes","list_viewer_child_widget_set_font_size","list_viewer_child_widget_set_color_attributes","list_viewer_child_widget_get_string_attributes","list_viewer_child_widget_get_font_size","list_viewer_child_widget_get_color_attributes"],fieldName:"WIDGET_ID"},topBlocks:["list_viewer_on_press","list_viewer_child_widget_on_press"]},R={icon:o.i,title:"ListViewerWidget.widgetName",type:a.x,previewAreaWidgetTitle:"ListViewerWidget.widgetName",component:O,editConfig:i,blockConfig:k,isInvisibleWidget:!1,widget:{isGlobalWidget:!1,size:{width:o.h,height:o.d},widgetIds:[],attributes:{disabled:!1,backgroundColor:o.c,templateRenderType:o.e,templateType:o.g,dataSource:"",templateSlotMap:{}}},isDiscard:!0}},14816(e,t,n){n.d(t,{we:()=>u});var o=n(13244),i=n(46942),a=n.n(i),r=n(41594),l=n.n(r);n(52846),n(19042);var c=n(15447),s=n.n(c),u=(0,r.memo)(function(e){var t,n=e.type,i=void 0===n?"image-only":n,r=e.text,c=void 0===r?"":r;return l().createElement("div",{className:s().container},l().createElement("div",{className:a()(s().image,(t={},o.a(t,s().imageOnly,"image-only"===i),o.a(t,s().imageText,"image-text"===i),t))}),c&&l().createElement("div",{className:s().text},c))})},9839(e,t,n){n.d(t,{ah:()=>k});var o=n(15514),i=[{type:"WidgetTitle",hasDisableOrVisible:!0},[{type:"VisibleSwitch"},{type:"DisabledSwitch"}],{type:"BackgroundColor"},{type:"WidgetOpacity"},{type:"Coordinate"},{type:"Size",sizeRange:[[o.k,o.i],[o.j,o.h]]},{type:"ListViewerStyleTemplate"},{type:"ListNewDataSource"},{type:"HelpUrl",url:"https://codemao-guide.yuque.com/bfiekm/sbo5kh/list-viewer"}],a=n(90759),r=n(8517),l=n(74375),c=n(60096),s=n(24876),u=n(12327),d=n(94220),p=n(81555),m=n(32919),g=n(51877),E=n(33007),T=n(28950),v=n(13244),h=n(46942),f=n.n(h),b=n(19040),O=n(41594),C=n.n(O),I=n(75713),S=n.n(I),y={},N=(0,O.memo)(function(e){var t=e.id,n=e.position,i=e.visible,a=e.opacity,l=e.size,c=e.attributes,s=c.backgroundColor,u=c.templateType,T=c.templateRenderType,h=c.templateSlotMap,O=c.disabled,I=c.dataSource,N=(0,b.useDispatch)(),A=(0,b.useSelector)(function(e){return e.project.selectedWidgetId}),k=(0,b.useSelector)(function(e){return e.cloudSpace.cloudTableDataList});for(var R in h){var B=m.Bb(h[R].widgetId);y[R]=!1!==(null==B?void 0:B.visible)}function D(e,t){var n,o,i,a,l,c,s,p,m,g,v,b,O,I,N,A,k,R,B,D,w,L;return C().createElement(C().Fragment,null,u===d.o.ONLY_TITLE&&C().createElement(C().Fragment,null,C().createElement("div",{className:f()(S().flexSC,S().template1,"tiled"===T?S().itemTiled:S().itemCard)},C().createElement("div",{className:S().title},r.e(null==(n=h.titleSlot)?void 0:n.widgetId,"titleSlot",e,t)),C().createElement("div",{className:S().iconBox},C().createElement(E.j,{type:"icon-fold-left",className:S().icon})))),u===d.o.TITLE_AND_SUBTITLE&&C().createElement(C().Fragment,null,C().createElement("div",{className:f()(S().flexSC,S().template2,"tiled"===T?S().itemTiled:S().itemCard)},y.titleSlot?C().createElement("div",{className:S().title},r.e(null==(o=h.titleSlot)?void 0:o.widgetId,"titleSlot",e,t)):C().createElement("div",null),C().createElement("div",{className:f()(S().flexSC,S().subTitleBox)},y.subTitleSlot&&C().createElement("div",{className:S().subTitle},r.e(null==(i=h.subTitleSlot)?void 0:i.widgetId,"subTitleSlot",e,t)),C().createElement(E.j,{type:"icon-fold-left",className:S().icon})))),u===d.o.IMAGE_TITLE_AND_SUBTITLE&&C().createElement(C().Fragment,null,C().createElement("div",{className:f()(S().flexSC,S().template3,"tiled"===T?S().itemTiled:S().itemCard)},C().createElement("div",{className:S().title},y.imageSlot&&C().createElement("div",{className:S().smallImgBox},r.e(null==(a=h.imageSlot)?void 0:a.widgetId,"imageSlot",e,t)),y.titleSlot&&C().createElement("div",null,r.e(null==(l=h.titleSlot)?void 0:l.widgetId,"titleSlot",e,t))),C().createElement("div",{className:f()(S().flexSC,S().subTitleBox)},y.subTitleSlot&&C().createElement("div",{className:S().subTitle},r.e(null==(c=h.subTitleSlot)?void 0:c.widgetId,"subTitleSlot",e,t)),C().createElement(E.j,{type:"icon-fold-left",className:S().icon})))),u===d.o.AVATAR_AND_TITLE_SUBTITLE&&C().createElement(C().Fragment,null,C().createElement("div",{className:f()(S().flexSC,S().template4,"tiled"===T?S().itemTiled:S().itemCard)},C().createElement("div",{className:S().avatarAndTitle},y.avatarSlot&&C().createElement("div",{className:S().avatarImgBox},r.e(null==(s=h.avatarSlot)?void 0:s.widgetId,"avatarSlot",e,t)),C().createElement("div",{className:S().titleBox},y.titleSlot&&C().createElement("div",{className:S().title},r.e(null==(p=h.titleSlot)?void 0:p.widgetId,"titleSlot",e,t)),y.subTitleSlot&&C().createElement("div",{className:S().subTitle},r.e(null==(m=h.subTitleSlot)?void 0:m.widgetId,"subTitleSlot",e,t)))),C().createElement("div",{className:S().iconBox},C().createElement(E.j,{type:"icon-fold-left",className:S().icon})))),u===d.o.IMAGE_AND_TITLE_DESC&&C().createElement(C().Fragment,null,C().createElement("div",{className:f()(S().flexSC,S().template5,"tiled"===T?S().itemTiled:S().itemCard)},C().createElement("div",{className:S().imgAndTitleBox},y.imageSlot&&C().createElement("div",{className:S().smallImgBox},r.e(null==(g=h.imageSlot)?void 0:g.widgetId,"imageSlot",e,t)),C().createElement("div",null,y.titleSlot&&C().createElement("div",{className:S().title},r.e(null==(v=h.titleSlot)?void 0:v.widgetId,"titleSlot",e,t)),y.descSlot&&C().createElement("div",{className:S().desc},r.e(null==(b=h.descSlot)?void 0:b.widgetId,"descSlot",e,t)))),C().createElement("div",{className:S().iconBox},C().createElement(E.j,{type:"icon-fold-left",className:S().icon})))),u===d.o.AVATAR_TITLE_SUBTITLE_AND_IMAGE_DESC&&C().createElement(C().Fragment,null,C().createElement("div",{className:f()(S().template6,"tiled"===T?S().itemTiled:S().itemCard)},C().createElement("div",{className:S().avatarAndTitle},y.avatarSlot&&C().createElement("div",{className:S().avatarImgBox},r.e(null==(O=h.avatarSlot)?void 0:O.widgetId,"avatarSlot",e,t)),C().createElement("div",{className:S().titleBox},y.titleSlot&&C().createElement("div",{className:S().title},r.e(null==(I=h.titleSlot)?void 0:I.widgetId,"titleSlot",e,t)),y.subTitleSlot&&C().createElement("div",{className:S().subTitle},r.e(null==(N=h.subTitleSlot)?void 0:N.widgetId,"subTitleSlot",e,t)))),y.bannerSlot&&C().createElement("div",{className:S().bannerImgBox},r.e(null==(A=h.bannerSlot)?void 0:A.widgetId,"bannerSlot",e,t)),y.descSlot&&C().createElement("div",{className:S().desc},r.e(null==(k=h.descSlot)?void 0:k.widgetId,"descSlot",e,t)))),u===d.o.IMAGE_AND_AVATAR_TITLE_SUBTITLE_AND_DESC&&C().createElement(C().Fragment,null,C().createElement("div",{className:f()(S().template6,"tiled"===T?S().itemTiled:S().itemCard)},y.bannerSlot&&C().createElement("div",{className:S().bannerImgBox},r.e(null==(R=h.bannerSlot)?void 0:R.widgetId,"bannerSlot",e,t)),C().createElement("div",{className:S().avatarAndTitle},y.avatarSlot&&C().createElement("div",{className:S().avatarImgBox},r.e(null==(B=h.avatarSlot)?void 0:B.widgetId,"avatarSlot",e,t)),C().createElement("div",{className:S().titleBox},y.titleSlot&&C().createElement("div",{className:S().title},r.e(null==(D=h.titleSlot)?void 0:D.widgetId,"titleSlot",e,t)),y.subTitleSlot&&C().createElement("div",{className:S().subTitle},r.e(null==(w=h.subTitleSlot)?void 0:w.widgetId,"subTitleSlot",e,t)))),y.descSlot&&C().createElement("div",{className:S().desc},r.e(null==(L=h.descSlot)?void 0:L.widgetId,"descSlot",e,t)))))}return C().createElement("div",{id:t,onMouseDown:function(e){var n,o,i,a=e.target.closest("."+p.b);if(a){if((null==(n=m.Bb(a.id))?void 0:n.parentId)&&a.id===A)e.stopPropagation();else if(!A||(null==(o=m.Bb(A))?void 0:o.parentId)!==(null==(i=m.Bb(a.id))?void 0:i.parentId))return a.id!==t&&A!==t?(e.stopPropagation(),void N(g.ug(t))):void 0}},"data-role":d.M,"data-widget-type":d.A,"data-min-width":o.k,"data-max-width":o.i,"data-min-height":o.j,"data-max-height":o.h,className:f()(p.b,v.a({},S().hide,!i)),style:{top:n.y,left:n.x,width:l.width,height:l.height,minWidth:"".concat(o.k,"px"),minHeight:"".concat(o.j,"px"),maxWidth:"".concat(o.i,"px"),maxHeight:"".concat(o.h,"px"),background:O?o.f:s,opacity:void 0===a?void 0:a/100,filter:O?"saturate(0)":void 0}},C().createElement("div",{className:S().listViewerBox,style:{width:"100%",height:"100%",overflowY:"auto"}},function(){if(I)if("string"==typeof I){var e=m.Bb(I);if((null==e?void 0:e.type)===d.G&&e.attributes.db.data.length>0)return C().createElement(C().Fragment,null,e.attributes.db.data.map(function(e,t){return C().createElement("div",{key:t},D(t,e))}))}else{var t,n=k.find(function(e){return e.id===I});if(n&&(null==(t=n.data)?void 0:t.length)>0)return C().createElement(C().Fragment,null,n.data.map(function(e,t){return C().createElement("div",{key:t},D(t,e))}))}return C().createElement("div",null,D())}()))}),A={type:d.A,category:{iconId:o.g,blocks:d.A},getTemplate:function(e){var t='<field name="WIDGET_ID">'.concat(e,"</field>");return['<block type="new_list_viewer_on_press" uncache="true">\n      '.concat(t,"\n    </block>"),'<block type="new_list_viewer_child_widget_on_press" uncache="true">\n      '.concat(t,'\n      <field name="SLOT_WIDGET">').concat("titleSlot","</field>\n    </block>"),l.d,'<block type="new_list_viewer_child_widget_set_color_attributes" uncache="true">\n      '.concat(t,'\n      <value name="ROW">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\'1,,1\'>1</field>\n        </shadow>\n      </value>\n      <field name="SLOT_WIDGET">').concat("titleSlot",'</field>\n      <field name="ATTRIBUTES">').concat(l.c,'</field>\n      <value name="VALUE">\n      <shadow type="color_picker"><field name="COLOR_PALETTE">#000000</field></shadow>\n      </value>\n    </block>'),l.d,u.sb({property:"__opacity",widgetType:d.A,widgetId:e,isSetProperty:!0}),'<block type="new_list_viewer_set_size" uncache="true">\n      '.concat(t,'\n      <field name="SIZE_TYPE">height</field>\n      <value name="NUM">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\'').concat(o.j,",").concat(o.h,",1'>100</field>\n        </shadow>\n      </value>\n    </block>"),u.sb({property:"__position",widgetType:d.A,widgetId:e,isSetProperty:!0}),u.sb({property:"__visible",widgetType:d.A,widgetId:e,isSetProperty:!0}),u.sb({property:"__disabled",widgetType:d.A,widgetId:e,isSetProperty:!0}),l.d,'<block type="new_list_viewer_child_widget_get_color_attributes" uncache="true">\n      '.concat(t,'\n      <value name="ROW">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\'1,,1\'>1</field>\n        </shadow>\n      </value>\n      <field name="SLOT_WIDGET">').concat("titleSlot",'</field>\n      <field name="ATTRIBUTES">').concat(l.c,"</field>\n    </block>"),u.sb({property:"__opacity",widgetType:d.A,widgetId:e}),'<block type="new_list_viewer_get_size" uncache="true">\n      '.concat(t,'\n      <field name="SIZE_TYPE">height</field>\n    </block>'),u.sb({property:"__position",widgetType:d.A,widgetId:e}),l.d,u.sb({property:"__visible",widgetType:d.A,widgetId:e}),u.sb({property:"__disabled",widgetType:d.A,widgetId:e})]},blockDeclareGroup:{setBlockGroupSnippet:function(e){e.insertBlockSnippetGenerator("new_list_viewer_on_press_index",function(){return"".concat(s.a,"index")}),e.insertBlockSnippetGenerator("new_list_viewer_on_press",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID")||"",a=e.statementToCode(t,n,"DO"),r=e.valueToCode(t,n,"INDEX",e.ORDER_ATOMIC);return a?s.n("onListViewerPress",[s.o(i)],a,[r]):""}),e.insertBlockSnippetGenerator("new_list_viewer_set_size",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID")||"",a=e.valueToCode(t,n,"NUM",e.ORDER_FUNCTION_CALL),r="width"===e.getFieldValue(o,"SIZE_TYPE")?"setListViewerWidgetWidth":"setListViewerWidgetHeight";return s.l(s.n(r,[s.o(i),a]),o,e)}),e.insertBlockSnippetGenerator("new_list_viewer_get_size",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID")||"",a="width"===e.getFieldValue(o,"SIZE_TYPE")?"getListViewerWidgetWidth":"getListViewerWidgetHeight";return s.s(a,[s.o(i)])}),e.insertBlockSnippetGenerator("new_list_viewer_child_widget_on_press_index",function(){return"".concat(s.a,"index")}),e.insertBlockSnippetGenerator("new_list_viewer_child_widget_on_press",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID")||"",a=e.getFieldValue(o,"SLOT_WIDGET")||"",r=e.statementToCode(t,n,"DO"),c=e.valueToCode(t,n,"INDEX",e.ORDER_ATOMIC);if(!a||a===l.c||!r)return"";var u="".concat(i,"_").concat(a);return s.n("onListViewerChildWidgetPress",[s.o(u)],r,[c])}),e.insertBlockSnippetGenerator("new_list_viewer_child_widget_set_color_attributes",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID")||"",a=e.getFieldValue(o,"SLOT_WIDGET")||"",r=e.getFieldValue(o,"ATTRIBUTE")||"",c=e.valueToCode(t,n,"ROW",e.ORDER_FUNCTION_CALL),u=e.valueToCode(t,n,"VALUE",e.ORDER_FUNCTION_CALL);return a&&a!==l.c&&r&&r!==l.c?s.l(s.n("setListViewerChildWidgetAttribute",[s.o(i),c,s.o(a),s.o(r),u]),o,e):""}),e.insertBlockSnippetGenerator("new_list_viewer_child_widget_get_color_attributes",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID")||"",a=e.getFieldValue(o,"SLOT_WIDGET")||"",r=e.getFieldValue(o,"ATTRIBUTE")||"",c=e.valueToCode(t,n,"ROW",e.ORDER_FUNCTION_CALL);return a&&a!==l.c&&r?s.l(s.s("getListViewerChildWidgetAttribute",[s.o(i),c,s.o(a),s.o(r)]),o,e,!1,!0):""})},setBlockGroupProfile:function(e,t){var n="%{BKY_BLOCK_TAB_ICON}",i=[[t.Msg.TEXT_COLOR,"color"],[t.Msg.BACKGROUND_COLOR,"backgroundColor"]],r=[[t.Msg.BACKGROUND_COLOR,"backgroundColor"]],p={type:"field_coco_dropdown",name:"WIDGET_ID",custom:!0,options:function(){return c.c().getWidgetListByType(d.A)},optOnchange:function(e){var t,n,o=null==(t=this.source_block)?void 0:t.get_field("SLOT_WIDGET"),i=null==(n=this.source_block)?void 0:n.get_field("ATTRIBUTE");null!=o&&o.set_value(l.c),null!=i&&i.set_value(l.c)}},m={type:"field_coco_dropdown",name:"SLOT_WIDGET",custom:!0,options:function(){var e,t=(null==(e=this.source_block)?void 0:e.get_field_value("WIDGET_ID"))||a.a();return c.c().getListViewerChildWidgetList(t)},optOnchange:function(e){var t,n=null==(t=this.source_block)?void 0:t.get_field("ATTRIBUTE");null!=n&&n.set_value(l.c)}},g={type:"field_coco_dropdown",name:"ATTRIBUTE",custom:!0,options:function(){var e=(null==(l=this.source_block)?void 0:l.get_field_value("WIDGET_ID"))||a.a(),t=null==(c=this.source_block)?void 0:c.get_field_value("SLOT_WIDGET"),n=u.Cb(e),o=[];if(n&&t){var l,c,s,p,m=u.Cb(null==(s=n.attributes)||null==(p=s.templateSlotMap[t])?void 0:p.widgetId);(null==m?void 0:m.type)===d.H&&(o=o.concat(i)),(null==m?void 0:m.type)===d.v&&(o=o.concat(r))}return o}};e.insertBlockProfile("new_list_viewer_on_press",{type:"new_list_viewer_on_press",message0:"%{BKY_LIST_VIEWER_ON_PRESS}",args0:[s.e(n,!0),T.a({},p),{type:"input_value",name:"INDEX",check:"String",align:"CENTRE",default_shadow:'<shadow type="new_list_viewer_on_press_index" />'},{type:"input_dummy",align:"CENTRE"},{type:"input_statement",name:"DO",provided_context:"new_list_viewer_on_press_DO"}],colour:"%{BKY_EVENTS_HUE}",inputsInline:!0}),e.insertBlockProfile("new_list_viewer_on_press_index",{type:"new_list_viewer_on_press_index",message0:"%{BKY_LIST_VIEWER_ROW_INDEX}",output:["Number","String"],required_context:"new_list_viewer_on_press_DO",colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("new_list_viewer_set_size",{type:"new_list_viewer_set_size",message0:"%{BKY_LIST_VIEWER_SET_PROPERTY}",args0:[T.a({},p),{type:"field_coco_dropdown",name:"SIZE_TYPE",custom:!0,options:[[t.Msg.HEIGHT,"height"],[t.Msg.WIDTH,"width"]],optOnchange:function(e){var t,n,i,a,r=e||"";t="width"===r?o.i:o.h,n="width"===r?o.k:o.j,(a=null==(i=this.source_block)?void 0:i.get_shadow_field("NUM"))&&"FieldNumber"===a.field_type&&(a.set_value("100"),a.set_constraints(n,t,1))}},{type:"input_value",name:"NUM",check:["Number"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("new_list_viewer_get_size",{type:"new_list_viewer_get_size",message0:"%{BKY_LIST_VIEWER_GET_PROPERTY}",args0:[T.a({},p),{type:"field_coco_dropdown",name:"SIZE_TYPE",custom:!0,options:[[t.Msg.HEIGHT,"height"],[t.Msg.WIDTH,"width"]]}],output:["String","Number"],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("new_list_viewer_child_widget_on_press",{type:"new_list_viewer_child_widget_on_press",message0:"%{BKY_LIST_VIEWER_CHILD_WIDGET_ON_PRESS}",args0:[s.e(n,!0),T.a({},p),T.a({},m),{type:"input_value",name:"INDEX",check:"Number",align:"CENTRE",default_shadow:'<shadow type="new_list_viewer_child_widget_on_press_index" />'},{type:"input_dummy",align:"CENTRE"},{type:"input_statement",name:"DO",provided_context:"new_list_viewer_child_widget_on_press_DO"}],colour:"%{BKY_EVENTS_HUE}",inputsInline:!0}),e.insertBlockProfile("new_list_viewer_child_widget_on_press_index",{type:"new_list_viewer_child_widget_on_press_index",message0:"%{BKY_LIST_VIEWER_ROW_INDEX}",output:"Number",required_context:"new_list_viewer_child_widget_on_press_DO",colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("new_list_viewer_child_widget_set_color_attributes",{type:"new_list_viewer_child_widget_set_color_attributes",message0:"%{BKY_LIST_VIEWER_CHILD_WIDGET_SET_ATTRIBUTES}",args0:[T.a({},p),{type:"input_value",name:"ROW",check:"Number"},T.a({},m),T.a({},g),{type:"input_value",name:"VALUE",check:["Color"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("new_list_viewer_child_widget_get_color_attributes",{type:"new_list_viewer_child_widget_get_color_attributes",message0:"%{BKY_LIST_VIEWER_CHILD_WIDGET_GET_ATTRIBUTES}",args0:[T.a({},p),{type:"input_value",name:"ROW",check:"Number"},T.a({},m),T.a({},g)],output:["String","Color"],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0})}},categoryClass:{text:"",iconId:o.g,blocks:[]},renameBlocksInfo:{blocksList:["new_list_viewer_on_press","new_list_viewer_child_widget_on_press","new_list_viewer_child_widget_set_color_attributes","new_list_viewer_set_size","new_list_viewer_child_widget_get_color_attributes","new_list_viewer_get_size"],fieldName:"WIDGET_ID"},topBlocks:["new_list_viewer_on_press","new_list_viewer_child_widget_on_press"]},k={icon:o.g,title:"ListViewerWidget.widgetName",type:d.A,previewAreaWidgetTitle:"ListViewerWidget.widgetName",component:N,editConfig:i,blockConfig:A,isInvisibleWidget:!1,widget:{isGlobalWidget:!1,size:{width:o.e,height:o.b},widgetIds:[],attributes:{disabled:!1,backgroundColor:o.a,templateRenderType:o.c,templateType:o.d,dataSource:"",templateSlotMap:{}}}}},26450(e,t,n){n.d(t,{Ch:()=>K,wh:()=>G});var o=n(74375),i=n(60096),a=n(24876),r=n(12327),l=n(94220),c=n(28950),s=n(66185),u=n(5722),d={type:l.f,category:{iconId:"icon-widget-canvas",blocks:l.f},categoryClass:{text:"",iconId:"icon-widget-canvas",blocks:[]},getTemplate:function(e){var t='<field name="WIDGET_ID">'.concat(e,"</field>");return['<block type="canvas_on_canvas_press" uncache="true">\n      '.concat(t,"\n    </block>"),o.d,r.cb({widgetType:l.f,title:"背景",lineId:"background"}),'<block type="canvas_set_background_image" uncache="true">\n      '.concat(t,'\n      <value name="IMAGE_FILE_ID">\n        <shadow type="image_file_list_dropdown">\n          <field name="IMAGE_FILE_ID">').concat(o.c,"</field>\n        </shadow>\n      </value>\n    </block>"),r.sb({property:"backgroundColor",widgetType:l.f,widgetId:e,isSetProperty:!0}),r.cb({widgetType:l.f,title:"笔迹",lineId:"brush"}),'<block type="canvas_clear_all_brush" uncache="true">\n      '.concat(t,"\n    </block>"),r.cb({widgetType:l.f,title:"通用",lineId:"common"}),r.sb({property:"__opacity",widgetType:l.f,widgetId:e,isSetProperty:!0}),'<block type="canvas_set_size" uncache="true">\n      '.concat(t,'\n      <field name="SIZE_TYPE">height</field>\n      <value name="NUM">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\'').concat(u.h,",").concat(u.f,",1'>100</field>\n        </shadow>\n      </value>\n    </block>"),'<block type="canvas_set_position" uncache="true">\n      '.concat(t,'\n      <field name="POSITION_TYPE">positionX</field>\n      <value name="NUM">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\',,1\'>100</field>\n        </shadow>\n      </value>\n    </block>'),'<block type="canvas_set_visible" uncache="true">\n      '.concat(t,"\n    </block>"),r.cb({widgetType:l.f,title:"返回值",lineId:"getter"}),r.sb({property:"backgroundColor",widgetType:l.f,widgetId:e}),'<block type="canvas_get_background_image" uncache="true">\n      '.concat(t,"\n    </block>"),r.sb({property:"__opacity",widgetType:l.f,widgetId:e}),'<block type="canvas_get_position" uncache="true">\n      '.concat(t,'\n      <field name="POSITION_TYPE">positionX</field>\n    </block>'),'<block type="canvas_get_size" uncache="true">\n      '.concat(t,'\n      <field name="SIZE_TYPE">height</field>\n    </block>'),'<block type="canvas_to_data_url" uncache="true">\n      '.concat(t,"\n    </block>"),o.d,'<block type="canvas_check_if_pressed" uncache="true">\n      '.concat(t,"\n    </block>"),r.sb({property:"__visible",widgetType:l.f,widgetId:e})]},blockDeclareGroup:{setBlockGroupSnippet:function(e){function t(t,n){var o=t.blocks[n];return{block:o,widgetId:e.getFieldValue(o,"WIDGET_ID")||""}}e.insertBlockSnippetGenerator("canvas_on_canvas_press",function(n,o){var i=t(n,o),r=i.block,l=i.widgetId,c=e.getFieldValue(r,"PRESS_EVENT")||"",s=e.statementToCode(n,o,"DO");if(!s)return"";var u=e.valueToCode(n,o,"POSITION_X",e.ORDER_FUNCTION_CALL),d=e.valueToCode(n,o,"POSITION_Y",e.ORDER_FUNCTION_CALL);return"press"===c?a.n("argsOnCanvasPress",[a.o(l)],s,[u,d]):"pressIn"===c?a.n("argsOnCanvasPressIn",[a.o(l)],s,[u,d]):"pressHold"===c?a.n("argsOnCanvasPressHold",[a.o(l)],s,[u,d]):a.n("argsOnCanvasPressOut",[a.o(l)],s,[u,d])}),e.insertBlockSnippetGenerator("canvas_on_canvas_press_positionX",function(){return"canvasPressPositionX"}),e.insertBlockSnippetGenerator("canvas_on_canvas_press_positionY",function(){return"canvasPressPositionY"}),e.insertBlockSnippetGenerator("canvas_on_canvas_swipe",function(n,o){var i=t(n,o).widgetId,r=e.statementToCode(n,o,"DO");return r?a.n("onCanvasSwipe",[a.o(i)],r):""}),e.insertBlockSnippetGenerator("canvas_clear_all_brush",function(e,n){var o=t(e,n).widgetId;return a.n("clearCanvasBrush",[a.o(o)])}),e.insertBlockSnippetGenerator("canvas_to_data_url",function(e,n){var o=t(e,n).widgetId;return a.r("canvasToDataUrl",[a.o(o)])}),e.insertBlockSnippetGenerator("canvas_set_background_image",function(n,o){var i=t(n,o),r=i.block,l=i.widgetId,c=e.valueToCode(n,o,"IMAGE_FILE_ID",e.ORDER_FUNCTION_CALL);return c?a.l(a.n("setCanvasBackgroundImageId",[a.o(l),c]),r,e):""}),e.insertBlockSnippetGenerator("canvas_set_visible",function(n,o){var i=t(n,o),r=i.block,l=i.widgetId,c="show"===e.getFieldValue(r,"DISPLAY");return a.n("setWidgetVisible",[a.o(l),c])}),e.insertBlockSnippetGenerator("canvas_set_size",function(n,o){var i=t(n,o),r=i.block,l=i.widgetId,c=e.valueToCode(n,o,"NUM",e.ORDER_FUNCTION_CALL),s="width"===e.getFieldValue(r,"SIZE_TYPE")?"setWidgetWidth":"setWidgetHeight";return a.l(a.n(s,[a.o(l),c]),r,e,!0)}),e.insertBlockSnippetGenerator("canvas_set_position",function(n,o){var i=t(n,o),r=i.block,l=i.widgetId,c=e.valueToCode(n,o,"NUM",e.ORDER_FUNCTION_CALL),s="positionX"===e.getFieldValue(r,"POSITION_TYPE")?"setWidgetPositionX":"setWidgetPositionY";return a.l(a.n(s,[a.o(l),c]),r,e,!0)}),e.insertBlockSnippetGenerator("canvas_set_background_color",function(n,o){var i=t(n,o),r=i.block,l=i.widgetId,c=e.valueToCode(n,o,"COLOR",e.ORDER_FUNCTION_CALL);return a.l(a.n("setWidgetAttribute",[a.o(l),a.o("backgroundColor"),c]),r,e)}),e.insertBlockSnippetGenerator("canvas_get_size",function(n,o){var i=t(n,o),r=i.block,l=i.widgetId,c="width"===e.getFieldValue(r,"SIZE_TYPE")?"getWidgetWidth":"getWidgetHeight";return a.s(c,[a.o(l)])}),e.insertBlockSnippetGenerator("canvas_get_position",function(n,o){var i=t(n,o),r=i.block,l=i.widgetId,c="positionX"===e.getFieldValue(r,"POSITION_TYPE")?"getWidgetPositionX":"getWidgetPositionY";return a.s(c,[a.o(l)])}),e.insertBlockSnippetGenerator("canvas_get_background_color",function(e,n){var o=t(e,n).widgetId;return a.s("getWidgetAttribute",[a.o(o),a.o("backgroundColor")])}),e.insertBlockSnippetGenerator("canvas_get_background_image",function(e,n){var o=t(e,n).widgetId;return a.s("getCanvasBackgroundImageName",[a.o(o)])}),e.insertBlockSnippetGenerator("canvas_check_if_pressed",function(e,n){var o=t(e,n).widgetId;return a.s("checkIfCanvasPressed",[a.o(o)])})},setBlockGroupProfile:function(e,t){var n="%{BKY_BLOCK_TAB_ICON}",o={type:"field_coco_dropdown",name:"WIDGET_ID",custom:!0,options:function(){return i.c().getWidgetListByType("CANVAS_WIDGET")}};e.insertBlockProfile("canvas_on_canvas_press",{type:"canvas_on_canvas_press",message0:"%{BKY_CANVAS_ON_CANVAS_PRESS_MSG0}",args0:[a.e(n,!0),c.a({},o),{type:"field_coco_dropdown",name:"PRESS_EVENT",custom:!0,options:function(){return[[t.Msg.PRESS,"press"],[t.Msg.PRESS_IN,"pressIn"],[t.Msg.PRESS_HOLD,"pressHold"],[t.Msg.PRESS_OUT,"pressOut"]]}},{type:"input_value",name:"POSITION_X",check:["Number"],default_shadow:'<shadow type="canvas_on_canvas_press_positionX" />',align:"CENTRE"},{type:"input_value",name:"POSITION_Y",align:"CENTRE",check:["Number"],default_shadow:'<shadow type="canvas_on_canvas_press_positionY" />'}],message1:"%{BKY_CANVAS_ON_CANVAS_PRESS_MSG1}",args1:[{type:"input_statement",name:"DO",provided_context:"canvas_on_canvas_press_DO"}],colour:"%{BKY_EVENTS_HUE}",inputsInline:!0}),e.insertBlockProfile("canvas_on_canvas_press_positionX",{type:"canvas_on_canvas_press_positionX",message0:"%{BKY_PARAM_POSITION_X}",output:"Number",required_context:"canvas_on_canvas_press_DO",colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("canvas_on_canvas_press_positionY",{type:"canvas_on_canvas_press_positionY",message0:"%{BKY_PARAM_POSITION_Y}",output:"Number",required_context:"canvas_on_canvas_press_DO",colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("canvas_on_canvas_swipe",{type:"canvas_on_canvas_swipe",message0:"%{BKY_CANVAS_ON_CANVAS_SWIPE}",args0:[a.e(n,!0),c.a({},o)],message1:"%1",args1:[{type:"input_statement",name:"DO"}],colour:"%{BKY_EVENTS_HUE}",inputsInline:!0}),e.insertBlockProfile("canvas_clear_all_brush",{type:"canvas_clear_all_brush",message0:"%{BKY_CANVAS_CLEAR_ALL_BRUSH}",args0:[c.a({},o)],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}"}),e.insertBlockProfile("canvas_to_data_url",{type:"canvas_to_data_url",message0:"%{BKY_CANVAS_TO_DATA_URL}",args0:[c.a({},o)],colour:"%{BKY_APPEARANCE_HUE}",output:["String"]}),e.insertBlockProfile("canvas_set_visible",{type:"canvas_set_visible",message0:"%{BKY_CANVAS_SET_VISIBLE}",args0:[c.a({},o),{type:"field_coco_dropdown",name:"DISPLAY",custom:!0,options:[[t.Msg.SHOW,"show"],[t.Msg.HIDE,"hide"]]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}"}),e.insertBlockProfile("canvas_set_position",{type:"canvas_set_position",message0:"%{BKY_CANVAS_SET_PROPERTY}",args0:[c.a({},o),{type:"field_coco_dropdown",name:"POSITION_TYPE",custom:!0,options:[[t.Msg.POSITION_X,"positionX"],[t.Msg.POSITION_Y,"positionY"]]},{type:"input_value",name:"NUM",check:["Number"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("canvas_set_size",{type:"canvas_set_size",message0:"%{BKY_CANVAS_SET_PROPERTY}",args0:[c.a({},o),{type:"field_coco_dropdown",name:"SIZE_TYPE",custom:!0,options:[[t.Msg.HEIGHT,"height"],[t.Msg.WIDTH,"width"]],optOnchange:function(e){var t,n,o,i,a=e||"";t="width"===a?u.g:u.f,n="width"===a?u.i:u.h,(i=null==(o=this.source_block)?void 0:o.get_shadow_field("NUM"))&&"FieldNumber"===i.field_type&&(i.set_value("100"),i.set_constraints(n,t,1))}},{type:"input_value",name:"NUM",check:["Number"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("canvas_set_background_color",{type:"canvas_set_background_color",message0:"%{BKY_CANVAS_SET_BACKGROUND_COLOR}",args0:[c.a({},o),{type:"input_value",check:["Color","String"],name:"COLOR"}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("canvas_set_background_image",{type:"canvas_set_background_image",message0:"%{BKY_CANVAS_SET_BACKGROUND_IMAGE}",args0:[c.a({},o),{type:"input_value",name:"IMAGE_FILE_ID",check:["String"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("canvas_get_size",{type:"canvas_get_size",message0:"%{BKY_CANVAS_GET_PROPERTY}",args0:[c.a({},o),{type:"field_coco_dropdown",name:"SIZE_TYPE",custom:!0,options:[[t.Msg.HEIGHT,"height"],[t.Msg.WIDTH,"width"]]}],output:["String","Number"],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("canvas_get_position",{type:"canvas_get_position",message0:"%{BKY_CANVAS_GET_PROPERTY}",args0:[c.a({},o),{type:"field_coco_dropdown",name:"POSITION_TYPE",custom:!0,options:[[t.Msg.POSITION_X,"positionX"],[t.Msg.POSITION_Y,"positionY"]]}],output:["String","Number"],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("canvas_get_background_color",{type:"canvas_get_background_color",message0:"%{BKY_CANVAS_GET_BACKGROUND_COLOR}",args0:[c.a({},o)],output:["String","Color"],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("canvas_get_background_image",{type:"canvas_get_background_image",message0:"%{BKY_CANVAS_GET_BACKGROUND_IMAGE}",args0:[c.a({},o)],output:["String"],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("canvas_check_if_pressed",{type:"canvas_check_if_pressed",message0:"%{BKY_CANVAS_CHECK_IF_PRESSED}",args0:[c.a({},o)],output:"Boolean",colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0})}},renameBlocksInfo:{blocksList:["canvas_on_canvas_press","canvas_set_position","canvas_set_size","canvas_set_background_color","canvas_set_background_image","canvas_clear_all_brush","canvas_set_visible","canvas_get_position","canvas_get_background_color","canvas_get_background_image","canvas_check_if_pressed"],fieldName:"WIDGET_ID"},topBlocks:["canvas_on_canvas_press"]},p=[{type:"WidgetTitle",hasDisableOrVisible:!0},{type:"VisibleSwitch"},{type:"ChangeImage",stillImageShowResizeMode:!1,key:"backgroundImage",label:"backgroundImage"},{type:"BackgroundColor"},{type:"WidgetOpacity"},{type:"Size",sizeRange:[[u.i,u.g],[u.h,u.f]]},{type:"Coordinate"}],m=n(451),g=n(19040),E=n(41594),T=n.n(E),v=n(65273),h=n(39008),f=n(94032),b=n(48930),O=n.n(b),C=(0,E.memo)(function(e){var t=e.id,n=e.stage,o=e.updateTimes,i=e.coordinateRatio,a=(0,E.useState)(),l=m.a(a,2),s=l[0],u=l[1],d=(0,g.useSelector)(function(e){return e.project.selectedWidgetId});(0,E.useEffect)(function(){if(d===t&&n&&t){var e=r.Cb(t);u(c.a({},e))}else u(void 0)},[t,d,n,o]);var p=(null==s?void 0:s.parentId)?r.Cb(s.parentId):void 0,v=(null==n?void 0:n.actors.get_actor(t))||{},h=v.value,f=v.is_error;if(!s||!p||!f||!h||f(h))return null;var b=Math.max(h.get_width(),54)/i,C=Math.max(h.get_height(),54)/i,I=h.get_position(),S=h.get_center_position(),y=p.position.x+p.size.width/2,N=p.position.y+p.size.height/2,A=y+I.x/i,k=N-I.y/i,R=A-p.position.x,B=k-p.position.y,D=(S.x-I.x)/i,w=(I.y-S.y)/i,L=Math.round(-180*h.get_rotation()/Math.PI);return T().createElement("div",{className:O().actorSelectedBox,style:{display:s.visible?void 0:"none",position:"absolute",width:b,height:C,left:R,top:B,transformOrigin:"".concat(D,"px ").concat(w,"px"),transform:"rotate(".concat(L,"deg)"),zIndex:-1}},T().createElement("div",{style:{position:"absolute",width:b,height:C,left:D,top:w,boxSizing:"content-box",pointerEvents:"none",borderWidth:3/i,borderColor:"white",borderStyle:"solid",transform:"translate(-50%, -50%)",filter:"drop-shadow(#7d7d7d 0px 0px 0.8px)"}}))}),I=n(95644),S=n(81837),y=n.n(S),N=(0,E.memo)(function(e){var t=e.actorId,n=e.top,o=e.left,i=e.stage,a=e.onClose,r=(0,E.useRef)(null),l=I.a().formatMessage;return(0,E.useEffect)(function(){var e=r.current,t=function(t){t.target instanceof Element&&(null==e?void 0:e.contains(t.target))||a()};return document.addEventListener("mousedown",t),function(){return document.removeEventListener("mousedown",t)}},[a]),T().createElement("div",{ref:r,className:y().wrapper,style:{top:n,left:o,position:"absolute",height:"auto"}},T().createElement("div",{className:y().menuItem,onClick:function(){var e,t,n=null==i?void 0:i.components.get_editor();n&&(n.toggle_pivot_mode(!0),null!=(e=r.current)&&null!=(t=e.closest('[data-widget-type="CANVAS_WIDGET"]'))&&t.classList.add("actor-changing"),null!=i&&i.render()),a()}},l({id:"actor.setPivot"})),T().createElement("div",{className:y().menuItem,onClick:function(){var e=(null==i?void 0:i.actors.get_actor(t))||{},n=e.is_error,o=e.value;n&&o&&!n(o)&&(o.reset_pivot(),null!=i&&i.render(),a())}},l({id:"actor.resetPivot"})))}),A=n(8517),k=n(81555),R=n(51877),B=n(13244),D=n(46942),w=n.n(D),L=n(34221),P=n(7452),U=n.n(P);n(67771);var M=(0,E.memo)(function(e){var t=e.id,n=e.stage,o=e.updateTimes,i=e.coordinateRatio,a=(0,E.useState)(),l=m.a(a,2),s=l[0],u=l[1],d=(0,g.useSelector)(function(e){return e.project.selectedWidgetId});(0,E.useEffect)(function(){if(d===t&&n&&t){var e=r.Cb(t);u(c.a({},e))}else u(void 0)},[t,d,n,o]);var p=(null==s?void 0:s.parentId)?r.Cb(s.parentId):void 0,v=(null==n?void 0:n.actors.get_actor(t))||{},h=v.value,f=v.is_error;if(!s||!p||!f||!h||f(h))return null;var b=h.get_width()/i,C=h.get_height()/i,I=h.get_position(),S=h.get_center_position(),y=p.position.x+p.size.width/2,N=p.position.y+p.size.height/2,A=y+I.x/i,k=N-I.y/i,R=A-p.position.x,B=k-p.position.y,D=(S.x-I.x)/i,w=(I.y-S.y)/i,L=Math.round(-180*h.get_rotation()/Math.PI);return T().createElement("div",{className:O().actorStar,style:{pointerEvents:"none",display:s.visible?void 0:"none",position:"absolute",width:b,height:C,left:R,top:B,transformOrigin:"".concat(D,"px ").concat(w,"px"),transform:"rotate(".concat(L,"deg)"),zIndex:9}},T().createElement("div",{style:{position:"absolute",width:0,height:0,left:D,top:w,boxSizing:"content-box",transform:"translate(-50%, -50%)",filter:"drop-shadow(#ababab 0px 0px 0.8px)"}}))}),Y=0,x=(0,E.memo)(function(e){var t,n,o=(0,E.useRef)(null),i=(0,E.useRef)(null),a=(0,E.useRef)(null),s=(0,E.useState)(!1),d=m.a(s,2),p=d[0],b=d[1],I=(0,E.useState)(!1),S=m.a(I,2),y=S[0],D=S[1],P=(0,E.useState)(""),x=m.a(P,2),G=x[0],K=x[1],W=(0,E.useState)({x:0,y:0}),F=m.a(W,2),V=F[0],H=F[1],X=(0,g.useSelector)(function(e){return e.common.stageState.isActorDragging}),z=(0,E.useMemo)(function(){return new Set},[]),j=(0,E.useCallback)(function(){return K("")},[]),q=(0,E.useRef)(!0),Z=(0,E.useRef)(!1),Q=e.id,J=e.position,$=e.visible,ee=e.size,et=e.widgetIds,en=e.opacity,eo=e.attributes,ei=eo.backgroundColor,ea=eo.backgroundImage,er=eo.resizeMode,e_=eo.coordinateRatio,el=void 0===e_?2:e_,ec=ee.width,es=ee.height,eu=(0,g.useDispatch)(),ed=(0,g.useSelector)(function(e){return e.project.selectedWidgetId}),ep=(0,g.useSelector)(function(e){return e.common.stageScale}),em=(0,E.useCallback)(function(e){var t=e.events,n=function(t){var n,o=e.actors.get_actor(t),i=o.value;if(!(0,o.is_error)(i)){eu(R.ug(t)),j(),null!=(n=e.components.get_editor())&&n.set_target_actor(t);var a=i.get_center_position(),r=e.get_view(),l=r.getClientRects()[0];if(l){var c=l.x+l.width/2+a.x*l.width/r.clientWidth,s=l.y+l.height/2-a.y*l.height/r.clientHeight;setTimeout(function(){eu(R.Og({position:{x:c,y:s},visible:!0,widgetId:t}))},20)}}};t.add_listener("actor:update",function(e){var t=e.target_id;e.data.position&&t&&z.add(t)}),t.add_listener("actor:mousedown",function(e){q.current=!1,j()}),t.add_listener("actor:selected",function(e){var t=e.target_id;eu(R.ug(t)),eu(R.ki("screen")),j()}),t.add_listener("actor:drag_start",function(e){q.current=!1,j()}),t.add_listener("actor:drag_end",function(e){var t=e.target_id,n=e.data.position,o=n.x,i=n.y;eu(R.Lg(t,"position",{x:Math.round(o),y:Math.round(i)}))}),t.add_listener("actor:rightclick",function(e){Z.current=!0,n(e.target_id)}),t.add_listener("editor:rightclick",function(e){Z.current=!0;var t=e.target_id;t&&n(t)}),t.add_listener("stage:rightclick",function(e){var t=e.target_id,n=e.data;if(t===Q){if(Z.current)Z.current=!1;else if(eu(R.ug(Q)),i.current){var o=i.current.getBoundingClientRect(),a=(n.position.x+o.width)/2+o.left,r=(o.height-n.position.y)/2+o.top;setTimeout(function(){eu(R.Og({position:{x:a,y:r},visible:!0,widgetId:Q}))},20)}}})},[z,j,eu,Q]),eg=(0,E.useCallback)(function(){o.current&&(o.current.addEventListener("mousedown",function(e){if(q.current)if(e.target===i.current){var t,n,r=null==(t=a.current)?void 0:t.components.get_editor();(null==r?void 0:r.is_dragging_rotate_center)?e.stopPropagation():(null==r?void 0:r.get_is_in_pivot_mode())&&(r.toggle_pivot_mode(!1),null!=(n=o.current)&&n.classList.remove("actor-changing"))}else e.stopPropagation();else e.stopPropagation()}),o.current.addEventListener("mousemove",function(e){q.current||e.stopPropagation(),e.target!==i.current&&e.stopPropagation()}),o.current.addEventListener("mouseup",function(e){q.current||e.stopPropagation(),q.current=!0,e.target!==i.current&&e.stopPropagation()}),i.current&&(i.current.addEventListener("contextmenu",function(e){e.stopPropagation(),e.preventDefault()},!1),i.current.addEventListener("mousedown",function(e){2===e.button&&(e.stopPropagation(),e.preventDefault())},!1)))},[]);(0,E.useEffect)(function(){if(null==i?void 0:i.current){var e,t=v.a();return t.init({renderer:{width:ec*el,height:es*el,view:i.current,preserveDrawingBuffer:!0,resolution:2/el,forceCanvas:!0},id:Q}),t.components.init({editor:{url:"https://static.bcmcdn.com/appcraft/stage/assets/editor-1577087990235.json",cursor_move_url:"https://static.bcmcdn.com/appcraft/stage/assets/cursor_move.svg",texture_name:{scale_btn:"scale_btn_.png",rotation_btn:"rotation_btn.png",menu_btn:"menu_btn.png",cursor_scale:"cursor_scale.svg",cursor_rotate:"cursor_rotate.svg"}}}),t.scenes.load_scene(Q,""),t.scenes.set_current_scene(Q),a.current=t,f.c(Q,t),em(t),(e=t.events).add_listener("editor_scale_btn:drag_start",function(){q.current=!1,j()}),e.add_listener("editor_scale_btn:drag_end",function(e){var n=e.target_id,o=t.actors.get_actor(n),i=o.is_error,a=o.value;if(!i(a)){var l=r.Cb(n);if(l){var s=l.attributes.scaleAndLock,u=a.get_scale();eu(R.Lg(n,"scaleAndLock",c.a(c.a({},s),u)))}}}),e.add_listener("editor_rotate_btn:drag_start",function(){q.current=!1,j()}),e.add_listener("editor_rotate_btn:drag_end",function(e){var n=e.target_id,o=t.actors.get_actor(n),i=o.is_error,a=o.value;if(!i(a)){var r=a.get_rotation();eu(R.Lg(n,"rotation",r))}}),e.add_listener("editor_menu_btn:selected",function(e){q.current=!1;var n,o=e.target_id,a=i.current,r=t.actors.get_actor(o);if(!(0,r.is_error)(r.value)&&(null==e||null==(n=e.data)?void 0:n.position)&&a){var l=e.data.position,c=l.x,s=l.y,u=a.clientWidth/2+c/el,d=a.clientHeight/2-s/el;K(o),H({x:u+10,y:d+10})}}),eg(),t.render(),b(!0),function(){f.a(Q)}}},[]),(0,E.useEffect)(function(){var e=a.current;e&&h.q(e,ec*el,es*el)},[el,ec,es]),(0,E.useEffect)(function(){var e=a.current;e&&h.n(e,ei)},[ei]);var eE="";if(ea){var eT=r.hb(ea);eT?eE=eT.source||eT.cdnUrl:(ea.includes("://")||ea.includes("data:image/"))&&(eE=ea)}(0,E.useEffect)(function(){var e=a.current;e&&h.o(e,eE,er)},[eE,er]),(0,E.useEffect)(function(){var e=a.current;e&&h.p(e,er)},[er]),(0,E.useEffect)(function(){if(!ed||!et.includes(ed)){var e=null==a?void 0:a.current,t=null==e?void 0:e.components.get_editor();null!=t&&t.hide()}},[ed,et]);var ev=(0,E.useCallback)((t=L.a(U().mark(function e(t){var n,i,r,c,s,u,d;return U().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(D(!1),(n=t.dataTransfer.getData("widget/type"))===l.a||n===l.c){e.next=5;break}return e.abrupt("return");case 5:if(t.stopPropagation(),r=null==(i=o.current)?void 0:i.getClientRects()[0]){e.next=10;break}return e.abrupt("return");case 10:if(c=Math.ceil((t.clientX-r.x)/ep),s=Math.ceil((t.clientY-r.y)/ep),a.current){e.next=15;break}return e.abrupt("return");case 15:n===l.a?(u={x:(c-ee.width/2)*el,y:(ee.height/2-s)*el},eu(R.fg(Q,u))):n===l.c&&(d={x:(c-ee.width/2)*el,y:(ee.height/2-s)*el},eu(R.gg(Q,d)));case 16:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),[el,eu,ee.height,ee.width,ep,Q]);return(0,E.useEffect)(function(){var e=function(){var e=Array.from(z.values());z.clear();var t=a.current;e.forEach(function(e){var n=(null==t?void 0:t.actors.get_actor(e))||{},o=n.is_error,i=n.value;if(o&&i&&!o(i)){var a=i.get_position(),r=i.get_center_position(),l={x:Math.round(a.x),y:Math.round(a.y)},c={x:Math.round(r.x-a.x),y:Math.round(r.y-a.y)};eu(R.Lg(e,"position",l)),eu(R.Lg(e,"pivotToCenter",c))}})};return document.addEventListener("mouseup",e,{capture:!0}),function(){return document.removeEventListener("mouseup",e,{capture:!0})}},[z,eu]),T().createElement("div",{id:Q,className:w()(k.b,(n={},B.a(n,O().highlight,y),B.a(n,O().outline,Q!==ed),n)),"data-role":l.M,"data-widget-type":l.f,"data-min-width":u.i,"data-min-height":u.h,"data-max-width":u.g,"data-max-height":u.f,ref:o,onDrop:ev,onDragEnter:function(e){X&&D(!0)},onDragLeave:function(){D(!1)},style:{top:J.y,left:J.x,height:ee.height,width:ee.width,visibility:$?void 0:"hidden",pointerEvents:$?void 0:"none",opacity:(void 0===en?100:en)/100}},p&&et.map(function(e){return T().createElement(C,{key:e,id:e,stage:a.current,updateTimes:Y++,coordinateRatio:el})}),p&&et.map(function(e){return T().createElement(M,{key:e,id:e,stage:a.current,updateTimes:Y++,coordinateRatio:el})}),T().createElement("canvas",{ref:i,style:{width:"100%",height:"100%"}}),p&&et.map(function(e,t){return a.current&&f.c(e,a.current),A.c(e,t)}),G&&T().createElement(N,{actorId:G,left:V.x,top:V.y,stage:a.current,onClose:j}))}),G={icon:"icon-widget-canvas",title:"defaultCanvasWidgetTitle",previewAreaWidgetTitle:"canvas",type:l.f,editConfig:p,isInvisibleWidget:u.e,widget:{isGlobalWidget:u.d,size:{width:u.c,height:u.b},widgetIds:[],attributes:{coordinateRatio:1,backgroundColor:u.a,resizeMode:s.a.COVER,backgroundImage:""}},component:x,blockConfig:d},K=[{type:"WidgetTitle"},{type:"Color"},{type:"NumberSlider",key:"penSize",label:"brushPenSize",min:1,max:50},{type:"DegreeInputRow",key:"rotation",label:"rotation"},{type:"Coordinate",label:"relativeCoordinate"}]},14471(e,t,n){n.d(t,{xh:()=>k,Dh:()=>R});var o=n(56997),i=n(26450),a=n(74375),r=n(60096),l=n(24876),c=n(12327),s=n(38752),u=n(94220),d=n(28950),p=n(5912),m='<shadow type="math_number"><field name="NUM" constraints=",,1">0</field></shadow>',g={itemCount_:1,addMutation:function(e){if(s.Z.events.is_undoing())"number"==typeof e&&(this.itemCount_=e,this.updateShape_());else{var t=this.itemCount_;this.itemCount_++,this.updateShape_();var n=l.c("mutation",{block:this,old_value:t,new_value:this.itemCount_});s.Z.events.fire(n)}},removeMutation:function(e){if(s.Z.events.is_undoing())"number"==typeof e&&(this.itemCount_=e,this.updateShape_());else{var t=this.itemCount_;this.itemCount_--,this.updateShape_();var n=l.c("mutation",{block:this,old_value:t,new_value:this.itemCount_});s.Z.events.fire(n)}},updateShape_:function(){if(s.Z.events.disable(),1===this.itemCount_)this.get_input("X")&&this.remove_input("X"),this.get_input("Y")&&this.remove_input("Y"),this.get_input("MUTATE_REMOVE_BUTTON")&&this.remove_input("MUTATE_REMOVE_BUTTON"),this.append_dummy_input("MUTATE_ADD_BUTTON").append_field(l.p(),"MUTATE_ADD_BUTTON");else{if(!this.get_input("X")){var e=this.append_shadow_input("X",m);e.set_check(["Number"]),e.append_field(", 圆心 x")}if(!this.get_input("Y")){var t=this.append_shadow_input("Y",m);t.set_check(["Number"]),t.append_field("y")}this.get_input("MUTATE_ADD_BUTTON")&&this.remove_input("MUTATE_ADD_BUTTON"),this.append_dummy_input("MUTATE_REMOVE_BUTTON").append_field(l.q(void 0),"MUTATE_REMOVE_BUTTON")}s.Z.events.enable()},mutationToDom:function(){var e=document.createElement("mutation");return e.setAttribute("items",String(this.itemCount_)),e},domToMutation:function(e){this.itemCount_=parseInt(e.getAttribute("items"),10),this.cacheId={},this.updateShape_()}},E={itemCount_:1,addMutation:function(e){if(s.Z.events.is_undoing())"number"==typeof e&&(this.itemCount_=e,this.updateShape_());else{var t=this.itemCount_;this.itemCount_++,this.updateShape_();var n=l.c("mutation",{block:this,old_value:t,new_value:this.itemCount_});s.Z.events.fire(n)}},removeMutation:function(e){if(s.Z.events.is_undoing())"number"==typeof e&&(this.itemCount_=e,this.updateShape_());else{var t=this.itemCount_;this.itemCount_--,this.updateShape_();var n=l.c("mutation",{block:this,old_value:t,new_value:this.itemCount_});s.Z.events.fire(n)}},updateShape_:function(){if(s.Z.events.disable(),1===this.itemCount_)this.get_input("X")&&this.remove_input("X"),this.get_input("Y")&&this.remove_input("Y"),this.get_input("START_ANGLE")&&this.remove_input("START_ANGLE"),this.get_input("START_ANGLE_TEXT")&&this.remove_input("START_ANGLE_TEXT"),this.get_input("MUTATE_REMOVE_BUTTON")&&this.remove_input("MUTATE_REMOVE_BUTTON"),this.append_dummy_input("MUTATE_ADD_BUTTON").append_field(l.p(),"MUTATE_ADD_BUTTON");else{if(!this.get_input("X")){var e=this.append_shadow_input("X",m);e.set_check(["Number"]),e.append_field(", 圆心 x")}if(!this.get_input("Y")){var t=this.append_shadow_input("Y",m);t.set_check(["Number"]),t.append_field("y")}if(!this.get_input("START_ANGLE")){var n=this.append_shadow_input("START_ANGLE",'<shadow type="math_number"><field name="NUM" controller="ANGLE_SCALE,," constraints="-180,180,,true">-90</field></shadow>');n.set_check(["Number"]),n.append_field(", 起始位置"),this.append_dummy_input("START_ANGLE_TEXT").append_field("度")}this.get_input("MUTATE_ADD_BUTTON")&&this.remove_input("MUTATE_ADD_BUTTON"),this.append_dummy_input("MUTATE_REMOVE_BUTTON").append_field(l.q(void 0),"MUTATE_REMOVE_BUTTON")}s.Z.events.enable()},mutationToDom:function(){var e=document.createElement("mutation");return e.setAttribute("items",String(this.itemCount_)),e},domToMutation:function(e){this.itemCount_=parseInt(e.getAttribute("items"),10),this.cacheId={},this.updateShape_()}},T={itemCount_:1,addMutation:function(e){if(s.Z.events.is_undoing())"number"==typeof e&&(this.itemCount_=e,this.updateShape_());else{var t=this.itemCount_;this.itemCount_++,this.updateShape_();var n=l.c("mutation",{block:this,old_value:t,new_value:this.itemCount_});s.Z.events.fire(n)}},removeMutation:function(e){if(s.Z.events.is_undoing())"number"==typeof e&&(this.itemCount_=e,this.updateShape_());else{var t=this.itemCount_;this.itemCount_--,this.updateShape_();var n=l.c("mutation",{block:this,old_value:t,new_value:this.itemCount_});s.Z.events.fire(n)}},updateShape_:function(){if(s.Z.events.disable(),1===this.itemCount_)this.get_input("X")&&this.remove_input("X"),this.get_input("Y")&&this.remove_input("Y"),this.get_input("MUTATE_REMOVE_BUTTON")&&this.remove_input("MUTATE_REMOVE_BUTTON"),this.append_dummy_input("MUTATE_ADD_BUTTON").append_field(l.p(),"MUTATE_ADD_BUTTON");else{if(!this.get_input("X")){var e=this.append_shadow_input("X",m);e.set_check(["Number"]),e.append_field(", 起点 x")}if(!this.get_input("Y")){var t=this.append_shadow_input("Y",m);t.set_check(["Number"]),t.append_field("y")}this.get_input("MUTATE_ADD_BUTTON")&&this.remove_input("MUTATE_ADD_BUTTON"),this.append_dummy_input("MUTATE_REMOVE_BUTTON").append_field(l.q(void 0),"MUTATE_REMOVE_BUTTON")}s.Z.events.enable()},mutationToDom:function(){var e=document.createElement("mutation");return e.setAttribute("items",String(this.itemCount_)),e},domToMutation:function(e){this.itemCount_=parseInt(e.getAttribute("items"),10),this.cacheId={},this.updateShape_()}},v={type:u.c,category:{iconId:"icon-widget-brush",blocks:u.c},categoryClass:{text:"",iconId:"icon-widget-brush",blocks:[]},getTemplate:function(e){var t='<field name="WIDGET_ID">'.concat(e,"</field>");return[c.cb({widgetType:u.c,title:"图形",lineId:"graph"}),'<block type="brush_draw_point" uncache="true">\n      '.concat(t,'\n      <value name="X">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\',,1\'>0</field>\n        </shadow>\n      </value>\n      <value name="Y">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\',,1\'>0</field>\n        </shadow>\n      </value>\n    </block>'),'<block type="brush_draw_line" uncache="true">\n      '.concat(t,'\n      <value name="X1">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\',,1\'>0</field>\n        </shadow>\n      </value>\n      <value name="Y1">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\',,1\'>0</field>\n        </shadow>\n      </value>\n      <value name="X2">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\',,1\'>60</field>\n        </shadow>\n      </value>\n      <value name="Y2">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\',,1\'>60</field>\n        </shadow>\n      </value>\n    </block>'),'<block type="brush_draw_circle" uncache="true">\n      '.concat(t,'\n      <value name="RADIUS">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\'0,,1\'>40</field>\n        </shadow>\n      </value>\n      <mutation items="1"></mutation>\n    </block>'),'<block type="brush_draw_arc" uncache="true">\n      '.concat(t,'\n      <value name="RADIUS">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\'0,,1\'>40</field>\n        </shadow>\n      </value>\n      <value name="ANGLE">\n        <shadow type="math_number">\n          <field name="NUM">180</field>\n        </shadow>\n      </value>\n      <mutation items="1"></mutation>\n    </block>'),'<block type="brush_draw_polygon" uncache="true">\n      '.concat(t,'\n      <value name="STEP">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\'0,,1\'>4</field>\n        </shadow>\n      </value>\n      <value name="SIDE">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\'0,,1\'>40</field>\n        </shadow>\n      </value>\n      <mutation items="1"></mutation>\n    </block>'),c.cb({widgetType:u.c,title:"移动",lineId:"move"}),'<block type="brush_set_pen_up_or_down" uncache="true">\n      '.concat(t,"\n    </block>"),'<block type="brush_move_forward_or_backward" uncache="true">\n      '.concat(t,'\n      <value name="NUM">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\',,1\'>10</field>\n        </shadow>\n      </value>\n    </block>'),'<block type="brush_move_to" uncache="true">\n      '.concat(t,"\n    </block>"),'<block type="brush_move_to_position" uncache="true">\n      '.concat(t,'\n      <value name="X">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\',,1\'>100</field>\n        </shadow>\n      </value>\n      <value name="Y">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\',,1\'>100</field>\n        </shadow>\n      </value>\n    </block>'),'<block type="brush_move_to_position_in_time" uncache="true">\n      '.concat(t,'\n      <value name="X">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\',,1\'>100</field>\n        </shadow>\n      </value>\n      <value name="Y">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\',,1\'>100</field>\n        </shadow>\n      </value>\n      <value name="SECONDS">\n        <shadow type="math_number">\n          <field name="NUM" constraints="0">1</field>\n        </shadow>\n      </value>\n    </block>'),a.d,'<block type="brush_set_position" uncache="true">\n      '.concat(t,'\n      <field name="POSITION_TYPE">positionX</field>\n      <value name="NUM">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\',,1\'>100</field>\n        </shadow>\n      </value>\n    </block>'),'<block type="brush_change_position" uncache="true">\n      '.concat(t,'\n      <value name="NUM">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\',,1\'>100</field>\n        </shadow>\n      </value>\n    </block>'),'<block type="brush_change_position_type_in_time" uncache="true">\n      '.concat(t,'\n      <value name="NUM">\n        <shadow type="math_number">\n          <field name="NUM">100</field>\n        </shadow>\n      </value>\n      <value name="SECONDS">\n        <shadow type="math_number">\n          <field name="NUM" constraints="0">1</field>\n        </shadow>\n      </value>\n    </block>'),'<block type="brush_change_z_index" uncache="true">\n      '.concat(t,"\n    </block>"),c.cb({widgetType:u.c,title:"方向",lineId:"rotate"}),'<block type="brush_set_rotation" uncache="true">\n      '.concat(t,'\n      <value name="NUM">\n        <shadow type="math_number">\n          <field name="NUM" controller="ANGLE_SCALE,," constraints=\'-180,180,,true\'>90</field>\n        </shadow>\n      </value>\n    </block>'),'<block type="brush_face_to" uncache="true">\n      '.concat(t,"\n    </block>"),'<block type="brush_rotate_left_or_right" uncache="true">\n      '.concat(t,'\n      <value name="NUM">\n        <shadow type="math_number">\n          <field name="NUM">90</field>\n        </shadow>\n      </value>\n    </block>'),c.cb({widgetType:u.c,title:"颜色",lineId:"color"}),'<block type="brush_set_color" uncache="true">\n      '.concat(t,'\n      <value name="COLOR">\n        <shadow type="color_picker"><field name="COLOR_PALETTE">').concat(p.a,"</field></shadow>\n      </value>\n    </block>"),'<block type="brush_set_color_value" uncache="true">\n      '.concat(t,'\n      <value name="VALUE">\n        <shadow type="math_number">\n          <field name="NUM" controller="SLIDER,0,360" constraints=\'0,360,1\'>50</field>\n        </shadow>\n      </value>\n    </block>'),'<block type="brush_change_color_value" uncache="true">\n      '.concat(t,'\n      <value name="VALUE">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\',,1\'>10</field>\n        </shadow>\n      </value>\n    </block>'),c.cb({widgetType:u.c,title:"粗细",lineId:"size"}),'<block type="brush_set_pen_size" uncache="true">\n      '.concat(t,'\n      <value name="VALUE">\n        <shadow type="math_number">\n          <field name="NUM" controller="SLIDER,').concat(p.g,",").concat(p.e,'" constraints="').concat(p.g,",").concat(p.e,',1">3</field>\n        </shadow>\n      </value>\n    </block>'),'<block type="brush_change_pen_size" uncache="true">\n      '.concat(t,'\n      <value name="VALUE">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\',,1\'>1</field>\n        </shadow>\n      </value>\n    </block>'),c.cb({widgetType:u.c,title:"填充",lineId:"fill"}),'<block type="brush_set_fill_color" uncache="true">\n      '.concat(t,'\n      <value name="COLOR">\n        <shadow type="color_picker"><field name="COLOR_PALETTE">').concat(p.a,"</field></shadow>\n      </value>\n    </block>"),'<block type="brush_set_fill_path" uncache="true">\n      '.concat(t,"\n    </block>"),a.d,c.cb({widgetType:u.c,title:"返回值",lineId:"getter"}),'<block type="brush_get_color_value" uncache="true">\n      '.concat(t,"\n    </block>"),'<block type="brush_get_pen_size" uncache="true">\n      '.concat(t,"\n    </block>"),'<block type="brush_get_rotation" uncache="true">\n      '.concat(t,"\n    </block>"),'<block type="brush_get_position" uncache="true">\n      '.concat(t,"\n    </block>")]},blockDeclareGroup:{setBlockGroupSnippet:function(e){function t(t,n){var o=t.blocks[n];return{block:o,widgetId:e.getFieldValue(o,"WIDGET_ID")||""}}e.insertBlockSnippetGenerator("brush_set_pen_down",function(e,n){var o=t(e,n).widgetId;return l.n("setBrushPenDown",[l.o(o)])}),e.insertBlockSnippetGenerator("brush_set_pen_up",function(e,n){var o=t(e,n).widgetId;return l.n("setBrushPenUp",[l.o(o)])}),e.insertBlockSnippetGenerator("brush_set_pen_up_or_down",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,c=e.getFieldValue(a,"STATUS");return c?"up"===c?l.n("setBrushPenUp",[l.o(r)]):l.n("setBrushPenDown",[l.o(r)]):""}),e.insertBlockSnippetGenerator("brush_draw_point",function(n,o){var i=t(n,o),a=i.widgetId,r=i.block,c=e.valueToCode(n,o,"X",e.ORDER_FUNCTION_CALL),s=e.valueToCode(n,o,"Y",e.ORDER_FUNCTION_CALL);return l.l(l.n("brushDrawPoint",[l.o(a),c,s]),r,e)}),e.insertBlockSnippetGenerator("brush_draw_line",function(n,o){var i=t(n,o),a=i.widgetId,r=i.block,c=e.valueToCode(n,o,"X1",e.ORDER_FUNCTION_CALL),s=e.valueToCode(n,o,"Y1",e.ORDER_FUNCTION_CALL),u=e.valueToCode(n,o,"X2",e.ORDER_FUNCTION_CALL),d=e.valueToCode(n,o,"Y2",e.ORDER_FUNCTION_CALL);return l.l(l.n("brushDrawLine",[l.o(a),c,s,u,d]),r,e,!0)}),e.insertBlockSnippetGenerator("brush_draw_circle",function(n,o){var i=t(n,o),a=i.widgetId,r=i.block,c=e.valueToCode(n,o,"RADIUS",e.ORDER_FUNCTION_CALL),s=e.valueToCode(n,o,"X",e.ORDER_FUNCTION_CALL),u=e.valueToCode(n,o,"Y",e.ORDER_FUNCTION_CALL);return""===s||""===u?l.l(l.j("brushDrawCircleCurrentPosition",[l.o(a),c]),r,e,!0):l.l(l.j("brushDrawCircle",[l.o(a),c,s,u]),r,e,!0)}),e.insertBlockSnippetGenerator("brush_draw_arc",function(n,o){var i=t(n,o),a=i.widgetId,r=i.block,c=e.valueToCode(n,o,"RADIUS",e.ORDER_FUNCTION_CALL),s=e.valueToCode(n,o,"ANGLE",e.ORDER_FUNCTION_CALL),u=e.valueToCode(n,o,"X",e.ORDER_FUNCTION_CALL),d=e.valueToCode(n,o,"Y",e.ORDER_FUNCTION_CALL),p=e.valueToCode(n,o,"START_ANGLE",e.ORDER_FUNCTION_CALL);return""===u||""===d?l.l(l.j("brushDrawArcCurrentPosition",[l.o(a),c,s]),r,e,!0):l.l(l.j("brushDrawArc",[l.o(a),c,s,u,d,p]),r,e,!0)}),e.insertBlockSnippetGenerator("brush_draw_polygon",function(n,o){var i=t(n,o),a=i.widgetId,r=i.block,c=e.valueToCode(n,o,"STEP",e.ORDER_FUNCTION_CALL),s=e.valueToCode(n,o,"SIDE",e.ORDER_FUNCTION_CALL),u=e.valueToCode(n,o,"X",e.ORDER_FUNCTION_CALL),d=e.valueToCode(n,o,"Y",e.ORDER_FUNCTION_CALL);return""===u||""===d?l.l(l.j("brushDrawPolygonCurrentPosition",[l.o(a),c,s]),r,e,!0):l.l(l.j("brushDrawPolygon",[l.o(a),c,s,u,d]),r,e,!0)}),e.insertBlockSnippetGenerator("brush_set_pen_size",function(n,o){var i=t(n,o),a=i.widgetId,r=i.block,c=e.valueToCode(n,o,"VALUE",e.ORDER_FUNCTION_CALL);return l.l(l.n("setBrushPenSize",[l.o(a),c]),r,e)}),e.insertBlockSnippetGenerator("brush_change_pen_size",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,c=e.getFieldValue(a,"METHOD");if(!c)return"";var s=e.valueToCode(n,o,"VALUE",e.ORDER_FUNCTION_CALL);return l.l(l.n("changeBrushPenSize",[l.o(r),"increase"===c?"1":"-1",s]),a,e)}),e.insertBlockSnippetGenerator("brush_set_color",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,c=e.valueToCode(n,o,"COLOR",e.ORDER_FUNCTION_CALL);return l.l(l.n("setBrushColor",[l.o(r),c]),a,e)}),e.insertBlockSnippetGenerator("brush_set_color_property",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,c=e.getFieldValue(a,"PROPERTY");if(!c)return"";var s=e.valueToCode(n,o,"VALUE",e.ORDER_FUNCTION_CALL);return l.l(l.n("setBrushColorProperty",[l.o(r),l.o(c),s]),a,e)}),e.insertBlockSnippetGenerator("brush_set_color_value",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,c=e.getFieldValue(a,"PROPERTY");if(!c)return"";var s=e.valueToCode(n,o,"VALUE",e.ORDER_FUNCTION_CALL);return l.l(l.n("setBrushColorProperty",[l.o(r),l.o(c),s]),a,e)}),e.insertBlockSnippetGenerator("brush_change_color_property",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,c=e.getFieldValue(a,"PROPERTY");if(!c)return"";var s=e.getFieldValue(a,"METHOD");if(!s)return"";var u=e.valueToCode(n,o,"VALUE",e.ORDER_FUNCTION_CALL);return l.l(l.n("changeBrushColorProperty",[l.o(r),l.o(c),"increase"===s?"1":"-1",u]),a,e)}),e.insertBlockSnippetGenerator("brush_change_color_value",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,c=e.getFieldValue(a,"PROPERTY");if(!c)return"";var s=e.getFieldValue(a,"METHOD");if(!s)return"";var u=e.valueToCode(n,o,"VALUE",e.ORDER_FUNCTION_CALL);return l.l(l.n("changeBrushColorProperty",[l.o(r),l.o(c),"increase"===s?"1":"-1",u]),a,e)}),e.insertBlockSnippetGenerator("brush_move_forward",function(n,o){var i=t(n,o),a=i.widgetId,r=i.block,c=e.valueToCode(n,o,"NUM",e.ORDER_FUNCTION_CALL);return l.l(l.n("actorMoveForward",[l.o(a),c]),r,e)}),e.insertBlockSnippetGenerator("brush_move_forward_or_backward",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,c=e.getFieldValue(a,"DIRECTION");if(!c)return"";var s=e.valueToCode(n,o,"NUM",e.ORDER_FUNCTION_CALL);return"forward"===c?l.l(l.n("actorMoveForward",[l.o(r),s]),a,e):l.l(l.n("actorMoveBackward",[l.o(r),s]),a,e)}),e.insertBlockSnippetGenerator("brush_rotate",function(n,o){var i=t(n,o),a=i.widgetId,r=i.block,c=e.valueToCode(n,o,"NUM",e.ORDER_FUNCTION_CALL);return l.l(l.n("actorRotate",[l.o(a),c]),r,e)}),e.insertBlockSnippetGenerator("brush_rotate_left_or_right",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,c=e.getFieldValue(a,"DIRECTION");if(!c)return"";var s=e.valueToCode(n,o,"NUM",e.ORDER_FUNCTION_CALL);return"left"===c?l.l(l.n("actorRotate",[l.o(r),s]),a,e):l.l(l.n("actorRotateBackward",[l.o(r),s]),a,e)}),e.insertBlockSnippetGenerator("brush_set_rotation",function(n,o){var i=t(n,o),a=i.widgetId,r=i.block,c=e.valueToCode(n,o,"NUM",e.ORDER_FUNCTION_CALL);return l.l(l.n("actorSetRotation",[l.o(a),c]),r,e)}),e.insertBlockSnippetGenerator("brush_face_to",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,c=e.getFieldValue(a,"TARGET");return c?l.j("actorFaceTo",[l.o(r),l.o(c)]):""}),e.insertBlockSnippetGenerator("brush_move_to",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,c=e.getFieldValue(a,"TARGET");return c?l.n("actorMoveTo",[l.o(r),l.o(c)]):""}),e.insertBlockSnippetGenerator("brush_move_to_position",function(n,o){var i=t(n,o),a=i.widgetId,r=i.block,c=e.valueToCode(n,o,"X",e.ORDER_FUNCTION_CALL),s=e.valueToCode(n,o,"Y",e.ORDER_FUNCTION_CALL);return l.l(l.n("actorMoveToPosition",[l.o(a),c,s]),r,e)}),e.insertBlockSnippetGenerator("brush_set_position",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,c=e.valueToCode(n,o,"NUM",e.ORDER_FUNCTION_CALL),s="positionX"===e.getFieldValue(a,"POSITION_TYPE")?"actorSetPositionX":"actorSetPositionY";return l.l(l.n(s,[l.o(r),c]),a,e)}),e.insertBlockSnippetGenerator("brush_change_position",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,c=e.valueToCode(n,o,"NUM",e.ORDER_FUNCTION_CALL),s=e.getFieldValue(a,"METHOD");if(!s)return"";var u="positionX"===e.getFieldValue(a,"POSITION_TYPE")?"changeActorPositionX":"changeActorPositionY";return l.l(l.n(u,[l.o(r),c,"increase"===s?"1":"-1"]),a,e)}),e.insertBlockSnippetGenerator("brush_move_to_position_in_time",function(n,o){var i=t(n,o),a=i.widgetId,r=i.block,c=e.valueToCode(n,o,"X",e.ORDER_FUNCTION_CALL),s=e.valueToCode(n,o,"Y",e.ORDER_FUNCTION_CALL),u=e.valueToCode(n,o,"SECONDS",e.ORDER_FUNCTION_CALL);return l.l(l.j("moveToPositionInTime",[l.o(a),u,c,s]),r,e)}),e.insertBlockSnippetGenerator("brush_change_position_type_in_time",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,c=e.valueToCode(n,o,"SECONDS",e.ORDER_FUNCTION_CALL),s=e.valueToCode(n,o,"NUM",e.ORDER_FUNCTION_CALL),u="positionX"===e.getFieldValue(a,"POSITION_TYPE")?"changeActorPositionXInTime":"changeActorPositionYInTime",d=e.getFieldValue(a,"METHOD");return d?l.l(l.j(u,[l.o(r),s,"increase"===d?"1":"-1",c]),a,e,!0):""}),e.insertBlockSnippetGenerator("brush_set_fill_color",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,c=e.valueToCode(n,o,"COLOR",e.ORDER_FUNCTION_CALL);return l.l(l.n("setBrushFillColor",[l.o(r),c]),a,e)}),e.insertBlockSnippetGenerator("brush_set_fill_path",function(n,o){var i=t(n,o),a=i.widgetId,r=i.block,c=e.getFieldValue(r,"PATH");return l.n("setBrushFillPath",[l.o(a),l.o(c)])}),e.insertBlockSnippetGenerator("brush_change_z_index",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,c=e.getFieldValue(a,"INDEX_TYPE");return l.n("changeBrushZIndex",[l.o(r),l.o(c)])}),e.insertBlockSnippetGenerator("brush_get_position",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,c="positionX"===e.getFieldValue(a,"POSITION_TYPE")?"getActorPositionX":"getActorPositionY";return l.s(c,[l.o(r)])}),e.insertBlockSnippetGenerator("brush_get_color",function(e,n){var o=t(e,n).widgetId;return l.s("getBrushColor",[l.o(o)])}),e.insertBlockSnippetGenerator("brush_get_pen_size",function(e,n){var o=t(e,n).widgetId;return l.s("getBrushPenSize",[l.o(o)])}),e.insertBlockSnippetGenerator("brush_get_rotation",function(e,n){var o=t(e,n).widgetId;return l.s("getBrushRotation",[l.o(o)])}),e.insertBlockSnippetGenerator("brush_get_color_property",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,c=e.getFieldValue(a,"PROPERTY");return c?"color"===c?l.s("getBrushColor",[l.o(r)]):l.s("getBrushColorProperty",[l.o(r),l.o(c)]):""}),e.insertBlockSnippetGenerator("brush_get_color_value",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,c=e.getFieldValue(a,"PROPERTY");return c?"color"===c?l.s("getBrushColor",[l.o(r)]):l.s("getBrushColorProperty",[l.o(r),l.o(c)]):""})},setBlockGroupProfile:function(e,t){t.extensions.register_mutator("BRUSH_DRAW_CIRCLE_MUTATOR",g),t.extensions.register_mutator("BRUSH_DRAW_ARC_MUTATOR",E),t.extensions.register_mutator("BRUSH_DRAW_POLYGON_MUTATOR",T);var n={type:"field_coco_dropdown",custom:!0,name:"WIDGET_ID",options:function(){return r.c().getWidgetListByType(u.c)}};function o(e){var t=this.source_block,n=e||(null==t?void 0:t.get_field_value("PROPERTY")),o=null==t?void 0:t.get_shadow_field("VALUE");if(o&&"FieldNumber"===o.field_type){var i="hue"===n?360:100;o.set_controller_option({type:s.I.ControllerType.SLIDER,left_text:"0",right_text:i.toString()}),o.set_constraints(0,i,1)}}function i(e){var t,n,o,i=this.source_block,r=e||(null==i?void 0:i.get_field_value("WIDGET_ID")),l=null==i?void 0:i.get_field_value("TARGET");r&&l&&!["__mouse","__random"].includes(l)&&(null==(t=c.Cb(r))?void 0:t.parentId)!==(null==(n=c.Cb(l))?void 0:n.parentId)&&null!=i&&null!=(o=i.get_field("TARGET"))&&o.set_value(a.c)}e.insertBlockProfile("brush_set_pen_down",{type:"brush_set_pen_down",message0:"%{BKY_BRUSH_SET_PEN_DOWN}",args0:[d.a({},n)],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0,previousStatement:!0,nextStatement:!0}),e.insertBlockProfile("brush_set_pen_up",{type:"brush_set_pen_up",message0:"%{BKY_BRUSH_SET_PEN_UP}",args0:[d.a({},n)],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0,previousStatement:!0,nextStatement:!0}),e.insertBlockProfile("brush_set_pen_up_or_down",{type:"brush_set_pen_up_or_down",message0:"%{BKY_BRUSH_SET_PEN_UP_OR_DOWN}",args0:[d.a({},n),{type:"field_coco_dropdown",custom:!0,name:"STATUS",options:function(){return[[t.Msg.PEN_DOWN,"down"],[t.Msg.PEN_UP,"up"]]}}],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0,previousStatement:!0,nextStatement:!0}),e.insertBlockProfile("brush_draw_point",{type:"brush_draw_point",message0:"%{BKY_BRUSH_DRAW_POINT}",args0:[d.a({},n),{type:"input_value",name:"X",check:["Number"]},{type:"input_value",name:"Y",check:["Number"]}],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0,previousStatement:!0,nextStatement:!0}),e.insertBlockProfile("brush_draw_line",{type:"brush_draw_line",message0:"%{BKY_BRUSH_DRAW_LINE}",args0:[d.a({},n),{type:"input_value",name:"X1",check:["Number"]},{type:"input_value",name:"Y1",check:["Number"]},{type:"input_value",name:"X2",check:["Number"]},{type:"input_value",name:"Y2",check:["Number"]}],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0,previousStatement:!0,nextStatement:!0}),e.insertBlockProfile("brush_draw_circle",{type:"brush_draw_circle",message0:"%{BKY_BRUSH_DRAW_CIRCLE}",args0:[d.a({},n),{type:"input_value",name:"RADIUS",check:["Number"]}],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0,previousStatement:!0,nextStatement:!0,mutator:"BRUSH_DRAW_CIRCLE_MUTATOR"}),e.insertBlockProfile("brush_draw_arc",{type:"brush_draw_arc",message0:"%{BKY_BRUSH_DRAW_ARC}",args0:[d.a({},n),{type:"input_value",name:"RADIUS",check:["Number"]},{type:"input_value",name:"ANGLE",check:["Number"]}],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0,previousStatement:!0,nextStatement:!0,mutator:"BRUSH_DRAW_ARC_MUTATOR"}),e.insertBlockProfile("brush_draw_polygon",{type:"brush_draw_polygon",message0:"%{BKY_BRUSH_DRAW_POLYGON}",args0:[d.a({},n),{type:"input_value",name:"STEP",check:["Number"]},{type:"input_value",name:"SIDE",check:["Number"]}],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0,previousStatement:!0,nextStatement:!0,mutator:"BRUSH_DRAW_POLYGON_MUTATOR"}),e.insertBlockProfile("brush_set_color",{type:"brush_set_color",message0:"%{BKY_BRUSH_SET_COLOR}",args0:[d.a({},n),{type:"input_value",check:["Color","String"],name:"COLOR"}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("brush_set_fill_color",{type:"brush_set_fill_color",message0:"%{BKY_BRUSH_SET_FILL_COLOR}",args0:[d.a({},n),{type:"input_value",check:["Color","String"],name:"COLOR"}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("brush_set_fill_path",{type:"brush_set_fill_path",message0:"%{BKY_BRUSH_SET_FILL_PATH}",args0:[d.a({},n),{type:"field_coco_dropdown",custom:!0,name:"PATH",options:function(){return[[t.Msg.POINT_START,"start"],[t.Msg.POINT_END,"end"]]}}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("brush_set_pen_size",{type:"brush_set_pen_size",message0:"%{BKY_BRUSH_SET_PEN_SIZE}",args0:[d.a({},n),{type:"input_value",name:"VALUE",check:["Number"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("brush_change_pen_size",{type:"brush_change_pen_size",message0:"%{BKY_BRUSH_CHANGE_PEN_SIZE}",args0:[d.a({},n),{type:"field_coco_dropdown",custom:!0,name:"METHOD",options:function(){return[[t.Msg.INCREASE,"increase"],[t.Msg.DECREASE,"decrease"]]}},{type:"input_value",name:"VALUE",check:["Number"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("brush_set_color_property",{type:"brush_set_color_property",message0:"%{BKY_BRUSH_SET_PROPERTY}",args0:[d.a({},n),{type:"field_coco_dropdown",custom:!0,name:"PROPERTY",options:function(){return[[t.Msg.HUE,"hue"],[t.Msg.SATURATION,"saturation"],[t.Msg.BRIGHTNESS,"brightness"],[t.Msg.ALPHA,"alpha"]]},optOnchange:o},{type:"input_value",name:"VALUE",check:["Number"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("brush_set_color_value",{type:"brush_set_color_value",message0:"%{BKY_BRUSH_SET_PROPERTY}",args0:[d.a({},n),{type:"field_coco_dropdown",custom:!0,name:"PROPERTY",options:function(){return[[t.Msg.HUE,"hue"],[t.Msg.SATURATION,"saturation"],[t.Msg.BRIGHTNESS,"brightness"],[t.Msg.WIDGET_OPACITY,"opacity"]]},optOnchange:o},{type:"input_value",name:"VALUE",check:["Number"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("brush_change_color_property",{type:"brush_change_color_property",message0:"%{BKY_BRUSH_CHANGE_PROPERTY}",args0:[d.a({},n),{type:"field_coco_dropdown",custom:!0,name:"PROPERTY",options:function(){return[[t.Msg.HUE,"hue"],[t.Msg.SATURATION,"saturation"],[t.Msg.BRIGHTNESS,"brightness"],[t.Msg.ALPHA,"alpha"]]}},{type:"field_coco_dropdown",custom:!0,name:"METHOD",options:function(){return[[t.Msg.INCREASE,"increase"],[t.Msg.DECREASE,"decrease"]]}},{type:"input_value",name:"VALUE",check:["Number"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("brush_change_color_value",{type:"brush_change_color_value",message0:"%{BKY_BRUSH_CHANGE_PROPERTY}",args0:[d.a({},n),{type:"field_coco_dropdown",custom:!0,name:"PROPERTY",options:function(){return[[t.Msg.HUE,"hue"],[t.Msg.SATURATION,"saturation"],[t.Msg.BRIGHTNESS,"brightness"],[t.Msg.WIDGET_OPACITY,"opacity"]]}},{type:"field_coco_dropdown",custom:!0,name:"METHOD",options:function(){return[[t.Msg.INCREASE,"increase"],[t.Msg.DECREASE,"decrease"]]}},{type:"input_value",name:"VALUE",check:["Number"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("brush_move_forward",{type:"brush_move_forward",message0:"%{BKY_BRUSH_MOVE_FORWARD}",args0:[d.a({},n),{type:"input_value",name:"NUM",check:["Number"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("brush_move_forward_or_backward",{type:"brush_move_forward_or_backward",message0:"%{BKY_BRUSH_MOVE_FORWARD_OR_BACKWARD}",args0:[d.a({},n),{type:"field_coco_dropdown",custom:!0,name:"DIRECTION",options:function(){return[[t.Msg.FORWARD,"forward"],[t.Msg.BACKWARD,"backward"]]}},{type:"input_value",name:"NUM",check:["Number"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("brush_rotate",{type:"brush_rotate",message0:"%{BKY_BRUSH_ROTATE}",args0:[d.a({},n),{type:"input_value",name:"NUM",check:["Number"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("brush_rotate_left_or_right",{type:"brush_rotate_left_or_right",message0:"%{BKY_BRUSH_ROTATE_LEFT_OR_RIGHT}",args0:[d.a({},n),{type:"field_coco_dropdown",custom:!0,name:"DIRECTION",options:function(){return[[t.Msg.ROTATE_LEFT,"left"],[t.Msg.ROTATE_RIGHT,"right"]]}},{type:"input_value",name:"NUM",check:["Number"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("brush_set_rotation",{type:"brush_set_rotation",message0:"%{BKY_BRUSH_SET_ROTATION}",args0:[d.a({},n),{type:"input_value",name:"NUM",check:["Number"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("brush_face_to",{type:"brush_face_to",message0:"%{BKY_BRUSH_FACE_TO}",args0:[d.a(d.a({},n),{},{optOnchange:i}),{type:"field_coco_dropdown",custom:!0,name:"TARGET",advancedOptions:function(){var e,n,o=null==(e=this.source_block)?void 0:e.get_field_value("WIDGET_ID"),i=o?null==(n=c.Cb(o))?void 0:n.parentId:void 0;return[{type:"basic",text:t.Msg.TOUCH_POINT,value:"__mouse"},{type:"basic",text:t.Msg.RANDOM,value:"__random"},{type:"group",name:t.Msg.ACTOR,options:r.c().getWidgetListByType(u.a,i)},{type:"group",name:t.Msg.BRUSH,options:r.c().getWidgetListByType(u.c,i)}]}}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("brush_move_to_position",{type:"brush_move_to_position",message0:"%{BKY_BRUSH_MOVE_TO_POSITION}",args0:[d.a({},n),{type:"input_value",name:"X",check:["Number"]},{type:"input_value",name:"Y",check:["Number"]}],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0,previousStatement:!0,nextStatement:!0}),e.insertBlockProfile("brush_move_to",{type:"brush_move_to",message0:"%{BKY_BRUSH_MOVE_TO}",args0:[d.a(d.a({},n),{},{optOnchange:i}),{type:"field_coco_dropdown",name:"TARGET",custom:!0,advancedOptions:function(){var e,n,o=null==(e=this.source_block)?void 0:e.get_field_value("WIDGET_ID"),i=o?null==(n=c.Cb(o))?void 0:n.parentId:void 0;return[{type:"basic",text:t.Msg.TOUCH_POINT,value:"__mouse"},{type:"basic",text:t.Msg.RANDOM,value:"__random"},{type:"group",name:t.Msg.ACTOR,options:r.c().getWidgetListByType(u.a,i)},{type:"group",name:t.Msg.BRUSH,options:r.c().getWidgetListByType(u.c,i)}]}}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("brush_set_position",{type:"brush_set_position",message0:"%{BKY_BRUSH_SET_PROPERTY}",args0:[d.a({},n),{type:"field_coco_dropdown",name:"POSITION_TYPE",custom:!0,options:[[t.Msg.POSITION_X,"positionX"],[t.Msg.POSITION_Y,"positionY"]]},{type:"input_value",name:"NUM",check:["Number"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("brush_change_position",{type:"brush_change_position",message0:"%{BKY_BRUSH_CHANGE_POSITION}",args0:[d.a({},n),{type:"field_coco_dropdown",name:"POSITION_TYPE",custom:!0,options:[[t.Msg.POSITION_X,"positionX"],[t.Msg.POSITION_Y,"positionY"]]},{type:"field_coco_dropdown",custom:!0,name:"METHOD",options:function(){return[[t.Msg.INCREASE,"increase"],[t.Msg.DECREASE,"decrease"]]}},{type:"input_value",name:"NUM",check:["Number"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("brush_move_to_position_in_time",{type:"brush_move_to_position_in_time",message0:"%{BKY_BRUSH_CHANGE_POSITION_IN_TIME}",args0:[d.a({},n),{type:"input_value",name:"SECONDS",check:["Number"]},{type:"input_value",name:"X",check:["Number"]},{type:"input_value",name:"Y",check:["Number"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("brush_change_position_type_in_time",{type:"brush_change_position_type_in_time",message0:"%{BKY_BRUSH_CHANGE_POSITION_TYPE_IN_TIME}",args0:[d.a({},n),{type:"input_value",name:"SECONDS",check:["Number"]},{type:"field_coco_dropdown",name:"POSITION_TYPE",custom:!0,options:[[t.Msg.POSITION_X,"positionX"],[t.Msg.POSITION_Y,"positionY"]]},{type:"field_coco_dropdown",custom:!0,name:"METHOD",options:function(){return[[t.Msg.INCREASE,"increase"],[t.Msg.DECREASE,"decrease"]]}},{type:"input_value",name:"NUM",check:["Number"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("brush_change_z_index",{type:"brush_change_z_index",message0:"%{BKY_BRUSH_CHANGE_Z_INDEX}",args0:[d.a({},n),{type:"field_coco_dropdown",custom:!0,name:"INDEX_TYPE",options:function(){return[[t.Msg.INDEX_UP,"up"],[t.Msg.INDEX_DOWN,"down"],[t.Msg.INDEX_TOP,"top"],[t.Msg.INDEX_BOTTOM,"bottom"]]}}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("brush_get_position",{type:"brush_get_position",message0:"%{BKY_BRUSH_GET_PROPERTY}",args0:[d.a({},n),{type:"field_coco_dropdown",name:"POSITION_TYPE",custom:!0,options:[[t.Msg.POSITION_X,"positionX"],[t.Msg.POSITION_Y,"positionY"]]}],output:["String","Number"],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("brush_get_color",{type:"brush_get_color",message0:"%{BKY_BRUSH_GET_COLOR}",args0:[d.a({},n)],output:["String","Color"],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("brush_get_pen_size",{type:"brush_get_pen_size",message0:"%{BKY_BRUSH_GET_PEN_SIZE}",args0:[d.a({},n)],output:["Number"],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("brush_get_rotation",{type:"brush_get_rotation",message0:"%{BKY_BRUSH_GET_ROTATION}",args0:[d.a({},n)],output:["Number"],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("brush_get_color_property",{type:"brush_get_color_property",message0:"%{BKY_BRUSH_GET_PROPERTY}",args0:[d.a({},n),{type:"field_coco_dropdown",custom:!0,name:"PROPERTY",options:function(){return[[t.Msg.COLOR,"color"],[t.Msg.HUE,"hue"],[t.Msg.SATURATION,"saturation"],[t.Msg.BRIGHTNESS,"brightness"],[t.Msg.ALPHA,"alpha"]]}}],output:["Number","Color"],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("brush_get_color_value",{type:"brush_get_color_value",message0:"%{BKY_BRUSH_GET_PROPERTY}",args0:[d.a({},n),{type:"field_coco_dropdown",custom:!0,name:"PROPERTY",options:function(){return[[t.Msg.COLOR,"color"],[t.Msg.HUE,"hue"],[t.Msg.SATURATION,"saturation"],[t.Msg.BRIGHTNESS,"brightness"],[t.Msg.WIDGET_OPACITY,"opacity"]]}}],output:["Number","Color"],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0})}},renameBlocksInfo:{blocksList:["brush_draw_point","brush_draw_line","brush_set_color","brush_set_pen_size","brush_change_pen_size","brush_set_rotation","brush_face_to","brush_move_to_position","brush_move_to","brush_set_position","brush_change_position","brush_move_to_position_in_time","brush_change_position_type_in_time","brush_get_pen_size","brush_get_position","brush_set_pen_down","brush_set_pen_up","brush_move_forward","brush_rotate","brush_get_color","brush_set_color_property","brush_change_color_property","brush_get_color_property","brush_change_z_index","brush_get_rotation","brush_draw_circle","brush_draw_arc","brush_draw_polygon","brush_set_fill_color","brush_set_fill_path","brush_set_pen_up_or_down","brush_move_forward_or_backward","brush_rotate_left_or_right","brush_set_color_value","brush_change_color_value","brush_get_color_value"],fieldName:"WIDGET_ID"},topBlocks:[]},h=n(94032),f=n(39008),b=n(451),O=n(34221),C=n(7452),I=n.n(C),S=n(19040),y=n(41594),N=n.n(y),A=n(99820),k={icon:"icon-widget-brush",title:"defaultBrushWidgetTitle",previewAreaWidgetTitle:"brush",type:u.c,editConfig:i.Ch,isInvisibleWidget:p.i,widget:{isGlobalWidget:p.h,size:{width:0,height:0},attributes:{color:p.a,penSize:p.c,rotation:0,cursorShape:A.a.NONE}},blockConfig:v,component:function(e){var t=e.id,n=e.position,i=e.visible,a=e.parentId,r=e.zIndex,l=void 0===r?0:r,s=e.attributes,u=s.color,d=s.penSize,p=s.rotation,m=s.cursorShape,g=void 0===m?A.a.NONE:m,E=(0,y.useState)(!0),T=b.a(E,2),v=T[0],C=T[1],k=(0,y.useState)({x:0,y:0}),R=b.a(k,2),B=R[0],D=R[1],w=(0,y.useState)({translateX:0,translateY:0,angle:0}),L=b.a(w,2),P=L[0],U=L[1],M=(0,y.useState)(!1),Y=b.a(M,2),x=Y[0],G=Y[1],K=(0,S.useSelector)(function(e){return e.project.selectedWidgetId}),W=K===t,F=(0,y.useCallback)(O.a(I().mark(function e(){var o;return I().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=h.b(t)){e.next=4;break}return console.error("Brush widget get stage error"),e.abrupt("return");case 4:return e.next=6,f.d(o,t,n,!1);case 6:C(!1);case 7:case"end":return e.stop()}},e)})),[]);(0,y.useEffect)(function(){F()},[F]);var V=(0,y.useCallback)(O.a(I().mark(function e(){var n,o,i,r;return I().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:if(n=c.Cb(a)){e.next=5;break}return e.abrupt("return");case 5:if(i=void 0===(o=n.attributes.coordinateRatio)?2:o,r=h.b(t)){e.next=10;break}return console.error("Brush widget get stage error"),e.abrupt("return");case 10:return e.next=12,f.r(r,t,d,u,g,i,!1);case 12:case"end":return e.stop()}},e)})),[t,u,g,a,d]);return(0,y.useEffect)(function(){var e=h.b(t);if(e){var n=function(e){e.target_id===t&&G(!1)},o=function(e){e.target_id===t&&G(!0)},i=e.events;return i.add_listener("actor:drag_start",o),i.add_listener("actor:drag_end",n),function(){i.remove_listener("actor:drag_start",o),i.remove_listener("actor:drag_end",n)}}},[t,a,n.x]),(0,y.useEffect)(function(){if(a){var e=c.Cb(a);if(e){var t=e.size,o=t.width,i=t.height,r=e.attributes.coordinateRatio,l=void 0===r?2:r;D({x:o/2+n.x/l,y:i/2-n.y/l})}}},[n,a]),(0,y.useEffect)(function(){if(!v){var e=h.b(t);if(e){var n=e.actors.get_actor(t),o=n.is_error,i=n.value;o(i)||(i.set_z_index(l),e.render())}}},[t,v,l]),(0,y.useEffect)(function(){if(!v){var e=h.b(t);if(e){f.i(e,t,p);var n=e.actors.get_actor(t),o=n.is_error,i=n.value;if(o(i))console.error("Get actor error");else{var a=i.get_position(),r=i.get_center_position(),l=i.get_rotation();U({translateX:(r.x-a.x)/2,translateY:(a.y-r.y)/2,angle:Math.round(-180*l/Math.PI)})}}}},[v,t,p]),(0,y.useEffect)(function(){v||V()},[v,V]),(0,y.useEffect)(function(){if(!v){var e=h.b(t);e?f.h(e,t,n):console.error("Brush widget get stage error")}},[n,t,v]),(0,y.useEffect)(function(){if(!v){var e=h.b(t);e?f.k(e,t,i):console.error("Brush widget get stage error")}},[i,t,v]),(0,y.useEffect)(function(){if(K===t){var e=h.b(t),n=null==e?void 0:e.components.get_editor();null!=n&&n.set_btns_visible(!1),null!=n&&n.set_target_actor(t)}},[t,K,v]),(0,y.useEffect)(function(){var e=document.querySelector("#".concat(a,'[data-role="WIDGET"]'));e instanceof HTMLDivElement&&(x?e.classList.add("actor-moving"):e.classList.remove("actor-moving"))},[x,a]),W&&!x&&i?N().createElement("div",{style:{position:"absolute",left:B.x,top:B.y,transformOrigin:"".concat(P.translateX,"px ").concat(P.translateY,"px"),transform:"rotate(".concat(P.angle,"deg)")},id:t},N().createElement("div",{style:{position:"absolute",left:P.translateX+25,top:P.translateY-18}},N().createElement(o.ad,null))):null}},R=[{type:"WidgetTitle",hasDisableOrVisible:!0},{type:"VisibleSwitch"},{type:"StyleEditorSwitch"},{type:"ScaleInputRow",key:"scaleAndLock",label:"actorScale",multiple:100},{type:"DegreeInputRow",key:"rotation",label:"rotation"},{type:"FlipInputRow",key:"flipped",label:"flip"},{type:"WidgetOpacity"},{type:"Coordinate",label:"relativeCoordinate"}]},63110(e,t,n){n.d(t,{Xh:()=>G,Yh:()=>Y,zh:()=>M,Qh:()=>K});var o=n(14471),i=n(90759),a=n(74375),r=n(60096),l=n(24876),c=n(12327),s=n(38752),u=n(94220),d=n(28950),p=n(80911),m=n(73400),g=function(e){return{type:"group",name:e.Msg.BOUNDARY,options:E(e)}},E=function(e){return[{type:"basic",text:e.Msg.BOUNDARY_ANY,value:"__boundary_any"},{type:"basic",text:e.Msg.BOUNDARY_LEFT,value:"__boundary_left"},{type:"basic",text:e.Msg.BOUNDARY_RIGHT,value:"__boundary_right"},{type:"basic",text:e.Msg.BOUNDARY_TOP,value:"__boundary_top"},{type:"basic",text:e.Msg.BOUNDARY_BOTTOM,value:"__boundary_bottom"}]},T=function(e){return{type:"field_coco_dropdown",custom:!0,name:"SECTION",options:function(){return[[e.Msg.SCALE_A,"scale"],[e.Msg.SCALE_X,"scale_x"],[e.Msg.SCALE_Y,"scale_y"]]}}},v=function(e){return{type:"field_coco_dropdown",custom:!0,name:"METHOD",options:function(){return[[e.Msg.INCREASE,"increase"],[e.Msg.DECREASE,"decrease"]]}}},h={type:u.a,category:{iconId:"icon-widget-actor",blocks:u.a},categoryClass:{text:"",iconId:"icon-widget-actor",blocks:[]},getTemplate:function(e){var t,n='<field name="WIDGET_ID">'.concat(e,"</field>"),o=c.Cb(e),i=null==o||null==(t=o.attributes)?void 0:t.actionList[0],r=(null==i?void 0:i.interval)||200;return['<block type="actor_on_actor_press" uncache="true">\n      '.concat(n,"\n    </block>"),'<block type="actor_on_actor_bump" uncache="true">\n      '.concat(n,"\n    </block>"),'<block type="actor_on_actor_leave" uncache="true">\n      '.concat(n,"\n    </block>"),a.d,c.cb({widgetType:u.a,title:"移动",lineId:"move"}),'<block type="actor_move_forward" uncache="true">\n      '.concat(n,'\n      <value name="NUM">\n        <shadow type="math_number">\n          <field name="NUM" constraints=",,1">10</field>\n        </shadow>\n      </value>\n    </block>'),'<block type="actor_move_to" uncache="true">\n      '.concat(n,"\n    </block>"),'<block type="actor_move_to_position" uncache="true">\n      '.concat(n,'\n      <value name="X">\n        <shadow type="math_number">\n          <field name="NUM" constraints=",,1">100</field>\n        </shadow>\n      </value>\n      <value name="Y">\n        <shadow type="math_number">\n          <field name="NUM" constraints=",,1">100</field>\n        </shadow>\n      </value>\n    </block>'),'<block type="actor_move_to_position_in_time" uncache="true">\n      '.concat(n,'\n      <value name="X">\n        <shadow type="math_number">\n          <field name="NUM" constraints=",,1">100</field>\n        </shadow>\n      </value>\n      <value name="Y">\n        <shadow type="math_number">\n          <field name="NUM" constraints=",,1">100</field>\n        </shadow>\n      </value>\n      <value name="SECONDS">\n        <shadow type="math_number">\n          <field name="NUM" constraints="0">1</field>\n        </shadow>\n      </value>\n    </block>'),a.d,'<block type="actor_set_position" uncache="true">\n    '.concat(n,'\n    <value name="NUM">\n      <shadow type="math_number">\n        <field name="NUM" constraints=\',,1\'>100</field>\n      </shadow>\n    </value>\n    </block>'),'<block type="actor_change_position" uncache="true">\n    '.concat(n,'\n    <value name="NUM">\n      <shadow type="math_number">\n        <field name="NUM" constraints=\',,1\'>100</field>\n      </shadow>\n    </value>\n    </block>'),'<block type="actor_change_position_type_in_time" uncache="true">\n    '.concat(n,'\n    <value name="NUM">\n      <shadow type="math_number">\n        <field name="NUM" constraints=\',,1\'>100</field>\n      </shadow>\n    </value>\n    <value name="SECONDS">\n      <shadow type="math_number">\n        <field name="NUM" constraints="0">1</field>\n      </shadow>\n    </value>\n    </block>'),'<block type="actor_move_z_index" uncache="true">\n    '.concat(n,"\n    </block>"),c.cb({widgetType:u.a,title:"方向",lineId:"rotate"}),'<block type="actor_set_rotation" uncache="true">\n      '.concat(n,'\n      <value name="NUM">\n        <shadow type="math_number">\n          <field name="NUM" controller="').concat(s.I.ControllerType.ANGLE_SCALE,'" constraints="-180,180,,true">90</field>\n        </shadow>\n      </value>\n    </block>'),'<block type="actor_face_to" uncache="true">\n      '.concat(n,"\n    </block>"),'<block type="actor_rotate" uncache="true">\n      '.concat(n,'\n      <value name="NUM">\n        <shadow type="math_number">\n          <field name="NUM" constraints=",,1">90</field>\n        </shadow>\n      </value>\n    </block>'),'<block type="actor_rotate_around" uncache="true">\n      '.concat(n,'\n      <value name="NUM">\n        <shadow type="math_number">\n          <field name="NUM" constraints=",,1">90</field>\n        </shadow>\n      </value>\n    </block>'),c.cb({widgetType:u.a,title:"造型",lineId:"style"}),'<block type="actor_set_current_style_embed" uncache="true">\n      '.concat(n,'\n       <value name="ACTOR_ACTION_WRAPPER">\n        <shadow type="actor_action_input"></shadow>\n      </value>\n       <value name="ACTOR_STYLE_WRAPPER">\n        <shadow type="actor_style_input"></shadow>\n      </value>\n    </block>'),'<block type="actor_previous_next_style" uncache="true">\n      '.concat(n,"\n    </block>"),c.cb({widgetType:u.a,title:"动作",lineId:"action"}),'<block type="actor_play_action_dropdown" uncache="true">\n      <mutation pos=\'true\'></mutation>\n      '.concat(n,'\n       <value name="ACTOR_ACTION_WRAPPER">\n        <shadow type="actor_action_input"></shadow>\n      </value>\n      <value name="ACTION_INTERVAL">\n       <shadow type="action_interval">\n           <field name="NUM">').concat(r,'</field>\n        </shadow>\n      </value>\n      <value name="PLAY_COUNT">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\'1,,1\'>1</field>\n        </shadow>\n      </value>\n    </block>'),'<block type="actor_play_action_and_wait_dropdown" uncache="true">\n      '.concat(n,'\n       <value name="ACTOR_ACTION_WRAPPER">\n        <shadow type="actor_action_input"></shadow>\n      </value>\n      <value name="ACTION_INTERVAL">\n        <shadow type="action_interval">\n           <field name="NUM">').concat(r,'</field>\n        </shadow>\n      </value>\n      <value name="PLAY_COUNT">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\'1,,1\'>1</field>\n        </shadow>\n      </value>\n    </block>'),'<block type="actor_stop_action" uncache="true">\n      '.concat(n,"\n    </block>"),c.cb({widgetType:u.a,title:"比例大小",lineId:"scale"}),'<block type="actor_set_scale_with_section" uncache="true">\n      '.concat(n,'\n        <value name="NUM">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\'').concat(100*p.e,",").concat(100*p.c,",1'>100</field>\n        </shadow>\n      </value>\n    </block>"),'<block type="actor_change_scale_with_section" uncache="true">\n      '.concat(n,'\n      <value name="NUM">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\'0,,1\'>10</field>\n        </shadow>\n      </value>\n    </block>'),c.cb({widgetType:u.a,title:"翻转",lineId:"flip"}),'<block type="actor_set_flipped" uncache="true">\n      '.concat(n,"\n    </block>"),c.cb({widgetType:u.a,title:"不透明度",lineId:"opacity"}),c.sb({property:"__opacity",widgetType:u.a,widgetId:e,isSetProperty:!0}),'<block type="actor_change_opacity" uncache="true">\n      '.concat(n,'\n      <value name="NUM">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\'0,,1\'>10</field>\n        </shadow>\n      </value>\n    </block>'),'<block type="actor_show_hide_in_time" uncache="true">\n      '.concat(n,'\n      <value name="SECONDS">\n        <shadow type="math_number">\n          <field name="NUM" constraints="0">1</field>\n        </shadow>\n      </value>\n    </block>'),c.cb({widgetType:u.a,title:"显隐",lineId:"visivle"}),c.sb({property:"__visible",widgetType:u.a,widgetId:e,isSetProperty:!0}),c.cb({widgetType:u.a,title:"对话",lineId:"dialog"}),'<block type="actor_show_dialog" uncache="true">\n      '.concat(n,'\n      <value name="TEXT">\n        <shadow type="text">\n          <field name="TEXT">Hi</field>\n        </shadow>\n      </value>\n    </block>'),'<block type="actor_show_dialog_in_time" uncache="true">\n      '.concat(n,'\n      <value name="TEXT">\n        <shadow type="text">\n          <field name="TEXT">Hi</field>\n        </shadow>\n      </value>\n      <value name="SECONDS">\n        <shadow type="math_number">\n          <field name="NUM" constraints="0">2</field>\n        </shadow>\n      </value>\n    </block>'),c.cb({widgetType:u.a,title:"返回值",lineId:"getter"}),'<block type="actor_get_scale_with_section" uncache="true">\n      '.concat(n,"\n    </block>"),'<block type="actor_get_rotation" uncache="true">\n      '.concat(n,"\n    </block>"),c.sb({property:"__opacity",widgetType:u.a,widgetId:e}),'<block type="actor_get_position" uncache="true">\n      '.concat(n,"\n    </block>"),'<block type="actor_get_style_index" uncache="true">\n      '.concat(n,"\n    </block>"),'<block type="actor_get_action_name" uncache="true">\n      '.concat(n,"\n    </block>"),a.d,'<block type="actor_check_if_pressed" uncache="true">\n      '.concat(n,"\n    </block>"),'<block type="actor_check_if_bumped" uncache="true">\n      '.concat(n,"\n    </block>"),'<block type="actor_check_if_left" uncache="true">\n      '.concat(n,"\n    </block>"),'<block type="actor_check_if_flipped" uncache="true">\n      '.concat(n,"\n    </block>"),c.sb({property:"__visible",widgetType:u.a,widgetId:e})]},blockDeclareGroup:{setBlockGroupSnippet:function(e){function t(t,n){var o=t.blocks[n];return{block:o,widgetId:e.getFieldValue(o,"WIDGET_ID")||""}}e.insertBlockSnippetGenerator("actor_on_actor_press",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,c=e.getFieldValue(a,"PRESS_EVENT")||"",s=e.statementToCode(n,o,"DO");if(!s)return"";var u=e.valueToCode(n,o,"POSITION_X",e.ORDER_FUNCTION_CALL),d=e.valueToCode(n,o,"POSITION_Y",e.ORDER_FUNCTION_CALL);return"press"===c?l.n("onActorPress",[l.o(r)],s,[u,d]):"pressIn"===c?l.n("onActorPressIn",[l.o(r)],s,[u,d]):"pressHold"===c?l.n("argsOnCanvasPressHold",[l.o(r)],s,[u,d]):l.n("onActorPressOut",[l.o(r)],s,[u,d])}),e.insertBlockSnippetGenerator("actor_on_actor_press_positionX",function(){return"canvasPressPositionX"}),e.insertBlockSnippetGenerator("actor_on_actor_press_positionY",function(){return"canvasPressPositionY"}),e.insertBlockSnippetGenerator("actor_on_actor_bump",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,c=e.getFieldValue(a,"BUMP_TYPE")||"",s=e.statementToCode(n,o,"DO");if(!s)return"";var u="onActorBumpPosition";return c.startsWith("ACTOR_")?u="onActorBumpActor":c.startsWith("__boundary_")&&(u="onActorBumpBoundary"),l.n(u,[l.o(r),l.o(c)],s)}),e.insertBlockSnippetGenerator("actor_on_actor_leave",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,c=e.getFieldValue(a,"LEAVE_TYPE")||"",s=e.statementToCode(n,o,"DO");return s?l.n("onActorLeaveBoundary",[l.o(r),l.o(c)],s):""}),e.insertBlockSnippetGenerator("actor_rotate",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,c=e.valueToCode(n,o,"NUM",e.ORDER_FUNCTION_CALL);return l.l(l.n("actorRotate",[l.o(r),c]),a,e)}),e.insertBlockSnippetGenerator("actor_move_forward",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,c=e.valueToCode(n,o,"NUM",e.ORDER_FUNCTION_CALL);return l.l(l.n("actorMoveForward",[l.o(r),c]),a,e)}),e.insertBlockSnippetGenerator("actor_set_rotation",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,c=e.valueToCode(n,o,"NUM",e.ORDER_FUNCTION_CALL);return l.l(l.n("actorSetRotation",[l.o(r),c]),a,e)}),e.insertBlockSnippetGenerator("actor_face_to",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,c=e.getFieldValue(a,"TARGET");return c?l.n("actorFaceTo",[l.o(r),l.o(c)]):""}),e.insertBlockSnippetGenerator("actor_rotate_around",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,c=e.getFieldValue(a,"TARGET");if(!c)return"";var s=e.valueToCode(n,o,"NUM",e.ORDER_FUNCTION_CALL);return l.l(l.n("actorRotateAround",[l.o(r),l.o(c),s]),a,e)}),e.insertBlockSnippetGenerator("actor_play_action",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,c=e.getFieldValue(a,"ACTOR_ACTION_ID"),s=e.getFieldValue(a,"CYCLIC_FLAG"),u=e.valueToCode(n,o,"ACTION_INTERVAL",e.ORDER_FUNCTION_CALL),d=e.valueToCode(n,o,"PLAY_COUNT",e.ORDER_FUNCTION_CALL);return c&&u&&s?(d=("false"===s?1/0:d||1).toString(),l.l(l.n("actorPlayAction",[l.o(r),l.o(c),u,d]),a,e)):""}),e.insertBlockSnippetGenerator("actor_play_action_and_wait",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,c=e.getFieldValue(a,"ACTOR_ACTION_ID"),s=e.valueToCode(n,o,"ACTION_INTERVAL",e.ORDER_FUNCTION_CALL),u=e.valueToCode(n,o,"PLAY_COUNT",e.ORDER_FUNCTION_CALL);return c&&s&&u?l.l(l.j("actorPlayActionAndWait",[l.o(r),l.o(c),s,u]),a,e):""}),e.insertBlockSnippetGenerator("action_interval",function(t,n){var o=t.blocks[n];return JSON.stringify(parseInt(e.getFieldValue(o,"INTERVAL")))}),e.insertBlockSnippetGenerator("actor_play_action_embed",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,c=e.valueToCode(n,o,"ACTOR_ACTION_WRAPPER",e.ORDER_FUNCTION_CALL),s=e.getFieldValue(a,"CYCLIC_FLAG"),u=e.valueToCode(n,o,"ACTION_INTERVAL",e.ORDER_FUNCTION_CALL),d=e.valueToCode(n,o,"PLAY_COUNT",e.ORDER_FUNCTION_CALL);return c&&u&&s?(d=("false"===s?1/0:d||1).toString(),l.l(l.n("actorPlayAction",[l.o(r),c,u,d]),a,e)):""}),e.insertBlockSnippetGenerator("actor_play_action_and_wait_embed",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,c=e.valueToCode(n,o,"ACTOR_ACTION_WRAPPER",e.ORDER_FUNCTION_CALL),s=e.valueToCode(n,o,"ACTION_INTERVAL",e.ORDER_FUNCTION_CALL),u=e.valueToCode(n,o,"PLAY_COUNT",e.ORDER_FUNCTION_CALL);return c&&s&&u?l.l(l.j("actorPlayActionAndWait",[l.o(r),c,s,u]),a,e):""}),e.insertBlockSnippetGenerator("actor_play_action_dropdown",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,c=e.valueToCode(n,o,"ACTOR_ACTION_WRAPPER",e.ORDER_FUNCTION_CALL),s=e.getFieldValue(a,"CYCLIC_FLAG"),u=e.valueToCode(n,o,"ACTION_INTERVAL",e.ORDER_FUNCTION_CALL),d=e.valueToCode(n,o,"PLAY_COUNT",e.ORDER_FUNCTION_CALL);return c&&u&&s?(d=("false"===s?1/0:d||1).toString(),l.l(l.n("actorPlayAction",[l.o(r),c,u,d]),a,e)):""}),e.insertBlockSnippetGenerator("actor_play_action_and_wait_dropdown",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,c=e.valueToCode(n,o,"ACTOR_ACTION_WRAPPER",e.ORDER_FUNCTION_CALL),s=e.valueToCode(n,o,"ACTION_INTERVAL",e.ORDER_FUNCTION_CALL),u=e.valueToCode(n,o,"PLAY_COUNT",e.ORDER_FUNCTION_CALL);return c&&s&&u?l.l(l.j("actorPlayActionAndWait",[l.o(r),c,s,u]),a,e):""}),e.insertBlockSnippetGenerator("actor_stop_action",function(e,n){var o=t(e,n).widgetId;return l.n("actorStopAction",[l.o(o)])}),e.insertBlockSnippetGenerator("actor_move_to",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,c=e.getFieldValue(a,"TARGET");return c?l.l(l.n("actorMoveTo",[l.o(r),l.o(c)]),a,e):""}),e.insertBlockSnippetGenerator("actor_move_to_position",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,c=e.valueToCode(n,o,"X",e.ORDER_FUNCTION_CALL),s=e.valueToCode(n,o,"Y",e.ORDER_FUNCTION_CALL);return l.l(l.n("actorMoveToPosition",[l.o(r),c,s]),a,e)}),e.insertBlockSnippetGenerator("actor_set_position",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,c=e.valueToCode(n,o,"NUM",e.ORDER_FUNCTION_CALL),s="positionX"===e.getFieldValue(a,"POSITION_TYPE")?"actorSetPositionX":"actorSetPositionY";return l.l(l.n(s,[l.o(r),c]),a,e)}),e.insertBlockSnippetGenerator("actor_change_position",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,c=e.valueToCode(n,o,"NUM",e.ORDER_FUNCTION_CALL),s=e.getFieldValue(a,"METHOD");if(!s)return"";var u="positionX"===e.getFieldValue(a,"POSITION_TYPE")?"changeActorPositionX":"changeActorPositionY";return l.l(l.n(u,[l.o(r),c,"increase"===s?"1":"-1"]),a,e)}),e.insertBlockSnippetGenerator("actor_move_to_position_in_time",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,c=e.valueToCode(n,o,"X",e.ORDER_FUNCTION_CALL),s=e.valueToCode(n,o,"Y",e.ORDER_FUNCTION_CALL),u=e.valueToCode(n,o,"SECONDS",e.ORDER_FUNCTION_CALL);return l.l(l.n("moveToPositionInTime",[l.o(r),u,c,s]),a,e)}),e.insertBlockSnippetGenerator("actor_change_position_type_in_time",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,c=e.valueToCode(n,o,"SECONDS",e.ORDER_FUNCTION_CALL),s=e.valueToCode(n,o,"NUM",e.ORDER_FUNCTION_CALL),u="positionX"===e.getFieldValue(a,"POSITION_TYPE")?"changeActorPositionXInTime":"changeActorPositionYInTime",d=e.getFieldValue(a,"METHOD");return d?l.l(l.n(u,[l.o(r),s,"increase"===d?"1":"-1",c]),a,e):""}),e.insertBlockSnippetGenerator("actor_set_visible",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,c="show"===e.getFieldValue(a,"DISPLAY");return l.n("setActorVisible",[l.o(r),c])}),e.insertBlockSnippetGenerator("actor_show_hide_in_time",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,c=e.valueToCode(n,o,"SECONDS",e.ORDER_FUNCTION_CALL),s="show"===e.getFieldValue(a,"DISPLAY")?"setActorFadeIn":"setActorFadeOut";return l.l(l.n(s,[l.o(r),c]),a,e)}),e.insertBlockSnippetGenerator("actor_set_scale",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,c=e.valueToCode(n,o,"NUM",e.ORDER_FUNCTION_CALL);return c?l.l(l.n("setActorScale",[l.o(r),c]),a,e):""}),e.insertBlockSnippetGenerator("actor_change_scale",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,c=e.valueToCode(n,o,"NUM",e.ORDER_FUNCTION_CALL);if(!c)return"";var s=e.getFieldValue(a,"METHOD");return s?l.l(l.n("changeActorScale",[l.o(r),c,"increase"===s?"1":"-1"]),a,e):""}),e.insertBlockSnippetGenerator("actor_set_scale_with_section",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,c=e.valueToCode(n,o,"NUM",e.ORDER_FUNCTION_CALL);if(!c)return"";var s=e.getFieldValue(a,"SECTION");return s?l.l(l.n("setActorScaleWithSection",[l.o(r),l.o(s),c]),a,e):""}),e.insertBlockSnippetGenerator("actor_change_scale_with_section",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,c=e.valueToCode(n,o,"NUM",e.ORDER_FUNCTION_CALL);if(!c)return"";var s=e.getFieldValue(a,"SECTION");if(!s)return"";var u=e.getFieldValue(a,"METHOD");return u?l.l(l.n("changeActorScaleWithSection",[l.o(r),l.o(s),c,"increase"===u?"1":"-1"]),a,e):""}),e.insertBlockSnippetGenerator("actor_change_opacity",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,c=e.valueToCode(n,o,"NUM",e.ORDER_FUNCTION_CALL);if(!c)return"";var s=e.getFieldValue(a,"METHOD");return s?l.l(l.n("changeActorOpacity",[l.o(r),c,"increase"===s?"1":"-1"]),a,e):""}),e.insertBlockSnippetGenerator("actor_get_property",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,c=e.getFieldValue(a,"PROPERTY");return c?l.s("getActorProperty",[l.o(r),l.o(c)]):""}),e.insertBlockSnippetGenerator("actor_get_rotation",function(e,n){var o=t(e,n).widgetId;return l.s("getActorRotation",[l.o(o)])}),e.insertBlockSnippetGenerator("actor_get_scale_with_section",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,c=e.getFieldValue(a,"SECTION");return c?l.s("getActorScaleWithSection",[l.o(r),l.o(c)]):""}),e.insertBlockSnippetGenerator("actor_get_position",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,c="positionX"===e.getFieldValue(a,"POSITION_TYPE")?"getActorPositionX":"getActorPositionY";return l.s(c,[l.o(r)])}),e.insertBlockSnippetGenerator("actor_set_flipped",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,c=e.getFieldValue(a,"FLIPPED");return l.n("setActorFlipped",[l.o(r),l.o(c)])}),e.insertBlockSnippetGenerator("actor_check_if_flipped",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,c=e.getFieldValue(a,"FLIPPED");return l.s("checkIfActorFlipped",[l.o(r),l.o(c)])}),e.insertBlockSnippetGenerator("actor_move_z_index",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,c=e.getFieldValue(a,"MOVE_TYPE");return l.n("moveActorZIndex",[l.o(r),l.o(c)])}),e.insertBlockSnippetGenerator("actor_previous_next_style",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,c=e.getFieldValue(a,"DIRECTION");if(!c)return"";var s="random"===c?l.o("random"):"next"===c?"1":"-1";return l.n("changeActorStyle",[l.o(r),s])}),e.insertBlockSnippetGenerator("actor_set_current_style",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,c=e.getFieldValue(a,"ACTOR_ACTION_ID"),s=e.getFieldValue(a,"ACTOR_STYLE_ID");return c&&s?l.n("setActorStyle",[l.o(r),l.o(s),l.o(c)]):""}),e.insertBlockSnippetGenerator("actor_action_input",function(t,n){var o=t.blocks[n];return JSON.stringify(e.getFieldValue(o,"ACTOR_ACTION_ID"))}),e.insertBlockSnippetGenerator("actor_style_input",function(t,n){var o=t.blocks[n];return JSON.stringify(e.getFieldValue(o,"ACTOR_STYLE_ID"))}),e.insertBlockSnippetGenerator("actor_set_current_style_embed",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,c=e.valueToCode(n,o,"ACTOR_ACTION_WRAPPER",e.ORDER_FUNCTION_CALL),s=e.valueToCode(n,o,"ACTOR_STYLE_WRAPPER",e.ORDER_FUNCTION_CALL);return c?l.l(l.n("setActorStyle",[l.o(r),s,c]),a,e):""}),e.insertBlockSnippetGenerator("actor_show_dialog",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,c=e.getFieldValue(a,"TYPE");if(!c)return"";var s=e.valueToCode(n,o,"TEXT",e.ORDER_FUNCTION_CALL);return l.l(l.n("talk"===c?"showActorTalkDialog":"showActorThinkDialog",[l.o(r),s]),a,e)}),e.insertBlockSnippetGenerator("actor_show_dialog_in_time",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,c=e.getFieldValue(a,"TYPE");if(!c)return"";var s=e.valueToCode(n,o,"TEXT",e.ORDER_FUNCTION_CALL),u=e.valueToCode(n,o,"SECONDS",e.ORDER_FUNCTION_CALL);return l.l(l.n("talk"===c?"showActorTalkDialog":"showActorThinkDialog",[l.o(r),s,u]),a,e)}),e.insertBlockSnippetGenerator("actor_check_if_pressed",function(e,n){var o=t(e,n).widgetId;return l.s("checkIfActorPressed",[l.o(o)])}),e.insertBlockSnippetGenerator("actor_check_if_bumped",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,c=e.getFieldValue(a,"BUMP_TYPE")||"",s="checkIfActorBumpedStageMouse";return c.startsWith("ACTOR_")?s="checkIfActorBumpedActor":c.startsWith("__boundary_")&&(s="checkIfActorBumpedBoundary"),l.s(s,[l.o(r),l.o(c)])}),e.insertBlockSnippetGenerator("actor_check_if_left",function(n,o){var i=t(n,o),a=i.block,r=i.widgetId,c=e.getFieldValue(a,"LEAVE_TYPE")||"";return l.s("checkIfActorLeftBoundary",[l.o(r),l.o(c)])}),e.insertBlockSnippetGenerator("actor_get_style_index",function(e,n){var o=t(e,n).widgetId;return l.s("getActorStyleIndex",[l.o(o)])}),e.insertBlockSnippetGenerator("actor_get_action_name",function(e,n){var o=t(e,n).widgetId;return l.s("getActorActionName",[l.o(o)])})},setBlockGroupProfile:function(e,t){var n,o,s="%{BKY_BLOCK_TAB_ICON}",h={type:"field_coco_dropdown",custom:!0,name:"WIDGET_ID",options:function(){return r.c().getWidgetListByType(u.a)}};function f(e){if(!t.events.is_undoing()){var n,o,i=this.source_block;i&&("true"===e?null!=(n=i.addMutation)&&n.call(i):null!=(o=i.removeMutation)&&o.call(i))}}var b='<shadow type="math_number"><field name="NUM" constraints="1,,1">2</field></shadow>';function O(){var e,t,o,a=n||(null==(e=this.source_block)?void 0:e.get_field_value("WIDGET_ID"))||(null==(t=this.source_block)||null==(o=t.get_parent())?void 0:o.get_field_value("WIDGET_ID"))||i.a();return r.c().getActorActionList(a)}function C(e){var t,i,l,s,u=this.source_block,d=n||(null==u?void 0:u.get_field_value("WIDGET_ID"))||(null==u||null==(t=u.get_parent())?void 0:t.get_field_value("WIDGET_ID")),p=r.c().getActorStyleList(d,e),g=null==u?void 0:u.get_field("ACTOR_STYLE_ID");if(!g){var E=null==u?void 0:u.get_parent(),T=m.getActorStyleInputField(E);T&&(g=T)}if(!(null==p?void 0:p.length))return null!=(i=g)&&i.set_value(a.c),null!=(l=g)&&l.set_text(a.b),void(null==(s=g)||s.force_rerender());var v=p[0],h=v.text||a.b,f=v.value||a.c;e!==a.c&&g&&(o=e,g.set_value(f),g.set_text(h),g.force_rerender(),o=void 0,n=void 0);var b=null==u?void 0:u.get_shadow_field("ACTION_INTERVAL"),O=d?c.Cb(d):void 0;if(O&&b){var C=O.attributes.actionList.find(function(t){return t.id===e});C&&(b.set_value((void 0===C.interval?200:C.interval).toString()),b.force_rerender())}}function I(e){var t,o,i,l,c,s,u=this.source_block,d=r.c().getActorActionList(e),p=null==u?void 0:u.get_field("ACTOR_ACTION_ID");if(!p){var g=m.getActorActionInputField(u);g&&(p=g)}if(!function(e,t){var n=e.source_block;if(((null==n?void 0:n.get_children())||[]).length>0){var o=m.getActorActionInputField(n),i=m.getActorStyleInputField(n);o&&(null!=o&&o.set_value(a.c),null!=o&&o.set_text(a.b),null!=o&&o.force_rerender()),i&&(null!=i&&i.set_value(a.c),null!=i&&i.set_text(a.b),null!=i&&i.force_rerender())}}(this),!(null==d?void 0:d.length))return null!=(t=p)&&t.set_value(a.c),null!=(o=p)&&o.set_text(a.b),void(null==(i=p)||i.force_rerender());var E=d[0],T=E.text||a.b,v=E.value||a.c;p&&(n=e,null!=(l=p)&&l.set_value(v),null!=(c=p)&&c.set_text(T),null!=(s=p)&&s.force_rerender())}t.extensions.register_mutator("ACTOR_PLAY_ACTION_MUTATOR",{updateShape_:function(e){var n=this.get_input("PLAY_COUNT");"true"===e?n||(this.append_shadow_input("PLAY_COUNT",b,4).set_check("Number"),this.append_dummy_input("PLAY_TIME",5).append_field(t.Msg.PLAY_TIME)):n&&(this.remove_input("PLAY_COUNT"),this.remove_input("PLAY_TIME"))},addMutation:function(e){var n=this;l.b.call(this,"PLAY_COUNT",function(){var e=n.append_value_input("PLAY_COUNT",4).set_check("Number");return n.append_dummy_input("PLAY_TIME",5).append_field(t.Msg.PLAY_TIME),e},b,e)},removeMutation:function(){var e=this;l.t.call(this,"PLAY_COUNT","NUM",function(){e.remove_input("PLAY_COUNT"),e.remove_input("PLAY_TIME")})},domToMutation:function(){this.cacheId={};var e,t=null==(e=this.get_field("CYCLIC_FLAG"))?void 0:e.get_value();this.updateShape_("true"===t?"true":"false")},mutationToDom:function(){var e,t=document.createElement("mutation"),n=null==(e=this.get_field("CYCLIC_FLAG"))?void 0:e.get_value();return t.setAttribute("pos",n||"true"),t}}),e.insertBlockProfile("actor_play_action",{type:"actor_play_action",message0:"%{BKY_ACTOR_PLAY_ACTION}",args0:[d.a(d.a({},h),{},{optOnchange:I}),{type:"field_coco_dropdown",custom:!0,name:"ACTOR_ACTION_ID",options:O,optOnchange:C},{type:"input_value",name:"ACTION_INTERVAL",check:["Number"]},{type:"field_coco_dropdown",name:"CYCLIC_FLAG",custom:!0,optOnchange:f,options:function(){return[[t.Msg.PLAY_CIRCULARLY,"true"],[t.Msg.PLAY_INFINITELY,"false"]]}}],message1:"%{BKY_ACTOR_PLAY_COUNT}",args1:[{type:"input_value",name:"PLAY_COUNT",check:["Number"]}],message2:"%{BKY_PLAY_TIME} %1",args2:[{type:"input_dummy",name:"PLAY_TIME"}],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0,previousStatement:!0,nextStatement:!0,mutator:"ACTOR_PLAY_ACTION_MUTATOR"}),e.insertBlockProfile("actor_play_action_and_wait",{type:"actor_play_action_and_wait",message0:"%{BKY_ACTOR_PLAY_ACTION_AND_WAIT}",args0:[d.a(d.a({},h),{},{optOnchange:I}),{type:"field_coco_dropdown",custom:!0,name:"ACTOR_ACTION_ID",options:O,optOnchange:C},{type:"input_value",name:"ACTION_INTERVAL",check:["Number"]},{type:"input_value",name:"PLAY_COUNT",check:["Number"]}],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0,previousStatement:!0,nextStatement:!0}),e.insertBlockProfile("action_interval",{type:"action_interval",message0:"%1",args0:[{type:"field_coco_number_dropdown",name:"INTERVAL",custom:!0,get_options:function(){return[{value:100},{value:200},{value:500},{value:1e3}]},numberOptions:{opt_max:p.b,opt_min:p.d,opt_value:200,opt_precision:1}}],output:"Number",tooltip:"动作时间"}),e.insertBlockProfile("actor_play_action_embed",{type:"actor_play_action_embed",message0:"%{BKY_ACTOR_PLAY_ACTION}",args0:[d.a(d.a({},h),{},{optOnchange:I}),{type:"input_value",name:"ACTOR_ACTION_WRAPPER",check:["String"]},{type:"input_value",name:"ACTION_INTERVAL",check:["Number"]},{type:"field_coco_dropdown",name:"CYCLIC_FLAG",custom:!0,optOnchange:f,options:function(){return[[t.Msg.PLAY_CIRCULARLY,"true"],[t.Msg.PLAY_INFINITELY,"false"]]}}],message1:"%{BKY_ACTOR_PLAY_COUNT}",args1:[{type:"input_value",name:"PLAY_COUNT",check:["Number"]}],message2:"%{BKY_PLAY_TIME} %1",args2:[{type:"input_dummy",name:"PLAY_TIME"}],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0,previousStatement:!0,nextStatement:!0,mutator:"ACTOR_PLAY_ACTION_MUTATOR"}),e.insertBlockProfile("actor_play_action_and_wait_embed",{type:"actor_play_action_and_wait_embed",message0:"%{BKY_ACTOR_PLAY_ACTION_AND_WAIT}",args0:[d.a(d.a({},h),{},{optOnchange:I}),{type:"input_value",name:"ACTOR_ACTION_WRAPPER",check:["String"]},{type:"input_value",name:"ACTION_INTERVAL",check:["Number"]},{type:"input_value",name:"PLAY_COUNT",check:["Number"]}],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0,previousStatement:!0,nextStatement:!0}),e.insertBlockProfile("actor_play_action_dropdown",{type:"actor_play_action_dropdown",message0:"%{BKY_ACTOR_PLAY_ACTION}",args0:[d.a(d.a({},h),{},{optOnchange:I}),{type:"input_value",name:"ACTOR_ACTION_WRAPPER",check:["String"]},{type:"input_value",name:"ACTION_INTERVAL",check:["Number"]},{type:"field_coco_dropdown",name:"CYCLIC_FLAG",custom:!0,optOnchange:f,options:function(){return[[t.Msg.PLAY_CIRCULARLY,"true"],[t.Msg.PLAY_INFINITELY,"false"]]}}],message1:"%{BKY_ACTOR_PLAY_COUNT}",args1:[{type:"input_value",name:"PLAY_COUNT",check:["Number"]}],message2:"%{BKY_PLAY_TIME} %1",args2:[{type:"input_dummy",name:"PLAY_TIME"}],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0,previousStatement:!0,nextStatement:!0,mutator:"ACTOR_PLAY_ACTION_MUTATOR"}),e.insertBlockProfile("actor_play_action_and_wait_dropdown",{type:"actor_play_action_and_wait_dropdown",message0:"%{BKY_ACTOR_PLAY_ACTION_AND_WAIT}",args0:[d.a(d.a({},h),{},{optOnchange:I}),{type:"input_value",name:"ACTOR_ACTION_WRAPPER",check:["String"]},{type:"input_value",name:"ACTION_INTERVAL",check:["Number"]},{type:"input_value",name:"PLAY_COUNT",check:["Number"]}],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0,previousStatement:!0,nextStatement:!0}),e.insertBlockProfile("actor_stop_action",{type:"actor_stop_action",message0:"%{BKY_ACTOR_STOP_ACTION}",args0:[d.a({},h)],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0,previousStatement:!0,nextStatement:!0}),e.insertBlockProfile("actor_on_actor_bump",{type:"actor_on_actor_bump",message0:"%{BKY_ACTOR_ON_ACTOR_BUMP_MSG0}",args0:[l.e(s,!0),d.a({},h),{type:"field_coco_dropdown",name:"BUMP_TYPE",custom:!0,advancedOptions:function(){return[g(t),{type:"group",name:t.Msg.ACTOR,options:r.c().getWidgetListByType(u.a)},{type:"basic",text:t.Msg.TOUCH_POINT,value:"__mouse"}]}}],message1:"%{BKY_ACTOR_ON_ACTOR_BUMP_MSG1}",args1:[{type:"input_statement",name:"DO"}],colour:"%{BKY_EVENTS_HUE}",inputsInline:!0}),e.insertBlockProfile("actor_on_actor_leave",{type:"actor_on_actor_leave",message0:"%{BKY_ACTOR_ON_ACTOR_LEAVE_MSG0}",args0:[l.e(s,!0),d.a({},h),{type:"field_coco_dropdown",name:"LEAVE_TYPE",custom:!0,advancedOptions:function(){return E(t)}}],message1:"%{BKY_ACTOR_ON_ACTOR_BUMP_MSG1}",args1:[{type:"input_statement",name:"DO"}],colour:"%{BKY_EVENTS_HUE}",inputsInline:!0}),e.insertBlockProfile("actor_on_actor_press",{type:"actor_on_actor_press",message0:"%{BKY_ACTOR_ON_ACTOR_PRESS_MSG0}",args0:[l.e(s,!0),d.a({},h),{type:"field_coco_dropdown",name:"PRESS_EVENT",custom:!0,options:function(){return[[t.Msg.PRESS,"press"],[t.Msg.PRESS_IN,"pressIn"],[t.Msg.PRESS_HOLD,"pressHold"],[t.Msg.PRESS_OUT,"pressOut"]]}},{type:"input_value",name:"POSITION_X",align:"CENTRE",check:["Number"],default_shadow:'<shadow type="actor_on_actor_press_positionX" />'},{type:"input_value",name:"POSITION_Y",align:"CENTRE",check:["Number"],default_shadow:'<shadow type="actor_on_actor_press_positionY" />'}],message1:"%{BKY_ACTOR_ON_ACTOR_PRESS_MSG1}",args1:[{type:"input_statement",name:"DO",provided_context:"actor_on_actor_press_DO"}],colour:"%{BKY_EVENTS_HUE}",inputsInline:!0}),e.insertBlockProfile("actor_on_actor_press_positionX",{type:"actor_on_actor_press_positionX",message0:"%{BKY_PARAM_POSITION_X}",output:"Number",required_context:"actor_on_actor_press_DO",colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("actor_on_actor_press_positionY",{type:"actor_on_actor_press_positionY",message0:"%{BKY_PARAM_POSITION_Y}",output:"Number",required_context:"actor_on_actor_press_DO",colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("actor_rotate",{type:"actor_rotate",message0:"%{BKY_ACTOR_ROTATE}",args0:[d.a({},h),{type:"input_value",name:"NUM",check:["Number"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("actor_move_forward",{type:"actor_move_forward",message0:"%{BKY_ACTOR_MOVE_FORWARD}",args0:[d.a({},h),{type:"input_value",name:"NUM",check:["Number"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("actor_set_rotation",{type:"actor_set_rotation",message0:"%{BKY_ACTOR_SET_ROTATION}",args0:[d.a({},h),{type:"input_value",name:"NUM",check:["Number"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("actor_face_to",{type:"actor_face_to",message0:"%{BKY_ACTOR_FACE_TO}",args0:[d.a({},h),{type:"field_coco_dropdown",name:"TARGET",custom:!0,advancedOptions:function(){return[{type:"basic",text:t.Msg.TOUCH_POINT,value:"__mouse"},{type:"group",name:t.Msg.ACTOR,options:r.c().getWidgetListByType(u.a)},{type:"group",name:t.Msg.BRUSH,options:r.c().getWidgetListByType(u.c)},{type:"basic",text:t.Msg.RANDOM,value:"__random"}]}}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("actor_rotate_around",{type:"actor_rotate_around",message0:"%{BKY_ACTOR_ROTATE_AROUND}",args0:[d.a({},h),{type:"field_coco_dropdown",name:"TARGET",custom:!0,advancedOptions:function(){return[{type:"group",name:t.Msg.ACTOR,options:r.c().getWidgetListByType(u.a)},{type:"group",name:t.Msg.BRUSH,options:r.c().getWidgetListByType(u.c)}]}},{type:"input_value",name:"NUM",check:["Number"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("actor_move_to_position",{type:"actor_move_to_position",message0:"%{BKY_ACTOR_MOVE_TO_POSITION}",args0:[d.a({},h),{type:"input_value",name:"X",check:["Number"]},{type:"input_value",name:"Y",check:["Number"]}],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0,previousStatement:!0,nextStatement:!0}),e.insertBlockProfile("actor_move_to",{type:"actor_move_to",message0:"%{BKY_ACTOR_MOVE_TO}",args0:[d.a({},h),{type:"field_coco_dropdown",name:"TARGET",custom:!0,options:function(){return[[t.Msg.TOUCH_POINT,"__mouse"],{type:"group",name:t.Msg.ACTOR,options:r.c().getWidgetListByType(u.a)},{type:"group",name:t.Msg.BRUSH,options:r.c().getWidgetListByType(u.c)},[t.Msg.RANDOM,"__random"]]}}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("actor_set_position",{type:"actor_set_position",message0:"%{BKY_ACTOR_SET_PROPERTY}",args0:[d.a({},h),{type:"field_coco_dropdown",name:"POSITION_TYPE",custom:!0,options:[[t.Msg.POSITION_X,"positionX"],[t.Msg.POSITION_Y,"positionY"]]},{type:"input_value",name:"NUM",check:["Number"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("actor_change_position",{type:"actor_change_position",message0:"%{BKY_ACTOR_CHANGE_POSITION}",args0:[d.a({},h),{type:"field_coco_dropdown",name:"POSITION_TYPE",custom:!0,options:[[t.Msg.POSITION_X,"positionX"],[t.Msg.POSITION_Y,"positionY"]]},{type:"field_coco_dropdown",custom:!0,name:"METHOD",options:function(){return[[t.Msg.INCREASE,"increase"],[t.Msg.DECREASE,"decrease"]]}},{type:"input_value",name:"NUM",check:["Number"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("actor_move_to_position_in_time",{type:"actor_move_to_position_in_time",message0:"%{BKY_ACTOR_CHANGE_POSITION_IN_TIME}",args0:[d.a({},h),{type:"input_value",name:"SECONDS",check:["Number"]},{type:"input_value",name:"X",check:["Number"]},{type:"input_value",name:"Y",check:["Number"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("actor_change_position_type_in_time",{type:"actor_change_position_type_in_time",message0:"%{BKY_ACTOR_CHANGE_POSITION_TYPE_IN_TIME}",args0:[d.a({},h),{type:"input_value",name:"SECONDS",check:["Number"]},{type:"field_coco_dropdown",name:"POSITION_TYPE",custom:!0,options:[[t.Msg.POSITION_X,"positionX"],[t.Msg.POSITION_Y,"positionY"]]},{type:"field_coco_dropdown",custom:!0,name:"METHOD",options:function(){return[[t.Msg.INCREASE,"increase"],[t.Msg.DECREASE,"decrease"]]}},{type:"input_value",name:"NUM",check:["Number"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("actor_set_visible",{type:"actor_set_visible",message0:"%{BKY_ACTOR_SET_VISIBLE}",args0:[d.a({},h),{type:"field_coco_dropdown",name:"DISPLAY",custom:!0,options:[[t.Msg.SHOW,"show"],[t.Msg.HIDE,"hide"]]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}"}),e.insertBlockProfile("actor_show_hide_in_time",{type:"actor_show_hide_in_time",message0:"%{BKY_ACTOR_SHOW_HIDE_IN_TIME}",args0:[d.a({},h),{type:"input_value",name:"SECONDS",check:["Number"]},{type:"field_coco_dropdown",name:"DISPLAY",custom:!0,options:[[t.Msg.FADE_IN,"show"],[t.Msg.FADE_OUT,"hide"]]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}"}),e.insertBlockProfile("actor_move_z_index",{type:"actor_move_z_index",message0:"%{BKY_ACTOR_MOVE_Z_INDEX}",args0:[d.a({},h),{type:"field_coco_dropdown",name:"MOVE_TYPE",custom:!0,options:[[t.Msg.MOVE_UP,"up"],[t.Msg.MOVE_DOWN,"down"],[t.Msg.MOVE_TOP,"top"],[t.Msg.MOVE_BOTTOM,"bottom"]]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("actor_set_scale",{type:"actor_set_scale",message0:"%{BKY_ACTOR_SET_SCALE}",args0:[d.a({},h),{type:"input_value",name:"NUM",check:["Number"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("actor_change_scale",{type:"actor_change_scale",message0:"%{BKY_ACTOR_CHANGE_SCALE}",args0:[d.a({},h),{type:"field_coco_dropdown",custom:!0,name:"METHOD",options:function(){return[[t.Msg.INCREASE,"increase"],[t.Msg.DECREASE,"decrease"]]}},{type:"input_value",name:"NUM",check:["Number"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("actor_set_scale_with_section",{type:"actor_set_scale_with_section",message0:"%{BKY_ACTOR_SET_SCALE_WITH_SECTION}",args0:[d.a({},h),T(t),{type:"input_value",name:"NUM",check:["Number"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("actor_change_scale_with_section",{type:"actor_change_scale_with_section",message0:"%{BKY_ACTOR_CHANGE_SCALE_WITH_SECTION}",args0:[d.a({},h),T(t),v(t),{type:"input_value",name:"NUM",check:["Number"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("actor_change_opacity",{type:"actor_change_opacity",message0:"%{BKY_ACTOR_CHANGE_OPACITY}",args0:[d.a({},h),v(t),{type:"input_value",name:"NUM",check:["Number"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("actor_set_flipped",{type:"actor_set_flipped",message0:"%{BKY_ACTOR_SET_FLIPPED}",args0:[d.a({},h),{type:"field_coco_dropdown",custom:!0,name:"FLIPPED",options:function(){return[[t.Msg.HORIZONTAL_FLIPPED,"horizontal"],[t.Msg.VERTICAL_FLIPPED,"vertical"]]}}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("actor_check_if_flipped",{type:"actor_check_if_flipped",message0:"%{BKY_ACTOR_CHECK_IF_FLIPPED}",args0:[d.a({},h),{type:"field_coco_dropdown",custom:!0,name:"FLIPPED",options:function(){return[[t.Msg.HORIZONTAL_FLIPPED,"horizontal"],[t.Msg.VERTICAL_FLIPPED,"vertical"]]}}],output:"Boolean",colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("actor_get_action_name",{type:"actor_get_action_name",message0:"%{BKY_ACTOR_GET_ACTION_NAME}",args0:[d.a({},h)],output:"String",colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("actor_get_style_index",{type:"actor_get_style_index",message0:"%{BKY_ACTOR_GET_STYLE_INDEX}",args0:[d.a({},h)],output:"Number",colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("actor_show_dialog",{type:"actor_show_dialog",message0:"%{BKY_ACTOR_SHOW_DIALOG}",args0:[d.a({},h),{type:"field_coco_dropdown",custom:!0,name:"TYPE",options:function(){return[[t.Msg.ACTOR_TALK,"talk"],[t.Msg.ACTOR_THINK,"think"]]}},{type:"input_value",name:"TEXT",check:["Number","String","Boolean"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("actor_show_dialog_in_time",{type:"actor_show_dialog_in_time",message0:"%{BKY_ACTOR_SHOW_DIALOG_IN_TIME}",args0:[d.a({},h),{type:"field_coco_dropdown",custom:!0,name:"TYPE",options:function(){return[[t.Msg.ACTOR_TALK,"talk"],[t.Msg.ACTOR_THINK,"think"]]}},{type:"input_value",name:"TEXT",check:["Number","String","Boolean"]},{type:"input_value",name:"SECONDS",check:["Number"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("actor_get_property",{type:"actor_get_property",message0:"%{BKY_ACTOR_GET_PROPERTY}",args0:[d.a({},h),{type:"field_coco_dropdown",name:"PROPERTY",custom:!0,options:[[t.Msg.SCALE,"scale"],[t.Msg.DEGREE,"degree"],[t.Msg.ACTOR_STYLE,"style"]]}],output:["Number"],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("actor_get_rotation",{type:"actor_get_rotation",message0:"%{BKY_ACTOR_GET_ROTATION}",args0:[d.a({},h)],output:["Number"],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("actor_get_scale_with_section",{type:"actor_get_scale_with_section",message0:"%{BKY_ACTOR_GET_SCALE_WITH_SECTION}",args0:[d.a({},h),T(t)],output:["Number"],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("actor_get_position",{type:"actor_get_position",message0:"%{BKY_ACTOR_GET_PROPERTY}",args0:[d.a({},h),{type:"field_coco_dropdown",name:"POSITION_TYPE",custom:!0,options:[[t.Msg.POSITION_X,"positionX"],[t.Msg.POSITION_Y,"positionY"]]}],output:["String","Number"],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("actor_previous_next_style",{type:"actor_previous_next_style",message0:"%{BKY_ACTOR_PREVIOUS_NEXT_STYLE}",args0:[d.a({},h),{type:"field_coco_dropdown",custom:!0,name:"DIRECTION",options:function(){return[[t.Msg.ACTOR_NEXT_ONE,"next"],[t.Msg.ACTOR_PREVIOUS_ONE,"previous"],[t.Msg.RANDOM,"random"]]}}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("actor_action_input",{type:"actor_action_input",message0:"%1",args0:[{type:"field_coco_dropdown",custom:!0,name:"ACTOR_ACTION_ID",options:O,optOnchange:C}],colour:"#ffffff",output:"String",tooltip:"%{BKY_ACTOR_SET_CURRENT_ACTION_TOOLTIP}"}),e.insertBlockProfile("actor_style_input",{type:"actor_style_input",message0:"%1",args0:[{type:"field_coco_dropdown",custom:!0,name:"ACTOR_STYLE_ID",options:function(){var e=n||(null==(a=this.source_block)||null==(l=a.get_parent())?void 0:l.get_field_value("WIDGET_ID"))||i.a(),t=o||(null==(s=this.source_block)?void 0:s.get_field_value("ACTOR_ACTION_ID"));if(!t){var a,l,s,u,d=null==(u=this.source_block)?void 0:u.get_parent(),p=((null==d?void 0:d.get_children())||[]).find(function(e){return"actor_action_input"===e.type});p&&(t=p.get_field_value("ACTOR_ACTION_ID"))}var m=r.c().getActorStyleList(e,t);return e&&c.Cb(e)?m:m.slice(0,1)}}],colour:"#ffffff",output:"Number",tooltip:"%{BKY_ACTOR_SET_CURRENT_STYLE_TOOLTIP}"}),e.insertBlockProfile("actor_set_current_style",{type:"actor_set_current_style",message0:"%{BKY_ACTOR_SET_CURRENT_STYLE}",args0:[{type:"field_coco_dropdown",custom:!0,name:"WIDGET_ID",options:function(){return r.c().getWidgetListByType(u.a)},optOnchange:I},{type:"field_coco_dropdown",custom:!0,name:"ACTOR_ACTION_ID",options:O,optOnchange:C},{type:"field_coco_dropdown",custom:!0,name:"ACTOR_STYLE_ID",options:function(){var e,t,a=n||(null==(e=this.source_block)?void 0:e.get_field_value("WIDGET_ID"))||i.a(),l=o||(null==(t=this.source_block)?void 0:t.get_field_value("ACTOR_ACTION_ID")),s=r.c().getActorStyleList(a,l);return a&&c.Cb(a)?s:s.slice(0,1)}}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("actor_set_current_style_embed",{type:"actor_set_current_style_embed",message0:"%{BKY_ACTOR_SET_CURRENT_STYLE}",args0:[{type:"field_coco_dropdown",custom:!0,name:"WIDGET_ID",options:function(){return r.c().getWidgetListByType(u.a)},optOnchange:I},{type:"input_value",name:"ACTOR_ACTION_WRAPPER",check:["String"]},{type:"input_value",name:"ACTOR_STYLE_WRAPPER",check:["Number"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0,extensions:["UPDATE_ACTION_AFTER_SELECT_ACTOR"]}),e.insertBlockProfile("actor_check_if_pressed",{type:"actor_check_if_pressed",message0:"%{BKY_ACTOR_CHECK_IF_PRESSED}",args0:[{type:"field_coco_dropdown",custom:!0,name:"WIDGET_ID",options:function(){return r.c().getWidgetListByType(u.a)},optOnchange:I}],output:"Boolean",colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("actor_check_if_bumped",{type:"actor_check_if_bumped",message0:"%{BKY_ACTOR_CHECK_IF_BUMPED}",args0:[{type:"field_coco_dropdown",custom:!0,name:"WIDGET_ID",options:function(){return r.c().getWidgetListByType(u.a)},optOnchange:I},{type:"field_coco_dropdown",name:"BUMP_TYPE",custom:!0,advancedOptions:function(){return[g(t),{type:"group",name:t.Msg.ACTOR,options:r.c().getWidgetListByType(u.a)},{type:"basic",text:t.Msg.TOUCH_POINT,value:"__mouse"}]}}],output:"Boolean",colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("actor_check_if_left",{type:"actor_check_if_left",message0:"%{BKY_ACTOR_CHECK_IF_LEFT}",args0:[{type:"field_coco_dropdown",custom:!0,name:"WIDGET_ID",options:function(){return r.c().getWidgetListByType(u.a)},optOnchange:I},{type:"field_coco_dropdown",name:"LEAVE_TYPE",custom:!0,advancedOptions:function(){return E(t)}}],output:"Boolean",colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0})}},renameBlocksInfo:{blocksList:["actor_on_actor_press","actor_on_actor_bump","actor_on_actor_leave","actor_move_forward","actor_rotate","actor_set_rotation","actor_face_to","actor_move_to_position","actor_move_to","actor_set_position","actor_change_position","actor_move_to_position_in_time","actor_change_position_type_in_time","actor_set_current_style","actor_set_current_style_embed","actor_previous_next_style","actor_set_scale","actor_change_scale","actor_set_visible","actor_show_hide_in_time","actor_get_position","actor_get_property","actor_show_dialog_in_time","actor_show_dialog","actor_check_if_pressed","actor_check_if_bumped","actor_check_if_left","actor_rotate_around","actor_set_scale_with_section","actor_change_opacity","actor_change_scale_with_section","actor_set_flipped","actor_move_z_index","actor_play_action","actor_play_action_and_wait","actor_play_action_embed","actor_play_action_and_wait_embed","actor_play_action_dropdown","actor_play_action_and_wait_dropdown","actor_stop_action","actor_get_rotation","actor_get_scale_with_section","actor_get_action_name","actor_get_style_index","actor_check_if_flipped"],fieldName:"WIDGET_ID"},topBlocks:["actor_on_actor_press","actor_on_actor_bump","actor_on_actor_leave"]},f=n(94032),b=n(39008),O=n(51877),C=n(33007),I=n(46942),S=n.n(I),y=n(95644),N=n(22827),A=n(451),k=n(34221),R=n(7452),B=n.n(R),D=n(19040),w=n(41594),L=n.n(w),P=n(6817),U=n.n(P),M={icon:"icon-widget-actor",title:"defaultActorWidgetTitle",previewAreaWidgetTitle:"actor",type:u.a,editConfig:o.Dh,isInvisibleWidget:p.g,widget:{isGlobalWidget:p.f,attributes:{scale:1,scaleAndLock:{x:1,y:1,ratio:1},selectedStyleId:"",rotation:0,flipped:{vertical:!1,horizontal:!1},actionList:[],pivotToCenter:{x:0,y:0}}},blockConfig:h,component:function(e){var t,n,o=e.id,i=e.opacity,a=e.position,r=e.visible,l=e.parentId,s=e.zIndex,u=void 0===s?0:s,d=e.attributes,m=d.actionList,g=d.scale,E=d.flipped,T=d.scaleAndLock,v=d.rotation,h=d.selectedStyleId,I=d.pivotToCenter,R=(0,w.useRef)(!1),P=(0,w.useRef)(T),M=(0,w.useState)(!0),Y=A.a(M,2),x=Y[0],G=Y[1],K=y.a().formatMessage,W=(0,D.useSelector)(function(e){return e.project.selectedWidgetId}),F=(0,D.useDispatch)(),V=W===o,H=(0,w.useState)(2),X=A.a(H,2),z=X[0],j=X[1],q=(0,w.useState)({x:0,y:0}),Z=A.a(q,2),Q=Z[0],J=Z[1],$=(0,w.useState)({width:0,height:0,translateX:0,translateY:0,angle:0}),ee=A.a($,2),et=ee[0],en=ee[1],eo=(0,w.useState)(!1),ei=A.a(eo,2),ea=ei[0],er=ei[1],e_=(0,w.useCallback)((t=k.a(B().mark(function e(t,n){var o,i;return B().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=[],i=[],m.forEach(function(e){e.styleList.forEach(function(e){var t=e.id,n={id:t,source:c.mb(e.source)||""};i.push(t),o.push(n)})}),o.unshift(p.h),n.get_style_ids().forEach(function(e){i.includes(e)||n.remove_style(e)}),e.abrupt("return",Promise.all(o.map(function(e){return b.a(t,n,e)})));case 7:case"end":return e.stop()}},e)})),function(e,n){return t.apply(this,arguments)}),[m]),el=(0,w.useCallback)((n=k.a(B().mark(function e(t){var n,i,r,c,s;return B().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(l){e.next=2;break}return e.abrupt("return");case 2:if(!(0,(i=t.actors.get_actor(o)).is_error)(r=i.value)){e.next=11;break}if(!(0,(c=t.actors.load_actor({actor_id:o,parent_scene_id:l})).is_error)(s=c.value)){e.next=8;break}return console.error("ActorWidget load_actor error"),e.abrupt("return");case 8:n=s,e.next=12;break;case 11:n=r;case 12:return G(!0),e.next=15,e_(t,n);case 15:b.c(t,o,a,I,g,v,E,T),t.render(),G(!1);case 18:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)}),[l,o,e_]);(0,w.useEffect)(function(){P.current=T},[T]),(0,w.useEffect)(function(){var e=f.b(o);e&&el(e)},[o,el]),(0,w.useEffect)(function(){if(!x){var e=f.b(o);if(e){var t=e.actors.get_actor(o),n=t.is_error,i=t.value;if(!n(i)){var a=h||p.i;i.set_current_style(a),e.render(),a!==p.i&&R.current&&(setTimeout(function(){var t=i.get_width(),n=i.get_height(),a=(e.get_view_size().width-20/z)/t,r=(e.get_view_size().height-20/z)/n;if(a<1||r<1){var l=Math.min(a,r),c=P.current;c&&F(O.Lg(o,"scaleAndLock",{x:c.x*l,y:c.x*l,ratio:c.ratio}))}},80),R.current=!1),a===p.i&&(R.current=!0)}}}},[F,o,x,h,z]),(0,w.useEffect)(function(){if(!x){var e=f.b(o);e&&b.k(e,o,r)}},[o,x,r]),(0,w.useEffect)(function(){if(!x){var e=f.b(o);e&&b.i(e,o,v)}},[o,x,v]),(0,w.useEffect)(function(){if(!x){var e=f.b(o);e&&b.h(e,o,a)}},[o,x,a]),(0,w.useEffect)(function(){if(!x){var e=f.b(o);e&&b.e(e,o,I)}},[o,x,I]),(0,w.useEffect)(function(){if(!x){var e=f.b(o);e&&(T?b.j(e,o,T.x,T.y):F(O.Lg(o,"scaleAndLock",{x:g||1,y:g||1,ratio:1})))}},[o,x,T]),(0,w.useEffect)(function(){if(!x){var e=f.b(o);e&&b.g(e,o,i)}},[o,x,i]),(0,w.useEffect)(function(){if(!x){var e=f.b(o);e&&E&&b.f(e,o,E)}},[o,x,E]),(0,w.useEffect)(function(){if(!x){var e=f.b(o);if(e){var t=e.actors.get_actor(o),n=t.is_error,i=t.value;n(i)||(i.set_z_index(u),e.render())}}},[o,x,u]),(0,w.useEffect)(function(){if(W===o){var e=f.b(o),t=null==e?void 0:e.components.get_editor();null!=t&&t.set_btns_visible(!0),null!=t&&t.set_target_actor(o)}},[o,W,x]),(0,w.useEffect)(function(){var e=f.b(o);if(e){var t=function(e){o===e.target_id&&er(!1)},n=function(e){o===e.target_id&&er(!0)},i=function(e){o===e.target_id&&er(!0)},a=function(e){o===e.target_id&&er(!1)},r=function(e){o===e.target_id&&er(!0)},l=function(e){o===e.target_id&&er(!1)},c=e.events;return c.add_listener("actor:drag_start",n),c.add_listener("actor:drag_end",t),c.add_listener("editor_scale_btn:drag_start",i),c.add_listener("editor_scale_btn:drag_end",a),c.add_listener("editor_rotate_btn:drag_start",r),c.add_listener("editor_rotate_btn:drag_end",l),function(){c.remove_listener("actor:drag_start",n),c.remove_listener("actor:drag_end",t),c.remove_listener("editor_scale_btn:drag_start",i),c.remove_listener("editor_scale_btn:drag_end",a),c.remove_listener("editor_rotate_btn:drag_start",r),c.remove_listener("editor_rotate_btn:drag_end",l)}}},[o,F]),(0,w.useEffect)(function(){if(l){var e=c.Cb(l);if(e){var t=f.b(o);if(t){var n=t.actors.get_actor(o),i=n.is_error,r=n.value;if(i(r))console.error("Get actor error");else{var s=e.size,u=s.width,d=s.height,p=e.attributes.coordinateRatio,m=void 0===p?2:p;J({x:u/2+a.x/m,y:d/2-a.y/m}),j(m);var g=Math.max(r.get_width(),54)/m,E=Math.max(r.get_height(),54)/m,T=r.get_position(),v=r.get_center_position(),h=r.get_rotation();en({width:g,height:E,translateX:(v.x-T.x)/m,translateY:(T.y-v.y)/m,angle:Math.round(-180*h/Math.PI)})}}}}},[a,I,v,g,h,x,l,o]),(0,w.useEffect)(function(){var e=document.querySelector("#".concat(l,'[data-role="WIDGET"]'));e instanceof HTMLDivElement&&(ea?e.classList.add("actor-moving"):e.classList.remove("actor-moving"))},[ea,l]);var ec=(0,D.useSelector)(function(e){return e.common.widgetAttributeVisible});return V&&!ea&&r?L().createElement("div",{className:"actor-addon",style:{position:"absolute",left:Q.x,top:Q.y,transformOrigin:"".concat(et.translateX,"px ").concat(et.translateY,"px"),transform:"rotate(".concat(et.angle,"deg)")},id:o},L().createElement("div",{style:{position:"absolute",left:et.translateX,top:et.translateY}},L().createElement("div",{className:U().iconWrapper,style:{position:"absolute",left:et.width/2+28/z,top:-et.height/2-8/z}},L().createElement(N.a,{placement:"right",title:K({id:"actor.editProperty"}),trigger:["hover","click"]},L().createElement("div",{onClick:function(){var e=!ec;(0,D.batch)(function(){F(O.fj(e)),e&&F(O.Fj(!1))})}},L().createElement(C.j,{type:"icon-attribute",className:S()(U().iconButton,U().editIcon)}))),L().createElement(N.a,{placement:"right",title:K({id:"actor.editActionStyle"}),trigger:["hover","click"]},L().createElement("div",{onClick:function(){F(O.Dh(o))}},L().createElement(C.j,{type:"icon-edit-round",className:S()(U().iconButton,U().editStyleIcon)})))))):null}},Y=function(){return null},x={type:u.e,category:{iconId:"icon-widget-camera",blocks:u.e},getTemplate:function(e){var t='<field name="WIDGET_ID">'.concat(e,"</field>");return['<block type="camera_get_camera_take_photo" uncache="true">\n      '.concat(t,"\n    </block>"),'<block type="camera_get_camera_take_video" uncache="true">\n      '.concat(t,"\n    </block>"),'<block type="camera_get_camera_choose_photo" uncache="true">\n      '.concat(t,"\n    </block>")]},blockDeclareGroup:{setBlockGroupSnippet:function(e){e.insertBlockSnippetGenerator("camera_get_camera_take_photo",function(t,n){var o=t.blocks[n],i=l.o(o.id),a=e.valueToCode(t,n,"PHOTO",e.ORDER_FUNCTION_CALL),r=e.statementToCode(t,n,"DO");return l.j("getCameraTakePhoto",[l.k([a],r),i])}),e.insertBlockSnippetGenerator("camera_get_camera_take_video_value",function(){return"video"}),e.insertBlockSnippetGenerator("camera_get_camera_take_photo_value",function(){return"photo"}),e.insertBlockSnippetGenerator("camera_get_camera_choose_photo_value",function(){return"photo"}),e.insertBlockSnippetGenerator("camera_get_camera_take_video",function(t,n){var o=t.blocks[n],i=l.o(o.id),a=e.valueToCode(t,n,"VIDEO",e.ORDER_FUNCTION_CALL),r=e.statementToCode(t,n,"DO");return l.n("getCameraTakeVideo",[l.k([a],r),i])}),e.insertBlockSnippetGenerator("camera_get_camera_choose_photo",function(t,n){var o=t.blocks[n],i=l.o(o.id),a=e.valueToCode(t,n,"PHOTO",e.ORDER_FUNCTION_CALL),r=e.statementToCode(t,n,"DO");return l.j("getCameraChoosePhoto",[l.k([a],r),i])})},setBlockGroupProfile:function(e,t){e.insertBlockProfile("camera_get_camera_take_photo",{type:"camera_get_camera_take_photo",message0:"%{BKY_CAMERA_GET_CAMERA_TAKE_PHOTO}",args0:[{type:"input_value",name:"PHOTO",check:"String",align:"CENTRE",default_shadow:'<shadow type="camera_get_camera_take_photo_value" />'},{type:"input_statement",name:"DO",provided_context:"camera_get_camera_take_photo_DO"}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_SOUND_HUE}",inputsInline:!0}),e.insertBlockProfile("camera_get_camera_take_photo_value",{type:"camera_get_camera_take_photo_value",message0:"".concat(t.Msg.CAMERA_PHOTO),output:"String",required_context:"camera_get_camera_take_photo_DO",colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("camera_get_camera_take_video",{type:"camera_get_camera_take_video",message0:"%{BKY_CAMERA_GET_CAMERA_TAKE_VIDEO}",args0:[{type:"input_value",name:"VIDEO",check:"String",align:"CENTRE",default_shadow:'<shadow type="camera_get_camera_take_video_value" />'},{type:"input_statement",name:"DO",provided_context:"camera_get_camera_take_video_DO"}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_SOUND_HUE}",inputsInline:!0}),e.insertBlockProfile("camera_get_camera_take_video_value",{type:"camera_get_camera_take_video_value",message0:"".concat(t.Msg.CAMERA_VIDEO),output:"String",required_context:"camera_get_camera_take_video_DO",colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("camera_get_camera_choose_photo",{type:"camera_get_camera_choose_photo",message0:"%{BKY_CAMERA_GET_CAMERA_CHOOSE_PHOTO}",args0:[{type:"input_value",name:"PHOTO",check:"String",align:"CENTRE",default_shadow:'<shadow type="camera_get_camera_choose_photo_value" />'},{type:"input_statement",name:"DO",provided_context:"camera_get_camera_choose_photo_value_DO"}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_SOUND_HUE}",inputsInline:!0}),e.insertBlockProfile("camera_get_camera_choose_photo_value",{type:"camera_get_camera_choose_photo_value",message0:"".concat(t.Msg.CAMERA_PHOTO),output:"String",required_context:"camera_get_camera_choose_photo_value_DO",colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]})}},categoryClass:{text:"",iconId:"icon-widget-camera",blocks:[]},renameBlocksInfo:{blocksList:["camera_get_camera_take_photo","camera_get_camera_take_video","camera_get_camera_choose_photo"],fieldName:"WIDGET_ID"},topBlocks:[]},G={icon:"icon-widget-camera",title:"CameraWidget.widgetName",type:u.e,previewAreaWidgetTitle:"CameraWidget.widgetName",component:Y,editConfig:[{type:"WidgetTitle"}],blockConfig:x,isInvisibleWidget:!0,widget:{isGlobalWidget:!1,size:{width:0,height:0},attributes:{}}},K=[{type:"WidgetTitle"},{type:"AudioChangeSoundFile"},{type:"AudioVolume"},{type:"AudioRate"}]},15003(e,t,n){n.d(t,{cm:()=>C,im:()=>b,nm:()=>h});var o,i,a,r,l=n(63110),c=n(4327),s=n(74375),u=n(60096),d=n(24876),p=n(38752),m=n(94220),g=n(32919),E=n(28950),T=n(77407);(o=r||(r={})).SOUND_MAN="SOUND_MAN",o.SOUND_WOMAN="SOUND_WOMAN",o.SOUND_CHILD="SOUND_CHILD",(i=a||(a={})).SOUND_VOLUME="SOUND_VOLUME",i.SOUND_RATE="SOUND_RATE",i.INCREASE="INCREASE",i.DECREASE="DECREASE";var v={type:m.b,category:{iconId:c.c,blocks:m.b},getTemplate:function(e){var t='<field name="WIDGET_ID">'.concat(e,"</field>");return['<block type="audio_play_sound" uncache="true">\n      '.concat(t,"\n    </block>"),'<block type="audio_stop_sound" uncache="true">\n      '.concat(t,"\n    </block>"),'<block type="audio_pause_sound" uncache="true">\n      '.concat(t,"\n    </block>"),'<block type="audio_set_sound_file" uncache="true">\n      '.concat(t,'\n      <value name="SOUND_FILE_ID">\n        <shadow type="audio_sound_file_list_dropdown">\n          <field name="SOUND_FILE_ID">').concat(s.c,"</field>\n        </shadow>\n      </value>\n    </block>"),'<block type="audio_set_volume_or_rate" uncache="true">\n      '.concat(t,'\n      <value name="VALUE">\n        <shadow type="math_number">\n          <field name="NUM" constraints="0,100,1">100</field>\n        </shadow>\n      </value>\n    </block>'),'<block type="audio_change_volume_or_rate" uncache="true">\n      '.concat(t,'\n      <value name="VALUE">\n        <shadow type="math_number">\n          <field name="NUM">10</field>\n        </shadow>\n      </value>\n    </block>'),s.d,'<block type="text2speech_speak_text" uncache="true">\n      '.concat(t,'\n      <value name="VALUE">\n        <shadow type="text">\n          <field name="TEXT">').concat(p.Z.Msg.TEXT2SPEECH_DEFAULT_TEXT,"</field>\n        </shadow>\n      </value>\n    </block>"),'<block type="text2speech_speak_text_and_wait" uncache="true">\n      '.concat(t,'\n      <value name="VALUE">\n        <shadow type="text">\n          <field name="TEXT">').concat(p.Z.Msg.TEXT2SPEECH_DEFAULT_TEXT,"</field>\n        </shadow>\n      </value>\n    </block>")]},blockDeclareGroup:{setBlockGroupSnippet:function(e){e.insertBlockSnippetGenerator("audio_sound_file_list_dropdown",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"SOUND_FILE_ID")||"";return i&&i!==g.h?d.o(i):""}),e.insertBlockSnippetGenerator("audio_play_sound",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID")||"";return d.n("audioPlaySound",[d.o(i)])}),e.insertBlockSnippetGenerator("audio_stop_sound",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID")||"";return d.n("audioStopSound",[d.o(i)])}),e.insertBlockSnippetGenerator("audio_pause_sound",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID")||"";return d.n("audioPauseSound",[d.o(i)])}),e.insertBlockSnippetGenerator("audio_set_sound_file",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID")||"",a=e.valueToCode(t,n,"SOUND_FILE_ID",e.ORDER_FUNCTION_CALL);return a?d.n("audioSetSoundFile",[d.o(i),a]):(T.a.condition(!1,{type:"warning",messageId:"soundBlockNoSelectFile"}),"")}),e.insertBlockSnippetGenerator("audio_set_volume_or_rate",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID")||"",a=e.getFieldValue(o,"OP")||"",r=e.valueToCode(t,n,"VALUE",e.ORDER_FUNCTION_CALL)||"";return"SOUND_VOLUME"===a?d.n("audioSetVolume",[d.o(i),r]):d.n("audioSetRate",[d.o(i),r])}),e.insertBlockSnippetGenerator("audio_change_volume_or_rate",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID")||"",a=e.getFieldValue(o,"OP")||"",r=e.getFieldValue(o,"CHANGE")||"",l=e.valueToCode(t,n,"VALUE",e.ORDER_FUNCTION_CALL)||"";return"SOUND_VOLUME"===a?d.n("audioChangeVolume",[d.o(i),d.o(r),l]):d.n("audioChangeRate",[d.o(i),d.o(r),l])}),e.insertBlockSnippetGenerator("text2speech_speak_text",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"OP")||"",a=e.valueToCode(t,n,"VALUE",e.ORDER_FUNCTION_CALL)||"";return(a=a.replace(/[#&%]/g,"").substr(0,2048))?d.n("text2speechSpeakText",[d.o(i),a]):""}),e.insertBlockSnippetGenerator("text2speech_speak_text_and_wait",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"OP")||"",a=e.valueToCode(t,n,"VALUE",e.ORDER_FUNCTION_CALL)||"";return(a=a.replace(/[#&%]/g,"").substr(0,2048))?d.j("text2speechSpeakTextAndWait",[d.o(i),a]):""})},setBlockGroupProfile:function(e,t){var n={type:"field_coco_dropdown",name:"WIDGET_ID",custom:!0,options:function(){return u.c().getWidgetListByType(m.b)}};e.insertBlockProfile("audio_sound_file_list_dropdown",{type:"audio_sound_file_list_dropdown",message0:"%1",args0:[{type:"field_coco_dropdown",name:"SOUND_FILE_ID",custom:!0,options:function(){return u.c().getSoundFiles()}}],output:["String"]}),e.insertBlockProfile("audio_play_sound",{type:"audio_play_sound",message0:"%{BKY_AUDIO_PLAY_SOUND}",args0:[E.a({},n)],previousStatement:!0,nextStatement:!0,colour:"%{BKY_SOUND_HUE}",inputsInline:!0}),e.insertBlockProfile("audio_stop_sound",{type:"audio_stop_sound",message0:"%{BKY_AUDIO_STOP_SOUND}",args0:[E.a({},n)],previousStatement:!0,nextStatement:!0,colour:"%{BKY_SOUND_HUE}",inputsInline:!0}),e.insertBlockProfile("audio_pause_sound",{type:"audio_pause_sound",message0:"%{BKY_AUDIO_PAUSE_SOUND}",args0:[E.a({},n)],previousStatement:!0,nextStatement:!0,colour:"%{BKY_SOUND_HUE}",inputsInline:!0}),e.insertBlockProfile("audio_set_sound_file",{type:"audio_set_sound_file",message0:"%{BKY_AUDIO_SET_SOUND_FILE}",args0:[E.a({},n),{type:"input_value",name:"SOUND_FILE_ID",check:["String"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_SOUND_HUE}",inputsInline:!0}),e.insertBlockProfile("audio_set_volume_or_rate",{type:"audio_set_volume_or_rate",message0:"%{BKY_AUDIO_SET_VOLUME_OR_RATE}",args0:[E.a({},n),{type:"field_coco_dropdown",custom:!0,name:"OP",options:[["%{BKY_SOUND_VOLUME}",a.SOUND_VOLUME],["%{BKY_SOUND_RATE}",a.SOUND_RATE]],optOnchange:function(e){var t=this.source_block,n=e||(null==t?void 0:t.get_field_value("OP"))||"",o=null==t?void 0:t.get_shadow_field("VALUE");if(o&&"FieldNumber"===o.field_type){var i="SOUND_VOLUME"===n?c.f:c.d,a="SOUND_VOLUME"===n?c.g:c.e;o.set_constraints(a,i,1)}}},{type:"input_value",name:"VALUE",check:["Number"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_SOUND_HUE}",inputsInline:!0}),e.insertBlockProfile("audio_change_volume_or_rate",{type:"audio_change_volume_or_rate",message0:"%{BKY_AUDIO_CHANGE_VOLUME_OR_RATE}",args0:[E.a({},n),{type:"field_coco_dropdown",custom:!0,name:"OP",options:[["%{BKY_SOUND_VOLUME}",a.SOUND_VOLUME],["%{BKY_SOUND_RATE}",a.SOUND_RATE]]},{type:"field_coco_dropdown",custom:!0,name:"CHANGE",options:[["%{BKY_INCREASE}",a.INCREASE],["%{BKY_DECREASE}",a.DECREASE]]},{type:"input_value",name:"VALUE",check:["Number"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_SOUND_HUE}",inputsInline:!0}),e.insertBlockProfile("text2speech_speak_text",{type:"text2speech_speak_text",message0:"%{BKY_TEXT2SPEECH_SPEAK_TEXT}",args0:[{type:"field_coco_dropdown",custom:!0,name:"OP",options:[["%{BKY_SOUND_MAN}",r.SOUND_MAN],["%{BKY_SOUND_WOMAN}",r.SOUND_WOMAN],["%{BKY_SOUND_CHILD}",r.SOUND_CHILD]]},{type:"input_value",name:"VALUE",check:["String"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_SOUND_HUE}",inputsInline:!0}),e.insertBlockProfile("text2speech_speak_text_and_wait",{type:"text2speech_speak_text_and_wait",message0:"%{BKY_TEXT2SPEECH_SPEAK_TEXT_AND_WAIT}",args0:[{type:"field_coco_dropdown",custom:!0,name:"OP",options:[["%{BKY_SOUND_MAN}",r.SOUND_MAN],["%{BKY_SOUND_WOMAN}",r.SOUND_WOMAN],["%{BKY_SOUND_CHILD}",r.SOUND_CHILD]]},{type:"input_value",name:"VALUE",check:["String"]}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_SOUND_HUE}",inputsInline:!0})}},categoryClass:{text:"",iconId:c.c,blocks:[]},renameBlocksInfo:{blocksList:["audio_play_sound","audio_stop_sound","audio_pause_sound","audio_set_sound_file","audio_set_volume_or_rate","audio_change_volume_or_rate","text2speech_speak_text","text2speech_speak_text_and_wait"],fieldName:"WIDGET_ID"},topBlocks:[]},h={icon:c.c,title:"AudioWidget.widgetName",type:m.b,previewAreaWidgetTitle:"AudioWidget.widgetName",component:l.Yh,editConfig:l.Qh,blockConfig:v,isInvisibleWidget:c.b,widget:{isGlobalWidget:c.a,size:{width:0,height:0},attributes:{fileId:"",audioVolume:100,audioRate:100}}},f={type:m.t,category:{iconId:"icon-widget-gyroscope",blocks:m.t},getTemplate:function(e){var t='<field name="WIDGET_ID">'.concat(e,"</field>");return['<block type="gyroscope_on_phone_shake" uncache="true">\n      '.concat(t,"\n    </block>"),'<block type="gyroscope_phone_get_compass" uncache="true">\n      '.concat(t,"\n    </block>"),'<block type="gyroscope_phone_get_orientation_value" uncache="true">\n      '.concat(t,"\n    </block>")]},blockDeclareGroup:{setBlockGroupSnippet:function(e){e.insertBlockSnippetGenerator("gyroscope_on_phone_shake",function(t,n){var o=e.statementToCode(t,n,"DO");return o?d.n("onGyroscopePhoneShake",[d.o(e.getDynamicValue("__CURRENT_SCREEN_ID__"))],o):""}),e.insertBlockSnippetGenerator("gyroscope_phone_get_compass",function(){return d.s("getGyroscopeCompassValue")}),e.insertBlockSnippetGenerator("gyroscope_phone_get_orientation_value",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"ORIENTATION")||"";return"gravity"===(e.getFieldValue(o,"TYPE")||"")?d.s("getGyroscopeGravity".concat(i.toUpperCase())):d.s("getGyroscopeRotation".concat(i.toUpperCase()))})},setBlockGroupProfile:function(e,t){e.insertBlockProfile("gyroscope_on_phone_shake",{type:"gyroscope_on_phone_shake",message0:"%{BKY_GYROSCOPE_ON_PHONE_SHAKE}",args0:[d.e("%{BKY_BLOCK_PHONE_SHAKE_ICON}",!0),{type:"input_dummy",align:"CENTRE"},{type:"input_statement",name:"DO"}],colour:"%{BKY_EVENTS_HUE}",inputsInline:!0}),e.insertBlockProfile("gyroscope_phone_get_compass",{type:"gyroscope_phone_get_compass",message0:"%{BKY_GYROSCOPE_PHONE_GET_COMPASS}",output:["Number","String"],colour:"%{BKY_SENSING_HUE}",inputsInline:!0,tooltip:"%{BKY_GYROSCOPE_PHONE_GET_COMPASS_TOOLTIP}"}),e.insertBlockProfile("gyroscope_phone_get_orientation_value",{type:"gyroscope_phone_get_orientation_value",message0:"%{BKY_GYROSCOPE_PHONE_GET_ORIENTATION_VALUE}",args0:[{type:"field_coco_dropdown",custom:!0,name:"ORIENTATION",options:[["X","x"],["Y","y"],["Z","z"]]},{type:"field_coco_dropdown",custom:!0,name:"TYPE",options:[[t.Msg.GRAVITY,"gravity"],[t.Msg.ROTATION,"rotation"]]}],output:["Number","String"],colour:"%{BKY_SENSING_HUE}",inputsInline:!0})}},categoryClass:{text:"",iconId:"icon-widget-gyroscope",blocks:[]},renameBlocksInfo:{blocksList:["gyroscope_on_phone_shake","gyroscope_phone_get_compass","gyroscope_phone_get_orientation_value"],fieldName:"WIDGET_ID"},topBlocks:["gyroscope_on_phone_shake"]},b={icon:"icon-widget-gyroscope",title:"GyroscopeWidget.widgetName",type:m.t,previewAreaWidgetTitle:"GyroscopeWidget.widgetName",component:l.Yh,editConfig:[{type:"WidgetTitle"}],blockConfig:f,isInvisibleWidget:!0,widget:{isGlobalWidget:!1,size:{width:0,height:0},attributes:{}}},O={type:m.K,category:{iconId:"icon-widget-volume-sensor",blocks:m.K},getTemplate:function(e){var t='<field name="WIDGET_ID">'.concat(e,"</field>");return['<block type="volume_sensor_set_detection_state" uncache="true">\n      '.concat(t,"\n    </block>"),'<block type="volume_sensor_get_current_value" uncache="true">\n      '.concat(t,"\n    </block>")]},blockDeclareGroup:{setBlockGroupSnippet:function(e){e.insertBlockSnippetGenerator("volume_sensor_set_detection_state",function(t,n){var o=t.blocks[n];switch(e.getFieldValue(o,"STATE")){case"open":return d.j("startVolumeSensorDetection");case"close":return d.n("stopVolumeSensorDetection");default:return""}}),e.insertBlockSnippetGenerator("volume_sensor_get_current_value",function(){return d.s("getVolumeSensorCurrentValue")})},setBlockGroupProfile:function(e,t){e.insertBlockProfile("volume_sensor_set_detection_state",{type:"volume_sensor_set_detection_state",message0:"%{BKY_VOLUME_SENSOR_SET_DETECTION_STATE}",args0:[{type:"field_coco_dropdown",name:"STATE",custom:!0,options:function(){return[[t.Msg.OPEN,"open"],[t.Msg.CLOSE,"close"]]}}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_SENSING_HUE}",inputsInline:!0}),e.insertBlockProfile("volume_sensor_get_current_value",{type:"volume_sensor_get_current_value",message0:"%{BKY_VOLUME_SENSOR_GET_CURRENT_VALUE}",args0:[],output:"Number",colour:"%{BKY_SENSING_HUE}",inputsInline:!0})}},categoryClass:{text:"",iconId:"icon-widget-volume-sensor",blocks:[]},renameBlocksInfo:{blocksList:["volume_sensor_set_detection_state","volume_sensor_get_current_value"],fieldName:"WIDGET_ID"},topBlocks:[]},C={icon:"icon-widget-volume-sensor",title:"VolumeSensorWidget.widgetName",type:m.K,previewAreaWidgetTitle:"VolumeSensorWidget.widgetName",component:l.Yh,editConfig:[{type:"WidgetTitle"}],blockConfig:O,isInvisibleWidget:!0,widget:{isGlobalWidget:!1,size:{width:0,height:0},attributes:{}}}},30011(e,t,n){n.d(t,{hm:()=>g});var o=n(4765),i=[{type:"WidgetTitle",hasDisableOrVisible:!0},{type:"VisibleSwitch"},[{type:"Color",label:"textColor"},{type:"BackgroundColor"}],{type:"Size",sizeRange:[[o.l,o.j],[o.k,o.i]]},{type:"Coordinate"}],a=n(74375),r=n(60096),l=n(24876),c=n(94220),s=n(28950),u=n(41594),d=n.n(u),p=n(6072),m={type:c.n,category:{iconId:o.h,blocks:c.n},getTemplate:function(e){var t='<field name="WIDGET_ID">'.concat(e,"</field>");return['<block type="date_picker_on_select_done" uncache="true">\n      '.concat(t,"\n    </block>"),a.d,'<block type="date_picker_open_select_dialog" uncache="true">\n      '.concat(t,"\n    </block>"),a.d,'<block type="date_picker_get_date" uncache="true">\n      '.concat(t,"\n    </block>"),'<block type="date_picker_get_value" uncache="true">\n      '.concat(t,"\n    </block>"),a.d,a.e]},blockDeclareGroup:{setBlockGroupSnippet:function(e){e.insertBlockSnippetGenerator("date_picker_on_select_done",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID")||"",a=e.statementToCode(t,n,"DO"),r=e.valueToCode(t,n,"PARAM_DATE",e.ORDER_ATOMIC),c=e.valueToCode(t,n,"PARAM_YEAR",e.ORDER_ATOMIC),s=e.valueToCode(t,n,"PARAM_MONTH",e.ORDER_ATOMIC),u=e.valueToCode(t,n,"PARAM_DAY",e.ORDER_ATOMIC);return i&&a?l.n("argsOnDatePickerSelectDone",[l.o(i)],a,[r,c,s,u]):""}),e.insertBlockSnippetGenerator("date_picker_on_select_done_date",function(){return"date"}),e.insertBlockSnippetGenerator("date_picker_on_select_done_year",function(){return"year"}),e.insertBlockSnippetGenerator("date_picker_on_select_done_month",function(){return"month"}),e.insertBlockSnippetGenerator("date_picker_on_select_done_day",function(){return"day"}),e.insertBlockSnippetGenerator("date_picker_open_select_dialog",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID")||"";return i?l.n("openDatePickerDialog",[l.o(i)]):""}),e.insertBlockSnippetGenerator("date_picker_get_value",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID")||"";if(!i)return"";var a=e.getFieldValue(o,"TYPE");return a?l.s("getDatePickerValue",[l.o(i),l.o(a)]):""}),e.insertBlockSnippetGenerator("date_picker_get_date",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID")||"";return i?l.s("getDatePickerDate",[l.o(i)]):""})},setBlockGroupProfile:function(e,t){var n={type:"field_coco_dropdown",name:"WIDGET_ID",custom:!0,options:function(){return r.c().getWidgetListByType(c.n)}};e.insertBlockProfile("date_picker_on_select_done",{type:"date_picker_on_select_done",message0:"%{BKY_DATE_PICKER_ON_SELECT_DONE}",args0:[l.e("%{BKY_BLOCK_TAB_ICON}",!0),s.a({},n),{type:"input_value",name:"PARAM_DATE",align:"CENTRE",default_shadow:'<shadow type="date_picker_on_select_done_date" />'},{type:"input_value",name:"PARAM_YEAR",align:"CENTRE",default_shadow:'<shadow type="date_picker_on_select_done_year" />'},{type:"input_value",name:"PARAM_MONTH",align:"CENTRE",default_shadow:'<shadow type="date_picker_on_select_done_month" />'},{type:"input_value",name:"PARAM_DAY",align:"CENTRE",default_shadow:'<shadow type="date_picker_on_select_done_day" />'},{type:"input_statement",name:"DO",provided_context:"date_picker_on_select_done_DO"}],colour:"%{BKY_EVENTS_HUE}",inputsInline:!0}),e.insertBlockProfile("date_picker_on_select_done_date",{type:"date_picker_on_select_done_date",message0:"%{BKY_DATE_OBJECT}",output:["String"],required_context:"date_picker_on_select_done_DO",colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("date_picker_on_select_done_year",{type:"date_picker_on_select_done_year",message0:"%{BKY_YEAR}",output:["Number"],required_context:"date_picker_on_select_done_DO",colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("date_picker_on_select_done_month",{type:"date_picker_on_select_done_month",message0:"%{BKY_MONTH}",output:["Number"],required_context:"date_picker_on_select_done_DO",colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("date_picker_on_select_done_day",{type:"date_picker_on_select_done_day",message0:"%{BKY_DATE}",output:["Number"],required_context:"date_picker_on_select_done_DO",colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("date_picker_open_select_dialog",{type:"date_picker_open_select_dialog",message0:"%{BKY_DATE_PICKER_OPEN_SELECT_DIALOG}",args0:[s.a({},n)],previousStatement:!0,nextStatement:!0,colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("date_picker_get_value",{type:"date_picker_get_value",message0:"%1 %{BKY_OF} %2",args0:[s.a({},n),{type:"field_coco_dropdown",name:"TYPE",custom:!0,options:function(){return[[t.Msg.YEAR,"year"],[t.Msg.MONTH,"month"],[t.Msg.DATE,"date"]]}}],output:["Number"],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0}),e.insertBlockProfile("date_picker_get_date",{type:"date_picker_get_date",message0:"%{BKY_DATE_PICKER_GET_DATE}",args0:[s.a({},n)],output:["String"],colour:"%{BKY_APPEARANCE_HUE}",inputsInline:!0})}},categoryClass:{text:"",iconId:o.h,blocks:[]},renameBlocksInfo:{blocksList:["date_picker_on_select_done","date_picker_open_select_dialog","date_picker_get_value","date_picker_get_date"],fieldName:"WIDGET_ID"},topBlocks:["date_picker_on_select_done"]},g={icon:o.h,title:"DatePickerWidget.widgetName",type:c.n,previewAreaWidgetTitle:"DatePickerWidget.widgetName",component:function(e){var t=e.onChange;return d().createElement(p.a,Object.assign({},e,{onDatePickerChange:function(e){t&&t("timeStamp",new Date(e).getTime())}}))},editConfig:i,blockConfig:m,isInvisibleWidget:o.f,widget:{isGlobalWidget:o.e,size:{width:o.g,height:o.d},attributes:{timeStamp:0,fontSize:o.c,color:o.b,backgroundColor:o.a}}}},38278(e,t,n){n.d(t,{gm:()=>i});var o=n(25926),i=[{type:"WidgetTitle",hasDisableOrVisible:!0},{type:"VisibleSwitch"},[{type:"Color",label:"textColor"},{type:"BackgroundColor"}],{type:"Size",sizeRange:[[o.l,o.j],[o.k,o.i]]},{type:"Coordinate"}]},10032(e,t,n){n.d(t,{Bm:()=>y,Pm:()=>S,eg:()=>U,qm:()=>L,tg:()=>M,zm:()=>D});var o,i,a,r,l=n(63110),c=n(25255),s=n(74375),u=n(60096),d=n(24876),p=n(38752),m=n(94220),g=n(32919),E=n(28950),T=n(69878);(o=a||(a={}))[o.SUCCESS=1]="SUCCESS",o[o.FAILED=2]="FAILED";var v={failedStatement_:0,successStatement_:0,successConnection:null,failedConnection:null,addMutation:function(e){var t=!1,n=e;if(!n&&(this.successStatement_?this.failedStatement_||(n=a.FAILED):n=a.SUCCESS),n===a.SUCCESS?(t=!0,this.successStatement_=1,n=a.SUCCESS):n===a.FAILED&&(t=!0,this.failedStatement_=1,n=a.FAILED),t&&(this.updateShape_(),p.Z.events.is_enabled())){var o=d.c("mutation",{block:this,old_value:void 0,new_value:n});p.Z.events.fire(o)}},removeMutation:function(e){var t=!1,n=e||a.SUCCESS;if(n===a.FAILED?(this.failedStatement_=0,t=!0):n===a.SUCCESS&&(this.successStatement_=0,t=!0),t&&(this.updateShape_(),p.Z.events.is_enabled())){var o=d.c("mutation",{block:this,old_value:n,new_value:void 0});p.Z.events.fire(o)}},updateShape_:function(){var e=this;if(p.Z.events.disable(),this.get_input("ERROR_MSG")&&this.remove_input("ERROR_MSG"),this.get_input("FAILED_TEXT")&&this.remove_input("FAILED_TEXT"),this.get_input("FAILED_MUTATION_BTN")&&this.remove_input("FAILED_MUTATION_BTN"),this.successInputList.forEach(function(t){var n=t.inputName;e.get_input(n)&&e.remove_input(n)}),p.Z.events.enable(),this.get_input("ERROR")?(this.failedConnection=null==(t=this.get_input("ERROR"))||null==(n=t.connection)?void 0:n.target_connection,this.failedStatement_?(p.Z.events.disable(),this.remove_input("ERROR"),p.Z.events.enable()):this.remove_input("ERROR")):this.failedConnection=null,this.get_input("SUCCESS")?(this.successConnection=null==(o=this.get_input("SUCCESS"))||null==(i=o.connection)?void 0:i.target_connection,this.successStatement_?(p.Z.events.disable(),this.remove_input("SUCCESS"),p.Z.events.enable()):this.remove_input("SUCCESS")):this.successConnection=null,p.Z.events.disable(),this.get_input("SUCCESS_TEXT")&&this.remove_input("SUCCESS_TEXT"),this.get_input("SUCCESS_MUTATION_BTN")&&this.remove_input("SUCCESS_MUTATION_BTN"),this.append_dummy_input("SUCCESS_MUTATION_BTN"),this.successStatement_){this.append_dummy_input("SUCCESS_TEXT","SUCCESS_MUTATION_BTN").append_field(p.Z.Msg.ROOM_SUCCESS_TEXT),this.successInputList.forEach(function(t){var n=t.inputName,o=t.default_shadow;e.append_shadow_input(n,o,"SUCCESS_MUTATION_BTN")});var t,n,o,i,r,l,c,s,u,m,g=this.append_statement_input("SUCCESS",void 0,"".concat("cloud_room_success_DO","_").concat(this.successDO));this.successConnection&&null!=(m=g.connection)&&m.connect(this.successConnection)}if(this.failedStatement_){this.get_input("FAILED_MUTATION_BTN")&&this.remove_input("FAILED_MUTATION_BTN"),this.append_dummy_input("FAILED_MUTATION_BTN"),this.append_dummy_input("FAILED_TEXT","FAILED_MUTATION_BTN").append_field(p.Z.Msg.ROOM_FAILED_TEXT),this.append_shadow_input("ERROR_MSG",'<shadow type="room_error"/>',"FAILED_MUTATION_BTN");var E,T=this.append_statement_input("ERROR",void 0,"cloud_room_error_DO");this.failedConnection&&null!=(E=T.connection)&&E.connect(this.failedConnection)}this.successStatement_&&null!=(r=this.get_input("SUCCESS_MUTATION_BTN"))&&r.append_field(d.q(a.SUCCESS),"mutation_remove_button"),this.failedStatement_&&null!=(l=this.get_input("FAILED_MUTATION_BTN"))&&l.append_field(d.q(a.FAILED),"mutation_remove_button"),this.successStatement_||(this.failedStatement_?null!=(c=this.get_input("FAILED_MUTATION_BTN"))&&c.append_field(d.p(),"mutation_add_button"):null!=(s=this.get_input("SUCCESS_MUTATION_BTN"))&&s.append_field(d.p(),"mutation_add_button")),!this.failedStatement_&&this.successStatement_&&null!=(u=this.get_input("SUCCESS_MUTATION_BTN"))&&u.append_field(d.p(),""),p.Z.events.enable(),this.render()},domToMutation:function(e){this.successStatement_=parseInt(e.getAttribute("success_statement")||"0"),this.failedStatement_=parseInt(e.getAttribute("failed_statement")||"0"),this.updateShape_()},mutationToDom:function(){var e=document.createElement("mutation");return e.setAttribute("failed_statement",String(this.failedStatement_)),e.setAttribute("success_statement",String(this.successStatement_)),e}},h=Object.assign({},v,{successInputList:[{inputName:"CREATED_NAME",default_shadow:'<shadow type="room_enter_room_name">\n        </shadow>'},{inputName:"USERS",default_shadow:'<shadow type="room_enter_room_users">\n        </shadow>'}],successDO:"ENTER_ROOM"}),f=Object.assign({},v,{successInputList:[{inputName:"CREATED_NAME",default_shadow:'<shadow type="room_create_room_name" />'}],successDO:"CREATED_NAME"}),b=Object.assign({},v,{successInputList:[{inputName:"NAME",default_shadow:'<shadow type="room_nickname">\n        </shadow>'}],successDO:"NICKNAME"}),O=Object.assign({},v,{successInputList:[{inputName:"ROOMS_LIST",default_shadow:'<shadow type="room_room_list">\n        </shadow>'},{inputName:"USERS",default_shadow:'<shadow type="room_user_list">\n        </shadow>'}],successDO:"ROOM_LIST"}),C="%{BKY_BLOCK_CLOUD_ICON}",I={type:m.i,category:{iconId:"icon-widget-cloud-room",blocks:m.i},getTemplate:function(e){var t='<field name="WIDGET_ID">'.concat(e,"</field>");return['<block type="room_receive_message" uncache="true">\n      '.concat(t,'\n      <value name="MESSAGE_LIST">\n        <shadow type="array_get"></shadow>\n      </value>\n    </block>'),'<block type="room_receive_room_info" uncache="true">\n      '.concat(t,"\n    </block>"),'<block type="room_network_error" uncache="true">\n      '.concat(t,"\n    </block>"),s.d,'<block type="room_create_room" uncache="true">\n      '.concat(t,'\n      <value name="ROOM_NAME">\n        <shadow type="text">\n          <field name="TEXT" >').concat(p.Z.Msg.ROOM_DEFAULT_ROOM_NAME,'</field>\n        </shadow>\n      </value>\n      <value name="COUNT">\n        <shadow type="math_number">\n            <field name="NUM" constraints=\'1,20,1\'>2</field>\n        </shadow>\n      </value>\n    </block>'),'<block type="room_create_nickname" uncache="true">\n      '.concat(t,'\n      <value name="NICKNAME">\n        <shadow type="text">\n          <field name="TEXT">').concat(p.Z.Msg.ROOM_DEFAULT_NICKNAME,"</field>\n        </shadow>\n      </value>\n    </block>"),'<block type="room_get_room_list" uncache="true">\n      '.concat(t,"\n    </block>"),'<block type="room_enter_room" uncache="true">\n      '.concat(t,'\n      <value name="ROOM_NAME">\n        <shadow type="text">\n          <field name="TEXT">').concat(p.Z.Msg.ROOM_NAME,"</field>\n        </shadow>\n      </value>\n    </block>"),'<block type="room_send_message" uncache="true">\n      '.concat(t,'\n      <value name="MESSAGE">\n        <shadow type="array_get"></shadow>\n      </value>\n    </block>'),'<block type="room_exit_room" uncache="true">\n      '.concat(t,"\n    </block>"),s.d,'<block type="room_get_current_room_name" uncache="true">\n      '.concat(t,"\n    </block>"),'<block type="room_get_current_online_users" uncache="true">\n      '.concat(t,"\n    </block>")]},blockDeclareGroup:{setBlockGroupSnippet:function(e){e.insertBlockSnippetGenerator("room_create_room",function(t,n){var o=e.valueToCode(t,n,"ROOM_NAME",e.ORDER_FUNCTION_CALL),i=e.valueToCode(t,n,"COUNT",e.ORDER_FUNCTION_CALL),a=e.valueToCode(t,n,"CREATED_NAME",e.ORDER_FUNCTION_CALL),r=e.valueToCode(t,n,"USERS",e.ORDER_FUNCTION_CALL),l=e.statementToCode(t,n,"SUCCESS"),c=e.valueToCode(t,n,"ERROR_MSG",e.ORDER_FUNCTION_CALL),s=e.statementToCode(t,n,"ERROR");return d.l(d.j("createRoom",[o,i,d.k([a,r],l),d.k([c],s)]),t.blocks[n],e,!0)}),e.insertBlockSnippetGenerator("room_enter_room_name",function(){return"roomEnterRoomName"}),e.insertBlockSnippetGenerator("room_network_error_value",function(){return"roomNetworkErrorValue"}),e.insertBlockSnippetGenerator("room_enter_room_users",function(){return"roomEnterRoomUsers"}),e.insertBlockSnippetGenerator("room_create_nickname",function(t,n){var o=e.valueToCode(t,n,"NICKNAME",e.ORDER_FUNCTION_CALL),i=e.statementToCode(t,n,"SUCCESS"),a=e.valueToCode(t,n,"NAME",e.ORDER_FUNCTION_CALL),r=e.valueToCode(t,n,"ERROR_MSG",e.ORDER_FUNCTION_CALL),l=e.statementToCode(t,n,"ERROR");return d.l(d.j("setRoomNickname",[o,d.k([a],i),d.k([r],l)]),t.blocks[n],e,!0)}),e.insertBlockSnippetGenerator("room_info",function(t,n){var o=e.valueToCode(t,n,"ROOM_NAME",e.ORDER_FUNCTION_CALL),i=e.valueToCode(t,n,"USERS",e.ORDER_FUNCTION_CALL),a=e.statementToCode(t,n,"success");return a?d.l(d.j("EnterRoom",[o,i],a),t.blocks[n],e,!0):""}),e.insertBlockSnippetGenerator("room_user",function(){return"user"}),e.insertBlockSnippetGenerator("room_message",function(){return"message"}),e.insertBlockSnippetGenerator("room_nickname",function(){return"nickname"}),e.insertBlockSnippetGenerator("room_create_room_users",function(){return"users"}),e.insertBlockSnippetGenerator("room_room_list",function(){return"roomList"}),e.insertBlockSnippetGenerator("room_user_list",function(){return"roomUsers"}),e.insertBlockSnippetGenerator("room_error",function(){return"error"});var t=function(t,n){var o=T.a(n),i=o.blockId&&t.blocks[o.blockId];return i&&e.getFieldValue(i,"ARRAY")||""};e.insertBlockSnippetGenerator("room_get_room_list",function(t,n){var o=e.valueToCode(t,n,"ROOMS_LIST",e.ORDER_FUNCTION_CALL),i=e.valueToCode(t,n,"USERS",e.ORDER_FUNCTION_CALL),a=e.statementToCode(t,n,"SUCCESS"),r=e.valueToCode(t,n,"ERROR_MSG",e.ORDER_FUNCTION_CALL),l=e.statementToCode(t,n,"ERROR");return d.j("roomsList",[d.k([o,i],a),d.k([r],l)])}),e.insertBlockSnippetGenerator("room_enter_room",function(t,n){var o=e.valueToCode(t,n,"ROOM_NAME",e.ORDER_FUNCTION_CALL),i=e.valueToCode(t,n,"CREATED_NAME",e.ORDER_FUNCTION_CALL),a=e.valueToCode(t,n,"USERS",e.ORDER_FUNCTION_CALL),r=e.statementToCode(t,n,"SUCCESS"),l=e.valueToCode(t,n,"ERROR_MSG",e.ORDER_FUNCTION_CALL),c=e.statementToCode(t,n,"ERROR");return d.l(d.j("joinRoom",[o,d.k([i,a],r),d.k([l],c)]),t.blocks[n],e,!0)}),e.insertBlockSnippetGenerator("room_send_message",function(n,o){var i=e.valueToCode(n,o,"MESSAGE",e.ORDER_FUNCTION_CALL),a=t(n,i);return d.l(d.j("sendRoomMessage",[JSON.stringify(a),i]),n.blocks[o],e,!0)}),e.insertBlockSnippetGenerator("room_receive_message",function(n,o){var i=e.valueToCode(n,o,"MESSAGE_LIST",e.ORDER_FUNCTION_CALL),a=e.statementToCode(n,o,"DO"),r=t(n,i),l="".concat(d.a,"msgList"),c=[d.n("setVariableValue",[JSON.stringify(r),l]),a].join(";\n");return d.n("argsOnRoomMessage",[JSON.stringify(r),d.k([l],c)])}),e.insertBlockSnippetGenerator("room_receive_room_info",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"ROOM_INFO")||"",a=e.valueToCode(t,n,"USER",e.ORDER_FUNCTION_CALL),r=e.statementToCode(t,n,"DO");return d.n("argsOnRoom".concat(i),[d.k([a],r)])}),e.insertBlockSnippetGenerator("room_network_error",function(t,n){var o=e.valueToCode(t,n,"NETWORK_ERROR",e.ORDER_FUNCTION_CALL),i=e.statementToCode(t,n,"DO");return d.n("onRoomError",[d.k([o],i)])}),e.insertBlockSnippetGenerator("room_exit_room",function(){return d.j("leaveRoom")}),e.insertBlockSnippetGenerator("room_get_current_room_name",function(){return d.r("getCurrentRoomName")}),e.insertBlockSnippetGenerator("room_get_current_online_users",function(){return d.r("getCurrentRoomMembers")})},setBlockGroupProfile:function(e,t){t.extensions.register_mutator("room_enter_room_toggle_statement",h),t.extensions.register_mutator("room_create_room_toggle_statement",f),t.extensions.register_mutator("room_create_nickname_toggle_statement",b),t.extensions.register_mutator("room_get_room_list_toggle_statement",O),e.insertBlockProfile("room_create_room",{type:"room_create_room",message0:"%{BKY_ROOM_CREATE_ROOM}",args0:[{type:"input_value",name:"ROOM_NAME",check:"String",align:"CENTRE"},{type:"input_value",align:"CENTRE",name:"COUNT",check:"Number"},{type:"mutation_add_button",name:"mutation_add_button"},{type:"input_dummy",name:"SUCCESS_MUTATION_BTN"}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_CONTROL_HUE}",inputsInline:!0,mutator:"room_create_room_toggle_statement"}),e.insertBlockProfile("room_create_room_name",{type:"room_create_room_name",message0:"".concat(t.Msg.ROOM_DEFAULT_ROOM_NAME),output:"String",required_context:"cloud_room_success_DO",colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("room_create_nickname",{type:"room_create_nickname",message0:"%{BKY_ROOM_CREATE_NICKNAME}",args0:[{type:"input_value",name:"NICKNAME",check:"String",align:"CENTRE"},{type:"mutation_add_button",name:"mutation_add_button"},{type:"input_dummy",name:"SUCCESS_MUTATION_BTN"}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_CONTROL_HUE}",inputsInline:!0,mutator:"room_create_nickname_toggle_statement"}),e.insertBlockProfile("room_get_room_list",{type:"room_get_room_list",message0:"%{BKY_ROOM_GET_ROOM_LIST}",args0:[{type:"input_dummy",name:"PLACEHOLDER"},{type:"mutation_add_button",name:"mutation_add_button"},{type:"input_dummy",name:"SUCCESS_MUTATION_BTN"}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_CONTROL_HUE}",inputsInline:!0,mutator:"room_get_room_list_toggle_statement"}),e.insertBlockProfile("room_enter_room",{type:"room_enter_room",message0:"%{BKY_ROOM_ENTER_ROOM}",args0:[{type:"input_value",name:"ROOM_NAME",check:"String",align:"CENTRE"},{type:"mutation_add_button",name:"mutation_add_button"},{type:"input_dummy",name:"SUCCESS_MUTATION_BTN"}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_CONTROL_HUE}",inputsInline:!0,mutator:"room_enter_room_toggle_statement"}),e.insertBlockProfile("room_send_message",{type:"room_send_message",message0:"%{BKY_ROOM_SEND_MESSAGE}",args0:[{type:"input_value",name:"MESSAGE",check:["Array"],align:"CENTRE"}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_CONTROL_HUE}",inputsInline:!0}),e.insertBlockProfile("room_receive_message",{type:"room_receive_message",message0:"%{BKY_ROOM_RECEIVE_MESSAGE}",args0:[d.e(C,!0),{type:"input_value",name:"MESSAGE_LIST",check:["Array"]},{type:"input_dummy",align:"CENTRE"},{type:"input_statement",name:"DO"}],colour:"%{BKY_EVENTS_HUE}",inputsInline:!0}),e.insertBlockProfile("room_message",{type:"room_message",message0:"".concat(t.Msg.ROOM_MESSAGE),output:"String",required_context:"room_receive_message_DO",colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("room_error",{type:"room_error",message0:"".concat(t.Msg.ROOM_DEFAULT_CREATE_ERROR),output:"String",required_context:"room_error_DO",colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("room_create_room_name",{type:"room_create_room_name",message0:"".concat(t.Msg.ROOM_DEFAULT_ROOM_NAME),output:"String",required_context:"".concat("cloud_room_success_DO","_CREATED_NAME"),colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("room_enter_room_name",{type:"room_enter_room_name",message0:"".concat(t.Msg.ROOM_DEFAULT_ROOM_NAME),output:"String",required_context:"".concat("cloud_room_success_DO","_ENTER_ROOM"),colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("room_enter_room_users",{type:"room_enter_room_users",message0:"".concat(t.Msg.ROOM_USERS),output:"String",required_context:"".concat("cloud_room_success_DO","_ENTER_ROOM"),colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("room_nickname",{type:"room_nickname",message0:"".concat(t.Msg.ROOM_DEFAULT_NICKNAME),output:"String",required_context:"".concat("cloud_room_success_DO","_NICKNAME"),colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("room_room_list",{type:"room_room_list",message0:"".concat(t.Msg.ROOM_LIST),output:["Array"],required_context:"".concat("cloud_room_success_DO","_ROOM_LIST"),colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("room_user_list",{type:"room_user_list",message0:"".concat(t.Msg.ROOM_GET_ONLINE_USERS),output:["Array"],required_context:"".concat("cloud_room_success_DO","_ROOM_LIST"),colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("room_receive_room_info",{type:"room_receive_room_info",message0:"%{BKY_ROOM_RECEIVE_ROOM_INFO}",args0:[d.e(C,!0),{type:"field_coco_dropdown",name:"ROOM_INFO",custom:!0,options:function(){return[[t.Msg.ROOM_ENTER,"MemberJoin"],[t.Msg.ROOM_EXIT,"MemberLeave"]]}},{type:"input_value",name:"USER",check:"String",default_shadow:'<shadow type="room_user" />'},{type:"input_dummy",align:"CENTRE"},{type:"input_statement",name:"DO",provided_context:"room_receive_room_info_DO"}],colour:"%{BKY_EVENTS_HUE}",inputsInline:!0}),e.insertBlockProfile("room_user",{type:"room_user",message0:"".concat(t.Msg.ROOM_USER_NAME),output:"String",required_context:"room_receive_room_info_DO",colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("room_network_error",{type:"room_network_error",message0:"%{BKY_ROOM_NETWORK_ERROR}",args0:[d.e(C,!0),{type:"input_value",name:"NETWORK_ERROR",default_shadow:'<shadow type="room_network_error_value" />'},{type:"input_dummy",align:"CENTRE"},{type:"input_statement",name:"DO",provided_context:"room_network_error_DO"}],colour:"%{BKY_EVENTS_HUE}",inputsInline:!0}),e.insertBlockProfile("room_network_error_value",{type:"room_network_error_value",message0:"".concat(t.Msg.ROOM_ERROR_INFO),output:"String",required_context:"room_network_error_DO",colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("room_error",{type:"room_error",message0:"".concat(t.Msg.ROOM_DEFAULT_CREATE_ERROR),output:"String",required_context:"cloud_room_error_DO",colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("room_exit_room",{type:"room_exit_room",message0:"%{BKY_ROOM_EXIT_ROOM}",args0:[],previousStatement:!0,nextStatement:!0,colour:"%{BKY_CONTROL_HUE}",inputsInline:!0}),e.insertBlockProfile("room_get_current_room_name",{type:"room_get_current_room_name",message0:"%{BKY_ROOM_CURRENT_ROOM_NAME}",args0:[],output:"String",colour:"%{BKY_CONTROL_HUE}",inputsInline:!0}),e.insertBlockProfile("room_get_current_online_users",{type:"room_get_current_online_users",message0:"%{BKY_ROOM_CURRENT_ROOM_USERS}",args0:[],output:["Array"],colour:"%{BKY_CONTROL_HUE}",inputsInline:!0})}},categoryClass:{text:"",iconId:"icon-widget-cloud-room",blocks:[]},renameBlocksInfo:{blocksList:["room_receive_room_info","room_network_error","room_receive_message","room_create_room","room_create_nickname","room_enter_room","room_get_room_list","room_send_message","room_exit_room","room_get_current_room_name","room_get_current_online_users"],fieldName:"WIDGET_ID"},topBlocks:["room_receive_room_info","room_network_error","room_receive_message"]},S={icon:"icon-widget-cloud-room",title:"CloudRoomWidget.widgetName",type:m.i,previewAreaWidgetTitle:"CloudRoomWidget.widgetName",component:l.Yh,editConfig:c.Am,blockConfig:I,isInvisibleWidget:!0,widget:{isGlobalWidget:!0,size:{width:0,height:0},attributes:{}}},y=[{type:"WarningFields",url:"https://codemao-guide.yuque.com/bfiekm/sbo5kh/cloud-table",label:"云数据表"},{type:"WidgetTitle"},{type:"CloudDbList"},{type:"HelpUrl",url:"https://codemao-guide.yuque.com/bfiekm/sbo5kh/cloud-db"}];(i=r||(r={}))[i.SUCCESS=1]="SUCCESS",i[i.FAILED=2]="FAILED";var N={failedStatement_:0,successStatement_:0,successConnection:null,failedConnection:null,addMutation:function(e){var t=!1,n=e;if(!n&&(this.successStatement_?this.failedStatement_||(n=r.FAILED):n=r.SUCCESS),n===r.SUCCESS?(t=!0,this.successStatement_=1,n=r.SUCCESS):n===r.FAILED&&(t=!0,this.failedStatement_=1,n=r.FAILED),t&&(this.updateShape_(),p.Z.events.is_enabled())){var o=d.c("mutation",{block:this,old_value:void 0,new_value:n});p.Z.events.fire(o)}},removeMutation:function(e){var t=!1,n=e||r.SUCCESS;if(n===r.FAILED?(this.failedStatement_=0,t=!0):n===r.SUCCESS&&(this.successStatement_=0,t=!0),t&&(this.updateShape_(),p.Z.events.is_enabled())){var o=d.c("mutation",{block:this,old_value:n,new_value:void 0});p.Z.events.fire(o)}},updateShape_:function(){var e=this;if(p.Z.events.disable(),this.get_input("ERROR_MSG")&&this.remove_input("ERROR_MSG"),this.get_input("FAILED_TEXT")&&this.remove_input("FAILED_TEXT"),this.get_input("FAILED_MUTATION_BTN")&&this.remove_input("FAILED_MUTATION_BTN"),this.successInputList.forEach(function(t){var n=t.inputName;e.get_input(n)&&e.remove_input(n)}),p.Z.events.enable(),this.get_input("ERROR")?(this.failedConnection=null==(t=this.get_input("ERROR"))||null==(n=t.connection)?void 0:n.target_connection,this.failedStatement_?(p.Z.events.disable(),this.remove_input("ERROR"),p.Z.events.enable()):this.remove_input("ERROR")):this.failedConnection=null,this.get_input("SUCCESS")?(this.successConnection=null==(o=this.get_input("SUCCESS"))||null==(i=o.connection)?void 0:i.target_connection,this.successStatement_?(p.Z.events.disable(),this.remove_input("SUCCESS"),p.Z.events.enable()):this.remove_input("SUCCESS")):this.successConnection=null,p.Z.events.disable(),this.get_input("SUCCESS_TEXT")&&this.remove_input("SUCCESS_TEXT"),this.get_input("SUCCESS_MUTATION_BTN")&&this.remove_input("SUCCESS_MUTATION_BTN"),this.append_dummy_input("SUCCESS_MUTATION_BTN"),this.successStatement_){this.append_dummy_input("SUCCESS_TEXT","SUCCESS_MUTATION_BTN").append_field(p.Z.Msg.ROOM_SUCCESS_TEXT),this.successInputList.forEach(function(t){var n=t.inputName,o=t.default_shadow;e.append_shadow_input(n,o,"SUCCESS_MUTATION_BTN")});var t,n,o,i,a,l,c,s,u,m,g=this.append_statement_input("SUCCESS",void 0,"".concat("cloudDB_success_DO","_").concat(this.successDO));this.successConnection&&null!=(m=g.connection)&&m.connect(this.successConnection)}if(this.failedStatement_){this.get_input("FAILED_MUTATION_BTN")&&this.remove_input("FAILED_MUTATION_BTN"),this.append_dummy_input("FAILED_MUTATION_BTN"),this.append_dummy_input("FAILED_TEXT","FAILED_MUTATION_BTN").append_field(p.Z.Msg.ROOM_FAILED_TEXT),this.append_shadow_input("ERROR_MSG",'<shadow type="cloudDB_fail_result"/>',"FAILED_MUTATION_BTN");var E,T=this.append_statement_input("ERROR",void 0,"cloudDB_error_DO");this.failedConnection&&null!=(E=T.connection)&&E.connect(this.failedConnection)}this.successStatement_&&null!=(a=this.get_input("SUCCESS_MUTATION_BTN"))&&a.append_field(d.q(r.SUCCESS),"mutation_remove_button"),this.failedStatement_&&null!=(l=this.get_input("FAILED_MUTATION_BTN"))&&l.append_field(d.q(r.FAILED),"mutation_remove_button"),this.successStatement_||(this.failedStatement_?null!=(c=this.get_input("FAILED_MUTATION_BTN"))&&c.append_field(d.p(),"mutation_add_button"):null!=(s=this.get_input("SUCCESS_MUTATION_BTN"))&&s.append_field(d.p(),"mutation_add_button")),!this.failedStatement_&&this.successStatement_&&null!=(u=this.get_input("SUCCESS_MUTATION_BTN"))&&u.append_field(d.p(),""),p.Z.events.enable(),this.render()},domToMutation:function(e){this.successStatement_=parseInt(e.getAttribute("success_statement")||"0"),this.failedStatement_=parseInt(e.getAttribute("failed_statement")||"0"),this.updateShape_()},mutationToDom:function(){var e=document.createElement("mutation");return e.setAttribute("failed_statement",String(this.failedStatement_)),e.setAttribute("success_statement",String(this.successStatement_)),e}},A=Object.assign({},N,{successInputList:[],successDO:"NEXT"}),k=Object.assign({},N,{successInputList:[{inputName:"CLOUD_DB_QUERY_BY_COLUMN_RESULT",default_shadow:'<shadow type="cloudDB_query_by_column_result">\n        </shadow>'}],successDO:"QUERY_BY_COLUMN"}),R=Object.assign({},N,{successInputList:[{inputName:"CLOUD_DB_QUERY_BY_COUNT_RESULT",default_shadow:'<shadow type="cloudDB_query_by_count_result">\n        </shadow>'}],successDO:"QUERY_BY_COUNT"}),B={type:m.h,category:{iconId:"icon-widget-cloud-db",blocks:m.h},getTemplate:function(e){var t='<field name="WIDGET_ID">'.concat(e,"</field>"),n=u.c().getCloudDBColumnList(e)[0].value,o='<field name="COLUMNS">'.concat(n,"</field>");return['<block type="cloudDB_error"></block>',s.d,'<block type="cloudDB_insert" uncache="true">\n      <value name="INSERT_ROW">\n        <shadow type="text">\n          <field name="TEXT" >1,2,3</field>\n        </shadow>\n      </value>\n      '.concat(t,"\n    </block>"),'<block type="cloudDB_delete" uncache="true">\n      '.concat(t,'\n      <value name="INPUT_COLUMN">\n        <shadow type="cloudDB_all_column_dropdown">').concat(o,'</shadow>\n      </value>\n      <value name="COLUMN_VALUE">\n        <shadow type="math_number">\n          <field name="NUM" allow_text="true">123</field>\n        </shadow>\n      </value>\n    </block>'),'<block type="cloudDB_update" uncache="true">\n      '.concat(t,'\n      <value name="INPUT_COLUMN">\n        <shadow type="cloudDB_all_column_dropdown">').concat(o,'</shadow>\n      </value>\n      <value name="COLUMN_VALUE">\n        <shadow type="math_number">\n          <field name="NUM" allow_text="true">123</field>\n        </shadow>\n      </value>\n      <value name="UPDATE_COLUMN">\n        <shadow type="cloudDB_all_column_dropdown">').concat(o,'</shadow>\n      </value>\n      <value name="UPDATE_COLUMN_VALUE">\n        <shadow type="math_number">\n          <field name="NUM" allow_text="true">456</field>\n        </shadow>\n      </value>\n    </block>'),'<block type="cloudDB_query_by_column" uncache="true">\n      '.concat(t,'\n      <value name="INPUT_COLUMN">\n        <shadow type="cloudDB_all_column_dropdown">').concat(o,'</shadow>\n      </value>\n      <value name="COLUMN_VALUE">\n        <shadow type="math_number">\n          <field name="NUM" allow_text="true">123</field>\n        </shadow>\n      </value>\n    </block>'),'<block type="cloudDB_query_by_count" uncache="true">\n      '.concat(t,"\n    </block>"),s.d,'<block type="array_foreach" uncache="true">\n      <value name="ARRAY">\n        <shadow type="array_get"></shadow>\n      </value>\n    </block>']},blockDeclareGroup:{setBlockGroupSnippet:function(e){e.insertBlockSnippetGenerator("cloudDB_all_column_dropdown",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"COLUMNS")||"";return i===g.h?"":d.o(i)}),e.insertBlockSnippetGenerator("cloudDB_fail_result",function(){return"cloudDBFailResult"}),e.insertBlockSnippetGenerator("cloudDB_query_by_column_result",function(){return"cloudDBQueryByColumnResult"}),e.insertBlockSnippetGenerator("cloudDB_query_by_count_result",function(){return"cloudDBQueryByCountResult"}),e.insertBlockSnippetGenerator("cloudDB_error_name",function(){return"cloudDBErrorName"}),e.insertBlockSnippetGenerator("cloudDB_error_type",function(){return"cloudDBErrorType"}),e.insertBlockSnippetGenerator("cloudDB_error_info",function(){return"cloudDBErrorInfo"}),e.insertBlockSnippetGenerator("cloudDB_error",function(t,n){var o=e.valueToCode(t,n,"CLOUD_DB_ERROR_NAME",e.ORDER_FUNCTION_CALL),i=e.valueToCode(t,n,"CLOUD_DB_ERROR_INFO",e.ORDER_FUNCTION_CALL),a=e.statementToCode(t,n,"DO");return d.n("onCloudDBError",[d.k([o,i],a)])}),e.insertBlockSnippetGenerator("cloudDB_insert",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID"),a=g.W(i),r=e.valueToCode(t,n,"INSERT_ROW",e.ORDER_FUNCTION_CALL),l=e.statementToCode(t,n,"SUCCESS"),c=e.valueToCode(t,n,"ERROR_MSG",e.ORDER_FUNCTION_CALL),s=e.statementToCode(t,n,"ERROR");return a?d.l(d.j("cloudDBInsert",[a,r,d.k([],l),d.k([c],s)]),t.blocks[n],e,!0):""}),e.insertBlockSnippetGenerator("cloudDB_delete",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID"),a=g.W(i),r=e.valueToCode(t,n,"INPUT_COLUMN",e.ORDER_FUNCTION_CALL)||"",l=e.getFieldValue(o,"OPERATOR")||"",c=e.valueToCode(t,n,"COLUMN_VALUE",e.ORDER_FUNCTION_CALL)||"",s=e.statementToCode(t,n,"SUCCESS"),u=e.valueToCode(t,n,"ERROR_MSG",e.ORDER_FUNCTION_CALL),p=e.statementToCode(t,n,"ERROR");return r&&a?d.l(d.j("cloudDBDelete",[a,r,"'".concat(l,"'"),c,d.k([],s),d.k([u],p)]),t.blocks[n],e,!0):""}),e.insertBlockSnippetGenerator("cloudDB_update",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID"),a=g.W(i),r=e.valueToCode(t,n,"INPUT_COLUMN",e.ORDER_FUNCTION_CALL)||"",l=e.getFieldValue(o,"OPERATOR")||"",c=e.valueToCode(t,n,"COLUMN_VALUE",e.ORDER_FUNCTION_CALL)||"",s=e.valueToCode(t,n,"UPDATE_COLUMN",e.ORDER_FUNCTION_CALL)||"",u=e.valueToCode(t,n,"UPDATE_COLUMN_VALUE",e.ORDER_FUNCTION_CALL)||"",p=e.statementToCode(t,n,"SUCCESS"),m=e.valueToCode(t,n,"ERROR_MSG",e.ORDER_FUNCTION_CALL),E=e.statementToCode(t,n,"ERROR");return r&&s&&a?d.l(d.j("cloudDBUpdate",[a,r,"'".concat(l,"'"),c,s,u,d.k([],p),d.k([m],E)]),t.blocks[n],e,!0):""}),e.insertBlockSnippetGenerator("cloudDB_query_by_column",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID"),a=g.W(i),r=e.valueToCode(t,n,"INPUT_COLUMN",e.ORDER_FUNCTION_CALL)||"",l=e.getFieldValue(o,"OPERATOR")||"",c=e.valueToCode(t,n,"COLUMN_VALUE",e.ORDER_FUNCTION_CALL),s=e.valueToCode(t,n,"CLOUD_DB_QUERY_BY_COLUMN_RESULT",e.ORDER_FUNCTION_CALL),u=e.statementToCode(t,n,"SUCCESS"),p=e.valueToCode(t,n,"ERROR_MSG",e.ORDER_FUNCTION_CALL),m=e.statementToCode(t,n,"ERROR");return r&&a?d.l(d.j("cloudDBQuery",[a,r,"'".concat(l,"'"),c,d.k([s],u),d.k([p],m)]),t.blocks[n],e,!0):""}),e.insertBlockSnippetGenerator("cloudDB_query_by_count",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID"),a=g.W(i),r=e.valueToCode(t,n,"CLOUD_DB_QUERY_BY_COUNT_RESULT",e.ORDER_FUNCTION_CALL),l=e.statementToCode(t,n,"SUCCESS"),c=e.valueToCode(t,n,"ERROR_MSG",e.ORDER_FUNCTION_CALL),s=e.statementToCode(t,n,"ERROR");if(!a)return"";var u=e.getFieldValue(o,"OPTIONS")||"";return d.l(d.j("cloudDBQueryByCount",[a,"'".concat(u,"'"),d.k([r],l),d.k([c],s)]),t.blocks[n],e,!0)})},setBlockGroupProfile:function(e,t){t.extensions.register_mutator("cloudDB_default_toggle_statement",A),t.extensions.register_mutator("cloudDB_query_by_column_toggle_statement",k),t.extensions.register_mutator("cloudDB_query_by_count_toggle_statement",R);var n={type:"field_coco_dropdown",name:"WIDGET_ID",custom:!0,options:function(){return u.c().getWidgetListByType(m.h)}};e.insertBlockProfile("cloudDB_all_column_dropdown",{type:"cloudDB_all_column_dropdown",message0:"%1",args0:[{type:"field_coco_dropdown",name:"COLUMNS",custom:!0,advancedOptions:function(){var e,t,n=(null==(e=this.source_block)||null==(t=e.parent_block)?void 0:t.get_field_value("WIDGET_ID"))||void 0;return u.c().getCloudDBColumnList(n,this)}}],output:["String","Number"]}),e.insertBlockProfile("cloudDB_fail_result",{type:"cloudDB_fail_result",message0:"%{BKY_CLOUD_DB_FAIL_RESULT}",output:"String",required_context:"".concat("cloudDB_error_DO"),colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("cloudDB_query_by_column_result",{type:"cloudDB_query_by_column_result",message0:"%{BKY_CLOUD_DB_QUERY_BY_COLUMN_RESULT}",output:"Array",required_context:"".concat("cloudDB_success_DO","_QUERY_BY_COLUMN"),colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("cloudDB_query_by_count_result",{type:"cloudDB_query_by_count_result",message0:"%{BKY_CLOUD_DB_QUERY_BY_COUNT_RESULT}",output:"Array",required_context:"".concat("cloudDB_success_DO","_QUERY_BY_COUNT"),colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("cloudDB_error_name",{type:"cloudDB_error_name",message0:"%{BKY_CLOUD_DB_ERROR_NAME}",output:"String",required_context:"cloudDB_error_DO",colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("cloudDB_error_type",{type:"cloudDB_error_type",message0:"%{BKY_CLOUD_DB_ERROR_TYPE}",output:"String",required_context:"cloudDB_error_DO",colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("cloudDB_error_info",{type:"cloudDB_error_info",message0:"%{BKY_CLOUD_DB_ERROR_INFO}",output:"String",required_context:"cloudDB_error_DO",colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("cloudDB_error",{type:"cloudDB_error",message0:"%{BKY_CLOUD_DB_ERROR}",args0:[d.e("%{BKY_BLOCK_CLOUD_ICON}",!0),{type:"input_value",name:"CLOUD_DB_ERROR_NAME",default_shadow:'<shadow type="cloudDB_error_name" />'},{type:"input_value",name:"CLOUD_DB_ERROR_INFO",default_shadow:'<shadow type="cloudDB_error_info" />'},{type:"input_dummy",align:"CENTRE"},{type:"input_statement",name:"DO",provided_context:"cloudDB_error_DO"}],colour:"%{BKY_EVENTS_HUE}",inputsInline:!0}),e.insertBlockProfile("cloudDB_insert",{type:"cloudDB_insert",message0:"%{BKY_CLOUD_DB_INSERT}",args0:[{type:"input_value",name:"INSERT_ROW",check:["String","Array"]},E.a({},n),{type:"input_dummy",name:"DUMMY"},{type:"mutation_add_button",name:"mutation_add_button"},{type:"input_dummy",name:"SUCCESS_MUTATION_BTN"}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_CONTROL_HUE}",inputsInline:!0,mutator:"cloudDB_default_toggle_statement"}),e.insertBlockProfile("cloudDB_delete",{type:"cloudDB_delete",message0:"%{BKY_CLOUD_DB_DELETE}",args0:[E.a({},n),{type:"input_value",name:"INPUT_COLUMN",check:["String"]},{type:"field_coco_dropdown",name:"OPERATOR",custom:!0,options:function(){return[["=","EQ"],["≠","NE"],["<","LT"],["≤","LTE"],[">","GT"],["≥","GTE"]]}},{type:"input_value",name:"COLUMN_VALUE",check:["String","Number","Boolean"]},{type:"input_dummy",name:"DUMMY"},{type:"mutation_add_button",name:"mutation_add_button"},{type:"input_dummy",name:"SUCCESS_MUTATION_BTN"}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_CONTROL_HUE}",inputsInline:!0,mutator:"cloudDB_default_toggle_statement",extensions:["UPDATE_COLUMN_AFTER_SELECT_CLOUD_DB"]}),e.insertBlockProfile("cloudDB_update",{type:"cloudDB_update",message0:"%{BKY_CLOUD_DB_UPDATE}",args0:[E.a({},n),{type:"input_value",name:"INPUT_COLUMN",check:["String"]},{type:"field_coco_dropdown",name:"OPERATOR",custom:!0,options:function(){return[["=","EQ"],["≠","NE"],["<","LT"],["≤","LTE"],[">","GT"],["≥","GTE"]]}},{type:"input_value",name:"COLUMN_VALUE",check:["String","Number","Boolean"]},{type:"input_value",name:"UPDATE_COLUMN",check:["String"]},{type:"input_value",name:"UPDATE_COLUMN_VALUE",check:["String","Number","Boolean"]},{type:"mutation_add_button",name:"mutation_add_button"},{type:"input_dummy",name:"SUCCESS_MUTATION_BTN"}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_CONTROL_HUE}",inputsInline:!0,mutator:"cloudDB_default_toggle_statement",extensions:["UPDATE_COLUMN_AFTER_SELECT_CLOUD_DB"]}),e.insertBlockProfile("cloudDB_query_by_column",{type:"cloudDB_query_by_column",message0:"%{BKY_CLOUD_DB_QUERY_BY_COLUMN}",args0:[E.a({},n),{type:"input_value",name:"INPUT_COLUMN",check:["String"]},{type:"field_coco_dropdown",name:"OPERATOR",custom:!0,options:function(){return[["=","EQ"],["≠","NE"],["<","LT"],["≤","LTE"],[">","GT"],["≥","GTE"]]}},{type:"input_value",name:"COLUMN_VALUE",check:["String","Number","Boolean"]},{type:"input_dummy",name:"DUMMY"},{type:"mutation_add_button",name:"mutation_add_button"},{type:"input_dummy",name:"SUCCESS_MUTATION_BTN"}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_CONTROL_HUE}",inputsInline:!0,mutator:"cloudDB_query_by_column_toggle_statement",extensions:["UPDATE_COLUMN_AFTER_SELECT_CLOUD_DB"]}),e.insertBlockProfile("cloudDB_query_by_count",{type:"cloudDB_query_by_count",message0:"%{BKY_CLOUD_DB_QUERY_BY_COUNT}",args0:[E.a({},n),{type:"field_coco_dropdown",name:"OPTIONS",custom:!0,options:function(){return[[t.Msg.CLOUD_DB_ROW,"row"],[t.Msg.CLOUD_DB_COLUMN,"column"]]}},{type:"input_dummy",name:"DUMMY"},{type:"mutation_add_button",name:"mutation_add_button"},{type:"input_dummy",name:"SUCCESS_MUTATION_BTN"}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_CONTROL_HUE}",inputsInline:!0,mutator:"cloudDB_query_by_count_toggle_statement"})}},categoryClass:{text:"",iconId:"icon-widget-cloud-db",blocks:[]},renameBlocksInfo:{blocksList:["cloudDB_insert","cloudDB_delete","cloudDB_update","cloudDB_query_by_column","cloudDB_query_by_count"],fieldName:"WIDGET_ID"},topBlocks:["cloudDB_error"]},D={icon:"icon-widget-cloud-db",title:"CloudDbWidget.widgetName",type:m.h,previewAreaWidgetTitle:"CloudDbWidget.widgetName",component:l.Yh,editConfig:y,blockConfig:B,isInvisibleWidget:!0,widget:{size:{width:0,height:0},isGlobalWidget:!0,attributes:{cloudDbId:"_EMPTY_CLOUD_DB_ID_",columns:[],name:"",primaryKey:""}}},w={type:m.y,category:{iconId:"icon-widget-local-storage",blocks:m.y},getTemplate:function(e){var t='<field name="WIDGET_ID">'.concat(e,"</field>"),n=u.c().getLocalDocumentFieldList(e)[0].value,o='<field name="DOC_KEYS">'.concat(n,"</field>");return['<block type="local_document_set_field_item" uncache="true">\n      '.concat(t,'\n      <value name="DOC_KEYS_WRAPPER">\n        <shadow type="local_document_all_key_field_dropdown">').concat(o,'</shadow>\n      </value>\n      <value name="VALUE">\n        <shadow type="text">\n          <field name="TEXT">0</field>\n        </shadow>\n      </value>\n    </block>'),'<block type="local_document_remove_field_item" uncache="true">\n      '.concat(t,'\n      <value name="DOC_KEYS_WRAPPER">\n        <shadow type="local_document_all_key_field_dropdown">').concat(o,"</shadow>\n      </value>\n    </block>"),'<block type="local_document_clear_all_field_items" uncache="true">\n      '.concat(t,"\n    </block>"),s.d,'<block type="local_document_get_field_item" uncache="true">\n      '.concat(t,'\n      <value name="DOC_KEYS_WRAPPER">\n        <shadow type="local_document_all_key_field_dropdown">').concat(o,"</shadow>\n      </value>\n    </block>"),'<block type="local_document_get_field_key_count" uncache="true">\n      '.concat(t,"\n    </block>"),'<block type="local_document_get_all_field_keys" uncache="true">\n      '.concat(t,'\n      <value name="DOC_KEYS_WRAPPER">\n        <shadow type="local_document_all_key_field_dropdown">').concat(o,"</shadow>\n      </value>\n    </block>"),'<block type="local_document_check_if_field_key_exists" uncache="true">\n      '.concat(t,'\n      <value name="DOC_KEYS_WRAPPER">\n        <shadow type="local_document_all_key_field_dropdown">').concat(o,"</shadow>\n      </value>\n    </block>")]},blockDeclareGroup:{setBlockGroupSnippet:function(e){e.insertBlockSnippetGenerator("local_document_all_key_field_dropdown",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"DOC_KEYS"),a=t.blocks[o.parent_id||""],r=e.getFieldValue(a,"WIDGET_ID"),l=u.c().getLocalDocumentFieldList(r).find(function(e){return e.value===i}),c="";return l&&(c=l.text),d.o(c)}),e.insertBlockSnippetGenerator("local_document_set_field_item",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID"),a=e.getDynamicValue("__CURRENT_PROJECT_ID__");if(!i)return"";var r=e.valueToCode(t,n,"DOC_KEYS_WRAPPER",e.ORDER_FUNCTION_CALL)||"",l=e.valueToCode(t,n,"VALUE",e.ORDER_FUNCTION_CALL)||"";return d.l(d.j("setLocalDocumentFieldItem",[d.o(a),d.o(i),r,l]),o,e,!0)}),e.insertBlockSnippetGenerator("local_document_remove_field_item",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID"),a=e.getDynamicValue("__CURRENT_PROJECT_ID__");if(!i)return"";var r=e.valueToCode(t,n,"DOC_KEYS_WRAPPER",e.ORDER_FUNCTION_CALL)||"";return d.l(d.n("removeLocalDocumentFieldItem",[d.o(a),d.o(i),r]),o,e,!0)}),e.insertBlockSnippetGenerator("local_document_clear_all_field_items",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID"),a=e.getDynamicValue("__CURRENT_PROJECT_ID__");return i?d.n("clearLocalDocumentAllFieldItems",[d.o(a),d.o(i)]):""}),e.insertBlockSnippetGenerator("local_document_get_field_item",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID"),a=e.getDynamicValue("__CURRENT_PROJECT_ID__"),r=e.valueToCode(t,n,"DOC_KEYS_WRAPPER",e.ORDER_FUNCTION_CALL)||"";return i?d.l(d.s("getLocalDocumentFieldItem",[d.o(a),d.o(i),r]),o,e,!1,!0):""}),e.insertBlockSnippetGenerator("local_document_get_all_field_keys",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID"),a=e.getDynamicValue("__CURRENT_PROJECT_ID__");return i?d.s("getLocalDocumentAllFieldKeys",[d.o(a),d.o(i)]):""}),e.insertBlockSnippetGenerator("local_document_check_if_field_key_exists",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID"),a=e.getDynamicValue("__CURRENT_PROJECT_ID__"),r=e.valueToCode(t,n,"DOC_KEYS_WRAPPER",e.ORDER_FUNCTION_CALL)||"";return i?d.l(d.s("checkIfDocumentFieldKeyExists",[d.o(a),d.o(i),r]),o,e,!0,!0):""}),e.insertBlockSnippetGenerator("local_document_get_field_key_count",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID"),a=e.getDynamicValue("__CURRENT_PROJECT_ID__");return i?d.s("getLocalDocumentFieldKeyCount",[d.o(a),d.o(i)]):""})},setBlockGroupProfile:function(e,t){var n={type:"field_coco_dropdown",name:"WIDGET_ID",custom:!0,options:function(){return u.c().getWidgetListByType(m.y)}};e.insertBlockProfile("local_document_all_key_field_dropdown",{type:"local_document_all_key_field_dropdown",message0:"%1",args0:[{type:"field_coco_dropdown",name:"DOC_KEYS",custom:!0,advancedOptions:function(){var e,t,n=(null==(e=this.source_block)||null==(t=e.parent_block)?void 0:t.get_field_value("WIDGET_ID"))||void 0;return u.c().getLocalDocumentFieldList(n,this)}}],output:["String","Number"]}),e.insertBlockProfile("local_document_set_field_item",{type:"local_document_set_field_item",message0:"%{BKY_LOCAL_STORAGE_SET_VALUE_BY_KEY}",args0:[E.a({},n),{type:"input_value",name:"DOC_KEYS_WRAPPER",check:["String","Number","Array","Boolean"]},{type:"input_value",name:"VALUE",check:["String","Number"]}],inputsInline:!0,previousStatement:!0,nextStatement:!0,colour:"%{BKY_VARIABLES_HUE}",extensions:["UPDATE_KEY_AFTER_SELECTING_DOC"],tooltip:"%{BKY_LOCAL_STORAGE_SET_VALUE_BY_KEY_TOOLTIP}"}),e.insertBlockProfile("local_document_remove_field_item",{type:"local_document_remove_field_item",message0:"%{BKY_LOCAL_STORAGE_DELETE_ITEM}",args0:[E.a({},n),{type:"input_value",name:"DOC_KEYS_WRAPPER",check:["String","Number","Array","Boolean"]}],inputsInline:!0,previousStatement:!0,nextStatement:!0,colour:"%{BKY_VARIABLES_HUE}",extensions:["UPDATE_KEY_AFTER_SELECTING_DOC"]}),e.insertBlockProfile("local_document_clear_all_field_items",{type:"local_document_clear_all_field_items",message0:"%{BKY_LOCAL_STORAGE_CLEAR_ALL_DATA}",args0:[E.a({},n)],inputsInline:!0,previousStatement:!0,nextStatement:!0,colour:"%{BKY_VARIABLES_HUE}"}),e.insertBlockProfile("local_document_get_field_item",{type:"local_document_get_field_item",message0:"%{BKY_LOCAL_STORAGE_GET_VALUE_BY_KEY}",args0:[E.a({},n),{type:"input_value",name:"DOC_KEYS_WRAPPER",check:["String","Number","Array","Boolean"]}],output:["String","Number"],colour:"%{BKY_VARIABLES_HUE}",inputsInline:!0,extensions:["UPDATE_KEY_AFTER_SELECTING_DOC"]}),e.insertBlockProfile("local_document_get_field_key_count",{type:"local_document_get_field_key_count",message0:"%{BKY_LOCAL_STORAGE_GET_KEY_VALUE_COUNT}",args0:[E.a({},n)],output:["Number"],colour:"%{BKY_VARIABLES_HUE}",inputsInline:!0}),e.insertBlockProfile("local_document_get_all_field_keys",{type:"local_document_get_all_field_keys",message0:"%{BKY_LOCAL_STORAGE_GET_ALL_FIELD_KEYS}",args0:[E.a({},n)],output:["Array"],colour:"%{BKY_VARIABLES_HUE}",inputsInline:!0}),e.insertBlockProfile("local_document_check_if_field_key_exists",{type:"local_document_check_if_field_key_exists",message0:"%{BKY_LOCAL_STORAGE_ASSERT_KEY_IN}",args0:[{type:"input_value",name:"DOC_KEYS_WRAPPER",check:["String","Number","Array","Boolean"]},E.a({},n)],output:["Boolean"],colour:"%{BKY_VARIABLES_HUE}",inputsInline:!0,extensions:["UPDATE_KEY_AFTER_SELECTING_DOC"]})}},categoryClass:{text:"",iconId:"icon-widget-local-storage",blocks:[]},renameBlocksInfo:{blocksList:["local_document_set_field_item","local_document_remove_field_item","local_document_clear_all_field_items","local_document_get_field_item","local_document_get_field_key_count","local_document_get_all_field_keys","local_document_check_if_field_key_exists"],fieldName:"WIDGET_ID"},topBlocks:[]},L={icon:"icon-widget-local-storage",title:"LocalStorageWidget.widgetName",type:m.y,previewAreaWidgetTitle:"LocalStorageWidget.widgetName",component:l.Yh,editConfig:[{type:"WidgetTitle"},{type:"LocalStorageFields"},{type:"HelpUrl",url:"https://codemao-guide.yuque.com/bfiekm/sbo5kh/local-storage"}],blockConfig:w,isInvisibleWidget:!0,widget:{size:{width:0,height:0},isGlobalWidget:!0,attributes:{fields:[]}},isDiscard:!0},P={type:m.B,category:{iconId:"icon-widget-local-storage",blocks:m.B},getTemplate:function(e){var t='<field name="WIDGET_ID">'.concat(e,"</field>"),n=u.c().getLocalDocumentFieldList(e)[0].value,o='<field name="DOC_KEYS">'.concat(n,"</field>");return['<block type="new_local_document_set_field_item" uncache="true">\n      '.concat(t,'\n      <value name="DOC_KEYS_WRAPPER">\n        <shadow type="new_local_document_all_key_field_dropdown">').concat(o,'</shadow>\n      </value>\n      <value name="VALUE">\n        <shadow type="text">\n          <field name="TEXT">0</field>\n        </shadow>\n      </value>\n    </block>'),'<block type="new_local_document_remove_field_item" uncache="true">\n      '.concat(t,'\n      <value name="DOC_KEYS_WRAPPER">\n        <shadow type="new_local_document_all_key_field_dropdown">').concat(o,"</shadow>\n      </value>\n    </block>"),'<block type="new_local_document_clear_all_field_items" uncache="true">\n      '.concat(t,"\n    </block>"),s.d,'<block type="new_local_document_get_field_item" uncache="true">\n      '.concat(t,'\n      <value name="DOC_KEYS_WRAPPER">\n        <shadow type="new_local_document_all_key_field_dropdown">').concat(o,"</shadow>\n      </value>\n    </block>"),'<block type="new_local_document_get_all_field_keys" uncache="true">\n      '.concat(t,'\n      <value name="DOC_KEYS_WRAPPER">\n        <shadow type="new_local_document_all_key_field_dropdown">').concat(o,"</shadow>\n      </value>\n    </block>"),'<block type="new_local_document_get_field_key_count" uncache="true">\n      '.concat(t,"\n    </block>"),s.d,'<block type="new_local_document_check_if_field_key_exists" uncache="true">\n      '.concat(t,'\n      <value name="DOC_KEYS_WRAPPER">\n        <shadow type="new_local_document_all_key_field_dropdown">').concat(o,"</shadow>\n      </value>\n    </block>")]},blockDeclareGroup:{setBlockGroupSnippet:function(e){e.insertBlockSnippetGenerator("new_local_document_all_key_field_dropdown",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"DOC_KEYS"),a=t.blocks[o.parent_id||""],r=e.getFieldValue(a,"WIDGET_ID"),l=u.c().getLocalDocumentFieldList(r).find(function(e){return e.value===i}),c="";return l&&(c=l.text),d.o(c)}),e.insertBlockSnippetGenerator("new_local_document_set_field_item",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID"),a=e.getDynamicValue("__CURRENT_PROJECT_ID__");if(!i)return"";var r=e.valueToCode(t,n,"DOC_KEYS_WRAPPER",e.ORDER_FUNCTION_CALL)||"",l=e.valueToCode(t,n,"VALUE",e.ORDER_FUNCTION_CALL)||"";return d.l(d.j("setLocalDocumentFieldItem",[d.o(a),d.o(i),r,l]),o,e,!0)}),e.insertBlockSnippetGenerator("new_local_document_remove_field_item",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID"),a=e.getDynamicValue("__CURRENT_PROJECT_ID__");if(!i)return"";var r=e.valueToCode(t,n,"DOC_KEYS_WRAPPER",e.ORDER_FUNCTION_CALL)||"";return d.l(d.n("removeLocalDocumentFieldItem",[d.o(a),d.o(i),r]),o,e,!0)}),e.insertBlockSnippetGenerator("new_local_document_clear_all_field_items",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID"),a=e.getDynamicValue("__CURRENT_PROJECT_ID__");return i?d.n("clearLocalDocumentAllFieldItems",[d.o(a),d.o(i)]):""}),e.insertBlockSnippetGenerator("new_local_document_get_field_item",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID"),a=e.getDynamicValue("__CURRENT_PROJECT_ID__"),r=e.valueToCode(t,n,"DOC_KEYS_WRAPPER",e.ORDER_FUNCTION_CALL)||"";return i?d.l(d.s("getLocalDocumentFieldItem",[d.o(a),d.o(i),r]),o,e,!1,!0):""}),e.insertBlockSnippetGenerator("new_local_document_get_all_field_keys",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID"),a=e.getDynamicValue("__CURRENT_PROJECT_ID__");return i?d.s("getLocalDocumentAllFieldKeys",[d.o(a),d.o(i)]):""}),e.insertBlockSnippetGenerator("new_local_document_check_if_field_key_exists",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID"),a=e.getDynamicValue("__CURRENT_PROJECT_ID__"),r=e.valueToCode(t,n,"DOC_KEYS_WRAPPER",e.ORDER_FUNCTION_CALL)||"";return i?d.l(d.s("checkIfDocumentFieldKeyExists",[d.o(a),d.o(i),r]),o,e,!0,!0):""}),e.insertBlockSnippetGenerator("new_local_document_get_field_key_count",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID"),a=e.getDynamicValue("__CURRENT_PROJECT_ID__");return i?d.s("getLocalDocumentFieldKeyCount",[d.o(a),d.o(i)]):""})},setBlockGroupProfile:function(e,t){var n={type:"field_coco_dropdown",name:"WIDGET_ID",custom:!0,options:function(){return u.c().getWidgetListByType(m.B)}};e.insertBlockProfile("new_local_document_all_key_field_dropdown",{type:"new_local_document_all_key_field_dropdown",message0:"%1",args0:[{type:"field_coco_dropdown",name:"DOC_KEYS",custom:!0,advancedOptions:function(){var e,t,n=(null==(e=this.source_block)||null==(t=e.parent_block)?void 0:t.get_field_value("WIDGET_ID"))||void 0;return u.c().getLocalDocumentFieldList(n,this)}}],output:["String","Number"]}),e.insertBlockProfile("new_local_document_set_field_item",{type:"new_local_document_set_field_item",message0:"%{BKY_LOCAL_STORAGE_SET_VALUE_BY_KEY}",args0:[E.a({},n),{type:"input_value",name:"DOC_KEYS_WRAPPER",check:["String","Number","Array","Boolean"]},{type:"input_value",name:"VALUE",check:["String","Number"]}],inputsInline:!0,previousStatement:!0,nextStatement:!0,colour:"%{BKY_VARIABLES_HUE}",extensions:["UPDATE_KEY_AFTER_SELECTING_DOC"],tooltip:"%{BKY_LOCAL_STORAGE_SET_VALUE_BY_KEY_TOOLTIP}"}),e.insertBlockProfile("new_local_document_remove_field_item",{type:"new_local_document_remove_field_item",message0:"%{BKY_LOCAL_STORAGE_DELETE_ITEM}",args0:[E.a({},n),{type:"input_value",name:"DOC_KEYS_WRAPPER",check:["String","Number","Array","Boolean"]}],inputsInline:!0,previousStatement:!0,nextStatement:!0,colour:"%{BKY_VARIABLES_HUE}",extensions:["UPDATE_KEY_AFTER_SELECTING_DOC"]}),e.insertBlockProfile("new_local_document_clear_all_field_items",{type:"new_local_document_clear_all_field_items",message0:"%{BKY_LOCAL_STORAGE_CLEAR_ALL_DATA}",args0:[E.a({},n)],inputsInline:!0,previousStatement:!0,nextStatement:!0,colour:"%{BKY_VARIABLES_HUE}"}),e.insertBlockProfile("new_local_document_get_field_item",{type:"new_local_document_get_field_item",message0:"%{BKY_LOCAL_STORAGE_GET_VALUE_BY_KEY}",args0:[E.a({},n),{type:"input_value",name:"DOC_KEYS_WRAPPER",check:["String","Number","Array","Boolean"]}],output:["String"],colour:"%{BKY_VARIABLES_HUE}",inputsInline:!0,extensions:["UPDATE_KEY_AFTER_SELECTING_DOC"]}),e.insertBlockProfile("new_local_document_get_field_key_count",{type:"new_local_document_get_field_key_count",message0:"%{BKY_LOCAL_STORAGE_GET_KEY_VALUE_COUNT}",args0:[E.a({},n)],output:["Number"],colour:"%{BKY_VARIABLES_HUE}",inputsInline:!0}),e.insertBlockProfile("new_local_document_get_all_field_keys",{type:"new_local_document_get_all_field_keys",message0:"%{BKY_NEW_LOCAL_STORAGE_GET_ALL_FIELD_KEYS}",args0:[d.d("%{BKY_BLOCK_LIST_ICON}"),E.a({},n)],output:["Array"],colour:"%{BKY_VARIABLES_HUE}",inputsInline:!0}),e.insertBlockProfile("new_local_document_check_if_field_key_exists",{type:"new_local_document_check_if_field_key_exists",message0:"%{BKY_LOCAL_STORAGE_ASSERT_KEY_IN}",args0:[{type:"input_value",name:"DOC_KEYS_WRAPPER",check:["String","Number","Array","Boolean"]},E.a({},n)],output:["Boolean"],colour:"%{BKY_VARIABLES_HUE}",inputsInline:!0,extensions:["UPDATE_KEY_AFTER_SELECTING_DOC"]})}},categoryClass:{text:"",iconId:"icon-widget-local-storage",blocks:[]},renameBlocksInfo:{blocksList:["new_local_document_set_field_item","new_local_document_remove_field_item","new_local_document_clear_all_field_items","new_local_document_get_field_item","new_local_document_get_field_key_count","new_local_document_get_all_field_keys","new_local_document_check_if_field_key_exists"],fieldName:"WIDGET_ID"},topBlocks:[]},U={icon:"icon-widget-local-storage",title:"LocalStorageWidget.widgetName",type:m.B,previewAreaWidgetTitle:"LocalStorageWidget.widgetName",component:l.Yh,editConfig:[{type:"WidgetTitle"},{type:"LocalStorageFields"},{type:"HelpUrl",url:"https://codemao-guide.yuque.com/bfiekm/sbo5kh/local-storage"}],blockConfig:P,isInvisibleWidget:!0,widget:{size:{width:0,height:0},isGlobalWidget:!0,attributes:{fields:[]}}},M=[{type:"WidgetTitle"}]},74017(e,t,n){n.d(t,{cg:()=>E,lg:()=>T});var o,i,a,r=n(63110),l=n(10032),c=n(94220),s=n(13244),u=n(99432),d=u.a("COLUMN"),p=u.a("COLUMN");a={},s.a(a,d,{field:"第1列"}),s.a(a,p,{field:"第2列"});var m=[(i={rowId:u.a("ROW")},s.a(i,d,""),s.a(i,p,""),i),(o={rowId:u.a("ROW")},s.a(o,d,""),s.a(o,p,""),o)],g={type:c.m,category:{iconId:"icon-widget-local-storage",blocks:c.m},getTemplate:function(e){return[]},blockDeclareGroup:{setBlockGroupSnippet:function(e){},setBlockGroupProfile:function(e,t){}},categoryClass:{text:"",iconId:"icon-widget-local-storage",blocks:[]},renameBlocksInfo:{blocksList:[],fieldName:""},topBlocks:[]},E={icon:"icon-widget-local-storage",title:"GridWidget.widgetName",type:c.m,previewAreaWidgetTitle:"GridWidget.widgetName",component:r.Yh,editConfig:l.tg,blockConfig:g,isInvisibleWidget:!0,widget:{size:{width:0,height:0},isGlobalWidget:!0,attributes:{db:{header:a,data:m}}}},T=[{type:"WidgetTitle"},{type:"TableData"},{type:"HelpUrl",url:"https://codemao-guide.yuque.com/bfiekm/sbo5kh/table-data"}]},8666(e,t,n){n.d(t,{gg:()=>b});var o=n(63110),i=n(74017),a=n(74375),r=n(65141),l=n(60096),c=n(24876),s=n(12327),u=n(38752),d=n(94220),p=n(32919),m=n(28950),g=n(36961),E='<shadow type="math_number"><field name="NUM" constraints="1,,1">1</field></shadow>',T={addMutation:function(e){var t=this;c.b.call(this,"INDEX",function(){var e=t.append_value_input("INDEX",2).set_check("Number");return t.append_dummy_input("ITEM",3).append_field(u.Z.Msg.ROW),e},E,e)},removeMutation:function(){var e=this;c.t.call(this,"INDEX","NUM",function(){e.remove_input("INDEX"),e.remove_input("ITEM")})},updateShape_:function(){var e=this.get_input("INDEX");"nth"===this.rowChoice?e||(this.append_shadow_input("INDEX",E,2).set_check("Number"),this.append_dummy_input("ITEM",3).append_field(u.Z.Msg.ROW)):e&&(this.remove_input("INDEX"),this.remove_input("ITEM"))},domToMutation:function(e){this.cacheId={};var t,n=null==(t=this.get_field("ROW_CHOICE"))?void 0:t.get_value();this.rowChoice=n||"",this.updateShape_()},mutationToDom:function(){var e,t=document.createElement("mutation"),n=null==(e=this.get_field("ROW_CHOICE"))?void 0:e.get_value();return t.setAttribute("rowChoice",n||""),t}};function v(){return new r.a({type:"field_coco_dropdown",name:"ROW_CHOICE",custom:!0,options:function(){return[[u.Z.Msg.LAST_ROW,"lastRow"],[u.Z.Msg.NTH,"nth"]]},optOnchange:function(e){if(!u.Z.events.is_undoing()){var t,n,o=this.source_block;o&&("nth"===e?null!=(t=o.addMutation)&&t.call(o):null!=(n=o.removeMutation)&&n.call(o))}}})}var h={addMutation:function(){this.remove_input("INDEX");var e=this.append_shadow_input("INDEX",E,1),t=v();if(t.set_value("nth"),e.append_field(t,"ROW_CHOICE"),e.insert_field_at(0,"".concat(u.Z.Msg.ROW,":")),u.Z.events.is_enabled()){var n=c.c("mutation",{block:this,old_value:void 0,new_value:"nth"});u.Z.events.fire(n)}},removeMutation:function(){this.remove_input("INDEX");var e=this.append_dummy_input("INDEX",1),t=v();if(t.set_value("lastRow"),e.append_field(t,"ROW_CHOICE"),e.insert_field_at(0,"".concat(u.Z.Msg.ROW,":")),u.Z.events.is_enabled()){var n=c.c("mutation",{block:this,old_value:"lastRow",new_value:void 0});u.Z.events.fire(n)}},updateShape_:function(e){if(!this.get_input("INDEX")){var t=this.append_dummy_input("INDEX",1),n=v();n.set_value("lastRow"),t.append_field(n,"ROW_CHOICE"),t.insert_field_at(0,"".concat(u.Z.Msg.ROW,":"))}var o=e||this.get_field_value("WIDGET_ID");if(o){var i=s.Cb(o);if(i&&i.type===d.G){var a=1;for(var r in i.attributes.db.header){var l=i.attributes.db.header[r],c=this.get_input("VALUE".concat(a));c?(c.remove_field("LABEL"),c.insert_field_at(0,"".concat(l.field,":"),"LABEL")):this.append_shadow_input("VALUE".concat(a),'<shadow type="text_multiline"><field name="TEXT"></field></shadow>',a+1).insert_field_at(0,"".concat(l.field,":"),"LABEL"),a++}for(;a<=50;a++)this.get_input("VALUE".concat(a))&&this.remove_input("VALUE".concat(a))}}},domToMutation:function(){this.cacheId={};var e,t=null==(e=this.get_field("ROW_CHOICE"))?void 0:e.get_value();this.rowChoice=t||"lastRow",this.updateShape_()},mutationToDom:function(){var e,t=document.createElement("mutation"),n=null==(e=this.get_field("ROW_CHOICE"))?void 0:e.get_value();return t.setAttribute("rowChoice",n||""),t}},f={type:d.G,category:{iconId:g.a,blocks:d.G},getTemplate:function(e){var t='<field name="WIDGET_ID">'.concat(e,"</field>"),n=l.c().getTableDataColumnList(e)[0].value,o='<field name="COLUMN">'.concat(n,"</field>");return['<block type="table_data_on_change" uncache="true">\n      '.concat(t,"\n    </block>"),a.d,'<block type="table_data_get_value_by_row_and_column" uncache="true">\n      '.concat(t,'\n      <value name="COLUMN_WRAPPER">\n        <shadow type="table_data_column_field_dropdown">').concat(o,'</shadow>\n      </value>\n      <value name="ROW">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\'1,,1\'>1</field>\n        </shadow>\n      </value>\n    </block>'),'<block type="table_data_get_column_data" uncache="true">\n      '.concat(t,'\n      <value name="COLUMN_WRAPPER">\n        <shadow type="table_data_column_field_dropdown">').concat(o,"</shadow>\n      </value>\n    </block>"),'<block type="table_data_get_row_data" uncache="true">\n      <mutation pos=\'nth\'></mutation>\n      '.concat(t,'\n      <value name="INDEX">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\'1,,1\'>1</field>\n        </shadow>\n      </value>\n    </block>'),'<block type="table_data_get_row_length" uncache="true">\n      '.concat(t,"\n    </block>"),a.d,'<block type="table_data_set_value_by_row_and_column" uncache="true">\n      '.concat(t,'\n      <value name="COLUMN_WRAPPER">\n        <shadow type="table_data_column_field_dropdown">').concat(o,'</shadow>\n      </value>\n      <value name="ROW">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\'1,,1\'>1</field>\n        </shadow>\n      </value>\n      <value name="VALUE">\n        <shadow type="text_multiline">\n          <field name="TEXT"></field>\n        </shadow>\n      </value>\n    </block>'),'<block type="table_data_delete_row_data" uncache="true">\n      <mutation pos=\'nth\'></mutation>\n      '.concat(t,'\n      <value name="INDEX">\n        <shadow type="math_number">\n          <field name="NUM" constraints=\'1,,1\'>1</field>\n        </shadow>\n      </value>\n    </block>'),'<block type="table_data_insert_row_data" uncache="true">\n      <mutation pos=\'nth\'></mutation>\n      '.concat(t,"\n    </block>")]},blockDeclareGroup:{setBlockGroupSnippet:function(e){e.insertBlockSnippetGenerator("table_data_column_field_dropdown",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"COLUMN");return i===p.h?"''":c.o(i)}),e.insertBlockSnippetGenerator("table_data_on_change",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID");if(i===p.h)return"";var a=e.statementToCode(t,n,"DO");return a?c.n("onTableDataChange",[c.o(i)],a):""}),e.insertBlockSnippetGenerator("table_data_set_value_by_row_and_column",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID"),a=e.valueToCode(t,n,"COLUMN_WRAPPER",e.ORDER_FUNCTION_CALL),r=e.valueToCode(t,n,"ROW",e.ORDER_FUNCTION_CALL),l=e.valueToCode(t,n,"VALUE",e.ORDER_FUNCTION_CALL);return c.l(c.n("tableDataSetValueByColumnAndRow",[c.o(i),a,r,l]),o,e)}),e.insertBlockSnippetGenerator("table_data_delete_row_data",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID"),a=e.getFieldValue(o,"ROW_CHOICE");if("lastRow"===a)return c.l(c.n("tableDataDeleteLastRow",[c.o(i)]),o,e);if("allRow"===a)return c.l(c.n("tableDataDeleteAllRow",[c.o(i)]),o,e);var r=e.valueToCode(t,n,"INDEX",e.ORDER_FUNCTION_CALL);return c.l(c.n("tableDataDeleteRowByIndex",[c.o(i),r]),o,e)}),e.insertBlockSnippetGenerator("table_data_insert_row_data",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID"),a=e.getFieldValue(o,"ROW_CHOICE"),r=s.Cb(i),l="{";if(r&&r.type===d.G){var u=1;for(var p in r.attributes.db.header){var m=e.valueToCode(t,n,"VALUE".concat(u),e.ORDER_FUNCTION_CALL);u++,l+='"'.concat(p,'": ').concat(m||"''",",")}}if(l+="}","lastRow"===a)return c.l(c.n("tableDataInsertLastRow",[c.o(i),l]),o,e);var g=e.valueToCode(t,n,"INDEX",e.ORDER_FUNCTION_CALL);return c.l(c.n("tableDataInsertRowByIndex",[c.o(i),g,l]),o,e)}),e.insertBlockSnippetGenerator("table_data_get_value_by_row_and_column",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID"),a=e.valueToCode(t,n,"COLUMN_WRAPPER",e.ORDER_FUNCTION_CALL),r=e.valueToCode(t,n,"ROW",e.ORDER_FUNCTION_CALL);return c.l(c.s("tableDataGetValueByColumnAndRow",[c.o(i),a,r]),o,e,!1,!0)}),e.insertBlockSnippetGenerator("table_data_get_row_length",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID");return c.l(c.s("tableDataGetRowLength",[c.o(i)]),o,e,!1,!0)}),e.insertBlockSnippetGenerator("table_data_get_column_data",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID"),a=e.valueToCode(t,n,"COLUMN_WRAPPER",e.ORDER_FUNCTION_CALL);return c.l(c.s("tableDataGetColumnData",[c.o(i),a]),o,e,!1,!0)}),e.insertBlockSnippetGenerator("table_data_get_row_data",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID");if("lastRow"===e.getFieldValue(o,"ROW_CHOICE"))return c.l(c.s("tableDataGetLastRow",[c.o(i)]),o,e,!1,!0);var a=e.valueToCode(t,n,"INDEX",e.ORDER_FUNCTION_CALL);return c.l(c.s("tableDataGetRowByIndex",[c.o(i),a]),o,e,!1,!0)})},setBlockGroupProfile:function(e,t){t.extensions.register_mutator("TABLE_DATA_ROW_MUTATOR",T),t.extensions.register_mutator("TABLE_DATA_INSERT_ROW_MUTATOR",h);var n={type:"field_coco_dropdown",name:"WIDGET_ID",custom:!0,options:function(){return l.c().getWidgetListByType(d.G)}};function o(e){if(!t.events.is_undoing()){var n,o,i=this.source_block;i&&("nth"===e?null!=(n=i.addMutation)&&n.call(i):null!=(o=i.removeMutation)&&o.call(i))}}e.insertBlockProfile("table_data_column_field_dropdown",{type:"table_data_column_field_dropdown",message0:"%1",args0:[{type:"field_coco_dropdown",name:"COLUMN",custom:!0,advancedOptions:function(){var e,t,n=null==(e=this.source_block)||null==(t=e.parent_block)?void 0:t.get_field_value("WIDGET_ID");return l.c().getTableDataColumnList(n)}}],output:["String"]}),e.insertBlockProfile("table_data_on_change",{type:"table_data_on_change",message0:"%{BKY_TABLE_DATA_ON_CHANGE}",args0:[c.e("%{BKY_BLOCK_CLOUD_ICON}",!0),m.a({},n),{type:"input_dummy",align:"CENTRE"},{type:"input_statement",name:"DO",provided_context:"table_data_on_change_DO"}],colour:"%{BKY_EVENTS_HUE}",inputsInline:!0}),e.insertBlockProfile("table_data_set_value_by_row_and_column",{type:"table_data_set_value_by_row_and_column",message0:"%{BKY_TABLE_DATA_SET_VALUE_BY_ROW_AND_COLUMN}",args0:[m.a({},n),{type:"input_value",name:"COLUMN_WRAPPER",check:["String","Number"]},{type:"input_value",name:"ROW",check:["Number"]},{type:"input_value",name:"VALUE"}],inputsInline:!0,previousStatement:!0,nextStatement:!0,colour:"%{BKY_VARIABLES_HUE}",extensions:["UPDATE_COLUMN_AFTER_SELECT_TABLE_DATA"]}),e.insertBlockProfile("table_data_insert_row_data",{type:"table_data_insert_row_data",message0:"%{BKY_TABLE_DATA_INSERT_ROW_DATA}",args0:[{type:"field_coco_dropdown",name:"WIDGET_ID",custom:!0,options:function(){return l.c().getWidgetListByType(d.G)},optOnchange:function(e){var t,n;(null==(t=this.source_block)?void 0:t.updateShape_)&&null!=(n=this.source_block)&&n.updateShape_(e)}}],inputsInline:!1,previousStatement:!0,nextStatement:!0,colour:"%{BKY_VARIABLES_HUE}",mutator:"TABLE_DATA_INSERT_ROW_MUTATOR"}),e.insertBlockProfile("table_data_delete_row_data",{type:"table_data_delete_row_data",message0:"%{BKY_TABLE_DATA_DELETE_ROW_DATA}",args0:[m.a({},n),{type:"field_coco_dropdown",name:"ROW_CHOICE",custom:!0,optOnchange:o,options:function(){return[[t.Msg.NTH,"nth"],[t.Msg.LAST_ROW,"lastRow"],[t.Msg.ALL_ROW,"allRow"]]}}],message1:"%1",args1:[{type:"input_value",name:"INDEX",check:["Number"]}],message2:"%{BKY_ROW} %1",args2:[{type:"input_dummy",name:"ITEM"}],inputsInline:!0,previousStatement:!0,nextStatement:!0,colour:"%{BKY_VARIABLES_HUE}",mutator:"TABLE_DATA_ROW_MUTATOR"}),e.insertBlockProfile("table_data_get_value_by_row_and_column",{type:"table_data_get_value_by_row_and_column",message0:"%{BKY_TABLE_DATA_GET_VALUE_BY_ROW_AND_COLUMN}",args0:[m.a({},n),{type:"input_value",name:"COLUMN_WRAPPER",check:["String","Number"]},{type:"input_value",name:"ROW",check:["Number"]}],output:["String"],inputsInline:!0,colour:"%{BKY_VARIABLES_HUE}",extensions:["UPDATE_COLUMN_AFTER_SELECT_TABLE_DATA"]}),e.insertBlockProfile("table_data_get_row_length",{type:"table_data_get_row_length",message0:"%{BKY_TABLE_DATA_GET_ROW_LENGTH}",args0:[m.a({},n)],output:["Number"],inputsInline:!0,colour:"%{BKY_VARIABLES_HUE}"}),e.insertBlockProfile("table_data_get_column_data",{type:"table_data_get_column_data",message0:"%{BKY_TABLE_DATA_GET_COLUMN_DATA}",args0:[c.d("%{BKY_BLOCK_LIST_ICON}"),m.a({},n),{type:"input_value",name:"COLUMN_WRAPPER",check:["String","Number"]}],output:["Array"],inputsInline:!0,colour:"%{BKY_VARIABLES_HUE}",extensions:["UPDATE_COLUMN_AFTER_SELECT_TABLE_DATA"]}),e.insertBlockProfile("table_data_get_row_data",{type:"table_data_get_row_data",message0:"%{BKY_TABLE_DATA_GET_ROW_DATA}",args0:[c.d("%{BKY_BLOCK_DICT_ICON}"),m.a({},n),{type:"field_coco_dropdown",name:"ROW_CHOICE",custom:!0,optOnchange:o,options:function(){return[[t.Msg.NTH,"nth"],[t.Msg.LAST_ROW,"lastRow"]]}}],message1:"%1",args1:[{type:"input_value",name:"INDEX",check:["Number"]}],message2:"%{BKY_ROW} %1",args2:[{type:"input_dummy",name:"ITEM"}],output:["Object"],inputsInline:!0,colour:"%{BKY_VARIABLES_HUE}",mutator:"TABLE_DATA_ROW_MUTATOR"})}},categoryClass:{text:"",iconId:g.a,blocks:[]},renameBlocksInfo:{blocksList:["table_data_on_change","table_data_set_value_by_row_and_column","table_data_insert_row_data","table_data_delete_row_data","table_data_clear_data","table_data_get_value_by_row_and_column","table_data_get_row_length","table_data_get_column_data","table_data_get_row_data"],fieldName:"WIDGET_ID"},topBlocks:["table_data_on_change"]},b={icon:g.a,title:"TableDataWidget.widgetName",type:d.G,previewAreaWidgetTitle:"TableDataWidget.widgetName",component:o.Yh,editConfig:i.lg,blockConfig:f,isInvisibleWidget:!0,widget:{size:{width:0,height:0},isGlobalWidget:!0,attributes:{db:{header:g.c,data:g.b}}}}},9667(e,t,n){n.d(t,{Og:()=>T,wg:()=>v});var o=n(63110),i=n(74375),a=n(60096),r=n(24876),l=n(12327),c=n(38752),s=n(94220),u=n(32919),d=n(28950),p=n(12118),m=[{type:"WarningFields",url:p.e,label:"云字典"},{type:"WidgetTitle"},{type:"LocalStorageFields"},{type:"HelpUrl",url:"https://codemao-guide.yuque.com/bfiekm/sbo5kh/cloud-storage"}],g="%{BKY_BLOCK_CLOUD_VARIABLE_ICON}",E={type:s.l,category:{iconId:p.c,blocks:s.l},getTemplate:function(e){var t='<field name="WIDGET_ID">'.concat(e,"</field>"),n=a.c().getCloudDocumentFieldList(e)[0].value,o='<field name="DOC_KEYS">'.concat(n,"</field>");return['<block type="cloud_document_on_error" uncache="true">\n      '.concat(t,"\n    </block>"),'<block type="cloud_document_set_field_item" uncache="true">\n      '.concat(t,'\n      <value name="DOC_KEYS_WRAPPER">\n        <shadow type="cloud_document_all_key_field_dropdown">').concat(o,'</shadow>\n      </value>    \n      <value name="VALUE">\n        <shadow type="text">\n          <field name="TEXT">0</field>\n        </shadow>\n      </value>\n      <value name="MESSAGE">\n        <shadow type="text">\n          <field name="TEXT">').concat(c.Z.Msg.CLOUD_STORAGE_CANNOT_SET_ITEM,"</field>\n        </shadow>\n      </value>\n    </block>"),'<block type="cloud_document_remove_field_item" uncache="true">\n      '.concat(t,'\n      <value name="DOC_KEYS_WRAPPER">\n        <shadow type="cloud_document_all_key_field_dropdown">').concat(o,'</shadow>\n      </value>\n      <value name="MESSAGE">\n        <shadow type="text">\n          <field name="TEXT">').concat(c.Z.Msg.CLOUD_STORAGE_CANNOT_REMOVED_ITEM,"</field>\n        </shadow>\n      </value>\n    </block>"),'<block type="cloud_document_clear_all_field_items" uncache="true">\n      '.concat(t,'\n      <value name="MESSAGE">\n        <shadow type="text">\n          <field name="TEXT">').concat(c.Z.Msg.CLOUD_STORAGE_CANNOT_CLEAR,"</field>\n        </shadow>\n      </value>\n    </block>"),i.d,'<block type="cloud_document_get_field_item" uncache="true">\n      '.concat(t,'\n      <value name="DOC_KEYS_WRAPPER">\n        <shadow type="cloud_document_all_key_field_dropdown">').concat(o,'</shadow>\n      </value>\n      <value name="MESSAGE">\n        <shadow type="text">\n          <field name="TEXT">').concat(c.Z.Msg.CLOUD_STORAGE_CANNOT_GET_ITEM,"</field>\n        </shadow>\n      </value>\n    </block>"),'<block type="cloud_document_get_field_key_count" uncache="true">\n      '.concat(t,'\n      <value name="MESSAGE">\n        <shadow type="text">\n          <field name="TEXT">').concat(c.Z.Msg.CLOUD_STORAGE_CANNOT_GET_ITEM_COUNT,"</field>\n        </shadow>\n      </value>\n    </block>"),'<block type="cloud_document_get_all_field_keys" uncache="true">\n      '.concat(t,'\n      <value name="MESSAGE">\n        <shadow type="text">\n          <field name="TEXT">').concat(c.Z.Msg.CLOUD_STORAGE_CANNOT_GET_ALL_ITEM,"</field>\n        </shadow>\n      </value>     \n    </block>"),'<block type="cloud_document_check_if_field_key_exists" uncache="true">\n      '.concat(t,'\n      <value name="DOC_KEYS_WRAPPER">\n        <shadow type="cloud_document_all_key_field_dropdown">').concat(o,'</shadow>\n      </value>\n      <value name="MESSAGE">\n        <shadow type="text">\n          <field name="TEXT">').concat(c.Z.Msg.CLOUD_STORAGE_CANNOT_ASSERT_KEY,"</field>\n        </shadow>\n      </value>   \n    </block>")]},blockDeclareGroup:{setBlockGroupSnippet:function(e){var t=function(t,n){return e.valueToCode(t,n,"MESSAGE",e.ORDER_FUNCTION_CALL)||""};e.insertBlockSnippetGenerator("cloud_document_all_key_field_dropdown",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"DOC_KEYS")||"";return i===u.h?"":r.o(i)}),e.insertBlockSnippetGenerator("cloud_document_error_type",function(){return"type"}),e.insertBlockSnippetGenerator("cloud_document_error_message",function(){return"message"}),e.insertBlockSnippetGenerator("cloud_document_on_error",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID"),a=l.Z(i||""),c=e.statementToCode(t,n,"DO"),s=e.valueToCode(t,n,"TYPE",e.ORDER_ATOMIC),u=e.valueToCode(t,n,"MESSAGE",e.ORDER_ATOMIC);return c&&a?r.n("argsOnCloudDocumentError",[r.o(a)],c,[s,u]):""}),e.insertBlockSnippetGenerator("cloud_document_set_field_item",function(n,o){var i=n.blocks[o],a=e.getFieldValue(i,"WIDGET_ID"),c=l.Z(a||""),s=e.valueToCode(n,o,"DOC_KEYS_WRAPPER",e.ORDER_FUNCTION_CALL)||"",u=e.valueToCode(n,o,"VALUE",e.ORDER_FUNCTION_CALL)||"",d=t(n,o);return c&&s?r.l(r.j("setCloudDocumentFieldItem",[r.o(c),s,u,d]),i,e,!0):""}),e.insertBlockSnippetGenerator("cloud_document_remove_field_item",function(n,o){var i=n.blocks[o],a=e.getFieldValue(i,"WIDGET_ID"),c=l.Z(a||""),s=e.valueToCode(n,o,"DOC_KEYS_WRAPPER",e.ORDER_FUNCTION_CALL)||"",u=t(n,o);return c&&s?r.l(r.j("removeCloudDocumentFieldItem",[r.o(c),s,u]),i,e,!0):""}),e.insertBlockSnippetGenerator("cloud_document_clear_all_field_items",function(n,o){var i=n.blocks[o],a=e.getFieldValue(i,"WIDGET_ID"),c=l.Z(a||""),s=t(n,o);return c?r.l(r.j("clearCloudDocumentAllFieldItems",[r.o(c),s]),i,e,!0):""}),e.insertBlockSnippetGenerator("cloud_document_get_field_item",function(n,o){var i=n.blocks[o],a=e.getFieldValue(i,"WIDGET_ID"),c=l.Z(a||""),s=e.valueToCode(n,o,"DOC_KEYS_WRAPPER",e.ORDER_FUNCTION_CALL),u=t(n,o);return c&&s?r.l(r.r("getCloudDocumentFieldItem",[r.o(c),s,u]),i,e,!0,!0):"''"}),e.insertBlockSnippetGenerator("cloud_document_get_all_field_keys",function(n,o){var i=n.blocks[o],a=e.getFieldValue(i,"WIDGET_ID"),c=l.Z(a||""),s=t(n,o);return c?r.l(r.r("getCloudDocumentAllFieldKeys",[r.o(c),s]),i,e,!0,!0):"''"}),e.insertBlockSnippetGenerator("cloud_document_check_if_field_key_exists",function(n,o){var i=n.blocks[o],a=e.getFieldValue(i,"WIDGET_ID"),c=l.Z(a||""),s=t(n,o),u=e.valueToCode(n,o,"DOC_KEYS_WRAPPER",e.ORDER_FUNCTION_CALL)||"";return c&&u?r.l(r.r("checkIfCloudDocumentFieldKeyExists",[r.o(c),u,s]),i,e,!0,!0):""}),e.insertBlockSnippetGenerator("cloud_document_get_field_key_count",function(n,o){var i=n.blocks[o],a=e.getFieldValue(i,"WIDGET_ID"),c=l.Z(a||""),s=t(n,o);return c?r.l(r.r("getCloudDocumentFieldKeyCount",[r.o(c),s]),i,e,!0,!0):"''"})},setBlockGroupProfile:function(e,t){var n={type:"field_coco_dropdown",name:"WIDGET_ID",custom:!0,options:function(){return a.c().getWidgetListByType(s.l)}};e.insertBlockProfile("cloud_document_all_key_field_dropdown",{type:"cloud_document_all_key_field_dropdown",message0:"%1",args0:[{type:"field_coco_dropdown",name:"DOC_KEYS",custom:!0,advancedOptions:function(){var e,t,n=(null==(e=this.source_block)||null==(t=e.parent_block)?void 0:t.get_field_value("WIDGET_ID"))||void 0;return a.c().getCloudDocumentFieldList(n,this)}}],output:["String","Number"]}),e.insertBlockProfile("cloud_document_error_type",{type:"cloud_document_error_type",message0:"%{BKY_CLOUD_STORAGE_PARAM_ERROR_TYPE}",output:"String",required_context:"cloud_document_on_error_DO",colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("cloud_document_error_message",{type:"cloud_document_error_message",message0:"%{BKY_CLOUD_STORAGE_PARAM_ERROR_MESSAGE}",output:"String",required_context:"cloud_document_on_error_DO",colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("cloud_document_on_error",{type:"cloud_document_on_error",message0:"%{BKY_CLOUD_STORAGE_ON_ERROR}",args0:[r.e("%{BKY_BLOCK_CLOUD_ICON}",!0),d.a({},n),{type:"input_value",name:"TYPE",check:["String","Number"],default_shadow:'<shadow type="cloud_document_error_type" />'},{type:"input_value",name:"MESSAGE",check:["String","Number"],default_shadow:'<shadow type="cloud_document_error_message" />'},{type:"input_dummy",align:"CENTRE"},{type:"input_statement",name:"DO",provided_context:"cloud_document_on_error_DO"}],colour:"%{BKY_EVENTS_HUE}",inputsInline:!0,tooltip:"%{BKY_CLOUD_STORAGE_ON_ERROR_TOOLTIP}"}),e.insertBlockProfile("cloud_document_set_field_item",{type:"cloud_document_set_field_item",message0:"%{BKY_CLOUD_STORAGE_SET_VALUE_BY_KEY}",args0:[r.d(g),d.a({},n),{type:"input_value",name:"DOC_KEYS_WRAPPER",check:["String","Number","Array","Boolean"]},{type:"input_value",name:"VALUE",check:["String","Number"]},{type:"input_value",name:"MESSAGE",check:["String"]}],inputsInline:!0,previousStatement:!0,nextStatement:!0,colour:"%{BKY_VARIABLES_HUE}",extensions:["UPDATE_KEY_AFTER_SELECTING_CLOUD_DOC"],tooltip:"%{BKY_CLOUD_STORAGE_SET_VALUE_BY_KEY_TOOLTIP}"}),e.insertBlockProfile("cloud_document_remove_field_item",{type:"cloud_document_remove_field_item",message0:"%{BKY_CLOUD_STORAGE_DELETE_ITEM}",args0:[r.d(g),d.a({},n),{type:"input_value",name:"DOC_KEYS_WRAPPER",check:["String","Number","Array","Boolean"]},{type:"input_value",name:"MESSAGE",check:["String"]}],inputsInline:!0,previousStatement:!0,nextStatement:!0,colour:"%{BKY_VARIABLES_HUE}",extensions:["UPDATE_KEY_AFTER_SELECTING_CLOUD_DOC"]}),e.insertBlockProfile("cloud_document_clear_all_field_items",{type:"cloud_document_clear_all_field_items",message0:"%{BKY_CLOUD_STORAGE_CLEAR_ALL_DATA}",args0:[r.d(g),d.a({},n),{type:"input_value",name:"MESSAGE",check:["String"]}],inputsInline:!0,previousStatement:!0,nextStatement:!0,colour:"%{BKY_VARIABLES_HUE}"}),e.insertBlockProfile("cloud_document_get_field_item",{type:"cloud_document_get_field_item",message0:"%{BKY_CLOUD_STORAGE_GET_VALUE_BY_KEY}",args0:[r.d(g),d.a({},n),{type:"input_value",name:"DOC_KEYS_WRAPPER",check:["String","Number","Array","Boolean"]},{type:"input_value",name:"MESSAGE",check:["String"]}],output:["String","Number"],colour:"%{BKY_VARIABLES_HUE}",inputsInline:!0,extensions:["UPDATE_KEY_AFTER_SELECTING_CLOUD_DOC"]}),e.insertBlockProfile("cloud_document_get_field_key_count",{type:"cloud_document_get_field_key_count",message0:"%{BKY_CLOUD_STORAGE_GET_KEY_VALUE_COUNT}",args0:[r.d(g),d.a({},n),{type:"input_value",name:"MESSAGE",check:["String"]}],output:["Number"],colour:"%{BKY_VARIABLES_HUE}",inputsInline:!0}),e.insertBlockProfile("cloud_document_get_all_field_keys",{type:"cloud_document_get_all_field_keys",message0:"%{BKY_CLOUD_STORAGE_GET_ALL_FIELD_KEYS}",args0:[r.d(g),d.a({},n),{type:"input_value",name:"MESSAGE",check:["String"]}],output:["Array"],colour:"%{BKY_VARIABLES_HUE}",inputsInline:!0}),e.insertBlockProfile("cloud_document_check_if_field_key_exists",{type:"cloud_document_check_if_field_key_exists",message0:"%{BKY_CLOUD_STORAGE_ASSERT_KEY_IN}",args0:[r.d(g),{type:"input_value",name:"DOC_KEYS_WRAPPER",check:["String","Number","Array","Boolean"]},d.a({},n),{type:"input_value",name:"MESSAGE",check:["String"]}],output:["Boolean"],colour:"%{BKY_VARIABLES_HUE}",inputsInline:!0,extensions:["UPDATE_KEY_AFTER_SELECTING_CLOUD_DOC"]})}},categoryClass:{text:"",iconId:p.c,blocks:[]},renameBlocksInfo:{blocksList:["cloud_document_on_error","cloud_document_remove_field_item","cloud_document_set_field_item","cloud_document_clear_all_field_items","cloud_document_get_field_item","cloud_document_get_field_key_count","cloud_document_get_all_field_keys","cloud_document_check_if_field_key_exists"],fieldName:"WIDGET_ID"},topBlocks:["cloud_document_on_error"]},T={icon:p.c,title:"CloudStorageWidget.widgetName",type:s.l,previewAreaWidgetTitle:"CloudStorageWidget.widgetName",component:o.Yh,editConfig:m,blockConfig:E,isInvisibleWidget:p.b,widget:{size:{width:0,height:0},isGlobalWidget:p.a,attributes:{cloudDbId:"_EMPTY_CLOUD_DB_ID_",fields:p.d}}},v=[{type:"WidgetTitle"},{type:"DictFields"},{type:"HelpUrl",url:"https://codemao-guide.yuque.com/bfiekm/sbo5kh/cloud-dict"}]},98852(e,t,n){n.d(t,{$g:()=>j,Ag:()=>i,Bg:()=>w,Dg:()=>k,Fg:()=>L,Gg:()=>P,Hg:()=>Y,Jg:()=>z,Kg:()=>W,Mg:()=>R,Ng:()=>S,Qg:()=>H,Rg:()=>y,Sg:()=>O,Ug:()=>M,Vg:()=>x,Wg:()=>U,Xg:()=>V,Yg:()=>K,Zg:()=>X,jg:()=>I,kg:()=>N,qg:()=>F,xg:()=>A,zg:()=>G});var o,i,a=n(66465),r=n(99432),l=n(75195),c=n(94220),s=n(32919),u=n(50862),d=n(88963),p=n(51877),m=n(73615),g=n(28413),E=n(5762),T=n(34221),v=n(7452),h=n.n(v),f=n(25507),b=n(71691);function O(e){var t=b.b();return[{validator:function(e){return!!e},message:e?e({id:"invalidVariableNoValue"}):E.c(t,"invalidVariableNoValue")},{validator:function(e){return l.A.test(e)},message:e?e({id:"invalidVariableFirstChar"}):E.c(t,"invalidVariableFirstChar")},{validator:function(e){return l.B.test(e)},message:e?e({id:"invalidVariableName"}):E.c(t,"invalidVariableName")},{validator:function(e){return e.length<=20},message:e?e({id:"invalidVariableMaxLengthTips"}):E.c(t,"invalidVariableMaxLengthTips")}]}var C={type:"basic",value:s.h,text:s.g};function I(e,t){var n,o=(0,a.yg)(),i=o.project,r=i.screens,l=i.currentScreenIndex,u=i.globalWidgetIds,d=r.get(l),p=o.common.language,m=[];return d&&d.widgetIds.length>0&&d.widgetIds.forEach(function(n){var o=s.dc.get(n);if(o&&o.type===e){if(o.parentId&&(e===c.H||e===c.v)||t&&t!==o.parentId)return;m.push([s.Fb(o.id)||E.c(p,"untitled"),n])}}),d&&(null==(n=d.invisibleWidgetIds)?void 0:n.length)>0&&d.invisibleWidgetIds.forEach(function(t){var n=s.dc.get(t);n&&n.type===e&&m.push([s.Fb(n.id)||E.c(p,"untitled"),t])}),(null==u?void 0:u.length)>0&&u.forEach(function(t){var n=s.dc.get(t);n&&n.type===e&&m.push([s.Fb(n.id)||E.c(p,"untitled"),t])}),0===m.length&&m.push([s.g,s.h]),m}function S(){var e=(0,a.yg)().common.language,t=[];s.jb().forEach(function(e){t.push({type:"basic",text:e.id,value:e.id})});var n=E.c(e,"emptyImage"),o={type:"basic",value:s.f,text:n};return t.push(C),t.push(o),t}function y(){var e=[];return s.gb().forEach(function(t){e.push({type:"basic",text:t.name+".svg",value:t.id})}),e.push(C),e}function N(e){var t=(0,a.yg)().common.language,n=[];if(e){var o=s.Bb(e);if(o){var i=o.attributes.actionList;(void 0===i?[]:i).forEach(function(e){n.push({type:"basic",text:e.name,value:e.id})})}}return[].concat(n,[{type:"basic",text:E.c(t,"ActorStyleDialog.addAction"),value:"DROPDOWN_ADD_BUTTON",callback:function(){}}])}function A(e,t){var n=[];if(e){var o=s.Bb(e);if(o){var i,r=o.attributes.actionList,l=void 0===r?[]:r,c=l.find(function(e){return e.id===t});null!=(i=c=c||l[0])&&i.styleList.forEach(function(e,t){n.push({type:"basic",text:"造型".concat(t+1),value:e.id,icon:B("rgb(231, 108, 234)",t+1)})})}}n.length||n.push(C);var u=(0,a.yg)().common.language;return[].concat(n,[{type:"basic",text:E.c(u,"actorAddStyle"),value:"DROPDOWN_ADD_BUTTON",callback:function(){}}])}function k(e){var t=(0,a.yg)(),n=t.project,o=n.screens,i=n.currentScreenIndex,l=n.globalVariableList,c=o.get(i);if(!c)return[];var s=t.common.language,u=[];if(l&&l.length&&(l.forEach(function(e){u.push({type:"basic",text:e.name,value:e.id})}),u.push({type:"line"})),c.primitiveVariables.length){var m=D(i+1,"#ffbb55",.8);c.primitiveVariables.forEach(function(e){u.push({type:"basic",text:e.name,value:e.id,icon:{src:m.src,width:m.width,height:m.height,margin_right:4}})}),u.push({type:"line"})}return u.length||u.push(C),[].concat(u,[{type:"basic",text:E.c(s,"addPrimitiveVariableName"),value:"DROPDOWN_ADD_BUTTON",callback:function(){b.a(p.nj({title:"addPrimitiveVariableName",placeholder:E.c(s,"addPrimitiveVariableNamePlaceholder"),onConfirm:function(t,n){b.a(p.uf(n,r.a("VARIABLE"),t,0,c.id,0,function(t){e.set_value(t)}))},validators:[{validator:function(e,t){var n=c.primitiveVariables.concat(l);return t===d.i.GLOBAL&&o.forEach(function(e){n=n.concat(e.primitiveVariables)}),!n.some(function(t){return t.name===e})},message:E.c(s,"primitiveVariableNameRepeat")}].concat(g.a(O()))}))}}])}function R(e){var t=(0,a.yg)(),n=t.project,o=n.screens,i=n.currentScreenIndex,l=n.globalArrayList,c=o.get(i);if(!c)return[];var s=t.common.language,u=[];if(l&&l.length&&(l.forEach(function(e){u.push({type:"basic",text:e.name,value:e.id})}),u.push({type:"line"})),c.arrayVariables.length){var m=D(i+1,"#f9cc37",1);c.arrayVariables.forEach(function(e){u.push({type:"basic",text:e.name,value:e.id,icon:{src:m.src,width:m.width,height:m.height,margin_right:4}})}),u.push({type:"line"})}return u.length||u.push(C),[].concat(u,[{type:"basic",text:E.c(s,"addArrayVariableName"),value:"DROPDOWN_ADD_BUTTON",callback:function(){b.a(p.nj({title:"addArrayVariableName",placeholder:E.c(s,"addArrayVariableNamePlaceholder"),onConfirm:function(t,n){b.a(p.of(n,r.a("VARIABLE"),t,[],c.id,0,function(t){e.set_value(t)}))},validators:[{validator:function(e,t){var n=c.arrayVariables.concat(l);return t===d.i.GLOBAL&&o.forEach(function(e){n=n.concat(e.arrayVariables)}),!n.some(function(t){return t.name===e})},message:E.c(s,"arrayVariableNameRepeat")}].concat(g.a(O()))}))}}])}function B(e,t){var n=f.create_svg_element("g",{class:"blocklyVariableDropdownIcon","data-icon-id":"#icon-screen-variable"}),o=(t||0).toString().length,i=t?t>999?999:t:"";return n.innerHTML='\n    <svg style="fill:'.concat(e,'" class="icon" aria-hidden="true">\n      <text class="blocklyText" dominant-baseline="central" text-anchor="middle" style="fill:').concat(e,';font-size:14px;font-weight: 900;" y="8.75" x="').concat(10+o,'">').concat(i,".</text>\n    </svg>\n  "),{src:n,width:16+4*o,height:16}}function D(e,t,n){var o=f.create_svg_element("g",{"data-icon-id":"__CUSTOM__".concat("broadcast_scene_index"),"font-size":"16"}),i=e>9?20:24,a=e>9?20:24;return o.innerHTML='\n    <svg style="fill:'.concat(t,'" opacity="').concat(n,'" aria-hidden="true">\n      <use xlink:href="').concat(e>9?"#icon-screen-variable-plus":"#icon-screen-variable","\"></use>\n        <g fill='#fff' transform=\"translate(").concat(a/2,", ").concat(i/2,') scale(0.625 0.625)" >\n          <text dominant-baseline="middle" text-anchor="middle" font-family="sans-serif">').concat(e,"</text>\n        </g>\n    </svg>\n  "),{src:o,width:a,height:i}}function w(e){var t=(0,a.yg)(),n=t.project,o=n.screens,i=n.currentScreenIndex,l=n.globalObjectList,c=o.get(i);if(!c)return[];var s=t.common.language,u=[];if(l&&l.length&&(l.forEach(function(e){u.push({type:"basic",text:e.name,value:e.id})}),u.push({type:"line"})),c.objectVariables.length){var m=D(i+1,"#a073ff",.6);c.objectVariables.forEach(function(e){u.push({type:"basic",text:e.name,value:e.id,icon:{src:m.src,width:m.width,height:m.height,margin_right:4}})}),u.push({type:"line"})}return u.length||u.push(C),[].concat(u,[{type:"basic",text:E.c(s,"object.createNewObject"),value:"DROPDOWN_ADD_BUTTON",callback:function(){b.a(p.nj({title:"object.createNewObject",placeholder:E.c(s,"object.createNewObjectNamePlaceholder"),onConfirm:function(t,n){b.a(p.tf({scopeType:n,id:r.a("OBJECT"),name:t,defaultValue:{},screenId:c.id,index:0,setBlockValue:function(t){e.set_value(t)}}))},validators:[{validator:function(e,t){var n=c.objectVariables.concat(l);return t===d.i.GLOBAL&&o.forEach(function(e){n=n.concat(e.arrayVariables)}),!n.some(function(t){return t.name===e})},message:E.c(s,"object.nameRepeat")}].concat(g.a(O()))}))}}])}function L(){var e=[];return s.pb().forEach(function(t){e.push({type:"basic",text:t.title,value:t.id})}),e}function P(){var e=[];return s.X().forEach(function(t){e.push({type:"basic",text:t.title,value:t.id})}),e}function U(e,t){var n=[];return e?(s.V(e).slice().forEach(function(e){e.id&&n.push({type:"basic",text:e.name,value:e.id})}),n.length||n.push(C),[].concat(n)):[C]}function M(e,t){var n=(0,a.yg)().common.language,o=[];if(!e)return[C];var i=s.yb(e);return i.slice().reverse().forEach(function(e){e.key&&o.push({type:"basic",text:e.key,value:e.id})}),o.length||o.push(C),[].concat(o,[{type:"basic",text:E.c(n,"addDocKey"),value:"DROPDOWN_ADD_BUTTON",callback:function(){b.a(p.nj({title:"addDocKey",placeholder:E.c(n,"addDocKeyPlaceholder"),onConfirm:function(n){if(i){var o,a=r.a("DOC_KEY"),l=i.concat([{id:a,value:"",key:n,type:"string"}]);b.a(p.Lg(e,"fields",l,!1,!0)),t&&t.set_value(a),b.a(p.Qj()),null!=(o=u.g.getToolbox())&&o.refresh_selection()}},validators:[{validator:function(e){return!!i&&!i.some(function(t){return t.key===e})},message:E.c(n,"storageKeyExisted")}],inputLength:150}))}}])}function Y(){var e=[];return s.bb().forEach(function(t){e.push({type:"basic",text:t.title,value:t.id})}),e}function x(e,t){var n=(0,a.yg)(),o=n.common.language,i=[];if(!e)return[C];var l=s.yb(e);l.slice().reverse().forEach(function(e){e.key&&i.push({type:"basic",text:e.key,value:e.key})}),i.length||i.push(C);var c=function(e){t&&t.set_value(e)},d=n.common.userInfo;return[].concat(i,[{type:"basic",text:E.c(o,"addDocKey"),value:"DROPDOWN_ADD_BUTTON",callback:function(){d?b.a(p.nj({title:"addDocKey",placeholder:E.c(o,"addDocKeyPlaceholder"),onConfirm:function(t){if(l){var n,o=r.a("DOC_KEY"),i=l.concat([{id:o,value:"",key:t,type:"string"}]);b.a(p.Cg(e,i,c)),null!=(n=u.g.getToolbox())&&n.refresh_selection()}},validators:[{validator:function(e){return!!l&&!l.some(function(t){return t.key===e})},message:E.c(o,"storageKeyExisted")}],inputLength:150})):b.a(p.Ch())}}])}function G(e){var t=(0,a.yg)(),n=t.project,o=n.screens,i=n.currentScreenIndex,r=o.get(i);if(!r)return[];var c=t.common.language,s=D(i+1,"#608fee",.6),d=[];return r.broadcasts.length?r.broadcasts.forEach(function(e){d.push({type:"basic",text:e,value:e,icon:{src:s.src,width:s.width,height:s.height,margin_right:4}})}):d.push(C),[].concat(d,[{type:"basic",text:E.c(c,"addBroadcast"),value:"DROPDOWN_ADD_BUTTON",callback:function(){b.a(p.nj({title:E.c(c,"addBroadcastTitle",{scene:r?r.title:""}),placeholder:E.c(c,"addBroadcastTitlePlaceholder"),tips:E.c(c,"addBroadcastOnlyCurrentScreenTips"),onConfirm:function(t){var n;b.a(p.pf(t,r.id,0,function(t){e.set_value(t)})),null!=(n=u.g.getToolbox())&&n.refresh_selection()},validators:[{validator:function(e){return!r.broadcasts.includes(e.trim())},message:E.c(c,"broadcastExisted")},{validator:function(e){return""!==e.trim()},message:E.c(c,"broadcastCannotBeSpace")},{validator:function(e){return l.t.test(e)},message:E.c(c,"broadcastInvalid")}]}))}}])}function K(){var e=(0,a.yg)().project.screens,t=[];return e.forEach(function(e,n){t.push({type:"basic",text:e.title,value:e.id,icon:B("#608fee",n+1),snapshot:{width:40,height:40,src:e.snapshot}})}),t}function W(){var e=(0,a.yg)().resource.soundFileList,t=[];return e.size?e.forEach(function(e){t.push({type:"basic",text:e.name,value:e.id})}):t.push(C),t}function F(){return(0,a.yg)().block.slider.visible}function V(e,t){var n=[];if(e){var o,i=s.Bb(e);i&&(null==(o=i.attributes)?void 0:o.templateSlotMap)&&Object.keys(i.attributes.templateSlotMap).reverse().forEach(function(e){var o=s.Bb(i.attributes.templateSlotMap[e].widgetId);t&&t!==(null==o?void 0:o.type)||n.push({type:"basic",text:i.attributes.templateSlotMap[e].label,value:e})})}return n}function H(e){var t=(0,a.yg)(),n=t.project.globalWidgetIds,o=t.common.language,i=[],r=[];return n.forEach(function(e){var t=s.Bb(e);(null==t?void 0:t.type)===c.m&&r.push(t)}),r.length?r.forEach(function(e){i.push({type:"basic",text:e.title,value:e.id})}):i.push(C),[].concat(i,[{type:"basic",text:E.c(o,"addGridName"),value:"DROPDOWN_ADD_BUTTON",callback:function(){var t;b.a(p.nj({title:E.c(o,"addGridName"),placeholder:E.c(o,"addGridNamePlaceholder"),onConfirm:(t=T.a(h().mark(function t(n){var o;return h().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:b.a(p.hg("",c.m,{x:0,y:0},{name:n},function(t){e.set_value(t)})),null!=(o=u.g.getToolbox())&&o.refresh_selection();case 2:case"end":return t.stop()}},t)})),function(e){return t.apply(this,arguments)}),validators:[{validator:function(e){var t=[];return n.forEach(function(e){var n=s.dc.get(e);(null==n?void 0:n.type)===c.m&&t.push(n)}),!t.some(function(t){return t.title===e})},message:E.c(o,"gridNameRepeat")}].concat(g.a(O()))}))}}])}function X(e){if(!e)return[C];var t=s.Bb(e);if(!t)return[C];var n=[];if(t.type===c.G)for(var o in t.attributes.db.header)n.push({type:"basic",text:t.attributes.db.header[o].field,value:o});return n}function z(e,t){var n,o=[C];if(!e)return o;var r=(0,a.yg)(),l=r.common.language,c=s.Z(e);if(!c){var u={type:"basic",value:i.NO_BIND_DATA_SOURCE,text:E.c(l,"cloudSpace.NotBindDataSource")};return o.push(u),o}var d=null==(n=r.cloudSpace.cloudDictKeysList.find(function(e){return e.id===c}))?void 0:n.data;if(!d){var g,v=(g=T.a(h().mark(function e(){return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.Nf(b.a,m.C(c,!0));case 2:null!=t&&t.show_editor();case 3:case"end":return e.stop()}},e)})),function(){return g.apply(this,arguments)}),f={type:"basic",value:i.FETCH_DATA_FAILED,text:E.c(l,"cloudSpace.fetchDataFailed"),callback:v};return o.push(f),o}if(0===d.length){var O={type:"basic",value:i.EMPTY_KEYS_DATA,text:E.c(l,"cloudSpace.emptyKeysData")};return o.push(O),o}return d.slice().forEach(function(e){o.push({type:"basic",text:e.key,value:e.key})}),o}function j(e,t){if(!e)return[C];var n=(0,a.yg)(),o=n.common.language,r=s.db(e);if(!r)return[C,{type:"basic",value:i.NO_BIND_DATA_SOURCE,text:E.c(o,"cloudSpace.NotBindDataSource")}];var l=n.cloudSpace.cloudTableColumnList.find(function(e){return e.id===r});if(!l){var c,u=(c=T.a(h().mark(function e(){return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.Nf(b.a,m.E(r,!0));case 2:null!=t&&t.show_editor();case 3:case"end":return e.stop()}},e)})),function(){return c.apply(this,arguments)});return[C,{type:"basic",value:i.FETCH_DATA_FAILED,text:E.c(o,"cloudSpace.fetchDataFailed"),callback:u}]}if(0===l.columns.length)return[C,{type:"basic",value:i.EMPTY_KEYS_DATA,text:E.c(o,"cloudSpace.emptyColumnsData")}];var d=[C];return l.columns.forEach(function(e){d.push({type:"basic",text:e.name,value:e.name})}),d}(o=i||(i={})).NO_BIND_DATA_SOURCE="NO_BIND_DATA_SOURCE",o.EMPTY_KEYS_DATA="EMPTY_KEYS_DATA",o.FETCH_DATA_FAILED="FETCH_DATA_FAILED"},31806(e,t,n){n.d(t,{Pe:()=>y});var o=n(50216),i=n(19042),a=n(22790),r=n.n(a),l=n(88963),c=n(51877),s=n(33007),u=n(13244),d=n(46942),p=n.n(d),m=n(95644),g=n(34221),E=n(7452),T=n.n(E),v=n(19040),h=n(41594),f=n.n(h),b=n(13719),O=n.n(b),C=n(39882),I=n.n(C),S=(0,h.memo)(function(e){var t,n=e.visible,o=e.importProjectJson,a=(0,v.useDispatch)(),r=(0,v.useSelector)(function(e){return e.common.templateList}),u=(t=g.a(T().mark(function e(t,n){var r;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O().get(t);case 2:(r=e.sent).data&&o({json:r.data,jsonFrom:l.d.TEMPLATE,sourceTag:l.g.TEMPLATE,sourceId:n}),a(c.Xg()),i.a("TemplateClick",{templateName:n});case 6:case"end":return e.stop()}},e)})),function(e,n){return t.apply(this,arguments)});return n?f().createElement("div",{className:I().container},f().createElement("div",{className:I().itemContainer,onClick:function(){o(),a(c.Xg())}},f().createElement("div",{className:p()(I().emptyItem,I().item)},f().createElement("div",{className:I().emptyContent},f().createElement("span",{className:I().iconContainer},f().createElement(s.j,{type:"icon-add",className:I().icon})),f().createElement("p",{className:I().text},"创建空白作品")))),r.length>0&&r.map(function(e){return f().createElement("div",{className:I().itemContainer,key:e.id,onClick:function(){u(e.bcmUrl,e.name)}},f().createElement("div",{className:p()(I().item),style:{backgroundImage:"url(".concat(e.image,")")}},f().createElement("img",{src:e.gif,alt:e.name,className:I().gif})))})):null}),y=(0,h.memo)(function(e){var t=e.importProjectJson,n=m.a().formatMessage,i=(0,v.useDispatch)(),a=(0,v.useSelector)(function(e){return e.common.projectDialog}),d=a.visible,g=a.selected,E=function(e){i(c.Ah(e))};return d?f().createElement(s.f,{visible:d,className:r().container,onClose:function(){i(c.Xg())}},f().createElement("div",{className:r().wrapper},f().createElement("header",{className:r().header},f().createElement("div",{className:p()(r().tabItem,u.a({},r().selected,g===l.f.CREATE_PROJECT)),onClick:function(){E(l.f.CREATE_PROJECT)}},f().createElement(s.j,{type:"icon-new-project",className:r().icon}),n({id:"projectDialog.newProject"})),f().createElement("div",{className:p()(r().tabItem,u.a({},r().selected,g===l.f.MY_PROJECT)),onClick:function(){E(l.f.MY_PROJECT)}},f().createElement(s.j,{type:"icon-my-project",className:r().icon}),n({id:"projectDialog.myProject"}))),f().createElement("div",{className:r().content},f().createElement(S,{visible:g===l.f.CREATE_PROJECT,importProjectJson:t}),f().createElement(o.Re,{visible:g===l.f.MY_PROJECT,importProjectJson:t})))):null})},38815(e,t,n){n.d(t,{c_:()=>C,l_:()=>I});var o,i,a=n(63110),r=n(9667),l=n(98852),c=n(74375),s=n(60096),u=n(24876),d=n(12327),p=n(38752),m=n(94220),g=n(28950),E=n(44057);(o=i||(i={}))[o.SUCCESS=1]="SUCCESS",o[o.FAILED=2]="FAILED";var T={failedStatement_:0,successStatement_:0,successConnection:null,failedConnection:null,addMutation:function(e){var t=!1,n=e;if(!n&&(this.successStatement_?this.failedStatement_||(n=i.FAILED):n=i.SUCCESS),n===i.SUCCESS?(t=!0,this.successStatement_=1,n=i.SUCCESS):n===i.FAILED&&(t=!0,this.failedStatement_=1,n=i.FAILED),t&&(this.updateShape_(),p.Z.events.is_enabled())){var o=u.c("mutation",{block:this,old_value:void 0,new_value:n});p.Z.events.fire(o)}},removeMutation:function(e){var t=!1,n=e||i.SUCCESS;if(n===i.FAILED?(this.failedStatement_=0,t=!0):n===i.SUCCESS&&(this.successStatement_=0,t=!0),t&&(this.updateShape_(),p.Z.events.is_enabled())){var o=u.c("mutation",{block:this,old_value:n,new_value:void 0});p.Z.events.fire(o)}},updateShape_:function(){var e=this;if(p.Z.events.disable(),this.get_input("ERROR_MSG")&&this.remove_input("ERROR_MSG"),this.get_input("FAILED_TEXT")&&this.remove_input("FAILED_TEXT"),this.get_input("FAILED_MUTATION_BTN")&&this.remove_input("FAILED_MUTATION_BTN"),this.successInputList.forEach(function(t){var n=t.inputName;e.get_input(n)&&e.remove_input(n)}),p.Z.events.enable(),this.get_input("ERROR")?(this.failedConnection=null==(t=this.get_input("ERROR"))||null==(n=t.connection)?void 0:n.target_connection,this.failedStatement_?(p.Z.events.disable(),this.remove_input("ERROR"),p.Z.events.enable()):this.remove_input("ERROR")):this.failedConnection=null,this.get_input("SUCCESS")?(this.successConnection=null==(o=this.get_input("SUCCESS"))||null==(a=o.connection)?void 0:a.target_connection,this.successStatement_?(p.Z.events.disable(),this.remove_input("SUCCESS"),p.Z.events.enable()):this.remove_input("SUCCESS")):this.successConnection=null,p.Z.events.disable(),this.get_input("SUCCESS_TEXT")&&this.remove_input("SUCCESS_TEXT"),this.get_input("SUCCESS_MUTATION_BTN")&&this.remove_input("SUCCESS_MUTATION_BTN"),this.append_dummy_input("SUCCESS_MUTATION_BTN"),this.successStatement_){this.append_dummy_input("SUCCESS_TEXT","SUCCESS_MUTATION_BTN").append_field(p.Z.Msg.ROOM_SUCCESS_TEXT),this.successInputList.forEach(function(t){var n=t.inputName,o=t.default_shadow;e.append_shadow_input(n,o,"SUCCESS_MUTATION_BTN")});var t,n,o,a,r,l,c,s,d,m,g=this.append_statement_input("SUCCESS",void 0,"".concat("cloud_dict_success_DO","_").concat(this.successDO));this.successConnection&&null!=(m=g.connection)&&m.connect(this.successConnection)}if(this.failedStatement_){this.get_input("FAILED_MUTATION_BTN")&&this.remove_input("FAILED_MUTATION_BTN"),this.append_dummy_input("FAILED_MUTATION_BTN"),this.append_dummy_input("FAILED_TEXT","FAILED_MUTATION_BTN").append_field(p.Z.Msg.ROOM_FAILED_TEXT),this.append_shadow_input("ERROR_MSG",'<shadow type="cloud_dict_fail_result"/>',"FAILED_MUTATION_BTN");var E,T=this.append_statement_input("ERROR",void 0,"cloud_dict_error_DO");this.failedConnection&&null!=(E=T.connection)&&E.connect(this.failedConnection)}this.successStatement_&&null!=(r=this.get_input("SUCCESS_MUTATION_BTN"))&&r.append_field(u.q(i.SUCCESS),"mutation_remove_button"),this.failedStatement_&&null!=(l=this.get_input("FAILED_MUTATION_BTN"))&&l.append_field(u.q(i.FAILED),"mutation_remove_button"),this.successStatement_||(this.failedStatement_?null!=(c=this.get_input("FAILED_MUTATION_BTN"))&&c.append_field(u.p(),"mutation_add_button"):null!=(s=this.get_input("SUCCESS_MUTATION_BTN"))&&s.append_field(u.p(),"mutation_add_button")),!this.failedStatement_&&this.successStatement_&&null!=(d=this.get_input("SUCCESS_MUTATION_BTN"))&&d.append_field(u.p(),""),p.Z.events.enable(),this.render()},domToMutation:function(e){this.successStatement_=parseInt(e.getAttribute("success_statement")||"0"),this.failedStatement_=parseInt(e.getAttribute("failed_statement")||"0"),this.updateShape_()},mutationToDom:function(){var e=document.createElement("mutation");return e.setAttribute("failed_statement",String(this.failedStatement_)),e.setAttribute("success_statement",String(this.successStatement_)),e}},v=Object.assign({},T,{successInputList:[],successDO:"NEXT"}),h=Object.assign({},T,{successInputList:[{inputName:"CLOUD_DICT_QUERY_VALUE_RESULT",default_shadow:'<shadow type="cloud_dict_query_value_by_key_result">\n        </shadow>'}],successDO:"QUERY_VALUE_BY_KEY"}),f=Object.assign({},T,{successInputList:[{inputName:"CLOUD_DICT_QUERY_KEY_COUNT_RESULT",default_shadow:'<shadow type="cloud_dict_query_key_count_result">\n        </shadow>'}],successDO:"QUERY_KEY_COUNT"}),b=Object.assign({},T,{successInputList:[{inputName:"CLOUD_DICT_QUERY_ALL_KEYS_RESULT",default_shadow:'<shadow type="cloud_dict_query_all_keys_result">\n        </shadow>'}],successDO:"QUERY_ALL_KEYS"}),O={type:m.j,category:{iconId:"icon-widget-cloud-dict",blocks:m.j},getTemplate:function(e){var t,n='<field name="WIDGET_ID">'.concat(e,"</field>"),o=s.c().getCloudDictKeyList(e),i=null==(t=o[1])?void 0:t.value;(void 0===i||Object.keys(l.Ag).includes(i))&&(i=o[0].value);var a='<field name="KEYS">'.concat(i,"</field>");return['<block type="cloud_space_dict_on_error" uncache="true">\n      '.concat(n,"\n    </block>"),c.d,d.cb({widgetType:m.j,title:"修改",lineId:"setter"}),'<block type="cloud_space_dict_set_key_value" uncache="true">\n      '.concat(n,'\n      <value name="DICT_KEYS_WRAPPER">\n        <shadow type="cloud_dict_all_key_dropdown">').concat(a,'</shadow>\n      </value>\n      <value name="VALUE">\n        <shadow type="text">\n          <field name="TEXT" >0</field>\n        </shadow>\n      </value>\n    </block>'),'<block type="cloud_space_dict_delete_key" uncache="true">\n      '.concat(n,'\n      <value name="DICT_KEYS_WRAPPER">\n        <shadow type="cloud_dict_all_key_dropdown">').concat(a,"</shadow>\n      </value>\n    </block>"),d.cb({widgetType:m.j,title:"查询",lineId:"query"}),'<block type="cloud_space_dict_get_key_value" uncache="true">\n      '.concat(n,'\n      <value name="DICT_KEYS_WRAPPER">\n        <shadow type="cloud_dict_all_key_dropdown">').concat(a,"</shadow>\n      </value>\n    </block>"),'<block type="cloud_space_dict_get_key_count" uncache="true">\n      '.concat(n,"\n    </block>"),'<block type="cloud_space_dict_get_all_keys" uncache="true">\n      '.concat(n,"\n    </block>"),d.cb({widgetType:m.j,title:"清空",lineId:"clear"}),'<block type="cloud_space_dict_clear_data" uncache="true">\n      '.concat(n,"\n    </block>")]},blockDeclareGroup:{setBlockGroupSnippet:function(e){e.insertBlockSnippetGenerator("cloud_dict_all_key_dropdown",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"KEYS")||"";return u.o(i)}),e.insertBlockSnippetGenerator("cloud_dict_fail_result",function(){return"cloudDictFailResult"}),e.insertBlockSnippetGenerator("cloud_dict_query_value_by_key_result",function(){return"cloudDictQueryValueByKeyResult"}),e.insertBlockSnippetGenerator("cloud_dict_query_key_count_result",function(){return"cloudDictQueryKeyCountResult"}),e.insertBlockSnippetGenerator("cloud_dict_query_all_keys_result",function(){return"cloudDictQueryAllKeysResult"}),e.insertBlockSnippetGenerator("cloud_dict_error_info",function(){return"cloudDictErrorInfo"}),e.insertBlockSnippetGenerator("cloud_space_dict_on_error",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID"),a=e.getFieldValue(o,"EVENT"),r=e.valueToCode(t,n,"CLOUD_DICT_ERROR_INFO",e.ORDER_FUNCTION_CALL),l=e.statementToCode(t,n,"DO");if(!l)return"";var c="".concat(i,"_").concat(a);return u.n("onCloudDictError",[u.o(c)],l,[r])}),e.insertBlockSnippetGenerator("cloud_space_dict_set_key_value",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID"),a=e.valueToCode(t,n,"DICT_KEYS_WRAPPER",e.ORDER_FUNCTION_CALL),r=e.valueToCode(t,n,"VALUE",e.ORDER_FUNCTION_CALL),l=e.statementToCode(t,n,"SUCCESS"),c=e.valueToCode(t,n,"ERROR_MSG",e.ORDER_FUNCTION_CALL),s=e.statementToCode(t,n,"ERROR");return u.l(u.j("cloudDictSetKeyValue",[u.o(i),a,r,u.k([],l),u.k([c],s)]),t.blocks[n],e,!0)}),e.insertBlockSnippetGenerator("cloud_space_dict_delete_key",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID"),a=e.valueToCode(t,n,"DICT_KEYS_WRAPPER",e.ORDER_FUNCTION_CALL),r=e.statementToCode(t,n,"SUCCESS"),l=e.valueToCode(t,n,"ERROR_MSG",e.ORDER_FUNCTION_CALL),c=e.statementToCode(t,n,"ERROR");return u.l(u.j("cloudDictDeleteKey",[u.o(i),a,u.k([],r),u.k([l],c)]),t.blocks[n],e,!0)}),e.insertBlockSnippetGenerator("cloud_space_dict_clear_data",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID"),a=e.statementToCode(t,n,"SUCCESS"),r=e.valueToCode(t,n,"ERROR_MSG",e.ORDER_FUNCTION_CALL),l=e.statementToCode(t,n,"ERROR");return u.l(u.j("cloudDictClearData",[u.o(i),u.k([],a),u.k([r],l)]),t.blocks[n],e,!0)}),e.insertBlockSnippetGenerator("cloud_space_dict_get_key_value",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID"),a=e.valueToCode(t,n,"DICT_KEYS_WRAPPER",e.ORDER_FUNCTION_CALL),r=e.valueToCode(t,n,"CLOUD_DICT_QUERY_VALUE_RESULT",e.ORDER_FUNCTION_CALL),l=e.statementToCode(t,n,"SUCCESS"),c=e.valueToCode(t,n,"ERROR_MSG",e.ORDER_FUNCTION_CALL),s=e.statementToCode(t,n,"ERROR");return u.l(u.j("cloudDictGetValueByKey",[u.o(i),a,u.k([r],l),u.k([c],s)]),t.blocks[n],e,!0)}),e.insertBlockSnippetGenerator("cloud_space_dict_get_key_count",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID"),a=e.valueToCode(t,n,"CLOUD_DICT_QUERY_KEY_COUNT_RESULT",e.ORDER_FUNCTION_CALL),r=e.statementToCode(t,n,"SUCCESS"),l=e.valueToCode(t,n,"ERROR_MSG",e.ORDER_FUNCTION_CALL),c=e.statementToCode(t,n,"ERROR");return u.l(u.j("cloudDictGetKeyCount",[u.o(i),u.k([a],r),u.k([l],c)]),t.blocks[n],e,!0)}),e.insertBlockSnippetGenerator("cloud_space_dict_get_all_keys",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID"),a=e.valueToCode(t,n,"CLOUD_DICT_QUERY_ALL_KEYS_RESULT",e.ORDER_FUNCTION_CALL),r=e.statementToCode(t,n,"SUCCESS"),l=e.valueToCode(t,n,"ERROR_MSG",e.ORDER_FUNCTION_CALL),c=e.statementToCode(t,n,"ERROR");return u.l(u.j("cloudDictGetAllKey",[u.o(i),u.k([a],r),u.k([l],c)]),t.blocks[n],e,!0)})},setBlockGroupProfile:function(e,t){t.extensions.register_mutator("cloud_dict_default_toggle_statement",v),t.extensions.register_mutator("cloud_dict_query_value_by_key_toggle_statement",h),t.extensions.register_mutator("cloud_dict_query_key_count_toggle_statement",f),t.extensions.register_mutator("cloud_dict_query_all_keys_toggle_statement",b);var n={type:"field_coco_dropdown",name:"WIDGET_ID",custom:!0,options:function(){return s.c().getWidgetListByType(m.j)}};e.insertBlockProfile("cloud_dict_all_key_dropdown",{type:"cloud_dict_all_key_dropdown",message0:"%1",args0:[{type:"field_coco_dropdown",name:"KEYS",custom:!0,advancedOptions:function(){var e,t,n=(null==(e=this.source_block)||null==(t=e.parent_block)?void 0:t.get_field_value("WIDGET_ID"))||void 0;return s.c().getCloudDictKeyList(n,this)}}],output:["String","Number"]}),e.insertBlockProfile("cloud_dict_fail_result",{type:"cloud_dict_fail_result",message0:"%{BKY_FAIL_RESULT}",output:"String",required_context:"".concat("cloud_dict_error_DO"),colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("cloud_dict_query_value_by_key_result",{type:"cloud_dict_query_value_by_key_result",message0:"%{BKY_QUERY_RESULT}",output:"Array",required_context:"".concat("cloud_dict_success_DO","_QUERY_VALUE_BY_KEY"),colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("cloud_dict_query_key_count_result",{type:"cloud_dict_query_key_count_result",message0:"%{BKY_QUERY_RESULT}",output:"Array",required_context:"".concat("cloud_dict_success_DO","_QUERY_KEY_COUNT"),colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("cloud_dict_query_all_keys_result",{type:"cloud_dict_query_all_keys_result",message0:"%{BKY_ALL_KEYS_RESULT}",args0:[u.d("%{BKY_BLOCK_LIST_ICON}")],output:"Array",required_context:"".concat("cloud_dict_success_DO","_QUERY_ALL_KEYS"),colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("cloud_dict_error_info",{type:"cloud_dict_error_info",message0:"%{BKY_ERROR_INFO}",output:"String",required_context:"cloud_space_dict_on_error_DO",colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("cloud_space_dict_on_error",{type:"cloud_space_dict_on_error",message0:"%{BKY_CLOUD_SPACE_DICT_ON_ERROR}",args0:[u.e("%{BKY_BLOCK_CLOUD_DICT_ICON}",!0),g.a({},n),{type:"field_coco_dropdown",name:"EVENT",custom:!0,options:[["%{BKY_EVENT_SETTER}",E.a.SETTER],["%{BKY_EVENT_DELETE}",E.a.DELETE],["%{BKY_EVENT_QUERY}",E.a.QUERY],["%{BKY_EVENT_CLEAR}",E.a.CLEAR]]},{type:"input_value",name:"CLOUD_DICT_ERROR_INFO",default_shadow:'<shadow type="cloud_dict_error_info" />'},{type:"input_dummy",align:"CENTRE"},{type:"input_statement",name:"DO",provided_context:"cloud_space_dict_on_error_DO"}],colour:"%{BKY_EVENTS_HUE}",inputsInline:!0,tooltip:"%{BKY_CLOUD_SPACE_DICT_ON_ERROR_TOOLTIP}"}),e.insertBlockProfile("cloud_space_dict_set_key_value",{type:"cloud_space_dict_set_key_value",message0:"%{BKY_CLOUD_SPACE_DICT_SET_KEY_VALUE}",args0:[g.a({},n),{type:"input_value",name:"DICT_KEYS_WRAPPER",check:["String","Number"]},{type:"input_value",name:"VALUE"},{type:"input_dummy",name:"DUMMY"},{type:"mutation_add_button",name:"mutation_add_button"},{type:"input_dummy",name:"SUCCESS_MUTATION_BTN"}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_CONTROL_HUE}",inputsInline:!0,mutator:"cloud_dict_default_toggle_statement",extensions:["UPDATE_KEYS_AFTER_SELECT_CLOUD_DICT"],tooltip:"%{BKY_CLOUD_SPACE_DICT_SET_KEY_VALUE_TOOLTIP}"}),e.insertBlockProfile("cloud_space_dict_delete_key",{type:"cloud_space_dict_delete_key",message0:"%{BKY_CLOUD_SPACE_DICT_DELETE_KEY}",args0:[g.a({},n),{type:"input_value",name:"DICT_KEYS_WRAPPER",check:["String","Number"]},{type:"input_dummy",name:"DUMMY"},{type:"mutation_add_button",name:"mutation_add_button"},{type:"input_dummy",name:"SUCCESS_MUTATION_BTN"}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_CONTROL_HUE}",inputsInline:!0,mutator:"cloud_dict_default_toggle_statement",extensions:["UPDATE_KEYS_AFTER_SELECT_CLOUD_DICT"],tooltip:"%{BKY_CLOUD_SPACE_DICT_DELETE_KEY_TOOLTIP}"}),e.insertBlockProfile("cloud_space_dict_get_key_value",{type:"cloud_space_dict_get_key_value",message0:"%{BKY_CLOUD_SPACE_DICT_GET_VALUE_BY_KEY}",args0:[g.a({},n),{type:"input_value",name:"DICT_KEYS_WRAPPER",check:["String","Number"]},{type:"input_dummy",name:"DUMMY"},{type:"mutation_add_button",name:"mutation_add_button"},{type:"input_dummy",name:"SUCCESS_MUTATION_BTN"}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_CONTROL_HUE}",inputsInline:!0,mutator:"cloud_dict_query_value_by_key_toggle_statement",extensions:["UPDATE_KEYS_AFTER_SELECT_CLOUD_DICT"],tooltip:"%{BKY_CLOUD_SPACE_DICT_GET_VALUE_BY_KEY_TOOLTIP}"}),e.insertBlockProfile("cloud_space_dict_get_key_count",{type:"cloud_space_dict_get_key_count",message0:"%{BKY_CLOUD_SPACE_DICT_GET_KEY_COUNT}",args0:[g.a({},n),{type:"input_dummy",name:"DUMMY"},{type:"mutation_add_button",name:"mutation_add_button"},{type:"input_dummy",name:"SUCCESS_MUTATION_BTN"}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_CONTROL_HUE}",inputsInline:!0,mutator:"cloud_dict_query_key_count_toggle_statement",tooltip:"%{BKY_CLOUD_SPACE_DICT_GET_KEY_COUNT_TOOLTIP}"}),e.insertBlockProfile("cloud_space_dict_get_all_keys",{type:"cloud_space_dict_get_all_keys",message0:"%{BKY_CLOUD_SPACE_DICT_GET_ALL_KEYS}",args0:[g.a({},n),{type:"input_dummy",name:"DUMMY"},{type:"mutation_add_button",name:"mutation_add_button"},{type:"input_dummy",name:"SUCCESS_MUTATION_BTN"}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_CONTROL_HUE}",inputsInline:!0,mutator:"cloud_dict_query_all_keys_toggle_statement",tooltip:"%{BKY_CLOUD_SPACE_DICT_GET_ALL_KEYS_TOOLTIP}"}),e.insertBlockProfile("cloud_space_dict_clear_data",{type:"cloud_space_dict_clear_data",message0:"%{BKY_CLOUD_SPACE_DICT_CLEAR_DATA}",args0:[g.a({},n),{type:"input_dummy",name:"DUMMY"},{type:"mutation_add_button",name:"mutation_add_button"},{type:"input_dummy",name:"SUCCESS_MUTATION_BTN"}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_CONTROL_HUE}",inputsInline:!0,mutator:"cloud_dict_default_toggle_statement",tooltip:"%{BKY_CLOUD_SPACE_DICT_CLEAR_DATA_TOOLTIP}"})}},categoryClass:{text:"",iconId:"icon-widget-cloud-dict",blocks:[]},renameBlocksInfo:{blocksList:["cloud_space_dict_on_error","cloud_space_dict_set_key_value","cloud_space_dict_delete_key","cloud_space_dict_get_key_value","cloud_space_dict_get_key_count","cloud_space_dict_get_all_keys","cloud_space_dict_clear_data"],fieldName:"WIDGET_ID"},topBlocks:["cloud_space_dict_on_error"]},C={icon:"icon-widget-cloud-dict",title:"CloudSpaceDictWidget.widgetName",type:m.j,previewAreaWidgetTitle:"CloudSpaceDictWidget.widgetName",component:a.Yh,editConfig:r.wg,blockConfig:O,isInvisibleWidget:!0,widget:{size:{width:0,height:0},isGlobalWidget:!0,attributes:{cloudDictId:d.f}}},I=[{type:"WidgetTitle"},{type:"TableFields"},{type:"HelpUrl",url:"https://codemao-guide.yuque.com/bfiekm/sbo5kh/cloud-table"}]},84523(e,t,n){n.d(t,{__:()=>O});var o,i,a=n(63110),r=n(98852),l=n(38815),c=n(74375),s=n(60096),u=n(24876),d=n(12327),p=n(38752),m=n(94220),g=n(28950),E=n(47605);(o=i||(i={}))[o.SUCCESS=1]="SUCCESS",o[o.FAILED=2]="FAILED";var T={failedStatement_:0,successStatement_:0,successConnection:null,failedConnection:null,addMutation:function(e){var t=!1,n=e;if(!n&&(this.successStatement_?this.failedStatement_||(n=i.FAILED):n=i.SUCCESS),n===i.SUCCESS?(t=!0,this.successStatement_=1,n=i.SUCCESS):n===i.FAILED&&(t=!0,this.failedStatement_=1,n=i.FAILED),t&&(this.updateShape_(),p.Z.events.is_enabled())){var o=u.c("mutation",{block:this,old_value:void 0,new_value:n});p.Z.events.fire(o)}},removeMutation:function(e){var t=!1,n=e||i.SUCCESS;if(n===i.FAILED?(this.failedStatement_=0,t=!0):n===i.SUCCESS&&(this.successStatement_=0,t=!0),t&&(this.updateShape_(),p.Z.events.is_enabled())){var o=u.c("mutation",{block:this,old_value:n,new_value:void 0});p.Z.events.fire(o)}},updateShape_:function(){var e=this;if(p.Z.events.disable(),this.get_input("ERROR_MSG")&&this.remove_input("ERROR_MSG"),this.get_input("FAILED_TEXT")&&this.remove_input("FAILED_TEXT"),this.get_input("FAILED_MUTATION_BTN")&&this.remove_input("FAILED_MUTATION_BTN"),this.successInputList.forEach(function(t){var n=t.inputName;e.get_input(n)&&e.remove_input(n)}),p.Z.events.enable(),this.get_input("ERROR")?(this.failedConnection=null==(t=this.get_input("ERROR"))||null==(n=t.connection)?void 0:n.target_connection,this.failedStatement_?(p.Z.events.disable(),this.remove_input("ERROR"),p.Z.events.enable()):this.remove_input("ERROR")):this.failedConnection=null,this.get_input("SUCCESS")?(this.successConnection=null==(o=this.get_input("SUCCESS"))||null==(a=o.connection)?void 0:a.target_connection,this.successStatement_?(p.Z.events.disable(),this.remove_input("SUCCESS"),p.Z.events.enable()):this.remove_input("SUCCESS")):this.successConnection=null,p.Z.events.disable(),this.get_input("SUCCESS_TEXT")&&this.remove_input("SUCCESS_TEXT"),this.get_input("SUCCESS_MUTATION_BTN")&&this.remove_input("SUCCESS_MUTATION_BTN"),this.append_dummy_input("SUCCESS_MUTATION_BTN"),this.successStatement_){this.append_dummy_input("SUCCESS_TEXT","SUCCESS_MUTATION_BTN").append_field(p.Z.Msg.ROOM_SUCCESS_TEXT),this.successInputList.forEach(function(t){var n=t.inputName,o=t.default_shadow;e.append_shadow_input(n,o,"SUCCESS_MUTATION_BTN")});var t,n,o,a,r,l,c,s,d,m,g=this.append_statement_input("SUCCESS",void 0,"".concat("CONTEXT_CLOUD_TABLE_SUCCESS_DO","_").concat(this.successDO));this.successConnection&&null!=(m=g.connection)&&m.connect(this.successConnection)}if(this.failedStatement_){this.get_input("FAILED_MUTATION_BTN")&&this.remove_input("FAILED_MUTATION_BTN"),this.append_dummy_input("FAILED_MUTATION_BTN"),this.append_dummy_input("FAILED_TEXT","FAILED_MUTATION_BTN").append_field(p.Z.Msg.CLOUT_TABLE_FAILED_TEXT),this.append_shadow_input("ERROR_MSG",'<shadow type="cloudTable_fail_result"/>',"FAILED_MUTATION_BTN");var E,T=this.append_statement_input("ERROR",void 0,"CONTEXT_CLOUD_TABLE_ERROR_DO");this.failedConnection&&null!=(E=T.connection)&&E.connect(this.failedConnection)}this.successStatement_&&null!=(r=this.get_input("SUCCESS_MUTATION_BTN"))&&r.append_field(u.q(i.SUCCESS),"mutation_remove_button"),this.failedStatement_&&null!=(l=this.get_input("FAILED_MUTATION_BTN"))&&l.append_field(u.q(i.FAILED),"mutation_remove_button"),this.successStatement_||(this.failedStatement_?null!=(c=this.get_input("FAILED_MUTATION_BTN"))&&c.append_field(u.p(),"mutation_add_button"):null!=(s=this.get_input("SUCCESS_MUTATION_BTN"))&&s.append_field(u.p(),"mutation_add_button")),!this.failedStatement_&&this.successStatement_&&null!=(d=this.get_input("SUCCESS_MUTATION_BTN"))&&d.append_field(u.p(),""),p.Z.events.enable(),this.render()},domToMutation:function(e){this.successStatement_=parseInt(e.getAttribute("success_statement")||"0"),this.failedStatement_=parseInt(e.getAttribute("failed_statement")||"0"),this.updateShape_()},mutationToDom:function(){var e=document.createElement("mutation");return e.setAttribute("failed_statement",String(this.failedStatement_)),e.setAttribute("success_statement",String(this.successStatement_)),e}},v=Object.assign({},T,{successInputList:[],successDO:"NEXT"}),h=Object.assign({},T,{successInputList:[{inputName:"CLOUD_TABLE_QUERY_BY_COLUMN_LIST_RESULT",default_shadow:'<shadow type="cloudTable_query_by_column_list_result">\n        </shadow>'}],successDO:"QUERY_BY_COLUMN"}),f=Object.assign({},T,{successInputList:[{inputName:"CLOUD_TABLE_QUERY_BY_COUNT_RESULT",default_shadow:'<shadow type="cloudTable_query_by_count_result">\n        </shadow>'}],successDO:"QUERY_BY_COUNT"}),b={type:m.k,category:{iconId:"icon-widget-cloud-table",blocks:m.k},getTemplate:function(e){var t,n='<field name="WIDGET_ID">'.concat(e,"</field>"),o=s.c().getCloudTableColumnList(e),i=null==(t=o[1])?void 0:t.value;(void 0===i||Object.keys(r.Ag).includes(i))&&(i=o[0].value);var a='<field name="COLUMNS">'.concat(i,"</field>");return['<block type="cloudTable_on_error" uncache="true">'.concat(n,"</block>"),c.d,d.cb({widgetType:m.k,title:"修改",lineId:"modify"}),'<block type="cloudTable_insert" uncache="true">\n      <value name="INSERT_ROW">\n        <shadow type="text">\n          <field name="TEXT" >1,2,3</field>\n        </shadow>\n      </value>\n      '.concat(n,"\n    </block>"),'<block type="cloudTable_delete" uncache="true">\n      '.concat(n,'\n      <value name="INPUT_COLUMN">\n        <shadow type="cloudTable_all_column_dropdown">').concat(a,'</shadow>\n      </value>\n      <value name="COLUMN_VALUE">\n        <shadow type="text">\n          <field name="TEXT">123</field>\n        </shadow>\n      </value>\n    </block>'),'<block type="cloudTable_update" uncache="true">\n      '.concat(n,'\n      <value name="INPUT_COLUMN">\n        <shadow type="cloudTable_all_column_dropdown">').concat(a,'</shadow>\n      </value>\n      <value name="COLUMN_VALUE">\n        <shadow type="text">\n          <field name="TEXT">123</field>\n        </shadow>\n      </value>\n      <value name="UPDATE_COLUMN">\n        <shadow type="cloudTable_all_column_dropdown">').concat(a,'</shadow>\n      </value>\n      <value name="UPDATE_COLUMN_VALUE">\n        <shadow type="text">\n          <field name="TEXT">456</field>\n        </shadow>\n      </value>\n    </block>'),d.cb({widgetType:m.k,title:"查询",lineId:"query"}),'<block type="cloudTable_query_by_column" uncache="true">\n      '.concat(n,'\n      <value name="INPUT_COLUMN">\n        <shadow type="cloudTable_all_column_dropdown">').concat(a,'</shadow>\n      </value>\n      <value name="COLUMN_VALUE">\n        <shadow type="text">\n          <field name="TEXT">123</field>\n        </shadow>\n      </value>\n    </block>'),'<block type="cloudTable_query_by_count" uncache="true">\n      '.concat(n,"\n    </block>"),d.cb({widgetType:m.k,title:"清空",lineId:"clear"}),'<block type="cloudTable_clear_all" uncache="true">\n      '.concat(n,"\n    </block>")]},blockDeclareGroup:{setBlockGroupSnippet:function(e){e.insertBlockSnippetGenerator("cloudTable_all_column_dropdown",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"COLUMNS")||"";return u.o(i)}),e.insertBlockSnippetGenerator("cloudTable_fail_result",function(){return"cloudTableFailResult"}),e.insertBlockSnippetGenerator("cloudTable_query_by_column_list_result",function(){return"cloudTableQueryByColumnListResult"}),e.insertBlockSnippetGenerator("cloudTable_query_by_column_line_number_result",function(){return"cloudTableQueryByColumnLineNumberResult"}),e.insertBlockSnippetGenerator("cloudTable_query_by_column_result",function(){return"cloudTableQueryByColumnResult"}),e.insertBlockSnippetGenerator("cloudTable_query_by_count_result",function(){return"cloudTableQueryByCountResult"}),e.insertBlockSnippetGenerator("cloudTable_error_name",function(){return"cloudTableErrorName"}),e.insertBlockSnippetGenerator("cloudTable_error_type",function(){return"cloudTableErrorType"}),e.insertBlockSnippetGenerator("cloudTable_error_info",function(){return"cloudTableErrorInfo"}),e.insertBlockSnippetGenerator("cloudTable_on_error",function(t,n){var o=t.blocks[n],i=e.valueToCode(t,n,"CLOUD_TABLE_ERROR_INFO",e.ORDER_FUNCTION_CALL),a=e.statementToCode(t,n,"DO"),r=e.getFieldValue(o,"EVENT");return u.n("onCloudTableError",[JSON.stringify(r),u.k([i],a)])}),e.insertBlockSnippetGenerator("cloudTable_insert",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID"),a=e.valueToCode(t,n,"INSERT_ROW",e.ORDER_FUNCTION_CALL),r=e.statementToCode(t,n,"SUCCESS"),l=e.valueToCode(t,n,"ERROR_MSG",e.ORDER_FUNCTION_CALL),c=e.statementToCode(t,n,"ERROR");return u.l(u.j("cloudTableInsertRow",[u.o(i),a,u.k([],r),u.k([l],c)]),o,e,!0)}),e.insertBlockSnippetGenerator("cloudTable_delete",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID"),a=e.valueToCode(t,n,"INPUT_COLUMN",e.ORDER_FUNCTION_CALL),r=e.getFieldValue(o,"OPERATOR")||"",l=e.valueToCode(t,n,"COLUMN_VALUE",e.ORDER_FUNCTION_CALL),c=e.statementToCode(t,n,"SUCCESS"),s=e.valueToCode(t,n,"ERROR_MSG",e.ORDER_FUNCTION_CALL),d=e.statementToCode(t,n,"ERROR");return u.l(u.j("cloudTableDeleteRows",[u.o(i),a,"'".concat(r,"'"),l,u.k([],c),u.k([s],d)]),t.blocks[n],e,!0)}),e.insertBlockSnippetGenerator("cloudTable_update",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID"),a=e.valueToCode(t,n,"INPUT_COLUMN",e.ORDER_FUNCTION_CALL)||"",r=e.getFieldValue(o,"OPERATOR")||"",l=e.valueToCode(t,n,"COLUMN_VALUE",e.ORDER_FUNCTION_CALL)||"",c=e.valueToCode(t,n,"UPDATE_COLUMN",e.ORDER_FUNCTION_CALL)||"",s=e.valueToCode(t,n,"UPDATE_COLUMN_VALUE",e.ORDER_FUNCTION_CALL)||"",d=e.statementToCode(t,n,"SUCCESS"),p=e.valueToCode(t,n,"ERROR_MSG",e.ORDER_FUNCTION_CALL),m=e.statementToCode(t,n,"ERROR");return u.l(u.j("cloudTableUpdate",[u.o(i),a,"'".concat(r,"'"),l,c,s,u.k([],d),u.k([p],m)]),t.blocks[n],e,!0)}),e.insertBlockSnippetGenerator("cloudTable_query_by_column",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID"),a=e.valueToCode(t,n,"INPUT_COLUMN",e.ORDER_FUNCTION_CALL)||"",r=e.getFieldValue(o,"OPERATOR")||"",l=e.valueToCode(t,n,"COLUMN_VALUE",e.ORDER_FUNCTION_CALL),c=e.valueToCode(t,n,"CLOUD_TABLE_QUERY_BY_COLUMN_LIST_RESULT",e.ORDER_FUNCTION_CALL),s=e.valueToCode(t,n,"CLOUD_TABLE_QUERY_BY_COLUMN_LINE_NUMBER_RESULT",e.ORDER_FUNCTION_CALL),d=e.statementToCode(t,n,"SUCCESS"),p=e.valueToCode(t,n,"ERROR_MSG",e.ORDER_FUNCTION_CALL),m=e.statementToCode(t,n,"ERROR");return u.l(u.j("cloudTableQuery",[u.o(i),a,"'".concat(r,"'"),l,u.k([c,s],d),u.k([p],m)]),t.blocks[n],e,!0)}),e.insertBlockSnippetGenerator("cloudTable_query_by_count",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID"),a=e.valueToCode(t,n,"CLOUD_TABLE_QUERY_BY_COUNT_RESULT",e.ORDER_FUNCTION_CALL),r=e.statementToCode(t,n,"SUCCESS"),l=e.valueToCode(t,n,"ERROR_MSG",e.ORDER_FUNCTION_CALL),c=e.statementToCode(t,n,"ERROR"),s=e.getFieldValue(o,"OPTIONS")||"";return u.l(u.j("cloudTableQueryByCount",[u.o(i),"'".concat(s,"'"),u.k([a],r),u.k([l],c)]),t.blocks[n],e,!0)}),e.insertBlockSnippetGenerator("cloudTable_clear_all",function(t,n){var o=t.blocks[n],i=e.getFieldValue(o,"WIDGET_ID"),a=e.valueToCode(t,n,"CLOUD_TABLE_CLEAR_ALL_RESULT",e.ORDER_FUNCTION_CALL),r=e.statementToCode(t,n,"SUCCESS"),l=e.valueToCode(t,n,"ERROR_MSG",e.ORDER_FUNCTION_CALL),c=e.statementToCode(t,n,"ERROR");return u.l(u.j("cloudTableClearAll",[u.o(i),u.k([a],r),u.k([l],c)]),t.blocks[n],e,!0)})},setBlockGroupProfile:function(e,t){t.extensions.register_mutator("cloudTable_default_toggle_statement",v),t.extensions.register_mutator("cloudTable_query_by_column_toggle_statement",h),t.extensions.register_mutator("cloudTable_query_by_count_toggle_statement",f);var n={type:"field_coco_dropdown",name:"WIDGET_ID",custom:!0,options:function(){return s.c().getWidgetListByType(m.k)}};e.insertBlockProfile("cloudTable_all_column_dropdown",{type:"cloudTable_all_column_dropdown",message0:"%1",args0:[{type:"field_coco_dropdown",name:"COLUMNS",custom:!0,advancedOptions:function(){var e,t,n=(null==(e=this.source_block)||null==(t=e.parent_block)?void 0:t.get_field_value("WIDGET_ID"))||void 0;return s.c().getCloudTableColumnList(n,this)}}],output:["String","Number"]}),e.insertBlockProfile("cloudTable_fail_result",{type:"cloudTable_fail_result",message0:"%{BKY_CLOUD_TABLE_FAIL_RESULT}",output:"String",required_context:"".concat("CONTEXT_CLOUD_TABLE_ERROR_DO"),colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("cloudTable_query_by_column_list_result",{type:"cloudTable_query_by_column_list_result",message0:"%{BKY_CLOUD_TABLE_QUERY_BY_COLUMN_LIST_RESULT}",args0:[u.d("%{BKY_BLOCK_LIST_ICON}")],output:"Array",required_context:"".concat("CONTEXT_CLOUD_TABLE_SUCCESS_DO","_QUERY_BY_COLUMN"),colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("cloudTable_query_by_column_line_number_result",{type:"cloudTable_query_by_column_line_number_result",message0:"%{BKY_CLOUD_TABLE_QUERY_BY_COLUMN_LINE_NUMBER_RESULT}",args0:[u.d("%{BKY_BLOCK_LIST_ICON}")],output:"Array",required_context:"".concat("CONTEXT_CLOUD_TABLE_SUCCESS_DO","_QUERY_BY_COLUMN"),colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("cloudTable_query_by_count_result",{type:"cloudTable_query_by_count_result",message0:"%{BKY_CLOUD_TABLE_QUERY_BY_COUNT_RESULT}",output:"Array",required_context:"".concat("CONTEXT_CLOUD_TABLE_SUCCESS_DO","_QUERY_BY_COUNT"),colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("cloudTable_error_name",{type:"cloudTable_error_name",message0:"%{BKY_CLOUD_TABLE_ERROR_NAME}",output:"String",required_context:"CONTEXT_CLOUD_TABLE_ERROR_DO",colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("cloudTable_error_type",{type:"cloudTable_error_type",message0:"%{BKY_CLOUD_TABLE_ERROR_TYPE}",output:"String",required_context:"CONTEXT_CLOUD_TABLE_ERROR_DO",colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("cloudTable_error_info",{type:"cloudTable_error_info",message0:"%{BKY_CLOUD_TABLE_ERROR_INFO}",output:"String",required_context:"cloud_space_table_on_error_DO",colour:"%{BKY_PARAM_BLOCK_COLOR}",extensions:["param_block"]}),e.insertBlockProfile("cloudTable_on_error",{type:"cloudTable_on_error",message0:"%{BKY_CLOUD_TABLE_ERROR}",args0:[u.e("%{BKY_BLOCK_CLOUD_TABLE_ICON}",!0),g.a({},n),{type:"field_coco_dropdown",name:"EVENT",custom:!0,options:[["%{BKY_CLOUD_TABLE_EVENT_ADD}",E.a.ADD],["%{BKY_CLOUD_TABLE_EVENT_DELETE}",E.a.DELETE],["%{BKY_CLOUD_TABLE_EVENT_SETTER}",E.a.SETTER],["%{BKY_CLOUD_TABLE_EVENT_QUERY}",E.a.QUERY],["%{BKY_CLOUD_TABLE_EVENT_CLEAR}",E.a.CLEAR]]},{type:"input_value",name:"CLOUD_TABLE_ERROR_INFO",default_shadow:'<shadow type="cloudTable_error_info" />'},{type:"input_dummy",align:"CENTRE"},{type:"input_statement",name:"DO",provided_context:"cloud_space_table_on_error_DO"}],colour:"%{BKY_EVENTS_HUE}",inputsInline:!0,tooltip:"%{BKY_CLOUD_TABLE_ERROR_TOOLTIP}"}),e.insertBlockProfile("cloudTable_insert",{type:"cloudTable_insert",message0:"%{BKY_CLOUD_TABLE_INSERT}",args0:[{type:"input_value",name:"INSERT_ROW",check:["String","Array","Number"]},g.a({},n),{type:"input_dummy",name:"DUMMY"},{type:"mutation_add_button",name:"mutation_add_button"},{type:"input_dummy",name:"SUCCESS_MUTATION_BTN"}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_CONTROL_HUE}",inputsInline:!0,mutator:"cloudTable_default_toggle_statement",extensions:["UPDATE_COLUMNS_AFTER_SELECT_CLOUD_TABLE"],tooltip:"%{BKY_CLOUD_TABLE_INSERT_TOOLTIP}"}),e.insertBlockProfile("cloudTable_delete",{type:"cloudTable_delete",message0:"%{BKY_CLOUD_TABLE_DELETE}",args0:[g.a({},n),{type:"input_value",name:"INPUT_COLUMN",check:["String","Number"]},{type:"field_coco_dropdown",name:"OPERATOR",custom:!0,options:function(){return[["=","EQ"],["≠","NE"]]}},{type:"input_value",name:"COLUMN_VALUE",check:["String","Number","Boolean"]},{type:"input_dummy",name:"DUMMY"},{type:"mutation_add_button",name:"mutation_add_button"},{type:"input_dummy",name:"SUCCESS_MUTATION_BTN"}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_CONTROL_HUE}",inputsInline:!0,mutator:"cloudTable_default_toggle_statement",extensions:["UPDATE_COLUMNS_AFTER_SELECT_CLOUD_TABLE"],tooltip:"%{BKY_CLOUD_TABLE_DELETE_TOOLTIP}"}),e.insertBlockProfile("cloudTable_update",{type:"cloudTable_update",message0:"%{BKY_CLOUD_TABLE_UPDATE}",args0:[g.a({},n),{type:"input_value",name:"INPUT_COLUMN",check:["String","Number"]},{type:"field_coco_dropdown",name:"OPERATOR",custom:!0,options:function(){return[["=","EQ"],["≠","NE"]]}},{type:"input_value",name:"COLUMN_VALUE",check:["String","Number","Boolean"]},{type:"input_value",name:"UPDATE_COLUMN",check:["String","Number"]},{type:"input_value",name:"UPDATE_COLUMN_VALUE",check:["String","Number","Boolean"]},{type:"mutation_add_button",name:"mutation_add_button"},{type:"input_dummy",name:"SUCCESS_MUTATION_BTN"}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_CONTROL_HUE}",inputsInline:!0,mutator:"cloudTable_default_toggle_statement",extensions:["UPDATE_COLUMNS_AFTER_SELECT_CLOUD_TABLE"],tooltip:"%{BKY_CLOUD_TABLE_UPDATE_TOOLTIP}"}),e.insertBlockProfile("cloudTable_query_by_column",{type:"cloudTable_query_by_column",message0:"%{BKY_CLOUD_TABLE_QUERY_BY_COLUMN}",args0:[g.a({},n),{type:"input_value",name:"INPUT_COLUMN",check:["String","Number"]},{type:"field_coco_dropdown",name:"OPERATOR",custom:!0,options:function(){return[["=","EQ"],["≠","NE"]]}},{type:"input_value",name:"COLUMN_VALUE",check:["String","Number","Boolean"]},{type:"input_dummy",name:"DUMMY"},{type:"mutation_add_button",name:"mutation_add_button"},{type:"input_dummy",name:"SUCCESS_MUTATION_BTN"}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_CONTROL_HUE}",inputsInline:!0,mutator:"cloudTable_query_by_column_toggle_statement",extensions:["UPDATE_COLUMNS_AFTER_SELECT_CLOUD_TABLE"],tooltip:"%{BKY_CLOUD_TABLE_QUERY_BY_COLUMN_TOOLTIP}"}),e.insertBlockProfile("cloudTable_query_by_count",{type:"cloudTable_query_by_count",message0:"%{BKY_CLOUD_TABLE_QUERY_BY_COUNT}",args0:[g.a({},n),{type:"field_coco_dropdown",name:"OPTIONS",custom:!0,options:function(){return[[t.Msg.CLOUD_TABLE_ROW,"row"],[t.Msg.CLOUD_TABLE_COLUMN,"column"]]}},{type:"input_dummy",name:"DUMMY"},{type:"mutation_add_button",name:"mutation_add_button"},{type:"input_dummy",name:"SUCCESS_MUTATION_BTN"}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_CONTROL_HUE}",inputsInline:!0,mutator:"cloudTable_query_by_count_toggle_statement",extensions:["UPDATE_COLUMNS_AFTER_SELECT_CLOUD_TABLE"],tooltip:"%{BKY_CLOUD_TABLE_QUERY_BY_COUNT_TOOLTIP}"}),e.insertBlockProfile("cloudTable_clear_all",{type:"cloudTable_clear_all",message0:"%{BKY_CLOUD_TABLE_CLEAR_ALL}",args0:[g.a({},n),{type:"input_dummy",name:"DUMMY"},{type:"mutation_add_button",name:"mutation_add_button"},{type:"input_dummy",name:"SUCCESS_MUTATION_BTN"}],previousStatement:!0,nextStatement:!0,colour:"%{BKY_CONTROL_HUE}",inputsInline:!0,mutator:"cloudTable_default_toggle_statement",tooltip:"%{BKY_CLOUD_TABLE_CLEAR_ALL_TOOLTIP}"})}},categoryClass:{text:"",iconId:"icon-widget-cloud-table",blocks:[]},renameBlocksInfo:{blocksList:["cloudTable_on_error","cloudTable_insert","cloudTable_delete","cloudTable_update","cloudTable_query_by_column","cloudTable_query_by_count","cloudTable_clear_all"],fieldName:"WIDGET_ID"},topBlocks:["cloudTable_on_error"]},O={icon:"icon-widget-cloud-table",title:"CloudSpaceDBWidget.widgetName",type:m.k,previewAreaWidgetTitle:"CloudSpaceDBWidget.widgetName",component:a.Yh,editConfig:l.l_,blockConfig:b,isInvisibleWidget:!0,widget:{size:{width:0,height:0},isGlobalWidget:!0,attributes:{cloudTableId:d.f}}}},49430(e,t,n){n.d(t,{A_:()=>p,I_:()=>m,S_:()=>d,T_:()=>u});var o=n(16751),i=n(50699),a=n(12327),r=n(86897),l=n(90612),c=n(94220),s=n(28950);n(16622),n(41816),n(12181),n(81740),n(40305),n(3061),n(30322);var u={"zh-CN":{widget:"控件",widgetName:"文本",content:"文本",color:"文本颜色",backgroundColor:"背景颜色",textAlign:"水平对齐",justifyContent:"垂直对齐",fontSize:"字号",textAlignLeftMsg:"居左",textAlignRightMsg:"居右",textAlignCenterMsg:"居中",textVerticalTopMsg:"居上",textVerticalCenterMsg:"居中",textVerticalBottomMsg:"居下",onTextPress:"被点击",width:"宽度",height:"高度"}},d={type:c.H,icon:r.b,title:"widgetName",platforms:["web","android","ios"],isGlobalWidget:!1,isInvisibleWidget:!1,properties:[{key:"content",label:"content",valueType:"string",defaultValue:"content",blockOptions:{setter:{func:"setTextWidgetContent"},getter:{func:"getTextWidgetContent"}}},{key:"color",label:"color",valueType:"color",defaultValue:"#000000ff",blockOptions:{setter:{generateBlock:!1,func:"setTextWidgetFontColor"},getter:{generateBlock:!1,func:"getTextWidgetFontColor"}}},{key:"backgroundColor",label:"backgroundColor",valueType:"color",defaultValue:"#000000ff",blockOptions:{setter:{generateBlock:!1,func:"setTextWidgetBackgroundColor"},getter:{generateBlock:!1,func:"getTextWidgetBackgroundColor"}}},{key:"textColor",label:"",valueType:"color",defaultValue:"#000000ff",readonly:!0,blockOptions:{setter:{keys:["color","backgroundColor"]},getter:{keys:["color","backgroundColor"]}}},{key:"textAlign",label:"textAlign",valueType:"string",defaultValue:"left",dropdown:[{label:"textAlignLeftMsg",value:"left"},{label:"textAlignCenterMsg",value:"center"},{label:"textAlignRightMsg",value:"right"}],blockOptions:{setter:{func:"setTextWidgetHorizontalAlignment"},getter:{generateBlock:!1}}},{key:"justifyContent",label:"justifyContent",valueType:"string",defaultValue:"flex-start",dropdown:[{label:"textVerticalTopMsg",value:"flex-start"},{label:"textVerticalCenterMsg",value:"center"},{label:"textVerticalBottomMsg",value:"flex-end"}],blockOptions:{setter:{func:"setTextWidgetVerticalAlignment"},getter:{generateBlock:!1}}},{key:"fontSize",label:"fontSize",valueType:"number",defaultValue:16,blockOptions:{setter:{func:"setTextWidgetFontSize"},getter:{func:"getTextWidgetFontSize"}},validators:{greaterThan:l.n}},s.a({},a.i),{key:"__width",label:"width",valueType:"number",defaultValue:100,blockOptions:{generateBlock:!1},validators:{lessThan:r.k,greaterThan:r.m}},{key:"__height",label:"height",valueType:"number",defaultValue:100,blockOptions:{generateBlock:!1},validators:{lessThan:r.j,greaterThan:r.l}},{key:"__size",label:"",valueType:"number",defaultValue:100,readonly:!0,blockOptions:{setter:{keys:["__height","__width"]},getter:{keys:["__height","__width"]}}},{key:"__position",label:"",valueType:"number",defaultValue:100,blockOptions:{setter:{space:50}}}],methods:[{key:"__setVisible",label:"__setVisible",params:[],blockOptions:{callMethodLabel:!1,generateBlock:!1}}],events:[{key:"onTextPress",label:"onTextPress",params:[],blockOptions:{icon:"%{BKY_BLOCK_TAB_ICON}"}}]},p={"zh-CN":{widget:"控件",widgetName:"按钮",button:"按钮",text:"文本",mode:"样式",color:"颜色",sizeType:"尺寸大小",containedTextMsg:"底色白字",outlinedTextMsg:"白底彩字",containedIconMsg:"底色图标",outlinedIconMsg:"白底图标",sizeTypeTinyMsg:"超小",sizeTypeSmallMsg:"小",sizeTypeMediumMsg:"中",sizeTypeLargeMsg:"大",sizeTypeHugeMsg:"超大",onButtonPress:"被",pressMsg:"点击",pressInMsg:"按下",pressOutMsg:"松开"}},m={type:c.d,icon:i.d,title:"widgetName",platforms:["web","android","ios"],isGlobalWidget:!1,isInvisibleWidget:!1,properties:[{key:"text",label:"text",valueType:"string",defaultValue:"button",blockOptions:{setter:{func:"setButtonWidgetText"},getter:{func:"getButtonWidgetText"}}},{key:"mode",label:"mode",valueType:"string",defaultValue:o.b.CONTAINED_TEXT,dropdown:[{label:"containedTextMsg",value:o.b.CONTAINED_TEXT},{label:"outlinedTextMsg",value:o.b.OUTLINED_TEXT},{label:"containedIconMsg",value:o.b.CONTAINED_ICON},{label:"outlinedIconMsg",value:o.b.OUTLINED_ICON}],blockOptions:{setter:{func:"setButtonWidgetMode"},getter:{generateBlock:!1}}},{key:"color",label:"color",valueType:"color",defaultValue:"#148cefff",blockOptions:{setter:{func:"setButtonWidgetColor"},getter:{func:"getButtonWidgetColor"}}},s.a({},a.i),{key:"sizeType",label:"sizeType",valueType:"string",defaultValue:o.c.MEDIUM,dropdown:[{label:"sizeTypeTinyMsg",value:o.c.TINY},{label:"sizeTypeSmallMsg",value:o.c.SMALL},{label:"sizeTypeMediumMsg",value:o.c.MEDIUM},{label:"sizeTypeLargeMsg",value:o.c.LARGE},{label:"sizeTypeHugeMsg",value:o.c.HUGE}],blockOptions:{setter:{func:"setButtonWidgetSizeType"},getter:{generateBlock:!1}}},s.a({},a.j),s.a({},a.h)],methods:[{key:"__setVisible",label:"__setVisible",params:[],blockOptions:{callMethodLabel:!1}},{key:"__setDisabled",label:"__setDisabled",params:[],blockOptions:{callMethodLabel:!1}}],events:[{key:"onButtonPress",label:"onButtonPress",subTypes:[{key:"pressType",dropdown:[{label:"pressMsg",value:"Press"},{label:"pressInMsg",value:"PressIn"},{label:"pressOutMsg",value:"PressOut"}]}],params:[],blockOptions:{icon:"%{BKY_BLOCK_TAB_ICON}"}}]}},22125(e,t,n){n.d(t,{k_:()=>l,x_:()=>c});var o=n(58677),i=n(12327),a=n(94220),r=n(28950);n(28327),n(49617),n(71173);var l={"zh-CN":{widget:"控件",widgetName:"单选框",optionCountMsg:"选项数量"}},c={type:a.C,icon:o.a,title:"widgetName",platforms:["web","android","ios"],isGlobalWidget:!1,isInvisibleWidget:!1,properties:[{key:"optionCount",label:"optionCountMsg",valueType:"number",defaultValue:2,blockOptions:{getter:{func:"getRadioWidgetOptionCount"}}},r.a({},i.h)],methods:[],events:[]}},79552(e,t,n){n.d(t,{B_:()=>E,F_:()=>T,G_:()=>v,H_:()=>b,K_:()=>S,L_:()=>m,M_:()=>p,P_:()=>g,U_:()=>f,V_:()=>O,W_:()=>h,Y_:()=>I,q_:()=>y,z_:()=>C});var o=n(15514),i=n(1864),a=n(69460),r=n(44062),l=n(51774),c=n(61476),s=n(12327),u=n(94220),d=n(28950);n(2831);var p={"zh-CN":{widget:"控件",widgetName:"角色",rotation:"方向"}},m={type:u.a,icon:"icon-widget-actor",title:"widgetName",platforms:["web","android","ios"],isGlobalWidget:!1,isInvisibleWidget:!1,properties:[{key:"rotation",label:"rotation",valueType:"number",defaultValue:0,blockDefaultValue:90},d.a({},s.i)],methods:[],events:[]},g={"zh-CN":{widget:"控件",widgetName:"多选框",optionCountMsg:"选项数量"}},E={type:u.g,icon:c.e,title:"widgetName",platforms:["web","android","ios"],isGlobalWidget:!1,isInvisibleWidget:!1,properties:[{key:"optionCount",label:"optionCountMsg",valueType:"number",defaultValue:2,blockOptions:{getter:{func:"getCheckboxWidgetOptionCount"}}},d.a({},s.h)],methods:[],events:[]},T={"zh-CN":{widget:"控件",widgetName:"网页框",widthMsg:"宽度 ",heightMsg:"高度"}},v={type:u.L,icon:l.a,title:"widgetName",platforms:["web","android","ios"],isGlobalWidget:!1,isInvisibleWidget:!1,properties:[d.a({},s.h),{key:"__width",label:"widthMsg",valueType:"number",defaultValue:100,blockOptions:{generateBlock:!1}},{key:"__height",label:"heightMsg",valueType:"number",defaultValue:100,blockOptions:{generateBlock:!1}},{key:"__size",label:"",valueType:"number",defaultValue:100,readonly:!0,blockOptions:{setter:{keys:["__height","__width"]},getter:{keys:["__height","__width"]}}}],methods:[],events:[]},h={"zh-CN":{widget:"控件",widgetName:"开关",widthMsg:"宽度 ",heightMsg:"高度"}},f={type:u.F,icon:r.e,title:"widgetName",platforms:["web","android","ios"],isGlobalWidget:!1,isInvisibleWidget:!1,properties:[d.a({},s.h),{key:"__width",label:"widthMsg",valueType:"number",defaultValue:100,blockOptions:{generateBlock:!1},validators:{greaterThan:r.j}},{key:"__height",label:"heightMsg",valueType:"number",defaultValue:100,blockOptions:{generateBlock:!1},validators:{greaterThan:r.i}},{key:"__size",label:"",valueType:"number",defaultValue:100,readonly:!0,blockOptions:{setter:{keys:["__height","__width"]},getter:{keys:["__height","__width"]}}}],methods:[],events:[]},b={"zh-CN":{widget:"控件",widgetName:"滑动条",widthMsg:"宽度 ",heightMsg:"高度"}},O={type:u.E,icon:a.d,title:"widgetName",platforms:["web","android","ios"],isGlobalWidget:!1,isInvisibleWidget:!1,properties:[d.a({},s.h),{key:"__width",label:"widthMsg",valueType:"number",defaultValue:100,blockOptions:{generateBlock:!1}},{key:"__height",label:"heightMsg",valueType:"number",defaultValue:100,blockOptions:{generateBlock:!1}},{key:"__size",label:"",valueType:"number",defaultValue:100,readonly:!0,blockOptions:{setter:{keys:["__height","__width"]},getter:{keys:["__height","__width"]}}}],methods:[],events:[]},C={"zh-CN":{widget:"控件",widgetName:"列表数据框"}},I={type:u.x,icon:i.i,title:"widgetName",platforms:["web","android","ios"],isGlobalWidget:!1,isInvisibleWidget:!1,properties:[d.a({},s.h)],methods:[],events:[]},S={"zh-CN":{widget:"控件",widgetName:"列表数据框"}},y={type:u.A,icon:o.g,title:"widgetName",platforms:["web","android","ios"],isGlobalWidget:!1,isInvisibleWidget:!1,properties:[d.a({},s.h)],methods:[],events:[]}},18575(e,t,n){n.d(t,{tv:()=>O});var o=n(99432),i=n(12327),a=n(90612),r=n(94220),l=n(81555),c=n(33383),s=n(28950),u=n(13244),d=n(46942),p=n.n(d),m=n(451),g=n(41594),E=n.n(g),T=n(75149),v=n(94080),h=n(85322),f=n(611),b=n.n(f),O=function(e){var t=e.position,n=e.size,d=e.id,f=e.visible,O=e.attributes,C=e.selected,I=e.opacity,S=e.onChange,y=O.textVisible,N=O.text,A=O.fontFamily,k=O.maxFontSize,R=O.textColor,B=O.textAlign,D=O.iconVisible,w=O.iconId,L=O.iconColor,P=O.backgroundMode,U=O.templateMode,M=O.backgroundColor,Y=O.backgroundImage,x=O.imageResizeMode,G=O.disabled,K=y?B:a.a.CENTER,W=(0,g.useState)(!1),F=m.a(W,2),V=F[0],H=F[1],X=(0,g.useState)(!1),z=m.a(X,2),j=z[0],q=z[1],Z=(0,g.useRef)(null),Q=(0,g.useRef)(null);(0,g.useEffect)(function(){var e=Z.current;e&&V&&(e.innerText=N,o.b(e))},[V]),(0,g.useEffect)(function(){C||H(!1)},[C]);var J=k;y||(J=v.l);var $=2*v.r,ee=2*v.q;P===h.a.IMAGE&&($=2*v.j,ee=2*v.i);var et=Math.min((n.width-$)/1.5,(n.height-ee)/1.5,J);et=Math.floor(et=Math.max(et,v.o));var en=i.hb(Y),eo=c.U(Y)?Y:en?(null==en?void 0:en.source)||(null==en?void 0:en.cdnUrl):v.f,ei=(0,g.useMemo)(function(){var e,t;return e=n.height,t={},u.a(t,h.b.RECTANGLE_FILL,{color:G?"#e6e6e6":R,backgroundColor:G?"#cccccc":M,borderRadius:e/4}),u.a(t,h.b.RECTANGLE_OUTLINE,{color:G?"#e9e9e9":R,border:"2px solid ".concat(G?"#e9e9e9":M),backgroundColor:"white",borderRadius:e/4,padding:"0 10px"}),u.a(t,h.b.CIRCLE_FILL,{color:G?"#e6e6e6":R,backgroundColor:G?"#cccccc":M,borderRadius:e/2}),u.a(t,h.b.CIRCLE_OUTLINE,{color:G?"#e9e9e9":R,border:"2px solid ".concat(G?"#e9e9e9":M),backgroundColor:"white",borderRadius:e/2,padding:"0 10px"}),t},[M,G,n.height,R]),ea=void 0;ea=P===h.a.IMAGE?{color:G?"#7E7E7E":R,backgroundImage:"url(".concat(eo,")"),backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"contain"===x?"contain":"100% 100%"}:ei[U];var er=s.a({top:t.y,left:t.x,height:n.height,lineHeight:"".concat(n.height,"px"),width:n.width,minWidth:"".concat(v.p,"px"),minHeight:"".concat(v.n,"px"),maxWidth:"".concat(v.m,"px"),maxHeight:"".concat(v.k,"px"),fontSize:et,fontFamily:A,justifyContent:K,opacity:void 0===I?void 0:I/100,filter:G&&P===h.a.IMAGE?"saturate(0) brightness(1.1)":void 0,padding:P===h.a.TEMPLATE||n.width<2*v.j?"0 ".concat(v.r,"px"):"0 ".concat(v.j,"px")},ea);return E().createElement(E().Fragment,null,E().createElement("button",{id:d,className:p()(l.b,b().buttonWidget,u.a({},b().hide,!f)),"data-role":r.M,"data-widget-type":r.z,"data-min-width":v.p,"data-max-width":v.m,"data-min-height":v.n,"data-max-height":v.k,ref:Q,onClick:function(){if(C&&y){var e,t=Z.current;(null==(e=Q.current)?void 0:e.dataset.clickType)===a.d.CLICK&&(t&&!j&&o.b(t),H(!0),q(!0))}},onDoubleClick:function(e){e.stopPropagation();var t=Z.current;t&&o.c(t)},style:s.a(s.a({},er),{},{flexDirection:K===a.a.RIGHT?"row-reverse":"row"})},D&&E().createElement("div",{className:b().iconWrapper,style:{color:G?P===h.a.TEMPLATE?ea.color:"#7E7E7E":L}},E().createElement(T.a,{icon:i.fb(w)})),y&&E().createElement("div",{className:p()(b().textWrapper,D&&(N||V)&&(K===a.a.RIGHT?b().iconToTextRightSpacing:b().iconToTextLeftSpacing))},E().createElement("div",{className:b().input,style:{display:V?"flex":"none"}},E().createElement("span",{className:b().contentEditable,contentEditable:!0,ref:Z,onBlur:function(e){S&&S("text",e.target.innerText),q(!1),H(!1)},onKeyDown:function(e){13===e.keyCode&&(e.currentTarget.blur(),H(!1))},onClick:function(e){if(e.stopPropagation(),!j){var t=Z.current;t&&o.b(t),q(!0)}},onPaste:function(e){if((null==e?void 0:e.clipboardData)&&document.execCommand){e.preventDefault();var t=e.clipboardData.getData("text/plain");document.execCommand("insertText",!1,t.replace(/\n/g,""))}}})),E().createElement("div",{className:b().text,style:{display:V?"none":"flex",textAlign:K}},E().createElement("span",null,N)))))}},10004(e,t,n){n.d(t,{Mv:()=>E});var o=n(97415),i=n(98784),a=n(94082),r=n(99085),l=n(41594),c=n.n(l),s=n(59956);if("undefined"!=typeof Element&&!Element.prototype.matches){var u=Element.prototype;u.matches=u.matchesSelector||u.mozMatchesSelector||u.msMatchesSelector||u.oMatchesSelector||u.webkitMatchesSelector}var d=function(e,t,n){for(var o=e;o;){var i=o===n||o===document.body;if(i||1===o.nodeType&&o.matches(t)){i&&(o=null);break}o=o.parentNode}return o},p=function(e,t){return Array.from(e.parentNode.children).filter(function(e){return""===t||!e.matches(t)}).indexOf(e)},m=function(){return window.navigator.maxTouchPoints>0},g=function(e){i.a(n,e);var t=o.a(n);function n(e){var o;return r.a(this,n),(o=t.call(this,e)).onTouchStart=o.onTouchStart.bind(s.a(o)),o.onMouseDown=o.onMouseDown.bind(s.a(o)),o.onDragStart=o.onDragStart.bind(s.a(o)),o.onDragEnter=o.onDragEnter.bind(s.a(o)),o.onDragEnd=o.onDragEnd.bind(s.a(o)),o.autoScroll=o.autoScroll.bind(s.a(o)),o.state={fromIndex:-1,toIndex:-1},o.scrollElement=null,o.scrollTimerId=-1,o.direction=3,o}return a.a(n,[{key:"componentWillUnmount",value:function(){this.dragLine&&this.dragLine.parentNode&&(this.dragLine.parentNode.removeChild(this.dragLine),this.dragLine=null,this.cacheDragTarget=null)}},{key:"onTouchStart",value:function(e){m()&&this.startDrag(e)}},{key:"onMouseDown",value:function(e){m()||this.startDrag(e)}},{key:"onDragStart",value:function(e){e.stopPropagation();var t=this.getDragNode(e.target);if(t){var n=t.parentNode;e.dataTransfer.setData("Text",""),e.dataTransfer.effectAllowed="move",n.ondragenter=this.onDragEnter,n.ondragover=function(e){return e.preventDefault(),!0};var o=p(t,this.props.ignoreSelector);this.setState({fromIndex:o,toIndex:o}),this.scrollElement=function(e){var t=e;do{var n=window.getComputedStyle(t).overflow;if(("auto"===n||"scroll"===n)&&t&&t.nodeType&&(t.offsetWidth<t.scrollWidth||t.offsetHeight<t.scrollHeight))break;if(!t||!t.nodeType||t===document.body){t=null;break}t=t.parentNode}while(t);return t}(n)}}},{key:"onDragEnter",value:function(e){var t,n=this.getDragNode(e.target);n?(t=p(n,this.props.ignoreSelector),this.props.enableScroll&&this.resolveAutoScroll(e,n)):(t=-1,this.stopAutoScroll()),this.cacheDragTarget=n,this.setState({toIndex:t}),this.fixDragLine(n)}},{key:"onDragEnd",value:function(e){var t=this.getDragNode(e.target);this.stopAutoScroll(),t&&(t.removeAttribute("draggable"),t.ondragstart=null,t.ondragend=null,t.parentNode.ondragenter=null,t.parentNode.ondragover=null,this.state.fromIndex>=0&&this.state.fromIndex!==this.state.toIndex&&this.props.onDragEnd(this.state.fromIndex,this.state.toIndex)),this.hideDragLine(),this.setState({fromIndex:-1,toIndex:-1})}},{key:"getDragNode",value:function(e){return d(e,this.props.nodeSelector,this.dragList)}},{key:"getHandleNode",value:function(e){return d(e,this.props.handleSelector||this.props.nodeSelector,this.dragList)}},{key:"getDragLine",value:function(){return this.dragLine||(this.dragLine=window.document.createElement("div"),this.dragLine.setAttribute("style","position:fixed;z-index:9999;height:0;margin-top:-1px;border-bottom:dashed 2px red;display:none;"),window.document.body.appendChild(this.dragLine)),this.dragLine.className=this.props.lineClassName||"",this.dragLine}},{key:"startDrag",value:function(e){var t=this.getHandleNode(e.target);if(t){var n=this.props.handleSelector&&this.props.handleSelector!==this.props.nodeSelector?this.getDragNode(t):t;n&&(t.setAttribute("draggable",!1),n.setAttribute("draggable",!0),n.ondragstart=this.onDragStart,n.ondragend=this.onDragEnd)}}},{key:"resolveAutoScroll",value:function(e,t){if(this.scrollElement){var n=this.scrollElement.getBoundingClientRect(),o=n.top,i=n.height,a=t.offsetHeight,r=e.pageY,l=2/3*a;this.direction=0,r>o+i-l?this.direction=3:r<o+l&&(this.direction=1),this.direction?this.scrollTimerId<0&&(this.scrollTimerId=setInterval(this.autoScroll,20)):this.stopAutoScroll()}}},{key:"stopAutoScroll",value:function(){clearInterval(this.scrollTimerId),this.scrollTimerId=-1,this.fixDragLine(this.cacheDragTarget)}},{key:"autoScroll",value:function(){var e=this.scrollElement.scrollTop;3===this.direction?(this.scrollElement.scrollTop=e+this.props.scrollSpeed,e===this.scrollElement.scrollTop&&this.stopAutoScroll()):1===this.direction?(this.scrollElement.scrollTop=e-this.props.scrollSpeed,this.scrollElement.scrollTop<=0&&this.stopAutoScroll()):this.stopAutoScroll()}},{key:"hideDragLine",value:function(){this.dragLine&&(this.dragLine.style.display="none")}},{key:"fixDragLine",value:function(e){var t=this.getDragLine();if(!e||this.state.fromIndex<0||this.state.fromIndex===this.state.toIndex)this.hideDragLine();else{var n=e.getBoundingClientRect(),o=n.left,i=n.top,a=n.width,r=n.height,l=this.state.toIndex<this.state.fromIndex?i:i+r;if(this.props.enableScroll&&this.scrollElement){var c=this.scrollElement.getBoundingClientRect(),s=c.height,u=c.top;if(l<u-2||l>u+s+2)return void this.hideDragLine()}t.style.left=o+"px",t.style.width=a+"px",t.style.top=l+"px",t.style.display="block"}}},{key:"render",value:function(){var e=this;return c().createElement("div",{role:"presentation",onTouchStart:this.onTouchStart,onMouseDown:this.onMouseDown,ref:function(t){e.dragList=t}},this.props.children)}}]),n}(l.Component);g.defaultProps={nodeSelector:"tr",ignoreSelector:"",enableScroll:!0,scrollSpeed:10,handleSelector:"",lineClassName:"",children:null};var E=g},39029(e,t,n){n.d(t,{Ge:()=>p,Ue:()=>g,Ve:()=>T});var o=n(67240),i=n(14104),a=n(34221),r=n(7452),l=n.n(r),c=n(41594),s=n.n(c),u=n(34941),d=n.n(u),p=(0,c.memo)(function(e){var t=e.stroke;return s().createElement("svg",{className:d().spinner,viewBox:"0 0 50 50"},s().createElement("circle",{className:d().spinnerPath,cx:"25",cy:"25",r:"20",fill:"none",strokeWidth:"6",stroke:(void 0===t?"white":t)||"white"}))}),m=o.a.backendHost;function g(){return E.apply(this,arguments)}function E(){return(E=a.a(l().mark(function e(){var t;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get(m+"/tiger/v3/web/accounts/profile");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function T(){return v.apply(this,arguments)}function v(){return(v=a.a(l().mark(function e(){return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post(m+"/tiger/v3/web/accounts/logout");case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}},86585(e,t,n){n.d(t,{$v:()=>T,Zv:()=>g});var o=n(72788),i=n(33007),a=n(46942),r=n.n(a),l=n(95644),c=n(41594),s=n.n(c),u=n(63858),d=n.n(u),p=n(72454),m=n.n(p),g=(0,c.memo)(function(e){var t=e.children,n=e.onClick,o=e.hasIcon,i=e.className;return s().createElement("button",{style:{width:"133px"},className:"".concat(m().flatButton," coco-button-flat ").concat(o&&m().hasIcon," ").concat(i),onClick:n},t)}),E=Object.values(o.a),T=(0,c.memo)(function(e){var t=e.mode,n=e.onModeChange,o=l.a().formatMessage;return s().createElement(i.s,{className:r()(d().radioWrapper,d().sizeRadioBox),value:t,onChange:n},E.map(function(e){return s().createElement(i.t,{value:e,key:e},s().createElement(i.j,{type:"icon-".concat(e).concat(t===e?"-active":"")}),o({id:"".concat(e)}))}))})},78747(e,t,n){n.d(t,{nb:()=>b,rb:()=>O});var o=n(63858),i=n.n(o),a=n(22224),r=n(75195),l=n(10309),c=n(32919),s=n(33383),u=n(52301),d=n(33007),p=n(46942),m=n.n(p),g=n(95644),E=n(451),T=n(41594),v=n.n(T),h=n(32278),f=n.n(h),b=(0,T.memo)(function(e){var t,n=e.onUploadFileChange,o=e.onResourceLibraryClick,i=e.onDelete,a=e.fileId,r=e.style,p=g.a().formatMessage,h=(0,T.useState)(!1),b=E.a(h,2),O=b[0],C=b[1],I=(0,T.useState)(!1),S=E.a(I,2),y=S[0],N=S[1];if(s.U(a))t=a;else{var A=c.hb(a);t=(null==A?void 0:A.source)||(null==A?void 0:A.cdnUrl)}var k=function(e){N(e)},R=function(){N(!1)},B=function(){return v().createElement(u.a,{content:v().createElement("div",{className:f().imagePopover,onClick:R},v().createElement(d.B,{className:f().content,onChange:n,accept:l.f},v().createElement(d.j,{type:"icon-upload"}),v().createElement("span",{className:f().contentTitle},p({id:"Resource.upload"}))),v().createElement("div",{className:f().content,onClick:o},v().createElement(d.j,{type:"icon-open-resource-library"}),v().createElement("span",{className:f().contentTitle},p({id:"Resource.ImageLibrary"})))),placement:"bottomLeft",trigger:"click",visible:y,onVisibleChange:k},v().createElement("div",{className:f().imageBtn},p({id:"Resource.Replace"})))};return v().createElement("div",{className:f().imageWrapper},v().createElement("div",{tabIndex:-1,className:m()(f().imageBox),style:r,onMouseEnter:function(){C(!0)},onBlur:function(){C(!1)},onMouseLeave:function(){y||(C(!1),N(!1))}},t&&v().createElement(v().Fragment,null,v().createElement("img",{alt:a,src:t}),v().createElement("div",{className:m()(f().cover,O&&f().visible)},i&&v().createElement("div",{className:f().imageDelete,onClick:i},v().createElement(d.j,{type:"icon-delete"})),B())),!t&&v().createElement(v().Fragment,null,v().createElement("div",{className:f().picDefault},v().createElement(d.j,{type:"icon-pic-default"})),v().createElement("div",{className:m()(f().cover,O&&f().visible)},B()))))}),O=(0,T.memo)(function(e){var t=e.sizeType,n=e.sizeTypeList,o=e.width,l=e.height,c=e.minWidth,u=e.maxWidth,p=e.onWidthChange,E=e.onSizeTypeChange,T=g.a().formatMessage,h=!a.isFunction(p),f=function(e){return s.p(function(e){!h&&p&&p(e)},e)};return v().createElement("div",{className:m()(i().formItemWrapper,i().changeSizeFormItemWrapper)},v().createElement("div",{className:i().formInputNumberRow},v().createElement("p",{className:"coco-form-item-label"},T({id:"size"})),v().createElement(d.i,{className:"changeWidth"},v().createElement(d.n,{disabled:h,type:"number",className:i().justifyInputContent,defaultValue:o,onChange:f(200),onStep:f(0),min:c,max:u,rules:[{rule:r.v}],before:v().createElement("span",{style:{color:"var(--dark-text-color-t5)"}},T({id:"width"}))})),v().createElement(d.i,null,v().createElement(d.n,{disabled:!0,type:"number",value:l,className:i().justifyInputContent,before:v().createElement("span",null,T({id:"height"}))}))),v().createElement("div",{className:i().space}),v().createElement(d.i,{className:"changeSizeFormItemWrapper"},v().createElement(d.s,{className:m()(i().radioWrapper,i().sizeRadioBox),value:t,onChange:E},n.map(function(e){return v().createElement(d.t,{value:e,key:e},T({id:e.toLocaleLowerCase()+"Size"}))}))))})},7663(e,t,n){n.d(t,{lb:()=>v});var o=n(52301),i=n(33007),a=n(28950),r=n(28413),l=n(46942),c=n.n(l),s=n(451),u=n(41594),d=n.n(u),p=n(81104),m=n(8942),g=n.n(m),E=[],T={},v=(0,u.memo)(function(e){var t=e.style,n=e.children,l=e.value,m=e.onChange,v=e.className,h=e.defaultValue,f=e.modeList,b=e.params,O=void 0===b?E:b,C=e.placement,I=(0,u.useState)(l||h),S=s.a(I,2),y=S[0],N=S[1],A=(0,u.useRef)(null),k=(0,u.useState)(T),R=s.a(k,2),B=R[0],D=R[1],w=(0,u.useState)(null),L=s.a(w,2),P=L[0],U=L[1],M=(0,u.useMemo)(function(){var e=f.filter(function(e){return e.value===l})[0];return D((null==e?void 0:e.style)||T),null==e?void 0:e.renderContent},[l,f]);(0,u.useEffect)(function(){void 0!==l&&N(l),P||U(M.apply(void 0,r.a(O)))},[l,P,f,O,M]),(0,u.useEffect)(function(){U(M.apply(void 0,r.a(O)))},[M,O]);var Y=(0,u.useCallback)(function(e){void 0===l&&N(e)},[l]),x=(0,u.useCallback)(function(e){e&&U(e)},[]);return d().createElement(p.a,{value:{value:y,onChange:function(e){Y(e),m&&m(e)},onChangeSelectorContent:x}},d().createElement("div",{className:c()("coco-select",v),style:a.a(a.a({},t),B),ref:A},d().createElement(o.a,{placement:void 0===C?"rightTop":C,trigger:"click",content:d().createElement("div",{className:g().option},n)},d().createElement("div",{className:c()("coco-select-selector")},d().createElement("div",{className:c()("coco-select-label")},P),d().createElement(i.j,{type:"icon-up",className:c()("coco-select-arrow")})))))})},61057(e,t,n){n.d(t,{hb:()=>b,mb:()=>O});var o=n(81104),i=n(63858),a=n.n(i),r=n(33383),l=n(52301),c=n(33007),s=n(28950),u=n(28413),d=n(46942),p=n.n(d),m=n(451),g=n(41594),E=n.n(g),T=n(46947),v=n.n(T),h=[],f={},b=(0,g.memo)(function(e){var t=e.style,n=e.children,i=e.value,a=e.onChange,r=e.className,c=e.defaultValue,d=e.modeList,T=e.params,b=void 0===T?h:T,O=(0,g.useState)(i||c),C=m.a(O,2),I=C[0],S=C[1],y=(0,g.useRef)(null),N=(0,g.useState)(f),A=m.a(N,2),k=A[0],R=A[1],B=(0,g.useState)(null),D=m.a(B,2),w=D[0],L=D[1],P=(0,g.useMemo)(function(){var e=d.filter(function(e){return e.value===i})[0];return R((null==e?void 0:e.style)||f),null==e?void 0:e.renderContent},[i,d]);(0,g.useEffect)(function(){void 0!==i&&S(i),w||L(P.apply(void 0,u.a(b)))},[i,w,d,b,P]),(0,g.useEffect)(function(){L(P.apply(void 0,u.a(b)))},[P,b]);var U=(0,g.useCallback)(function(e){void 0===i&&S(e)},[i]),M=(0,g.useCallback)(function(e){e&&L(e)},[]);return E().createElement(o.a,{value:{value:I,onChange:function(e){U(e),a&&a(e)},onChangeSelectorContent:M}},E().createElement("div",{className:p()("coco-select",r),style:s.a(s.a({},t),k),ref:y},E().createElement(l.a,{placement:"rightTop",trigger:"click",content:E().createElement("div",{className:v().option},n)},E().createElement("div",{className:p()("coco-select-selector")},E().createElement("div",{className:p()("coco-select-label")},w)))))}),O=(0,g.memo)(function(e){var t=e.keyName,n=e.onChange,o=e.color,i=e.width,s=(0,g.useState)(!1),u=m.a(s,2),d=u[0],p=u[1];return E().createElement(l.a,{placement:"rightBottom",trigger:"click",onVisibleChange:function(e){p(e)},content:d&&E().createElement(c.q,{value:o,onChange:function(e){n(t,e)}})},E().createElement("div",{className:a().colorBlock,style:{backgroundColor:r.i(o)?"#ffffff":o,width:i}},r.i(o)&&E().createElement("div",{className:a().slash})))})},53178(e,t,n){n.d(t,{Ib:()=>h,Nb:()=>b,kb:()=>C});var o=n(36454),i=n(72541),a=n(26564),r=n(46942),l=n.n(r),c=n(41594),s=n(76043),u=n(84617),d=n(72239),p=n(5863),m=n(21991),g=n(23559),E=n(86216),T=["disabled","title","children","style","className"],v=(0,c.forwardRef)(function(e,t){var n,r,v,h,f=e.prefixCls,b=e.id,O=e.fieldNames,C=e.flattenOptions,I=e.childrenAsData,S=e.values,y=e.searchValue,N=e.multiple,A=e.defaultActiveFirstOption,k=e.height,R=e.itemHeight,B=e.notFoundContent,D=e.open,w=e.menuItemSelectedIcon,L=e.virtual,P=e.onSelect,U=e.onToggleOpen,M=e.onActiveValue,Y=e.onScroll,x=e.onMouseEnter,G="".concat(f,"-item"),K=(n=function(){return C},r=[D,C],v=function(e,t){return t[0]&&e[1]!==t[1]},"value"in(h=(0,c.useRef)({})).current&&!v(h.current.condition,r)||(h.current.value=n(),h.current.condition=r),h.current.value),W=(0,c.useRef)(null),F=function(e){e.preventDefault()},V=function(e){W.current&&W.current.scrollTo({index:e})},H=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=K.length,o=0;o<n;o+=1){var i=(e+o*t+n)%n,a=K[i],r=a.group,l=a.data;if(!r&&!l.disabled)return i}return -1},X=(0,c.useState)(function(){return H(0)}),z=i.a(X,2),j=z[0],q=z[1],Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];q(e);var n={source:t?"keyboard":"mouse"},o=K[e];o?M(o.data.value,e,n):M(null,-1,n)};(0,c.useEffect)(function(){Z(!1!==A?H(0):-1)},[K.length,y]),(0,c.useEffect)(function(){var e,t=setTimeout(function(){if(!N&&D&&1===S.size){var e=Array.from(S)[0],t=K.findIndex(function(t){return t.data.value===e});-1!==t&&(Z(t),V(t))}});return D&&null!=(e=W.current)&&e.scrollTo(void 0),function(){return clearTimeout(t)}},[D,y]);var Q=function(e){void 0!==e&&P(e,{selected:!S.has(e)}),N||U(!1)};if((0,c.useImperativeHandle)(t,function(){return{onKeyDown:function(e){var t=e.which,n=e.ctrlKey;switch(t){case u.a.N:case u.a.P:case u.a.UP:case u.a.DOWN:var o=0;if(t===u.a.UP?o=-1:t===u.a.DOWN?o=1:/(mac\sos|macintosh)/i.test(navigator.appVersion)&&n&&(t===u.a.N?o=1:t===u.a.P&&(o=-1)),0!==o){var i=H(j+o,o);V(i),Z(i,!0)}break;case u.a.ENTER:var a=K[j];a&&!a.data.disabled?Q(a.data.value):Q(void 0),D&&e.preventDefault();break;case u.a.ESC:U(!1),D&&e.stopPropagation()}},onKeyUp:function(){},scrollTo:function(e){V(e)}}}),0===K.length)return(0,c.createElement)("div",{role:"listbox",id:"".concat(b,"_list"),className:"".concat(G,"-empty"),onMouseDown:F},B);var J=Object.values(E.a(O)),$=function(e){var t=K[e];if(!t)return null;var n=t.data||{},o=n.value,i=n.label,r=n.children,l=p.a(n,!0),s=I?r:i;return t?(0,c.createElement)("div",a.a({"aria-label":"string"==typeof s?s:null},l,{key:e,role:"option",id:"".concat(b,"_list_").concat(e),"aria-selected":S.has(o)}),o):null};return(0,c.createElement)(c.Fragment,null,(0,c.createElement)("div",{role:"listbox",id:"".concat(b,"_list"),style:{height:0,width:0,overflow:"hidden"}},$(j-1),$(j),$(j+1)),(0,c.createElement)(m.a,{itemKey:"key",ref:W,data:K,height:k,itemHeight:R,fullHeight:!1,onMouseDown:F,onScroll:Y,virtual:L,onMouseEnter:x},function(e,t){var n,i,r,u=e.group,p=e.groupOption,m=e.data,E=e.label,v=e.value,h=m.key;if(u)return(0,c.createElement)("div",{className:l()(G,"".concat(G,"-group"))},void 0!==E?E:h);var f=m.disabled,b=m.title,O=m.children,C=m.style,y=m.className,N=(n=s.a(m,T),i=d.a({},n),Array.isArray(J)&&J.forEach(function(e){delete i[e]}),i),A=S.has(v),k="".concat(G,"-option"),R=l()(G,k,y,(r={},o.a(r,"".concat(k,"-grouped"),p),o.a(r,"".concat(k,"-active"),j===t&&!f),o.a(r,"".concat(k,"-disabled"),f),o.a(r,"".concat(k,"-selected"),A),r)),B=!w||"function"==typeof w||A,D=(I?O:E)||v,L="string"==typeof D||"number"==typeof D?D.toString():void 0;return void 0!==b&&(L=b),(0,c.createElement)("div",a.a({},N,{"aria-selected":A,className:R,title:L,onMouseMove:function(){j===t||f||Z(t)},onClick:function(){f||Q(v)},style:C}),(0,c.createElement)("div",{className:"".concat(k,"-content")},D),(0,c.isValidElement)(w)||A,B&&(0,c.createElement)(g.a,{className:"".concat(G,"-option-state"),customizeIcon:w,customizeIconProps:{isSelected:A}},A?"✓":null))}))});v.displayName="OptionList";var h=v,f=function(){return null};f.isSelectOption=!0;var b=f,O=function(){return null};O.isSelectOptGroup=!0;var C=O},59791(e,t,n){n.d(t,{Yb:()=>y});var o=n(53178),i=n(72239),a=n(76043),r=n(41594),l=n.n(r),c=n(90550);function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return l().Children.forEach(e,function(e){(null!=e||t.keepEmpty)&&(Array.isArray(e)?n=n.concat(s(e)):c.isFragment(e)&&e.props?n=n.concat(s(e.props.children,t)):n.push(e))}),n}var u=["children","value"],d=["children"];function p(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return s(e).map(function(e,n){if(!(0,r.isValidElement)(e)||!e.type)return null;var o,l,c,s,m,g=e.type.isSelectOptGroup,E=e.key,T=e.props,v=T.children,h=a.a(T,d);return t||!g?(o=e.key,c=(l=e.props).children,s=l.value,m=a.a(l,u),i.a({key:o,value:void 0!==s?s:o,children:c},m)):i.a(i.a({key:"__RC_SELECT_GRP__".concat(null===E?n:E,"__"),label:E},h),{},{options:p(v)})}).filter(function(e){return e})}var m=n(86216),g=n(70155),E=n(63509),T=n(7837),v=n(2394),h=n(26564),f=n(77485),b=n(2822),O=n(93568),C=n(86701),I=f.a({prefixCls:"rc-select",components:{optionList:o.Ib},convertChildrenToData:p,flattenOptions:m.e,getLabeledValue:m.f,filterOptions:m.c,isValueDisabled:m.h,findValueOption:m.d,warningProps:function(e){var t=e.mode,n=e.options,o=e.children,i=e.backfill,a=e.allowClear,l=e.placeholder,c=e.getInputElement,u=e.showSearch,d=e.onSearch,m=e.defaultOpen,g=e.autoFocus,E=e.labelInValue,T=e.value,v=e.inputValue,h=e.optionLabelProp,f="multiple"===t||"tags"===t,I=n||p(o);if(O.a("tags"!==t||I.every(function(e){return!e.disabled}),"Please avoid setting option to disabled in tags mode since user can always type text as tag."),"tags"===t||"combobox"===t){var S=I.some(function(e){return e.options?e.options.some(function(e){return"number"==typeof("value"in e?e.value:e.key)}):"number"==typeof("value"in e?e.value:e.key)});O.a(!S,"`value` of Option should not use number type when `mode` is `tags` or `combobox`.")}if(O.a("combobox"!==t||!h,"`combobox` mode not support `optionLabelProp`. Please set `value` on Option directly."),O.a("combobox"===t||!i,"`backfill` only works with `combobox` mode."),O.a("combobox"===t||!c,"`getInputElement` only work with `combobox` mode."),O.b("combobox"!==t||!c||!a||!l,"Customize `getInputElement` should customize clear and placeholder logic instead of configuring `allowClear` and `placeholder`."),!d||(void 0!==u?u:f||"combobox"===t)||"combobox"===t||"tags"===t||O.a(!1,"`onSearch` should work with `showSearch` instead of use alone."),O.b(!m||g,"`defaultOpen` makes Select open without focus which means it will not close by click outside. You can set `autoFocus` if needed."),null!=T){var y=C.d(T);O.a(!E||y.every(function(e){return"object"===b.a(e)&&("key"in e||"value"in e)}),"`value` should in shape of `{ value: string | number, label?: ReactNode }` when you set `labelInValue` to `true`"),O.a(!f||Array.isArray(T),"`value` should be array when `mode` is `multiple` or `tags`")}if(o){var N=null;s(o).some(function(e){if(!(0,r.isValidElement)(e)||!e.type)return!1;var t=e.type;return!t.isSelectOption&&(t.isSelectOptGroup?!s(e.props.children).every(function(t){return!((0,r.isValidElement)(t)&&e.type&&!t.type.isSelectOption)||(N=t.type,!1)}):(N=t,!0))}),N&&O.a(!1,"`children` should be `Select.Option` or `Select.OptGroup` instead of `".concat(N.displayName||N.name||N,"`.")),O.a(void 0===v,"`inputValue` is deprecated, please use `searchValue` instead.")}},fillOptionsWithMissingValue:m.b}),S=function(e){E.a(n,e);var t=g.a(n);function n(){var e;v.a(this,n);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).selectRef=(0,r.createRef)(),e.focus=function(){e.selectRef.current.focus()},e.blur=function(){e.selectRef.current.blur()},e}return T.a(n,[{key:"render",value:function(){return(0,r.createElement)(I,h.a({ref:this.selectRef},this.props))}}]),n}(r.Component);S.Option=o.Nb,S.OptGroup=o.kb;var y=S},17626(e,t,n){n.d(t,{Zb:()=>c}),n(98936);var o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},i=n(72239),a=n(41594),r=n(92379),l=function(e,t){return(0,a.createElement)(r.a,i.a(i.a({},e),{},{ref:t,icon:o}))};l.displayName="DownOutlined";var c=(0,a.forwardRef)(l)},36935(e){e.exports=PropTypes},25576(e){e.exports=Quill},41594(e){e.exports=React},75206(e){e.exports=ReactDOM},19040(e){e.exports=ReactRedux},78588(e){e.exports=Terser},11012(e){e.exports=XLSX},22224(e){e.exports=_},71731(e){e.exports=agGrid},5446(e){e.exports=antdMobile},13719(e){e.exports=axios},9820(e){e.exports=html2canvas}},function(e){e.O(0,["111","201","242","262","301","313","328","349","359","393","400","435","447","47","546","558","741","769","801","805","828","878","912","933","951","956"],function(){return e(e.s=90919)}),e.O()}]);
//# sourceMappingURL=editor~8.6fa871edcfe1ee70.js.map