(self.webpackChunkcoco_next=self.webpackChunkcoco_next||[]).push([["615"],{11188(e,t,r){"use strict";function o(){var e=window.location.hostname;return e.startsWith("dev")||"localhost"===e?"dev":e.startsWith("test")?"test":e.startsWith("staging")?"staging":"prod"}function i(){var e=o(),t=void 0,r=void 0;switch(e){case"test":t="test-",r="test-api";break;case"staging":t="staging-",r="backend-test";break;case"dev":t="dev-",r="backend-dev";break;default:t="",r="api"}return{env:e,pid:"7KeVbBdw",productCode:"appcraft",cocoEditorUrl:""+location.origin+"/editor",discoverUrl:"https://shequ.codemao.cn/gallery/14700",backendHost:"https://"+t+"api-creation.codemao.cn",oTServerHost:"https://"+t+"socketcoll.codemao.cn",openServiceHost:"https://"+t+"open-service.codemao.cn",signInHost:"https://"+r+".codemao.cn"}}r.d(t,{$:()=>i,u:()=>o})},35616(e,t,r){"use strict";r.d(t,{A:()=>d});var o=r(41594),i=r.n(o),a=r(46942),s=r.n(a),l=r(42362),c=r.n(l),u=function(e){var t=e.type,r=e.className;e.spinning;var o=e.subColor,a=e.subClassName,l=e.twoTone,u=i().createElement("use",{xlinkHref:"#"+t});if(l){var d=[],f=document.getElementById(t);f&&(f.querySelectorAll("path").forEach(function(e){return d.push(e)}),u=i().createElement("svg",{viewBox:f.getAttribute("viewBox")||void 0},d.map(function(e,t){return i().createElement("path",{fill:0===t&&o?o:void 0,className:0===t&&a?a:void 0,key:t,d:e.getAttribute("d")||void 0})})))}return i().createElement("i",{className:s()(c().iconFont,r)},i().createElement("svg",{width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",focusable:"false"},u))};u.displayName="IconFont";let d=u},42362(e){e.exports={iconFont:"iconFont_1CwOP"}},80409(e,t,r){"use strict";r.d(t,{A:()=>p});var o=r(95766),i=r(19040),a=r(41594),s=r(72407),l=r(61381),c=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=r(11188),f=r(76080),h=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function, not "+typeof e);function t(e){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");var r=function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={isNewUser:!1},r}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),c(t,[{key:"componentDidMount",value:function(){}},{key:"handleTemplateClick",value:function(e,t){l.R("TemplateClick",{template_name:t});var r=d.$().cocoEditorUrl;window.open(r+"?templateId="+e,Date.now().toString())}},{key:"render",value:function(){var e=this,t=this.props.item;return a.createElement("div",{styleName:"templateItem",onClick:function(){return e.handleTemplateClick(t.id,t.name)}},a.createElement("div",{styleName:"image",style:{backgroundImage:"url("+t.preview_url+")"}},a.createElement("img",{src:t.gif_url,alt:t.name,styleName:"gif"})))}}]),t}(a.Component);h=function(e,t,r,o){var i,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if(("undefined"==typeof Reflect?"undefined":u(Reflect))==="object"&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(s=(a<3?i(s):a>3?i(t,r,s):i(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s}([s(f,{allowMultiple:!0})],h);let p=i.connect(function(e,t){return{}},function(e){return o.bindActionCreators({},e)})(h)},78234(e,t,r){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,r,o){void 0===o&&(o=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,o,i)}:function(e,t,r,o){void 0===o&&(o=r),e[o]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||o(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(87236),t),i(r(53548),t),i(r(62168),t),i(r(55915),t),i(r(50429),t),i(r(7679),t),i(r(77554),t),i(r(44412),t)},29884(e,t){"use strict";var r,o,i,a,s,l,c,u;Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorCode=t.PlayerTypes=t.EStageType=t.EKnType=void 0,(s=r||(t.EKnType=r={})).KN="kn",s.TANYUE="tanyue-kn",s.GUYU="guyu-kn",(l=o||(t.EStageType=o={}))[l.VERTICAL=1]="VERTICAL",l[l.HORIZONTAL=2]="HORIZONTAL",l[l.UNSET=3]="UNSET",l[l.NONE=4]="NONE",(c=i||(t.PlayerTypes=i={})).Player="1",c.Share="2",(u=a||(t.ErrorCode=a={})).UNKNOWN="UNKNOWN",u.UNAUTHORIZED="40201001",u.WORK_LOCKED="40210002",u.WORK_NOT_EXIST="40100001",u.WORK_NO_PERMISSION="40100003",u.NOT_FOUND="Path-Not-Found@Common",u.VERSION_TOO_HIGH="VERSION_TOO_HIGH",u.LOGIN_EXPIRY="10023001",u.HISTORY_BACKUP_STATE="HISTORY_BACKUP_STATE",u.WORK_LOADING="WORK_LOADING"},54187(e,t){"use strict";var r,o,i,a,s,l;Object.defineProperty(t,"__esModule",{value:!0}),t.EAuthOrigin=t.ERequestType=t.EStatus=void 0,(a=r||(t.EStatus=r={}))[a.Success=2e3]="Success",a[a.Failed=3001]="Failed",a[a.Timeout=3002]="Timeout",a[a.Canceled=3003]="Canceled",a[a.Unknown=3004]="Unknown",a[a.WorkNetworkError=31611]="WorkNetworkError",a[a.WorkTimeout=31612]="WorkTimeout",a[a.WorkUnauthorized=31613]="WorkUnauthorized",a[a.WorkNotFound=31614]="WorkNotFound",a[a.WorkForbidden=31615]="WorkForbidden",a[a.WorkDataException=31616]="WorkDataException",(s=o||(t.ERequestType=o={}))[s.Submit=0]="Submit",s[s.Finish=1]="Finish",(l=i||(t.EAuthOrigin=i={}))[l.NCT=9]="NCT"},44412(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCodemaoLoginIframeApi=function(e,t){return(0,i.createIframeApi)(s,e,t)},t.createCodemaoLoginParentApi=function(e,t){return(0,i.createIframeApi)(l,e,t)},t.getCodemaoLoginIframeUrl=function(e){let t=new URLSearchParams;void 0!==e.onlyLogin&&t.set("onlyLogin",String(e.onlyLogin)),void 0!==e.language&&t.set("language",e.language),void 0!==e.disableThirdParty&&t.set("disableThirdParty",String(e.disableThirdParty)),void 0!==e.ageLimit&&t.set("ageLimit",String(e.ageLimit)),void 0!==e.pageView&&t.set("pageView",e.pageView),void 0!==e.headImg&&e.headImg.startsWith("http")&&t.set("headImg",e.headImg),void 0!==e.theme&&t.set("theme",e.theme),void 0!==e.env&&t.set("env",e.env),void 0!==e.pid&&t.set("pid",e.pid),void 0!==e.productCode&&t.set("productCode",e.productCode),void 0!==e.platform&&t.set("platform",e.platform),e&&Array.isArray(e.params)&&e.params.forEach(({type:e,value:r})=>{t.has(e)||t.set(e,r)});let r=t.toString(),o=r?`?${r}`:"";return(0,a.getServiceOrigin)("development"===e.env?"dev":e.env,`shequ.codemao.cn/codemao_login${o}`)};var o=r(87236),i=r(53548),a=r(21505);let s=new o.ApiSpec("codemao-login",{}),l=new o.ApiSpec(s.namespace,{onEvent:new o.MethodType})},50429(e,t,r){"use strict";var o=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))(function(i,a){function s(e){try{c(o.next(e))}catch(e){a(e)}}function l(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){if(e.done)i(e.value);else{var t;((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,l)}}c((o=o.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.createWxJsIframeApi=d,t.createWxJsParentApi=function(e,t){return(0,a.createIframeApi)(u,e,t)},t.autoCreateWxJsIframeApi=function(e,t){return d({captureImage:()=>o(this,void 0,void 0,function*(){return new Promise(t=>{e.chooseImage({count:1,sizeType:["compressed"],sourceType:["camera"],success:r=>o(this,void 0,void 0,function*(){let o=r.localIds[0];o?e.getLocalImgData({localId:o,success:({localData:e})=>{t({status:s.Status.Success,body:{dataURL:e.startsWith("data:image")?e:`data:image/jpeg;base64,${e}`}})},fail:()=>{t({status:s.Status.Failed,body:{message:"[JsSdkApi:getLocalImgData:Fail]获取本地图片失败"}})}}):t({status:s.Status.Failed,body:{message:"[JsSdkApi:getLocalImgData:Fail]localId no value"}})}),cancel:()=>{t({status:s.Status.Canceled,body:{message:"[JsSdkApi:chooseImage:Cancel]取消拍照"}})},fail:()=>{t({status:s.Status.Failed,body:{message:"[JsSdkApi:chooseImage:Fail]拍照失败"}})}})})}),startRecord:()=>new Promise(t=>{e.startRecord({success:()=>{t({status:s.Status.Success})},fail:()=>{t({status:s.Status.Failed,body:{message:"[JsSdkApi:startRecord:Fail]录音失败"}})}})}),stopRecord:()=>new Promise(t=>{e.stopRecord({success:e=>{t({status:s.Status.Success,body:{localId:e.localId}})},fail:()=>{t({status:s.Status.Failed,body:{message:"[JsSdkApi:StopRecord:Fail]获取录音资源失败"}})}})}),startRecordLimitedOneMin:()=>new Promise(t=>{e.startRecord({fail:()=>{t({status:s.Status.Failed,body:{message:"[JsSdkApi:startRecord:Fail]录音失败"}})}}),e.onVoiceRecordEnd({complete:e=>{t({status:s.Status.Success,body:{localId:e.localId}})},fail:()=>{t({status:s.Status.Failed,body:{message:"[JsSdkApi:onVoiceRecordEnd:Fail]获取录音资源失败"}})}})}),playVoice:({localId:t})=>new Promise(r=>{e.playVoice({localId:t,success:()=>{e.onVoicePlayEnd({success:e=>{e.localId===t&&r({status:s.Status.Success,body:{isComplete:!0}})},fail:()=>{r({status:s.Status.Failed,body:{message:"[JsSdkApi:onVoicePlayEnd:Fail]播放录音失败"}})}})},fail:()=>{r({status:s.Status.Failed,body:{message:"[JsSdkApi:playVoice:Fail]播放录音失败"}})}})}),pauseVoice:({localId:t})=>{e.pauseVoice({localId:t})},stopVoice:({localId:t})=>{e.stopVoice({localId:t})},uploadVoice:({localId:r,isShowProgressTips:i=1})=>new Promise(a=>{e.uploadVoice({localId:r,isShowProgressTips:i,success:e=>o(this,void 0,void 0,function*(){var r;try{let o,i=yield null==(r=null==t?void 0:t.getTemporaryMaterials)?void 0:r.call(t,{mediaId:e.serverId});if((null==i?void 0:i.data)instanceof Blob){if(i.data.type.startsWith("audio/"))return void a({status:s.Status.Success,body:{serverId:e.serverId,blob:i.data}});try{let e=yield(0,l.blobToJson)(i.data);o=null==e?void 0:e.errmsg}catch(e){o=e.message}}else o="返回数据类型错误";a({status:s.Status.Failed,body:{message:`[JsSdkApi:uploadVoice:Fail]获取临时素材失败${o?`, ${o}`:""}`,content:`serverId::${e.serverId}`}})}catch(t){a({status:s.Status.Failed,body:{message:"[JsSdkApi:uploadVoice:Fail]获取临时素材失败",content:`serverId::${e.serverId}`}})}}),fail:()=>{a({status:s.Status.Failed,body:{message:"[JsSdkApi:uploadVoice:Fail]上传录音失败"}})}})}),downloadVoice:({serverId:t,isShowProgressTips:r=1})=>new Promise(o=>{e.downloadVoice({serverId:t,isShowProgressTips:r,success:e=>{o({status:s.Status.Success,body:{localId:e.localId}})},fail:()=>{o({status:s.Status.Failed,body:{message:"[JsSdkApi:downloadVoice:Fail]下载录音失败"}})}})}),checkJsApi:({jsApiList:t})=>new Promise(r=>{e.checkJsApi({jsApiList:t,success:e=>{r({status:s.Status.Success,body:{checkResult:e.checkResult}})},fail:()=>{r({status:s.Status.Failed,body:{message:"[JsSdkApi:checkJsApi:Fail]获取接口权限失败"}})}})})},t)};var i=r(87236),a=r(53548),s=r(62168),l=r(21505);let c=new i.ApiSpec("wxjs",{}),u=new i.ApiSpec(c.namespace,{captureImage:new i.MethodType,startRecord:new i.MethodType,stopRecord:new i.MethodType,startRecordLimitedOneMin:new i.MethodType,playVoice:new i.MethodType,pauseVoice:new i.MethodType,stopVoice:new i.MethodType,uploadVoice:new i.MethodType,downloadVoice:new i.MethodType,checkJsApi:new i.MethodType});function d(e,t){return(0,a.createIframeApi)(c,e,t)}},77554(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkIfSuccess=function(e){return e.status===s.EStatus.Success},t.createWood3IframeApi=function(e,t){return(0,i.createIframeApi)(l,e,t)},t.createWood3ParentApi=function(e,t){return(0,i.createIframeApi)(c,e,t)},t.getWood3CppIframeUrl=function(e){return`${(0,a.getServiceOrigin)(e,"turtle-tool.codemao.cn")}/cpp`},t.getNctWood3CppIframeUrl=function(e){return`${(0,a.getServiceOrigin)(e,"nct-turtle-tool.codemao.cn")}/cpp`},t.getWood3TeacherCppIframeUrl=function(e){return`${(0,a.getServiceOrigin)(e,"turtle-tool.codemao.cn")}/teacher/cpp`},t.getWood3PlayerUrl=function(e,t){return`${(0,a.getServiceOrigin)(e,"turtle-tool.codemao.cn")}/player/${t}`},t.getWood3CodelabCppIframeUrl=function(e){return`${(0,a.getServiceOrigin)(e,"turtle-plus.codemao.cn")}/codelab/cpp`},t.getWood3CodelabTeacherCppIframeUrl=function(e){return`${(0,a.getServiceOrigin)(e,"turtle-plus.codemao.cn")}/teacher/cpp`},t.getWood3ViewerUrl=function(e,t,r,o){let i=[];return void 0!==t&&i.push(`work_id=${t}`),void 0!==r&&i.push(`work_url=${r}`),void 0!==o&&i.push(`work_name=${o}`),`${(0,a.getServiceOrigin)(e,"turtle-tool.codemao.cn")}/viewer?action=load_work&${i.join("&")}`};var o=r(87236),i=r(53548),a=r(21505),s=r(54187);let l=new o.ApiSpec("wood3",{configure:new o.MethodType,loadWork:new o.MethodType,saveWork:new o.MethodType,shareWork:new o.MethodType,startWork:new o.MethodType,stopWork:new o.MethodType,getWorkUrl:new o.MethodType,getCurrentTextFileContent:new o.MethodType,setCurrentTextFileContent:new o.MethodType,downloadCurrentTextFile:new o.MethodType,executeRegExp:new o.MethodType,getRegExpConfigJson:new o.MethodType,setCourseInfo:new o.MethodType,setAuthToken:new o.MethodType,setQuestionInfo:new o.MethodType,generateWorkUrlFromFileContent:new o.MethodType,checkIsValidWorkUrl:new o.MethodType,runOJMultiCases:new o.MethodType,resetEditorStatus:new o.MethodType,getAiMatchTimeLimit:new o.MethodType,checkIfWorkChanged:new o.MethodType,checkIfRegExpChanged:new o.MethodType,onMessage:new o.MethodType}),c=new o.ApiSpec(l.namespace,{onEvent:new o.MethodType,getClipboardContent:new o.MethodType})},53548(e,t,r){"use strict";var o=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))(function(i,a){function s(e){try{c(o.next(e))}catch(e){a(e)}}function l(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){if(e.done)i(e.value);else{var t;((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,l)}}c((o=o.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.createIframeApi=function(e,t,r){let{getWindow:c,targetOrigin:u="*"}=r,d=new Map,f=r=>o(this,void 0,void 0,function*(){let{data:o,source:i}=r,f=c();if(f&&o.signal&&o.id&&o.content){if(o.signal===`${e.namespace}.${l}`){let e=d.get(o.id);null==e||e.resolve(o.content),d.delete(o.id);return}if(o.signal===`${e.namespace}.${s}`&&f===i){let{type:r="",payload:i={}}=o.content,s=r.startsWith(e.namespace)?r.slice(e.namespace.length+1):"";if(t[s]instanceof Function){let r;try{r=yield t[s](i)}catch(e){r=e}f.postMessage({id:o.id,signal:`${e.namespace}.${l}`,content:r},u)}else f.postMessage({id:o.id,signal:`${e.namespace}.${l}`,content:{status:a.Status.Failed,message:"Not Implemented"}},u)}}}),h={};for(let t in e.methods)h[t]=r=>new Promise(o=>{var a;let l=(0,i.v4)();null==(a=c())||a.postMessage({id:l,signal:`${e.namespace}.${s}`,content:{type:`${e.namespace}.${t}`,payload:r}},u),d.set(l,{resolve:o})});return window.addEventListener("message",f),{api:h,dispose:()=>{d.clear(),window.removeEventListener("message",f)}}};var i=r(26600),a=r(62168);let s="_iframe_request",l="_iframe_response"},87236(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ApiSpec=t.MethodType=void 0;class r{constructor(){this.params=r.placeholder,this.result=r.placeholder}}t.MethodType=r,t.ApiSpec=class{constructor(e,t){this.namespace=e,this.methods=t}}},55915(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createWoodIframeApi=function(e,t){return(0,i.createIframeApi)(s,e,t)},t.createWoodParentApi=function(e,t){return(0,i.createIframeApi)(l,e,t)},t.getWoodIframeUrl=function(e){return`${(0,a.getServiceOrigin)(e,"lunar-turtle.codemao.cn")}?sidebar=true`};var o=r(87236),i=r(53548),a=r(21505);let s=new o.ApiSpec("wood",{setCurrentWoodProjectById:new o.MethodType,setCurrentWoodProjectByUrl:new o.MethodType,saveCurrentWoodProject:new o.MethodType,checkIfCurrentWoodProjectEmpty:new o.MethodType,checkIfCurrentWoodProjectChanged:new o.MethodType,checkIfCurrentWoodProjectChangedByUrl:new o.MethodType,clearEditorMarkLine:new o.MethodType,resetEditorStatus:new o.MethodType,setVirtualKeyboardPresetWord:new o.MethodType,setRegExpConfig:new o.MethodType,getRegExpMatchResult:new o.MethodType,markEditorRegExpLine:new o.MethodType,setCourseReportInfo:new o.MethodType,showSettingsDialog:new o.MethodType,hideSettingsDialog:new o.MethodType,setSideBarButtons:new o.MethodType,getSideBarButtonRect:new o.MethodType,setSideBarWidth:new o.MethodType,getSideBarWidth:new o.MethodType,setWxViewParameter:new o.MethodType}),l=new o.ApiSpec(s.namespace,{onEvent:new o.MethodType})},62168(e,t){"use strict";var r,o;function i(e){return e&&"number"==typeof e.status}Object.defineProperty(t,"__esModule",{value:!0}),t.Status=void 0,t.ok=function(e){return i(e)&&e.status===r.Success},t.error=function(e){return i(e)&&e.status!==r.Success},(o=r||(t.Status=r={}))[o.Success=2e3]="Success",o[o.Failed=3001]="Failed",o[o.Timeout=3002]="Timeout",o[o.Canceled=3003]="Canceled",o[o.Unknown=3004]="Unknown"},7679(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createNekoIframeApi=function(e,t){return(0,i.createIframeApi)(l,e,t)},t.createNekoParentApi=function(e,t){return(0,i.createIframeApi)(c,e,t)},t.getNekoIframeUrl=function(e,t=s.EKnType.KN,r){let o="";return r&&r.forEach(({type:e,value:t},r)=>{0===r?o+="?":o+="&",o+=`${e}=${t}`}),(0,a.getServiceOrigin)(e,`${t}.codemao.cn/editor${o}`)};var o=r(87236),i=r(53548),a=r(21505),s=r(29884);let l=new o.ApiSpec("neko",{loadWork:new o.MethodType,saveWork:new o.MethodType,setConfigurations:new o.MethodType,setUserData:new o.MethodType,setWxViewParameter:new o.MethodType,setVisualViewport:new o.MethodType,setStageState:new o.MethodType,checkHasBlockType:new o.MethodType,bcmCompare:new o.MethodType,blocksCategoryType:new o.MethodType,highLightBlocks:new o.MethodType,cancelHighLightBlocks:new o.MethodType,workspaceJsonContainText:new o.MethodType,getBlockCount:new o.MethodType,openHistoryBackupDialog:new o.MethodType,getBcmChangeState:new o.MethodType,getTargetIframe:new o.MethodType,runnerStage:new o.MethodType,selectEntity:new o.MethodType,changeTheatre:new o.MethodType,bcmRuleCompare:new o.MethodType,loadRuleSdk:new o.MethodType,showBackPackPage:new o.MethodType,hideBackPackPage:new o.MethodType,startGuide:new o.MethodType,closeGuide:new o.MethodType,getGuidanceFinished:new o.MethodType,getCurrentGuidanceStep:new o.MethodType,playGuideBgm:new o.MethodType,stopGuideBgm:new o.MethodType}),c=new o.ApiSpec(l.namespace,{onEvent:new o.MethodType})},21505(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getServiceOrigin=function(e,t){let r="";switch(e){case"dev":r="dev-";break;case"test":r="test-";break;case"test1":r="test1-";break;case"test2":r="test2-";break;case"test3":r="test3-";break;case"test4":r="test4-";break;case"test5":r="test5-";break;case"test6":r="test6-";break;case"staging":r="staging-"}return`https://${r}${t}`},t.blobToJson=function(e){return new Promise((t,r)=>{if("application/json"===e.type){let o=new FileReader;o.onload=()=>{var e,i;try{let r=null!=(i=null==(e=o.result)?void 0:e.toString())?i:"";t(JSON.parse(r))}catch(e){r(Error("Unable to parse JSON"))}},o.onerror=r,o.readAsText(e)}else r(Error(`Blob Type is ${e.type}, not application/json`))})}},26600(e,t,r){var o=r(48943),i=r(48547);i.v1=o,i.v4=i,e.exports=i},28097(e){for(var t=[],r=0;r<256;++r)t[r]=(r+256).toString(16).substr(1);e.exports=function(e,r){var o=r||0;return""+t[e[o++]]+t[e[o++]]+t[e[o++]]+t[e[o++]]+"-"+t[e[o++]]+t[e[o++]]+"-"+t[e[o++]]+t[e[o++]]+"-"+t[e[o++]]+t[e[o++]]+"-"+t[e[o++]]+t[e[o++]]+t[e[o++]]+t[e[o++]]+t[e[o++]]+t[e[o++]]}},53145(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var r=new Uint8Array(16);e.exports=function(){return t(r),r}}else{var o=Array(16);e.exports=function(){for(var e,t=0;t<16;t++)(3&t)==0&&(e=0x100000000*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},48943(e,t,r){var o,i,a=r(53145),s=r(28097),l=0,c=0;e.exports=function(e,t,r){var u=t&&r||0,d=t||[],f=(e=e||{}).node||o,h=void 0!==e.clockseq?e.clockseq:i;if(null==f||null==h){var p=a();null==f&&(f=o=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==h&&(h=i=(p[6]<<8|p[7])&16383)}var m=void 0!==e.msecs?e.msecs:new Date().getTime(),y=void 0!==e.nsecs?e.nsecs:c+1,v=m-l+(y-c)/1e4;if(v<0&&void 0===e.clockseq&&(h=h+1&16383),(v<0||m>l)&&void 0===e.nsecs&&(y=0),y>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");l=m,c=y,i=h;var g=((0xfffffff&(m+=122192928e5))*1e4+y)%0x100000000;d[u++]=g>>>24&255,d[u++]=g>>>16&255,d[u++]=g>>>8&255,d[u++]=255&g;var w=m/0x100000000*1e4&0xfffffff;d[u++]=w>>>8&255,d[u++]=255&w,d[u++]=w>>>24&15|16,d[u++]=w>>>16&255,d[u++]=h>>>8|128,d[u++]=255&h;for(var b=0;b<6;++b)d[u+b]=f[b];return t||s(d)}},48547(e,t,r){var o=r(53145),i=r(28097);e.exports=function(e,t,r){var a=t&&r||0;"string"==typeof e&&(t="binary"===e?Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||o)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var l=0;l<16;++l)t[a+l]=s[l];return t||i(s)}},33864(e){e.exports={show:"show_wXoqD",showDialog:"showDialog_1z051",hidden:"hidden_2OzH5",closeDialog:"closeDialog_3FIdc",hideMask:"hideMask_1RjON"}},78704(e){e.exports={"coco-alert-icon":"coco-alert-icon_2BXrH"}},22066(e){e.exports={dialog:"dialog_TTaOC",dialogButtons:"dialogButtons_1qXlG",dialogSecondary:"dialogSecondary_2xQWr",denyButton:"denyButton_EK65c"}},45571(e){e.exports={courseDialog:"courseDialog_Pcsqd",courseList:"courseList_3Q8En",courseItem:"courseItem_2ZgsJ",courseImage:"courseImage_2_kOH",image:"image_nRm-m",mask:"mask_2tBZj",playBox:"playBox_-k79s",courseName:"courseName_iqtM_",courseDesc:"courseDesc_Aojpr",courseMore:"courseMore_2m26I",moreImage:"moreImage_3c8ZE",moreTips:"moreTips_11GMJ"}},76080(e){e.exports={templateItem:"templateItem_rMyH8",gif:"gif_1sPty",image:"image_2uJTr",openTemplate:"openTemplate_2XCQQ",templateName:"templateName_2ZQ2c",templateDesc:"templateDesc_2rk92"}},87700(e){e.exports={playVideoBox:"playVideoBox_3R8bQ",content:"content_1lamM",videoTitle:"videoTitle_34-sw",title:"title_2GIfX",icon:"icon_2TXPU",videoBox:"videoBox_ZcRCJ",video:"video_3wFvn",playBox:"playBox_1r8Q0",playIconBox:"playIconBox_2M8e4",playIconItem:"playIconItem_3v39u",playIcon:"playIcon_32Gw_",play:"play_pyrqt",replay:"replay_31haf",nextVideo:"nextVideo_MpYAL",openWorkBtn:"openWorkBtn_1cx3x",courseInfo:"courseInfo_wrVIX",desc:"desc_16Cms",btn:"btn_Xghow"}},75863(e){e.exports={previewTemplate:"previewTemplate_3xQAV",quitPreviewBtn:"quitPreviewBtn_1uZjq",icon:"icon_1or6f",templateList:"templateList_2-vzt",templateItem:"templateItem_h5yLB",imageBox:"imageBox_XTN5l",gif:"gif_2Q2Pd",image:"image_1PUQY",name:"name_1Oc8V",desc:"desc_xp7PJ",blue:"blue_3OTiU",yellow:"yellow_2zgMy",purple:"purple_IP9eP",active:"active_2yLFs",previewBtnBox:"previewBtnBox_nPGIc",btnItem:"btnItem_1pLKo",howBtn:"howBtn_3vSZD",content:"content_3CGme",dropdown:"dropdown_2Crxb",qrcodeImage:"qrcodeImage_1cOkY"}},25071(e){e.exports={cocoToast:"cocoToast_y3-Yu"}},31205(e){e.exports={wrapper:"wrapper_1SK8O",ready:"ready_3Gvez"}},74935(e,t,r){"use strict";r.d(t,{_J:()=>s,Ey:()=>u,Dk:()=>c,Tn:()=>l});var o=r(11188),i=r(86139),a=r.n(i);function s(e,t){return a()({},e,t)}function l(){return o.$().backendHost}function c(){return o.$().oTServerHost}function u(e){var t=new Date(1e3*e),r=t.getFullYear()+"",o=t.getMonth()+1,i=t.getDate(),a=t.getHours(),s=t.getMinutes(),l=t.getSeconds();return r+"-"+(o<10?"0"+o:o)+"-"+(i<10?"0"+i:i)+" "+(a<10?"0"+a:a)+":"+(s<10?"0"+s:s)+":"+(a<10?"0"+l:l)}},63365(e){"undefined"!=typeof self&&self,e.exports=function(){var e=[function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t){var r=e.exports={version:"2.6.9"};"number"==typeof __e&&(__e=r)},function(e,t,r){var o=r(31)("wks"),i=r(22),a=r(0).Symbol,s="function"==typeof a;(e.exports=function(e){return o[e]||(o[e]=s&&a[e]||(s?a:i)("Symbol."+e))}).store=o},function(e,t,r){var o=r(8);e.exports=function(e){if(!o(e))throw TypeError(e+" is not an object!");return e}},function(e,t,r){e.exports=!r(10)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,r){var o=r(0),i=r(1),a=r(19),s=r(6),l=r(9),c=function(e,t,r){var u,d,f,h=e&c.F,p=e&c.G,m=e&c.S,y=e&c.P,v=e&c.B,g=e&c.W,w=p?i:i[t]||(i[t]={}),b=w.prototype,_=p?o:m?o[t]:(o[t]||{}).prototype;for(u in p&&(r=t),r)!((d=!h&&_&&void 0!==_[u])&&l(w,u))&&(f=d?_[u]:r[u],w[u]=p&&"function"!=typeof _[u]?r[u]:v&&d?a(f,o):g&&_[u]==f?function(e){var t=function(t,r,o){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,o)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(f):y&&"function"==typeof f?a(Function.call,f):f,y&&((w.virtual||(w.virtual={}))[u]=f,e&c.R&&b&&!b[u]&&s(b,u,f)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t,r){var o=r(7),i=r(21);e.exports=r(4)?function(e,t,r){return o.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){var o=r(3),i=r(43),a=r(29),s=Object.defineProperty;t.f=r(4)?Object.defineProperty:function(e,t,r){if(o(e),t=a(t,!0),o(r),i)try{return s(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,r){var o=r(47),i=r(27);e.exports=function(e){return o(i(e))}},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e){return new Date().getTime()>e+864e5}function a(e){return(0,v.default)(e).filter(function(e){return e.startsWith("x:")}).map(function(t){return[t,e[t].toString()]})}function s(e){return"qiniu_js_sdk_upload_file_"+e.name+"_size_"+e.size}function l(e){try{return JSON.parse(localStorage.getItem(s(e)))||[]}catch(e){return window.console&&window.console.warn&&console.warn("getLocalFileInfo failed"),[]}}function c(e){return{Authorization:"UpToken "+e}}function u(){return window.XMLHttpRequest?new XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP")}function d(e){return new p.default(function(t,r){var o=new FileReader;o.readAsArrayBuffer(e),o.onload=function(e){t(e.target.result)},o.onerror=function(){r(Error("fileReader 读取错误"))}})}function f(e,t){return new p.default(function(r,o){var i=u();i.open(t.method,e),t.onCreate&&t.onCreate(i),t.headers&&(0,v.default)(t.headers).forEach(function(e){return i.setRequestHeader(e,t.headers[e])}),i.upload.addEventListener("progress",function(e){e.lengthComputable&&t.onProgress&&t.onProgress({loaded:e.loaded,total:e.total})}),i.onreadystatechange=function(){var e=i.responseText;if(4===i.readyState){var t=i.getResponseHeader("x-reqId")||"";if(200!==i.status){var a="xhr request failed, code: "+i.status+";";return e&&(a=a+" response: "+e),void o({code:i.status,message:a,reqId:t,isRequestError:!0})}try{r({data:JSON.parse(e),reqId:t})}catch(e){o(e)}}},i.send(t.body)})}function h(){return"http:"===window.location.protocol?"http:":"https:"}t.__esModule=!0;var p=o(r(18)),m=o(r(34)),y=o(r(86)),v=o(r(36));t.isChunkExpired=i,t.getChunks=function(e,t){for(var r=[],o=Math.ceil(e.size/t),i=0;i<o;i++){var a=e.slice(t*i,i===o-1?e.size:t*(i+1));r.push(a)}return r},t.filterParams=a,t.sum=function(e){return e.reduce(function(e,t){return e+t},0)},t.setLocalFileInfo=function(e,t){try{localStorage.setItem(s(e),(0,y.default)(t))}catch(e){window.console&&window.console.warn&&console.warn("setLocalFileInfo failed")}},t.removeLocalFileInfo=function(e){try{localStorage.removeItem(s(e))}catch(e){window.console&&window.console.warn&&console.warn("removeLocalFileInfo failed")}},t.getLocalFileInfo=l,t.getResumeUploadedSize=function(e){return l(e).filter(function(e){return e&&!i(e.time)}).reduce(function(e,t){return e+t.size},0)},t.createMkFileUrl=function(e,t,r,o){var i=e+"/mkfile/"+t.size;null!=r&&(i+="/key/"+(0,g.urlSafeBase64Encode)(r)),o.mimeType&&(i+="/mimeType/"+(0,g.urlSafeBase64Encode)(t.type));var s=o.fname;return s&&(i+="/fname/"+(0,g.urlSafeBase64Encode)(s)),o.params&&a(o.params).forEach(function(e){return i+="/"+encodeURIComponent(e[0])+"/"+(0,g.urlSafeBase64Encode)(e[1])}),i},t.getHeadersForChunkUpload=function(e){var t=c(e);return(0,m.default)({"content-type":"application/octet-stream"},t)},t.getHeadersForMkFile=function(e){var t=c(e);return(0,m.default)({"content-type":"text/plain"},t)},t.createXHR=u,t.computeMd5=function(e){return d(e).then(function(e){var t=new b.default.ArrayBuffer;return t.append(e),t.end()})},t.readAsArrayBuffer=d,t.request=f,t.getPortFromUrl=function(e){if(e&&e.match){var t=e.match(/(^https?)/);if(!t)return"";var r=t[1];return(t=e.match(/^https?:\/\/([^:^\/]*):(\d*)/))?t[2]:"http"===r?"80":"443"}return""},t.getDomainFromUrl=function(e){if(e&&e.match){var t=e.match(/^https?:\/\/([^:^\/]*)/);return t?t[1]:""}return""},t.getUploadUrl=function(e,t){var r=h();if(null!=e.uphost)return p.default.resolve(r+"//"+e.uphost);if(null!=e.region){var o=w.regionUphostMap[e.region],i=e.useCdnDomain?o.cdnUphost:o.srcUphost;return p.default.resolve(r+"//"+i)}return(function(e){try{var t,r,o,i=(r=(t=e.split(":"))[0],(o=JSON.parse((0,g.urlSafeBase64Decode)(t[2]))).ak=r,o.bucket=o.scope.split(":")[0],o);return f(h()+"//api.qiniu.com/v2/query?ak="+i.ak+"&bucket="+i.bucket,{method:"GET"})}catch(e){return p.default.reject(e)}})(t).then(function(e){return r+"//"+e.data.up.acc.main[0]})},t.isContainFileMimeType=function(e,t){return t.indexOf(e)>-1},t.createObjectURL=function(e){return(window.URL||window.webkitURL||window.mozURL).createObjectURL(e)},t.getTransform=function(e,t){var r=e.width,o=e.height;switch(t){case 1:return{width:r,height:o,matrix:[1,0,0,1,0,0]};case 2:return{width:r,height:o,matrix:[-1,0,0,1,r,0]};case 3:return{width:r,height:o,matrix:[-1,0,0,-1,r,o]};case 4:return{width:r,height:o,matrix:[1,0,0,-1,0,o]};case 5:return{width:o,height:r,matrix:[0,1,1,0,0,0]};case 6:return{width:o,height:r,matrix:[0,1,-1,0,o,0]};case 7:return{width:o,height:r,matrix:[0,-1,-1,0,o,r]};case 8:return{width:o,height:r,matrix:[0,-1,1,0,0,r]}}};var g=r(56),w=r(39),b=o(r(91))},function(e,t){e.exports=!0},function(e,t){e.exports={}},function(e,t,r){var o=r(46),i=r(32);e.exports=Object.keys||function(e){return o(e,i)}},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}},function(e,t,r){e.exports={default:r(59),__esModule:!0}},function(e,t,r){var o=r(20);e.exports=function(e,t,r){if(o(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,o){return e.call(t,r,o)};case 3:return function(r,o,i){return e.call(t,r,o,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var r=0,o=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+o).toString(36))}},function(e,t,r){var o=r(7).f,i=r(9),a=r(2)("toStringTag");e.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,a)&&o(e,a,{configurable:!0,value:t})}},function(e,t,r){var o=r(27);e.exports=function(e){return Object(o(e))}},function(e,t){t.f=({}).propertyIsEnumerable},function(e,t){var r=Math.ceil,o=Math.floor;e.exports=function(e){return isNaN(e*=1)?0:(e>0?o:r)(e)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,r){var o=r(8),i=r(0).document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},function(e,t,r){var o=r(8);e.exports=function(e,t){var r,i;if(!o(e))return e;if(t&&"function"==typeof(r=e.toString)&&!o(i=r.call(e))||"function"==typeof(r=e.valueOf)&&!o(i=r.call(e))||!t&&"function"==typeof(r=e.toString)&&!o(i=r.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,r){var o=r(31)("keys"),i=r(22);e.exports=function(e){return o[e]||(o[e]=i(e))}},function(e,t,r){var o=r(1),i=r(0),a=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:o.version,mode:r(13)?"pure":"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,r){"use strict";var o=r(20);e.exports.f=function(e){return new function(e){var t,r;this.promise=new e(function(e,o){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=o}),this.resolve=o(t),this.reject=o(r)}(e)}},function(e,t,r){e.exports={default:r(83),__esModule:!0}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){e.exports={default:r(88),__esModule:!0}},function(e,t,r){t.f=r(2)},function(e,t,r){var o=r(0),i=r(1),a=r(13),s=r(37),l=r(7).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=a?{}:o.Symbol||{});"_"==e.charAt(0)||e in t||l(t,e,{value:s.f(e)})}},function(e,t,r){"use strict";t.__esModule=!0,t.regionUphostMap={z0:{srcUphost:"up.qiniup.com",cdnUphost:"upload.qiniup.com"},z1:{srcUphost:"up-z1.qiniup.com",cdnUphost:"upload-z1.qiniup.com"},z2:{srcUphost:"up-z2.qiniup.com",cdnUphost:"upload-z2.qiniup.com"},na0:{srcUphost:"up-na0.qiniup.com",cdnUphost:"upload-na0.qiniup.com"},as0:{srcUphost:"up-as0.qiniup.com",cdnUphost:"upload-as0.qiniup.com"}},t.region={z0:"z0",z1:"z1",z2:"z2",na0:"na0",as0:"as0"}},function(e,t){},function(e,t,r){"use strict";var o=r(60)(!0);r(42)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=o(t,r),this._i+=e.length,{value:e,done:!1})})},function(e,t,r){"use strict";var o=r(13),i=r(5),a=r(44),s=r(6),l=r(14),c=r(61),u=r(23),d=r(65),f=r(2)("iterator"),h=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,r,m,y,v,g){c(r,t,m);var w,b,_,x=function(e){if(!h&&e in E)return E[e];switch(e){case"keys":case"values":return function(){return new r(this,e)}}return function(){return new r(this,e)}},k=t+" Iterator",C="values"==y,T=!1,E=e.prototype,S=E[f]||E["@@iterator"]||y&&E[y],N=S||x(y),I=y?C?x("entries"):N:void 0,L="Array"==t&&E.entries||S;if(L&&(_=d(L.call(new e)))!==Object.prototype&&_.next&&(u(_,k,!0),o||"function"==typeof _[f]||s(_,f,p)),C&&S&&"values"!==S.name&&(T=!0,N=function(){return S.call(this)}),(!o||g)&&(h||T||!E[f])&&s(E,f,N),l[t]=N,l[k]=p,y)if(w={values:C?N:x("values"),keys:v?N:x("keys"),entries:I},g)for(b in w)b in E||a(E,b,w[b]);else i(i.P+i.F*(h||T),t,w);return w}},function(e,t,r){e.exports=!r(4)&&!r(10)(function(){return 7!=Object.defineProperty(r(28)("div"),"a",{get:function(){return 7}}).a})},function(e,t,r){e.exports=r(6)},function(e,t,r){var o=r(3),i=r(62),a=r(32),s=r(30)("IE_PROTO"),l=function(){},c=function(){var e,t=r(28)("iframe"),o=a.length;for(t.style.display="none",r(49).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;o--;)delete c.prototype[a[o]];return c()};e.exports=Object.create||function(e,t){var r;return null!==e?(l.prototype=o(e),r=new l,l.prototype=null,r[s]=e):r=c(),void 0===t?r:i(r,t)}},function(e,t,r){var o=r(9),i=r(11),a=r(63)(!1),s=r(30)("IE_PROTO");e.exports=function(e,t){var r,l=i(e),c=0,u=[];for(r in l)r!=s&&o(l,r)&&u.push(r);for(;t.length>c;)o(l,r=t[c++])&&!~a(u,r)&&u.push(r);return u}},function(e,t,r){var o=r(16);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==o(e)?e.split(""):Object(e)}},function(e,t,r){var o=r(26),i=Math.min;e.exports=function(e){return e>0?i(o(e),0x1fffffffffffff):0}},function(e,t,r){var o=r(0).document;e.exports=o&&o.documentElement},function(e,t,r){r(66);for(var o=r(0),i=r(6),a=r(14),s=r(2)("toStringTag"),l="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<l.length;c++){var u=l[c],d=o[u],f=d&&d.prototype;f&&!f[s]&&i(f,s,u),a[u]=a.Array}},function(e,t,r){var o=r(16),i=r(2)("toStringTag"),a="Arguments"==o(function(){return arguments}());e.exports=function(e){var t,r,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?r:a?o(t):"Object"==(s=o(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,r){var o=r(3),i=r(20),a=r(2)("species");e.exports=function(e,t){var r,s=o(e).constructor;return void 0===s||void 0==(r=o(s)[a])?t:i(r)}},function(e,t,r){var o,i,a,s=r(19),l=r(75),c=r(49),u=r(28),d=r(0),f=d.process,h=d.setImmediate,p=d.clearImmediate,m=d.MessageChannel,y=d.Dispatch,v=0,g={},w=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},b=function(e){w.call(e.data)};h&&p||(h=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return g[++v]=function(){l("function"==typeof e?e:Function(e),t)},o(v),v},p=function(e){delete g[e]},"process"==r(16)(f)?o=function(e){f.nextTick(s(w,e,1))}:y&&y.now?o=function(e){y.now(s(w,e,1))}:m?(a=(i=new m).port2,i.port1.onmessage=b,o=s(a.postMessage,a,1)):d.addEventListener&&"function"==typeof postMessage&&!d.importScripts?(o=function(e){d.postMessage(e+"","*")},d.addEventListener("message",b,!1)):o="onreadystatechange"in u("script")?function(e){c.appendChild(u("script")).onreadystatechange=function(){c.removeChild(this),w.call(e)}}:function(e){setTimeout(s(w,e,1),0)}),e.exports={set:h,clear:p}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,r){var o=r(3),i=r(8),a=r(33);e.exports=function(e,t){if(o(e),i(t)&&t.constructor===e)return t;var r=a.f(e);return(0,r.resolve)(t),r.promise}},function(e,t,r){"use strict";t.__esModule=!0,t.urlSafeBase64Encode=function(e){return(e=function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r=void 0,o=void 0,i=void 0,a=void 0,s=void 0,l=void 0,c=void 0,u=0,d=0,f="",h=[];if(!e)return e;e=function(e){if(null==e)return"";var t=e+"",r="",o=void 0,i=void 0,a=0;o=i=0,a=t.length;for(var s=0;s<a;s++){var l=t.charCodeAt(s),c=null;if(l<128)i++;else if(l>127&&l<2048)c=String.fromCharCode(l>>6|192,63&l|128);else if(63488&l^!0)c=String.fromCharCode(l>>12|224,l>>6&63|128,63&l|128);else{if(64512&l^!0)throw RangeError("Unmatched trail surrogate at "+s);var u=t.charCodeAt(++s);if(64512&u^!0)throw RangeError("Unmatched lead surrogate at "+(s-1));c=String.fromCharCode((l=((1023&l)<<10)+(1023&u)+65536)>>18|240,l>>12&63|128,l>>6&63|128,63&l|128)}null!==c&&(i>o&&(r+=t.slice(o,i)),r+=c,o=i=s+1)}return i>o&&(r+=t.slice(o,a)),r}(e+"");do r=e.charCodeAt(u++),i=(c=r<<16|(o=e.charCodeAt(u++))<<8|e.charCodeAt(u++))>>18&63,a=c>>12&63,s=c>>6&63,l=63&c,h[d++]=t.charAt(i)+t.charAt(a)+t.charAt(s)+t.charAt(l);while(u<e.length);switch(f=h.join(""),e.length%3){case 1:f=f.slice(0,-2)+"==";break;case 2:f=f.slice(0,-1)+"="}return f}(e)).replace(/\//g,"_").replace(/\+/g,"-")},t.urlSafeBase64Decode=function(e){return function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r=void 0,o=void 0,i=void 0,a=void 0,s=void 0,l=void 0,c=void 0,u=void 0,d=0,f=0,h=[];if(!e)return e;e+="";do a=t.indexOf(e.charAt(d++)),s=t.indexOf(e.charAt(d++)),r=(u=a<<18|s<<12|(l=t.indexOf(e.charAt(d++)))<<6|(c=t.indexOf(e.charAt(d++))))>>16&255,o=u>>8&255,i=255&u,h[f++]=64===l?String.fromCharCode(r):64===c?String.fromCharCode(r,o):String.fromCharCode(r,o,i);while(d<e.length);return h.join("")}(e=e.replace(/_/g,"/").replace(/-/g,"+"))}},function(e,t,r){var o=r(46),i=r(32).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return o(e,i)}},function(e,t,r){"use strict";t.__esModule=!0,t.pipeline=t.compressImage=t.exif=t.imageInfo=t.watermark=t.imageMogr2=t.getUploadUrl=t.filterParams=t.getHeadersForMkFile=t.getResumeUploadedSize=t.getHeadersForChunkUpload=t.createMkFileUrl=t.region=t.upload=void 0;var o,i=r(39),a=r(12),s=r(92),l=r(94),c=r(95),u=r(109),d=(o=r(110))&&o.__esModule?o:{default:o},f=new u.StatisticsLogger;t.upload=function(e,t,r,o,i){var a={file:e,key:t,token:r,putExtra:o,config:i};return new c.Observable(function(e){var t=new s.UploadManager(a,{onData:function(t){return e.next(t)},onError:function(t){return e.error(t)},onComplete:function(t){return e.complete(t)}},f);return t.putFile(),t.stop.bind(t)})},t.region=i.region,t.createMkFileUrl=a.createMkFileUrl,t.getHeadersForChunkUpload=a.getHeadersForChunkUpload,t.getResumeUploadedSize=a.getResumeUploadedSize,t.getHeadersForMkFile=a.getHeadersForMkFile,t.filterParams=a.filterParams,t.getUploadUrl=a.getUploadUrl,t.imageMogr2=l.imageMogr2,t.watermark=l.watermark,t.imageInfo=l.imageInfo,t.exif=l.exif,t.compressImage=d.default,t.pipeline=l.pipeline},function(e,t,r){r(40),r(41),r(50),r(69),r(81),r(82),e.exports=r(1).Promise},function(e,t,r){var o=r(26),i=r(27);e.exports=function(e){return function(t,r){var a,s,l=String(i(t)),c=o(r),u=l.length;return c<0||c>=u?e?"":void 0:(a=l.charCodeAt(c))<55296||a>56319||c+1===u||(s=l.charCodeAt(c+1))<56320||s>57343?e?l.charAt(c):a:e?l.slice(c,c+2):s-56320+(a-55296<<10)+65536}}},function(e,t,r){"use strict";var o=r(45),i=r(21),a=r(23),s={};r(6)(s,r(2)("iterator"),function(){return this}),e.exports=function(e,t,r){e.prototype=o(s,{next:i(1,r)}),a(e,t+" Iterator")}},function(e,t,r){var o=r(7),i=r(3),a=r(15);e.exports=r(4)?Object.defineProperties:function(e,t){i(e);for(var r,s=a(t),l=s.length,c=0;l>c;)o.f(e,r=s[c++],t[r]);return e}},function(e,t,r){var o=r(11),i=r(48),a=r(64);e.exports=function(e){return function(t,r,s){var l,c=o(t),u=i(c.length),d=a(s,u);if(e&&r!=r){for(;u>d;)if((l=c[d++])!=l)return!0}else for(;u>d;d++)if((e||d in c)&&c[d]===r)return e||d||0;return!e&&-1}}},function(e,t,r){var o=r(26),i=Math.max,a=Math.min;e.exports=function(e,t){return(e=o(e))<0?i(e+t,0):a(e,t)}},function(e,t,r){var o=r(9),i=r(24),a=r(30)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return o(e=i(e),a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,r){"use strict";var o=r(67),i=r(68),a=r(14),s=r(11);e.exports=r(42)(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])},"values"),a.Arguments=a.Array,o("keys"),o("values"),o("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,r){"use strict";var o,i,a,s,l=r(13),c=r(0),u=r(19),d=r(51),f=r(5),h=r(8),p=r(20),m=r(70),y=r(71),v=r(52),g=r(53).set,w=r(76)(),b=r(33),_=r(54),x=r(77),k=r(55),C=c.TypeError,T=c.process,E=T&&T.versions,S=E&&E.v8||"",N=c.Promise,I="process"==d(T),L=function(){},A=i=b.f,P=!!function(){try{var e=N.resolve(1),t=(e.constructor={})[r(2)("species")]=function(e){e(L,L)};return(I||"function"==typeof PromiseRejectionEvent)&&e.then(L)instanceof t&&0!==S.indexOf("6.6")&&-1===x.indexOf("Chrome/66")}catch(e){}}(),M=function(e){var t;return!(!h(e)||"function"!=typeof(t=e.then))&&t},O=function(e,t){if(!e._n){e._n=!0;var r=e._c;w(function(){for(var o=e._v,i=1==e._s,a=0;r.length>a;)!function(t){var r,a,s,l=i?t.ok:t.fail,c=t.resolve,u=t.reject,d=t.domain;try{l?(i||(2==e._h&&D(e),e._h=1),!0===l?r=o:(d&&d.enter(),r=l(o),d&&(d.exit(),s=!0)),r===t.promise?u(C("Promise-chain cycle")):(a=M(r))?a.call(r,c,u):c(r)):u(o)}catch(e){d&&!s&&d.exit(),u(e)}}(r[a++]);e._c=[],e._n=!1,t&&!e._h&&R(e)})}},R=function(e){g.call(c,function(){var t,r,o,i=e._v,a=j(e);if(a&&(t=_(function(){I?T.emit("unhandledRejection",i,e):(r=c.onunhandledrejection)?r({promise:e,reason:i}):(o=c.console)&&o.error&&o.error("Unhandled promise rejection",i)}),e._h=I||j(e)?2:1),e._a=void 0,a&&t.e)throw t.v})},j=function(e){return 1!==e._h&&0===(e._a||e._c).length},D=function(e){g.call(c,function(){var t;I?T.emit("rejectionHandled",e):(t=c.onrejectionhandled)&&t({promise:e,reason:e._v})})},F=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),O(t,!0))},U=function(e){var t,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw C("Promise can't be resolved itself");(t=M(e))?w(function(){var o={_w:r,_d:!1};try{t.call(e,u(U,o,1),u(F,o,1))}catch(e){F.call(o,e)}}):(r._v=e,r._s=1,O(r,!1))}catch(e){F.call({_w:r,_d:!1},e)}}};P||(N=function(e){m(this,N,"Promise","_h"),p(e),o.call(this);try{e(u(U,this,1),u(F,this,1))}catch(e){F.call(this,e)}},(o=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r(78)(N.prototype,{then:function(e,t){var r=A(v(this,N));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=I?T.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&O(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),a=function(){var e=new o;this.promise=e,this.resolve=u(U,e,1),this.reject=u(F,e,1)},b.f=A=function(e){return e===N||e===s?new a(e):i(e)}),f(f.G+f.W+!P*f.F,{Promise:N}),r(23)(N,"Promise"),r(79)("Promise"),s=r(1).Promise,f(f.S+!P*f.F,"Promise",{reject:function(e){var t=A(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(l||!P),"Promise",{resolve:function(e){return k(l&&this===s?N:this,e)}}),f(f.S+!(P&&r(80)(function(e){N.all(e).catch(L)}))*f.F,"Promise",{all:function(e){var t=this,r=A(t),o=r.resolve,i=r.reject,a=_(function(){var r=[],a=0,s=1;y(e,!1,function(e){var l=a++,c=!1;r.push(void 0),s++,t.resolve(e).then(function(e){!c&&(c=!0,r[l]=e,--s||o(r))},i)}),--s||o(r)});return a.e&&i(a.v),r.promise},race:function(e){var t=this,r=A(t),o=r.reject,i=_(function(){y(e,!1,function(e){t.resolve(e).then(r.resolve,o)})});return i.e&&o(i.v),r.promise}})},function(e,t){e.exports=function(e,t,r,o){if(!(e instanceof t)||void 0!==o&&o in e)throw TypeError(r+": incorrect invocation!");return e}},function(e,t,r){var o=r(19),i=r(72),a=r(73),s=r(3),l=r(48),c=r(74),u={},d={};(t=e.exports=function(e,t,r,f,h){var p,m,y,v,g=h?function(){return e}:c(e),w=o(r,f,t?2:1),b=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(a(g)){for(p=l(e.length);p>b;b++)if((v=t?w(s(m=e[b])[0],m[1]):w(e[b]))===u||v===d)return v}else for(y=g.call(e);!(m=y.next()).done;)if((v=i(y,w,m.value,t))===u||v===d)return v}).BREAK=u,t.RETURN=d},function(e,t,r){var o=r(3);e.exports=function(e,t,r,i){try{return i?t(o(r)[0],r[1]):t(r)}catch(t){var a=e.return;throw void 0!==a&&o(a.call(e)),t}}},function(e,t,r){var o=r(14),i=r(2)("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||a[i]===e)}},function(e,t,r){var o=r(51),i=r(2)("iterator"),a=r(14);e.exports=r(1).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||a[o(e)]}},function(e,t){e.exports=function(e,t,r){var o=void 0===r;switch(t.length){case 0:return o?e():e.call(r);case 1:return o?e(t[0]):e.call(r,t[0]);case 2:return o?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return o?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return o?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},function(e,t,r){var o=r(0),i=r(53).set,a=o.MutationObserver||o.WebKitMutationObserver,s=o.process,l=o.Promise,c="process"==r(16)(s);e.exports=function(){var e,t,r,u=function(){var o,i;for(c&&(o=s.domain)&&o.exit();e;){i=e.fn,e=e.next;try{i()}catch(o){throw e?r():t=void 0,o}}t=void 0,o&&o.enter()};if(c)r=function(){s.nextTick(u)};else if(!a||o.navigator&&o.navigator.standalone)if(l&&l.resolve){var d=l.resolve(void 0);r=function(){d.then(u)}}else r=function(){i.call(o,u)};else{var f=!0,h=document.createTextNode("");new a(u).observe(h,{characterData:!0}),r=function(){h.data=f=!f}}return function(o){var i={fn:o,next:void 0};t&&(t.next=i),e||(e=i,r()),t=i}}},function(e,t,r){var o=r(0).navigator;e.exports=o&&o.userAgent||""},function(e,t,r){var o=r(6);e.exports=function(e,t,r){for(var i in t)r&&e[i]?e[i]=t[i]:o(e,i,t[i]);return e}},function(e,t,r){"use strict";var o=r(0),i=r(1),a=r(7),s=r(4),l=r(2)("species");e.exports=function(e){var t="function"==typeof i[e]?i[e]:o[e];s&&t&&!t[l]&&a.f(t,l,{configurable:!0,get:function(){return this}})}},function(e,t,r){var o=r(2)("iterator"),i=!1;try{var a=[7][o]();a.return=function(){i=!0},Array.from(a,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var a=[7],s=a[o]();s.next=function(){return{done:r=!0}},a[o]=function(){return s},e(a)}catch(e){}return r}},function(e,t,r){"use strict";var o=r(5),i=r(1),a=r(0),s=r(52),l=r(55);o(o.P+o.R,"Promise",{finally:function(e){var t=s(this,i.Promise||a.Promise),r="function"==typeof e;return this.then(r?function(r){return l(t,e()).then(function(){return r})}:e,r?function(r){return l(t,e()).then(function(){throw r})}:e)}})},function(e,t,r){"use strict";var o=r(5),i=r(33),a=r(54);o(o.S,"Promise",{try:function(e){var t=i.f(this),r=a(e);return(r.e?t.reject:t.resolve)(r.v),t.promise}})},function(e,t,r){r(84),e.exports=r(1).Object.assign},function(e,t,r){var o=r(5);o(o.S+o.F,"Object",{assign:r(85)})},function(e,t,r){"use strict";var o=r(4),i=r(15),a=r(35),s=r(25),l=r(24),c=r(47),u=Object.assign;e.exports=!u||r(10)(function(){var e={},t={},r=Symbol(),o="abcdefghijklmnopqrst";return e[r]=7,o.split("").forEach(function(e){t[e]=e}),7!=u({},e)[r]||Object.keys(u({},t)).join("")!=o})?function(e,t){for(var r=l(e),u=arguments.length,d=1,f=a.f,h=s.f;u>d;)for(var p,m=c(arguments[d++]),y=f?i(m).concat(f(m)):i(m),v=y.length,g=0;v>g;)p=y[g++],o&&!h.call(m,p)||(r[p]=m[p]);return r}:u},function(e,t,r){e.exports={default:r(87),__esModule:!0}},function(e,t,r){var o=r(1),i=o.JSON||(o.JSON={stringify:JSON.stringify});e.exports=function(e){return i.stringify.apply(i,arguments)}},function(e,t,r){r(89),e.exports=r(1).Object.keys},function(e,t,r){var o=r(24),i=r(15);r(90)("keys",function(){return function(e){return i(o(e))}})},function(e,t,r){var o=r(5),i=r(1),a=r(10);e.exports=function(e,t){var r=(i.Object||{})[e]||Object[e],s={};s[e]=t(r),o(o.S+o.F*a(function(){r(1)}),"Object",s)}},function(e,t,r){e.exports=function(e){"use strict";function t(e,t){var r=e[0],o=e[1],i=e[2],a=e[3];o=((o+=((i=((i+=((a=((a+=((r=((r+=(o&i|~o&a)+t[0]-0x28955b88|0)<<7|r>>>25)+o|0)&o|~r&i)+t[1]-0x173848aa|0)<<12|a>>>20)+r|0)&r|~a&o)+t[2]+0x242070db|0)<<17|i>>>15)+a|0)&a|~i&r)+t[3]-0x3e423112|0)<<22|o>>>10)+i|0,o=((o+=((i=((i+=((a=((a+=((r=((r+=(o&i|~o&a)+t[4]-0xa83f051|0)<<7|r>>>25)+o|0)&o|~r&i)+t[5]+0x4787c62a|0)<<12|a>>>20)+r|0)&r|~a&o)+t[6]-0x57cfb9ed|0)<<17|i>>>15)+a|0)&a|~i&r)+t[7]-0x2b96aff|0)<<22|o>>>10)+i|0,o=((o+=((i=((i+=((a=((a+=((r=((r+=(o&i|~o&a)+t[8]+0x698098d8|0)<<7|r>>>25)+o|0)&o|~r&i)+t[9]-0x74bb0851|0)<<12|a>>>20)+r|0)&r|~a&o)+t[10]-42063|0)<<17|i>>>15)+a|0)&a|~i&r)+t[11]-0x76a32842|0)<<22|o>>>10)+i|0,o=((o+=((i=((i+=((a=((a+=((r=((r+=(o&i|~o&a)+t[12]+0x6b901122|0)<<7|r>>>25)+o|0)&o|~r&i)+t[13]-0x2678e6d|0)<<12|a>>>20)+r|0)&r|~a&o)+t[14]-0x5986bc72|0)<<17|i>>>15)+a|0)&a|~i&r)+t[15]+0x49b40821|0)<<22|o>>>10)+i|0,o=((o+=((i=((i+=((a=((a+=((r=((r+=(o&a|i&~a)+t[1]-0x9e1da9e|0)<<5|r>>>27)+o|0)&i|o&~i)+t[6]-0x3fbf4cc0|0)<<9|a>>>23)+r|0)&o|r&~o)+t[11]+0x265e5a51|0)<<14|i>>>18)+a|0)&r|a&~r)+t[0]-0x16493856|0)<<20|o>>>12)+i|0,o=((o+=((i=((i+=((a=((a+=((r=((r+=(o&a|i&~a)+t[5]-0x29d0efa3|0)<<5|r>>>27)+o|0)&i|o&~i)+t[10]+0x2441453|0)<<9|a>>>23)+r|0)&o|r&~o)+t[15]-0x275e197f|0)<<14|i>>>18)+a|0)&r|a&~r)+t[4]-0x182c0438|0)<<20|o>>>12)+i|0,o=((o+=((i=((i+=((a=((a+=((r=((r+=(o&a|i&~a)+t[9]+0x21e1cde6|0)<<5|r>>>27)+o|0)&i|o&~i)+t[14]-0x3cc8f82a|0)<<9|a>>>23)+r|0)&o|r&~o)+t[3]-0xb2af279|0)<<14|i>>>18)+a|0)&r|a&~r)+t[8]+0x455a14ed|0)<<20|o>>>12)+i|0,o=((o+=((i=((i+=((a=((a+=((r=((r+=(o&a|i&~a)+t[13]-0x561c16fb|0)<<5|r>>>27)+o|0)&i|o&~i)+t[2]-0x3105c08|0)<<9|a>>>23)+r|0)&o|r&~o)+t[7]+0x676f02d9|0)<<14|i>>>18)+a|0)&r|a&~r)+t[12]-0x72d5b376|0)<<20|o>>>12)+i|0,o=((o+=((i=((i+=((a=((a+=((r=((r+=(o^i^a)+t[5]-378558|0)<<4|r>>>28)+o|0)^o^i)+t[8]-0x788e097f|0)<<11|a>>>21)+r|0)^r^o)+t[11]+0x6d9d6122|0)<<16|i>>>16)+a|0)^a^r)+t[14]-0x21ac7f4|0)<<23|o>>>9)+i|0,o=((o+=((i=((i+=((a=((a+=((r=((r+=(o^i^a)+t[1]-0x5b4115bc|0)<<4|r>>>28)+o|0)^o^i)+t[4]+0x4bdecfa9|0)<<11|a>>>21)+r|0)^r^o)+t[7]-0x944b4a0|0)<<16|i>>>16)+a|0)^a^r)+t[10]-0x41404390|0)<<23|o>>>9)+i|0,o=((o+=((i=((i+=((a=((a+=((r=((r+=(o^i^a)+t[13]+0x289b7ec6|0)<<4|r>>>28)+o|0)^o^i)+t[0]-0x155ed806|0)<<11|a>>>21)+r|0)^r^o)+t[3]-0x2b10cf7b|0)<<16|i>>>16)+a|0)^a^r)+t[6]+0x4881d05|0)<<23|o>>>9)+i|0,o=((o+=((i=((i+=((a=((a+=((r=((r+=(o^i^a)+t[9]-0x262b2fc7|0)<<4|r>>>28)+o|0)^o^i)+t[12]-0x1924661b|0)<<11|a>>>21)+r|0)^r^o)+t[15]+0x1fa27cf8|0)<<16|i>>>16)+a|0)^a^r)+t[2]-0x3b53a99b|0)<<23|o>>>9)+i|0,o=((o+=((a=((a+=(o^((r=((r+=(i^(o|~a))+t[0]-0xbd6ddbc|0)<<6|r>>>26)+o|0)|~i))+t[7]+0x432aff97|0)<<10|a>>>22)+r|0)^((i=((i+=(r^(a|~o))+t[14]-0x546bdc59|0)<<15|i>>>17)+a|0)|~r))+t[5]-0x36c5fc7|0)<<21|o>>>11)+i|0,o=((o+=((a=((a+=(o^((r=((r+=(i^(o|~a))+t[12]+0x655b59c3|0)<<6|r>>>26)+o|0)|~i))+t[3]-0x70f3336e|0)<<10|a>>>22)+r|0)^((i=((i+=(r^(a|~o))+t[10]-1051523|0)<<15|i>>>17)+a|0)|~r))+t[1]-0x7a7ba22f|0)<<21|o>>>11)+i|0,o=((o+=((a=((a+=(o^((r=((r+=(i^(o|~a))+t[8]+0x6fa87e4f|0)<<6|r>>>26)+o|0)|~i))+t[15]-0x1d31920|0)<<10|a>>>22)+r|0)^((i=((i+=(r^(a|~o))+t[6]-0x5cfebcec|0)<<15|i>>>17)+a|0)|~r))+t[13]+0x4e0811a1|0)<<21|o>>>11)+i|0,o=((o+=((a=((a+=(o^((r=((r+=(i^(o|~a))+t[4]-0x8ac817e|0)<<6|r>>>26)+o|0)|~i))+t[11]-0x42c50dcb|0)<<10|a>>>22)+r|0)^((i=((i+=(r^(a|~o))+t[2]+0x2ad7d2bb|0)<<15|i>>>17)+a|0)|~r))+t[9]-0x14792c6f|0)<<21|o>>>11)+i|0,e[0]=r+e[0]|0,e[1]=o+e[1]|0,e[2]=i+e[2]|0,e[3]=a+e[3]|0}function r(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}function o(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return r}function i(e){var o,i,a,s,l,c,u=e.length,d=[0x67452301,-0x10325477,-0x67452302,0x10325476];for(o=64;o<=u;o+=64)t(d,r(e.substring(o-64,o)));for(i=(e=e.substring(o-64)).length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],o=0;o<i;o+=1)a[o>>2]|=e.charCodeAt(o)<<(o%4<<3);if(a[o>>2]|=128<<(o%4<<3),o>55)for(t(d,a),o=0;o<16;o+=1)a[o]=0;return l=parseInt((s=(s=8*u).toString(16).match(/(.*?)(.{0,8})$/))[2],16),c=parseInt(s[1],16)||0,a[14]=l,a[15]=c,t(d,a),d}function a(e){var t;for(t=0;t<e.length;t+=1)e[t]=function(e){var t,r="";for(t=0;t<4;t+=1)r+=u[e>>8*t+4&15]+u[e>>8*t&15];return r}(e[t]);return e.join("")}function s(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function l(e){var t,r=[],o=e.length;for(t=0;t<o-1;t+=2)r.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,r)}function c(){this.reset()}var u=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];return a(i("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function e(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(t,r){var o,i,a,s,l=this.byteLength,c=e(t,l),u=l;return void 0!==r&&(u=e(r,l)),c>u?new ArrayBuffer(0):(a=new Uint8Array(i=new ArrayBuffer(o=u-c)),s=new Uint8Array(this,c,o),a.set(s),i)}}(),c.prototype.append=function(e){return this.appendBinary(s(e)),this},c.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var o,i=this._buff.length;for(o=64;o<=i;o+=64)t(this._hash,r(this._buff.substring(o-64,o)));return this._buff=this._buff.substring(o-64),this},c.prototype.end=function(e){var t,r,o=this._buff,i=o.length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)s[t>>2]|=o.charCodeAt(t)<<(t%4<<3);return this._finish(s,i),r=a(this._hash),e&&(r=l(r)),this.reset(),r},c.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[0x67452301,-0x10325477,-0x67452302,0x10325476],this},c.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},c.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},c.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},c.prototype._finish=function(e,r){var o,i,a,s=r;if(e[s>>2]|=128<<(s%4<<3),s>55)for(t(this._hash,e),s=0;s<16;s+=1)e[s]=0;i=parseInt((o=(o=8*this._length).toString(16).match(/(.*?)(.{0,8})$/))[2],16),a=parseInt(o[1],16)||0,e[14]=i,e[15]=a,t(this._hash,e)},c.hash=function(e,t){return c.hashBinary(s(e),t)},c.hashBinary=function(e,t){var r=a(i(e));return t?l(r):r},c.ArrayBuffer=function(){this.reset()},c.ArrayBuffer.prototype.append=function(e){var r,i,a,s=(r=this._buff.buffer,(i=new Uint8Array(r.byteLength+e.byteLength)).set(new Uint8Array(r)),i.set(new Uint8Array(e),r.byteLength),i),l=s.length;for(this._length+=e.byteLength,a=64;a<=l;a+=64)t(this._hash,o(s.subarray(a-64,a)));return this._buff=new Uint8Array(a-64<l?s.buffer.slice(a-64):0),this},c.ArrayBuffer.prototype.end=function(e){var t,r,o=this._buff,i=o.length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)s[t>>2]|=o[t]<<(t%4<<3);return this._finish(s,i),r=a(this._hash),e&&(r=l(r)),this.reset(),r},c.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[0x67452301,-0x10325477,-0x67452302,0x10325476],this},c.ArrayBuffer.prototype.getState=function(){var e,t=c.prototype.getState.call(this);return e=t.buff,t.buff=String.fromCharCode.apply(null,new Uint8Array(e)),t},c.ArrayBuffer.prototype.setState=function(e){return e.buff=function(e,t){var r,o=e.length,i=new Uint8Array(new ArrayBuffer(o));for(r=0;r<o;r+=1)i[r]=e.charCodeAt(r);return i}(e.buff),c.prototype.setState.call(this,e)},c.ArrayBuffer.prototype.destroy=c.prototype.destroy,c.ArrayBuffer.prototype._finish=c.prototype._finish,c.ArrayBuffer.hash=function(e,r){var i=a(function(e){var r,i,a,s,l,c,u=e.length,d=[0x67452301,-0x10325477,-0x67452302,0x10325476];for(r=64;r<=u;r+=64)t(d,o(e.subarray(r-64,r)));for(i=(e=r-64<u?e.subarray(r-64):new Uint8Array(0)).length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],r=0;r<i;r+=1)a[r>>2]|=e[r]<<(r%4<<3);if(a[r>>2]|=128<<(r%4<<3),r>55)for(t(d,a),r=0;r<16;r+=1)a[r]=0;return l=parseInt((s=(s=8*u).toString(16).match(/(.*?)(.{0,8})$/))[2],16),c=parseInt(s[1],16)||0,a[14]=l,a[15]=c,t(d,a),d}(new Uint8Array(e)));return r?l(i):i},c}()},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.UploadManager=void 0;var i=o(r(18)),a=o(r(34)),s=o(r(17)),l=r(12),c=r(93);t.UploadManager=function(){function e(t,r,o){var i=this;(0,s.default)(this,e),this.config=(0,a.default)({useCdnDomain:!0,disableStatisticsReport:!1,retryCount:3,checkByMD5:!1,uphost:null,forceDirect:!1,concurrentRequestLimit:3,region:null},t.config),this.putExtra=(0,a.default)({fname:"",params:{},mimeType:null},t.putExtra),this.statisticsLogger=o,this.progress=null,this.xhrList=[],this.xhrHandler=function(e){return i.xhrList.push(e)},this.aborted=!1,this.file=t.file,this.key=t.key,this.token=t.token,this.onData=function(){},this.onError=function(){},this.onComplete=function(){},this.retryCount=0,(0,a.default)(this,r)}return e.prototype.putFile=function(){var e=this;if(this.aborted=!1,this.putExtra.fname||(this.putExtra.fname=this.file.name),!this.putExtra.mimeType||!this.putExtra.mimeType.length||(0,l.isContainFileMimeType)(this.file.type,this.putExtra.mimeType)){var t=(0,l.getUploadUrl)(this.config,this.token).then(function(t){return e.uploadUrl=t,e.uploadAt=new Date().getTime(),e.config.forceDirect?e.directUpload():e.file.size>4194304?e.resumeUpload():e.directUpload()});return t.then(function(t){e.onComplete(t.data),e.config.disableStatisticsReport||e.sendLog(t.reqId,200)},function(t){if(e.clear(),t.isRequestError&&!e.config.disableStatisticsReport){var r=e.aborted?"":t.reqId,o=e.aborted?-2:t.code;e.sendLog(r,o)}var i=t.isRequestError&&0===t.code&&!e.aborted,a=++e.retryCount<=e.config.retryCount;i&&a?e.putFile():e.onError(t)}),t}var r=Error("file type doesn't match with what you specify");this.onError(r)},e.prototype.clear=function(){this.xhrList.forEach(function(e){return e.abort()}),this.xhrList=[]},e.prototype.stop=function(){this.clear(),this.aborted=!0},e.prototype.sendLog=function(e,t){this.statisticsLogger.log({code:t,reqId:e,host:(0,l.getDomainFromUrl)(this.uploadUrl),remoteIp:"",port:(0,l.getPortFromUrl)(this.uploadUrl),duration:(new Date().getTime()-this.uploadAt)/1e3,time:Math.floor(this.uploadAt/1e3),bytesSent:this.progress?this.progress.total.loaded:0,upType:"jssdk-h5",size:this.file.size},this.token)},e.prototype.directUpload=function(){var e=this,t=new FormData;return t.append("file",this.file),t.append("token",this.token),null!=this.key&&t.append("key",this.key),t.append("fname",this.putExtra.fname),(0,l.filterParams)(this.putExtra.params).forEach(function(e){return t.append(e[0],e[1])}),(0,l.request)(this.uploadUrl,{method:"POST",body:t,onProgress:function(t){e.updateDirectProgress(t.loaded,t.total)},onCreate:this.xhrHandler}).then(function(t){return e.finishDirectProgress(),t})},e.prototype.resumeUpload=function(){var e=this;this.loaded={mkFileProgress:0,chunks:null},this.ctxList=[],this.localInfo=(0,l.getLocalFileInfo)(this.file),this.chunks=(0,l.getChunks)(this.file,4194304),this.initChunksProgress();var t=new c.Pool(function(t){return e.uploadChunk(t)},this.config.concurrentRequestLimit),r=this.chunks.map(function(e,r){return t.enqueue({chunk:e,index:r})}),o=i.default.all(r).then(function(){return e.mkFileReq()});return o.then(function(t){(0,l.removeLocalFileInfo)(e.file)},function(t){701===t.code&&(0,l.removeLocalFileInfo)(e.file)}),o},e.prototype.uploadChunk=function(e){var t=this,r=e.index,o=e.chunk,a=this.localInfo[r],s=this.uploadUrl+"/mkblk/"+o.size,c=a&&!(0,l.isChunkExpired)(a.time),u=this.config.checkByMD5,d=function(){return t.updateChunkProgress(o.size,r),t.ctxList[r]={ctx:a.ctx,size:a.size,time:a.time,md5:a.md5},i.default.resolve(null)};return c&&!u?d():(0,l.computeMd5)(o).then(function(e){if(c&&e===a.md5)return d();var i=(0,l.getHeadersForChunkUpload)(t.token),u=function(e){t.updateChunkProgress(e.loaded,r)},f=t.xhrHandler;return(0,l.request)(s,{method:"POST",headers:i,body:o,onProgress:u,onCreate:f}).then(function(i){u({loaded:o.size}),t.ctxList[r]={time:new Date().getTime(),ctx:i.data.ctx,size:o.size,md5:e},(0,l.setLocalFileInfo)(t.file,t.ctxList)})})},e.prototype.mkFileReq=function(){var e=this,t=(0,a.default)({mimeType:"application/octet-stream"},this.putExtra),r=(0,l.createMkFileUrl)(this.uploadUrl,this.file,this.key,t),o=this.ctxList.map(function(e){return e.ctx}).join(","),s=(0,l.getHeadersForMkFile)(this.token),c=this.xhrHandler;return(0,l.request)(r,{method:"POST",body:o,headers:s,onCreate:c}).then(function(t){return e.updateMkFileProgress(1),i.default.resolve(t)})},e.prototype.updateDirectProgress=function(e,t){this.progress={total:this.getProgressInfoItem(e,t+1)},this.onData(this.progress)},e.prototype.finishDirectProgress=function(){if(!this.progress)return this.progress={total:this.getProgressInfoItem(this.file.size,this.file.size)},void this.onData(this.progress);var e=this.progress.total;this.progress={total:this.getProgressInfoItem(e.loaded+1,e.size)},this.onData(this.progress)},e.prototype.initChunksProgress=function(){this.loaded.chunks=this.chunks.map(function(e){return 0}),this.notifyResumeProgress()},e.prototype.updateChunkProgress=function(e,t){this.loaded.chunks[t]=e,this.notifyResumeProgress()},e.prototype.updateMkFileProgress=function(e){this.loaded.mkFileProgress=e,this.notifyResumeProgress()},e.prototype.notifyResumeProgress=function(){var e=this;this.progress={total:this.getProgressInfoItem((0,l.sum)(this.loaded.chunks)+this.loaded.mkFileProgress,this.file.size+1),chunks:this.chunks.map(function(t,r){return e.getProgressInfoItem(e.loaded.chunks[r],t.size)})},this.onData(this.progress)},e.prototype.getProgressInfoItem=function(e,t){return{loaded:e,size:t,percent:e/t*100}},e}()},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.Pool=void 0;var i=o(r(18)),a=o(r(17));t.Pool=function(){function e(t,r){(0,a.default)(this,e),this.runTask=t,this.queue=[],this.processing=[],this.limit=r}return e.prototype.enqueue=function(e){var t=this;return new i.default(function(r,o){t.queue.push({task:e,resolve:r,reject:o}),t.check()})},e.prototype.run=function(e){var t=this;this.queue=this.queue.filter(function(t){return t!==e}),this.processing.push(e),this.runTask(e.task).then(function(){t.processing=t.processing.filter(function(t){return t!==e}),e.resolve(),t.check()},function(t){return e.reject(t)})},e.prototype.check=function(){var e=this,t=this.processing.length,r=this.limit-t;this.queue.slice(0,r).forEach(function(t,r){e.run(t)})},e}()},function(e,t,r){"use strict";function o(e,t){return e=encodeURIComponent(e),"/"!==t.slice(t.length-1)&&(t+="/"),t+e}function i(e,t,r){if(!/^\d$/.test(e.mode))throw"mode should be number in imageView2";var i=e.mode,a=e.w,s=e.h,l=e.q,c=e.format;if(!a&&!s)throw"param w and h is empty in imageView2";var u="imageView2/"+encodeURIComponent(i);return u+=(a?"/w/"+encodeURIComponent(a):"")+(s?"/h/"+encodeURIComponent(s):"")+(l?"/q/"+encodeURIComponent(l):"")+(c?"/format/"+encodeURIComponent(c):""),t&&(u=o(t,r)+"?"+u),u}function a(e,t,r){var i=e["auto-orient"],a=e.thumbnail,s=e.strip,l=e.gravity,c=e.crop,u=e.quality,d=e.rotate,f=e.format,h=e.blur,p="imageMogr2";return p+=(i?"/auto-orient":"")+(a?"/thumbnail/"+encodeURIComponent(a):"")+(s?"/strip":"")+(l?"/gravity/"+encodeURIComponent(l):"")+(u?"/quality/"+encodeURIComponent(u):"")+(c?"/crop/"+encodeURIComponent(c):"")+(d?"/rotate/"+encodeURIComponent(d):"")+(f?"/format/"+encodeURIComponent(f):"")+(h?"/blur/"+encodeURIComponent(h):""),t&&(p=o(t,r)+"?"+p),p}function s(e,t,r){var i=e.mode;if(!i)throw"mode can't be empty in watermark";var a="watermark/"+i;if(1!==i&&2!==i)throw"mode is wrong";if(1===i){var s=e.image;if(!s)throw"image can't be empty in watermark";a+=s?"/image/"+(0,c.urlSafeBase64Encode)(s):""}if(2===i){var l=e.text,u=e.font,d=e.fontsize,f=e.fill;if(!l)throw"text can't be empty in watermark";a+=(l?"/text/"+(0,c.urlSafeBase64Encode)(l):"")+(u?"/font/"+(0,c.urlSafeBase64Encode)(u):"")+(d?"/fontsize/"+d:"")+(f?"/fill/"+(0,c.urlSafeBase64Encode)(f):"")}var h=e.dissolve,p=e.gravity,m=e.dx,y=e.dy;return a+=(h?"/dissolve/"+encodeURIComponent(h):"")+(p?"/gravity/"+encodeURIComponent(p):"")+(m?"/dx/"+encodeURIComponent(m):"")+(y?"/dy/"+encodeURIComponent(y):""),t&&(a=o(t,r)+"?"+a),a}t.__esModule=!0,t.imageView2=i,t.imageMogr2=a,t.watermark=s,t.imageInfo=function(e,t){var r=o(e,t)+"?imageInfo";return(0,l.request)(r,{method:"GET"})},t.exif=function(e,t){var r=o(e,t)+"?exif";return(0,l.request)(r,{method:"GET"})},t.pipeline=function(e,t,r){var l=void 0,c=void 0,u="";if("[object Array]"===Object.prototype.toString.call(e)){for(var d=0,f=e.length;d<f;d++){if(!(l=e[d]).fop)throw"fop can't be empty in pipeline";switch(l.fop){case"watermark":u+=s(l)+"|";break;case"imageView2":u+=i(l)+"|";break;case"imageMogr2":u+=a(l)+"|";break;default:c=!0}if(c)throw"fop is wrong in pipeline"}if(t){var h=(u=o(t,r)+"?"+u).length;"|"===u.slice(h-1)&&(u=u.slice(0,h-1))}return u}throw"pipeline's first param should be array"};var l=r(12),c=r(56)},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.Observable=void 0;var i=o(r(96)),a=o(r(17));t.Observable=function(){function e(t){(0,a.default)(this,e),this.subscribeAction=t}return e.prototype.subscribe=function(e,t,r){var o=new s(e,t,r),i=this.subscribeAction(o);return new l(o,i)},e}();var s=function(){function e(t,r,o){(0,a.default)(this,e),this.isStopped=!1,"object"===(void 0===t?"undefined":(0,i.default)(t))?(this._onNext=t.next,this._onError=t.error,this._onCompleted=t.complete):(this._onNext=t,this._onError=r,this._onCompleted=o)}return e.prototype.next=function(e){!this.isStopped&&this._onNext&&this._onNext(e)},e.prototype.error=function(e){!this.isStopped&&this._onError&&(this.isStopped=!0,this._onError(e))},e.prototype.complete=function(e){!this.isStopped&&this._onCompleted&&(this.isStopped=!0,this._onCompleted(e))},e}(),l=function(){function e(t,r){(0,a.default)(this,e),this.observer=t,this.result=r}return e.prototype.unsubscribe=function(){this.observer.isStopped=!0,this.result()},e}()},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=o(r(97)),a=o(r(99)),s="function"==typeof a.default&&"symbol"==typeof i.default?function(e){return typeof e}:function(e){return e&&"function"==typeof a.default&&e.constructor===a.default&&e!==a.default.prototype?"symbol":typeof e};t.default="function"==typeof a.default&&"symbol"===s(i.default)?function(e){return void 0===e?"undefined":s(e)}:function(e){return e&&"function"==typeof a.default&&e.constructor===a.default&&e!==a.default.prototype?"symbol":void 0===e?"undefined":s(e)}},function(e,t,r){e.exports={default:r(98),__esModule:!0}},function(e,t,r){r(41),r(50),e.exports=r(37).f("iterator")},function(e,t,r){e.exports={default:r(100),__esModule:!0}},function(e,t,r){r(101),r(40),r(107),r(108),e.exports=r(1).Symbol},function(e,t,r){"use strict";var o=r(0),i=r(9),a=r(4),s=r(5),l=r(44),c=r(102).KEY,u=r(10),d=r(31),f=r(23),h=r(22),p=r(2),m=r(37),y=r(38),v=r(103),g=r(104),w=r(3),b=r(8),_=r(24),x=r(11),k=r(29),C=r(21),T=r(45),E=r(105),S=r(106),N=r(35),I=r(7),L=r(15),A=S.f,P=I.f,M=E.f,O=o.Symbol,R=o.JSON,j=R&&R.stringify,D=p("_hidden"),F=p("toPrimitive"),U={}.propertyIsEnumerable,B=d("symbol-registry"),V=d("symbols"),H=d("op-symbols"),W=Object.prototype,z="function"==typeof O&&!!N.f,J=o.QObject,G=!J||!J.prototype||!J.prototype.findChild,q=a&&u(function(){return 7!=T(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a})?function(e,t,r){var o=A(W,t);o&&delete W[t],P(e,t,r),o&&e!==W&&P(W,t,o)}:P,$=function(e){var t=V[e]=T(O.prototype);return t._k=e,t},K=z&&"symbol"==typeof O.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof O},X=function(e,t,r){return e===W&&X(H,t,r),w(e),t=k(t,!0),w(r),i(V,t)?(r.enumerable?(i(e,D)&&e[D][t]&&(e[D][t]=!1),r=T(r,{enumerable:C(0,!1)})):(i(e,D)||P(e,D,C(1,{})),e[D][t]=!0),q(e,t,r)):P(e,t,r)},Y=function(e,t){w(e);for(var r,o=v(t=x(t)),i=0,a=o.length;a>i;)X(e,r=o[i++],t[r]);return e},Z=function(e){var t=U.call(this,e=k(e,!0));return!(this===W&&i(V,e)&&!i(H,e))&&(!(t||!i(this,e)||!i(V,e)||i(this,D)&&this[D][e])||t)},Q=function(e,t){if(e=x(e),t=k(t,!0),e!==W||!i(V,t)||i(H,t)){var r=A(e,t);return!r||!i(V,t)||i(e,D)&&e[D][t]||(r.enumerable=!0),r}},ee=function(e){for(var t,r=M(x(e)),o=[],a=0;r.length>a;)i(V,t=r[a++])||t==D||t==c||o.push(t);return o},et=function(e){for(var t,r=e===W,o=M(r?H:x(e)),a=[],s=0;o.length>s;)i(V,t=o[s++])&&(!r||i(W,t))&&a.push(V[t]);return a};z||(l((O=function(){if(this instanceof O)throw TypeError("Symbol is not a constructor!");var e=h(arguments.length>0?arguments[0]:void 0),t=function(r){this===W&&t.call(H,r),i(this,D)&&i(this[D],e)&&(this[D][e]=!1),q(this,e,C(1,r))};return a&&G&&q(W,e,{configurable:!0,set:t}),$(e)}).prototype,"toString",function(){return this._k}),S.f=Q,I.f=X,r(57).f=E.f=ee,r(25).f=Z,N.f=et,a&&!r(13)&&l(W,"propertyIsEnumerable",Z,!0),m.f=function(e){return $(p(e))}),s(s.G+s.W+!z*s.F,{Symbol:O});for(var en="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),er=0;en.length>er;)p(en[er++]);for(var eo=L(p.store),ei=0;eo.length>ei;)y(eo[ei++]);s(s.S+!z*s.F,"Symbol",{for:function(e){return i(B,e+="")?B[e]:B[e]=O(e)},keyFor:function(e){if(!K(e))throw TypeError(e+" is not a symbol!");for(var t in B)if(B[t]===e)return t},useSetter:function(){G=!0},useSimple:function(){G=!1}}),s(s.S+!z*s.F,"Object",{create:function(e,t){return void 0===t?T(e):Y(T(e),t)},defineProperty:X,defineProperties:Y,getOwnPropertyDescriptor:Q,getOwnPropertyNames:ee,getOwnPropertySymbols:et});var ea=u(function(){N.f(1)});s(s.S+s.F*ea,"Object",{getOwnPropertySymbols:function(e){return N.f(_(e))}}),R&&s(s.S+s.F*(!z||u(function(){var e=O();return"[null]"!=j([e])||"{}"!=j({a:e})||"{}"!=j(Object(e))})),"JSON",{stringify:function(e){for(var t,r,o=[e],i=1;arguments.length>i;)o.push(arguments[i++]);if(r=t=o[1],(b(t)||void 0!==e)&&!K(e))return g(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!K(t))return t}),o[1]=t,j.apply(R,o)}}),O.prototype[F]||r(6)(O.prototype,F,O.prototype.valueOf),f(O,"Symbol"),f(Math,"Math",!0),f(o.JSON,"JSON",!0)},function(e,t,r){var o=r(22)("meta"),i=r(8),a=r(9),s=r(7).f,l=0,c=Object.isExtensible||function(){return!0},u=!r(10)(function(){return c(Object.preventExtensions({}))}),d=function(e){s(e,o,{value:{i:"O"+ ++l,w:{}}})},f=e.exports={KEY:o,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,o)){if(!c(e))return"F";if(!t)return"E";d(e)}return e[o].i},getWeak:function(e,t){if(!a(e,o)){if(!c(e))return!0;if(!t)return!1;d(e)}return e[o].w},onFreeze:function(e){return u&&f.NEED&&c(e)&&!a(e,o)&&d(e),e}}},function(e,t,r){var o=r(15),i=r(35),a=r(25);e.exports=function(e){var t=o(e),r=i.f;if(r)for(var s,l=r(e),c=a.f,u=0;l.length>u;)c.call(e,s=l[u++])&&t.push(s);return t}},function(e,t,r){var o=r(16);e.exports=Array.isArray||function(e){return"Array"==o(e)}},function(e,t,r){var o=r(11),i=r(57).f,a={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"[object Window]"==a.call(e)?function(e){try{return i(e)}catch(e){return s.slice()}}(e):i(o(e))}},function(e,t,r){var o=r(25),i=r(21),a=r(11),s=r(29),l=r(9),c=r(43),u=Object.getOwnPropertyDescriptor;t.f=r(4)?u:function(e,t){if(e=a(e),t=s(t,!0),c)try{return u(e,t)}catch(e){}if(l(e,t))return i(!o.f.call(e,t),e[t])}},function(e,t,r){r(38)("asyncIterator")},function(e,t,r){r(38)("observable")},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.StatisticsLogger=void 0;var i=o(r(36)),a=o(r(17)),s=r(12);t.StatisticsLogger=function(){function e(){(0,a.default)(this,e)}return e.prototype.log=function(e,t){var r="";(0,i.default)(e).forEach(function(t){return r+=e[t]+","}),this.send(r,t,0)},e.prototype.send=function(e,t,r){var o=(0,s.createXHR)(),i=this;o.open("POST","https://uplog.qbox.me/log/3"),o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.setRequestHeader("Authorization","UpToken "+t),o.onreadystatechange=function(){4===o.readyState&&200!==o.status&&++r<=3&&i.send(e,t,r)},o.send(e)},e}()},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=o(r(18)),a=o(r(34)),s=o(r(17)),l=o(r(36)),c=r(111),u=r(12),d={PNG:"image/png",JPEG:"image/jpeg",WEBP:"image/webp",BMP:"image/bmp"},f=Math.log(2),h=(0,l.default)(d).map(function(e){return d[e]}),p=d.JPEG,m=function(){function e(t,r){(0,s.default)(this,e),this.config=(0,a.default)({quality:.92,noCompressIfLarger:!1},r),this.file=t}return e.prototype.process=function(){var e,t=this;this.outputType=this.file.type;var r={};return(e=this.file.type,h.includes(e))?this.getOriginImage().then(function(e){return t.getCanvas(e)}).then(function(e){var o=1;return t.config.maxWidth&&(o=Math.min(1,t.config.maxWidth/e.width)),t.config.maxHeight&&(o=Math.min(1,o,t.config.maxHeight/e.height)),r.width=e.width,r.height=e.height,t.doScale(e,o)}).then(function(e){var o=t.toBlob(e);return o.size>t.file.size&&t.config.noCompressIfLarger?{dist:t.file,width:r.width,height:r.height}:{dist:o,width:e.width,height:e.height}}):i.default.reject(Error("unsupported file type: "+this.file.type))},e.prototype.clear=function(e,t,r){this.outputType===p?(e.fillStyle="#fff",e.fillRect(0,0,t,r)):e.clearRect(0,0,t,r)},e.prototype.getOriginImage=function(){var e=this;return new i.default(function(t,r){var o=(0,u.createObjectURL)(e.file),i=new Image;i.onload=function(){t(i)},i.onerror=function(){r("image load error")},i.src=o})},e.prototype.getCanvas=function(e){var t=this;return new i.default(function(r,o){c.EXIF.getData(e,function(){var o=c.EXIF.getTag(e,"Orientation")||1,i=(0,u.getTransform)(e,o),a=i.width,s=i.height,l=i.matrix,d=document.createElement("canvas"),f=d.getContext("2d");d.width=a,d.height=s,t.clear(f,a,s),f.transform.apply(f,l),f.drawImage(e,0,0),r(d)})})},e.prototype.doScale=function(e,t){if(1===t)return i.default.resolve(e);var r=e.getContext("2d"),o=Math.min(4,Math.ceil(1/t/f)),a=Math.pow(t,1/o),s=document.createElement("canvas"),l=s.getContext("2d"),c=e.width,u=e.height,d=c,h=u;s.width=c,s.height=u;for(var p=void 0,m=void 0,y=0;y<o;y++){var v=c*a|0,g=u*a|0;y===o-1&&(v=d*t,g=h*t),y%2==0?(p=e,m=l):(p=s,m=r),this.clear(m,c,u),m.drawImage(p,0,0,c,u,0,0,v,g),c=v,u=g}var w=p===e?s:e,b=m.getImageData(0,0,c,u);return w.width=c,w.height=u,m.putImageData(b,0,0),i.default.resolve(w)},e.prototype.toBlob=function(e){return new Blob([new Uint8Array(atob(e.toDataURL(this.outputType,this.config.quality).split(",")[1]).split("").map(function(e){return e.charCodeAt(0)}))],{type:this.outputType})},e}();t.default=function(e,t){return new m(e,t).process()}},function(e,t,r){var o;(function(){function r(e){return!!e.exifdata}function i(e){var t=new DataView(e);if(c&&console.log("Got file of length "+e.byteLength),255!=t.getUint8(0)||216!=t.getUint8(1))return c&&console.log("Not a valid JPEG"),!1;for(var r,o=2,i=e.byteLength;o<i;){if(255!=t.getUint8(o))return c&&console.log("Not a valid marker at offset "+o+", found: "+t.getUint8(o)),!1;if(r=t.getUint8(o+1),c&&console.log(r),225==r)return c&&console.log("Found 0xFFE1 marker"),function(e,t){if("Exif"!=s(e,t,4))return c&&console.log("Not valid EXIF data! "+s(e,t,4)),!1;var r,o,i,l,u,y=t+6;if(18761==e.getUint16(y))r=!1;else{if(19789!=e.getUint16(y))return c&&console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),!1;r=!0}if(42!=e.getUint16(y+2,!r))return c&&console.log("Not valid TIFF data! (no 0x002A)"),!1;var v=e.getUint32(y+4,!r);if(v<8)return c&&console.log("Not valid TIFF data! (First offset less than 8)",e.getUint32(y+4,!r)),!1;if((o=a(e,y,y+v,f,r)).ExifIFDPointer)for(i in l=a(e,y,y+o.ExifIFDPointer,d,r)){switch(i){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":l[i]=m[i][l[i]];break;case"ExifVersion":case"FlashpixVersion":l[i]=String.fromCharCode(l[i][0],l[i][1],l[i][2],l[i][3]);break;case"ComponentsConfiguration":l[i]=m.Components[l[i][0]]+m.Components[l[i][1]]+m.Components[l[i][2]]+m.Components[l[i][3]]}o[i]=l[i]}if(o.GPSInfoIFDPointer)for(i in u=a(e,y,y+o.GPSInfoIFDPointer,h,r))"GPSVersionID"===i&&(u[i]=u[i][0]+"."+u[i][1]+"."+u[i][2]+"."+u[i][3]),o[i]=u[i];return o.thumbnail=function(e,t,r,o){var i,s,l=(i=t+r,s=e.getUint16(i,!o),e.getUint32(i+2+12*s,!o));if(!l||l>e.byteLength)return{};var c=a(e,t,t+l,p,o);if(c.Compression)switch(c.Compression){case 6:if(c.JpegIFOffset&&c.JpegIFByteCount){var u=t+c.JpegIFOffset,d=c.JpegIFByteCount;c.blob=new Blob([new Uint8Array(e.buffer,u,d)],{type:"image/jpeg"})}break;case 1:console.log("Thumbnail image format is TIFF, which is not implemented.");break;default:console.log("Unknown thumbnail image format '%s'",c.Compression)}else 2==c.PhotometricInterpretation&&console.log("Thumbnail image format is RGB, which is not implemented.");return c}(e,y,v,r),o}(t,o+4,t.getUint16(o+2));o+=2+t.getUint16(o+2)}}function a(e,t,r,o,i){var a,l,u,d=e.getUint16(r,!i),f={};for(u=0;u<d;u++)a=r+12*u+2,(l=o[e.getUint16(a,!i)])||!c||console.log("Unknown tag: "+e.getUint16(a,!i)),f[l]=function(e,t,r,o,i){var a,l,c,u,d,f,h=e.getUint16(t+2,!i),p=e.getUint32(t+4,!i),m=e.getUint32(t+8,!i)+r;switch(h){case 1:case 7:if(1==p)return e.getUint8(t+8,!i);for(a=p>4?m:t+8,l=[],u=0;u<p;u++)l[u]=e.getUint8(a+u);return l;case 2:return s(e,a=p>4?m:t+8,p-1);case 3:if(1==p)return e.getUint16(t+8,!i);for(a=p>2?m:t+8,l=[],u=0;u<p;u++)l[u]=e.getUint16(a+2*u,!i);return l;case 4:if(1==p)return e.getUint32(t+8,!i);for(l=[],u=0;u<p;u++)l[u]=e.getUint32(m+4*u,!i);return l;case 5:if(1==p)return(c=new Number((d=e.getUint32(m,!i))/(f=e.getUint32(m+4,!i)))).numerator=d,c.denominator=f,c;for(l=[],u=0;u<p;u++)d=e.getUint32(m+8*u,!i),f=e.getUint32(m+4+8*u,!i),l[u]=new Number(d/f),l[u].numerator=d,l[u].denominator=f;return l;case 9:if(1==p)return e.getInt32(t+8,!i);for(l=[],u=0;u<p;u++)l[u]=e.getInt32(m+4*u,!i);return l;case 10:if(1==p)return e.getInt32(m,!i)/e.getInt32(m+4,!i);for(l=[],u=0;u<p;u++)l[u]=e.getInt32(m+8*u,!i)/e.getInt32(m+4+8*u,!i);return l}}(e,a,t,0,i);return f}function s(e,t,r){var o="";for(n=t;n<t+r;n++)o+=String.fromCharCode(e.getUint8(n));return o}function l(e){var t={};if(1==e.nodeType){if(e.attributes.length>0){t["@attributes"]={};for(var r=0;r<e.attributes.length;r++){var o=e.attributes.item(r);t["@attributes"][o.nodeName]=o.nodeValue}}}else if(3==e.nodeType)return e.nodeValue;if(e.hasChildNodes())for(var i=0;i<e.childNodes.length;i++){var a=e.childNodes.item(i),s=a.nodeName;if(null==t[s])t[s]=l(a);else{if(null==t[s].push){var c=t[s];t[s]=[],t[s].push(c)}t[s].push(l(a))}}return t}var c=!1,u=function(e){return e instanceof u?e:this instanceof u?void(this.EXIFwrapped=e):new u(e)};void 0!==e&&e.exports&&(t=e.exports=u),t.EXIF=u;var d=u.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},f=u.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},h=u.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},p=u.IFD1Tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:"ResolutionUnit",513:"JpegIFOffset",514:"JpegIFByteCount",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite"},m=u.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}},y={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};u.enableXmp=function(){u.isXmpEnabled=!0},u.disableXmp=function(){u.isXmpEnabled=!1},u.getData=function(e,t){return!((self.Image&&e instanceof self.Image||self.HTMLImageElement&&e instanceof self.HTMLImageElement)&&!e.complete||(r(e)?t&&t.call(e):function(e,t){function r(r){e.exifdata=i(r)||{},e.iptcdata=function(e){var t,r=new DataView(e);if(c&&console.log("Got file of length "+e.byteLength),255!=r.getUint8(0)||216!=r.getUint8(1))return c&&console.log("Not a valid JPEG"),!1;for(var o=2,i=e.byteLength;o<i;){if(t=o,56===r.getUint8(t)&&66===r.getUint8(t+1)&&73===r.getUint8(t+2)&&77===r.getUint8(t+3)&&4===r.getUint8(t+4)&&4===r.getUint8(t+5)){var a=r.getUint8(o+7);return a%2!=0&&(a+=1),0===a&&(a=4),function(e,t,r){for(var o,i,a,l,c=new DataView(e),u={},d=t;d<t+r;)28===c.getUint8(d)&&2===c.getUint8(d+1)&&(l=c.getUint8(d+2))in y&&(a=c.getInt16(d+3),i=y[l],o=s(c,d+5,a),u.hasOwnProperty(i)?u[i]instanceof Array?u[i].push(o):u[i]=[u[i],o]:u[i]=o),d++;return u}(e,o+8+a,r.getUint16(o+6+a))}o++}}(r)||{},u.isXmpEnabled&&(e.xmpdata=function(e){if("DOMParser"in self){var t=new DataView(e);if(c&&console.log("Got file of length "+e.byteLength),255!=t.getUint8(0)||216!=t.getUint8(1))return c&&console.log("Not a valid JPEG"),!1;for(var r=2,o=e.byteLength,i=new DOMParser;r<o-4;){if("http"==s(t,r,4)){var a=r-1,u=t.getUint16(r-2)-1,d=s(t,a,u),f=d.indexOf("xmpmeta>")+8,h=(d=d.substring(d.indexOf("<x:xmpmeta"),f)).indexOf("x:xmpmeta")+10;return d=d.slice(0,h)+'xmlns:Iptc4xmpCore="http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tiff="http://ns.adobe.com/tiff/1.0/" xmlns:plus="http://schemas.android.com/apk/lib/com.google.android.gms.plus" xmlns:ext="http://www.gettyimages.com/xsltExtension/1.0" xmlns:exif="http://ns.adobe.com/exif/1.0/" xmlns:stEvt="http://ns.adobe.com/xap/1.0/sType/ResourceEvent#" xmlns:stRef="http://ns.adobe.com/xap/1.0/sType/ResourceRef#" xmlns:crs="http://ns.adobe.com/camera-raw-settings/1.0/" xmlns:xapGImg="http://ns.adobe.com/xap/1.0/g/img/" xmlns:Iptc4xmpExt="http://iptc.org/std/Iptc4xmpExt/2008-02-29/" '+d.slice(h),function(e){try{var t={};if(e.children.length>0)for(var r=0;r<e.children.length;r++){var o=e.children.item(r),i=o.attributes;for(var a in i){var s=i[a],c=s.nodeName,u=s.nodeValue;void 0!==c&&(t[c]=u)}var d=o.nodeName;if(void 0===t[d])t[d]=l(o);else{if(void 0===t[d].push){var f=t[d];t[d]=[],t[d].push(f)}t[d].push(l(o))}}else t=e.textContent;return t}catch(e){console.log(e.message)}}(i.parseFromString(d,"text/xml"))}r++}}}(r)||{}),t&&t.call(e)}if(e.src)if(/^data\:/i.test(e.src))r(function(e,t){t=t||e.match(/^data\:([^\;]+)\;base64,/im)[1]||"",e=e.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var r=atob(e),o=r.length,i=new ArrayBuffer(o),a=new Uint8Array(i),s=0;s<o;s++)a[s]=r.charCodeAt(s);return i}(e.src));else if(/^blob\:/i.test(e.src)){var o,a,d;(f=new FileReader).onload=function(e){r(e.target.result)},o=e.src,a=function(e){f.readAsArrayBuffer(e)},(d=new XMLHttpRequest).open("GET",o,!0),d.responseType="blob",d.onload=function(e){(200==this.status||0===this.status)&&a(this.response)},d.send()}else{var f,h=new XMLHttpRequest;h.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";r(h.response),h=null},h.open("GET",e.src,!0),h.responseType="arraybuffer",h.send(null)}else self.FileReader&&(e instanceof self.Blob||e instanceof self.File)&&((f=new FileReader).onload=function(e){c&&console.log("Got file of length "+e.target.result.byteLength),r(e.target.result)},f.readAsArrayBuffer(e))}(e,t),0))},u.getTag=function(e,t){if(r(e))return e.exifdata[t]},u.getIptcTag=function(e,t){if(r(e))return e.iptcdata[t]},u.getAllTags=function(e){if(!r(e))return{};var t,o=e.exifdata,i={};for(t in o)o.hasOwnProperty(t)&&(i[t]=o[t]);return i},u.getAllIptcTags=function(e){if(!r(e))return{};var t,o=e.iptcdata,i={};for(t in o)o.hasOwnProperty(t)&&(i[t]=o[t]);return i},u.pretty=function(e){if(!r(e))return"";var t,o=e.exifdata,i="";for(t in o)o.hasOwnProperty(t)&&("object"==typeof o[t]?o[t]instanceof Number?i+=t+" : "+o[t]+" ["+o[t].numerator+"/"+o[t].denominator+"]\r\n":i+=t+" : ["+o[t].length+" values]\r\n":i+=t+" : "+o[t]+"\r\n");return i},u.readFromBinaryFile=function(e){return i(e)},void 0!==(o=(function(){return u}).apply(t,[]))&&(e.exports=o)}).call(this)}];function t(o){if(r[o])return r[o].exports;var i=r[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,o){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist/",t(t.s=58)}()},10290(e){e.exports=[{locale:"en",pluralRuleFunction:function(e,t){var r=String(e).split("."),o=!r[1],i=Number(r[0])==e,a=i&&r[0].slice(-1),s=i&&r[0].slice(-2);return t?1==a&&11!=s?"one":2==a&&12!=s?"two":3==a&&13!=s?"few":"other":1==e&&o?"one":"other"},fields:{year:{displayName:"year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{one:"in {0} year",other:"in {0} years"},past:{one:"{0} year ago",other:"{0} years ago"}}},"year-short":{displayName:"yr.",relative:{0:"this yr.",1:"next yr.","-1":"last yr."},relativeTime:{future:{one:"in {0} yr.",other:"in {0} yr."},past:{one:"{0} yr. ago",other:"{0} yr. ago"}}},month:{displayName:"month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{one:"in {0} month",other:"in {0} months"},past:{one:"{0} month ago",other:"{0} months ago"}}},"month-short":{displayName:"mo.",relative:{0:"this mo.",1:"next mo.","-1":"last mo."},relativeTime:{future:{one:"in {0} mo.",other:"in {0} mo."},past:{one:"{0} mo. ago",other:"{0} mo. ago"}}},day:{displayName:"day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},"day-short":{displayName:"day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},hour:{displayName:"hour",relative:{0:"this hour"},relativeTime:{future:{one:"in {0} hour",other:"in {0} hours"},past:{one:"{0} hour ago",other:"{0} hours ago"}}},"hour-short":{displayName:"hr.",relative:{0:"this hour"},relativeTime:{future:{one:"in {0} hr.",other:"in {0} hr."},past:{one:"{0} hr. ago",other:"{0} hr. ago"}}},minute:{displayName:"minute",relative:{0:"this minute"},relativeTime:{future:{one:"in {0} minute",other:"in {0} minutes"},past:{one:"{0} minute ago",other:"{0} minutes ago"}}},"minute-short":{displayName:"min.",relative:{0:"this minute"},relativeTime:{future:{one:"in {0} min.",other:"in {0} min."},past:{one:"{0} min. ago",other:"{0} min. ago"}}},second:{displayName:"second",relative:{0:"now"},relativeTime:{future:{one:"in {0} second",other:"in {0} seconds"},past:{one:"{0} second ago",other:"{0} seconds ago"}}},"second-short":{displayName:"sec.",relative:{0:"now"},relativeTime:{future:{one:"in {0} sec.",other:"in {0} sec."},past:{one:"{0} sec. ago",other:"{0} sec. ago"}}}}},{locale:"en-001",parentLocale:"en",fields:{year:{displayName:"year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{one:"in {0} year",other:"in {0} years"},past:{one:"{0} year ago",other:"{0} years ago"}}},"year-short":{displayName:"yr",relative:{0:"this yr.",1:"next yr.","-1":"last yr."},relativeTime:{future:{one:"in {0} yr",other:"in {0} yr"},past:{one:"{0} yr ago",other:"{0} yr ago"}}},month:{displayName:"month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{one:"in {0} month",other:"in {0} months"},past:{one:"{0} month ago",other:"{0} months ago"}}},"month-short":{displayName:"mo",relative:{0:"this mo.",1:"next mo.","-1":"last mo."},relativeTime:{future:{one:"in {0} mo",other:"in {0} mo"},past:{one:"{0} mo ago",other:"{0} mo ago"}}},day:{displayName:"day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},"day-short":{displayName:"day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},hour:{displayName:"hour",relative:{0:"this hour"},relativeTime:{future:{one:"in {0} hour",other:"in {0} hours"},past:{one:"{0} hour ago",other:"{0} hours ago"}}},"hour-short":{displayName:"hr",relative:{0:"this hour"},relativeTime:{future:{one:"in {0} hr",other:"in {0} hr"},past:{one:"{0} hr ago",other:"{0} hr ago"}}},minute:{displayName:"minute",relative:{0:"this minute"},relativeTime:{future:{one:"in {0} minute",other:"in {0} minutes"},past:{one:"{0} minute ago",other:"{0} minutes ago"}}},"minute-short":{displayName:"min",relative:{0:"this minute"},relativeTime:{future:{one:"in {0} min",other:"in {0} min"},past:{one:"{0} min ago",other:"{0} min ago"}}},second:{displayName:"second",relative:{0:"now"},relativeTime:{future:{one:"in {0} second",other:"in {0} seconds"},past:{one:"{0} second ago",other:"{0} seconds ago"}}},"second-short":{displayName:"sec",relative:{0:"now"},relativeTime:{future:{one:"in {0} sec",other:"in {0} sec"},past:{one:"{0} sec ago",other:"{0} sec ago"}}}}},{locale:"en-150",parentLocale:"en-001"},{locale:"en-AG",parentLocale:"en-001"},{locale:"en-AI",parentLocale:"en-001"},{locale:"en-AS",parentLocale:"en"},{locale:"en-AT",parentLocale:"en-150"},{locale:"en-AU",parentLocale:"en-001",fields:{year:{displayName:"year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{one:"in {0} year",other:"in {0} years"},past:{one:"{0} year ago",other:"{0} years ago"}}},"year-short":{displayName:"yr",relative:{0:"this yr.",1:"next yr.","-1":"last yr."},relativeTime:{future:{one:"in {0} yr",other:"in {0} yrs"},past:{one:"{0} yr ago",other:"{0} yrs ago"}}},month:{displayName:"month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{one:"in {0} month",other:"in {0} months"},past:{one:"{0} month ago",other:"{0} months ago"}}},"month-short":{displayName:"mo.",relative:{0:"this mo.",1:"next mo.","-1":"last mo."},relativeTime:{future:{one:"in {0} mo.",other:"in {0} mo."},past:{one:"{0} mo. ago",other:"{0} mo. ago"}}},day:{displayName:"day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},"day-short":{displayName:"day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},hour:{displayName:"hour",relative:{0:"this hour"},relativeTime:{future:{one:"in {0} hour",other:"in {0} hours"},past:{one:"{0} hour ago",other:"{0} hours ago"}}},"hour-short":{displayName:"h",relative:{0:"this hour"},relativeTime:{future:{one:"in {0} hr",other:"in {0} hrs"},past:{one:"{0} hr ago",other:"{0} hrs ago"}}},minute:{displayName:"minute",relative:{0:"this minute"},relativeTime:{future:{one:"in {0} minute",other:"in {0} minutes"},past:{one:"{0} minute ago",other:"{0} minutes ago"}}},"minute-short":{displayName:"min.",relative:{0:"this minute"},relativeTime:{future:{one:"in {0} min.",other:"in {0} mins"},past:{one:"{0} min. ago",other:"{0} mins ago"}}},second:{displayName:"second",relative:{0:"now"},relativeTime:{future:{one:"in {0} second",other:"in {0} seconds"},past:{one:"{0} second ago",other:"{0} seconds ago"}}},"second-short":{displayName:"sec.",relative:{0:"now"},relativeTime:{future:{one:"in {0} sec.",other:"in {0} secs"},past:{one:"{0} sec. ago",other:"{0} secs ago"}}}}},{locale:"en-BB",parentLocale:"en-001"},{locale:"en-BE",parentLocale:"en-001"},{locale:"en-BI",parentLocale:"en"},{locale:"en-BM",parentLocale:"en-001"},{locale:"en-BS",parentLocale:"en-001"},{locale:"en-BW",parentLocale:"en-001"},{locale:"en-BZ",parentLocale:"en-001"},{locale:"en-CA",parentLocale:"en-001",fields:{year:{displayName:"year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{one:"in {0} year",other:"in {0} years"},past:{one:"{0} year ago",other:"{0} years ago"}}},"year-short":{displayName:"yr.",relative:{0:"this yr.",1:"next yr.","-1":"last yr."},relativeTime:{future:{one:"in {0} yr.",other:"in {0} yrs."},past:{one:"{0} yr. ago",other:"{0} yrs. ago"}}},month:{displayName:"month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{one:"in {0} month",other:"in {0} months"},past:{one:"{0} month ago",other:"{0} months ago"}}},"month-short":{displayName:"mo.",relative:{0:"this mo.",1:"next mo.","-1":"last mo."},relativeTime:{future:{one:"in {0} mo.",other:"in {0} mos."},past:{one:"{0} mo. ago",other:"{0} mos. ago"}}},day:{displayName:"day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},"day-short":{displayName:"day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},hour:{displayName:"hour",relative:{0:"this hour"},relativeTime:{future:{one:"in {0} hour",other:"in {0} hours"},past:{one:"{0} hour ago",other:"{0} hours ago"}}},"hour-short":{displayName:"hr.",relative:{0:"this hour"},relativeTime:{future:{one:"in {0} hr.",other:"in {0} hrs."},past:{one:"{0} hr. ago",other:"{0} hrs. ago"}}},minute:{displayName:"minute",relative:{0:"this minute"},relativeTime:{future:{one:"in {0} minute",other:"in {0} minutes"},past:{one:"{0} minute ago",other:"{0} minutes ago"}}},"minute-short":{displayName:"min.",relative:{0:"this minute"},relativeTime:{future:{one:"in {0} min.",other:"in {0} mins."},past:{one:"{0} min. ago",other:"{0} mins. ago"}}},second:{displayName:"second",relative:{0:"now"},relativeTime:{future:{one:"in {0} second",other:"in {0} seconds"},past:{one:"{0} second ago",other:"{0} seconds ago"}}},"second-short":{displayName:"sec.",relative:{0:"now"},relativeTime:{future:{one:"in {0} sec.",other:"in {0} secs."},past:{one:"{0} sec. ago",other:"{0} secs. ago"}}}}},{locale:"en-CC",parentLocale:"en-001"},{locale:"en-CH",parentLocale:"en-150"},{locale:"en-CK",parentLocale:"en-001"},{locale:"en-CM",parentLocale:"en-001"},{locale:"en-CX",parentLocale:"en-001"},{locale:"en-CY",parentLocale:"en-001"},{locale:"en-DE",parentLocale:"en-150"},{locale:"en-DG",parentLocale:"en-001"},{locale:"en-DK",parentLocale:"en-150"},{locale:"en-DM",parentLocale:"en-001"},{locale:"en-Dsrt",pluralRuleFunction:function(e,t){return"other"},fields:{year:{displayName:"Year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{other:"+{0} y"},past:{other:"-{0} y"}}},"year-short":{displayName:"Year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{other:"+{0} y"},past:{other:"-{0} y"}}},month:{displayName:"Month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{other:"+{0} m"},past:{other:"-{0} m"}}},"month-short":{displayName:"Month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{other:"+{0} m"},past:{other:"-{0} m"}}},day:{displayName:"Day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{other:"+{0} d"},past:{other:"-{0} d"}}},"day-short":{displayName:"Day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{other:"+{0} d"},past:{other:"-{0} d"}}},hour:{displayName:"Hour",relative:{0:"this hour"},relativeTime:{future:{other:"+{0} h"},past:{other:"-{0} h"}}},"hour-short":{displayName:"Hour",relative:{0:"this hour"},relativeTime:{future:{other:"+{0} h"},past:{other:"-{0} h"}}},minute:{displayName:"Minute",relative:{0:"this minute"},relativeTime:{future:{other:"+{0} min"},past:{other:"-{0} min"}}},"minute-short":{displayName:"Minute",relative:{0:"this minute"},relativeTime:{future:{other:"+{0} min"},past:{other:"-{0} min"}}},second:{displayName:"Second",relative:{0:"now"},relativeTime:{future:{other:"+{0} s"},past:{other:"-{0} s"}}},"second-short":{displayName:"Second",relative:{0:"now"},relativeTime:{future:{other:"+{0} s"},past:{other:"-{0} s"}}}}},{locale:"en-ER",parentLocale:"en-001"},{locale:"en-FI",parentLocale:"en-150"},{locale:"en-FJ",parentLocale:"en-001"},{locale:"en-FK",parentLocale:"en-001"},{locale:"en-FM",parentLocale:"en-001"},{locale:"en-GB",parentLocale:"en-001"},{locale:"en-GD",parentLocale:"en-001"},{locale:"en-GG",parentLocale:"en-001"},{locale:"en-GH",parentLocale:"en-001"},{locale:"en-GI",parentLocale:"en-001"},{locale:"en-GM",parentLocale:"en-001"},{locale:"en-GU",parentLocale:"en"},{locale:"en-GY",parentLocale:"en-001"},{locale:"en-HK",parentLocale:"en-001"},{locale:"en-IE",parentLocale:"en-001"},{locale:"en-IL",parentLocale:"en-001"},{locale:"en-IM",parentLocale:"en-001"},{locale:"en-IN",parentLocale:"en-001"},{locale:"en-IO",parentLocale:"en-001"},{locale:"en-JE",parentLocale:"en-001"},{locale:"en-JM",parentLocale:"en-001"},{locale:"en-KE",parentLocale:"en-001"},{locale:"en-KI",parentLocale:"en-001"},{locale:"en-KN",parentLocale:"en-001"},{locale:"en-KY",parentLocale:"en-001"},{locale:"en-LC",parentLocale:"en-001"},{locale:"en-LR",parentLocale:"en-001"},{locale:"en-LS",parentLocale:"en-001"},{locale:"en-MG",parentLocale:"en-001"},{locale:"en-MH",parentLocale:"en"},{locale:"en-MO",parentLocale:"en-001"},{locale:"en-MP",parentLocale:"en"},{locale:"en-MS",parentLocale:"en-001"},{locale:"en-MT",parentLocale:"en-001"},{locale:"en-MU",parentLocale:"en-001"},{locale:"en-MW",parentLocale:"en-001"},{locale:"en-MY",parentLocale:"en-001"},{locale:"en-NA",parentLocale:"en-001"},{locale:"en-NF",parentLocale:"en-001"},{locale:"en-NG",parentLocale:"en-001"},{locale:"en-NL",parentLocale:"en-150"},{locale:"en-NR",parentLocale:"en-001"},{locale:"en-NU",parentLocale:"en-001"},{locale:"en-NZ",parentLocale:"en-001"},{locale:"en-PG",parentLocale:"en-001"},{locale:"en-PH",parentLocale:"en-001"},{locale:"en-PK",parentLocale:"en-001"},{locale:"en-PN",parentLocale:"en-001"},{locale:"en-PR",parentLocale:"en"},{locale:"en-PW",parentLocale:"en-001"},{locale:"en-RW",parentLocale:"en-001"},{locale:"en-SB",parentLocale:"en-001"},{locale:"en-SC",parentLocale:"en-001"},{locale:"en-SD",parentLocale:"en-001"},{locale:"en-SE",parentLocale:"en-150"},{locale:"en-SG",parentLocale:"en-001",fields:{year:{displayName:"year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{one:"in {0} year",other:"in {0} years"},past:{one:"{0} year ago",other:"{0} years ago"}}},"year-short":{displayName:"yr",relative:{0:"this yr",1:"next yr","-1":"last yr"},relativeTime:{future:{one:"in {0} yr",other:"in {0} yr"},past:{one:"{0} yr ago",other:"{0} yr ago"}}},month:{displayName:"month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{one:"in {0} month",other:"in {0} months"},past:{one:"{0} month ago",other:"{0} months ago"}}},"month-short":{displayName:"mth",relative:{0:"this mth",1:"next mth","-1":"last mth"},relativeTime:{future:{one:"in {0} mth",other:"in {0} mth"},past:{one:"{0} mth ago",other:"{0} mth ago"}}},day:{displayName:"day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},"day-short":{displayName:"day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},hour:{displayName:"hour",relative:{0:"this hour"},relativeTime:{future:{one:"in {0} hour",other:"in {0} hours"},past:{one:"{0} hour ago",other:"{0} hours ago"}}},"hour-short":{displayName:"hr",relative:{0:"this hour"},relativeTime:{future:{one:"in {0} hr",other:"in {0} hr"},past:{one:"{0} hr ago",other:"{0} hr ago"}}},minute:{displayName:"minute",relative:{0:"this minute"},relativeTime:{future:{one:"in {0} minute",other:"in {0} minutes"},past:{one:"{0} minute ago",other:"{0} minutes ago"}}},"minute-short":{displayName:"min",relative:{0:"this minute"},relativeTime:{future:{one:"in {0} min",other:"in {0} min"},past:{one:"{0} min ago",other:"{0} min ago"}}},second:{displayName:"second",relative:{0:"now"},relativeTime:{future:{one:"in {0} second",other:"in {0} seconds"},past:{one:"{0} second ago",other:"{0} seconds ago"}}},"second-short":{displayName:"sec",relative:{0:"now"},relativeTime:{future:{one:"in {0} sec",other:"in {0} sec"},past:{one:"{0} sec ago",other:"{0} sec ago"}}}}},{locale:"en-SH",parentLocale:"en-001"},{locale:"en-SI",parentLocale:"en-150"},{locale:"en-SL",parentLocale:"en-001"},{locale:"en-SS",parentLocale:"en-001"},{locale:"en-SX",parentLocale:"en-001"},{locale:"en-SZ",parentLocale:"en-001"},{locale:"en-Shaw",pluralRuleFunction:function(e,t){return"other"},fields:{year:{displayName:"Year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{other:"+{0} y"},past:{other:"-{0} y"}}},"year-short":{displayName:"Year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{other:"+{0} y"},past:{other:"-{0} y"}}},month:{displayName:"Month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{other:"+{0} m"},past:{other:"-{0} m"}}},"month-short":{displayName:"Month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{other:"+{0} m"},past:{other:"-{0} m"}}},day:{displayName:"Day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{other:"+{0} d"},past:{other:"-{0} d"}}},"day-short":{displayName:"Day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{other:"+{0} d"},past:{other:"-{0} d"}}},hour:{displayName:"Hour",relative:{0:"this hour"},relativeTime:{future:{other:"+{0} h"},past:{other:"-{0} h"}}},"hour-short":{displayName:"Hour",relative:{0:"this hour"},relativeTime:{future:{other:"+{0} h"},past:{other:"-{0} h"}}},minute:{displayName:"Minute",relative:{0:"this minute"},relativeTime:{future:{other:"+{0} min"},past:{other:"-{0} min"}}},"minute-short":{displayName:"Minute",relative:{0:"this minute"},relativeTime:{future:{other:"+{0} min"},past:{other:"-{0} min"}}},second:{displayName:"Second",relative:{0:"now"},relativeTime:{future:{other:"+{0} s"},past:{other:"-{0} s"}}},"second-short":{displayName:"Second",relative:{0:"now"},relativeTime:{future:{other:"+{0} s"},past:{other:"-{0} s"}}}}},{locale:"en-TC",parentLocale:"en-001"},{locale:"en-TK",parentLocale:"en-001"},{locale:"en-TO",parentLocale:"en-001"},{locale:"en-TT",parentLocale:"en-001"},{locale:"en-TV",parentLocale:"en-001"},{locale:"en-TZ",parentLocale:"en-001"},{locale:"en-UG",parentLocale:"en-001"},{locale:"en-UM",parentLocale:"en"},{locale:"en-US",parentLocale:"en"},{locale:"en-VC",parentLocale:"en-001"},{locale:"en-VG",parentLocale:"en-001"},{locale:"en-VI",parentLocale:"en"},{locale:"en-VU",parentLocale:"en-001"},{locale:"en-WS",parentLocale:"en-001"},{locale:"en-ZA",parentLocale:"en-001"},{locale:"en-ZM",parentLocale:"en-001"},{locale:"en-ZW",parentLocale:"en-001"}]},59608(e){e.exports=[{locale:"zh",pluralRuleFunction:function(e,t){return"other"},fields:{year:{displayName:"年",relative:{0:"今年",1:"明年","-1":"去年"},relativeTime:{future:{other:"{0}年后"},past:{other:"{0}年前"}}},"year-short":{displayName:"年",relative:{0:"今年",1:"明年","-1":"去年"},relativeTime:{future:{other:"{0}年后"},past:{other:"{0}年前"}}},month:{displayName:"月",relative:{0:"本月",1:"下个月","-1":"上个月"},relativeTime:{future:{other:"{0}个月后"},past:{other:"{0}个月前"}}},"month-short":{displayName:"月",relative:{0:"本月",1:"下个月","-1":"上个月"},relativeTime:{future:{other:"{0}个月后"},past:{other:"{0}个月前"}}},day:{displayName:"日",relative:{0:"今天",1:"明天",2:"后天","-2":"前天","-1":"昨天"},relativeTime:{future:{other:"{0}天后"},past:{other:"{0}天前"}}},"day-short":{displayName:"日",relative:{0:"今天",1:"明天",2:"后天","-2":"前天","-1":"昨天"},relativeTime:{future:{other:"{0}天后"},past:{other:"{0}天前"}}},hour:{displayName:"小时",relative:{0:"这一时间 / 此时"},relativeTime:{future:{other:"{0}小时后"},past:{other:"{0}小时前"}}},"hour-short":{displayName:"小时",relative:{0:"这一时间 / 此时"},relativeTime:{future:{other:"{0}小时后"},past:{other:"{0}小时前"}}},minute:{displayName:"分钟",relative:{0:"此刻"},relativeTime:{future:{other:"{0}分钟后"},past:{other:"{0}分钟前"}}},"minute-short":{displayName:"分",relative:{0:"此刻"},relativeTime:{future:{other:"{0}分钟后"},past:{other:"{0}分钟前"}}},second:{displayName:"秒",relative:{0:"现在"},relativeTime:{future:{other:"{0}秒钟后"},past:{other:"{0}秒钟前"}}},"second-short":{displayName:"秒",relative:{0:"现在"},relativeTime:{future:{other:"{0}秒后"},past:{other:"{0}秒前"}}}}},{locale:"zh-Hans",parentLocale:"zh"},{locale:"zh-Hans-HK",parentLocale:"zh-Hans",fields:{year:{displayName:"年",relative:{0:"今年",1:"明年","-1":"去年"},relativeTime:{future:{other:"{0}年后"},past:{other:"{0}年前"}}},"year-short":{displayName:"年",relative:{0:"今年",1:"明年","-1":"去年"},relativeTime:{future:{other:"{0}年后"},past:{other:"{0}年前"}}},month:{displayName:"月",relative:{0:"本月",1:"下个月","-1":"上个月"},relativeTime:{future:{other:"{0}个月后"},past:{other:"{0}个月前"}}},"month-short":{displayName:"月",relative:{0:"本月",1:"下个月","-1":"上个月"},relativeTime:{future:{other:"{0}个月后"},past:{other:"{0}个月前"}}},day:{displayName:"日",relative:{0:"今天",1:"明天",2:"后天","-2":"前天","-1":"昨天"},relativeTime:{future:{other:"{0}天后"},past:{other:"{0}天前"}}},"day-short":{displayName:"日",relative:{0:"今天",1:"明天",2:"后天","-2":"前天","-1":"昨天"},relativeTime:{future:{other:"{0}天后"},past:{other:"{0}天前"}}},hour:{displayName:"小时",relative:{0:"这一时间 / 此时"},relativeTime:{future:{other:"{0}小时后"},past:{other:"{0}小时前"}}},"hour-short":{displayName:"小时",relative:{0:"这一时间 / 此时"},relativeTime:{future:{other:"{0}小时后"},past:{other:"{0}小时前"}}},minute:{displayName:"分钟",relative:{0:"此刻"},relativeTime:{future:{other:"{0}分钟后"},past:{other:"{0}分钟前"}}},"minute-short":{displayName:"分",relative:{0:"此刻"},relativeTime:{future:{other:"{0}分钟后"},past:{other:"{0}分钟前"}}},second:{displayName:"秒",relative:{0:"现在"},relativeTime:{future:{other:"{0}秒后"},past:{other:"{0}秒前"}}},"second-short":{displayName:"秒",relative:{0:"现在"},relativeTime:{future:{other:"{0}秒后"},past:{other:"{0}秒前"}}}}},{locale:"zh-Hans-MO",parentLocale:"zh-Hans",fields:{year:{displayName:"年",relative:{0:"今年",1:"明年","-1":"去年"},relativeTime:{future:{other:"{0}年后"},past:{other:"{0}年前"}}},"year-short":{displayName:"年",relative:{0:"今年",1:"明年","-1":"去年"},relativeTime:{future:{other:"{0}年后"},past:{other:"{0}年前"}}},month:{displayName:"月",relative:{0:"本月",1:"下个月","-1":"上个月"},relativeTime:{future:{other:"{0}个月后"},past:{other:"{0}个月前"}}},"month-short":{displayName:"月",relative:{0:"本月",1:"下个月","-1":"上个月"},relativeTime:{future:{other:"{0}个月后"},past:{other:"{0}个月前"}}},day:{displayName:"日",relative:{0:"今天",1:"明天",2:"后天","-2":"前天","-1":"昨天"},relativeTime:{future:{other:"{0}天后"},past:{other:"{0}天前"}}},"day-short":{displayName:"日",relative:{0:"今天",1:"明天",2:"后天","-2":"前天","-1":"昨天"},relativeTime:{future:{other:"{0}天后"},past:{other:"{0}天前"}}},hour:{displayName:"小时",relative:{0:"这一时间 / 此时"},relativeTime:{future:{other:"{0}小时后"},past:{other:"{0}小时前"}}},"hour-short":{displayName:"小时",relative:{0:"这一时间 / 此时"},relativeTime:{future:{other:"{0}小时后"},past:{other:"{0}小时前"}}},minute:{displayName:"分钟",relative:{0:"此刻"},relativeTime:{future:{other:"{0}分钟后"},past:{other:"{0}分钟前"}}},"minute-short":{displayName:"分",relative:{0:"此刻"},relativeTime:{future:{other:"{0}分钟后"},past:{other:"{0}分钟前"}}},second:{displayName:"秒",relative:{0:"现在"},relativeTime:{future:{other:"{0}秒后"},past:{other:"{0}秒前"}}},"second-short":{displayName:"秒",relative:{0:"现在"},relativeTime:{future:{other:"{0}秒后"},past:{other:"{0}秒前"}}}}},{locale:"zh-Hans-SG",parentLocale:"zh-Hans",fields:{year:{displayName:"年",relative:{0:"今年",1:"明年","-1":"去年"},relativeTime:{future:{other:"{0}年后"},past:{other:"{0}年前"}}},"year-short":{displayName:"年",relative:{0:"今年",1:"明年","-1":"去年"},relativeTime:{future:{other:"{0}年后"},past:{other:"{0}年前"}}},month:{displayName:"月",relative:{0:"本月",1:"下个月","-1":"上个月"},relativeTime:{future:{other:"{0}个月后"},past:{other:"{0}个月前"}}},"month-short":{displayName:"月",relative:{0:"本月",1:"下个月","-1":"上个月"},relativeTime:{future:{other:"{0}个月后"},past:{other:"{0}个月前"}}},day:{displayName:"日",relative:{0:"今天",1:"明天",2:"后天","-2":"前天","-1":"昨天"},relativeTime:{future:{other:"{0}天后"},past:{other:"{0}天前"}}},"day-short":{displayName:"日",relative:{0:"今天",1:"明天",2:"后天","-2":"前天","-1":"昨天"},relativeTime:{future:{other:"{0}天后"},past:{other:"{0}天前"}}},hour:{displayName:"小时",relative:{0:"这一时间 / 此时"},relativeTime:{future:{other:"{0}小时后"},past:{other:"{0}小时前"}}},"hour-short":{displayName:"小时",relative:{0:"这一时间 / 此时"},relativeTime:{future:{other:"{0}小时后"},past:{other:"{0}小时前"}}},minute:{displayName:"分钟",relative:{0:"此刻"},relativeTime:{future:{other:"{0}分钟后"},past:{other:"{0}分钟前"}}},"minute-short":{displayName:"分",relative:{0:"此刻"},relativeTime:{future:{other:"{0}分钟后"},past:{other:"{0}分钟前"}}},second:{displayName:"秒",relative:{0:"现在"},relativeTime:{future:{other:"{0}秒后"},past:{other:"{0}秒前"}}},"second-short":{displayName:"秒",relative:{0:"现在"},relativeTime:{future:{other:"{0}秒后"},past:{other:"{0}秒前"}}}}},{locale:"zh-Hant",pluralRuleFunction:function(e,t){return"other"},fields:{year:{displayName:"年",relative:{0:"今年",1:"明年","-1":"去年"},relativeTime:{future:{other:"{0} 年後"},past:{other:"{0} 年前"}}},"year-short":{displayName:"年",relative:{0:"今年",1:"明年","-1":"去年"},relativeTime:{future:{other:"{0} 年後"},past:{other:"{0} 年前"}}},month:{displayName:"月",relative:{0:"本月",1:"下個月","-1":"上個月"},relativeTime:{future:{other:"{0} 個月後"},past:{other:"{0} 個月前"}}},"month-short":{displayName:"月",relative:{0:"本月",1:"下個月","-1":"上個月"},relativeTime:{future:{other:"{0} 個月後"},past:{other:"{0} 個月前"}}},day:{displayName:"日",relative:{0:"今天",1:"明天",2:"後天","-2":"前天","-1":"昨天"},relativeTime:{future:{other:"{0} 天後"},past:{other:"{0} 天前"}}},"day-short":{displayName:"日",relative:{0:"今天",1:"明天",2:"後天","-2":"前天","-1":"昨天"},relativeTime:{future:{other:"{0} 天後"},past:{other:"{0} 天前"}}},hour:{displayName:"小時",relative:{0:"這一小時"},relativeTime:{future:{other:"{0} 小時後"},past:{other:"{0} 小時前"}}},"hour-short":{displayName:"小時",relative:{0:"這一小時"},relativeTime:{future:{other:"{0} 小時後"},past:{other:"{0} 小時前"}}},minute:{displayName:"分鐘",relative:{0:"這一分鐘"},relativeTime:{future:{other:"{0} 分鐘後"},past:{other:"{0} 分鐘前"}}},"minute-short":{displayName:"分鐘",relative:{0:"這一分鐘"},relativeTime:{future:{other:"{0} 分鐘後"},past:{other:"{0} 分鐘前"}}},second:{displayName:"秒",relative:{0:"現在"},relativeTime:{future:{other:"{0} 秒後"},past:{other:"{0} 秒前"}}},"second-short":{displayName:"秒",relative:{0:"現在"},relativeTime:{future:{other:"{0} 秒後"},past:{other:"{0} 秒前"}}}}},{locale:"zh-Hant-HK",parentLocale:"zh-Hant",fields:{year:{displayName:"年",relative:{0:"今年",1:"下年","-1":"上年"},relativeTime:{future:{other:"{0} 年後"},past:{other:"{0} 年前"}}},"year-short":{displayName:"年",relative:{0:"今年",1:"下年","-1":"上年"},relativeTime:{future:{other:"{0} 年後"},past:{other:"{0} 年前"}}},month:{displayName:"月",relative:{0:"本月",1:"下個月","-1":"上個月"},relativeTime:{future:{other:"{0} 個月後"},past:{other:"{0} 個月前"}}},"month-short":{displayName:"月",relative:{0:"本月",1:"下個月","-1":"上個月"},relativeTime:{future:{other:"{0} 個月後"},past:{other:"{0} 個月前"}}},day:{displayName:"日",relative:{0:"今日",1:"明日",2:"後日","-2":"前日","-1":"昨日"},relativeTime:{future:{other:"{0} 日後"},past:{other:"{0} 日前"}}},"day-short":{displayName:"日",relative:{0:"今日",1:"明日",2:"後日","-2":"前日","-1":"昨日"},relativeTime:{future:{other:"{0} 日後"},past:{other:"{0} 日前"}}},hour:{displayName:"小時",relative:{0:"這個小時"},relativeTime:{future:{other:"{0} 小時後"},past:{other:"{0} 小時前"}}},"hour-short":{displayName:"小時",relative:{0:"這個小時"},relativeTime:{future:{other:"{0} 小時後"},past:{other:"{0} 小時前"}}},minute:{displayName:"分鐘",relative:{0:"這分鐘"},relativeTime:{future:{other:"{0} 分鐘後"},past:{other:"{0} 分鐘前"}}},"minute-short":{displayName:"分鐘",relative:{0:"這分鐘"},relativeTime:{future:{other:"{0} 分鐘後"},past:{other:"{0} 分鐘前"}}},second:{displayName:"秒",relative:{0:"現在"},relativeTime:{future:{other:"{0} 秒後"},past:{other:"{0} 秒前"}}},"second-short":{displayName:"秒",relative:{0:"現在"},relativeTime:{future:{other:"{0} 秒後"},past:{other:"{0} 秒前"}}}}},{locale:"zh-Hant-MO",parentLocale:"zh-Hant-HK"}]},61381(e,t,r){"use strict";r.d(t,{R:()=>c,l:()=>u});var o=r(69627),i=r.n(o),a=r(49850),s=r(11188).u();function l(){var e="home";return window.location.pathname.includes("work")&&(e="work"),e}function c(e,t){i().track(e,function(e){if(!e)return{page:l()};var t={page:l()};for(var r in e)t[r.replace(/([A-Z])/g,"_$1").toLowerCase()]=e[r];return t}(t))}function u(e){i().login(e+"")}i().init({server_url:"dev"===s||"test"===s?"https://shence-data.codemao.cn/sa?project=default":"https://shence-data.codemao.cn/sa?project=production",is_track_single_page:!0,use_client_time:!0,show_log:!!a.a(window.location.href).showSensorsLog,send_type:"beacon",max_string_length:5e3,heatmap:{clickmap:"default",scroll_notice_map:"default"}}),i().registerPage({$app_id:window.location.host,$app_name:"APP工匠",product_name:"APP工匠",page:l()}),i().quick("autoTrack")},49850(e,t,r){"use strict";r.d(t,{U:()=>a,a:()=>i});var o=r(11188);function i(e){var t,r,o,i={},a=e.split("?")[1];return a?(Array.from((t=new URLSearchParams(a),r="inviteCode",(o=t.get(r))&&t.set(r,o.split(" ")[0]),t)).forEach(function(e){i[e[0]]=e[1]}),i):{}}function a(){var e,t;return"https://"+(e=o.$().env,t="","dev"===e?t="dev-":"test"===e?t="test-":"staging"===e&&(t="staging-"),t)+"shequ.codemao.cn/setting"}},37604(e,t,r){"use strict";let o,i;var a,s,l,c,u,d,f,h,p,m,y=r(74848),v=r(41594),g=r.n(v),w=r(75206),b=r.n(w),_=r(19040),x=r(95766),k=r(75551),C=r(77940),T=r(16979),E=r(30494),S=r(99407),N=r(44693),I=r(46942),L=r.n(I),A=r(41374),P=r(31635),M=r(51735),O=r(8330),R=r(49850),j=r(61381),D=r(54756),F=r.n(D),U=r(13719),B=r.n(U),V=r(11188),H=function(e,t,r,o){return new(r||(r=Promise))(function(i,a){function s(e){try{c(o.next(e))}catch(e){a(e)}}function l(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(s,l)}c((o=o.apply(e,t||[])).next())})},W=V.$().signInHost,z=r(35616),J=r(85440),G=r(72407),q=r.n(G);let $={header:"header__d66a7",left:"left__f05a6",logoImg:"logoImg__c10a4",iconItem:"iconItem__df0ab",iconDown:"iconDown__d56ac",userLogin:"userLogin__b51c3",userInfo:"userInfo__d7035",userAvatar:"userAvatar__ee2fa",dropdown:"dropdown__ac2d4",dropdownItem:"dropdownItem__de8b3",subMenuArrow:"subMenuArrow__bf4f2",disabled:"disabled__b3b9b",agreementDropdown:"agreementDropdown__ebe66"},K=r.p+"static/assets/home/images/logo.png";var X=[{label:"用户协议",link:"https://static-platform.codemao.cn/926/protocols/7KeVbBdw_userserviceProtocol.html"},{label:"隐私协议",link:"https://static-platform.codemao.cn/926/protocols/7KeVbBdw_privacyProtocol.html"},{label:"儿童隐私保护协议",link:"https://static-platform.codemao.cn/926/protocols/7KeVbBdw_childrenPrivacyProtectProtocol.html"},{label:"个人信息保护政策摘要",link:"https://static-platform.codemao.cn/926/protocols/7KeVbBdw_informationProtectionPolicySummary.html"},{label:"个人信息收集清单",link:"https://static-platform.codemao.cn/926/protocols/7KeVbBdw_informationCollectionList.html"},{label:"个人信息共享清单",link:"https://static-platform.codemao.cn/926/protocols/7KeVbBdw_informationSharingList.html"}],Y=function(e){function t(e){var r;return(0,E._)(this,t),(r=(0,T._)(this,t,[e])).state={helpDropdownVisible:!1},r.handleShowCourse=r.handleShowCourse.bind(r),r.handleHelpDropdownVisibleChange=r.handleHelpDropdownVisibleChange.bind(r),r.handleLogin=r.handleLogin.bind(r),r.handleLoginOut=r.handleLoginOut.bind(r),r.handleOriginalLogin=r.handleOriginalLogin.bind(r),r}return(0,N._)(t,e),(0,S._)(t,[{key:"componentDidMount",value:function(){}},{key:"handleLogin",value:function(){this.props.setSignDialogVisibleAction(!0),(0,j.R)("LoginButtonClick")}},{key:"handleLoginOut",value:function(){return(0,A._)(function(){return(0,M._)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,function(){return H(this,void 0,void 0,F().mark(function e(){return F().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B().post(W+"/tiger/v3/web/accounts/logout",{},{withCredentials:!0});case 2:case"end":return e.stop()}},e,this)}))}()];case 1:return e.sent(),this.props.asyncSetUserInfoAction(null),[3,3];case 2:return console.error("logout ",e.sent()),[3,3];case 3:return[2]}})}).call(this)}},{key:"handleOriginalLogin",value:function(){return(0,A._)(function(){function e(){window.open(location.origin+"/original_login/","_blank")}return(0,M._)(this,function(t){return"coco-next.localhost"==location.hostname?this.props.setConfirmDialogInfoAction({visible:!0,title:"提示",content:"当前界面不需要进行原始登录，确定要继续吗？",onConfirm:e}):e(),[2]})}).call(this)}},{key:"handleOriginalAccountSettings",value:function(){return(0,A._)(function(){return(0,M._)(this,function(e){return window.open(location.origin+"/original_login/?url=https://shequ.codemao.cn/setting/","_blank"),[2]})})()}},{key:"handleHelpDropdownVisibleChange",value:function(e){this.setState({helpDropdownVisible:e})}},{key:"handleShowCourse",value:function(){var e=this.props,t=e.courseListVisible,r=e.userInfo;!r||r.isNewUser||t||(this.props.setCourseDialogVisibleAction(!0),this.setState({helpDropdownVisible:!1}))}},{key:"handleDocument",value:function(){window.open(O.Al,Date.now().toString())}},{key:"handleAbout",value:function(){window.open(location.origin+"/about/","_blank")}},{key:"handleFeedback",value:function(){window.open(O.mp,Date.now().toString())}},{key:"renderUserInfo",value:function(e){return e?(0,y.jsx)("div",{children:(0,y.jsx)(J.Dropdown,{overlay:(0,y.jsxs)("div",{styleName:"dropdown",children:[!location.hostname.endsWith(".codemao.cn")&&(0,y.jsx)("div",{styleName:"dropdownItem",onClick:this.handleOriginalLogin,children:"原始登录"}),!location.hostname.endsWith(".codemao.cn")&&(0,y.jsx)("div",{styleName:"dropdownItem",onClick:this.handleOriginalAccountSettings,children:"原始账号设置"}),(0,y.jsx)("div",{styleName:"dropdownItem",onClick:function(){return window.open((0,R.U)(),"_blank")},children:"账号设置"}),(0,y.jsx)(J.Dropdown,{overlay:(0,y.jsx)("div",{styleName:"dropdown agreementDropdown",children:X.map(function(e,t){return(0,y.jsx)("div",{styleName:"dropdownItem",onClick:function(){return window.open(e.link,"_blank")},children:e.label},t)})}),placement:"topLeft",children:(0,y.jsxs)("div",{styleName:"dropdownItem",children:["服务协议",(0,y.jsx)("span",{className:$.subMenuArrow,children:(0,y.jsx)(z.A,{type:"icon-dropdown-down"})})]})}),(0,y.jsx)("div",{styleName:"dropdownItem",onClick:this.handleLoginOut,children:"退出登录"})]}),trigger:["click"],children:(0,y.jsxs)("div",{styleName:"userInfo",children:[(0,y.jsx)("div",{styleName:"userAvatar",style:{backgroundImage:"url("+e.avatar+")"}}),(0,y.jsx)(z.A,{type:"icon-dropdown-down",styleName:"iconDown"})]})})}):(0,y.jsx)("div",{styleName:"userLogin",onClick:this.handleLogin,children:"登录"})}},{key:"render",value:function(){var e=this.props,t=e.courseListVisible,r=e.userInfo,o=e.helpDropdownVisible;return(0,y.jsxs)("div",{styleName:"header",children:[(0,y.jsxs)("div",{styleName:"left",children:[(0,y.jsx)("img",{src:K,styleName:"logoImg",alt:""}),(0,y.jsx)("div",{styleName:"iconItem",children:(0,y.jsx)(J.Dropdown,{overlay:(0,y.jsxs)("div",{styleName:"dropdown",children:[(0,y.jsx)("div",{styleName:L()("dropdownItem",(!r||r.isNewUser||t)&&"disabled"),onClick:this.handleShowCourse,children:"入门教程"}),(0,y.jsx)("div",{styleName:"dropdownItem",onClick:this.handleDocument,children:"帮助文档"}),(0,y.jsx)("div",{styleName:"dropdownItem",onClick:this.handleAbout,children:"关于我们"})]}),onVisibleChange:this.handleHelpDropdownVisibleChange,visible:o,trigger:["click"],children:(0,y.jsxs)("div",{children:[(0,y.jsx)(z.A,{type:"icon-help"}),(0,y.jsx)(z.A,{type:"icon-dropdown-down",styleName:"iconDown"})]})})}),(0,y.jsx)("div",{styleName:"iconItem",onClick:this.handleFeedback,children:(0,y.jsx)(z.A,{type:"icon-feedback"})})]}),this.renderUserInfo(r)]})}}]),t}(v.Component);Y=(0,P.__decorate)([q()($,{allowMultiple:!0})],Y);var Z=r(99594),Q="home/get_banner_list",ee=(0,Z.A)(Q),et="home/set_banner_list",en=(0,Z.A)(et),er="home/get_topic_list",eo=(0,Z.A)(er),ei="home/set_topic_list",ea=(0,Z.A)(ei),es="home/get_course_list",el=(0,Z.A)(es),ec="home/set_course_list",eu=(0,Z.A)(ec),ed="home/get_template_list",ef=(0,Z.A)(ed),eh="home/set_template_list",ep=(0,Z.A)(eh),em="home/get_work_list",ey=(0,Z.A)(em),ev="home/set_work_list",eg=(0,Z.A)(ev),ew="home/set_course_list_visible",eb=(0,Z.A)(ew),e_="home/set_play_course_info",ex=(0,Z.A)(e_),ek="home/set_preview_template_info",eC=(0,Z.A)(ek),eT=r(81599);let eE=ReduxSaga;var eS=r.n(eE),eN=r(95762),eI=r(50467),eL=r(231),eA=r(74935),eP=F().mark(eD),eM=F().mark(eF),eO=F().mark(eU),eR=F().mark(eB),ej=F().mark(eV);function eD(){var e,t;return F().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return e=eA.Tn()+"/coconut/banner/list",r.prev=1,r.next=4,B().get(e,{withCredentials:!0}).then(function(e){return e.data}).catch(function(e){throw e});case 4:if(200!==(t=r.sent).code){r.next=8;break}return r.next=8,eN.yJ(en(t.data));case 8:r.next=13;break;case 10:r.prev=10,r.t0=r.catch(1);case 13:case"end":return r.stop()}},eP,this,[[1,10]])}function eF(){var e,t;return F().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return e=eA.Tn()+"/coconut/topic/list",r.prev=1,r.next=4,B().get(e,{withCredentials:!0}).then(function(e){return e.data}).catch(function(e){throw e});case 4:if(200!==(t=r.sent).code){r.next=8;break}return r.next=8,eN.yJ(ea(t.data.items));case 8:r.next=13;break;case 10:r.prev=10,r.t0=r.catch(1);case 13:case"end":return r.stop()}},eM,this,[[1,10]])}function eU(){var e,t;return F().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return e=eA.Tn()+"/coconut/primary-course/list",r.prev=1,r.next=4,B().get(e,{withCredentials:!0}).then(function(e){return e.data}).catch(function(e){throw e});case 4:if(200!==(t=r.sent).code){r.next=8;break}return r.next=8,eN.yJ(eu(t.data.items));case 8:r.next=13;break;case 10:r.prev=10,r.t0=r.catch(1);case 13:case"end":return r.stop()}},eO,this,[[1,10]])}function eB(){var e,t,r;return F().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return e=eA.Tn()+"/coconut/sample/list",o.prev=1,o.next=4,B().get(e,{withCredentials:!0}).then(function(e){return e.data}).catch(function(e){throw e});case 4:if(200!==(t=o.sent).code){o.next=10;break}return(r=t.data.items).sort(function(e,t){return Math.random()>.5?-1:1}),o.next=10,eN.yJ(ep(r));case 10:o.next=15;break;case 12:o.prev=12,o.t0=o.catch(1);case 15:case"end":return o.stop()}},eR,this,[[1,12]])}function eV(){var e,t;return F().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return e=eA.Tn()+"/coconut/web/work/list/all?limit=20",r.prev=1,r.next=4,B().get(e,{withCredentials:!0}).then(function(e){return e.data}).catch(function(e){throw e});case 4:if(200!==(t=r.sent).code){r.next=9;break}return t.data.items.forEach(function(e){e.work_id=e.work_id||e.id}),r.next=9,eN.yJ(eg(t.data.items));case 9:r.next=14;break;case 11:r.prev=11,r.t0=r.catch(1);case 14:case"end":return r.stop()}},ej,this,[[1,11]])}function eH(){return(0,M._)(this,function(e){switch(e.label){case 0:return[4,(0,eE.takeLatest)(Q,eD)];case 1:return e.sent(),[4,(0,eE.takeLatest)(er,eF)];case 2:return e.sent(),[4,(0,eE.takeLatest)(es,eU)];case 3:return e.sent(),[4,(0,eE.takeLatest)(ed,eB)];case 4:return e.sent(),[4,(0,eE.takeLatest)(em,eV)];case 5:return e.sent(),[2]}})}var eW={courseListVisible:!localStorage.getItem("homeCourseListVisible"),playCourseInfo:{visible:!1,id:-1},previewTemplateInfo:{visible:!1,id:-1},bannerList:[],topicList:[],courseList:[],templateList:[],workList:[]},ez=(0,eL.A)((f={},(0,eI._)(f,et,function(e,t){return(0,eA._J)(e,{bannerList:t.payload})}),(0,eI._)(f,ei,function(e,t){return(0,eA._J)(e,{topicList:t.payload})}),(0,eI._)(f,ec,function(e,t){return(0,eA._J)(e,{courseList:t.payload})}),(0,eI._)(f,eh,function(e,t){return(0,eA._J)(e,{templateList:t.payload})}),(0,eI._)(f,ev,function(e,t){return(0,eA._J)(e,{workList:t.payload})}),(0,eI._)(f,ew,function(e,t){return(0,eA._J)(e,{courseListVisible:t.payload})}),(0,eI._)(f,e_,function(e,t){return(0,eA._J)(e,{playCourseInfo:t.payload})}),(0,eI._)(f,ek,function(e,t){return(0,eA._J)(e,{previewTemplateInfo:t.payload})}),f),eW),eJ=r(35609),eG=r(88055),eq=r.n(eG),e$=function(e){return e.home_reducer.workList},eK=function(e){return e.work_reducer.createWorkList},eX=function(e){return e.work_reducer.collWorkList},eY=function(e){return e.work_reducer.deleteWorkList},eZ=r(63365),eQ=function(){return(eQ=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function e0(e,t,r,o){return new(r||(r=Promise))(function(i,a){function s(e){try{c(o.next(e))}catch(e){a(e)}}function l(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){if(e.done)i(e.value);else{var t;((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,l)}}c((o=o.apply(e,t||[])).next())})}function e1(e,t){var r,o,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){var c=[a,l];if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,o&&(i=2&c[0]?o.return:c[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,c[1])).done)return i;switch(o=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return s.label++,{value:c[1],done:!1};case 5:s.label++,o=c[1],c=[0];continue;case 7:c=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===c[0]||2===c[0])){s=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){s.label=c[1];break}if(6===c[0]&&s.label<i[1]){s.label=i[1],i=c;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(c);break}i[2]&&s.ops.pop(),s.trys.pop();continue}c=t.call(e,s)}catch(e){c=[6,e],o=0}finally{r=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}var e2={env:"dev",api:"https://dev-open-service.codemao.cn",pid:"sysinfo_dev"},e3={env:"staging",api:"https://staging-open-service.codemao.cn",pid:"sysinfo_dev"},e6={env:"prod",api:"https://open-service.codemao.cn",pid:"sysinfo"},e4={env:"dev",api:"https://test-open-service.codemao.cn",pid:"sysinfo_dev"},e5=(a=e6,{init:function(e){var t=e.env,r=e.config;switch(t){case"dev":a=e2;break;case"staging":a=e3;break;case"test":a=e4;break;default:a=e6}r&&(a=Object.assign({},a,r))},get:function(){return a}}),e8=function(){function e(e,t,r){this._observer=eZ.upload(e,t.key,t.token),this._subObject=r}return e.prototype.start=function(){this._subscription=this._observer.subscribe(this._subObject)},e.prototype.cancel=function(){this._subscription.unsubscribe()},e}();function e7(e,t){return e0(this,void 0,void 0,function(){return e1(this,function(r){return[2,new Promise(function(r,o){var i=t.async,a=t.data,s=t.headers,l=void 0===s?{}:s,c=t.method,u=void 0===c?"get":c,d=t.timeout,f=void 0===d?0:d,h=t.onprogress,p=new XMLHttpRequest;t.withCredentials&&(p.withCredentials=!0),p.responseType="json",p.timeout=f,p.ontimeout=function(){o(Error("the request timeout "+f+"ms"))},p.onerror=function(){o(Error("unknown error"))},p.upload&&h&&(p.upload.onprogress=h),p.onreadystatechange=function(){4===p.readyState&&(p.status>=200&&p.status<300?r(p.response):o(Error("this request is error")))},console.log("xhr type",u),p.open(u,e,void 0===i||i),Object.keys(l).forEach(function(e){p.setRequestHeader(e,l[e])});try{p.send(void 0===a?null:a)}catch(e){o(e)}})]})})}var e9=function(){function e(){}return e.prototype.upload=function(e,t,r,o){return e0(this,void 0,void 0,function(){var i,a,s;return e1(this,function(l){switch(l.label){case 0:return i=o.onprogress,a=o.timeout,s=new FormData,Object.keys(r).forEach(function(e){s.append(e,r[e])}),s.append("file",e),[4,e7(t,{method:"post",data:s,onprogress:i,timeout:a})];case 1:return[2,l.sent()]}})})},e}(),te=function(e,t){return e0(void 0,void 0,void 0,function(){var r;return e1(this,function(o){return r={data:{m:{d:1,p:"sysinfo"},b:[{e:"cdn_upload",i:"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=new Date().getTime(),r=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?r:3&r|8).toString(16)}),t:parseInt(""+new Date().getTime()/1e3,10),d:{data:e}}]},type:0},[2,e7("https://collection.codemao.cn/report/"+e5.get().pid,{method:"post",data:JSON.stringify(r),timeout:t||2e4})]})})},tt=function(e,t){return e+"?"+Object.keys(t).filter(function(e){return void 0!==t[e]}).map(function(e){return e+"="+t[e]}).join("&")},tn=function(){function e(e){this.ali=new e9,this.region="hd",this.projectName=e.projectName,e.region&&(this.region=e.region),e5.init(e)}return e.prototype.create=function(e,t){return e0(this,void 0,void 0,function(){var r,o,i,a,s,l,c,u,d,f,h,p,m,y,v,g=this;return e1(this,function(w){switch(w.label){case 0:if(r=t.onprogress,i=void 0===(o=t.timeout)?2e5:o,a=t.onsuccess,s=t.onerror,l=t.persistentOption,c=t.insertOnly,!e)return s&&s("文件不允许为空！"),[2];u=t.filename||e.name||Date.now()+"."+(e.type||""),d={projectName:this.projectName,filePaths:u,filePath:u,tokensCount:1,fileSign:"p1",insertOnly:void 0===c||c,persistentOption:l},w.label=1;case 1:var b,_,x;return w.trys.push([1,3,,4]),[4,(b=t.type||"normal",_=d,x=t.authToken,e0(void 0,void 0,void 0,function(){var e,t,r,o,i,a,s;return e1(this,function(l){switch(l.label){case 0:return e=({normal:e5.get().api+"/cdn/qi-niu/tokens/uploading",transcode:e5.get().api+"/cdn/qi-niu/tokens/videos/transcoding",slice:e5.get().api+"/cdn/qi-niu/tokens/videos"})[b],t={},x&&(t.Authorization=x),[4,e7(tt(e,eQ(eQ({},_),{cdnName:"qiniu"})),{headers:t,withCredentials:!0})];case 1:if(r=l.sent(),"normal"===b)return[2,{filePath:r.tokens[0].file_path,token:r.tokens[0].token,bucketUrl:r.bucket_url,bucket:r.bucket}];if(o=r.file_path,i=r.token,a=r.bucket_url,s=r.bucket,"transcode"===b)return[2,{filePath:o,token:i,bucketUrl:a,bucket:s,transcodePath:r.transcode_path}];return[2,{filePath:o,token:i,bucketUrl:a,bucket:s,m3u8Path:r.m3u8_file_path}]}})}))];case 2:return h=(f=w.sent()).bucketUrl,p=f.token,m=f.filePath,y=f.bucket,this._subObject={next:function(e){r&&r(e)},error:function(o){return e0(g,void 0,void 0,function(){var o,l,c,u,f,h,p,m,y,v;return e1(this,function(g){switch(g.label){case 0:var w,b;return g.trys.push([0,3,,4]),[4,(w=d,b=t.authToken,e0(void 0,void 0,void 0,function(){var e,t,r;return e1(this,function(o){switch(o.label){case 0:return e=e5.get().api+"/cdn/qi-niu/tokens/uploading",t={},b&&(t.Authorization=b),[4,e7(tt(e,eQ(eQ({},w),{cdnName:"aliyun"})),{headers:t,withCredentials:!0})];case 1:return[2,{accessKey:(r=o.sent()).tokens[0].access_key,encodedPolicy:r.tokens[0].policy,bucketUrl:r.bucket_url,uploadUrl:r.upload_url,filename:r.tokens[0].file_path,token:r.tokens[0].token,bucket:r.bucket}]}})}))];case 1:return l=(o=g.sent()).bucketUrl,c=o.accessKey,u=o.encodedPolicy,f=o.filename,h=o.token,p=o.uploadUrl,m=o.bucket,[4,this.ali.upload(e,p,{key:f,policy:u,OSSAccessKeyId:c,success_action_status:200,signature:h,bucket:m},{onprogress:r,timeout:i})];case 2:return g.sent(),y=""+l+f,te([{cdn:"qiniu",bucket:m,file_path:f,region:"hd",source:"",status:0},{cdn:"aliyun",bucket:m,file_path:f,region:"hd",source:y,status:1}]),a&&a({url:y,filename:f}),[3,4];case 3:return v=g.sent(),s&&s(v),[3,4];case 4:return[2]}})})},complete:function(e){var r=h+m;te([{cdn:"qiniu",bucket:y,file_path:m,region:g.region,source:r,status:1}]);var o={url:r,filename:u,hash:e.hash};if("transcode"===t.type){var i=""+h+f.transcodePath;te([{cdn:"qiniu",bucket:h,file_path:f.transcodePath,region:"hd",source:i,status:1}]),o.transcodeUrl=i}"slice"===t.type&&(o.sliceUrl=""+h+f.m3u8Path),console.log("done",e),a&&a(o)}},[2,new e8(e,{key:m,token:p},this._subObject)];case 3:return console.log(v=w.sent()),s&&s(v),[2];case 4:return[2]}})})},e}(),tr=r(65824),to=r.n(tr),ti=function(e,t,r,o){return new(r||(r=Promise))(function(i,a){function s(e){try{c(o.next(e))}catch(e){a(e)}}function l(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(s,l)}c((o=o.apply(e,t||[])).next())})},ta=V.$(),ts=new tn({env:ta.env,projectName:ta.productCode,config:{pid:ta.pid,api:ta.openServiceHost}}),tl=Error;if("function"!=typeof tl&&null!==tl)throw TypeError("Super expression must either be null or a function, not "+typeof tl);function tc(e,t){if(!(this instanceof tc))throw TypeError("Cannot call a class as a function");var r=function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}(this,(tc.__proto__||Object.getPrototypeOf(tc)).call(this,t));return r.uploadResult=e,r}tc.prototype=Object.create(tl&&tl.prototype,{constructor:{value:tc,enumerable:!1,writable:!0,configurable:!0}}),tl&&(Object.setPrototypeOf?Object.setPrototypeOf(tc,tl):tc.__proto__=tl),to().characters("0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_");var tu=r(26469),td=F().mark(tx),tf=F().mark(tk),th=F().mark(tC),tp=F().mark(tT),tm=F().mark(tE),ty=F().mark(tS),tv=F().mark(tN),tg=F().mark(tI),tw=F().mark(tL),tb=F().mark(tO),t_=function(e,t,r,o){return new(r||(r=Promise))(function(i,a){function s(e){try{c(o.next(e))}catch(e){a(e)}}function l(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(s,l)}c((o=o.apply(e,t||[])).next())})};function tx(e){var t,r,o,i,a,s,l;return F().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return r=(t=e.payload).name,o=t.offset,i=eA.Tn()+"/coconut/web/work/list?status=1&offset="+40*o+"&limit=40",r&&(i+="&name="+r),c.prev=3,c.next=6,B().get(i,{withCredentials:!0}).then(function(e){return e.data}).catch(function(e){throw e});case 6:if(200!==(a=c.sent).code){c.next=31;break}return s=a.data,c.next=11,eN.yJ(eJ.Jv(o));case 11:return c.t0=eq(),c.next=14,eN.Lt(eK);case 14:if(c.t1=c.sent,l=(0,c.t0)(c.t1),s.items.forEach(function(e){e.work_id=e.work_id||e.id}),0!==o){c.next=22;break}return c.next=20,eN.yJ(eJ.IX(s.items));case 20:c.next=24;break;case 22:return c.next=24,eN.yJ(eJ.IX(l.concat(s.items)));case 24:if(!(0===s.items.length||s.offset+40>=s.total)){c.next=29;break}return c.next=27,eN.yJ(eJ.tm(!0));case 27:c.next=31;break;case 29:return c.next=31,eN.yJ(eJ.tm(!1));case 31:c.next=36;break;case 33:c.prev=33,c.t2=c.catch(3);case 36:case"end":return c.stop()}},td,this,[[3,33]])}function tk(e){var t,r,o,i,a,s;return F().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return(t=e.payload).name,r=t.offset,o=eA.Dk()+"/coll/coco/coll_works?current_page="+r+"&page_size=40",l.prev=2,l.next=5,B().get(o,{withCredentials:!0}).then(function(e){return e.data}).catch(function(e){throw e});case 5:if(200!==(i=l.sent).code){l.next=30;break}return a=i.data,l.next=10,eN.yJ(eJ.Hx(r));case 10:return l.t0=eq(),l.next=13,eN.Lt(eX);case 13:if(l.t1=l.sent,s=(0,l.t0)(l.t1),i.data.items.forEach(function(e){e.work_id=e.work_id||e.id}),1!==r){l.next=21;break}return l.next=19,eN.yJ(eJ.yP(a.items));case 19:l.next=23;break;case 21:return l.next=23,eN.yJ(eJ.yP(s.concat(a.items)));case 23:if(!(0===a.items.length||40*a.currentPage>=a.total)){l.next=28;break}return l.next=26,eN.yJ(eJ.dB(!0));case 26:l.next=30;break;case 28:return l.next=30,eN.yJ(eJ.dB(!1));case 30:l.next=35;break;case 32:l.prev=32,l.t2=l.catch(2);case 35:case"end":return l.stop()}},tf,this,[[2,32]])}function tC(e){var t,r,o,i,a;return F().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.payload.offset,r=eA.Tn()+"/coconut/web/work/list?status=-99&offset="+40*t+"&limit=40",s.prev=2,s.next=5,B().get(r,{withCredentials:!0}).then(function(e){return e.data}).catch(function(e){throw e});case 5:if(200!==(o=s.sent).code){s.next=30;break}return i=o.data,s.next=10,eN.yJ(eJ.sL(t));case 10:return s.t0=eq(),s.next=13,eN.Lt(eY);case 13:if(s.t1=s.sent,a=(0,s.t0)(s.t1),i.items.forEach(function(e){e.work_id=e.work_id||e.id}),0!==t){s.next=21;break}return s.next=19,eN.yJ(eJ.tv(i.items));case 19:s.next=23;break;case 21:return s.next=23,eN.yJ(eJ.tv(a.concat(i.items)));case 23:if(!(0===i.items.length||i.offset+40>=i.total)){s.next=28;break}return s.next=26,eN.yJ(eJ.On(!0));case 26:s.next=30;break;case 28:return s.next=30,eN.yJ(eJ.On(!1));case 30:s.next=35;break;case 32:s.prev=32,s.t2=s.catch(2);case 35:case"end":return s.stop()}},th,this,[[2,32]])}function tT(e){var t,r,o,i,a,s,l;return F().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return r=(t=e.payload).id,o=t.userId,i=t.workType,a=eA.Dk()+"/coll/coco/collaborator/"+r+"?work_id="+r+"&coll_user_id="+o,c.prev=2,c.next=5,B().delete(a,{withCredentials:!0}).then(function(e){return e.data}).catch(function(e){throw e});case 5:if(200!==c.sent.code){c.next=25;break}if(i!==tu.L.HOME){c.next=16;break}return c.t0=eq(),c.next=11,eN.Lt(e$);case 11:return c.t1=c.sent,s=(0,c.t0)(c.t1).filter(function(e){return e.work_id!==r}),c.next=16,eN.yJ(eg(s));case 16:if(i!==tu.L.COLL){c.next=25;break}return c.t2=eq(),c.next=20,eN.Lt(eX);case 20:return c.t3=c.sent,l=(0,c.t2)(c.t3).filter(function(e){return e.work_id!==r}),c.next=25,eN.yJ(eJ.yP(l));case 25:c.next=30;break;case 27:c.prev=27,c.t4=c.catch(2);case 30:case"end":return c.stop()}},tp,this,[[2,27]])}function tE(e){var t,r,o,i,a,s,l,c;return F().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return r=(t=e.payload).id,o=t.workType,i=t.callback,a=eA.Tn()+"/coconut/web/work/"+r,u.prev=2,u.next=5,B().delete(a,{withCredentials:!0}).then(function(e){return e.data}).catch(function(e){throw e});case 5:if(200!==u.sent.code){u.next=40;break}if(o!==tu.L.HOME){u.next=20;break}return u.t0=eq(),u.next=11,eN.Lt(e$);case 11:if(u.t1=u.sent,!((s=(0,u.t0)(u.t1).filter(function(e){return e.work_id!==r})).length>=12)){u.next=19;break}return u.next=17,eN.yJ(eg(s));case 17:u.next=20;break;case 19:setTimeout(function(){i()},700);case 20:if(o!==tu.L.CREATE){u.next=29;break}return u.t2=eq(),u.next=24,eN.Lt(eK);case 24:return u.t3=u.sent,l=(0,u.t2)(u.t3).filter(function(e){return e.work_id!==r}),u.next=29,eN.yJ(eJ.IX(l));case 29:if(o!==tu.L.COLL){u.next=38;break}return u.t4=eq(),u.next=33,eN.Lt(eX);case 33:return u.t5=u.sent,c=(0,u.t4)(u.t5).filter(function(e){return e.work_id!==r}),u.next=38,eN.yJ(eJ.yP(c));case 38:return u.next=40,eN.yJ(eT.p9({visible:!0,message:"作品移至回收站"}));case 40:u.next=47;break;case 42:return u.prev=42,u.t6=u.catch(2),u.next=47,eN.yJ(eT.p9({visible:!0,message:"删除作品失败"}));case 47:case"end":return u.stop()}},tm,this,[[2,42]])}function tS(e){var t,r,o,i,a;return F().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return r=(t=e.payload).id,o=t.callback,i=eA.Tn()+"/coconut/web/work/"+r+"/recover",s.prev=2,s.next=5,B().patch(i,{},{withCredentials:!0}).then(function(e){return e.data}).catch(function(e){throw e});case 5:if(200!==s.sent.code){s.next=18;break}return s.t0=eq(),s.next=10,eN.Lt(eY);case 10:return s.t1=s.sent,a=(0,s.t0)(s.t1).filter(function(e){return e.work_id!==r}),s.next=15,eN.yJ(eJ.tv(a));case 15:return o&&o(),s.next=18,eN.yJ(eT.p9({visible:!0,message:"作品已恢复"}));case 18:s.next=23;break;case 20:s.prev=20,s.t2=s.catch(2);case 23:case"end":return s.stop()}},ty,this,[[2,20]])}function tN(e){var t,r,o;return F().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload,r=eA.Tn()+"/coconut/web/work/"+t+"/permanently",i.prev=2,i.next=5,B().delete(r,{withCredentials:!0}).then(function(e){return e.data}).catch(function(e){throw e});case 5:if(200!==i.sent.code){i.next=17;break}return i.t0=eq(),i.next=10,eN.Lt(eY);case 10:return i.t1=i.sent,o=(0,i.t0)(i.t1).filter(function(e){return e.work_id!==t}),i.next=15,eN.yJ(eJ.tv(o));case 15:return i.next=17,eN.yJ(eT.p9({visible:!0,message:"作品已删除"}));case 17:i.next=22;break;case 19:i.prev=19,i.t2=i.catch(2);case 22:case"end":return i.stop()}},tv,this,[[2,19]])}function tI(){var e;return F().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=eA.Tn()+"/coconut/web/work/permanently",t.prev=1,t.next=4,B().delete(e,{withCredentials:!0}).then(function(e){return e.data}).catch(function(e){throw e});case 4:if(200!==t.sent.code){t.next=8;break}return t.next=8,eN.yJ(eJ.tv([]));case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1);case 13:case"end":return t.stop()}},tg,this,[[1,10]])}function tL(e){var t,r,o,i,a,s,l,c,u;return F().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return r=(t=e.payload).id,o=t.name,i=t.workType,t.callback,d.prev=1,a=eA.Tn()+"/work/works/"+r+"/rename",d.next=5,B().patch(a,{name:o,work_type:12},{withCredentials:!0}).then(function(e){return e.data}).catch(function(e){throw e});case 5:if(!d.sent){d.next=36;break}if(i!==tu.L.HOME){d.next=16;break}return d.t0=eq(),d.next=11,eN.Lt(e$);case 11:return d.t1=d.sent,(s=(0,d.t0)(d.t1)).forEach(function(e){e.work_id===r&&(e.name=o)}),d.next=16,eN.yJ(eg(s));case 16:if(i!==tu.L.CREATE){d.next=25;break}return d.t2=eq(),d.next=20,eN.Lt(eK);case 20:return d.t3=d.sent,(l=(0,d.t2)(d.t3)).forEach(function(e){e.work_id===r&&(e.name=o)}),d.next=25,eN.yJ(eJ.IX(l));case 25:return d.next=27,eN.T1(tA,r);case 27:if(!(c=d.sent)){d.next=35;break}return d.next=31,eN.T1(tP,c);case 31:return(u=d.sent).title=o,d.next=35,eN.T1(tM,{id:r,name:o,content:u});case 35:return d.abrupt("return");case 36:return d.next=38,eN.yJ(eT.p9({visible:!0,message:"作品重命名失败，请重试"}));case 38:d.next=43;break;case 40:d.prev=40,d.t4=d.catch(1);case 43:case"end":return d.stop()}},tw,this,[[1,40]])}function tA(e){return t_(this,void 0,void 0,F().mark(function t(){var r,o;return F().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=eA.Tn()+"/coconut/web/work/"+e+"/content",t.prev=1,t.next=4,B().get(r,{withCredentials:!0}).then(function(e){return e.data}).catch(function(e){throw e});case 4:if(200!==(o=t.sent).code){t.next=7;break}return t.abrupt("return",o.data.bcm_url);case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1);case 12:case"end":return t.stop()}},t,this,[[1,9]])}))}function tP(e){return t_(this,void 0,void 0,F().mark(function t(){var r,o;return F().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return r=t.sent,t.next=5,r.json();case 5:return o=t.sent,t.abrupt("return",o);case 7:case"end":return t.stop()}},t,this)}))}function tM(e){return t_(this,void 0,void 0,F().mark(function t(){var r,o,i,a,s;return F().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.name,o=e.content,i=e.id,t.prev=1,t.next=4,function(e){return ti(this,void 0,void 0,F().mark(function t(){var r,o,i;return F().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=new File([r=new Blob([e],{type:"application/json,charset=utf-8;"})],"project.json",{type:r.type}),t.next=4,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"IMAGE";return ti(this,void 0,void 0,F().mark(function r(){var o,i;return F().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o=e instanceof File?e.name:"",r.next=3,new Promise(function(r,i){ts.create(e,{filename:ta.productCode+"/"+t+"_"+to().generate()+"_"+Date.now()+function(e){var t=e.lastIndexOf(".");return t>-1?e.slice(t).toLowerCase():""}(o),onsuccess:function(e){return r(e)},onerror:function(e){return i(e)}}).then(function(e){return e&&e.start()}).catch(function(e){return i(e)})});case 3:return i=r.sent,r.abrupt("return",i);case 5:case"end":return r.stop()}},r,this)}))}(o,"JSON");case 4:return i=t.sent,t.abrupt("return",i.url);case 6:case"end":return t.stop()}},t,this)}))}(JSON.stringify(o));case 4:return a=t.sent,t.next=7,B().put(eA.Tn()+"/coconut/web/work",{id:i,name:r,bcm_url:a,archive_version:"0.1.0",save_type:1},{withCredentials:!0});case 7:return s=t.sent,t.abrupt("return",s);case 11:throw t.prev=11,t.t0=t.catch(1),t.t0;case 14:case"end":return t.stop()}},t,this,[[1,11]])}))}function tO(){return F().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eE.takeLatest(eJ.ML,tx);case 2:return e.next=4,eE.takeLatest(eJ.I_,tk);case 4:return e.next=6,eE.takeLatest(eJ.pc,tC);case 6:return e.next=8,eE.takeLatest(eJ.ef,tT);case 8:return e.next=10,eE.takeLatest(eJ.rn,tE);case 10:return e.next=12,eE.takeLatest(eJ.O2,tS);case 12:return e.next=14,eE.takeLatest(eJ.gh,tN);case 14:return e.next=16,eE.takeLatest(eJ.H6,tI);case 16:return e.next=18,eE.takeLatest(eJ.W0,tL);case 18:case"end":return e.stop()}},tb,this)}function tR(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var tj=eL.A((tR(h={},eJ.NC,function(e,t){return eA._J(e,{createWorkOffset:t.payload})}),tR(h,eJ.St,function(e,t){return eA._J(e,{createWorkIsLoaded:t.payload})}),tR(h,eJ.eM,function(e,t){return eA._J(e,{createWorkList:t.payload})}),tR(h,eJ.Nf,function(e,t){return eA._J(e,{collWorkOffset:t.payload})}),tR(h,eJ.SO,function(e,t){return eA._J(e,{collWorkIsLoaded:t.payload})}),tR(h,eJ.O7,function(e,t){return eA._J(e,{collWorkList:t.payload})}),tR(h,eJ.Ep,function(e,t){return eA._J(e,{deleteWorkOffset:t.payload})}),tR(h,eJ.Hh,function(e,t){return eA._J(e,{deleteWorkIsLoaded:t.payload})}),tR(h,eJ.rP,function(e,t){return eA._J(e,{deleteWorkList:t.payload})}),h),{createWorkOffset:0,createWorkIsLoaded:!1,createWorkList:[],collWorkOffset:1,collWorkIsLoaded:!1,collWorkList:[],deleteWorkOffset:0,deleteWorkIsLoaded:!1,deleteWorkList:[]}),tD=F().mark(tU),tF=F().mark(tB);function tU(){var e,t;return F().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return e=eA.Tn()+"/coconut/web/user_type",r.prev=1,r.next=4,B().get(e,{withCredentials:!0}).then(function(e){return e.data}).catch(function(e){throw e});case 4:return t=r.sent,r.next=7,(0,eN.yJ)(eT.oU(0!==t));case 7:r.next=12;break;case 9:r.prev=9,r.t0=r.catch(1);case 12:case"end":return r.stop()}},tD,this,[[1,9]])}function tB(e){return F().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,eN.yJ)(eT.eb(e.payload));case 2:if(!e.payload){t.next=13;break}return t.next=5,(0,eN.yJ)(eT.Eu());case 5:return t.next=7,(0,eN.yJ)(eJ.Q$({name:"",offset:0}));case 7:return t.next=9,(0,eN.yJ)(eJ._X({name:"",offset:1}));case 9:return t.next=11,(0,eN.yJ)(ey());case 11:t.next=19;break;case 13:return t.next=15,(0,eN.yJ)(eJ.IX([]));case 15:return t.next=17,(0,eN.yJ)(eJ.yP([]));case 17:return t.next=19,(0,eN.yJ)(eg([]));case 19:return t.next=21,(0,eN.yJ)(eT.Cb());case 21:case"end":return t.stop()}},tF,this)}function*tV(){yield eE.takeLatest(eT.ak,tU),yield eE.takeLatest(eT.uP,tB)}let tH=(0,eL.A)({[eT.$6]:function(e,t){return(0,eA._J)(e,{language:t.payload.language})},[eT.Py]:function(e,t){return t.payload?(0,eA._J)(e,{userInfo:Object.assign({},e.userInfo,t.payload)}):(0,eA._J)(e,{userInfo:null})},[eT.dB]:function(e,t){return(0,eA._J)(e,{userInfoFetchDone:!0})},[eT.ae]:function(e,t){if(e.userInfo)return(0,eA._J)(e,{userInfo:Object.assign({},e.userInfo,{isNewUser:t.payload})})},[eT.AY]:function(e,t){return(0,eA._J)(e,{signDialogVisible:t.payload})},[eT.gI]:function(e,t){return(0,eA._J)(e,{courseDialogVisible:t.payload})},[eT.YX]:function(e,t){return(0,eA._J)(e,{commonToastInfo:t.payload})},[eT.x2]:function(e,t){return(0,eA._J)(e,{confirmDialogInfo:t.payload})}},{language:"zh",signDialogVisible:!1,courseDialogVisible:!1,userInfo:null,userInfoFetchDone:!1,commonToastInfo:{visible:!1},confirmDialogInfo:{visible:!1}});function*tW(){yield(0,eN.Zy)(tV),yield(0,eN.Zy)(eH),yield(0,eN.Zy)(tO)}let tz=new class{store;constructor(){this.store=function(){let e=(0,x.combineReducers)({home_reducer:ez,main_reducer:tH,work_reducer:tj}),t=[],r=eS()();t.push(r);let o=(0,x.createStore)(e,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),x.applyMiddleware.apply(void 0,t));return r.run(tW),o}()}get_store(){return this.store}get_state(){return this.store.getState()}subscribe(e){this.store.subscribe(e)}dispatch(e){return this.store.dispatch(e)}};var tJ=_.connect(function(e,t){return{userInfo:e.main_reducer.userInfo,courseListVisible:e.home_reducer.courseListVisible}},function(e){return x.bindActionCreators({setCourseListVisibleAction:eb,asyncSetUserInfoAction:eT.cb,setSignDialogVisibleAction:eT.e$,setCourseDialogVisibleAction:eT.CV,setConfirmDialogInfoAction:eT.fo},e)})(Y);let tG=function(){return g().createElement("svg",{"aria-hidden":"true",width:"0",height:"0","data-html2canvas-ignore":"true",style:{position:"absolute"}},g().createElement("symbol",{id:"icon-help",viewBox:"0 0 1024 1024"},g().createElement("path",{d:"M512 0c282.763636 0 512 229.236364 512 512s-229.236364 512-512 512S0 794.763636 0 512 229.236364 0 512 0z m-14.242909 682.682182c-12.567273 0-22.900364 3.723636-31.744 12.567273-8.843636 8.098909-12.567273 18.432-12.567273 30.999272s3.723636 22.900364 12.567273 31.744c8.843636 8.145455 19.176727 12.567273 31.744 12.567273 12.567273 0 22.853818-4.421818 31.744-12.567273a40.727273 40.727273 0 0 0 13.265454-31.744 42.309818 42.309818 0 0 0-12.567272-30.999272 43.892364 43.892364 0 0 0-32.442182-12.567273z m11.031273-449.722182c-53.108364 0-94.487273 16.290909-123.997091 48.733091-29.509818 30.999273-43.52 72.378182-43.52 124.090182h58.274909l0.325818-11.776c1.582545-30.580364 9.634909-54.784 24.064-73.169455 17.687273-24.389818 45.009455-36.165818 81.92-36.165818 30.999273 0 55.389091 8.098909 72.331636 25.832727 16.244364 16.244364 25.134545 39.098182 25.134546 68.654546 0 20.712727-7.447273 39.889455-22.155637 58.368-4.468364 5.911273-13.312 14.754909-25.134545 26.530909-39.842909 35.467636-64.232727 63.534545-74.519273 85.690182-8.843636 18.478545-13.312 39.889455-13.312 64.232727v16.989091h59.066182v-16.942546l0.372364-9.774545c1.256727-16.058182 5.632-30.626909 13.637818-44.171636 7.400727-13.265455 18.478545-26.530909 34.722909-40.587637 32.442182-28.811636 52.410182-47.988364 59.764364-56.878545 18.478545-24.343273 28.066909-53.154909 28.066909-86.388364 0-44.311273-14.056727-79.034182-41.332364-104.122182-28.811636-26.577455-66.466909-39.144727-113.710545-39.144727z"})),g().createElement("symbol",{id:"icon-feedback",viewBox:"0 0 1024 1024"},g().createElement("path",{d:"M23.272727 229.515636v441.390546a186.181818 186.181818 0 0 0 186.181818 186.181818h155.741091a93.090909 93.090909 0 0 1 75.403637 38.493091L512 994.210909l69.818182-97.978182a93.090909 93.090909 0 0 1 75.822545-39.098182H814.545455a186.181818 186.181818 0 0 0 186.181818-186.181818V229.515636a186.181818 186.181818 0 0 0-186.181818-186.181818h-605.09091a186.181818 186.181818 0 0 0-186.181818 186.181818z m244.317091 286.021819a65.210182 65.210182 0 1 1-0.046545-130.420364 65.210182 65.210182 0 0 1 0 130.420364z m244.503273 0A65.210182 65.210182 0 1 1 512 385.117091a65.210182 65.210182 0 0 1 0 130.420364z m260.328727 0a65.210182 65.210182 0 1 1 0-130.420364 65.210182 65.210182 0 0 1 0 130.420364z"})),g().createElement("symbol",{id:"icon-home",viewBox:"0 0 1024 1024"},g().createElement("path",{d:"M572.928 853.333333H408.32v-212.693333l0.384-2.901333a13.568 13.568 0 0 1 13.354667-9.813334h137.130666l3.157334 0.298667c6.058667 1.322667 10.581333 6.4 10.581333 12.416L572.928 853.333333z m64 0v-212.693333l-0.256-6.229333c-3.413333-37.034667-36.778667-66.090667-77.44-66.090667H422.101333l-6.698666 0.298667c-39.808 3.157333-71.04 34.176-71.04 72.021333V853.333333h-14.336c-70.784-0.213333-108.373333-2.389333-132.565334-24.917333-24.106667-22.442667-26.538667-57.173333-26.752-122.325333v-224.896c0.170667-43.776 1.621333-68.394667 12.501334-90.410667 12.544-25.386667 36.096-44.16 83.2-81.749333l45.738666-36.48C397.354667 204.629333 439.936 170.666667 490.666667 170.666667c50.773333 0 93.312 33.962667 178.517333 101.888l45.696 36.48c47.146667 37.546667 70.698667 56.362667 83.2 81.749333 11.733333 23.722667 12.544 50.432 12.586667 100.864v191.573333c0 80.170667 0 120.277333-26.794667 145.194667-24.234667 22.528-61.781333 24.704-132.565333 24.874667l-14.336 0.042666z"})),g().createElement("symbol",{id:"icon-work",viewBox:"0 0 1024 1024"},g().createElement("path",{d:"M663.04 883.2l21.76-0.213333 9.898667-0.213334 18.133333-0.64c48.213333-2.346667 71.04-9.472 92.672-28.714666 22.912-20.352 31.061333-38.784 33.749333-86.101334l0.682667-15.957333 0.512-28.032 0.085333-293.674667-0.085333-12.714666-0.426667-9.557334a53.930667 53.930667 0 0 0-5.546666-20.565333 58.453333 58.453333 0 0 0-6.741334-11.093333l-3.498666-4.352-4.352-4.522667-9.813334-9.088-219.818666-195.370667-6.741334-5.546666-5.461333-3.968a80.042667 80.042667 0 0 0-14.421333-7.338667l-6.570667-2.133333c-4.266667-1.152-8.490667-1.792-14.250667-2.133334l-10.026666-0.426666L384 140.8l-42.24 0.256-25.856 0.64-14.805333 0.725333-13.056 1.024c-34.816 3.413333-51.285333 10.88-69.546667 27.136-24.661333 21.888-32.426667 45.952-34.432 99.242667l-0.469333 20.053333-0.085334 11.093334V728.746667l0.085334 5.418666 0.469333 20.053334c1.962667 53.205333 9.770667 77.226667 34.432 99.157333 22.869333 20.352 47.104 27.136 101.546667 29.098667l19.242666 0.469333 21.76 0.170667h301.994667z m119.253333-426.666667H640l-18.474667-0.085333-15.445333-0.384-12.928-0.768c-23.552-1.962667-34.218667-7.125333-47.104-20.010667-15.957333-15.957333-20.053333-28.544-20.992-66.432l-0.256-17.92V205.184l0.256-4.053333a29.866667 29.866667 0 0 1 59.477333 4.053333V341.333333l0.128 20.608 0.426667 14.250667 0.469333 6.613333 0.597334 4.693334 0.768 3.072c0.426667 1.194667 0.853333 1.962667 1.365333 2.474666 0.682667 0.682667 1.792 1.28 3.84 1.749334l3.84 0.682666 5.589333 0.512 7.68 0.426667 16.256 0.341333 156.8 0.042667 4.053334 0.256a29.866667 29.866667 0 0 1-4.053334 59.477333z"})),g().createElement("symbol",{id:"icon-discover",viewBox:"0 0 1024 1024"},g().createElement("path",{d:"M512 128a384 384 0 1 1 0 768 384 384 0 0 1 0-768z m134.229333 200.618667L450.986667 398.933333a86.4 86.4 0 0 0-52.053334 52.053334l-70.272 195.242666a38.4 38.4 0 0 0 49.152 49.152l195.285334-70.314666a86.4 86.4 0 0 0 52.053333-52.053334l70.272-195.242666a38.4 38.4 0 0 0-49.152-49.152zM512 560a48 48 0 1 0 0-96 48 48 0 0 0 0 96z"})),g().createElement("symbol",{id:"icon-discover-arrow",viewBox:"0 0 1536 1024"},g().createElement("path",{d:"M1013.9648 100.352l9.1136 6.3488 429.568 362.9056a61.44 61.44 0 0 1 8.9088 84.5824l-7.4752 7.9872-429.568 387.7888a61.44 61.44 0 0 1-89.8048-82.944l7.4752-8.192 310.5792-280.4736-1150.2592 2.048a61.44 61.44 0 0 1-10.24-122.0608L102.4 457.5232l1143.296-2.048-301.8752-254.976a61.44 61.44 0 0 1-13.6192-77.5168l6.3488-9.0112a61.44 61.44 0 0 1 77.5168-13.7216z"})),g().createElement("symbol",{id:"icon-template",viewBox:"0 0 24 24"},g().createElement("g",{fill:"none"},g().createElement("path",{fill:"none",d:"M0 .152h24v24H0z"}),g().createElement("path",{d:"M6.426 3.487 20.444 17.75a2 2 0 0 1-1.427 3.402H5a2 2 0 0 1-2-2V4.889a2 2 0 0 1 3.426-1.402Z",fill:"#3294FC"}),g().createElement("circle",{r:"6",cy:"10.152",cx:"15",fill:"#FCD713",fillOpacity:".597"}))),g().createElement("symbol",{id:"icon-lately-work",viewBox:"0 0 24 24"},g().createElement("g",{transform:"translate(0 1)",fill:"none"},g().createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),g().createElement("circle",{r:"9",cy:"11",cx:"11",fill:"#34B367"}),g().createElement("circle",{r:"4",cy:"16",cx:"18",fill:"#65DB94",fillOpacity:".598"}),g().createElement("path",{fill:"#FFF",d:"M11 4.723a.7.7 0 0 1 .694.605l.006.095v5.291l1.98 2.01a.7.7 0 0 1 .066.905l-.075.086a.7.7 0 0 1-.904.066l-.086-.074-2.18-2.216a.7.7 0 0 1-.192-.382L10.3 11V5.423a.7.7 0 0 1 .7-.7Z"}))),g().createElement("symbol",{id:"icon-create-app",viewBox:"0 0 28 28"},g().createElement("g",{fill:"none"},g().createElement("rect",{rx:"8",height:"28",width:"28",fill:"#5AA9FF"}),g().createElement("path",{d:"M17.951 7h-7.902C9.47 7 9 7.504 9 8.125v12.75c0 .62.47 1.125 1.049 1.125h7.902C18.53 22 19 21.496 19 20.875V8.125C19 7.505 18.53 7 17.951 7Zm-2.587 13.237c0 .23-.235.416-.525.416h-1.533c-.29 0-.524-.186-.524-.416 0-.231.234-.417.524-.417h1.533c.289 0 .525.186.525.417Zm1.187-1.642H11.4a1 1 0 0 1-1-1v-8a1 1 0 0 1 1-1h5.15a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1Z",fill:"#FFF"}))),g().createElement("symbol",{id:"icon-create-web",viewBox:"0 0 28 28"},g().createElement("g",{fill:"none"},g().createElement("rect",{rx:"8",height:"28",width:"28",fill:"#FFF"}),g().createElement("g",{fill:"#BEB9CF"},g().createElement("path",{d:"M21 7H7c-.552 0-1 .478-1 1.07v11.773c0 .59.448 1.07 1 1.07h14c.552 0 1-.48 1-1.07V8.07C22 7.478 21.552 7 21 7Zm-1.25 2.14c0 .148-.056.281-.147.378a.483.483 0 0 1-.353.158c-.277 0-.5-.24-.5-.536 0-.147.056-.28.147-.377a.483.483 0 0 1 .353-.158c.137 0 .262.06.353.158.09.097.147.23.147.377Zm-2 0c0 .148-.056.281-.147.378a.483.483 0 0 1-.353.158c-.277 0-.5-.24-.5-.536 0-.147.056-.28.147-.377a.483.483 0 0 1 .353-.158c.137 0 .262.06.353.158.09.097.147.23.147.377Zm-2.853-.377a.483.483 0 0 1 .353-.158c.137 0 .262.06.353.158.09.097.147.23.147.377 0 .148-.056.281-.147.378a.483.483 0 0 1-.353.158c-.277 0-.5-.24-.5-.536 0-.147.056-.28.147-.377ZM21 19.575c0 .147-.113.268-.25.268H7.25c-.138 0-.25-.12-.25-.268v-8.16c0-.074.056-.134.125-.134h13.75c.069 0 .125.06.125.134v8.16Z"}),g().createElement("path",{d:"M12.778 17.82a.491.491 0 0 1-.22-.681l1.902-3.386a.547.547 0 0 1 .72-.207c.259.13.357.436.219.681l-1.903 3.386a.545.545 0 0 1-.718.208Zm-3.166-1.903a.486.486 0 0 1 0-.713l1.017-.964a.069.069 0 0 1 .095 0l.658.624a.06.06 0 0 1 0 .09l-.452.428a.243.243 0 0 0 0 .356l.452.428a.06.06 0 0 1 0 .09l-.658.623a.067.067 0 0 1-.095.002l-1.017-.964Zm6.962.34a.06.06 0 0 1 0-.09l.452-.428a.243.243 0 0 0 0-.356l-.452-.428a.06.06 0 0 1 0-.09l.658-.623a.069.069 0 0 1 .095 0l1.017.963a.486.486 0 0 1 0 .714l-1.017.963a.07.07 0 0 1-.095-.001l-.658-.624Z"})))),g().createElement("symbol",{id:"icon-button-arrow",viewBox:"0 0 1243 1024"},g().createElement("path",{d:"M724.626286 20.845714l6.729143 5.851429 434.322285 437.248a65.828571 65.828571 0 0 1 5.412572 86.601143l-5.997715 6.729143-434.322285 426.715428A65.828571 65.828571 0 0 1 632.685714 896.731429l5.851429-6.656 319.488-314.002286H73.142857a65.828571 65.828571 0 0 1-8.265143-131.072L73.142857 444.489143l887.442286-0.073143-322.56-324.900571a65.828571 65.828571 0 0 1-5.705143-86.308572l5.924571-6.729143A65.828571 65.828571 0 0 1 724.626286 20.845714z"})),g().createElement("symbol",{id:"icon-next",viewBox:"0 0 1462 1024"},g().createElement("path",{d:"M588.46345491 798.4327753a42.683064 42.683064 0 0 1-4.86587-54.463589l4.86587-5.975629L814.42759591 512.1147823 588.46345491 286.2360063a42.683064 42.683064 0 0 1-4.86587-54.463589l4.86587-5.975629a42.683064 42.683064 0 0 1 54.463589-4.86587l5.975629 4.86587 256.098385 256.098384a42.683064 42.683064 0 0 1 4.865869 54.46359l-4.865869 5.975629-256.098385 256.098384a42.683064 42.683064 0 0 1-60.439218 0z"})),g().createElement("symbol",{id:"icon-search",viewBox:"0 0 18 20"},g().createElement("g",{fill:"#847DA4","data-follow-fill":"#847DA4"},g().createElement("path",{d:"M7.7 2a6.7 6.7 0 1 0 0 13.4A6.7 6.7 0 0 0 7.7 2Zm0 1.4a5.3 5.3 0 1 1 0 10.6 5.3 5.3 0 0 1 0-10.6Z"}),g().createElement("path",{d:"M7.7 5a.7.7 0 0 1 0 1.4 2.3 2.3 0 0 0-2.3 2.3.7.7 0 0 1-1.4 0A3.7 3.7 0 0 1 7.7 5Zm5.505 9.205a.7.7 0 0 1 .903-.074l.087.074 3 3a.7.7 0 0 1-.903 1.064l-.087-.074-3-3a.7.7 0 0 1 0-.99Z"}))),g().createElement("symbol",{id:"icon-delete",viewBox:"0 0 1024 1024"},g().createElement("path",{d:"M348.840874 0.051197a42.698665 42.698665 0 1 0 0 85.294936h324.182191a42.698665 42.698665 0 1 0 0-85.294936H348.840874zM50.155008 213.339733c0-23.550822 19.147843-42.59627 42.698665-42.59627h836.156592a42.698665 42.698665 0 1 1 0 85.294935H869.31405v674.270287c0 51.709415-41.981901 93.691315-93.691315 93.691315h-529.381531A93.691315 93.691315 0 0 1 152.549888 930.308685V256.038398H92.853673A42.698665 42.698665 0 0 1 50.155008 213.339733z m741.134143 42.698665H230.574787v674.270287c0 8.60117 7.065247 15.666417 15.666417 15.666416h529.381531a15.564022 15.564022 0 0 0 15.666416-15.666416V256.038398zM408.537089 348.910554a41.981901 41.981901 0 0 1 41.981901 41.981901v376.915555a41.981901 41.981901 0 0 1-83.963802 0V390.79006a41.981901 41.981901 0 0 1 41.981901-41.879506z m246.771661 41.981901a41.981901 41.981901 0 1 0-83.861407 0v376.915555a41.981901 41.981901 0 1 0 83.759012 0V390.79006z"})),g().createElement("symbol",{id:"icon-deleted",viewBox:"0 0 1024 1024"},g().createElement("path",{d:"M198.582857 910.189714c0 62.902857 46.811429 113.810286 104.521143 113.810286h417.792c57.782857 0 104.594286-50.834286 104.594286-113.810286V227.620571H198.509714v682.569143zM877.714286 56.905143H694.857143L642.633143 0H381.366857L329.142857 56.905143H146.285714v113.810286h731.428572V56.905143z"})),g().createElement("symbol",{id:"icon-clear",viewBox:"0 0 1024 1024"},g().createElement("path",{d:"M891.684571 613.010286v263.094857c0 41.033143-32.694857 74.24-73.654857 74.752h-98.011428v-181.101714a31.378286 31.378286 0 0 0-25.6-30.793143l-5.705143-0.512a31.378286 31.378286 0 0 0-31.305143 31.305143L657.334857 950.857143H531.968v-181.101714a31.378286 31.378286 0 0 0-25.673143-30.793143l-5.632-0.512a31.378286 31.378286 0 0 0-31.378286 31.305143V950.857143H343.917714v-181.101714a31.378286 31.378286 0 0 0-25.746285-30.793143l-5.632-0.512a31.378286 31.378286 0 0 0-31.305143 31.305143L281.161143 950.857143h-69.266286a74.313143 74.313143 0 0 1-73.435428-66.633143l-0.365715-8.045714V612.937143h753.590857zM529.334857 73.142857c62.537143 0.512 113.371429 51.785143 112.859429 114.322286v183.588571h217.307428A92.16 92.16 0 0 1 950.857143 463.945143c0 38.034286-23.405714 72.704-59.099429 86.381714l-758.710857 0.146286A93.257143 93.257143 0 0 1 73.142857 464.896 92.379429 92.379429 0 0 1 164.571429 371.053714H386.194286v-183.588571A113.810286 113.810286 0 0 1 499.053714 73.142857z"})),g().createElement("symbol",{id:"icon-close",viewBox:"0 0 1024 1024"},g().createElement("path",{d:"M334.549333 298.922667l3.541334 2.986666L512 475.733333l173.909333-173.866666a25.6 25.6 0 0 1 39.168 32.64l-2.986666 3.541333L548.266667 512l173.866666 173.909333a25.6 25.6 0 0 1-32.64 39.168l-3.541333-2.986666L512 548.266667l-173.909333 173.866666a25.6 25.6 0 0 1-39.168-32.64l2.986666-3.541333L475.733333 512 301.909333 338.090667a25.6 25.6 0 0 1 32.64-39.168z"})),g().createElement("symbol",{id:"icon-play",viewBox:"0 0 1024 1024"},g().createElement("path",{d:"M739.2 426.837333a85.333333 85.333333 0 0 1 0 144.298667l-352.298667 222.592C330.112 829.653333 256 788.821333 256 721.621333V276.352c0-67.2 74.112-108.032 130.901333-72.106667l352.298667 222.592z"})),g().createElement("symbol",{id:"icon-replay",viewBox:"0 0 1024 1024"},g().createElement("path",{d:"M376.886369 281.890042l1.509047 0.395227c9.341722 2.838446 14.910825 12.252027 12.808938 21.647644l-0.395227 1.491082-7.203905 23.030937A234.980228 234.980228 0 0 1 454.566377 296.51343c124.568265-32.875674 252.58578 39.917895 285.96447 162.581885 33.37869 122.628061-40.546665 248.687408-165.096964 281.563083C450.865618 773.516107 322.848102 700.722538 289.469412 578.058547a225.602577 225.602577 0 0 1-3.197743-105.956681c1.365329-6.467346 6.126014-11.749011 12.503535-13.832934a19.006811 19.006811 0 0 1 18.396006 3.772619c5.030158 4.383423 7.275764 11.084312 5.910435 17.551657a189.169863 189.169863 0 0 0 2.694728 88.908039c27.989235 102.902656 135.419034 163.983144 239.920561 136.389136 104.501528-27.576044 166.534153-133.353076 138.526953-236.237768-27.989235-102.938586-135.436998-164.019074-239.938527-136.425065a196.876783 196.876783 0 0 0-63.595566 29.588107l31.348662 1.580907c9.754913 0.467086 17.515728 8.245866 17.839095 17.85706v1.527012c-0.503016 9.629159-8.407549 17.26422-18.180427 17.569622l-1.544977-0.017964-69.416178-3.431287a29.19288 29.19288 0 0 1-21.629678-11.210066 28.258708 28.258708 0 0 1-5.281666-23.480058l0.610805-2.2995L354.897393 294.519332c2.874376-9.215968 12.449641-14.695247 22.006941-12.62929z"})),g().createElement("symbol",{id:"icon-next-video",viewBox:"0 0 26 26"},g().createElement("path",{d:"M21.5555556,0.8 C22.1768759,0.8 22.6879081,1.27219968 22.7493601,1.87730697 L22.7555556,2 L22.7555556,23.7257422 C22.7555556,24.3884839 22.2182973,24.9257422 21.5555556,24.9257422 C20.9342352,24.9257422 20.423203,24.4535425 20.361751,23.8484352 L20.3555556,23.7257422 L20.3555556,2 C20.3555556,1.3372583 20.8928139,0.8 21.5555556,0.8 Z M2.8,4 L2.8,22 C2.8,22.9549919 3.86135336,23.5273463 4.65929701,23.0026602 L18.659297,13.7969908 C19.3892287,13.3170258 19.3780625,12.2428685 18.6383109,11.7781814 L4.63831087,2.98385078 C3.83915339,2.48184685 2.8,3.05625182 2.8,4 Z"})),g().createElement("symbol",{id:"icon-selected",viewBox:"0 0 1024 1024"},g().createElement("path",{d:"M752.341333 353.536c19.072 17.92 20.992 48.981333 4.309334 69.461333l-267.477334 328.192c-8.32 10.24-20.266667 16.341333-32.981333 16.768a44.202667 44.202667 0 0 1-33.92-14.378666l-152.832-164.096a51.84 51.84 0 0 1 0-69.632c17.92-19.2 46.933333-19.2 64.853333 0l118.186667 126.890666 235.178667-288.597333c16.64-20.48 45.653333-22.528 64.682666-4.608z"})),g().createElement("symbol",{id:"icon-dropdown-down",viewBox:"0 0 1638 1024"},g().createElement("path",{d:"M1506.9184 133.7344a102.4 102.4 0 0 1-2.8672 144.7936l-634.88 610.5088a102.4 102.4 0 0 1-144.384-2.4576L131.072 276.48A102.4 102.4 0 1 1 278.528 133.12l522.24 537.6L1362.1248 131.072a102.4 102.4 0 0 1 144.7936 2.6624z","p-id":"9666"})),g().createElement("symbol",{id:"icon-more",viewBox:"0 0 1024 1024"},g().createElement("path",{d:"M684.497455 542.114909a76.660364 76.660364 0 1 0 153.367272 0 76.660364 76.660364 0 0 0-153.367272 0zM186.181818 542.114909a76.660364 76.660364 0 1 0 153.367273 0 76.660364 76.660364 0 0 0-153.367273 0zM454.516364 542.114909a76.660364 76.660364 0 1 0 153.320727 0 76.660364 76.660364 0 0 0-153.320727 0z"})),g().createElement("symbol",{id:"icon-star",viewBox:"0 0 1024 1024"},g().createElement("path",{d:"M669.044364 728.157091l-29.975273-174.871273 127.069091-123.810909-175.616-25.6L512 244.829091 433.477818 403.921455l-175.569454 25.506909 127.069091 123.810909-30.021819 174.917818L512 645.585455l157.044364 82.571636z m-359.982546-7.866182a46.545455 46.545455 0 0 0 67.537455 49.058909L512 698.181818l135.400727 71.214546a46.545455 46.545455 0 0 0 67.490909-49.105455l-25.832727-150.760727 109.568-106.775273a46.545455 46.545455 0 0 0-25.832727-79.406545l-151.365818-21.969455-67.677091-137.169454a46.545455 46.545455 0 0 0-83.502546 0L402.618182 361.378909l-151.365818 21.969455a46.545455 46.545455 0 0 0-25.786182 79.406545l109.521454 106.775273-25.879272 150.807273z"})),g().createElement("symbol",{id:"icon-recover",viewBox:"0 0 1024 1024"},g().createElement("path",{d:"M390.981818 227.141818c22.295273 0 40.401455 18.152727 40.401455 40.494546v41.053091a30.208 30.208 0 0 1 13.358545-3.118546h123.904l10.379637 0.232727c134.376727 5.026909 242.548364 107.52 242.548363 234.496 0 130.280727-113.757091 234.728727-252.928 234.728728H332.055273l-4.468364-0.325819a30.347636 30.347636 0 0 1 4.468364-60.276363h236.590545l9.960727-0.232727c102.074182-4.701091 182.365091-81.314909 182.365091-173.893819 0-95.511273-85.550545-174.08-192.325818-174.08H444.741818l-4.468363-0.325818a30.114909 30.114909 0 0 1-8.843637-2.792727l-0.046545 43.008a40.448 40.448 0 0 1-64.884364 32.209454L275.176727 369.105455a40.448 40.448 0 0 1 0-64.41891l91.322182-69.259636A40.448 40.448 0 0 1 390.981818 227.141818z"})),g().createElement("symbol",{id:"icon-refresh",viewBox:"0 0 1024 1024"},g().createElement("path",{d:"M656.474884 354.817301v-27.164391c-0.199111-4.750213 1.564441-9.386648 4.878212-12.799976a17.962632 17.962632 0 0 1 24.988396 0c3.342216 3.441771 5.290656 8.007096 5.489767 12.799976V409.743417A19.199963 19.199963 0 0 1 674.153071 427.435827h-82.588283a19.199963 19.199963 0 0 1-12.799976-5.489767 18.019521 18.019521 0 0 1 0-25.031063 17.066633 17.066633 0 0 1 12.799976-4.878213h51.811454A177.222767 177.222767 0 0 0 427.597106 356.04041a175.046771 175.046771 0 0 0-78.321625 84.50828 178.67343 178.67343 0 0 0-9.443537 115.640664 176.355213 176.355213 0 0 0 63.075433 96.412257A178.460097 178.460097 0 0 0 512.020053 690.133983a175.444992 175.444992 0 0 0 125.553534-51.868344 179.51254 179.51254 0 0 0 52.124343-127.530419H725.352972a213.560474 213.560474 0 0 1-143.245944 202.737384 213.190697 213.190697 0 0 1-237.994204-69.973197A213.759584 213.759584 0 0 1 333.104846 395.379 208.824483 208.824483 0 0 1 424.553557 316.986264 211.284923 211.284923 0 0 1 546.437764 301.725849a216.888467 216.888467 0 0 1 109.724231 53.091452h0.298666z"})),g().createElement("symbol",{id:"icon-quit",viewBox:"0 0 1024 1024"},g().createElement("path",{d:"M192.213333 1024A192.085333 192.085333 0 0 1 0 832v-640C0 85.973333 86.058667 0 192.213333 0h383.658667a64 64 0 1 1 0 128H192.213333a64 64 0 0 0-64.085333 64v640A64 64 0 0 0 192.213333 896h383.658667a64 64 0 1 1 0 128H192.213333z m545.450667-289.621333a63.957333 63.957333 0 0 1 0-90.410667l67.84-67.882667H384.128a64 64 0 1 1 0-128h421.376L722.773333 365.226667a63.957333 63.957333 0 0 1 1.792-88.576 64.128 64.128 0 0 1 88.661334-1.92l192.213333 192c18.176 18.432 23.594667 45.909333 13.781333 69.845333-3.242667 7.68-7.936 14.72-13.781333 20.650667l-177.066667 177.152a64.128 64.128 0 0 1-90.453333 0h-0.213333z"})),g().createElement("symbol",{id:"icon-qrcode",viewBox:"0 0 1024 1024"},g().createElement("path",{d:"M308.209778 298.666667h162.858666c8.419556 0 15.246222 6.826667 15.246223 15.232v162.858666c0 8.419556-6.826667 15.246222-15.246223 15.246223H308.224C299.804444 492.003556 292.977778 485.176889 292.977778 476.757333V313.912889C292.977778 305.493333 299.804444 298.666667 308.209778 298.666667z m19.057778 30.478222a3.811556 3.811556 0 0 0-3.811556 3.811555v124.757334c0 2.104889 1.706667 3.811556 3.811556 3.811555h124.757333c2.104889 0 3.811556-1.706667 3.811555-3.811555V332.956444a3.811556 3.811556 0 0 0-3.811555-3.811555H327.267556zM541.553778 298.666667h162.844444C712.817778 298.666667 719.644444 305.493333 719.644444 313.898667v162.858666c0 8.419556-6.826667 15.246222-15.232 15.246223H541.553778c-8.419556 0-15.246222-6.826667-15.246222-15.246223V313.912889c0-8.419556 6.826667-15.246222 15.246222-15.246222z m19.043555 30.478222a3.811556 3.811556 0 0 0-3.811555 3.811555v124.757334c0 2.104889 1.706667 3.811556 3.811555 3.811555h124.757334c2.104889 0 3.811556-1.706667 3.811555-3.811555V332.956444a3.811556 3.811556 0 0 0-3.811555-3.811555h-124.757334zM308.209778 531.996444h162.858666c8.419556 0 15.246222 6.826667 15.246223 15.246223v162.844444c0 8.419556-6.826667 15.246222-15.246223 15.246222H308.224C299.804444 725.333333 292.977778 718.506667 292.977778 710.101333V547.242667c0-8.419556 6.826667-15.246222 15.232-15.246223z m19.057778 30.478223a3.811556 3.811556 0 0 0-3.811556 3.811555v124.757334c0 2.104889 1.706667 3.811556 3.811556 3.811555h124.757333c2.104889 0 3.811556-1.706667 3.811555-3.811555v-124.757334a3.811556 3.811556 0 0 0-3.811555-3.811555H327.267556z m305.706666 111.900444V725.333333h-45.710222v-50.958222h45.710222z m30.478222 0H719.644444v35.726222C719.644444 718.506667 712.817778 725.333333 704.412444 725.333333h-40.96v-50.958222z m-76.188444-30.464v-31.431111h-30.478222V725.333333h-15.232c-8.419556 0-15.246222-6.826667-15.246222-15.232V547.242667c0-8.419556 6.826667-15.246222 15.246222-15.246223h117.134222V614.4h30.478222v-82.389333h15.246222c8.405333 0 15.232 6.826667 15.232 15.246222v96.668444h-132.380444zM389.646222 425.813333a30.478222 30.478222 0 1 1 0-60.956444 30.478222 30.478222 0 0 1 0 60.956444z m233.329778 0a30.478222 30.478222 0 1 1 0-60.956444 30.478222 30.478222 0 0 1 0 60.956444zM389.646222 659.143111a30.478222 30.478222 0 1 1 0-60.956444 30.478222 30.478222 0 0 1 0 60.956444z"})),g().createElement("symbol",{id:"icon-right",viewBox:"0 0 1024 1024"},g().createElement("path",{d:"M642.827505 31.609733a102.339926 102.339926 0 0 1 155.147329 132.939565l-8.391874 9.722293-338.028778 347.64873 335.981979 326.362025A102.339926 102.339926 0 0 1 797.974834 983.064029l-8.391874 9.824633a102.339926 102.339926 0 0 1-134.884023 10.438673l-9.824633-8.391874-409.359706-397.590614a102.339926 102.339926 0 0 1-10.438673-134.986363l8.391874-9.722293 409.359706-421.128798z"})))};var tq=function(e){function t(e){return(0,E._)(this,t),(0,T._)(this,t,[e])}return(0,N._)(t,e),(0,S._)(t,[{key:"componentDidMount",value:function(){}},{key:"handleOpenDiscoverUrl",value:function(){var e=(0,V.$)().discoverUrl;window.open(e,Date.now().toString())}},{key:"render_navLink",value:function(e,t,r){var o="/"+location.pathname.split("/").pop(),i=o===e;return"/home"===e&&(i="/"===o||"/home"===o),(0,y.jsxs)(C.k2,{to:e,styleName:L()("menuItem",i&&"active"),children:[(0,y.jsx)(z.A,{type:r,styleName:"menuIcon"}),t]})}},{key:"render",value:function(){return(0,y.jsxs)("div",{styleName:"menu",children:[this.render_navLink("/home","主页","icon-home"),this.render_navLink("/work","我的作品","icon-work"),(0,y.jsx)("div",{styleName:"menuItem",onClick:this.handleOpenDiscoverUrl,children:(0,y.jsxs)("div",{styleName:"discover",children:[(0,y.jsxs)("div",{styleName:"menuLeft",children:[(0,y.jsx)(z.A,{type:"icon-discover",styleName:"menuIcon"}),"发现"]}),(0,y.jsx)(z.A,{type:"icon-discover-arrow",styleName:"menuArrow"})]})})]})}}]),t}(v.Component);tq=(0,P.__decorate)([q()({menu:"menu__eac5c",menuItem:"menuItem__cc9a5",active:"active__a5f21",menuIcon:"menuIcon__d0d60",discover:"discover__c70ac",menuArrow:"menuArrow__e2a0c",menuLeft:"menuLeft__f6a24"},{allowMultiple:!0})],tq);var t$=(0,k.withRouter)(_.connect(function(e,t){return{}},function(e){return x.bindActionCreators({},e)})(tq)),tK=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),tX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tY=r(87700),tZ=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function, not "+typeof e);function t(e){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");var r=function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={isEnd:!1,isPause:!1},r.quitPlayCourse=r.quitPlayCourse.bind(r),r.onPlay=r.onPlay.bind(r),r.onPause=r.onPause.bind(r),r.onEnded=r.onEnded.bind(r),r.handlePlay=r.handlePlay.bind(r),r.handleNextCourse=r.handleNextCourse.bind(r),r}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),tK(t,[{key:"componentDidMount",value:function(){}},{key:"quitPlayCourse",value:function(){this.props.setPlayCourseInfoAction({id:-1,visible:!1})}},{key:"openCourseInEditor",value:function(e){var t=V.$().cocoEditorUrl;window.open(t+"?courseId="+e,Date.now().toString()),this.quitPlayCourse()}},{key:"handlePlay",value:function(){this.videoRef.play()}},{key:"handleNextCourse",value:function(){var e=this.props,t=e.playCourseInfo,r=e.courseList,o=r.findIndex(function(e){return e.id===t.id});if(r[o+1]){var i=r[o+1].id;this.props.setPlayCourseInfoAction({id:i,visible:!0}),this.setState({isEnd:!1}),j.R("CourseClick",{course_id:i})}}},{key:"onPlay",value:function(){this.setState({isPause:!1,isEnd:!1})}},{key:"onPause",value:function(){this.setState({isPause:!0})}},{key:"onEnded",value:function(){this.setState({isPause:!1,isEnd:!0})}},{key:"render",value:function(){var e=this,t=this.state,r=t.isPause,o=t.isEnd,i=this.props,a=i.playCourseInfo,s=i.courseList,l=s.find(function(e){return e.id===a.id}),c=s.findIndex(function(e){return e.id===a.id})===s.length-1;return a.visible&&l?v.createElement("div",{styleName:"playVideoBox"},v.createElement("div",{styleName:"content"},v.createElement("div",{styleName:"videoTitle"},v.createElement("div",{styleName:"title"},l.title),v.createElement("div",{styleName:"icon",onClick:this.quitPlayCourse},v.createElement(z.A,{type:"icon-close"}))),v.createElement("div",{styleName:"videoBox"},r&&v.createElement("div",{styleName:"playBox"},v.createElement("div",{styleName:"playIcon",onClick:this.handlePlay},v.createElement(z.A,{type:"icon-play",styleName:"play"})),"播放"),o&&v.createElement("div",{styleName:"playBox"},v.createElement("div",{styleName:"playIconBox"},v.createElement("div",{styleName:"playIconItem"},v.createElement("div",{styleName:"playIcon",onClick:this.handlePlay},v.createElement(z.A,{type:"icon-replay",styleName:"replay"})),"重播"),!c&&v.createElement("div",{styleName:"playIconItem"},v.createElement("div",{styleName:"playIcon",onClick:this.handleNextCourse},v.createElement(z.A,{type:"icon-next-video",styleName:"nextVideo"})),"下一节")),v.createElement("div",{styleName:"openWorkBtn",onClick:function(){return e.openCourseInEditor(l.id)}},"边看边做")),v.createElement("video",{ref:function(t){return e.videoRef=t},src:l.video_url,styleName:"video",autoPlay:!0,controls:!0,onPlay:this.onPlay,onPause:this.onPause,onEnded:this.onEnded})),v.createElement("div",{styleName:"courseInfo"},v.createElement("div",null,v.createElement("div",{styleName:"title"},l.title),v.createElement("div",{styleName:"desc"},l.course_intro)),v.createElement("div",{styleName:"btn",onClick:function(){return e.openCourseInEditor(l.id)}},"边看边做")))):null}}]),t}(v.Component);tZ=function(e,t,r,o){var i,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if(("undefined"==typeof Reflect?"undefined":tX(Reflect))==="object"&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(s=(a<3?i(s):a>3?i(t,r,s):i(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s}([G(tY,{allowMultiple:!0})],tZ);let tQ=_.connect(function(e,t){return{courseList:e.home_reducer.courseList,playCourseInfo:e.home_reducer.playCourseInfo}},function(e){return x.bindActionCreators({setPlayCourseInfoAction:ex},e)})(tZ);var t0=Object.defineProperty,t1=Object.getOwnPropertySymbols,t2=Object.prototype.hasOwnProperty,t3=Object.prototype.propertyIsEnumerable,t6=(e,t,r)=>t in e?t0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,t4=(e,t)=>{for(var r in t||(t={}))t2.call(t,r)&&t6(e,r,t[r]);if(t1)for(var r of t1(t))t3.call(t,r)&&t6(e,r,t[r]);return e},t5=(e,t)=>{var r={};for(var o in e)t2.call(e,o)&&0>t.indexOf(o)&&(r[o]=e[o]);if(null!=e&&t1)for(var o of t1(e))0>t.indexOf(o)&&t3.call(e,o)&&(r[o]=e[o]);return r};(e=>{let t=class{constructor(e,r,o,a){if(this.version=e,this.errorCorrectionLevel=r,this.modules=[],this.isFunction=[],e<t.MIN_VERSION||e>t.MAX_VERSION)throw RangeError("Version value out of range");if(a<-1||a>7)throw RangeError("Mask value out of range");this.size=4*e+17;let s=[];for(let e=0;e<this.size;e++)s.push(!1);for(let e=0;e<this.size;e++)this.modules.push(s.slice()),this.isFunction.push(s.slice());this.drawFunctionPatterns();const l=this.addEccAndInterleave(o);if(this.drawCodewords(l),-1==a){let e=1e9;for(let t=0;t<8;t++){this.applyMask(t),this.drawFormatBits(t);const r=this.getPenaltyScore();r<e&&(a=t,e=r),this.applyMask(t)}}i(0<=a&&a<=7),this.mask=a,this.applyMask(a),this.drawFormatBits(a),this.isFunction=[]}static encodeText(r,o){let i=e.QrSegment.makeSegments(r);return t.encodeSegments(i,o)}static encodeBinary(r,o){let i=e.QrSegment.makeBytes(r);return t.encodeSegments([i],o)}static encodeSegments(e,o,a=1,l=40,c=-1,u=!0){let d,f;if(!(t.MIN_VERSION<=a&&a<=l&&l<=t.MAX_VERSION)||c<-1||c>7)throw RangeError("Invalid value");for(d=a;;d++){let r=8*t.getNumDataCodewords(d,o),i=s.getTotalBits(e,d);if(i<=r){f=i;break}if(d>=l)throw RangeError("Data too long")}for(let e of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])u&&f<=8*t.getNumDataCodewords(d,e)&&(o=e);let h=[];for(let t of e)for(let e of(r(t.mode.modeBits,4,h),r(t.numChars,t.mode.numCharCountBits(d),h),t.getData()))h.push(e);i(h.length==f);let p=8*t.getNumDataCodewords(d,o);i(h.length<=p),r(0,Math.min(4,p-h.length),h),r(0,(8-h.length%8)%8,h),i(h.length%8==0);for(let e=236;h.length<p;e^=253)r(e,8,h);let m=[];for(;8*m.length<h.length;)m.push(0);return h.forEach((e,t)=>m[t>>>3]|=e<<7-(7&t)),new t(d,o,m,c)}getModule(e,t){return 0<=e&&e<this.size&&0<=t&&t<this.size&&this.modules[t][e]}getModules(){return this.modules}drawFunctionPatterns(){for(let e=0;e<this.size;e++)this.setFunctionModule(6,e,e%2==0),this.setFunctionModule(e,6,e%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);let e=this.getAlignmentPatternPositions(),t=e.length;for(let r=0;r<t;r++)for(let o=0;o<t;o++)(0!=r||0!=o)&&(0!=r||o!=t-1)&&(r!=t-1||0!=o)&&this.drawAlignmentPattern(e[r],e[o]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(e){let t=this.errorCorrectionLevel.formatBits<<3|e,r=t;for(let e=0;e<10;e++)r=r<<1^(r>>>9)*1335;let a=(t<<10|r)^21522;i(a>>>15==0);for(let e=0;e<=5;e++)this.setFunctionModule(8,e,o(a,e));this.setFunctionModule(8,7,o(a,6)),this.setFunctionModule(8,8,o(a,7)),this.setFunctionModule(7,8,o(a,8));for(let e=9;e<15;e++)this.setFunctionModule(14-e,8,o(a,e));for(let e=0;e<8;e++)this.setFunctionModule(this.size-1-e,8,o(a,e));for(let e=8;e<15;e++)this.setFunctionModule(8,this.size-15+e,o(a,e));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let e=this.version;for(let t=0;t<12;t++)e=e<<1^(e>>>11)*7973;let t=this.version<<12|e;i(t>>>18==0);for(let e=0;e<18;e++){let r=o(t,e),i=this.size-11+e%3,a=Math.floor(e/3);this.setFunctionModule(i,a,r),this.setFunctionModule(a,i,r)}}drawFinderPattern(e,t){for(let r=-4;r<=4;r++)for(let o=-4;o<=4;o++){let i=Math.max(Math.abs(o),Math.abs(r)),a=e+o,s=t+r;0<=a&&a<this.size&&0<=s&&s<this.size&&this.setFunctionModule(a,s,2!=i&&4!=i)}}drawAlignmentPattern(e,t){for(let r=-2;r<=2;r++)for(let o=-2;o<=2;o++)this.setFunctionModule(e+o,t+r,1!=Math.max(Math.abs(o),Math.abs(r)))}setFunctionModule(e,t,r){this.modules[t][e]=r,this.isFunction[t][e]=!0}addEccAndInterleave(e){let r=this.version,o=this.errorCorrectionLevel;if(e.length!=t.getNumDataCodewords(r,o))throw RangeError("Invalid argument");let a=t.NUM_ERROR_CORRECTION_BLOCKS[o.ordinal][r],s=t.ECC_CODEWORDS_PER_BLOCK[o.ordinal][r],l=Math.floor(t.getNumRawDataModules(r)/8),c=a-l%a,u=Math.floor(l/a),d=[],f=t.reedSolomonComputeDivisor(s);for(let r=0,o=0;r<a;r++){let i=e.slice(o,o+u-s+(r<c?0:1));o+=i.length;let a=t.reedSolomonComputeRemainder(i,f);r<c&&i.push(0),d.push(i.concat(a))}let h=[];for(let e=0;e<d[0].length;e++)d.forEach((t,r)=>{(e!=u-s||r>=c)&&h.push(t[e])});return i(h.length==l),h}drawCodewords(e){if(e.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw RangeError("Invalid argument");let r=0;for(let t=this.size-1;t>=1;t-=2){6==t&&(t=5);for(let i=0;i<this.size;i++)for(let a=0;a<2;a++){let s=t-a,l=(t+1&2)==0?this.size-1-i:i;!this.isFunction[l][s]&&r<8*e.length&&(this.modules[l][s]=o(e[r>>>3],7-(7&r)),r++)}}i(r==8*e.length)}applyMask(e){if(e<0||e>7)throw RangeError("Mask value out of range");for(let t=0;t<this.size;t++)for(let r=0;r<this.size;r++){let o;switch(e){case 0:o=(r+t)%2==0;break;case 1:o=t%2==0;break;case 2:o=r%3==0;break;case 3:o=(r+t)%3==0;break;case 4:o=(Math.floor(r/3)+Math.floor(t/2))%2==0;break;case 5:o=r*t%2+r*t%3==0;break;case 6:o=(r*t%2+r*t%3)%2==0;break;case 7:o=((r+t)%2+r*t%3)%2==0;break;default:throw Error("Unreachable")}!this.isFunction[t][r]&&o&&(this.modules[t][r]=!this.modules[t][r])}}getPenaltyScore(){let e=0;for(let r=0;r<this.size;r++){let o=!1,i=0,a=[0,0,0,0,0,0,0];for(let s=0;s<this.size;s++)this.modules[r][s]==o?5==++i?e+=t.PENALTY_N1:i>5&&e++:(this.finderPenaltyAddHistory(i,a),o||(e+=this.finderPenaltyCountPatterns(a)*t.PENALTY_N3),o=this.modules[r][s],i=1);e+=this.finderPenaltyTerminateAndCount(o,i,a)*t.PENALTY_N3}for(let r=0;r<this.size;r++){let o=!1,i=0,a=[0,0,0,0,0,0,0];for(let s=0;s<this.size;s++)this.modules[s][r]==o?5==++i?e+=t.PENALTY_N1:i>5&&e++:(this.finderPenaltyAddHistory(i,a),o||(e+=this.finderPenaltyCountPatterns(a)*t.PENALTY_N3),o=this.modules[s][r],i=1);e+=this.finderPenaltyTerminateAndCount(o,i,a)*t.PENALTY_N3}for(let r=0;r<this.size-1;r++)for(let o=0;o<this.size-1;o++){let i=this.modules[r][o];i==this.modules[r][o+1]&&i==this.modules[r+1][o]&&i==this.modules[r+1][o+1]&&(e+=t.PENALTY_N2)}let r=0;for(let e of this.modules)r=e.reduce((e,t)=>e+ +!!t,r);let o=this.size*this.size,a=Math.ceil(Math.abs(20*r-10*o)/o)-1;return i(0<=a&&a<=9),i(0<=(e+=a*t.PENALTY_N4)&&e<=2568888),e}getAlignmentPatternPositions(){if(1==this.version)return[];{let e=Math.floor(this.version/7)+2,t=32==this.version?26:2*Math.ceil((4*this.version+4)/(2*e-2)),r=[6];for(let o=this.size-7;r.length<e;o-=t)r.splice(1,0,o);return r}}static getNumRawDataModules(e){if(e<t.MIN_VERSION||e>t.MAX_VERSION)throw RangeError("Version number out of range");let r=(16*e+128)*e+64;if(e>=2){let t=Math.floor(e/7)+2;r-=(25*t-10)*t-55,e>=7&&(r-=36)}return i(208<=r&&r<=29648),r}static getNumDataCodewords(e,r){return Math.floor(t.getNumRawDataModules(e)/8)-t.ECC_CODEWORDS_PER_BLOCK[r.ordinal][e]*t.NUM_ERROR_CORRECTION_BLOCKS[r.ordinal][e]}static reedSolomonComputeDivisor(e){if(e<1||e>255)throw RangeError("Degree out of range");let r=[];for(let t=0;t<e-1;t++)r.push(0);r.push(1);let o=1;for(let i=0;i<e;i++){for(let e=0;e<r.length;e++)r[e]=t.reedSolomonMultiply(r[e],o),e+1<r.length&&(r[e]^=r[e+1]);o=t.reedSolomonMultiply(o,2)}return r}static reedSolomonComputeRemainder(e,r){let o=r.map(e=>0);for(let i of e){let e=i^o.shift();o.push(0),r.forEach((r,i)=>o[i]^=t.reedSolomonMultiply(r,e))}return o}static reedSolomonMultiply(e,t){if(e>>>8!=0||t>>>8!=0)throw RangeError("Byte out of range");let r=0;for(let o=7;o>=0;o--)r=r<<1^(r>>>7)*285^(t>>>o&1)*e;return i(r>>>8==0),r}finderPenaltyCountPatterns(e){let t=e[1];i(t<=3*this.size);let r=t>0&&e[2]==t&&e[3]==3*t&&e[4]==t&&e[5]==t;return(r&&e[0]>=4*t&&e[6]>=t?1:0)+(r&&e[6]>=4*t&&e[0]>=t?1:0)}finderPenaltyTerminateAndCount(e,t,r){return e&&(this.finderPenaltyAddHistory(t,r),t=0),t+=this.size,this.finderPenaltyAddHistory(t,r),this.finderPenaltyCountPatterns(r)}finderPenaltyAddHistory(e,t){0==t[0]&&(e+=this.size),t.pop(),t.unshift(e)}};function r(e,t,r){if(t<0||t>31||e>>>t!=0)throw RangeError("Value out of range");for(let o=t-1;o>=0;o--)r.push(e>>>o&1)}function o(e,t){return(e>>>t&1)!=0}function i(e){if(!e)throw Error("Assertion error")}t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;let a=class{constructor(e,t,r){if(this.mode=e,this.numChars=t,this.bitData=r,t<0)throw RangeError("Invalid argument");this.bitData=r.slice()}static makeBytes(e){let t=[];for(let o of e)r(o,8,t);return new a(a.Mode.BYTE,e.length,t)}static makeNumeric(e){if(!a.isNumeric(e))throw RangeError("String contains non-numeric characters");let t=[];for(let o=0;o<e.length;){let i=Math.min(e.length-o,3);r(parseInt(e.substr(o,i),10),3*i+1,t),o+=i}return new a(a.Mode.NUMERIC,e.length,t)}static makeAlphanumeric(e){let t;if(!a.isAlphanumeric(e))throw RangeError("String contains unencodable characters in alphanumeric mode");let o=[];for(t=0;t+2<=e.length;t+=2){let i=45*a.ALPHANUMERIC_CHARSET.indexOf(e.charAt(t));r(i+=a.ALPHANUMERIC_CHARSET.indexOf(e.charAt(t+1)),11,o)}return t<e.length&&r(a.ALPHANUMERIC_CHARSET.indexOf(e.charAt(t)),6,o),new a(a.Mode.ALPHANUMERIC,e.length,o)}static makeSegments(e){return""==e?[]:a.isNumeric(e)?[a.makeNumeric(e)]:a.isAlphanumeric(e)?[a.makeAlphanumeric(e)]:[a.makeBytes(a.toUtf8ByteArray(e))]}static makeEci(e){let t=[];if(e<0)throw RangeError("ECI assignment value out of range");if(e<128)r(e,8,t);else if(e<16384)r(2,2,t),r(e,14,t);else if(e<1e6)r(6,3,t),r(e,21,t);else throw RangeError("ECI assignment value out of range");return new a(a.Mode.ECI,0,t)}static isNumeric(e){return a.NUMERIC_REGEX.test(e)}static isAlphanumeric(e){return a.ALPHANUMERIC_REGEX.test(e)}getData(){return this.bitData.slice()}static getTotalBits(e,t){let r=0;for(let o of e){let e=o.mode.numCharCountBits(t);if(o.numChars>=1<<e)return 1/0;r+=4+e+o.bitData.length}return r}static toUtf8ByteArray(e){e=encodeURI(e);let t=[];for(let r=0;r<e.length;r++)"%"!=e.charAt(r)?t.push(e.charCodeAt(r)):(t.push(parseInt(e.substr(r+1,2),16)),r+=2);return t}},s=a;s.NUMERIC_REGEX=/^[0-9]*$/,s.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,s.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.QrSegment=s})(p||(p={})),l=(s=p||(p={})).QrCode||(s.QrCode={}),(o=class{constructor(e,t){this.ordinal=e,this.formatBits=t}}).LOW=new o(0,1),o.MEDIUM=new o(1,0),o.QUARTILE=new o(2,3),o.HIGH=new o(3,2),l.Ecc=o,u=(c=p||(p={})).QrSegment||(c.QrSegment={}),(i=class{constructor(e,t){this.modeBits=e,this.numBitsCharCount=t}numCharCountBits(e){return this.numBitsCharCount[Math.floor((e+7)/17)]}}).NUMERIC=new i(1,[10,12,14]),i.ALPHANUMERIC=new i(2,[9,11,13]),i.BYTE=new i(4,[8,16,16]),i.KANJI=new i(8,[8,10,12]),i.ECI=new i(7,[0,0,0]),u.Mode=i;var t8=p,t7={L:t8.QrCode.Ecc.LOW,M:t8.QrCode.Ecc.MEDIUM,Q:t8.QrCode.Ecc.QUARTILE,H:t8.QrCode.Ecc.HIGH},t9="#FFFFFF",ne="#000000";function nt(e,t=0){let r=[];return e.forEach(function(e,o){let i=null;e.forEach(function(a,s){if(!a&&null!==i){r.push(`M${i+t} ${o+t}h${s-i}v1H${i+t}z`),i=null;return}if(s===e.length-1){if(!a)return;null===i?r.push(`M${s+t},${o+t} h1v1H${s+t}z`):r.push(`M${i+t},${o+t} h${s+1-i}v1H${i+t}z`);return}a&&null===i&&(i=s)})}),r.join("")}function nn(e,t){return e.slice().map((e,r)=>r<t.y||r>=t.y+t.h?e:e.map((e,r)=>(r<t.x||r>=t.x+t.w)&&e))}function nr(e,t,r,o){if(null==o)return null;let i=e.length+4*!!r*2,a=Math.floor(.1*t),s=i/t,l=(o.width||a)*s,c=(o.height||a)*s,u=null==o.x?e.length/2-l/2:o.x*s,d=null==o.y?e.length/2-c/2:o.y*s,f=null;if(o.excavate){let e=Math.floor(u),t=Math.floor(d),r=Math.ceil(l+u-e),o=Math.ceil(c+d-t);f={x:e,y:t,w:r,h:o}}return{x:u,y:d,h:c,w:l,excavation:f}}var no=function(){try{new Path2D().addPath(new Path2D)}catch(e){return!1}return!0}();function ni(e){let{value:t,size:r=128,level:o="L",bgColor:i=t9,fgColor:a=ne,includeMargin:s=!1,style:l,imageSettings:c}=e,u=t5(e,["value","size","level","bgColor","fgColor","includeMargin","style","imageSettings"]),d=null==c?void 0:c.src,f=v.useRef(null),h=v.useRef(null),[p,m]=v.useState(!1);v.useEffect(()=>{if(null!=f.current){let e=f.current,l=e.getContext("2d");if(!l)return;let u=t8.QrCode.encodeText(t,t7[o]).getModules(),d=4*!!s,p=u.length+2*d,m=nr(u,r,s,c),y=h.current,v=null!=m&&null!==y&&y.complete&&0!==y.naturalHeight&&0!==y.naturalWidth;v&&null!=m.excavation&&(u=nn(u,m.excavation));let g=window.devicePixelRatio||1;e.height=e.width=r*g;let w=r/p*g;l.scale(w,w),l.fillStyle=i,l.fillRect(0,0,p,p),l.fillStyle=a,no?l.fill(new Path2D(nt(u,d))):u.forEach(function(e,t){e.forEach(function(e,r){e&&l.fillRect(r+d,t+d,1,1)})}),v&&l.drawImage(y,m.x+d,m.y+d,m.w,m.h)}}),v.useEffect(()=>{m(!1)},[d]);let y=t4({height:r,width:r},l),w=null;return null!=d&&(w=g().createElement("img",{src:d,key:d,style:{display:"none"},onLoad:()=>{m(!0)},ref:h})),g().createElement(g().Fragment,null,g().createElement("canvas",t4({style:y,height:r,width:r,ref:f},u)),w)}function na(e){let{value:t,size:r=128,level:o="L",bgColor:i=t9,fgColor:a=ne,includeMargin:s=!1,imageSettings:l}=e,c=t5(e,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]),u=t8.QrCode.encodeText(t,t7[o]).getModules(),d=4*!!s,f=u.length+2*d,h=nr(u,r,s,l),p=null;null!=l&&null!=h&&(null!=h.excavation&&(u=nn(u,h.excavation)),p=g().createElement("image",{xlinkHref:l.src,height:h.h,width:h.w,x:h.x+d,y:h.y+d,preserveAspectRatio:"none"}));let m=nt(u,d);return g().createElement("svg",t4({height:r,width:r,viewBox:`0 0 ${f} ${f}`},c),g().createElement("path",{fill:i,d:`M0,0 h${f}v${f}H0z`,shapeRendering:"crispEdges"}),g().createElement("path",{fill:a,d:m,shapeRendering:"crispEdges"}),p)}var ns=e=>{let{renderAs:t}=e,r=t5(e,["renderAs"]);return"svg"===t?g().createElement(na,t4({},r)):g().createElement(ni,t4({},r))},nl=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),nc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu=r(75863),nd=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function, not "+typeof e);function t(e){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");var r=function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.templateColor=["blue","yellow","purple"],r.handleTemplateClick=r.handleTemplateClick.bind(r),r.handleQuitPreview=r.handleQuitPreview.bind(r),r.handleRefreshIframe=r.handleRefreshIframe.bind(r),r}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),nl(t,[{key:"componentDidMount",value:function(){}},{key:"handleQuitPreview",value:function(){this.props.setPreviewTemplateInfoAction({id:-1,visible:!1})}},{key:"handleTemplateClick",value:function(e,t){this.props.setPreviewTemplateInfoAction({id:e,visible:!0}),j.R("TemplateClick",{template_name:t})}},{key:"handleRefreshIframe",value:function(){var e=document.getElementById("player");e.src=e.src}},{key:"handleOpenTemplate",value:function(e){var t=V.$().cocoEditorUrl;window.open(t+"?templateId="+e,Date.now().toString())}},{key:"render",value:function(){var e=this,t=this.props,r=t.templateList,o=t.previewTemplateInfo,i=r.find(function(e){return e.id===o.id});if(!o.visible||!i)return null;var a=r.filter(function(e){return 2===e.type}).slice(0,3).sort(function(e,t){return t.ordinal-e.ordinal});return v.createElement("div",{styleName:"previewTemplate"},v.createElement("div",{styleName:"templateList"},a.map(function(t,r){return v.createElement("div",{key:t.id,onClick:function(){return e.handleTemplateClick(t.id,t.name)},styleName:L()("templateItem",e.templateColor[r],t.id===i.id&&"active")},v.createElement("div",{styleName:"imageBox"},v.createElement("div",{styleName:"image",style:{backgroundImage:"url("+t.preview_url2+")"}},v.createElement("img",{src:t.gif_url,alt:t.name,styleName:"gif"}))),v.createElement("div",{styleName:"name"},t.name),v.createElement("div",{styleName:"desc"},t.description," "))})),v.createElement("div",{styleName:"quitPreviewBtn",onClick:this.handleQuitPreview},v.createElement(z.A,{type:"icon-quit",styleName:"icon"}),"退出预览"),v.createElement("div",{styleName:"previewBtnBox"},v.createElement("div",{styleName:"btnItem",onClick:this.handleRefreshIframe},v.createElement(z.A,{type:"icon-refresh"})),v.createElement(J.Dropdown,{placement:"top",overlay:v.createElement("div",{styleName:"dropdown"},v.createElement("div",{styleName:"qrcodeImage"},v.createElement(ns,{value:i.player_url,size:150,level:"M",imageSettings:{width:40,height:40,src:"https://static.bcmcdn.com/coco/image/share-dialog/qrlogo.png"}})),v.createElement("span",null,"手机扫码，立即体验"))},v.createElement("div",{styleName:"btnItem"},v.createElement(z.A,{type:"icon-qrcode"}))),v.createElement("div",{styleName:"howBtn",onClick:function(){return e.handleOpenTemplate(i.id)}},"去看看怎么做",v.createElement(z.A,{type:"icon-right",styleName:"icon"}))),v.createElement("iframe",{src:i.player_url,id:"player",width:"100%",height:"100%",frameBorder:0}))}}]),t}(v.Component);nd=function(e,t,r,o){var i,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if(("undefined"==typeof Reflect?"undefined":nc(Reflect))==="object"&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(s=(a<3?i(s):a>3?i(t,r,s):i(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s}([G(nu,{allowMultiple:!0})],nd);let nf=_.connect(function(e,t){return{templateList:e.home_reducer.templateList,previewTemplateInfo:e.home_reducer.previewTemplateInfo}},function(e){return x.bindActionCreators({setPreviewTemplateInfoAction:eC},e)})(nd);var nh=r(78234),np=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),nm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ny=r(31205),nv=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function, not "+typeof e);function t(e){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");var r=function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r._iframeRef=v.createRef(),r._api=void 0,r.state={iframeReady:!1},r.handleLoginSuccess=r.handleLoginSuccess.bind(r),r}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),np(t,[{key:"componentDidMount",value:function(){var e=this;this.fetchUserInfo(!1,""),this._api=nh.createCodemaoLoginIframeApi({onEvent:function(t){switch(t.event){case"IFRAME_READY":e.setState({iframeReady:!0}),e.timer&&clearTimeout(e.timer);break;case"PASSWORD_LOGIN_SUCCESS":case"REGISTER_SUCCESS":e.handleLoginSuccess("pwd-login");break;case"PASSWORD_LOGIN_FAILURE":case"SMS_LOGIN_FAILURE":case"THIRD_PARTY_LOGIN_FAILURE":case"REGISTER_FAILURE":e.handleLoginFailure(t.value);break;case"SMS_LOGIN_SUCCESS":e.handleLoginSuccess("sms-login");break;case"THIRD_PARTY_LOGIN_SUCCESS":e.handleLoginSuccess("third-login");break;case"REGISTER_CONFIRM":case"BIND_PHONE_SUCCESS":case"REPORT":break;case"CLOSE_ANIMATION_END":e.props.setSignDialogVisibleAction(!1),e.setState({iframeReady:!1});break;default:console.info("未知事件:",t)}}},{getWindow:function(){return e._iframeRef.current?e._iframeRef.current.contentWindow:window}})}},{key:"componentDidUpdate",value:function(){var e=this,t=this.props,r=t.signDialogVisible,o=t.setSignDialogVisibleAction,i=t.setCommonToastAction;r&&!this.state.iframeReady&&(this.timer=setTimeout(function(){o(!1),i({visible:!0,type:"error",message:"登录页面加载失败，请稍后重试!"}),e.setState({iframeReady:!1})},5e3))}},{key:"componentWillUnmount",value:function(){this._api&&this._api.dispose()}},{key:"fetchUserInfo",value:function(){var e,t,r,o,i=!(arguments.length>0)||void 0===arguments[0]||arguments[0],a=arguments[1];return e=this,t=void 0,r=void 0,o=F().mark(function e(){var t;return F().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i&&(this.props.setSignDialogVisibleAction(!1),this.setState({iframeReady:!1})),e.prev=1,e.next=4,function(){return H(this,void 0,void 0,F().mark(function e(){var t;return F().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B().get(W+"/tiger/v3/web/accounts/profile",{withCredentials:!0});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e,this)}))}();case 4:if(!(t=e.sent).id){e.next=12;break}return this.props.asyncSetUserInfoAction({id:t.id,name:t.nickname,avatar:t.avatar_url}),j.l(t.id),a&&j.R("LoginResult",{loginMethod:a,isSuccess:!0,isRegister:!i,failReason:""}),e.abrupt("return",!0);case 12:this.props.asyncSetUserInfoAction(null),a&&j.R("LoginResult",{loginMethod:a,isSuccess:!1,isRegister:!i,failReason:""});case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(1),this.props.setUserInfoFetchDoneAction(),a&&j.R("LoginResult",{loginMethod:a,isSuccess:!1,isRegister:!i,failReason:e.t0.message});case 20:case"end":return e.stop()}},e,this,[[1,16]])}),new(r||(r=Promise))(function(i,a){function s(e){try{c(o.next(e))}catch(e){a(e)}}function l(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(s,l)}c((o=o.apply(e,t||[])).next())})}},{key:"handleLoginSuccess",value:function(e){this.fetchUserInfo(!0,e)}},{key:"handleLoginFailure",value:function(e){e&&j.R("LoginResult",{loginMethod:e.source||"",isSuccess:!1,isRegister:"register"===e.source,failReason:e.error.msg||""})}},{key:"render",value:function(){var e,t=this.props.signDialogVisible,r=nh.getCodemaoLoginIframeUrl({env:function(){switch(V.$().env){case"dev":default:return"development";case"test":return"test";case"staging":return"staging";case"prod":return"production"}}(),language:(e=0,"zh"),onlyLogin:!1,disableThirdParty:!1,ageLimit:!1,theme:"violet",pageView:"login",pid:V.$().pid,productCode:V.$().productCode});return t?v.createElement("div",{styleName:L()("wrapper",this.state.iframeReady&&"ready")},v.createElement("iframe",{allow:"autoplay; fullscreen; clipboard-read; clipboard-write; encrypted-media; microphone; geolocation; camera",ref:this._iframeRef,src:r,style:{border:"none",width:"100%",height:"100%",overflow:"hidden",display:this.state.iframeReady?"block":"none"},title:"codemao-login iframe"})):null}}]),t}(v.Component);nv=function(e,t,r,o){var i,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if(("undefined"==typeof Reflect?"undefined":nm(Reflect))==="object"&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(s=(a<3?i(s):a>3?i(t,r,s):i(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s}([G(ny,{allowMultiple:!0})],nv);let ng=_.connect(function(e,t){return{signDialogVisible:e.main_reducer.signDialogVisible}},function(e){return x.bindActionCreators({asyncSetUserInfoAction:eT.cb,setUserInfoFetchDoneAction:eT.Cb,setSignDialogVisibleAction:eT.e$,setCommonToastAction:eT.p9},e)})(nv);r(33864);var nw=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],o=!0,i=!1,a=void 0;try{for(var s,l=e[Symbol.iterator]();!(o=(s=l.next()).done)&&(r.push(s.value),!t||r.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{!o&&l.return&&l.return()}finally{if(i)throw a}}return r}(e,t);throw TypeError("Invalid attempt to destructure non-iterable instance")},nb="_cocoDialogContainer";let n_=v.memo(function(e){var t=e.className,r=e.style,o=e.visible,i=e.maskClosable,a=void 0!==i&&i,s=e.mask,l=e.onClose,c=e.children,u=e.showCloseButton,d=void 0===u||u,f=e.withPortal,h=e.title,p=e.footer,m=nw(v.useState(!1),2);m[0];var y=m[1],w=document.getElementById(nb);w||((w=document.createElement("div")).id=nb,document.body.appendChild(w));var _=v.useCallback(function(){l&&l()},[l]),x=v.useCallback(function(){a&&_()},[_,a]);v.useEffect(function(){o&&y(!0)},[o]);var k=g().createElement("div",{"data-html2canvas-ignore":"true",tabIndex:-1,className:L()("coco-dialog",t),style:Object.assign({display:o?"block":"none"},r)},(void 0===s||s)&&g().createElement("div",{className:o?"coco-dialog-mask":L()("coco-dialog-mask","hidden"),onClick:x}),g().createElement("div",{className:"coco-dialog-scroll"},g().createElement("div",{className:o?L()("coco-dialog-wrapper","show"):L()("coco-dialog-wrapper","hidden"),onAnimationEnd:function(){o||y(!1)}},g().createElement("div",{className:h&&d?"coco-dialog-title":""},h&&g().createElement("div",null,h),d&&g().createElement("span",{className:"coco-dialog-close",onClick:_},g().createElement(z.A,{type:"icon-close"}))),g().createElement("div",{className:"coco-dialog-content"},c),p&&g().createElement("div",{className:"coco-dialog-footer"},p))));return void 0!==f&&f?b().createPortal(k,w):k});var nx=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),nk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nC=r(45571),nT=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function, not "+typeof e);function t(e){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");var r=function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.handleClose=r.handleClose.bind(r),r}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),nx(t,[{key:"componentDidMount",value:function(){}},{key:"handleClose",value:function(){this.props.setCourseDialogVisibleAction(!1)}},{key:"handlePlayCourse",value:function(e){this.props.setPlayCourseInfoAction({id:e,visible:!0}),this.props.setCourseDialogVisibleAction(!1),j.R("CourseClick",{course_id:e})}},{key:"render",value:function(){var e=this,t=this.props,r=t.courseDialogVisible,o=t.courseList;return v.createElement(n_,{withPortal:!0,visible:r,showCloseButton:!0,className:"",title:"入门教程",styleName:"courseDialog",onClose:this.handleClose},v.createElement("div",{styleName:"courseList"},o.map(function(t){return v.createElement("div",{styleName:"courseItem",key:t.id,onClick:function(){return e.handlePlayCourse(t.id)}},v.createElement("div",{styleName:"courseImage"},v.createElement("div",{styleName:"image",style:{backgroundImage:"url("+t.preview+")"}}),v.createElement("div",{styleName:"mask"},v.createElement("div",{styleName:"playBox"},v.createElement(z.A,{type:"icon-play"})))),v.createElement("div",{styleName:"courseName"},t.title),v.createElement("div",{styleName:"courseDesc"},t.course_intro))}),v.createElement("div",{styleName:"courseMore"},v.createElement("div",{styleName:"moreImage"}),v.createElement("div",{styleName:"moreTips"},"更多精彩，敬请期待"))))}}]),t}(v.Component);nT=function(e,t,r,o){var i,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if(("undefined"==typeof Reflect?"undefined":nk(Reflect))==="object"&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(s=(a<3?i(s):a>3?i(t,r,s):i(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s}([G(nC,{allowMultiple:!0})],nT);let nE=_.connect(function(e,t){return{courseDialogVisible:e.main_reducer.courseDialogVisible,courseList:e.home_reducer.courseList}},function(e){return x.bindActionCreators({setPlayCourseInfoAction:ex,setCourseDialogVisibleAction:eT.CV},e)})(nT);r(78704);var nS=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],o=!0,i=!1,a=void 0;try{for(var s,l=e[Symbol.iterator]();!(o=(s=l.next()).done)&&(r.push(s.value),!t||r.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{!o&&l.return&&l.return()}finally{if(i)throw a}}return r}(e,t);throw TypeError("Invalid attempt to destructure non-iterable instance")};let nN=v.memo(function(e){var t=e.type,r=void 0===t?"info":t,o=e.message,i=e.showPrefixIcon,a=e.showCloseIcon,s=e.visible,l=e.onClose,c=e.icon,u=e.className,d=nS(v.useState(!0),2),f=d[0],h=d[1];v.useLayoutEffect(function(){void 0!==s&&h(s)},[s]);var p=v.useCallback(function(e){void 0===s&&h(e)},[s]),m=v.useMemo(function(){var e="",t="";switch(r){case"success":e="icon-alert-success",t="coco-alert-success";break;case"error":e="icon-alert-error",t="coco-alert-error";break;case"info":e="icon-alert-info",t="coco-alert-info"}return{icon:g().createElement(z.A,{type:e}),className:t}},[r]),y=v.useCallback(function(){p(!1),l&&l()},[l,p]);return g().createElement("div",{className:L()("coco-alert",m.className,u,!f&&"coco-alert-hide")},g().createElement("div",{className:"coco-alert-content"},g().createElement("div",{className:"coco-alert-icon"},void 0!==i&&i&&(c||m.icon)),g().createElement("span",null,o)),void 0!==a&&a&&g().createElement("div",{className:"coco-alert-close",onClick:y},g().createElement(z.A,{type:"icon-close"})))});var nI=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),nL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nA=r(25071),nP=void 0,nM=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function, not "+typeof e);function t(e){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");var r=function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.handleClose=r.handleClose.bind(r),r}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),nI(t,[{key:"componentDidMount",value:function(){}},{key:"handleClose",value:function(){var e=this.props.commonToastInfo.onClose;e&&e(),this.props.setCommonToastAction({visible:!1})}},{key:"componentWillReceiveProps",value:function(e){var t=this,r=e.commonToastInfo,o=r.visible,i=r.duration,a=void 0===i?2e3:i;o&&a&&(nP&&window.clearTimeout(nP),nP=setTimeout(function(){t.handleClose()},a))}},{key:"render",value:function(){var e=this.props.commonToastInfo,t=e.visible,r=e.type,o=e.message,i=e.showCloseIcon,a=e.showPrefixIcon;return v.createElement(nN,{visible:t,type:r,message:o,onClose:this.handleClose,showPrefixIcon:a,styleName:"cocoToast",showCloseIcon:i})}}]),t}(v.Component);nM=function(e,t,r,o){var i,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if(("undefined"==typeof Reflect?"undefined":nL(Reflect))==="object"&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(s=(a<3?i(s):a>3?i(t,r,s):i(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s}([G(nA,{allowMultiple:!0})],nM);let nO=_.connect(function(e,t){return{commonToastInfo:e.main_reducer.commonToastInfo}},function(e){return x.bindActionCreators({setCommonToastAction:eT.p9},e)})(nM),nR=v.memo(function(e){var t,r=e.type,o=e.icon,i=e.onClick,a=e.disabled,s=e.style,l=e.className,c=e.danger,u=e.children,d=e.shape,f=void 0===d?"circle":d;return g().createElement("button",{className:L()("coco-button",(t="coco-button-",(r?t+r:"")+" "+(c?t+"dangerous":"")+" "+(f?t+f:"")),l),disabled:a,style:void 0===s?{}:s,onClick:i},o&&g().createElement(z.A,{type:o}),u)});var nj=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),nD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nF=r(22066),nU=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function, not "+typeof e);function t(e){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");var r=function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.handleDeny=r.handleDeny.bind(r),r.handleConfirm=r.handleConfirm.bind(r),r.handleCancel=r.handleCancel.bind(r),r.handleCloseDialog=r.handleCloseDialog.bind(r),r}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),nj(t,[{key:"componentDidMount",value:function(){}},{key:"handleDeny",value:function(){var e=this.props.confirmDialogInfo.onDeny;e&&e(),this.handleCloseDialog()}},{key:"handleConfirm",value:function(){var e=this.props.confirmDialogInfo.onConfirm;e&&e(),this.handleCloseDialog()}},{key:"handleCancel",value:function(){var e=this.props.confirmDialogInfo.onCancel;e&&e(),this.handleCloseDialog()}},{key:"handleCloseDialog",value:function(){var e=this.props.confirmDialogInfo.onClose;e&&e(),this.props.setConfirmDialogInfoAction({visible:!1})}},{key:"render",value:function(){var e=this.props.confirmDialogInfo,t=e.visible,r=e.title,o=e.content,i=e.className,a=e.isDangerous,s=e.cancelText,l=e.allowText,c=e.denyText,u=e.cancelBtnVisible,d=e.confirmBtnVisible;return v.createElement(n_,{visible:t,showCloseButton:!1,onClose:this.handleCloseDialog,withPortal:!0,maskClosable:!1,className:L()(nF.dialog,i,c&&nF.dialogSecondary)},v.createElement("h3",null,r),v.createElement("span",null,o),v.createElement("div",{className:L()(nF.dialogButtons)},(void 0===u||u)&&v.createElement(nR,{type:"light",onClick:this.handleCancel},void 0===s?"取消":s),c&&v.createElement(nR,{onClick:this.handleDeny,className:nF.denyButton},c),(void 0===d||d)&&v.createElement(nR,{type:"primary",danger:a,onClick:this.handleConfirm},void 0===l?"确认":l)))}}]),t}(v.Component);nU=function(e,t,r,o){var i,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if(("undefined"==typeof Reflect?"undefined":nD(Reflect))==="object"&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(s=(a<3?i(s):a>3?i(t,r,s):i(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s}([G(nF,{allowMultiple:!0})],nU);let nB=_.connect(function(e,t){return{confirmDialogInfo:e.main_reducer.confirmDialogInfo}},function(e){return x.bindActionCreators({setConfirmDialogInfoAction:eT.fo},e)})(nU);var nV=r(20866),nH=r(80409),nW=function(e){function t(e){var r;return(0,E._)(this,t),(r=(0,T._)(this,t,[e])).templateColor=["blue","yellow","purple"],r.state={showCourseAnimation:!1},r.handleHideCourseList=r.handleHideCourseList.bind(r),r}return(0,N._)(t,e),(0,S._)(t,[{key:"componentDidMount",value:function(){this.props.getBannerListAction(),this.props.getTopicListAction(),this.props.userInfo&&this.props.getWorkListAction()}},{key:"componentWillReceiveProps",value:function(e){this.props.userInfo!==e.userInfo&&this.homePageRef&&this.homePageRef.scrollTo(0,0)}},{key:"handleNavToCocoEditor",value:function(){var e=(0,V.$)().cocoEditorUrl;window.open(e,Date.now().toString())}},{key:"handlePrevBanner",value:function(){this.bannerRef.prev()}},{key:"handleNextBanner",value:function(){this.bannerRef.next()}},{key:"handleBannerClick",value:function(e,t){(0,j.R)("BannerClick",{banner_id:t}),window.open(e,Date.now().toString())}},{key:"handleTopicClick",value:function(e,t){(0,j.R)("TopicClick",{topic_id:t}),window.open(e,Date.now().toString())}},{key:"handleHideCourseList",value:function(){this.props.setCourseListVisibleAction(!1),this.props.setCommonToastAction({visible:!0,message:"视频已收起，可在帮助中再次打开"}),localStorage.setItem("homeCourseListVisible","hide"),this.setState({showCourseAnimation:!0})}},{key:"handlePlayCourse",value:function(e){this.props.setPlayCourseInfoAction({id:e,visible:!0}),(0,j.R)("CourseClick",{course_id:e})}},{key:"handlePreviewTemplate",value:function(e,t){this.props.setPreviewTemplateInfoAction({id:e,visible:!0}),(0,j.R)("TemplateClick",{template_name:t})}},{key:"prevTemplate",value:function(){this.templateListRef.scrollBy({left:-960,behavior:"smooth"})}},{key:"nextTemplate",value:function(){this.templateListRef.scrollBy({left:960,behavior:"smooth"})}},{key:"render",value:function(){var e=this,t=this.props,r=t.bannerList,o=t.topicList,i=t.courseList,a=t.workList,s=t.courseListVisible,l=t.templateList,c=t.userInfo,u=t.userInfoFetchDone,d=this.state.showCourseAnimation,f=l.filter(function(e){return 2===e.type}).slice(0,3).sort(function(e,t){return t.ordinal-e.ordinal});return u&&(0!==r.length||0!==o.length||0!==i.length)?(0,y.jsxs)("div",{styleName:"home",onScroll:void 0,ref:function(t){return e.homePageRef=t},children:[c&&!c.isNewUser&&(0,y.jsxs)("div",{styleName:"createBox",children:[(0,y.jsxs)("div",{styleName:"createItem",onClick:this.handleNavToCocoEditor,children:[(0,y.jsx)(z.A,{type:"icon-create-app",styleName:"createIcon"}),"应用创作"]}),(0,y.jsxs)("div",{styleName:L()("createItem","disabled"),children:[(0,y.jsx)(z.A,{type:"icon-create-web",styleName:"createIcon"}),"网页搭建",(0,y.jsx)("span",{styleName:"tips",children:"（敬请期待）"})]})]}),(0,y.jsxs)("div",{styleName:L()("center",(!c||c.isNewUser)&&"newUser"),children:[(0,y.jsxs)("div",{styleName:L()("bannerBox",0===r.length&&"hide"),children:[r.length>1&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{styleName:"bannerPrev",onClick:function(){return e.handlePrevBanner()},children:(0,y.jsx)(z.A,{type:"icon-next"})}),(0,y.jsx)("div",{styleName:"bannerNext",onClick:function(){return e.handleNextBanner()},children:(0,y.jsx)(z.A,{type:"icon-next"})})]}),(0,y.jsx)(J.Carousel,{autoplay:!0,speed:800,autoplaySpeed:5e3,pauseOnHover:!1,ref:function(t){return e.bannerRef=t},children:r.map(function(t){return(0,y.jsx)("div",{onClick:function(){return e.handleBannerClick(t.target_url,t.id)},styleName:"bannerItem",children:(0,y.jsx)("div",{styleName:"image",style:{backgroundImage:"url("+t.preview_url+")"}})},t.id)})})]}),(0,y.jsx)("div",{styleName:L()("noticeBox",0===o.length&&"hide"),children:(0,y.jsx)(J.Carousel,{autoplay:!0,vertical:!0,dots:!1,autoplaySpeed:5e3,pauseOnHover:!1,children:o.map(function(t){return(0,y.jsxs)("div",{styleName:"noticeItem",onClick:function(){return e.handleTopicClick(t.target_url,t.id)},children:[(0,y.jsx)("div",{styleName:"noticeChar",children:"#"}),(0,y.jsx)("span",{children:t.title})]},t.id)})})}),(0,y.jsxs)("div",{styleName:L()("courseBox",c&&!c.isNewUser&&!1===s&&!d&&"hidden",d&&"animation"),children:[(0,y.jsxs)("div",{styleName:"titleBox",children:[(0,y.jsx)("h2",{styleName:"title",children:"新手入门"}),c&&!c.isNewUser&&(0,y.jsxs)("div",{styleName:"finish",children:[(0,y.jsx)("div",{styleName:L()("checkbox",!1===s&&"checked"),onClick:this.handleHideCourseList,children:!1===s&&(0,y.jsx)(z.A,{type:"icon-selected"})}),"我已看完"]})]}),(0,y.jsx)("div",{styleName:"courseList",children:i.map(function(t){return(0,y.jsxs)("div",{styleName:"courseItem",onClick:function(){return e.handlePlayCourse(t.id)},children:[(0,y.jsxs)("div",{styleName:"courseImage",children:[(0,y.jsx)("div",{styleName:"image",style:{backgroundImage:"url("+t.preview+")"}}),(0,y.jsx)("div",{styleName:"mask",children:(0,y.jsx)("div",{styleName:"playBox",children:(0,y.jsx)(z.A,{type:"icon-play"})})})]}),(0,y.jsx)("div",{styleName:"courseName",children:t.title}),(0,y.jsx)("div",{styleName:"courseDesc",children:t.course_intro})]},t.id)})})]}),(!c||c.isNewUser)&&(0,y.jsxs)("div",{styleName:"newUserTemplate",children:[(0,y.jsxs)("div",{styleName:"templateTitle",children:[(0,y.jsx)(z.A,{type:"icon-template",styleName:"titleIcon"}),(0,y.jsx)("h2",{styleName:"title",children:"从模版开始探索"})]}),(0,y.jsx)("div",{styleName:"templateList",children:f.map(function(t,r){return(0,y.jsxs)("div",{styleName:L()("templateItem",e.templateColor[r]),onClick:function(){return e.handlePreviewTemplate(t.id,t.name)},children:[(0,y.jsx)("div",{styleName:"imageBox",children:(0,y.jsx)("div",{styleName:"image",style:{backgroundImage:"url("+t.preview_url2+")"},children:(0,y.jsx)("img",{src:t.gif_url,alt:t.name,styleName:"gif"})})}),(0,y.jsx)("div",{styleName:"name",children:t.name}),(0,y.jsx)("div",{styleName:"desc",children:t.description}),(0,y.jsxs)("div",{styleName:"previewBtn",children:[(0,y.jsx)(z.A,{type:"icon-play"}),"玩一玩"]})]},t.id)})})]}),c&&!c.isNewUser&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{styleName:"myWork",children:[(0,y.jsxs)("div",{styleName:"titleBox",children:[(0,y.jsx)(z.A,{type:"icon-lately-work",styleName:"titleIcon"}),(0,y.jsx)("h2",{styleName:"title",children:"最近作品"})]}),a.length>0&&(0,y.jsx)("div",{styleName:"workList",children:a.map(function(t){return(0,y.jsx)(nV.A,{item:t,workType:tu.L.HOME,callback:e.props.getWorkListAction},t.work_id)})}),0===a.length&&(0,y.jsxs)("div",{styleName:"workListNoData",children:[(0,y.jsx)("span",{children:"你还未创作任何作品"}),(0,y.jsxs)("div",{styleName:"createBtn",onClick:this.handleNavToCocoEditor,children:["去创作",(0,y.jsx)(z.A,{type:"icon-button-arrow",styleName:"icon"})]})]})]}),(0,y.jsxs)("div",{styleName:"oldUserTemplate",children:[(0,y.jsxs)("div",{styleName:"titleBox",children:[(0,y.jsxs)("div",{styleName:"templateTitle",children:[(0,y.jsx)(z.A,{type:"icon-template",styleName:"titleIcon"}),(0,y.jsx)("h2",{styleName:"title",children:"从模版开始探索"})]}),(0,y.jsxs)("div",{styleName:"pageBtn",children:[(0,y.jsx)("div",{styleName:L()("btnItem"),onClick:function(){return e.prevTemplate()},children:(0,y.jsx)(z.A,{type:"icon-next",styleName:"prev"})}),(0,y.jsx)("div",{styleName:"btnItem",onClick:function(){return e.nextTemplate()},children:(0,y.jsx)(z.A,{type:"icon-next"})})]})]}),(0,y.jsx)("div",{styleName:"templateList",ref:function(t){return e.templateListRef=t},children:l.map(function(e){return(0,y.jsx)(nH.A,{item:e},e.id)})})]})]})]}),(!c||c.isNewUser)&&(0,y.jsxs)("div",{styleName:"startWork",children:[(0,y.jsx)("div",{styleName:"title",children:"无尽的想法，从这里开始创造。"}),(0,y.jsxs)("div",{styleName:"startBtn",onClick:this.handleNavToCocoEditor,children:["开始创作",(0,y.jsx)(z.A,{type:"icon-button-arrow",styleName:"startIcon"})]})]})]}):null}}]),t}(v.Component);nW=(0,P.__decorate)([q()({home:"home__c4c81",createBox:"createBox__ec418",shadow:"shadow__ed2e5",createItem:"createItem__d1c47",createIcon:"createIcon__b81e2",disabled:"disabled__b6eb2",tips:"tips__a3131",center:"center__c889a",newUser:"newUser__efe78",hide:"hide__db251",bannerBox:"bannerBox__c9f84",bannerItem:"bannerItem__dba22",image:"image__a51a0",bannerNext:"bannerNext__b23c9",bannerPrev:"bannerPrev__f40d7",noticeBox:"noticeBox__bd13e",noticeItem:"noticeItem__e6891",noticeChar:"noticeChar__a3599",courseBox:"courseBox__f0542",hidden:"hidden__ebc61",titleBox:"titleBox__e2384",title:"title__ad3b0",checkbox:"checkbox__cecdf",checked:"checked__fb0d7",finish:"finish__a524a",courseList:"courseList__fc723",courseItem:"courseItem__fe997",courseImage:"courseImage__d0b7a",mask:"mask__a0ac9",playBox:"playBox__a67ec",courseName:"courseName__eea74",courseDesc:"courseDesc__d5907",animation:"animation__d2f46",hideCourseBoxAnimation:"hideCourseBoxAnimation__b64c2",newUserTemplate:"newUserTemplate__f335e",templateTitle:"templateTitle__f10a3",titleIcon:"titleIcon__c8eca",templateList:"templateList__f3a72",templateItem:"templateItem__b1527",imageBox:"imageBox__c1fd6",gif:"gif__cef22",name:"name__a6b08",desc:"desc__aee7b",previewBtn:"previewBtn__e3f6f",blue:"blue__ec4b4",yellow:"yellow__f2041",purple:"purple__aa07f",myWork:"myWork__b7e33",workList:"workList__e747f",workListNoData:"workListNoData__e5fec",createBtn:"createBtn__e7add",icon:"icon__b6e13",oldUserTemplate:"oldUserTemplate__d90f0",pageBtn:"pageBtn__c35fd",btnItem:"btnItem__f0564",prev:"prev__e9e9b",startWork:"startWork__d1403",startBtn:"startBtn__d8a51",startIcon:"startIcon__cb3f9",startIconAnimation:"startIconAnimation__f0e5f"},{allowMultiple:!0})],nW);let nz=_.connect(function(e,t){return{userInfo:e.main_reducer.userInfo,userInfoFetchDone:e.main_reducer.userInfoFetchDone,courseListVisible:e.home_reducer.courseListVisible,bannerList:e.home_reducer.bannerList,topicList:e.home_reducer.topicList,courseList:e.home_reducer.courseList,templateList:e.home_reducer.templateList,workList:e.home_reducer.workList}},function(e){return x.bindActionCreators({getBannerListAction:ee,getTopicListAction:eo,getCourseListAction:el,getTemplateListAction:ef,getWorkListAction:ey,setCourseListVisibleAction:eb,setPlayCourseInfoAction:ex,setPreviewTemplateInfoAction:eC,setCommonToastAction:eT.p9},e)})(nW);var nJ=r(53259),nG=r.n(nJ),nq=nG()({loader:function(){return r.e("377").then(r.bind(r,25976))},loading:function(){return(0,y.jsx)("div",{style:{height:"400px"}})}}),n$=function(e){function t(e){return(0,E._)(this,t),(0,T._)(this,t,[e])}return(0,N._)(t,e),(0,S._)(t,[{key:"componentDidMount",value:function(){this.props.getTemplateListAction(),this.props.getCourseListAction()}},{key:"render",value:function(){var e=this.props,t=e.playCourseInfo,r=e.courseDialogVisible;return(0,y.jsxs)("div",{className:"wrapper__f97a9",style:{},children:[(0,y.jsx)(tJ,{}),(0,y.jsx)(tG,{}),(0,y.jsxs)("div",{className:L()("content__af462",t.visible||r?"blur":""),children:[(0,y.jsx)(t$,{}),(0,y.jsxs)(k.Switch,{children:[(0,y.jsx)(k.Route,{path:"/home",exact:!0,component:nz}),(0,y.jsx)(k.Route,{path:"/work",exact:!0,component:nq}),(0,y.jsx)(k.Route,{path:"/",strict:!0,exact:!0,component:nz})]})]}),(0,y.jsx)(nO,{}),(0,y.jsx)(nB,{}),(0,y.jsx)(ng,{}),(0,y.jsx)(nE,{}),(0,y.jsx)(tQ,{}),(0,y.jsx)(nf,{})]})}}]),t}(v.Component),nK=(0,k.withRouter)(_.connect(function(e){return{signDialogVisible:e.main_reducer.signDialogVisible,courseDialogVisible:e.main_reducer.courseDialogVisible,playCourseInfo:e.home_reducer.playCourseInfo}},function(e){return x.bindActionCreators({getTemplateListAction:ef,getCourseListAction:el},e)})(n$));function nX(){return(0,y.jsx)(C.Kd,{children:(0,y.jsx)(nK,{})})}IntlPolyfill;let nY=ReactIntl;var nZ=r(10290),nQ=r(59608);function n0(e){if(!Array.isArray(e))return Array.from(e);for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}nY.addLocaleData([].concat(n0(nZ),n0(nQ))),(d=m||(m={})).zh="zh",d.en="en",d.tw="tw";var n1={zh:{intl_lang_name:"zh",language:{"work/project_title":"我的作品"}},tw:{intl_lang_name:"zh-Hant",language:{"work/project_title":"我的作品"}},en:{intl_lang_name:"en",language:{"work/project_title":"My Project"}}},n2=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),n3=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function, not "+typeof e);function t(e){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");var r=function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={locale:n1.zh.intl_lang_name,messages:n1.zh.language},r}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),n2(t,[{key:"componentWillReceiveProps",value:function(e){if(e.language!=this.props.language){var t=n1[e.language].intl_lang_name,r=n1[e.language].language;this.setState({locale:t,messages:r})}}},{key:"render",value:function(){return v.createElement(nY.IntlProvider,{locale:this.state.locale,messages:this.state.messages},this.props.children)}}]),t}(v.Component),n6=_.connect(function(e){return{language:e.main_reducer.language}},function(e){return x.bindActionCreators({},e)})(n3);try{var n4=window.location,n5=n4.origin.replace("appcraft","coco");"/"!==n4.pathname||n5.includes("localhost")?n4.pathname.startsWith("/player/")&&(window.location.href=n5+"/editor"+n4.pathname+n4.search):n4.search?window.location.href=n5+"/editor"+n4.search:window.location.href=n5.replace(/\d+/g,"")+"/home"}catch(e){console.error(e)}var n8=document.getElementById("root"),n7=tz.get_store();function n9(){return(0,y.jsx)(_.Provider,{store:n7,children:(0,y.jsx)(n6,{children:(0,y.jsx)(nX,{})})})}n8.hasChildNodes()?w.hydrate((0,y.jsx)(n9,{}),n8):w.render((0,y.jsx)(n9,{}),n8)},81599(e,t,r){"use strict";r.d(t,{$6:()=>i,AY:()=>a,CV:()=>c,Cb:()=>w,Eu:()=>d,Py:()=>p,YX:()=>b,ae:()=>f,ak:()=>u,cb:()=>v,dB:()=>g,e$:()=>s,eb:()=>m,fo:()=>k,gI:()=>l,oU:()=>h,p9:()=>_,uP:()=>y,x2:()=>x});var o=r(99594);let i="main/change_language";(0,o.A)(i);let a="main/set_sign_dialog_visible",s=(0,o.A)(a),l="main/set_course_dialog_visible",c=(0,o.A)(l),u="main/get_is_new_user",d=(0,o.A)(u),f="main/set_is_new_user",h=(0,o.A)(f),p="main/set_user_info",m=(0,o.A)(p),y="main/async_set_user_info",v=(0,o.A)(y),g="main/set_user_info_fetch_done",w=(0,o.A)(g),b="main/set_common_toast",_=(0,o.A)(b),x="main/set_confirm_dialog_info",k=(0,o.A)(x)},82695(e,t,r){"use strict";r.d(t,{A:()=>p});var o=r(71893),i=r(95768),a=r(74848),s=r(41594),l=r(46942),c=r.n(l),u=r(35616),d=/^-+$/,f=/^(-|\+)?\d*$/,h=void 0;let p=s.memo(s.forwardRef(function(e,t){var r=e.warning,l=e.placeholder,p=e.value,m=e.defaultValue,y=e.onChange,v=e.onBlur,g=e.onClick,w=e.onMouseDown,b=e.onKeyDown,_=e.onFocus,x=e.onCompositionStart,k=e.onCompositionEnd,C=e.onClearCallback,T=e.before,E=e.after,S=e.style,N=e.className,I=e.max,L=e.min,A=e.maxLength,P=e.disabled,M=e.type,O=void 0===M?"text":M,R=e.dependency,j=e.rules,D=e.readOnly,F=e.isTrimmed,U=void 0!==F&&F,B=e.clearButtonVisible,V=(0,i._)(s.useState(!1),2),H=V[0],W=V[1],z=(0,i._)(s.useState(!1),2),J=z[0],G=z[1],q=s.useRef(null),$=s.useRef(""),K=(0,i._)(s.useState(!!m||!!p),2),X=K[0],Y=K[1],Z=s.useRef(!0);function Q(){var e=q.current;if(e){var t=e.value,r=t,o=function(e,t,r,o){var i=t.current;if(""!==e){if(o){var a=!0,s=!1,l=void 0;try{for(var c,u=o[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var d=c.value;if(!e.match(d.rule))return{status:"fail",value:i,massage:d.message}}}catch(e){s=!0,l=e}finally{try{a||null==u.return||u.return()}finally{if(s)throw l}}}if(r&&(e.length<=r||e.length<i.length))return t.current=e,{status:"success",value:e};if(void 0!==r&&e.length>i.length)return{status:"fail",value:i,massage:"The maximum support length is exceeded"}}return{status:"success",value:e}}(t,$,A,j);return r=o.value,Z.current||(r=t),e.value=r,ee(o),r}}function ee(e){"fail"===e.status?h||(G(!0),h=setTimeout(function(){G(!1),h=null},600)):G(!1)}s.useEffect(function(){var e=q.current;void 0===p&&e?(e.value=void 0===m?"":m.toString().substr(0,A||1/0),Y(!e.value)):p&&Y(!1)},[q,R,p,m]),s.useEffect(function(){var e=q.current;void 0!==p&&e&&(e.value=p.toString().substr(0,A))},[q,p,A]),s.useImperativeHandle(t,function(){return q.current?{input:q.current,value:q.current.value||"",focus:function(){return q.current.focus()},blur:function(){return q.current.blur()},select:function(){return q.current.select()}}:{input:q.current,value:""}});var et=s.useCallback(function(e){W(!0),_&&_(e)},[_]),en=s.useCallback(function(e){W(!1);var t=q.current;if(t){var r,o=t.value,i=t.value;"number"===O&&(r=parseFloat(o)||0,void 0!==L&&(r=Math.max(r,L)),void 0!==I&&(r=Math.min(r,I)),i=r.toString()),U&&(i=i.trim()),t.value=i,v&&v(i,e),i!==o&&y&&y(i,e)}},[q,O,U,v,y,I,L]);return(0,a.jsxs)("div",{className:c()("coco-input",N,{"coco-input-focus":H,"coco-input-disabled":P,"coco-input-warning":r,"coco-input-warning-animation":J}),style:S,children:[T,(0,a.jsx)("input",(0,o._)({ref:q,onChange:function(e){if(Y(!e.target.value),"number"===O)!function(e){var t,r,o=q.current;if(o){var i=o.value;if(j){var a=function(e,t,r){if(r){var o=!0,i=!1,a=void 0;try{for(var s,l=r[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var c=s.value;if(!e.match(c.rule))return{status:"fail",value:t,massage:c.message}}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}}return{status:"success",value:e}}(i,$.current,j);if("fail"===a.status){ee(a),o.value=a.value;return}}if(d.test(i)){o.value="-";return}var s=(t="success",f.test(i)||(t="fail"),r=parseFloat(i),I&&r>I&&(t="fail",r=I),{status:t,value:isNaN(r)?"":r.toString()});ee(s),o.value=s.value,!(L&&Number(s.value)<L)&&y&&y(s.value||"0",e)}}(e);else{var t;void 0!==(t=Q())&&y&&y(t,e)}},onFocus:et,onBlur:en,onClick:g,onMouseDown:w,onKeyDown:function(e){var t=q.current;t&&(13===e.keyCode&&t.blur(),b&&b(e))},readOnly:void 0!==D&&D,onCompositionStart:function(){Z.current=!1,x&&x()},onCompositionEnd:function(e){Z.current=!0,Q(),k&&k(e)}},{disabled:P,placeholder:l,value:p})),B&&!X&&(0,a.jsx)("div",{onMouseDown:function(e){var t=q.current;e.stopPropagation(),e.preventDefault(),t&&(t.value="",t.focus(),Y(!0),C&&C())},className:"coco-input-clear-button",children:(0,a.jsx)(u.A,{type:"icon-close"})}),E]})}))},20866(e,t,r){"use strict";r.d(t,{A:()=>N});var o=r(95766),i=r(19040),a=r(16979),s=r(30494),l=r(99407),c=r(44693),u=r(31635),d=r(74848),f=r(61381),h=r(26469),p=r(82695),m=r(74935),y=r(35616),v=r(11188),g=r(72407),w=r.n(g),b=r(46942),_=r.n(b),x=r(85440),k=r(41594),C=/^[a-zA-Z0-9\u4E00-\u9FFF ()（）\-_']*$/,T=function(e){function t(e){var r;return(0,s._)(this,t),(r=(0,a._)(this,t,[e])).state={dropdownVisible:!1,inputVisible:!1},r.handleQuitCollWork=r.handleQuitCollWork.bind(r),r.handleRenameWork=r.handleRenameWork.bind(r),r.handleWorkTitleBlur=r.handleWorkTitleBlur.bind(r),r.handleDeleteWork=r.handleDeleteWork.bind(r),r.handleDropdownVisibleChange=r.handleDropdownVisibleChange.bind(r),r}return(0,c._)(t,e),(0,l._)(t,[{key:"componentDidMount",value:function(){}},{key:"handleDropdownVisibleChange",value:function(e){this.setState({dropdownVisible:e})}},{key:"handleSelfOpenWork",value:function(){if(this.props.workType!==h.L.DELETE){var e=(0,v.$)().cocoEditorUrl,t=this.props.item,r=t.work_id,o=t.role;(0,f.R)("OpenWork",{workId:r,workType:1===o?1:2,isSuccess:!0,failReason:""}),window.open(e+"?workId="+r,"_self")}}},{key:"handleOpenWork",value:function(){var e=(0,v.$)().cocoEditorUrl;this.setState({dropdownVisible:!1});var t=this.props.item,r=t.work_id,o=t.role;setTimeout(function(){(0,f.R)("OpenWork",{workId:r,workType:1===o?1:2,isSuccess:!0,failReason:""}),window.open(e+"?workId="+r,Date.now().toString())},10)}},{key:"handleRenameWork",value:function(){var e=this;this.setState({inputVisible:!0,dropdownVisible:!1},function(){e.inputRef&&(e.inputRef.focus(),e.inputRef.select())})}},{key:"handleQuitCollWork",value:function(){var e=this,t=this.props.item.work_id,r=this.props,o=r.userInfo,i=r.workType;o&&this.props.setConfirmDialogInfoAction({visible:!0,isDangerous:!0,title:"是否退出“"+this.props.item.name+"”协作？",content:"退出后, 该作品将不在作品管理页中显示",onConfirm:function(){return e.props.quitCollWorkAction({id:t,userId:o.id,workType:i})}}),this.setState({dropdownVisible:!1})}},{key:"handleDeleteWork",value:function(){var e=this.props.item.work_id;this.props.deleteWorkAction({id:e,workType:this.props.workType,callback:this.props.callback}),this.setState({dropdownVisible:!1})}},{key:"handleAgainDeleteWork",value:function(){var e=this.props.item.work_id;this.props.againDeleteWorkAction(e)}},{key:"handleRecoverDeletedWork",value:function(){var e=this.props.item.work_id;this.props.recoverDeleteWorkAction({id:e,callback:this.props.callback})}},{key:"handleWorkTitleBlur",value:function(e){var t=this.props.item.work_id;e&&e!==this.props.item.name&&this.props.renameWorkAction({id:t,name:e,workType:this.props.workType}),this.setState({inputVisible:!1})}},{key:"handleDoubleClick",value:function(){var e=this,t=this.props.workType;(t===h.L.HOME||t===h.L.CREATE)&&this.setState({inputVisible:!0},function(){e.inputRef&&(e.inputRef.focus(),e.inputRef.select())})}},{key:"render",value:function(){var e=this,t=this.state,r=t.dropdownVisible,o=t.inputVisible,i=this.props,a=i.item,s=i.workType;return(0,d.jsxs)("div",{styleName:"workItem",children:[(0,d.jsxs)("div",{styleName:_()("workImage",a.cover_url&&a.preview_url&&"cover"),onClick:function(){return e.handleSelfOpenWork()},children:[(0,d.jsx)("div",{styleName:"image",style:{backgroundImage:"url("+(a.cover_url||a.preview_url)+")"}}),(a.is_coll_work||s===h.L.COLL)&&(0,d.jsxs)("div",{styleName:"workType",children:[1===a.role&&(0,d.jsx)(y.A,{type:"icon-star",styleName:"icon"}),(0,d.jsx)("span",{styleName:"workTypeText",children:"协作"})]}),s===h.L.DELETE&&(0,d.jsx)("div",{styleName:"workDelete",onClick:function(t){t.preventDefault(),e.handleAgainDeleteWork()},children:(0,d.jsx)(y.A,{type:"icon-delete"})})]}),(0,d.jsxs)("div",{styleName:"workName",children:[!o&&(0,d.jsx)("div",{styleName:"name",onDoubleClick:function(){return e.handleDoubleClick()},children:a.name}),(0,d.jsx)(p.A,{styleName:o?"inputVisible":"inputHidden",ref:function(t){return e.inputRef=t},defaultValue:a.name||"",isTrimmed:!0,placeholder:"请输入作品名称",rules:[{rule:C}],maxLength:20,onBlur:this.handleWorkTitleBlur}),s===h.L.DELETE?(0,d.jsx)("div",{styleName:"recoverBtn",onClick:function(){return e.handleRecoverDeletedWork()},children:(0,d.jsx)(y.A,{type:"icon-recover"})}):(0,d.jsx)(x.Dropdown,{overlay:(0,d.jsxs)("div",{styleName:"dropdown",children:[(0,d.jsx)("div",{styleName:"dropdownItem",onClick:function(){return e.handleOpenWork()},children:"新标签页打开"}),1===a.role&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{styleName:"dropdownItem",onClick:function(){return e.handleRenameWork()},children:"重命名"}),(0,d.jsx)("div",{styleName:"dropdownItem",onClick:function(){return e.handleDeleteWork()},children:"删除"})]}),(a.is_coll_work&&2===a.role||s===h.L.COLL)&&(0,d.jsx)("div",{styleName:"dropdownItem",onClick:function(){return e.handleQuitCollWork()},children:"退出协作"})]}),onVisibleChange:this.handleDropdownVisibleChange,visible:r,trigger:["click"],children:o?(0,d.jsx)("span",{}):(0,d.jsx)("div",{styleName:"moreBtn",children:(0,d.jsx)(y.A,{type:"icon-more"})})})]}),(0,d.jsx)("div",{styleName:"workTime",children:(0,m.Ey)(a.updated_at||a.update_time)})]})}}]),t}(k.Component);T=(0,u.__decorate)([w()({workItem:"workItem__f2d76",workImage:"workImage__d723b",cover:"cover__f8336",image:"image__a3c55",workType:"workType__eb83e",icon:"icon__c9455",workTypeText:"workTypeText__b4dc4",workDelete:"workDelete__a5785",workName:"workName__b32ef",name:"name__b5d5a",inputVisible:"inputVisible__b68d1",inputHidden:"inputHidden__f6002",moreBtn:"moreBtn__f2a9a",recoverBtn:"recoverBtn__a4625",workTime:"workTime__b8958",dropdown:"dropdown__ed2a4",dropdownItem:"dropdownItem__f5701"},{allowMultiple:!0})],T);var E=r(35609),S=r(81599);let N=i.connect(function(e,t){return{userInfo:e.main_reducer.userInfo}},function(e){return o.bindActionCreators({quitCollWorkAction:E.Dq,renameWorkAction:E._C,deleteWorkAction:E.fx,againDeleteWorkAction:E.LY,recoverDeleteWorkAction:E.ld,setConfirmDialogInfoAction:S.fo},e)})(T)},35609(e,t,r){"use strict";r.d(t,{Dq:()=>P,Ep:()=>_,H6:()=>U,Hh:()=>k,Hx:()=>p,IX:()=>f,I_:()=>v,Jv:()=>a,LY:()=>F,ML:()=>c,NC:()=>i,Nf:()=>h,O2:()=>R,O7:()=>w,On:()=>C,Q$:()=>u,SO:()=>m,St:()=>s,W0:()=>I,_C:()=>L,_X:()=>g,dB:()=>y,eM:()=>d,eW:()=>B,ef:()=>A,fx:()=>O,gh:()=>D,lV:()=>E,ld:()=>j,pc:()=>T,rP:()=>S,rn:()=>M,sL:()=>x,tm:()=>l,tv:()=>N,yP:()=>b});var o=r(99594),i="work/set_create_work_offset",a=o.A(i),s="work/set_create_work_is_loaded",l=o.A(s),c="work/get_create_work_list",u=o.A(c),d="work/set_create_work_list",f=o.A(d),h="work/set_coll_work_offset",p=o.A(h),m="work/set_coll_work_is_loaded",y=o.A(m),v="work/get_coll_work_list",g=o.A(v),w="work/set_coll_work_list",b=o.A(w),_="work/set_delete_work_offset",x=o.A(_),k="work/set_delete_work_is_loaded",C=o.A(k),T="work/get_delete_work_list",E=o.A(T),S="work/set_delete_work_list",N=o.A(S),I="work/rename_work",L=o.A(I),A="work/quit_coll_work",P=o.A(A),M="work/delete_work",O=o.A(M),R="work/recover_delete_work",j=o.A(R),D="work/again_delete_work",F=o.A(D),U="work/clear_deleted_work",B=o.A(U)},26469(e,t,r){"use strict";r.d(t,{L:()=>i});var o,i=((o={}).CREATE="CREATE",o.COLL="COLL",o.HOME="HOME",o.DELETE="DELETE",o)},36935(e){"use strict";e.exports=PropTypes},41594(e){"use strict";e.exports=React},75206(e){"use strict";e.exports=ReactDOM},19040(e){"use strict";e.exports=ReactRedux},75551(e){"use strict";e.exports=ReactRouter},85440(e){"use strict";e.exports=antd},13719(e){"use strict";e.exports=axios},8330(e){"use strict";e.exports=JSON.parse('{"rE":"1.23.2","Al":"/docs/","mp":"/docs/guide/feedback"}')}},function(e){e.O(0,["921"],function(){return e(e.s=37604)}),e.O()}]);
//# sourceMappingURL=home.61aa03ef3fe9acf4.js.map