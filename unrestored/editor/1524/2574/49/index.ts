"use strict";

export { In as oTHelper };
var r = {};
Object.defineProperty(r, "addWidgetOp", {
  get: function () {
    return le;
  }
});
Object.defineProperty(r, "addInvisibleWidgetOp", {
  get: function () {
    return de;
  }
});
Object.defineProperty(r, "addBrushAndActorWidgetOp", {
  get: function () {
    return fe;
  }
});
Object.defineProperty(r, "deleteWidgetOp", {
  get: function () {
    return me;
  }
});
Object.defineProperty(r, "deleteInvisibleWidgetOp", {
  get: function () {
    return ge;
  }
});
Object.defineProperty(r, "replaceWidgetAttributeOp", {
  get: function () {
    return _e;
  }
});
Object.defineProperty(r, "moveWidget", {
  get: function () {
    return ve;
  }
});
var o = {};
Object.defineProperty(o, "pick", {
  get: function () {
    return Se;
  }
});
Object.defineProperty(o, "drop", {
  get: function () {
    return Ie;
  }
});
var i = {};
Object.defineProperty(i, "clientOp", {
  get: function () {
    return r;
  }
});
Object.defineProperty(i, "serverOp", {
  get: function () {
    return o;
  }
});
var a = {};
Object.defineProperty(a, "changeProjectProperty", {
  get: function () {
    return je;
  }
});
var s = {};
Object.defineProperty(s, "pick", {
  get: function () {
    return Ne;
  }
});
Object.defineProperty(s, "drop", {
  get: function () {
    return Re;
  }
});
var c = {};
Object.defineProperty(c, "clientOp", {
  get: function () {
    return a;
  }
});
Object.defineProperty(c, "serverOp", {
  get: function () {
    return s;
  }
});
var l = {};
Object.defineProperty(l, "addScreen", {
  get: function () {
    return Me;
  }
});
Object.defineProperty(l, "removeScreen", {
  get: function () {
    return Le;
  }
});
Object.defineProperty(l, "moveScreen", {
  get: function () {
    return Pe;
  }
});
Object.defineProperty(l, "updateScreenStyle", {
  get: function () {
    return Be;
  }
});
var u = {};
Object.defineProperty(u, "pick", {
  get: function () {
    return Fe;
  }
});
Object.defineProperty(u, "drop", {
  get: function () {
    return Ge;
  }
});
var d = {};
Object.defineProperty(d, "clientOp", {
  get: function () {
    return l;
  }
});
Object.defineProperty(d, "serverOp", {
  get: function () {
    return u;
  }
});
var p = {};
Object.defineProperty(p, "add", {
  get: function () {
    return We;
  }
});
Object.defineProperty(p, "remove", {
  get: function () {
    return Ve;
  }
});
Object.defineProperty(p, "replaceImageFileId", {
  get: function () {
    return ze;
  }
});
Object.defineProperty(p, "replaceImageFileCdnUrl", {
  get: function () {
    return Ye;
  }
});
var f = {};
Object.defineProperty(f, "pick", {
  get: function () {
    return qe;
  }
});
Object.defineProperty(f, "drop", {
  get: function () {
    return Xe;
  }
});
var h = {};
Object.defineProperty(h, "clientOp", {
  get: function () {
    return p;
  }
});
Object.defineProperty(h, "serverOp", {
  get: function () {
    return f;
  }
});
var m = {};
Object.defineProperty(m, "add", {
  get: function () {
    return Qe;
  }
});
Object.defineProperty(m, "remove", {
  get: function () {
    return Je;
  }
});
Object.defineProperty(m, "replaceSoundName", {
  get: function () {
    return $e;
  }
});
Object.defineProperty(m, "replaceSoundFileCdnUrl", {
  get: function () {
    return et;
  }
});
var g = {};
Object.defineProperty(g, "pick", {
  get: function () {
    return rt;
  }
});
Object.defineProperty(g, "drop", {
  get: function () {
    return ot;
  }
});
var _ = {};
Object.defineProperty(_, "clientOp", {
  get: function () {
    return m;
  }
});
Object.defineProperty(_, "serverOp", {
  get: function () {
    return g;
  }
});
var v = {};
Object.defineProperty(v, "add", {
  get: function () {
    return it;
  }
});
Object.defineProperty(v, "remove", {
  get: function () {
    return st;
  }
});
Object.defineProperty(v, "replaceIconName", {
  get: function () {
    return lt;
  }
});
Object.defineProperty(v, "replaceIconFileCdnUrl", {
  get: function () {
    return ut;
  }
});
var b = {};
Object.defineProperty(b, "pick", {
  get: function () {
    return pt;
  }
});
Object.defineProperty(b, "drop", {
  get: function () {
    return ft;
  }
});
var y = {};
Object.defineProperty(y, "clientOp", {
  get: function () {
    return v;
  }
});
Object.defineProperty(y, "serverOp", {
  get: function () {
    return b;
  }
});
var E = {};
Object.defineProperty(E, "add", {
  get: function () {
    return _t;
  }
});
Object.defineProperty(E, "remove", {
  get: function () {
    return bt;
  }
});
Object.defineProperty(E, "update", {
  get: function () {
    return yt;
  }
});
var O = {};
Object.defineProperty(O, "pick", {
  get: function () {
    return Et;
  }
});
Object.defineProperty(O, "drop", {
  get: function () {
    return Ot;
  }
});
var w = {};
Object.defineProperty(w, "clientOp", {
  get: function () {
    return E;
  }
});
Object.defineProperty(w, "serverOp", {
  get: function () {
    return O;
  }
});
var C = {};
Object.defineProperty(C, "add", {
  get: function () {
    return Tt;
  }
});
Object.defineProperty(C, "remove", {
  get: function () {
    return It;
  }
});
Object.defineProperty(C, "updateProperty", {
  get: function () {
    return At;
  }
});
var T = {};
Object.defineProperty(T, "pick", {
  get: function () {
    return jt;
  }
});
Object.defineProperty(T, "drop", {
  get: function () {
    return Nt;
  }
});
var S = {};
Object.defineProperty(S, "clientOp", {
  get: function () {
    return C;
  }
});
Object.defineProperty(S, "serverOp", {
  get: function () {
    return T;
  }
});
var I = {};
Object.defineProperty(I, "add", {
  get: function () {
    return xt;
  }
});
Object.defineProperty(I, "remove", {
  get: function () {
    return Mt;
  }
});
Object.defineProperty(I, "updateProperty", {
  get: function () {
    return Lt;
  }
});
var A = {};
Object.defineProperty(A, "pick", {
  get: function () {
    return Pt;
  }
});
Object.defineProperty(A, "drop", {
  get: function () {
    return Bt;
  }
});
var j = {};
Object.defineProperty(j, "clientOp", {
  get: function () {
    return I;
  }
});
Object.defineProperty(j, "serverOp", {
  get: function () {
    return A;
  }
});
var N = {};
Object.defineProperty(N, "add", {
  get: function () {
    return Gt;
  }
});
var R = {};
Object.defineProperty(R, "pick", {
  get: function () {
    return Wt;
  }
});
Object.defineProperty(R, "drop", {
  get: function () {
    return Ht;
  }
});
var k = {};
Object.defineProperty(k, "clientOp", {
  get: function () {
    return N;
  }
});
Object.defineProperty(k, "serverOp", {
  get: function () {
    return R;
  }
});
var x = {};
Object.defineProperty(x, "focusItem", {
  get: function () {
    return Kt;
  }
});
Object.defineProperty(x, "userColors", {
  get: function () {
    return Xt;
  }
});
Object.defineProperty(x, "cloudDb", {
  get: function () {
    return Qt;
  }
});
var D = {};
Object.defineProperty(D, "emit", {
  get: function () {
    return x;
  }
});
Object.defineProperty(D, "accept", {
  get: function () {
    return Jt;
  }
});
var M = {};
Object.defineProperty(M, "add", {
  get: function () {
    return rn;
  }
});
Object.defineProperty(M, "del", {
  get: function () {
    return an;
  }
});
Object.defineProperty(M, "replaceWidgetAttributeOp", {
  get: function () {
    return sn;
  }
});
var L = {};
Object.defineProperty(L, "pick", {
  get: function () {
    return un;
  }
});
Object.defineProperty(L, "drop", {
  get: function () {
    return dn;
  }
});
var P = {};
Object.defineProperty(P, "clientOp", {
  get: function () {
    return M;
  }
});
Object.defineProperty(P, "serverOp", {
  get: function () {
    return L;
  }
});
var B = {};
Object.defineProperty(B, "addUnsafeExtensionWidget", {
  get: function () {
    return fn;
  }
});
Object.defineProperty(B, "addMallExtensionWidget", {
  get: function () {
    return mn;
  }
});
var F = {};
Object.defineProperty(F, "drop", {
  get: function () {
    return vn;
  }
});
var G = {};
Object.defineProperty(G, "clientOp", {
  get: function () {
    return B;
  }
});
Object.defineProperty(G, "serverOp", {
  get: function () {
    return F;
  }
});
var U = {};
Object.defineProperty(U, "updateCloudDictKeys", {
  get: function () {
    return yn;
  }
});
Object.defineProperty(U, "updateCloudTableColumns", {
  get: function () {
    return En;
  }
});
Object.defineProperty(U, "updateCloudTableData", {
  get: function () {
    return On;
  }
});
Object.defineProperty(U, "updateCloudDictList", {
  get: function () {
    return wn;
  }
});
Object.defineProperty(U, "updateCloudTableList", {
  get: function () {
    return Cn;
  }
});
var W = {};
Object.defineProperty(W, "pick", {
  get: function () {
    return Tn;
  }
});
Object.defineProperty(W, "drop", {
  get: function () {
    return Sn;
  }
});
var H = {};
Object.defineProperty(H, "clientOp", {
  get: function () {
    return U;
  }
});
Object.defineProperty(H, "serverOp", {
  get: function () {
    return W;
  }
});
var V = {};
Object.defineProperty(V, "oTHelper", {
  get: function () {
    return In;
  }
});
var z = require("../27");
var Y = require("../40");
var K = require("../1/index");
var q = (module => {
  var defaultExport = module && module.__esModule ? function () {
    return module.default;
  } : function () {
    return module;
  };
  Object.defineProperty(defaultExport, "a", {
    enumerable: true,
    get: defaultExport
  });
  return defaultExport;
})(K);
var X = require("../25/index");
var Q = require("../7");
var Z = require("./304");
var J = require("../1035/32/index");
var $ = require("../24/index");
var ee = require("./244");
var te = require("../10/index");
function ne(e) {
  var t;
  var n = $.a.getDoc();
  var r = null === n || void 0 === n ? void 0 : n.screens;
  if (r) {
    var o = Object.entries(r).find(function (t) {
      var n = Object(te.a)(t, 2);
      n[0];
      return n[1].widgets[e];
    });
    t = null === o || void 0 === o ? void 0 : o[1].id;
  }
  if (!t) {
    console.error("can't find screen of including widget");
  }
  return t || "";
}
function re(e, t) {
  var n;
  var r = null === (n = $.a.getDoc()) || void 0 === n ? void 0 : n.screens[e].widgetIds;
  var o = 0;
  if (r && (o = r.findIndex(function (e) {
    return e === t;
  })) < 0) {
    o = r.length;
  }
  for (var i = arguments.length, a = new Array(i > 2 ? i - 2 : 0), s = 2; s < i; s++) {
    a[s - 2] = arguments[s];
  }
  return ["screens", e, "widgetIds", o].concat(a);
}
function oe(e, t) {
  var n;
  var r = null === (n = $.a.getDoc()) || void 0 === n ? void 0 : n.screens[e].invisibleWidgetIds;
  var o = 0;
  if (r && (o = r.findIndex(function (e) {
    return e === t;
  })) < 0) {
    o = r.length;
  }
  for (var i = arguments.length, a = new Array(i > 2 ? i - 2 : 0), s = 2; s < i; s++) {
    a[s - 2] = arguments[s];
  }
  return ["screens", e, "invisibleWidgetIds", o].concat(a);
}
function ie(e, t) {
  return ["screens", e, "widgetIds", t];
}
function ae(e, t) {
  for (var n = arguments.length, r = new Array(n > 2 ? n - 2 : 0), o = 2; o < n; o++) {
    r[o - 2] = arguments[o];
  }
  return ["screens", e, "widgets", t].concat(r);
}
function se(e) {
  return "widgets" === e[2];
}
function ce(e) {
  return 4 === e.length && se(e);
}
function le(e, t) {
  return ue.apply(this, arguments);
}
function ue() {
  return (ue = Object(Q.a)(q.a.mark(function e(t, n) {
    var r;
    var o;
    return q.a.wrap(function (e) {
      for (;;) {
        switch (e.prev = e.next) {
          case 0:
            r = Object(J.insertOp)(ae(t, n.id), n);
            o = Object(J.insertOp)(re(t, n.id), n.id);
            $.a.applyClient(J.type.compose(o, r));
          case 3:
          case "end":
            return e.stop();
        }
      }
    }, e);
  }))).apply(this, arguments);
}
function de(e, t) {
  return pe.apply(this, arguments);
}
function pe() {
  return (pe = Object(Q.a)(q.a.mark(function e(t, n) {
    var r;
    var o;
    return q.a.wrap(function (e) {
      for (;;) {
        switch (e.prev = e.next) {
          case 0:
            r = Object(J.insertOp)(ae(t, n.id), n);
            o = Object(J.insertOp)(oe(t, n.id), n.id);
            $.a.applyClient(J.type.compose(o, r));
          case 3:
          case "end":
            return e.stop();
        }
      }
    }, e);
  }))).apply(this, arguments);
}
function fe(e, t, n, r) {
  return he.apply(this, arguments);
}
function he() {
  return (he = Object(Q.a)(q.a.mark(function e(t, n, r, o) {
    var i;
    var a;
    var s;
    return q.a.wrap(function (e) {
      for (;;) {
        switch (e.prev = e.next) {
          case 0:
            i = Object(J.insertOp)(ae(t, n.id), n);
            a = Object(J.insertOp)(re(t, n.id), n.id);
            s = Object(J.replaceOp)(ae(t, r, "widgetIds"), !0, o);
            $.a.applyClient(Object(ee.a)(a, i, s));
          case 4:
          case "end":
            return e.stop();
        }
      }
    }, e);
  }))).apply(this, arguments);
}
function me(e, t) {
  var n = Object(J.removeOp)(re(e, t));
  var r = Object(J.removeOp)(ae(e, t));
  $.a.applyClient(J.type.compose(n, r));
}
function ge(e, t) {
  var n = Object(J.removeOp)(oe(e, t));
  var r = Object(J.removeOp)(ae(e, t));
  $.a.applyClient(J.type.compose(n, r));
}
function _e(e, t, n, r) {
  var o;
  var i = !(arguments.length > 4 && void 0 !== arguments[4]) || arguments[4];
  var a = ["size", "position", "visible", "title", "widgetIds"];
  var s = $.a.getDoc();
  if (a.includes(n) && i) {
    var c = ae(e, t, n);
    var l = s ? Object(Z.a)({
      path: ["$"].concat(Object(X.a)(c)),
      json: s
    }) : [];
    o = 0 === l.length ? Object(J.insertOp)(c, r) : Object(J.replaceOp)(c, !0, r);
  } else {
    var u = ae(e, t, "attributes", n);
    var d = s ? Object(Z.a)({
      path: ["$"].concat(Object(X.a)(u)),
      json: s
    }) : [];
    o = 0 === d.length ? Object(J.insertOp)(u, r) : Object(J.replaceOp)(u, !0, r);
  }
  $.a.applyClient(o);
}
function ve(e, t, n) {
  var r = Object(J.moveOp)(Object(X.a)(ie(e, t)), Object(X.a)(ie(e, n)));
  $.a.applyClient(r);
}
var be = require("../2/index");
var ye = require("../9");
var Ee = require("../38/index");
var Oe = require("../43");
var we = require("../79");
var Ce = require("../23");
var Te = require("../36/index");
function Se(e) {
  if (ce(e.path)) {
    (function (e) {
      var t = e.path;
      var n = t[3];
      var r = t[1];
      if (n && r) {
        Object(Oe.h)(Object(be.Mf)(n, r, !1));
      }
    })(e);
  }
}
function Ie(e) {
  var t;
  if (ce(e.path)) {
    (function (e) {
      Ae.apply(this, arguments);
    })(e);
  }
  if ("screens" === (t = e.path)[0] && "widgetIds" === t[2]) {
    (function (e) {
      var t;
      var n = e.path[1];
      var r = null === (t = $.a.getDoc()) || void 0 === t ? void 0 : t.screens[n].widgetIds;
      if (r) {
        Object(Oe.h)(Object(be.Bj)(n, r));
      }
    })(e);
  }
  if (function (e) {
    return "screens" === e[0] && "invisibleWidgetIds" === e[2];
  }(e.path)) {
    (function (e) {
      var t = e.path;
      var n = e.op;
      var r = t[1];
      var o = n.i;
      Object(Oe.h)(Object(be.jf)(r, o, !0));
    })(e);
  }
  if (function (e) {
    return 6 === e.length && se(e) && "attributes" === e[4];
  }(e.path)) {
    (function (e) {
      var t = e.op;
      var n = e.path;
      var r = t.i;
      var o = n[3];
      var i = n[5];
      var a = ne(o);
      Object(Oe.h)(Object(be.Lg)(o, i, r, Object(Oe.g)(a), Object(Oe.g)(a), !1));
    })(e);
  }
  if (function (e) {
    return 5 === e.length && se(e);
  }(e.path)) {
    (function (e) {
      var t = e.op;
      var n = e.path;
      var r = t.i;
      var o = n[3];
      var i = n[4];
      var a = ne(o);
      if ("title" === i) {
        Object(Oe.h)(Object(be.Ng)(o, r, !1, !0, !1));
      } else {
        if ("widgetIds" === i) {
          Object(Oe.h)(Object(be.Mg)(a, o, r, !0, !0, !1));
        } else {
          Object(Oe.h)(Object(be.Lg)(o, i, r, Object(Oe.g)(a), Object(Oe.g)(a), !1));
        }
      }
    })(e);
  }
}
function Ae() {
  return (Ae = Object(Q.a)(q.a.mark(function e(t) {
    var n;
    var r;
    var o;
    var i;
    var a;
    var s;
    var c;
    var l;
    var u;
    var d;
    var p;
    var f;
    var h;
    var m;
    var g;
    return q.a.wrap(function (e) {
      for (;;) {
        switch (e.prev = e.next) {
          case 0:
            if (r = t.path, o = t.op, i = o.i, !Object(we.e)(i.type) || Object(ye.Db)(i.type)) {
              e.next = 11;
              break;
            }
            if (!(c = null === (a = $.a.getDoc()) || void 0 === a || null === (s = a.extensionWidgetList) || void 0 === s ? void 0 : s.find(function (e) {
              return e.type === i.type;
            }))) {
              e.next = 11;
              break;
            }
            l = c.cdnUrl;
            u = c.id;
            Object(Ee.a)(Object(be.zh)({
              title: Object(Ce.c)(Ce.b, "ExtensionWidget.loading").toString(),
              cancelBtnVisible: !1,
              confirmBtnVisible: !1
            }));
            e.next = 9;
            return Object(Te.u)(l, u);
          case 9:
            if (d = e.sent) {
              p = d.title;
              f = d.type;
              h = Object(we.f)(f, !0);
              Object(Ee.a)(Object(be.Vg)());
              Object(Ee.a)(Object(be.zh)({
                title: Object(Ce.c)(Ce.b, "ExtensionWidget.finishRegistration", {
                  title: p,
                  type: h
                }).toString(),
                cancelBtnVisible: !1
              }));
            }
          case 11:
            m = r[1];
            Object(ye.Ub)(i.id, i);
            if (g = null === (n = $.a.getDoc()) || void 0 === n ? void 0 : n.screens[m].widgetIds) {
              Object(Oe.h)(Object(be.Bj)(m, g));
            }
          case 15:
          case "end":
            return e.stop();
        }
      }
    }, e);
  }))).apply(this, arguments);
}
function je(e, t) {
  var n = Object(J.replaceOp)([e], !0, t);
  $.a.applyClient(n);
}
function Ne(e) {}
function Re(e, t) {
  var n;
  if (1 === (n = e.path).length && "title" === n[0]) {
    (function (e) {
      var t = e.op.i;
      Object(Oe.h)(Object(be.Bf)(t, !1));
    })(e);
  }
}
var ke = require("./377/index");
var xe = require("../99");
function De(e) {
  return 2 === e.length && "screens" === e[0];
}
function Me(e, t) {
  e = Object(xe.g)(e);
  var n = Object(J.insertOp)(["screens", e.id], e);
  var r = Object(J.insertOp)(["screenIds", t], e.id);
  var o = J.type.compose(n, r);
  $.a.applyClient(o);
}
function Le(e, t) {
  var n = Object(J.removeOp)(["screens", t]);
  var r = Object(J.removeOp)(["screenIds", e]);
  var o = J.type.compose(n, r);
  if (function (e) {
    var t = $.a.getDoc();
    return null === t || void 0 === t ? void 0 : t.blockly[e];
  }(t)) {
    o = J.type.compose(o, Object(J.removeOp)(["blockly", t]));
  }
  $.a.applyClient(o);
}
function Pe(e, t) {
  var n = Object(J.moveOp)(["screenIds", e], ["screenIds", t]);
  $.a.applyClient(n);
}
function Be(e, t, n) {
  var r = Object(J.replaceOp)(["screens", e, t], !0, n);
  $.a.applyClient(r);
}
function Fe(e) {
  if (De(e.path)) {
    (function (e) {
      var t = e.path[1];
      Object(Oe.h)(Object(be.ng)(t, !1));
    })(e);
  }
}
function Ge(e, t) {
  var n;
  if (De(e.path)) {
    (function (e) {
      var t;
      var n = e.op.i;
      Object.entries(n.widgets).forEach(function (e) {
        var t = Object(te.a)(e, 2);
        t[0];
        var n = t[1];
        Object(ye.Ub)(n.id, n);
      });
      var r = Object(xe.d)(n);
      Object(Oe.h)(Object(be.if)(r));
      var o = null === (t = $.a.getDoc()) || void 0 === t ? void 0 : t.screenIds;
      if (o) {
        Object(Oe.h)(Object(be.xg)(Object(X.a)(o)));
      }
    })(e);
  }
  if (2 === (n = e.path).length && "screenIds" === n[0]) {
    (function () {
      var e;
      var t = null === (e = $.a.getDoc()) || void 0 === e ? void 0 : e.screenIds;
      if (t) {
        Object(Oe.h)(Object(be.xg)(Object(X.a)(t)));
      }
    })();
  }
  if (function (e) {
    return 3 === e.length && "screens" === e[0];
  }(e.path)) {
    (function (e) {
      var t = e.path;
      var n = e.op;
      var r = t[1];
      var o = t[2];
      var i = n.i;
      Object(Oe.h)(Object(be.Jg)(r, o, i, !1));
    })(e);
  }
}
var Ue = require("../31/index");
function We(e) {
  return He.apply(this, arguments);
}
function He() {
  return (He = Object(Q.a)(q.a.mark(function e(t) {
    var n;
    var r;
    var o;
    var i;
    return q.a.wrap(function (e) {
      for (;;) {
        switch (e.prev = e.next) {
          case 0:
            (r = Object(Ue.cloneDeep)(t)).source = "";
            o = null === (n = $.a.getDoc()) || void 0 === n ? void 0 : n.imageFileList;
            i = Object(J.insertOp)(["imageFileList", (null === o || void 0 === o ? void 0 : o.length) || 0], r);
            $.a.applyClient(i);
          case 5:
          case "end":
            return e.stop();
        }
      }
    }, e);
  }))).apply(this, arguments);
}
function Ve(e) {
  var t;
  var n = null === (t = $.a.getDoc()) || void 0 === t ? void 0 : t.imageFileList;
  var r = null === n || void 0 === n ? void 0 : n.findIndex(function (t) {
    return t.id === e;
  });
  if (void 0 !== r && r > -1) {
    var o = Object(J.removeOp)(["imageFileList", r]);
    $.a.applyClient(o);
  }
}
function ze(e, t) {
  var n;
  var r = null === (n = $.a.getDoc()) || void 0 === n ? void 0 : n.imageFileList;
  if (r) {
    var o = r.findIndex(function (t) {
      return t.id === e;
    });
    if (o > -1) {
      var i = Object(J.replaceOp)(["imageFileList", o, "id"], !0, t);
      $.a.applyClient(i);
    }
  }
}
function Ye(e, t) {
  var n;
  var r = null === (n = $.a.getDoc()) || void 0 === n ? void 0 : n.imageFileList;
  if (r) {
    var o = r.findIndex(function (t) {
      return t.id === e;
    });
    var i = Object(J.replaceOp)(["imageFileList", o, "cdnUrl"], !0, t);
    $.a.applyClient(i);
  }
}
function Ke(e) {
  return 2 === e.length && "imageFileList" === e[0];
}
function qe(e) {
  if (Ke(e.path)) {
    (function (e) {
      var t;
      var n = e.path;
      var r = null === (t = $.a.getPreviousDoc()) || void 0 === t ? void 0 : t.imageFileList[n[1]];
      if (r) {
        Object(Oe.h)(Object(be.Jf)(r.id, !1));
      }
    })(e);
  }
}
function Xe(e) {
  var t;
  if (Ke(e.path)) {
    (function (e) {
      var t = e.op;
      var n = e.path;
      var r = t.i;
      var o = n[1];
      Object(ye.Tb)(r, o);
      Object(Oe.h)(Object(be.Zj)());
      Object(Oe.h)(Object(be.Uj)());
      Object(Oe.h)(Object(be.Qj)());
    })(e);
  }
  if (3 === (t = e.path).length && "imageFileList" === t[0]) {
    (function (e) {
      var t;
      var n = e.path;
      var r = e.op;
      var o = n[1];
      var i = n[2];
      var a = r.i;
      var s = null === (t = $.a.getPreviousDoc()) || void 0 === t ? void 0 : t.imageFileList[o];
      if (s) {
        if ("id" === i) {
          Object(Oe.h)(Object(be.zf)(a, s.id, !1));
        }
        if ("cdnUrl" === i) {
          Object(ye.bc)(s.id, a);
        }
        Object(Oe.h)(Object(be.Zj)());
        Object(Oe.h)(Object(be.Uj)());
        Object(Oe.h)(Object(be.Qj)());
      }
    })(e);
  }
}
function Qe(e) {
  return Ze.apply(this, arguments);
}
function Ze() {
  return (Ze = Object(Q.a)(q.a.mark(function e(t) {
    var n;
    var r;
    var o;
    return q.a.wrap(function (e) {
      for (;;) {
        switch (e.prev = e.next) {
          case 0:
            r = null === (n = $.a.getDoc()) || void 0 === n ? void 0 : n.soundFileList;
            o = (null === r || void 0 === r ? void 0 : r.length) || 0;
            t.forEach(function (e, t) {
              var n = Object(Ue.cloneDeep)(e);
              n.source = "";
              var r = Object(J.insertOp)(["soundFileList", o + t], n);
              $.a.applyClient(r);
            });
          case 3:
          case "end":
            return e.stop();
        }
      }
    }, e);
  }))).apply(this, arguments);
}
function Je(e) {
  var t;
  var n = null === (t = $.a.getDoc()) || void 0 === t ? void 0 : t.soundFileList;
  var r = null === n || void 0 === n ? void 0 : n.findIndex(function (t) {
    return t.id === e;
  });
  if (void 0 !== r && r > -1) {
    var o = Object(J.removeOp)(["soundFileList", r]);
    $.a.applyClient(o);
  }
}
function $e(e, t) {
  var n;
  var r = null === (n = $.a.getDoc()) || void 0 === n ? void 0 : n.soundFileList;
  if (r) {
    var o = r.findIndex(function (t) {
      return t.id === e;
    });
    if (o > -1) {
      var i = Object(J.replaceOp)(["soundFileList", o, "name"], !0, t);
      $.a.applyClient(i);
    }
  }
}
function et(e, t) {
  var n;
  var r = null === (n = $.a.getDoc()) || void 0 === n ? void 0 : n.soundFileList;
  if (r) {
    var o = r.findIndex(function (t) {
      return t.id === e;
    });
    var i = Object(J.replaceOp)(["soundFileList", o, "cdnUrl"], !0, t);
    $.a.applyClient(i);
  }
}
var tt = require("../26/index");
function nt(e) {
  return 2 === e.length && "soundFileList" === e[0];
}
function rt(e) {
  if (nt(e.path)) {
    (function (e) {
      var t;
      var n;
      var r = e.path;
      var o = null === (t = $.a.getPreviousDoc()) || void 0 === t || null === (n = t.soundFileList) || void 0 === n ? void 0 : n[r[1]];
      if (o) {
        Object(Oe.h)(Object(be.og)(o.id, !1));
      }
    })(e);
  }
}
function ot(e) {
  var t;
  if (nt(e.path)) {
    (function (e) {
      var t = e.op;
      var n = e.path;
      var r = t.i;
      var o = n[1];
      Object(Oe.h)(Object(be.kf)([r], o));
      Object(Oe.h)(Object(be.Zj)());
      Object(Oe.h)(Object(be.Uj)());
      Object(Oe.h)(Object(be.Qj)());
    })(e);
  }
  if (3 === (t = e.path).length && "soundFileList" === t[0]) {
    (function (e) {
      var t;
      var n;
      var r = e.path;
      var o = e.op;
      var i = r[1];
      var a = r[2];
      var s = o.i;
      var c = null === (t = $.a.getPreviousDoc()) || void 0 === t || null === (n = t.soundFileList) || void 0 === n ? void 0 : n[i];
      if (c) {
        if ("cdnUrl" === a && Object(Oe.h)(Object(be.Rg)(c.id, s)), "name" === a) {
          var l = c.name;
          Object(Oe.h)(Object(be.Ph)(c.id, s));
          tt.z.replaceTextValue("audio_sound_file_list_dropdown", "SOUND_FILE_ID", l, s);
        }
        Object(Oe.h)(Object(be.Uj)());
        Object(Oe.h)(Object(be.Qj)());
      }
    })(e);
  }
}
function it(e) {
  return at.apply(this, arguments);
}
function at() {
  return (at = Object(Q.a)(q.a.mark(function e(t) {
    var n;
    var r;
    var o;
    return q.a.wrap(function (e) {
      for (;;) {
        switch (e.prev = e.next) {
          case 0:
            r = null === (n = $.a.getDoc()) || void 0 === n ? void 0 : n.iconFileList;
            o = (null === r || void 0 === r ? void 0 : r.length) || 0;
            t.forEach(function (e, t) {
              var n = Object(Ue.cloneDeep)(e);
              n.source = "";
              var r = Object(J.insertOp)(["iconFileList", o + t], n);
              $.a.applyClient(r);
            });
          case 3:
          case "end":
            return e.stop();
        }
      }
    }, e);
  }))).apply(this, arguments);
}
function st(e) {
  return ct.apply(this, arguments);
}
function ct() {
  return (ct = Object(Q.a)(q.a.mark(function e(t) {
    var n;
    var r;
    var o;
    var i;
    return q.a.wrap(function (e) {
      for (;;) {
        switch (e.prev = e.next) {
          case 0:
            r = null === (n = $.a.getDoc()) || void 0 === n ? void 0 : n.iconFileList;
            if (void 0 !== (o = null === r || void 0 === r ? void 0 : r.findIndex(function (e) {
              return e.id === t;
            })) && o > -1) {
              i = Object(J.removeOp)(["iconFileList", o]);
              $.a.applyClient(i);
            }
          case 3:
          case "end":
            return e.stop();
        }
      }
    }, e);
  }))).apply(this, arguments);
}
function lt(e, t) {
  var n;
  var r = null === (n = $.a.getDoc()) || void 0 === n ? void 0 : n.iconFileList;
  if (r) {
    var o = r.findIndex(function (t) {
      return t.id === e;
    });
    if (o > -1) {
      var i = Object(J.replaceOp)(["iconFileList", o, "name"], !0, t);
      $.a.applyClient(i);
    }
  }
}
function ut(e, t) {
  var n;
  var r = null === (n = $.a.getDoc()) || void 0 === n ? void 0 : n.iconFileList;
  if (r) {
    var o = r.findIndex(function (t) {
      return t.id === e;
    });
    var i = Object(J.replaceOp)(["iconFileList", o, "cdnUrl"], !0, t);
    $.a.applyClient(i);
  }
}
function dt(e) {
  return 2 === e.length && "iconFileList" === e[0];
}
function pt(e) {
  if (dt(e.path)) {
    (function (e) {
      var t;
      var n;
      var r = e.path;
      var o = null === (t = $.a.getPreviousDoc()) || void 0 === t || null === (n = t.iconFileList) || void 0 === n ? void 0 : n[r[1]];
      if (o) {
        Object(Oe.h)(Object(be.mg)(o.id, !1));
      }
    })(e);
  }
}
function ft(e) {
  var t;
  if (dt(e.path)) {
    (function (e) {
      var t = e.op;
      var n = e.path;
      var r = t.i;
      var o = n[1];
      Object(Oe.h)(Object(be.df)([r], o));
      Object(Oe.h)(Object(be.Zj)());
      Object(Oe.h)(Object(be.Uj)());
      Object(Oe.h)(Object(be.Qj)());
    })(e);
  }
  if (3 === (t = e.path).length && "iconFileList" === t[0]) {
    (function (e) {
      var t;
      var n;
      var r = e.path;
      var o = e.op;
      var i = r[1];
      var a = r[2];
      var s = o.i;
      var c = null === (t = $.a.getPreviousDoc()) || void 0 === t || null === (n = t.iconFileList) || void 0 === n ? void 0 : n[i];
      if (c) {
        if ("cdnUrl" === a) {
          Object(Oe.h)(Object(be.Pg)(c.id, s));
        }
        if ("name" === a) {
          Object(Oe.h)(Object(be.Oh)(c.id, s));
        }
        Object(Oe.h)(Object(be.Uj)());
        Object(Oe.h)(Object(be.Qj)());
      }
    })(e);
  }
}
var ht = require("../18");
function mt(e, t) {
  for (var n = arguments.length, r = new Array(n > 2 ? n - 2 : 0), o = 2; o < n; o++) {
    r[o - 2] = arguments[o];
  }
  return ["screens", e, "primitiveVariables", t].concat(r);
}
function gt(e) {
  return 4 === e.length && "primitiveVariables" === e[2] || 2 === e.length && "globalVariableList" === e[0];
}
function _t(e, t, n, r, o, i) {
  return vt.apply(this, arguments);
}
function vt() {
  return (vt = Object(Q.a)(q.a.mark(function e(t, n, r, o, i, a) {
    var s;
    var c;
    var l;
    return q.a.wrap(function (e) {
      for (;;) {
        switch (e.prev = e.next) {
          case 0:
            s = {
              id: r,
              name: o,
              defaultValue: i,
              value: i
            };
            if (t === ht.i.GLOBAL) {
              c = Object(J.insertOp)(["globalVariableList", a], s);
              $.a.applyClient(c);
            } else {
              l = Object(J.insertOp)(mt(n, a), s);
              $.a.applyClient(l);
            }
          case 2:
          case "end":
            return e.stop();
        }
      }
    }, e);
  }))).apply(this, arguments);
}
function bt(e, t, n) {
  if (e === ht.i.GLOBAL) {
    var r;
    var o = null === (r = $.a.getDoc()) || void 0 === r ? void 0 : r.globalVariableList.findIndex(function (e) {
      return e.id === n;
    });
    if (void 0 !== o) {
      var i = Object(J.removeOp)(["globalVariableList", o]);
      $.a.applyClient(i);
    } else {
      console.error("can't find index of globalVariableList");
    }
  } else {
    var a;
    var s = null === (a = $.a.getDoc()) || void 0 === a ? void 0 : a.screens[t].primitiveVariables.findIndex(function (e) {
      return e.id === n;
    });
    if (void 0 !== s) {
      var c = Object(J.removeOp)(mt(t, s));
      $.a.applyClient(c);
    } else {
      console.error("can't find index of primitiveVariable");
    }
  }
}
function yt(e, t, n, r, o) {
  if (e === ht.i.GLOBAL) {
    var i;
    var a = null === (i = $.a.getDoc()) || void 0 === i ? void 0 : i.globalVariableList.findIndex(function (e) {
      return e.id === n;
    });
    if (void 0 !== a) {
      var s = Object(J.replaceOp)(["globalVariableList", a, r], !0, o);
      $.a.applyClient(s);
    }
  } else {
    var c;
    var l = null === (c = $.a.getDoc()) || void 0 === c ? void 0 : c.screens[t].primitiveVariables.findIndex(function (e) {
      return e.id === n;
    });
    if (void 0 !== l) {
      var u = Object(J.replaceOp)(mt(t, l, r), !0, o);
      $.a.applyClient(u);
    }
  }
}
function Et(e) {
  if (gt(e.path)) {
    (function (e) {
      var t;
      var n = e.path;
      if ("globalVariableList" === n[0]) {
        var r;
        var o = n[1];
        var i = null === (r = $.a.getPreviousDoc()) || void 0 === r ? void 0 : r.globalVariableList[o];
        var a = null === i || void 0 === i ? void 0 : i.id;
        return void (a && Object(Oe.h)(Object(be.Lf)(ht.i.GLOBAL, a, "", !1)));
      }
      var s = n[1];
      var c = n[3];
      var l = null === (t = $.a.getPreviousDoc()) || void 0 === t ? void 0 : t.screens[s].primitiveVariables[c];
      var u = null === l || void 0 === l ? void 0 : l.id;
      if (u) {
        Object(Oe.h)(Object(be.Lf)(ht.i.SCREEN, u, s, !1));
      }
    })(e);
  }
}
function Ot(e) {
  var t;
  if (gt(e.path)) {
    (function (e) {
      var t = e.path;
      var n = e.op.i;
      var r = n.id;
      var o = n.name;
      var i = n.defaultValue;
      if ("globalVariableList" === t[0]) {
        var a = t[1];
        return void Object(Oe.h)(Object(be.uf)(ht.i.GLOBAL, r, o, i, "", a, void 0, !1));
      }
      var s = t[3];
      var c = t[1];
      Object(Oe.h)(Object(be.uf)(ht.i.SCREEN, r, o, i, c, s, void 0, !1));
    })(e);
  }
  if (5 === (t = e.path).length && "primitiveVariables" === t[2] || 3 === t.length && "globalVariableList" === t[0]) {
    (function (e) {
      var t;
      var n = e.path;
      var r = e.op;
      if ("globalVariableList" === n[0]) {
        var o;
        var i = n[1];
        var a = r.i;
        var s = n[2];
        var c = null === (o = $.a.getPreviousDoc()) || void 0 === o ? void 0 : o.globalVariableList[i];
        var l = null === c || void 0 === c ? void 0 : c.id;
        return void (l && Object(Oe.h)(Object(be.Hg)(ht.i.GLOBAL, l, s, a, "", !1)));
      }
      var u = n[1];
      var d = n[3];
      var p = r.i;
      var f = n[4];
      var h = null === (t = $.a.getPreviousDoc()) || void 0 === t ? void 0 : t.screens[u].primitiveVariables[d];
      var m = null === h || void 0 === h ? void 0 : h.id;
      if (m) {
        Object(Oe.h)(Object(be.Hg)(ht.i.SCREEN, m, f, p, u, !1));
      }
    })(e);
  }
}
function wt(e, t) {
  for (var n = arguments.length, r = new Array(n > 2 ? n - 2 : 0), o = 2; o < n; o++) {
    r[o - 2] = arguments[o];
  }
  return ["screens", e, "arrayVariables", t].concat(r);
}
function Ct(e) {
  return 4 === e.length && "arrayVariables" === e[2] || 2 === e.length && "globalArrayList" === e[0];
}
function Tt(e, t, n, r, o, i) {
  return St.apply(this, arguments);
}
function St() {
  return (St = Object(Q.a)(q.a.mark(function e(t, n, r, o, i, a) {
    var s;
    var c;
    var l;
    return q.a.wrap(function (e) {
      for (;;) {
        switch (e.prev = e.next) {
          case 0:
            s = {
              id: r,
              name: o,
              defaultValue: i,
              value: i
            };
            if (t === ht.i.GLOBAL) {
              c = Object(J.insertOp)(["globalArrayList", a], s);
              $.a.applyClient(c);
            } else {
              l = Object(J.insertOp)(wt(n, a), s);
              $.a.applyClient(l);
            }
          case 2:
          case "end":
            return e.stop();
        }
      }
    }, e);
  }))).apply(this, arguments);
}
function It(e, t, n) {
  if (e === ht.i.GLOBAL) {
    var r;
    var o = null === (r = $.a.getDoc()) || void 0 === r ? void 0 : r.globalArrayList.findIndex(function (e) {
      return e.id === n;
    });
    if (void 0 !== o) {
      var i = Object(J.removeOp)(["globalArrayList", o]);
      $.a.applyClient(i);
    } else {
      console.error("can't find index of arrayVariable");
    }
  } else {
    var a;
    var s = null === (a = $.a.getDoc()) || void 0 === a ? void 0 : a.screens[t].arrayVariables.findIndex(function (e) {
      return e.id === n;
    });
    if (void 0 !== s) {
      var c = Object(J.removeOp)(wt(t, s));
      $.a.applyClient(c);
    } else {
      console.error("can't find index of arrayVariable");
    }
  }
}
function At(e, t, n, r, o) {
  if (e === ht.i.GLOBAL) {
    var i;
    var a = null === (i = $.a.getDoc()) || void 0 === i ? void 0 : i.globalArrayList.findIndex(function (e) {
      return e.id === n;
    });
    if (void 0 !== a) {
      var s = Object(J.replaceOp)(["globalArrayList", a, r], !0, o);
      $.a.applyClient(s);
    }
  } else {
    var c;
    var l = null === (c = $.a.getDoc()) || void 0 === c ? void 0 : c.screens[t].arrayVariables.findIndex(function (e) {
      return e.id === n;
    });
    if (void 0 !== l) {
      var u = Object(J.replaceOp)(wt(t, l, r), !0, o);
      $.a.applyClient(u);
    }
  }
}
function jt(e) {
  if (Ct(e.path)) {
    (function (e) {
      var t;
      var n = e.path;
      if ("globalArrayList" === n[0]) {
        var r;
        var o = n[1];
        var i = null === (r = $.a.getPreviousDoc()) || void 0 === r ? void 0 : r.globalArrayList[o];
        var a = null === i || void 0 === i ? void 0 : i.id;
        return void (a && Object(Oe.h)(Object(be.If)(ht.i.GLOBAL, a, "", !1)));
      }
      var s = n[1];
      var c = n[3];
      var l = null === (t = $.a.getPreviousDoc()) || void 0 === t ? void 0 : t.screens[s].arrayVariables[c];
      var u = null === l || void 0 === l ? void 0 : l.id;
      if (u) {
        Object(Oe.h)(Object(be.If)(ht.i.SCREEN, u, s, !1));
      }
    })(e);
  }
}
function Nt(e) {
  var t;
  if (Ct(e.path)) {
    (function (e) {
      var t = e.path;
      var n = e.op.i;
      var r = n.id;
      var o = n.name;
      var i = n.defaultValue;
      if ("globalArrayList" === t[0]) {
        var a = t[1];
        return void Object(Oe.h)(Object(be.of)(ht.i.GLOBAL, r, o, i, "", a, void 0, !1));
      }
      var s = t[3];
      var c = t[1];
      Object(Oe.h)(Object(be.of)(ht.i.SCREEN, r, o, i, c, s, void 0, !1));
    })(e);
  }
  if (5 === (t = e.path).length && "arrayVariables" === t[2] || 3 === t.length && "globalArrayList" === t[0]) {
    (function (e) {
      var t;
      var n = e.path;
      var r = e.op;
      if ("globalArrayList" === n[0]) {
        var o;
        var i = n[1];
        var a = r.i;
        var s = n[2];
        var c = null === (o = $.a.getPreviousDoc()) || void 0 === o ? void 0 : o.globalArrayList[i];
        var l = null === c || void 0 === c ? void 0 : c.id;
        return void (l && Object(Oe.h)(Object(be.yg)(ht.i.GLOBAL, l, s, a, "", !1)));
      }
      var u = n[1];
      var d = n[3];
      var p = r.i;
      var f = n[4];
      var h = null === (t = $.a.getPreviousDoc()) || void 0 === t ? void 0 : t.screens[u].arrayVariables[d];
      var m = null === h || void 0 === h ? void 0 : h.id;
      if (m) {
        Object(Oe.h)(Object(be.yg)(ht.i.SCREEN, m, f, p, u, !1));
      }
    })(e);
  }
}
function Rt(e, t) {
  for (var n = arguments.length, r = new Array(n > 2 ? n - 2 : 0), o = 2; o < n; o++) {
    r[o - 2] = arguments[o];
  }
  return ["screens", e, "objectVariables", t].concat(r);
}
function kt(e) {
  return 4 === e.length && "objectVariables" === e[2] || 2 === e.length && "globalObjectList" === e[0];
}
function xt(e, t, n, r, o, i) {
  return Dt.apply(this, arguments);
}
function Dt() {
  return (Dt = Object(Q.a)(q.a.mark(function e(t, n, r, o, i, a) {
    var s;
    var c;
    var l;
    return q.a.wrap(function (e) {
      for (;;) {
        switch (e.prev = e.next) {
          case 0:
            s = {
              id: r,
              name: o,
              defaultValue: i,
              value: i
            };
            if (t === ht.i.GLOBAL) {
              c = Object(J.insertOp)(["globalObjectList", a], s);
              $.a.applyClient(c);
            } else {
              l = Object(J.insertOp)(Rt(n, a), s);
              $.a.applyClient(l);
            }
          case 2:
          case "end":
            return e.stop();
        }
      }
    }, e);
  }))).apply(this, arguments);
}
function Mt(e, t, n) {
  if (e === ht.i.GLOBAL) {
    var r;
    var o = null === (r = $.a.getDoc()) || void 0 === r ? void 0 : r.globalObjectList.findIndex(function (e) {
      return e.id === n;
    });
    if (void 0 !== o) {
      var i = Object(J.removeOp)(["globalObjectList", o]);
      $.a.applyClient(i);
    } else {
      console.error("can't find index of objectVariable");
    }
  } else {
    var a;
    var s = null === (a = $.a.getDoc()) || void 0 === a ? void 0 : a.screens[t].objectVariables.findIndex(function (e) {
      return e.id === n;
    });
    if (void 0 !== s) {
      var c = Object(J.removeOp)(Rt(t, s));
      $.a.applyClient(c);
    } else {
      console.error("can't find index of objectVariable");
    }
  }
}
function Lt(e, t, n, r, o) {
  if (e === ht.i.GLOBAL) {
    var i;
    var a = null === (i = $.a.getDoc()) || void 0 === i ? void 0 : i.globalObjectList.findIndex(function (e) {
      return e.id === n;
    });
    if (void 0 !== a) {
      var s = Object(J.replaceOp)(["globalObjectList", a, r], !0, o);
      $.a.applyClient(s);
    }
  } else {
    var c;
    var l = null === (c = $.a.getDoc()) || void 0 === c ? void 0 : c.screens[t].objectVariables.findIndex(function (e) {
      return e.id === n;
    });
    if (void 0 !== l) {
      var u = Object(J.replaceOp)(Rt(t, l, r), !0, o);
      $.a.applyClient(u);
    }
  }
}
function Pt(e) {
  if (kt(e.path)) {
    (function (e) {
      var t;
      var n = e.path;
      if ("globalObjectList" === n[0]) {
        var r;
        var o = n[1];
        var i = null === (r = $.a.getPreviousDoc()) || void 0 === r ? void 0 : r.globalObjectList[o];
        var a = null === i || void 0 === i ? void 0 : i.id;
        return void (a && Object(Ee.a)(Object(be.Kf)(ht.i.GLOBAL, a, "", !1)));
      }
      var s = n[1];
      var c = n[3];
      var l = null === (t = $.a.getPreviousDoc()) || void 0 === t ? void 0 : t.screens[s].objectVariables[c];
      var u = null === l || void 0 === l ? void 0 : l.id;
      if (u) {
        Object(Ee.a)(Object(be.Kf)(ht.i.SCREEN, u, s, !1));
      }
    })(e);
  }
}
function Bt(e) {
  var t;
  if (kt(e.path)) {
    (function (e) {
      var t = e.path;
      var n = e.op.i;
      var r = n.id;
      var o = n.name;
      var i = n.defaultValue;
      if ("globalObjectList" === t[0]) {
        var a = t[1];
        return void Object(Ee.a)(Object(be.tf)({
          scopeType: ht.i.GLOBAL,
          id: r,
          name: o,
          defaultValue: i,
          screenId: "",
          index: a,
          isEmitOT: !1
        }));
      }
      var s = t[3];
      var c = t[1];
      Object(Ee.a)(Object(be.tf)({
        scopeType: ht.i.SCREEN,
        id: r,
        name: o,
        defaultValue: i,
        screenId: c,
        index: s,
        isEmitOT: !1
      }));
    })(e);
  }
  if (5 === (t = e.path).length && "objectVariables" === t[2] || 3 === t.length && "globalObjectList" === t[0]) {
    (function (e) {
      var t;
      var n = e.path;
      var r = e.op;
      if ("globalObjectList" === n[0]) {
        var o;
        var i = n[1];
        var a = r.i;
        var s = n[2];
        var c = null === (o = $.a.getPreviousDoc()) || void 0 === o ? void 0 : o.globalObjectList[i];
        var l = null === c || void 0 === c ? void 0 : c.id;
        return void (l && Object(Ee.a)(Object(be.Gg)({
          scopeType: ht.i.GLOBAL,
          id: l,
          key: s,
          value: a,
          screenId: "",
          isEmitOT: !1
        })));
      }
      var u = n[1];
      var d = n[3];
      var p = r.i;
      var f = n[4];
      var h = null === (t = $.a.getPreviousDoc()) || void 0 === t ? void 0 : t.screens[u].objectVariables[d];
      var m = null === h || void 0 === h ? void 0 : h.id;
      if (m) {
        Object(Ee.a)(Object(be.Gg)({
          scopeType: ht.i.SCREEN,
          id: m,
          key: f,
          value: p,
          screenId: u,
          isEmitOT: !1
        }));
      }
    })(e);
  }
}
function Ft(e, t) {
  for (var n = arguments.length, r = new Array(n > 2 ? n - 2 : 0), o = 2; o < n; o++) {
    r[o - 2] = arguments[o];
  }
  return ["screens", e, "broadcasts", t].concat(r);
}
function Gt(e, t, n) {
  return Ut.apply(this, arguments);
}
function Ut() {
  return (Ut = Object(Q.a)(q.a.mark(function e(t, n, r) {
    var o;
    return q.a.wrap(function (e) {
      for (;;) {
        switch (e.prev = e.next) {
          case 0:
            o = Object(J.insertOp)(Ft(t, r), n);
            $.a.applyClient(o);
          case 2:
          case "end":
            return e.stop();
        }
      }
    }, e);
  }))).apply(this, arguments);
}
function Wt(e) {}
function Ht(e) {
  var t;
  if (4 === (t = e.path).length && "broadcasts" === t[2]) {
    (function (e) {
      var t = e.path;
      var n = e.op.i;
      var r = t[3];
      var o = t[1];
      Object(Oe.h)(Object(be.pf)(n, o, r, void 0, !1));
    })(e);
  }
}
var Vt;
var zt;
var Yt = require("../6");
function Kt(e, t) {
  var n;
  var r = Object(Oe.e)();
  var o = Object(Oe.a)() || "";
  if (!t) {
    e = ht.k;
    t = "";
  }
  var i = {
    userId: r,
    path: {
      id: t,
      screenId: o,
      type: e
    }
  };
  if (!(null === (n = $.a.client) || void 0 === n)) {
    n.emitCustomEvent({
      type: Vt.USER_FOCUS,
      data: i
    });
  }
  qt.runIntervalTask(i);
}
!function (e) {
  e.USER_FOCUS = "USER_FOCUS";
  e.CLOUD_DATABASE = "CLOUD_DATABASE";
  e.USER_COLORS = "USER_COLORS";
}(Vt || (Vt = {}));
(function (e) {
  e.CHANGE_NAME = "CHANGE_NAME";
  e.ADD_DOC = "ADD_DOC";
  e.INITIAL = "INITIAL";
  e.REPLACE_DATA = "REPLACE_DATA";
})(zt || (zt = {}));
var qt = new (function () {
  function e() {
    Object(z.a)(this, e);
    this.intervalTime = 1e4;
    this.currentUserFocusInfo = void 0;
    this.timeId = void 0;
    this.currentUserFocusInfo = {
      userId: -1,
      path: {
        screenId: "",
        id: "",
        type: ""
      }
    };
  }
  Object(Y.a)(e, [{
    key: "runIntervalTask",
    value: function (e) {
      var t = this;
      this.currentUserFocusInfo = Object(Yt.a)({}, e);
      if (this.timeId) {
        clearInterval(this.timeId);
      }
      this.timeId = setInterval(function () {
        var e;
        if (t.currentUserFocusInfo.path.type !== ht.k) {
          if (!(null === (e = $.a.client) || void 0 === e)) {
            e.emitCustomEvent({
              type: Vt.USER_FOCUS,
              data: t.currentUserFocusInfo
            });
          }
        }
      }, this.intervalTime);
    }
  }]);
  return e;
}())();
function Xt(e) {
  var t;
  if (!(null === (t = $.a.client) || void 0 === t)) {
    t.emitCustomEvent({
      type: Vt.USER_COLORS,
      data: e
    });
  }
}
function Qt(e, t, n, r) {
  var o;
  if (!(null === (o = $.a.client) || void 0 === o)) {
    o.emitCustomEvent({
      type: Vt.CLOUD_DATABASE,
      data: {
        type: e,
        id: t,
        name: n,
        fields: r
      }
    });
  }
}
var Zt = require("../102");
function Jt(e) {
  if (e.type === Vt.USER_COLORS) {
    Object(Oe.h)(Object(Zt.t)(e.data));
  } else {
    if (e.type === Vt.USER_FOCUS) {
      Object(Oe.h)(Object(Zt.m)(e.data));
    } else {
      if (e.type === Vt.CLOUD_DATABASE) {
        (function (e) {
          var t = e.data;
          var n = t.type;
          var r = t.id;
          var o = t.name;
          if (n === zt.ADD_DOC && r && o) {
            Object(Oe.h)(Object(be.af)(r, o));
          }
          zt.INITIAL;
        })(e);
      }
    }
  }
}
function $t(e) {
  var t;
  var n = null === (t = $.a.getDoc()) || void 0 === t ? void 0 : t.globalWidgetIds;
  var r = 0;
  if (n && (r = n.findIndex(function (t) {
    return t === e;
  })) < 0) {
    r = n.length;
  }
  return ["globalWidgetIds", r];
}
function en(e) {
  for (var t = arguments.length, n = new Array(t > 1 ? t - 1 : 0), r = 1; r < t; r++) {
    n[r - 1] = arguments[r];
  }
  return ["globalWidgets", e].concat(n);
}
function tn(e) {
  return "globalWidgets" === e[0];
}
function nn(e) {
  return 2 === e.length && tn(e);
}
function rn(e) {
  return on.apply(this, arguments);
}
function on() {
  return (on = Object(Q.a)(q.a.mark(function e(t) {
    var n;
    var r;
    return q.a.wrap(function (e) {
      for (;;) {
        switch (e.prev = e.next) {
          case 0:
            n = Object(J.insertOp)(en(t.id), t);
            r = Object(J.insertOp)($t(t.id), t.id);
            $.a.applyClient(J.type.compose(r, n));
          case 3:
          case "end":
            return e.stop();
        }
      }
    }, e);
  }))).apply(this, arguments);
}
function an(e) {
  var t = Object(J.removeOp)($t(e));
  var n = Object(J.removeOp)(en(e));
  $.a.applyClient(J.type.compose(t, n));
}
function sn(e, t, n) {
  var r;
  var o = !(arguments.length > 3 && void 0 !== arguments[3]) || arguments[3];
  var i = ["size", "position", "visible", "title", "widgetIds"];
  var a = $.a.getDoc();
  if (i.includes(t) && o) {
    var s = en(e, t);
    var c = a ? Object(Z.a)({
      path: ["$"].concat(Object(X.a)(s)),
      json: a
    }) : [];
    r = 0 === c.length ? Object(J.insertOp)(s, n) : Object(J.replaceOp)(s, !0, n);
  } else {
    var l = en(e, "attributes", t);
    var u = a ? Object(Z.a)({
      path: ["$"].concat(Object(X.a)(l)),
      json: a
    }) : [];
    r = 0 === u.length ? Object(J.insertOp)(l, n) : Object(J.replaceOp)(l, !0, n);
  }
  $.a.applyClient(r);
}
var cn = require("../5");
var ln = require("../112");
function un(e) {
  if (nn(e.path)) {
    (function (e) {
      var t = e.path[1];
      if (t) {
        Object(Oe.h)(Object(be.Mf)(t, void 0, !1));
      }
    })(e);
  }
}
function dn(e) {
  var t;
  if (nn(e.path)) {
    (function (e) {
      pn.apply(this, arguments);
    })(e);
  }
  if (2 === (t = e.path).length && function (e) {
    return "globalWidgetIds" === e[0];
  }(t)) {
    e.path;
  }
  if (function (e) {
    return 4 === e.length && tn(e) && "attributes" === e[2];
  }(e.path)) {
    (function (e) {
      var t = e.op;
      var n = e.path;
      var r = t.i;
      var o = n[1];
      var i = n[3];
      Object(Oe.h)(Object(be.Lg)(o, i, r, !1, !0, !1));
    })(e);
  }
  if (function (e) {
    return 3 === e.length && tn(e);
  }(e.path)) {
    (function (e) {
      var t = e.op;
      var n = e.path;
      var r = t.i;
      var o = n[1];
      var i = n[2];
      if ("title" === i) {
        Object(Oe.h)(Object(be.Ng)(o, r, !1, !0, !1));
      } else {
        Object(Oe.h)(Object(be.Lg)(o, i, r, !1, !0, !1));
      }
    })(e);
  }
}
function pn() {
  return (pn = Object(Q.a)(q.a.mark(function e(t) {
    var n;
    var r;
    var o;
    var i;
    var a;
    var s;
    var c;
    var l;
    var u;
    var d;
    var p;
    var f;
    return q.a.wrap(function (e) {
      for (;;) {
        switch (e.prev = e.next) {
          case 0:
            if (n = t.op, r = n.i, !Object(we.e)(r.type) || Object(ye.Db)(r.type)) {
              e.next = 11;
              break;
            }
            if (!(a = null === (o = $.a.getDoc()) || void 0 === o || null === (i = o.extensionWidgetList) || void 0 === i ? void 0 : i.find(function (e) {
              return e.type === r.type;
            }))) {
              e.next = 11;
              break;
            }
            s = a.cdnUrl;
            c = a.id;
            Object(Ee.a)(Object(be.zh)({
              title: Object(Ce.c)(Ce.b, "ExtensionWidget.loading").toString(),
              cancelBtnVisible: !1,
              confirmBtnVisible: !1
            }));
            e.next = 9;
            return Object(Te.u)(s, c);
          case 9:
            if (l = e.sent) {
              u = l.title;
              d = l.type;
              p = Object(we.f)(d, !0);
              Object(Ee.a)(Object(be.Vg)());
              Object(Ee.a)(Object(be.zh)({
                title: Object(Ce.c)(Ce.b, "ExtensionWidget.finishRegistration", {
                  title: u,
                  type: p
                }).toString(),
                cancelBtnVisible: !1
              }));
            }
          case 11:
            Object(ye.Ub)(r.id, r);
            Object(Oe.h)(Object(be.hf)(r.id));
            if (r.type === cn.B || r.type === cn.y) {
              f = r.attributes.fields;
              Object(Ee.a)(Object(be.bf)(Object(ln.a)(r.type, {
                id: r.id,
                name: r.title,
                value: f,
                defaultValue: "no-use"
              }, {
                isWatching: !1
              })));
            } else {
              if (r.type === cn.G) {
                Object(Ee.a)(Object(be.bf)(Object(ln.a)(cn.G, {
                  id: r.id,
                  name: r.title,
                  value: r.attributes.db,
                  defaultValue: "no-use"
                }, {
                  isWatching: !1
                })));
              }
            }
          case 14:
          case "end":
            return e.stop();
        }
      }
    }, e);
  }))).apply(this, arguments);
}
function fn(e) {
  return hn.apply(this, arguments);
}
function hn() {
  return (hn = Object(Q.a)(q.a.mark(function e(t) {
    var n;
    var r;
    var o;
    var i;
    var a;
    return q.a.wrap(function (e) {
      for (;;) {
        switch (e.prev = e.next) {
          case 0:
            if (void 0 !== (r = null === (n = $.a.getDoc()) || void 0 === n ? void 0 : n.unsafeExtensionWidgetList)) {
              e.next = 3;
              break;
            }
            return e.abrupt("return");
          case 3:
            if (-1 !== (o = function () {
              for (var e = 0; e < r.length; e++) {
                if (r[e].type === t.type) {
                  return e;
                }
              }
              return -1;
            }())) {
              i = Object(J.replaceOp)(["unsafeExtensionWidgetList", o], !0, t);
              $.a.applyClient(i);
            } else {
              a = Object(J.insertOp)(["unsafeExtensionWidgetList", r.length], t);
              $.a.applyClient(a);
            }
          case 6:
          case "end":
            return e.stop();
        }
      }
    }, e);
  }))).apply(this, arguments);
}
function mn(e) {
  return gn.apply(this, arguments);
}
function gn() {
  return (gn = Object(Q.a)(q.a.mark(function e(t) {
    var n;
    var r;
    var o;
    var i;
    var a;
    return q.a.wrap(function (e) {
      for (;;) {
        switch (e.prev = e.next) {
          case 0:
            if (void 0 !== (r = null === (n = $.a.getDoc()) || void 0 === n ? void 0 : n.extensionWidgetList)) {
              e.next = 3;
              break;
            }
            return e.abrupt("return");
          case 3:
            o = function () {
              for (var e = 0; e < r.length; e++) {
                if (r[e].type === t.type) {
                  return e;
                }
              }
              return -1;
            }();
            i = {
              id: t.id,
              cdnUrl: t.cdnUrl,
              type: t.type,
              version: t.version || 0
            };
            if (-1 === o) {
              a = Object(J.insertOp)(["extensionWidgetList", r.length], i);
              $.a.applyClient(a);
            }
          case 7:
          case "end":
            return e.stop();
        }
      }
    }, e);
  }))).apply(this, arguments);
}
var _n = require("../98");
function vn(e) {
  var t;
  if (2 === (t = e.path).length && "unsafeExtensionWidgetList" === t[0]) {
    (function (e) {
      bn.apply(this, arguments);
    })(e);
  }
  (function (e) {
    if (2 === e.length) {
      e[0];
    }
  })(e.path);
}
function bn() {
  return (bn = Object(Q.a)(q.a.mark(function e(t) {
    var n;
    var r;
    var o;
    var i;
    var a;
    var s;
    var c;
    var l;
    return q.a.wrap(function (e) {
      for (;;) {
        switch (e.prev = e.next) {
          case 0:
            if (t.path, n = t.op, !(r = n.i.code)) {
              e.next = 16;
              break;
            }
            Object(Ee.a)(Object(be.zh)({
              title: Object(Ce.c)(Ce.b, "ExtensionWidget.loading").toString(),
              cancelBtnVisible: !1,
              confirmBtnVisible: !1
            }));
            e.next = 6;
            return Object(Te.r)(r, !1);
          case 6:
            o = e.sent;
            i = o.types;
            a = o.widget;
            Object(Te.v)({
              types: i,
              widget: a
            });
            s = i.title;
            c = i.type;
            l = Object(we.f)(c, !1);
            _n.a({
              type: c,
              types: i,
              code: r
            });
            Object(Ee.a)(Object(be.Rj)());
            Object(Ee.a)(Object(be.Vg)());
            Object(Ee.a)(Object(be.zh)({
              title: Object(Ce.c)(Ce.b, "ExtensionWidget.finishRegistration", {
                title: s,
                type: l
              }).toString(),
              cancelBtnVisible: !1
            }));
          case 16:
          case "end":
            return e.stop();
        }
      }
    }, e);
  }))).apply(this, arguments);
}
function yn(e, t) {
  var n;
  var r;
  var o = null === (n = $.a.getDoc()) || void 0 === n ? void 0 : n.cloudDictKeysList;
  r = (null === o || void 0 === o ? void 0 : o[e]) ? Object(J.replaceOp)(["cloudDictKeysList", e.toString()], !0, t) : Object(J.insertOp)(["cloudDictKeysList", e.toString()], t);
  $.a.applyClient(r);
}
function En(e, t) {
  var n;
  var r;
  var o = null === (n = $.a.getDoc()) || void 0 === n ? void 0 : n.cloudTableColumnList;
  r = (null === o || void 0 === o ? void 0 : o[e]) ? Object(J.replaceOp)(["cloudTableColumnList", e.toString()], !0, t) : Object(J.insertOp)(["cloudTableColumnList", e.toString()], t);
  $.a.applyClient(r);
}
function On(e, t) {
  var n;
  var r;
  var o = null === (n = $.a.getDoc()) || void 0 === n ? void 0 : n.cloudTableDataList;
  r = (null === o || void 0 === o ? void 0 : o[e]) ? Object(J.replaceOp)(["cloudTableDataList", e.toString()], !0, t) : Object(J.insertOp)(["cloudTableDataList", e.toString()], t);
  $.a.applyClient(r);
}
function wn(e) {
  var t;
  var n;
  n = (null === (t = $.a.getDoc()) || void 0 === t ? void 0 : t.cloudDictList) ? Object(J.replaceOp)(["cloudDictList"], !0, e) : Object(J.insertOp)(["cloudDictList"], e);
  $.a.applyClient(n);
}
function Cn(e) {
  var t;
  var n;
  n = (null === (t = $.a.getDoc()) || void 0 === t ? void 0 : t.cloudTableList) ? Object(J.replaceOp)(["cloudTableList"], !0, e) : Object(J.insertOp)(["cloudTableList"], e);
  $.a.applyClient(n);
}
function Tn(e) {}
function Sn(e, t) {
  var n;
  if (2 === (n = e.path).length && "cloudDictKeysList" === n[0]) {
    (function (e) {
      var t = e.path;
      var n = e.op;
      var r = t[1];
      var o = n.i;
      Object(Oe.h)(Object(be.Ag)(Number(r), o, !1));
    })(e);
  }
  if (function (e) {
    return 2 === e.length && "cloudTableColumnList" === e[0];
  }(e.path)) {
    (function (e) {
      var t = e.path;
      var n = e.op;
      var r = t[1];
      var o = n.i;
      Object(Oe.h)(Object(be.Dg)(Number(r), o, !1));
    })(e);
  }
  if (function (e) {
    return 2 === e.length && "cloudTableDataList" === e[0];
  }(e.path)) {
    (function (e) {
      var t = e.path;
      var n = e.op;
      var r = t[1];
      var o = n.i;
      Object(Oe.h)(Object(be.Nj)(Number(r), o));
    })(e);
  }
  if (function (e) {
    return 1 === e.length && "cloudDictList" === e[0];
  }(e.path)) {
    (function (e) {
      e.path;
      var t = e.op.i;
      Object(Oe.h)(Object(be.Bg)(t, !1));
    })(e);
  }
  if (function (e) {
    return 1 === e.length && "cloudTableList" === e[0];
  }(e.path)) {
    (function (e) {
      e.path;
      var t = e.op.i;
      Object(Oe.h)(Object(be.Eg)(t, !1));
    })(e);
  }
}
var In = new (function () {
  function e() {
    Object(z.a)(this, e);
    this.projectOt = void 0;
    this.blink = void 0;
    this.widget = void 0;
    this.screen = void 0;
    this.imageFileList = void 0;
    this.soundFileList = void 0;
    this.iconFileList = void 0;
    this.primitiveVariables = void 0;
    this.arrayVariables = void 0;
    this.objectVariables = void 0;
    this.localStorage = void 0;
    this.focus = void 0;
    this.broadcasts = void 0;
    this.customEvent = void 0;
    this.globalWidget = void 0;
    this.extensionWidget = void 0;
    this.cloudSpace = void 0;
  }
  Object(Y.a)(e, [{
    key: "init",
    value: function () {
      this.blink = ke;
      this.widget = i;
      this.screen = d;
      this.imageFileList = h;
      this.soundFileList = _;
      this.iconFileList = y;
      this.primitiveVariables = w;
      this.arrayVariables = S;
      this.objectVariables = j;
      this.localStorage = localStorage;
      this.focus = V;
      this.broadcasts = k;
      this.projectOt = c;
      this.customEvent = D;
      this.globalWidget = P;
      this.extensionWidget = G;
      this.cloudSpace = H;
    }
  }, {
    key: "dispose",
    value: function () {
      var e = this;
      Object.keys(this).forEach(function (t) {
        return e[t] = void 0;
      });
    }
  }]);
  return e;
}())();