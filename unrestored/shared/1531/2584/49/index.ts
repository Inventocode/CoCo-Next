/** 
 * 由 CoCo 源代码计划解包器解包
 *
 * 模块 ID：49
 */

"use strict"

export { In as oTHelper }
var r = {}
Object.defineProperty(r, "addWidgetOp", {
  get: function () {
    return le
  }
})
Object.defineProperty(r, "addInvisibleWidgetOp", {
  get: function () {
    return de
  }
})
Object.defineProperty(r, "addBrushAndActorWidgetOp", {
  get: function () {
    return fe
  }
})
Object.defineProperty(r, "deleteWidgetOp", {
  get: function () {
    return me
  }
})
Object.defineProperty(r, "deleteInvisibleWidgetOp", {
  get: function () {
    return ge
  }
})
Object.defineProperty(r, "replaceWidgetAttributeOp", {
  get: function () {
    return _e
  }
})
Object.defineProperty(r, "moveWidget", {
  get: function () {
    return ve
  }
})
var o = {}
Object.defineProperty(o, "pick", {
  get: function () {
    return Se
  }
})
Object.defineProperty(o, "drop", {
  get: function () {
    return Ie
  }
})
var i = {}
Object.defineProperty(i, "clientOp", {
  get: function () {
    return r
  }
})
Object.defineProperty(i, "serverOp", {
  get: function () {
    return o
  }
})
var a = {}
Object.defineProperty(a, "changeProjectProperty", {
  get: function () {
    return je
  }
})
var s = {}
Object.defineProperty(s, "pick", {
  get: function () {
    return Ne
  }
})
Object.defineProperty(s, "drop", {
  get: function () {
    return Re
  }
})
var c = {}
Object.defineProperty(c, "clientOp", {
  get: function () {
    return a
  }
})
Object.defineProperty(c, "serverOp", {
  get: function () {
    return s
  }
})
var l = {}
Object.defineProperty(l, "addScreen", {
  get: function () {
    return Me
  }
})
Object.defineProperty(l, "removeScreen", {
  get: function () {
    return Le
  }
})
Object.defineProperty(l, "moveScreen", {
  get: function () {
    return Pe
  }
})
Object.defineProperty(l, "updateScreenStyle", {
  get: function () {
    return Be
  }
})
var u = {}
Object.defineProperty(u, "pick", {
  get: function () {
    return Fe
  }
})
Object.defineProperty(u, "drop", {
  get: function () {
    return Ge
  }
})
var d = {}
Object.defineProperty(d, "clientOp", {
  get: function () {
    return l
  }
})
Object.defineProperty(d, "serverOp", {
  get: function () {
    return u
  }
})
var p = {}
Object.defineProperty(p, "add", {
  get: function () {
    return We
  }
})
Object.defineProperty(p, "remove", {
  get: function () {
    return Ve
  }
})
Object.defineProperty(p, "replaceImageFileId", {
  get: function () {
    return ze
  }
})
Object.defineProperty(p, "replaceImageFileCdnUrl", {
  get: function () {
    return Ye
  }
})
var f = {}
Object.defineProperty(f, "pick", {
  get: function () {
    return qe
  }
})
Object.defineProperty(f, "drop", {
  get: function () {
    return Xe
  }
})
var h = {}
Object.defineProperty(h, "clientOp", {
  get: function () {
    return p
  }
})
Object.defineProperty(h, "serverOp", {
  get: function () {
    return f
  }
})
var m = {}
Object.defineProperty(m, "add", {
  get: function () {
    return Qe
  }
})
Object.defineProperty(m, "remove", {
  get: function () {
    return Je
  }
})
Object.defineProperty(m, "replaceSoundName", {
  get: function () {
    return $e
  }
})
Object.defineProperty(m, "replaceSoundFileCdnUrl", {
  get: function () {
    return et
  }
})
var g = {}
Object.defineProperty(g, "pick", {
  get: function () {
    return rt
  }
})
Object.defineProperty(g, "drop", {
  get: function () {
    return ot
  }
})
var _ = {}
Object.defineProperty(_, "clientOp", {
  get: function () {
    return m
  }
})
Object.defineProperty(_, "serverOp", {
  get: function () {
    return g
  }
})
var v = {}
Object.defineProperty(v, "add", {
  get: function () {
    return it
  }
})
Object.defineProperty(v, "remove", {
  get: function () {
    return st
  }
})
Object.defineProperty(v, "replaceIconName", {
  get: function () {
    return lt
  }
})
Object.defineProperty(v, "replaceIconFileCdnUrl", {
  get: function () {
    return ut
  }
})
var b = {}
Object.defineProperty(b, "pick", {
  get: function () {
    return pt
  }
})
Object.defineProperty(b, "drop", {
  get: function () {
    return ft
  }
})
var y = {}
Object.defineProperty(y, "clientOp", {
  get: function () {
    return v
  }
})
Object.defineProperty(y, "serverOp", {
  get: function () {
    return b
  }
})
var E = {}
Object.defineProperty(E, "add", {
  get: function () {
    return _t
  }
})
Object.defineProperty(E, "remove", {
  get: function () {
    return bt
  }
})
Object.defineProperty(E, "update", {
  get: function () {
    return yt
  }
})
var O = {}
Object.defineProperty(O, "pick", {
  get: function () {
    return Et
  }
})
Object.defineProperty(O, "drop", {
  get: function () {
    return Ot
  }
})
var w = {}
Object.defineProperty(w, "clientOp", {
  get: function () {
    return E
  }
})
Object.defineProperty(w, "serverOp", {
  get: function () {
    return O
  }
})
var C = {}
Object.defineProperty(C, "add", {
  get: function () {
    return Tt
  }
})
Object.defineProperty(C, "remove", {
  get: function () {
    return It
  }
})
Object.defineProperty(C, "updateProperty", {
  get: function () {
    return At
  }
})
var T = {}
Object.defineProperty(T, "pick", {
  get: function () {
    return jt
  }
})
Object.defineProperty(T, "drop", {
  get: function () {
    return Nt
  }
})
var S = {}
Object.defineProperty(S, "clientOp", {
  get: function () {
    return C
  }
})
Object.defineProperty(S, "serverOp", {
  get: function () {
    return T
  }
})
var I = {}
Object.defineProperty(I, "add", {
  get: function () {
    return xt
  }
})
Object.defineProperty(I, "remove", {
  get: function () {
    return Mt
  }
})
Object.defineProperty(I, "updateProperty", {
  get: function () {
    return Lt
  }
})
var A = {}
Object.defineProperty(A, "pick", {
  get: function () {
    return Pt
  }
})
Object.defineProperty(A, "drop", {
  get: function () {
    return Bt
  }
})
var j = {}
Object.defineProperty(j, "clientOp", {
  get: function () {
    return I
  }
})
Object.defineProperty(j, "serverOp", {
  get: function () {
    return A
  }
})
var N = {}
Object.defineProperty(N, "add", {
  get: function () {
    return Gt
  }
})
var R = {}
Object.defineProperty(R, "pick", {
  get: function () {
    return Wt
  }
})
Object.defineProperty(R, "drop", {
  get: function () {
    return Ht
  }
})
var k = {}
Object.defineProperty(k, "clientOp", {
  get: function () {
    return N
  }
})
Object.defineProperty(k, "serverOp", {
  get: function () {
    return R
  }
})
var x = {}
Object.defineProperty(x, "focusItem", {
  get: function () {
    return Kt
  }
})
Object.defineProperty(x, "userColors", {
  get: function () {
    return Xt
  }
})
Object.defineProperty(x, "cloudDb", {
  get: function () {
    return Qt
  }
})
var D = {}
Object.defineProperty(D, "emit", {
  get: function () {
    return x
  }
})
Object.defineProperty(D, "accept", {
  get: function () {
    return Jt
  }
})
var M = {}
Object.defineProperty(M, "add", {
  get: function () {
    return rn
  }
})
Object.defineProperty(M, "del", {
  get: function () {
    return an
  }
})
Object.defineProperty(M, "replaceWidgetAttributeOp", {
  get: function () {
    return sn
  }
})
var L = {}
Object.defineProperty(L, "pick", {
  get: function () {
    return un
  }
})
Object.defineProperty(L, "drop", {
  get: function () {
    return dn
  }
})
var P = {}
Object.defineProperty(P, "clientOp", {
  get: function () {
    return M
  }
})
Object.defineProperty(P, "serverOp", {
  get: function () {
    return L
  }
})
var B = {}
Object.defineProperty(B, "addUnsafeExtensionWidget", {
  get: function () {
    return fn
  }
})
Object.defineProperty(B, "addMallExtensionWidget", {
  get: function () {
    return mn
  }
})
var F = {}
Object.defineProperty(F, "drop", {
  get: function () {
    return vn
  }
})
var G = {}
Object.defineProperty(G, "clientOp", {
  get: function () {
    return B
  }
})
Object.defineProperty(G, "serverOp", {
  get: function () {
    return F
  }
})
var U = {}
Object.defineProperty(U, "updateCloudDictKeys", {
  get: function () {
    return yn
  }
})
Object.defineProperty(U, "updateCloudTableColumns", {
  get: function () {
    return En
  }
})
Object.defineProperty(U, "updateCloudTableData", {
  get: function () {
    return On
  }
})
Object.defineProperty(U, "updateCloudDictList", {
  get: function () {
    return wn
  }
})
Object.defineProperty(U, "updateCloudTableList", {
  get: function () {
    return Cn
  }
})
var W = {}
Object.defineProperty(W, "pick", {
  get: function () {
    return Tn
  }
})
Object.defineProperty(W, "drop", {
  get: function () {
    return Sn
  }
})
var H = {}
Object.defineProperty(H, "clientOp", {
  get: function () {
    return U
  }
})
Object.defineProperty(H, "serverOp", {
  get: function () {
    return W
  }
})
var V = {}
Object.defineProperty(V, "oTHelper", {
  get: function () {
    return In
  }
})
import z = require("../27");
import Y = require("../40");
import RegeneratorRuntime = require("regenerator-runtime");
var q = function __importDefault(module) {
  var defaultExport = module && module.__esModule ? function () {
    return module.default
  } : function () {
    return module
  }
  Object.defineProperty(defaultExport, "a", {
    enumerable: true,
    get: defaultExport
  })
  return defaultExport
}(RegeneratorRuntime)
import X = require("../25/index");
import Q = require("../7");
import Z = require("./304");
import OtJson1 = require("ot-json1");
import $ = require("../24/index");
import ee = require("./244");
import te = require("../10/index");
function ne(e) {
  var t
  var n = $.a.getDoc()
  var r = null === n || undefined === n ? undefined : n.screens
  if (r) {
    var o = Object.entries(r).find(function (t) {
      var n = te.a(t, 2)
      n[0]
      return n[1].widgets[e]
    })
    t = null === o || undefined === o ? undefined : o[1].id
  }
  if (!t) {
    console.error("can't find screen of including widget")
  }
  return t || ""
}
function re(e, t) {
  var n
  var r = null === (n = $.a.getDoc()) || undefined === n ? undefined : n.screens[e].widgetIds
  var o = 0
  if (r && (o = r.findIndex(function (e) {
    return e === t
  })) < 0) {
    o = r.length
  }
  for (var arguments$length = arguments.length, a = new Array(arguments$length > 2 ? arguments$length - 2 : 0), s = 2; s < arguments$length; s++) {
    a[s - 2] = arguments[s]
  }
  return ["screens", e, "widgetIds", o].concat(a)
}
function oe(e, t) {
  var n
  var r = null === (n = $.a.getDoc()) || undefined === n ? undefined : n.screens[e].invisibleWidgetIds
  var o = 0
  if (r && (o = r.findIndex(function (e) {
    return e === t
  })) < 0) {
    o = r.length
  }
  for (var arguments$length = arguments.length, a = new Array(arguments$length > 2 ? arguments$length - 2 : 0), s = 2; s < arguments$length; s++) {
    a[s - 2] = arguments[s]
  }
  return ["screens", e, "invisibleWidgetIds", o].concat(a)
}
function ie(e, t) {
  return ["screens", e, "widgetIds", t]
}
function ae(e, t) {
  for (var arguments$length = arguments.length, r = new Array(arguments$length > 2 ? arguments$length - 2 : 0), o = 2; o < arguments$length; o++) {
    r[o - 2] = arguments[o]
  }
  return ["screens", e, "widgets", t].concat(r)
}
function se(e) {
  return "widgets" === e[2]
}
function ce(e) {
  return 4 === e.length && se(e)
}
function le(e, t) {
  return ue.apply(this, arguments)
}
function ue() {
  return (ue = Q.a(q.a.mark(function e(t, n) {
    var r
    var o
    return q.a.wrap(function (e) {
      for (;;) {
        switch (e.prev = e.next) {
          case 0:
            r = OtJson1.insertOp(ae(t, n.id), n)
            o = OtJson1.insertOp(re(t, n.id), n.id)
            $.a.applyClient(OtJson1.type.compose(o, r))
          case 3:
          case "end":
            return e.stop()
        }
      }
    }, e)
  }))).apply(this, arguments)
}
function de(e, t) {
  return pe.apply(this, arguments)
}
function pe() {
  return (pe = Q.a(q.a.mark(function e(t, n) {
    var r
    var o
    return q.a.wrap(function (e) {
      for (;;) {
        switch (e.prev = e.next) {
          case 0:
            r = OtJson1.insertOp(ae(t, n.id), n)
            o = OtJson1.insertOp(oe(t, n.id), n.id)
            $.a.applyClient(OtJson1.type.compose(o, r))
          case 3:
          case "end":
            return e.stop()
        }
      }
    }, e)
  }))).apply(this, arguments)
}
function fe(e, t, n, r) {
  return he.apply(this, arguments)
}
function he() {
  return (he = Q.a(q.a.mark(function e(t, n, r, o) {
    var i
    var a
    var s
    return q.a.wrap(function (e) {
      for (;;) {
        switch (e.prev = e.next) {
          case 0:
            i = OtJson1.insertOp(ae(t, n.id), n)
            a = OtJson1.insertOp(re(t, n.id), n.id)
            s = OtJson1.replaceOp(ae(t, r, "widgetIds"), true, o)
            $.a.applyClient(ee.a(a, i, s))
          case 4:
          case "end":
            return e.stop()
        }
      }
    }, e)
  }))).apply(this, arguments)
}
function me(e, t) {
  var n = OtJson1.removeOp(re(e, t))
  var r = OtJson1.removeOp(ae(e, t))
  $.a.applyClient(OtJson1.type.compose(n, r))
}
function ge(e, t) {
  var n = OtJson1.removeOp(oe(e, t))
  var r = OtJson1.removeOp(ae(e, t))
  $.a.applyClient(OtJson1.type.compose(n, r))
}
function _e(e, t, n, r) {
  var o
  var i = !(arguments.length > 4 && undefined !== arguments[4]) || arguments[4]
  var a = ["size", "position", "visible", "title", "widgetIds"]
  var s = $.a.getDoc()
  if (a.includes(n) && i) {
    var c = ae(e, t, n)
    var l = s ? Z.a({
      path: ["$"].concat(X.a(c)),
      json: s
    }) : []
    o = 0 === l.length ? OtJson1.insertOp(c, r) : OtJson1.replaceOp(c, true, r)
  } else {
    var u = ae(e, t, "attributes", n)
    var d = s ? Z.a({
      path: ["$"].concat(X.a(u)),
      json: s
    }) : []
    o = 0 === d.length ? OtJson1.insertOp(u, r) : OtJson1.replaceOp(u, true, r)
  }
  $.a.applyClient(o)
}
function ve(e, t, n) {
  var r = OtJson1.moveOp(X.a(ie(e, t)), X.a(ie(e, n)))
  $.a.applyClient(r)
}
import be = require("../../../../../src/shared/events/messages-wrapper");
import ye = require("../9");
import Ee = require("../../../../../src/shared/events/actions");
import Oe = require("../43");
import we = require("../../../../../src/shared/widget/custom/type");
import Ce = require("../../../../../src/shared/ui/language");
import Te = require("../../../../../src/shared/widget/custom/load");
function Se(e) {
  if (ce(e.path)) {
    (function (e) {
      var e$path = e.path
      var n = e$path[3]
      var r = e$path[1]
      if (n && r) {
        Oe.h(be.Mf(n, r, false))
      }
    })(e)
  }
}
function Ie(e) {
  var /* [auto-meaningful-name] */e$path
  if (ce(e.path)) {
    (function (e) {
      Ae.apply(this, arguments)
    })(e)
  }
  if ("screens" === (e$path = e.path)[0] && "widgetIds" === e$path[2]) {
    (function (e) {
      var t
      var n = e.path[1]
      var r = null === (t = $.a.getDoc()) || undefined === t ? undefined : t.screens[n].widgetIds
      if (r) {
        Oe.h(be.Bj(n, r))
      }
    })(e)
  }
  if (function (e) {
    return "screens" === e[0] && "invisibleWidgetIds" === e[2]
  }(e.path)) {
    (function (e) {
      var e$path = e.path
      var n = e.op
      var r = e$path[1]
      var o = n.i
      Oe.h(be.jf(r, o, true))
    })(e)
  }
  if (function (e) {
    return 6 === e.length && se(e) && "attributes" === e[4]
  }(e.path)) {
    (function (e) {
      var t = e.op
      var e$path = e.path
      var r = t.i
      var o = e$path[3]
      var i = e$path[5]
      var a = ne(o)
      Oe.h(be.Lg(o, i, r, Oe.g(a), Oe.g(a), false))
    })(e)
  }
  if (function (e) {
    return 5 === e.length && se(e)
  }(e.path)) {
    (function (e) {
      var t = e.op
      var e$path = e.path
      var r = t.i
      var o = e$path[3]
      var i = e$path[4]
      var a = ne(o)
      if ("title" === i) {
        Oe.h(be.Ng(o, r, false, true, false))
      } else {
        if ("widgetIds" === i) {
          Oe.h(be.Mg(a, o, r, true, true, false))
        } else {
          Oe.h(be.Lg(o, i, r, Oe.g(a), Oe.g(a), false))
        }
      }
    })(e)
  }
}
function Ae() {
  return (Ae = Q.a(q.a.mark(function e(t) {
    var n
    var /* [auto-meaningful-name] */t$path
    var o
    var i
    var a
    var /* [auto-meaningful-name] */a$extensionWidgetList
    var c
    var /* [auto-meaningful-name] */c$cdnUrl
    var u
    var /* [auto-meaningful-name] */e$sent
    var /* [auto-meaningful-name] */e$sent$title
    var /* [auto-meaningful-name] */e$sent$type
    var h
    var m
    var g
    return q.a.wrap(function (e) {
      for (;;) {
        switch (e.prev = e.next) {
          case 0:
            if (t$path = t.path, o = t.op, i = o.i, !we.e(i.type) || ye.Db(i.type)) {
              e.next = 11
              break
            }
            if (!(c = null === (a = $.a.getDoc()) || undefined === a || null === (a$extensionWidgetList = a.extensionWidgetList) || undefined === a$extensionWidgetList ? undefined : a$extensionWidgetList.find(function (e) {
              return e.type === i.type
            }))) {
              e.next = 11
              break
            }
            c$cdnUrl = c.cdnUrl
            u = c.id
            Ee.a(be.zh({
              title: Ce.c(Ce.b, "ExtensionWidget.loading").toString(),
              cancelBtnVisible: false,
              confirmBtnVisible: false
            }))
            e.next = 9
            return Te.u(c$cdnUrl, u)
          case 9:
            if (e$sent = e.sent) {
              e$sent$title = e$sent.title
              e$sent$type = e$sent.type
              h = we.f(e$sent$type, true)
              Ee.a(be.Vg())
              Ee.a(be.zh({
                title: Ce.c(Ce.b, "ExtensionWidget.finishRegistration", {
                  title: e$sent$title,
                  type: h
                }).toString(),
                cancelBtnVisible: false
              }))
            }
          case 11:
            m = t$path[1]
            ye.Ub(i.id, i)
            if (g = null === (n = $.a.getDoc()) || undefined === n ? undefined : n.screens[m].widgetIds) {
              Oe.h(be.Bj(m, g))
            }
          case 15:
          case "end":
            return e.stop()
        }
      }
    }, e)
  }))).apply(this, arguments)
}
function je(e, t) {
  var n = OtJson1.replaceOp([e], true, t)
  $.a.applyClient(n)
}
function Ne(e) {}
function Re(e, t) {
  var /* [auto-meaningful-name] */e$path
  if (1 === (e$path = e.path).length && "title" === e$path[0]) {
    (function (e) {
      var e$op$i = e.op.i
      Oe.h(be.Bf(e$op$i, false))
    })(e)
  }
}
import ke = require("./377/index");
import xe = require("../99");
function De(e) {
  return 2 === e.length && "screens" === e[0]
}
function Me(e, t) {
  e = xe.g(e)
  var n = OtJson1.insertOp(["screens", e.id], e)
  var r = OtJson1.insertOp(["screenIds", t], e.id)
  var o = OtJson1.type.compose(n, r)
  $.a.applyClient(o)
}
function Le(e, t) {
  var n = OtJson1.removeOp(["screens", t])
  var r = OtJson1.removeOp(["screenIds", e])
  var o = OtJson1.type.compose(n, r)
  if (function (e) {
    var t = $.a.getDoc()
    return null === t || undefined === t ? undefined : t.blockly[e]
  }(t)) {
    o = OtJson1.type.compose(o, OtJson1.removeOp(["blockly", t]))
  }
  $.a.applyClient(o)
}
function Pe(e, t) {
  var n = OtJson1.moveOp(["screenIds", e], ["screenIds", t])
  $.a.applyClient(n)
}
function Be(e, t, n) {
  var r = OtJson1.replaceOp(["screens", e, t], true, n)
  $.a.applyClient(r)
}
function Fe(e) {
  if (De(e.path)) {
    (function (e) {
      var t = e.path[1]
      Oe.h(be.ng(t, false))
    })(e)
  }
}
function Ge(e, t) {
  var /* [auto-meaningful-name] */e$path
  if (De(e.path)) {
    (function (e) {
      var t
      var e$op$i = e.op.i
      Object.entries(e$op$i.widgets).forEach(function (e) {
        var t = te.a(e, 2)
        t[0]
        var n = t[1]
        ye.Ub(n.id, n)
      })
      var r = xe.d(e$op$i)
      Oe.h(be.if(r))
      var o = null === (t = $.a.getDoc()) || undefined === t ? undefined : t.screenIds
      if (o) {
        Oe.h(be.xg(X.a(o)))
      }
    })(e)
  }
  if (2 === (e$path = e.path).length && "screenIds" === e$path[0]) {
    (function () {
      var e
      var t = null === (e = $.a.getDoc()) || undefined === e ? undefined : e.screenIds
      if (t) {
        Oe.h(be.xg(X.a(t)))
      }
    })()
  }
  if (function (e) {
    return 3 === e.length && "screens" === e[0]
  }(e.path)) {
    (function (e) {
      var e$path = e.path
      var n = e.op
      var r = e$path[1]
      var o = e$path[2]
      var i = n.i
      Oe.h(be.Jg(r, o, i, false))
    })(e)
  }
}
import Lodash = require("lodash");
function We(e) {
  return He.apply(this, arguments)
}
function He() {
  return (He = Q.a(q.a.mark(function e(t) {
    var n
    var r
    var o
    var i
    return q.a.wrap(function (e) {
      for (;;) {
        switch (e.prev = e.next) {
          case 0:
            (r = Lodash.cloneDeep(t)).source = ""
            o = null === (n = $.a.getDoc()) || undefined === n ? undefined : n.imageFileList
            i = OtJson1.insertOp(["imageFileList", (null === o || undefined === o ? undefined : o.length) || 0], r)
            $.a.applyClient(i)
          case 5:
          case "end":
            return e.stop()
        }
      }
    }, e)
  }))).apply(this, arguments)
}
function Ve(e) {
  var t
  var n = null === (t = $.a.getDoc()) || undefined === t ? undefined : t.imageFileList
  var r = null === n || undefined === n ? undefined : n.findIndex(function (t) {
    return t.id === e
  })
  if (undefined !== r && r > -1) {
    var o = OtJson1.removeOp(["imageFileList", r])
    $.a.applyClient(o)
  }
}
function ze(e, t) {
  var n
  var r = null === (n = $.a.getDoc()) || undefined === n ? undefined : n.imageFileList
  if (r) {
    var o = r.findIndex(function (t) {
      return t.id === e
    })
    if (o > -1) {
      var i = OtJson1.replaceOp(["imageFileList", o, "id"], true, t)
      $.a.applyClient(i)
    }
  }
}
function Ye(e, t) {
  var n
  var r = null === (n = $.a.getDoc()) || undefined === n ? undefined : n.imageFileList
  if (r) {
    var o = r.findIndex(function (t) {
      return t.id === e
    })
    var i = OtJson1.replaceOp(["imageFileList", o, "cdnUrl"], true, t)
    $.a.applyClient(i)
  }
}
function Ke(e) {
  return 2 === e.length && "imageFileList" === e[0]
}
function qe(e) {
  if (Ke(e.path)) {
    (function (e) {
      var t
      var e$path = e.path
      var r = null === (t = $.a.getPreviousDoc()) || undefined === t ? undefined : t.imageFileList[e$path[1]]
      if (r) {
        Oe.h(be.Jf(r.id, false))
      }
    })(e)
  }
}
function Xe(e) {
  var /* [auto-meaningful-name] */e$path
  if (Ke(e.path)) {
    (function (e) {
      var t = e.op
      var e$path = e.path
      var r = t.i
      var o = e$path[1]
      ye.Tb(r, o)
      Oe.h(be.Zj())
      Oe.h(be.Uj())
      Oe.h(be.Qj())
    })(e)
  }
  if (3 === (e$path = e.path).length && "imageFileList" === e$path[0]) {
    (function (e) {
      var t
      var e$path = e.path
      var r = e.op
      var o = e$path[1]
      var i = e$path[2]
      var a = r.i
      var s = null === (t = $.a.getPreviousDoc()) || undefined === t ? undefined : t.imageFileList[o]
      if (s) {
        if ("id" === i) {
          Oe.h(be.zf(a, s.id, false))
        }
        if ("cdnUrl" === i) {
          ye.bc(s.id, a)
        }
        Oe.h(be.Zj())
        Oe.h(be.Uj())
        Oe.h(be.Qj())
      }
    })(e)
  }
}
function Qe(e) {
  return Ze.apply(this, arguments)
}
function Ze() {
  return (Ze = Q.a(q.a.mark(function e(t) {
    var n
    var r
    var o
    return q.a.wrap(function (e) {
      for (;;) {
        switch (e.prev = e.next) {
          case 0:
            r = null === (n = $.a.getDoc()) || undefined === n ? undefined : n.soundFileList
            o = (null === r || undefined === r ? undefined : r.length) || 0
            t.forEach(function (e, t) {
              var n = Lodash.cloneDeep(e)
              n.source = ""
              var r = OtJson1.insertOp(["soundFileList", o + t], n)
              $.a.applyClient(r)
            })
          case 3:
          case "end":
            return e.stop()
        }
      }
    }, e)
  }))).apply(this, arguments)
}
function Je(e) {
  var t
  var n = null === (t = $.a.getDoc()) || undefined === t ? undefined : t.soundFileList
  var r = null === n || undefined === n ? undefined : n.findIndex(function (t) {
    return t.id === e
  })
  if (undefined !== r && r > -1) {
    var o = OtJson1.removeOp(["soundFileList", r])
    $.a.applyClient(o)
  }
}
function $e(e, t) {
  var n
  var r = null === (n = $.a.getDoc()) || undefined === n ? undefined : n.soundFileList
  if (r) {
    var o = r.findIndex(function (t) {
      return t.id === e
    })
    if (o > -1) {
      var i = OtJson1.replaceOp(["soundFileList", o, "name"], true, t)
      $.a.applyClient(i)
    }
  }
}
function et(e, t) {
  var n
  var r = null === (n = $.a.getDoc()) || undefined === n ? undefined : n.soundFileList
  if (r) {
    var o = r.findIndex(function (t) {
      return t.id === e
    })
    var i = OtJson1.replaceOp(["soundFileList", o, "cdnUrl"], true, t)
    $.a.applyClient(i)
  }
}
import tt = require("../26/index");
function nt(e) {
  return 2 === e.length && "soundFileList" === e[0]
}
function rt(e) {
  if (nt(e.path)) {
    (function (e) {
      var t
      var /* [auto-meaningful-name] */t$soundFileList
      var e$path = e.path
      var o = null === (t = $.a.getPreviousDoc()) || undefined === t || null === (t$soundFileList = t.soundFileList) || undefined === t$soundFileList ? undefined : t$soundFileList[e$path[1]]
      if (o) {
        Oe.h(be.og(o.id, false))
      }
    })(e)
  }
}
function ot(e) {
  var /* [auto-meaningful-name] */e$path
  if (nt(e.path)) {
    (function (e) {
      var t = e.op
      var e$path = e.path
      var r = t.i
      var o = e$path[1]
      Oe.h(be.kf([r], o))
      Oe.h(be.Zj())
      Oe.h(be.Uj())
      Oe.h(be.Qj())
    })(e)
  }
  if (3 === (e$path = e.path).length && "soundFileList" === e$path[0]) {
    (function (e) {
      var t
      var /* [auto-meaningful-name] */t$soundFileList
      var e$path = e.path
      var o = e.op
      var i = e$path[1]
      var a = e$path[2]
      var s = o.i
      var c = null === (t = $.a.getPreviousDoc()) || undefined === t || null === (t$soundFileList = t.soundFileList) || undefined === t$soundFileList ? undefined : t$soundFileList[i]
      if (c) {
        if ("cdnUrl" === a) {
          Oe.h(be.Rg(c.id, s))
        }
        if ("name" === a) {
          var c$name = c.name
          Oe.h(be.Ph(c.id, s))
          tt.z.replaceTextValue("audio_sound_file_list_dropdown", "SOUND_FILE_ID", c$name, s)
        }
        Oe.h(be.Uj())
        Oe.h(be.Qj())
      }
    })(e)
  }
}
function it(e) {
  return at.apply(this, arguments)
}
function at() {
  return (at = Q.a(q.a.mark(function e(t) {
    var n
    var r
    var o
    return q.a.wrap(function (e) {
      for (;;) {
        switch (e.prev = e.next) {
          case 0:
            r = null === (n = $.a.getDoc()) || undefined === n ? undefined : n.iconFileList
            o = (null === r || undefined === r ? undefined : r.length) || 0
            t.forEach(function (e, t) {
              var n = Lodash.cloneDeep(e)
              n.source = ""
              var r = OtJson1.insertOp(["iconFileList", o + t], n)
              $.a.applyClient(r)
            })
          case 3:
          case "end":
            return e.stop()
        }
      }
    }, e)
  }))).apply(this, arguments)
}
function st(e) {
  return ct.apply(this, arguments)
}
function ct() {
  return (ct = Q.a(q.a.mark(function e(t) {
    var n
    var r
    var o
    var i
    return q.a.wrap(function (e) {
      for (;;) {
        switch (e.prev = e.next) {
          case 0:
            r = null === (n = $.a.getDoc()) || undefined === n ? undefined : n.iconFileList
            if (undefined !== (o = null === r || undefined === r ? undefined : r.findIndex(function (e) {
              return e.id === t
            })) && o > -1) {
              i = OtJson1.removeOp(["iconFileList", o])
              $.a.applyClient(i)
            }
          case 3:
          case "end":
            return e.stop()
        }
      }
    }, e)
  }))).apply(this, arguments)
}
function lt(e, t) {
  var n
  var r = null === (n = $.a.getDoc()) || undefined === n ? undefined : n.iconFileList
  if (r) {
    var o = r.findIndex(function (t) {
      return t.id === e
    })
    if (o > -1) {
      var i = OtJson1.replaceOp(["iconFileList", o, "name"], true, t)
      $.a.applyClient(i)
    }
  }
}
function ut(e, t) {
  var n
  var r = null === (n = $.a.getDoc()) || undefined === n ? undefined : n.iconFileList
  if (r) {
    var o = r.findIndex(function (t) {
      return t.id === e
    })
    var i = OtJson1.replaceOp(["iconFileList", o, "cdnUrl"], true, t)
    $.a.applyClient(i)
  }
}
function dt(e) {
  return 2 === e.length && "iconFileList" === e[0]
}
function pt(e) {
  if (dt(e.path)) {
    (function (e) {
      var t
      var /* [auto-meaningful-name] */t$iconFileList
      var e$path = e.path
      var o = null === (t = $.a.getPreviousDoc()) || undefined === t || null === (t$iconFileList = t.iconFileList) || undefined === t$iconFileList ? undefined : t$iconFileList[e$path[1]]
      if (o) {
        Oe.h(be.mg(o.id, false))
      }
    })(e)
  }
}
function ft(e) {
  var /* [auto-meaningful-name] */e$path
  if (dt(e.path)) {
    (function (e) {
      var t = e.op
      var e$path = e.path
      var r = t.i
      var o = e$path[1]
      Oe.h(be.df([r], o))
      Oe.h(be.Zj())
      Oe.h(be.Uj())
      Oe.h(be.Qj())
    })(e)
  }
  if (3 === (e$path = e.path).length && "iconFileList" === e$path[0]) {
    (function (e) {
      var t
      var /* [auto-meaningful-name] */t$iconFileList
      var e$path = e.path
      var o = e.op
      var i = e$path[1]
      var a = e$path[2]
      var s = o.i
      var c = null === (t = $.a.getPreviousDoc()) || undefined === t || null === (t$iconFileList = t.iconFileList) || undefined === t$iconFileList ? undefined : t$iconFileList[i]
      if (c) {
        if ("cdnUrl" === a) {
          Oe.h(be.Pg(c.id, s))
        }
        if ("name" === a) {
          Oe.h(be.Oh(c.id, s))
        }
        Oe.h(be.Uj())
        Oe.h(be.Qj())
      }
    })(e)
  }
}
import ht = require("../18");
function mt(e, t) {
  for (var arguments$length = arguments.length, r = new Array(arguments$length > 2 ? arguments$length - 2 : 0), o = 2; o < arguments$length; o++) {
    r[o - 2] = arguments[o]
  }
  return ["screens", e, "primitiveVariables", t].concat(r)
}
function gt(e) {
  return 4 === e.length && "primitiveVariables" === e[2] || 2 === e.length && "globalVariableList" === e[0]
}
function _t(e, t, n, r, o, i) {
  return vt.apply(this, arguments)
}
function vt() {
  return (vt = Q.a(q.a.mark(function e(t, n, r, o, i, a) {
    var s
    var c
    var l
    return q.a.wrap(function (e) {
      for (;;) {
        switch (e.prev = e.next) {
          case 0:
            s = {
              id: r,
              name: o,
              defaultValue: i,
              value: i
            }
            if (t === ht.i.GLOBAL) {
              c = OtJson1.insertOp(["globalVariableList", a], s)
              $.a.applyClient(c)
            } else {
              l = OtJson1.insertOp(mt(n, a), s)
              $.a.applyClient(l)
            }
          case 2:
          case "end":
            return e.stop()
        }
      }
    }, e)
  }))).apply(this, arguments)
}
function bt(e, t, n) {
  if (e === ht.i.GLOBAL) {
    var r
    var o = null === (r = $.a.getDoc()) || undefined === r ? undefined : r.globalVariableList.findIndex(function (e) {
      return e.id === n
    })
    if (undefined !== o) {
      var i = OtJson1.removeOp(["globalVariableList", o])
      $.a.applyClient(i)
    } else {
      console.error("can't find index of globalVariableList")
    }
  } else {
    var a
    var s = null === (a = $.a.getDoc()) || undefined === a ? undefined : a.screens[t].primitiveVariables.findIndex(function (e) {
      return e.id === n
    })
    if (undefined !== s) {
      var c = OtJson1.removeOp(mt(t, s))
      $.a.applyClient(c)
    } else {
      console.error("can't find index of primitiveVariable")
    }
  }
}
function yt(e, t, n, r, o) {
  if (e === ht.i.GLOBAL) {
    var i
    var a = null === (i = $.a.getDoc()) || undefined === i ? undefined : i.globalVariableList.findIndex(function (e) {
      return e.id === n
    })
    if (undefined !== a) {
      var s = OtJson1.replaceOp(["globalVariableList", a, r], true, o)
      $.a.applyClient(s)
    }
  } else {
    var c
    var l = null === (c = $.a.getDoc()) || undefined === c ? undefined : c.screens[t].primitiveVariables.findIndex(function (e) {
      return e.id === n
    })
    if (undefined !== l) {
      var u = OtJson1.replaceOp(mt(t, l, r), true, o)
      $.a.applyClient(u)
    }
  }
}
function Et(e) {
  if (gt(e.path)) {
    (function (e) {
      var t
      var e$path = e.path
      if ("globalVariableList" === e$path[0]) {
        var r
        var o = e$path[1]
        var i = null === (r = $.a.getPreviousDoc()) || undefined === r ? undefined : r.globalVariableList[o]
        var a = null === i || undefined === i ? undefined : i.id
        return void (a && Oe.h(be.Lf(ht.i.GLOBAL, a, "", false)))
      }
      var s = e$path[1]
      var c = e$path[3]
      var l = null === (t = $.a.getPreviousDoc()) || undefined === t ? undefined : t.screens[s].primitiveVariables[c]
      var u = null === l || undefined === l ? undefined : l.id
      if (u) {
        Oe.h(be.Lf(ht.i.SCREEN, u, s, false))
      }
    })(e)
  }
}
function Ot(e) {
  var /* [auto-meaningful-name] */e$path
  if (gt(e.path)) {
    (function (e) {
      var e$path = e.path
      var e$op$i = e.op.i
      var e$op$i$id = e$op$i.id
      var e$op$i$name = e$op$i.name
      var e$op$i$defaultValue = e$op$i.defaultValue
      if ("globalVariableList" === e$path[0]) {
        var a = e$path[1]
        return void Oe.h(be.uf(ht.i.GLOBAL, e$op$i$id, e$op$i$name, e$op$i$defaultValue, "", a, undefined, false))
      }
      var s = e$path[3]
      var c = e$path[1]
      Oe.h(be.uf(ht.i.SCREEN, e$op$i$id, e$op$i$name, e$op$i$defaultValue, c, s, undefined, false))
    })(e)
  }
  if (5 === (e$path = e.path).length && "primitiveVariables" === e$path[2] || 3 === e$path.length && "globalVariableList" === e$path[0]) {
    (function (e) {
      var t
      var e$path = e.path
      var r = e.op
      if ("globalVariableList" === e$path[0]) {
        var o
        var i = e$path[1]
        var a = r.i
        var s = e$path[2]
        var c = null === (o = $.a.getPreviousDoc()) || undefined === o ? undefined : o.globalVariableList[i]
        var l = null === c || undefined === c ? undefined : c.id
        return void (l && Oe.h(be.Hg(ht.i.GLOBAL, l, s, a, "", false)))
      }
      var u = e$path[1]
      var d = e$path[3]
      var p = r.i
      var f = e$path[4]
      var h = null === (t = $.a.getPreviousDoc()) || undefined === t ? undefined : t.screens[u].primitiveVariables[d]
      var m = null === h || undefined === h ? undefined : h.id
      if (m) {
        Oe.h(be.Hg(ht.i.SCREEN, m, f, p, u, false))
      }
    })(e)
  }
}
function wt(e, t) {
  for (var arguments$length = arguments.length, r = new Array(arguments$length > 2 ? arguments$length - 2 : 0), o = 2; o < arguments$length; o++) {
    r[o - 2] = arguments[o]
  }
  return ["screens", e, "arrayVariables", t].concat(r)
}
function Ct(e) {
  return 4 === e.length && "arrayVariables" === e[2] || 2 === e.length && "globalArrayList" === e[0]
}
function Tt(e, t, n, r, o, i) {
  return St.apply(this, arguments)
}
function St() {
  return (St = Q.a(q.a.mark(function e(t, n, r, o, i, a) {
    var s
    var c
    var l
    return q.a.wrap(function (e) {
      for (;;) {
        switch (e.prev = e.next) {
          case 0:
            s = {
              id: r,
              name: o,
              defaultValue: i,
              value: i
            }
            if (t === ht.i.GLOBAL) {
              c = OtJson1.insertOp(["globalArrayList", a], s)
              $.a.applyClient(c)
            } else {
              l = OtJson1.insertOp(wt(n, a), s)
              $.a.applyClient(l)
            }
          case 2:
          case "end":
            return e.stop()
        }
      }
    }, e)
  }))).apply(this, arguments)
}
function It(e, t, n) {
  if (e === ht.i.GLOBAL) {
    var r
    var o = null === (r = $.a.getDoc()) || undefined === r ? undefined : r.globalArrayList.findIndex(function (e) {
      return e.id === n
    })
    if (undefined !== o) {
      var i = OtJson1.removeOp(["globalArrayList", o])
      $.a.applyClient(i)
    } else {
      console.error("can't find index of arrayVariable")
    }
  } else {
    var a
    var s = null === (a = $.a.getDoc()) || undefined === a ? undefined : a.screens[t].arrayVariables.findIndex(function (e) {
      return e.id === n
    })
    if (undefined !== s) {
      var c = OtJson1.removeOp(wt(t, s))
      $.a.applyClient(c)
    } else {
      console.error("can't find index of arrayVariable")
    }
  }
}
function At(e, t, n, r, o) {
  if (e === ht.i.GLOBAL) {
    var i
    var a = null === (i = $.a.getDoc()) || undefined === i ? undefined : i.globalArrayList.findIndex(function (e) {
      return e.id === n
    })
    if (undefined !== a) {
      var s = OtJson1.replaceOp(["globalArrayList", a, r], true, o)
      $.a.applyClient(s)
    }
  } else {
    var c
    var l = null === (c = $.a.getDoc()) || undefined === c ? undefined : c.screens[t].arrayVariables.findIndex(function (e) {
      return e.id === n
    })
    if (undefined !== l) {
      var u = OtJson1.replaceOp(wt(t, l, r), true, o)
      $.a.applyClient(u)
    }
  }
}
function jt(e) {
  if (Ct(e.path)) {
    (function (e) {
      var t
      var e$path = e.path
      if ("globalArrayList" === e$path[0]) {
        var r
        var o = e$path[1]
        var i = null === (r = $.a.getPreviousDoc()) || undefined === r ? undefined : r.globalArrayList[o]
        var a = null === i || undefined === i ? undefined : i.id
        return void (a && Oe.h(be.If(ht.i.GLOBAL, a, "", false)))
      }
      var s = e$path[1]
      var c = e$path[3]
      var l = null === (t = $.a.getPreviousDoc()) || undefined === t ? undefined : t.screens[s].arrayVariables[c]
      var u = null === l || undefined === l ? undefined : l.id
      if (u) {
        Oe.h(be.If(ht.i.SCREEN, u, s, false))
      }
    })(e)
  }
}
function Nt(e) {
  var /* [auto-meaningful-name] */e$path
  if (Ct(e.path)) {
    (function (e) {
      var e$path = e.path
      var e$op$i = e.op.i
      var e$op$i$id = e$op$i.id
      var e$op$i$name = e$op$i.name
      var e$op$i$defaultValue = e$op$i.defaultValue
      if ("globalArrayList" === e$path[0]) {
        var a = e$path[1]
        return void Oe.h(be.of(ht.i.GLOBAL, e$op$i$id, e$op$i$name, e$op$i$defaultValue, "", a, undefined, false))
      }
      var s = e$path[3]
      var c = e$path[1]
      Oe.h(be.of(ht.i.SCREEN, e$op$i$id, e$op$i$name, e$op$i$defaultValue, c, s, undefined, false))
    })(e)
  }
  if (5 === (e$path = e.path).length && "arrayVariables" === e$path[2] || 3 === e$path.length && "globalArrayList" === e$path[0]) {
    (function (e) {
      var t
      var e$path = e.path
      var r = e.op
      if ("globalArrayList" === e$path[0]) {
        var o
        var i = e$path[1]
        var a = r.i
        var s = e$path[2]
        var c = null === (o = $.a.getPreviousDoc()) || undefined === o ? undefined : o.globalArrayList[i]
        var l = null === c || undefined === c ? undefined : c.id
        return void (l && Oe.h(be.yg(ht.i.GLOBAL, l, s, a, "", false)))
      }
      var u = e$path[1]
      var d = e$path[3]
      var p = r.i
      var f = e$path[4]
      var h = null === (t = $.a.getPreviousDoc()) || undefined === t ? undefined : t.screens[u].arrayVariables[d]
      var m = null === h || undefined === h ? undefined : h.id
      if (m) {
        Oe.h(be.yg(ht.i.SCREEN, m, f, p, u, false))
      }
    })(e)
  }
}
function Rt(e, t) {
  for (var arguments$length = arguments.length, r = new Array(arguments$length > 2 ? arguments$length - 2 : 0), o = 2; o < arguments$length; o++) {
    r[o - 2] = arguments[o]
  }
  return ["screens", e, "objectVariables", t].concat(r)
}
function kt(e) {
  return 4 === e.length && "objectVariables" === e[2] || 2 === e.length && "globalObjectList" === e[0]
}
function xt(e, t, n, r, o, i) {
  return Dt.apply(this, arguments)
}
function Dt() {
  return (Dt = Q.a(q.a.mark(function e(t, n, r, o, i, a) {
    var s
    var c
    var l
    return q.a.wrap(function (e) {
      for (;;) {
        switch (e.prev = e.next) {
          case 0:
            s = {
              id: r,
              name: o,
              defaultValue: i,
              value: i
            }
            if (t === ht.i.GLOBAL) {
              c = OtJson1.insertOp(["globalObjectList", a], s)
              $.a.applyClient(c)
            } else {
              l = OtJson1.insertOp(Rt(n, a), s)
              $.a.applyClient(l)
            }
          case 2:
          case "end":
            return e.stop()
        }
      }
    }, e)
  }))).apply(this, arguments)
}
function Mt(e, t, n) {
  if (e === ht.i.GLOBAL) {
    var r
    var o = null === (r = $.a.getDoc()) || undefined === r ? undefined : r.globalObjectList.findIndex(function (e) {
      return e.id === n
    })
    if (undefined !== o) {
      var i = OtJson1.removeOp(["globalObjectList", o])
      $.a.applyClient(i)
    } else {
      console.error("can't find index of objectVariable")
    }
  } else {
    var a
    var s = null === (a = $.a.getDoc()) || undefined === a ? undefined : a.screens[t].objectVariables.findIndex(function (e) {
      return e.id === n
    })
    if (undefined !== s) {
      var c = OtJson1.removeOp(Rt(t, s))
      $.a.applyClient(c)
    } else {
      console.error("can't find index of objectVariable")
    }
  }
}
function Lt(e, t, n, r, o) {
  if (e === ht.i.GLOBAL) {
    var i
    var a = null === (i = $.a.getDoc()) || undefined === i ? undefined : i.globalObjectList.findIndex(function (e) {
      return e.id === n
    })
    if (undefined !== a) {
      var s = OtJson1.replaceOp(["globalObjectList", a, r], true, o)
      $.a.applyClient(s)
    }
  } else {
    var c
    var l = null === (c = $.a.getDoc()) || undefined === c ? undefined : c.screens[t].objectVariables.findIndex(function (e) {
      return e.id === n
    })
    if (undefined !== l) {
      var u = OtJson1.replaceOp(Rt(t, l, r), true, o)
      $.a.applyClient(u)
    }
  }
}
function Pt(e) {
  if (kt(e.path)) {
    (function (e) {
      var t
      var e$path = e.path
      if ("globalObjectList" === e$path[0]) {
        var r
        var o = e$path[1]
        var i = null === (r = $.a.getPreviousDoc()) || undefined === r ? undefined : r.globalObjectList[o]
        var a = null === i || undefined === i ? undefined : i.id
        return void (a && Ee.a(be.Kf(ht.i.GLOBAL, a, "", false)))
      }
      var s = e$path[1]
      var c = e$path[3]
      var l = null === (t = $.a.getPreviousDoc()) || undefined === t ? undefined : t.screens[s].objectVariables[c]
      var u = null === l || undefined === l ? undefined : l.id
      if (u) {
        Ee.a(be.Kf(ht.i.SCREEN, u, s, false))
      }
    })(e)
  }
}
function Bt(e) {
  var /* [auto-meaningful-name] */e$path
  if (kt(e.path)) {
    (function (e) {
      var e$path = e.path
      var e$op$i = e.op.i
      var e$op$i$id = e$op$i.id
      var e$op$i$name = e$op$i.name
      var e$op$i$defaultValue = e$op$i.defaultValue
      if ("globalObjectList" === e$path[0]) {
        var a = e$path[1]
        return void Ee.a(be.tf({
          scopeType: ht.i.GLOBAL,
          id: e$op$i$id,
          name: e$op$i$name,
          defaultValue: e$op$i$defaultValue,
          screenId: "",
          index: a,
          isEmitOT: false
        }))
      }
      var s = e$path[3]
      var c = e$path[1]
      Ee.a(be.tf({
        scopeType: ht.i.SCREEN,
        id: e$op$i$id,
        name: e$op$i$name,
        defaultValue: e$op$i$defaultValue,
        screenId: c,
        index: s,
        isEmitOT: false
      }))
    })(e)
  }
  if (5 === (e$path = e.path).length && "objectVariables" === e$path[2] || 3 === e$path.length && "globalObjectList" === e$path[0]) {
    (function (e) {
      var t
      var e$path = e.path
      var r = e.op
      if ("globalObjectList" === e$path[0]) {
        var o
        var i = e$path[1]
        var a = r.i
        var s = e$path[2]
        var c = null === (o = $.a.getPreviousDoc()) || undefined === o ? undefined : o.globalObjectList[i]
        var l = null === c || undefined === c ? undefined : c.id
        return void (l && Ee.a(be.Gg({
          scopeType: ht.i.GLOBAL,
          id: l,
          key: s,
          value: a,
          screenId: "",
          isEmitOT: false
        })))
      }
      var u = e$path[1]
      var d = e$path[3]
      var p = r.i
      var f = e$path[4]
      var h = null === (t = $.a.getPreviousDoc()) || undefined === t ? undefined : t.screens[u].objectVariables[d]
      var m = null === h || undefined === h ? undefined : h.id
      if (m) {
        Ee.a(be.Gg({
          scopeType: ht.i.SCREEN,
          id: m,
          key: f,
          value: p,
          screenId: u,
          isEmitOT: false
        }))
      }
    })(e)
  }
}
function Ft(e, t) {
  for (var arguments$length = arguments.length, r = new Array(arguments$length > 2 ? arguments$length - 2 : 0), o = 2; o < arguments$length; o++) {
    r[o - 2] = arguments[o]
  }
  return ["screens", e, "broadcasts", t].concat(r)
}
function Gt(e, t, n) {
  return Ut.apply(this, arguments)
}
function Ut() {
  return (Ut = Q.a(q.a.mark(function e(t, n, r) {
    var o
    return q.a.wrap(function (e) {
      for (;;) {
        switch (e.prev = e.next) {
          case 0:
            o = OtJson1.insertOp(Ft(t, r), n)
            $.a.applyClient(o)
          case 2:
          case "end":
            return e.stop()
        }
      }
    }, e)
  }))).apply(this, arguments)
}
function Wt(e) {}
function Ht(e) {
  var /* [auto-meaningful-name] */e$path
  if (4 === (e$path = e.path).length && "broadcasts" === e$path[2]) {
    (function (e) {
      var e$path = e.path
      var e$op$i = e.op.i
      var r = e$path[3]
      var o = e$path[1]
      Oe.h(be.pf(e$op$i, o, r, undefined, false))
    })(e)
  }
}
var Vt
var zt
import Yt = require("../6");
function Kt(e, t) {
  var /* [auto-meaningful-name] */$$a$client
  var r = Oe.e()
  var o = Oe.a() || ""
  if (!t) {
    e = ht.k
    t = ""
  }
  var i = {
    userId: r,
    path: {
      id: t,
      screenId: o,
      type: e
    }
  }
  if (!(null === ($$a$client = $.a.client) || undefined === $$a$client)) {
    $$a$client.emitCustomEvent({
      type: Vt.USER_FOCUS,
      data: i
    })
  }
  qt.runIntervalTask(i)
}
!function (e) {
  e.USER_FOCUS = "USER_FOCUS"
  e.CLOUD_DATABASE = "CLOUD_DATABASE"
  e.USER_COLORS = "USER_COLORS"
}(Vt || (Vt = {}));
(function (e) {
  e.CHANGE_NAME = "CHANGE_NAME"
  e.ADD_DOC = "ADD_DOC"
  e.INITIAL = "INITIAL"
  e.REPLACE_DATA = "REPLACE_DATA"
})(zt || (zt = {}))
var qt = new (function () {
  function e() {
    z.a(this, e)
    this.intervalTime = 1e4
    this.currentUserFocusInfo = undefined
    this.timeId = undefined
    this.currentUserFocusInfo = {
      userId: -1,
      path: {
        screenId: "",
        id: "",
        type: ""
      }
    }
  }
  Y.a(e, [{
    key: "runIntervalTask",
    value: function (e) {
      var t = this
      this.currentUserFocusInfo = Yt.a({}, e)
      if (this.timeId) {
        clearInterval(this.timeId)
      }
      this.timeId = setInterval(function () {
        var /* [auto-meaningful-name] */$$a$client
        if (t.currentUserFocusInfo.path.type !== ht.k) {
          if (!(null === ($$a$client = $.a.client) || undefined === $$a$client)) {
            $$a$client.emitCustomEvent({
              type: Vt.USER_FOCUS,
              data: t.currentUserFocusInfo
            })
          }
        }
      }, this.intervalTime)
    }
  }])
  return e
}())()
function Xt(e) {
  var /* [auto-meaningful-name] */$$a$client
  if (!(null === ($$a$client = $.a.client) || undefined === $$a$client)) {
    $$a$client.emitCustomEvent({
      type: Vt.USER_COLORS,
      data: e
    })
  }
}
function Qt(e, t, n, r) {
  var /* [auto-meaningful-name] */$$a$client
  if (!(null === ($$a$client = $.a.client) || undefined === $$a$client)) {
    $$a$client.emitCustomEvent({
      type: Vt.CLOUD_DATABASE,
      data: {
        type: e,
        id: t,
        name: n,
        fields: r
      }
    })
  }
}
import Zt = require("../102");
function Jt(e) {
  if (e.type === Vt.USER_COLORS) {
    Oe.h(Zt.t(e.data))
  } else {
    if (e.type === Vt.USER_FOCUS) {
      Oe.h(Zt.m(e.data))
    } else {
      if (e.type === Vt.CLOUD_DATABASE) {
        (function (e) {
          var e$data = e.data
          var e$data$type = e$data.type
          var e$data$id = e$data.id
          var e$data$name = e$data.name
          if (e$data$type === zt.ADD_DOC && e$data$id && e$data$name) {
            Oe.h(be.af(e$data$id, e$data$name))
          }
          zt.INITIAL
        })(e)
      }
    }
  }
}
function $t(e) {
  var t
  var n = null === (t = $.a.getDoc()) || undefined === t ? undefined : t.globalWidgetIds
  var r = 0
  if (n && (r = n.findIndex(function (t) {
    return t === e
  })) < 0) {
    r = n.length
  }
  return ["globalWidgetIds", r]
}
function en(e) {
  for (var arguments$length = arguments.length, n = new Array(arguments$length > 1 ? arguments$length - 1 : 0), r = 1; r < arguments$length; r++) {
    n[r - 1] = arguments[r]
  }
  return ["globalWidgets", e].concat(n)
}
function tn(e) {
  return "globalWidgets" === e[0]
}
function nn(e) {
  return 2 === e.length && tn(e)
}
function rn(e) {
  return on.apply(this, arguments)
}
function on() {
  return (on = Q.a(q.a.mark(function e(t) {
    var n
    var r
    return q.a.wrap(function (e) {
      for (;;) {
        switch (e.prev = e.next) {
          case 0:
            n = OtJson1.insertOp(en(t.id), t)
            r = OtJson1.insertOp($t(t.id), t.id)
            $.a.applyClient(OtJson1.type.compose(r, n))
          case 3:
          case "end":
            return e.stop()
        }
      }
    }, e)
  }))).apply(this, arguments)
}
function an(e) {
  var t = OtJson1.removeOp($t(e))
  var n = OtJson1.removeOp(en(e))
  $.a.applyClient(OtJson1.type.compose(t, n))
}
function sn(e, t, n) {
  var r
  var o = !(arguments.length > 3 && undefined !== arguments[3]) || arguments[3]
  var i = ["size", "position", "visible", "title", "widgetIds"]
  var a = $.a.getDoc()
  if (i.includes(t) && o) {
    var s = en(e, t)
    var c = a ? Z.a({
      path: ["$"].concat(X.a(s)),
      json: a
    }) : []
    r = 0 === c.length ? OtJson1.insertOp(s, n) : OtJson1.replaceOp(s, true, n)
  } else {
    var l = en(e, "attributes", t)
    var u = a ? Z.a({
      path: ["$"].concat(X.a(l)),
      json: a
    }) : []
    r = 0 === u.length ? OtJson1.insertOp(l, n) : OtJson1.replaceOp(l, true, n)
  }
  $.a.applyClient(r)
}
import cn = require("../5");
import ln = require("../112");
function un(e) {
  if (nn(e.path)) {
    (function (e) {
      var t = e.path[1]
      if (t) {
        Oe.h(be.Mf(t, undefined, false))
      }
    })(e)
  }
}
function dn(e) {
  var /* [auto-meaningful-name] */e$path
  if (nn(e.path)) {
    (function (e) {
      pn.apply(this, arguments)
    })(e)
  }
  if (2 === (e$path = e.path).length && function (e) {
    return "globalWidgetIds" === e[0]
  }(e$path)) {
    e.path
  }
  if (function (e) {
    return 4 === e.length && tn(e) && "attributes" === e[2]
  }(e.path)) {
    (function (e) {
      var t = e.op
      var e$path = e.path
      var r = t.i
      var o = e$path[1]
      var i = e$path[3]
      Oe.h(be.Lg(o, i, r, false, true, false))
    })(e)
  }
  if (function (e) {
    return 3 === e.length && tn(e)
  }(e.path)) {
    (function (e) {
      var t = e.op
      var e$path = e.path
      var r = t.i
      var o = e$path[1]
      var i = e$path[2]
      if ("title" === i) {
        Oe.h(be.Ng(o, r, false, true, false))
      } else {
        Oe.h(be.Lg(o, i, r, false, true, false))
      }
    })(e)
  }
}
function pn() {
  return (pn = Q.a(q.a.mark(function e(t) {
    var n
    var r
    var o
    var /* [auto-meaningful-name] */o$extensionWidgetList
    var a
    var /* [auto-meaningful-name] */a$cdnUrl
    var c
    var /* [auto-meaningful-name] */e$sent
    var /* [auto-meaningful-name] */e$sent$title
    var /* [auto-meaningful-name] */e$sent$type
    var p
    var /* [auto-meaningful-name] */r$attributes$fields
    return q.a.wrap(function (e) {
      for (;;) {
        switch (e.prev = e.next) {
          case 0:
            if (n = t.op, r = n.i, !we.e(r.type) || ye.Db(r.type)) {
              e.next = 11
              break
            }
            if (!(a = null === (o = $.a.getDoc()) || undefined === o || null === (o$extensionWidgetList = o.extensionWidgetList) || undefined === o$extensionWidgetList ? undefined : o$extensionWidgetList.find(function (e) {
              return e.type === r.type
            }))) {
              e.next = 11
              break
            }
            a$cdnUrl = a.cdnUrl
            c = a.id
            Ee.a(be.zh({
              title: Ce.c(Ce.b, "ExtensionWidget.loading").toString(),
              cancelBtnVisible: false,
              confirmBtnVisible: false
            }))
            e.next = 9
            return Te.u(a$cdnUrl, c)
          case 9:
            if (e$sent = e.sent) {
              e$sent$title = e$sent.title
              e$sent$type = e$sent.type
              p = we.f(e$sent$type, true)
              Ee.a(be.Vg())
              Ee.a(be.zh({
                title: Ce.c(Ce.b, "ExtensionWidget.finishRegistration", {
                  title: e$sent$title,
                  type: p
                }).toString(),
                cancelBtnVisible: false
              }))
            }
          case 11:
            ye.Ub(r.id, r)
            Oe.h(be.hf(r.id))
            if (r.type === cn.B || r.type === cn.y) {
              r$attributes$fields = r.attributes.fields
              Ee.a(be.bf(ln.a(r.type, {
                id: r.id,
                name: r.title,
                value: r$attributes$fields,
                defaultValue: "no-use"
              }, {
                isWatching: false
              })))
            } else {
              if (r.type === cn.G) {
                Ee.a(be.bf(ln.a(cn.G, {
                  id: r.id,
                  name: r.title,
                  value: r.attributes.db,
                  defaultValue: "no-use"
                }, {
                  isWatching: false
                })))
              }
            }
          case 14:
          case "end":
            return e.stop()
        }
      }
    }, e)
  }))).apply(this, arguments)
}
function fn(e) {
  return hn.apply(this, arguments)
}
function hn() {
  return (hn = Q.a(q.a.mark(function e(t) {
    var n
    var r
    var o
    var i
    var a
    return q.a.wrap(function (e) {
      for (;;) {
        switch (e.prev = e.next) {
          case 0:
            if (undefined !== (r = null === (n = $.a.getDoc()) || undefined === n ? undefined : n.unsafeExtensionWidgetList)) {
              e.next = 3
              break
            }
            return e.abrupt("return")
          case 3:
            if (-1 !== (o = function () {
              for (var e = 0; e < r.length; e++) {
                if (r[e].type === t.type) {
                  return e
                }
              }
              return -1
            }())) {
              i = OtJson1.replaceOp(["unsafeExtensionWidgetList", o], true, t)
              $.a.applyClient(i)
            } else {
              a = OtJson1.insertOp(["unsafeExtensionWidgetList", r.length], t)
              $.a.applyClient(a)
            }
          case 6:
          case "end":
            return e.stop()
        }
      }
    }, e)
  }))).apply(this, arguments)
}
function mn(e) {
  return gn.apply(this, arguments)
}
function gn() {
  return (gn = Q.a(q.a.mark(function e(t) {
    var n
    var r
    var o
    var i
    var a
    return q.a.wrap(function (e) {
      for (;;) {
        switch (e.prev = e.next) {
          case 0:
            if (undefined !== (r = null === (n = $.a.getDoc()) || undefined === n ? undefined : n.extensionWidgetList)) {
              e.next = 3
              break
            }
            return e.abrupt("return")
          case 3:
            o = function () {
              for (var e = 0; e < r.length; e++) {
                if (r[e].type === t.type) {
                  return e
                }
              }
              return -1
            }()
            i = {
              id: t.id,
              cdnUrl: t.cdnUrl,
              type: t.type,
              version: t.version || 0
            }
            if (-1 === o) {
              a = OtJson1.insertOp(["extensionWidgetList", r.length], i)
              $.a.applyClient(a)
            }
          case 7:
          case "end":
            return e.stop()
        }
      }
    }, e)
  }))).apply(this, arguments)
}
import _n = require("../../../../../src/shared/widget/custom/storage");
function vn(e) {
  var /* [auto-meaningful-name] */e$path
  if (2 === (e$path = e.path).length && "unsafeExtensionWidgetList" === e$path[0]) {
    (function (e) {
      bn.apply(this, arguments)
    })(e)
  }
  (function (e) {
    if (2 === e.length) {
      e[0]
    }
  })(e.path)
}
function bn() {
  return (bn = Q.a(q.a.mark(function e(t) {
    var n
    var /* [auto-meaningful-name] */n$i$code
    var /* [auto-meaningful-name] */e$sent
    var /* [auto-meaningful-name] */e$sent$types
    var /* [auto-meaningful-name] */e$sent$widget
    var /* [auto-meaningful-name] */e$sent$types$title
    var /* [auto-meaningful-name] */e$sent$types$type
    var l
    return q.a.wrap(function (e) {
      for (;;) {
        switch (e.prev = e.next) {
          case 0:
            if (t.path, n = t.op, !(n$i$code = n.i.code)) {
              e.next = 16
              break
            }
            Ee.a(be.zh({
              title: Ce.c(Ce.b, "ExtensionWidget.loading").toString(),
              cancelBtnVisible: false,
              confirmBtnVisible: false
            }))
            e.next = 6
            return Te.r(n$i$code, false)
          case 6:
            e$sent = e.sent
            e$sent$types = e$sent.types
            e$sent$widget = e$sent.widget
            Te.v({
              types: e$sent$types,
              widget: e$sent$widget
            })
            e$sent$types$title = e$sent$types.title
            e$sent$types$type = e$sent$types.type
            l = we.f(e$sent$types$type, false)
            _n.a({
              type: e$sent$types$type,
              types: e$sent$types,
              code: n$i$code
            })
            Ee.a(be.Rj())
            Ee.a(be.Vg())
            Ee.a(be.zh({
              title: Ce.c(Ce.b, "ExtensionWidget.finishRegistration", {
                title: e$sent$types$title,
                type: l
              }).toString(),
              cancelBtnVisible: false
            }))
          case 16:
          case "end":
            return e.stop()
        }
      }
    }, e)
  }))).apply(this, arguments)
}
function yn(e, t) {
  var n
  var r
  var o = null === (n = $.a.getDoc()) || undefined === n ? undefined : n.cloudDictKeysList
  r = (null === o || undefined === o ? undefined : o[e]) ? OtJson1.replaceOp(["cloudDictKeysList", e.toString()], true, t) : OtJson1.insertOp(["cloudDictKeysList", e.toString()], t)
  $.a.applyClient(r)
}
function En(e, t) {
  var n
  var r
  var o = null === (n = $.a.getDoc()) || undefined === n ? undefined : n.cloudTableColumnList
  r = (null === o || undefined === o ? undefined : o[e]) ? OtJson1.replaceOp(["cloudTableColumnList", e.toString()], true, t) : OtJson1.insertOp(["cloudTableColumnList", e.toString()], t)
  $.a.applyClient(r)
}
function On(e, t) {
  var n
  var r
  var o = null === (n = $.a.getDoc()) || undefined === n ? undefined : n.cloudTableDataList
  r = (null === o || undefined === o ? undefined : o[e]) ? OtJson1.replaceOp(["cloudTableDataList", e.toString()], true, t) : OtJson1.insertOp(["cloudTableDataList", e.toString()], t)
  $.a.applyClient(r)
}
function wn(e) {
  var t
  var n
  n = (null === (t = $.a.getDoc()) || undefined === t ? undefined : t.cloudDictList) ? OtJson1.replaceOp(["cloudDictList"], true, e) : OtJson1.insertOp(["cloudDictList"], e)
  $.a.applyClient(n)
}
function Cn(e) {
  var t
  var n
  n = (null === (t = $.a.getDoc()) || undefined === t ? undefined : t.cloudTableList) ? OtJson1.replaceOp(["cloudTableList"], true, e) : OtJson1.insertOp(["cloudTableList"], e)
  $.a.applyClient(n)
}
function Tn(e) {}
function Sn(e, t) {
  var /* [auto-meaningful-name] */e$path
  if (2 === (e$path = e.path).length && "cloudDictKeysList" === e$path[0]) {
    (function (e) {
      var e$path = e.path
      var n = e.op
      var r = e$path[1]
      var o = n.i
      Oe.h(be.Ag(Number(r), o, false))
    })(e)
  }
  if (function (e) {
    return 2 === e.length && "cloudTableColumnList" === e[0]
  }(e.path)) {
    (function (e) {
      var e$path = e.path
      var n = e.op
      var r = e$path[1]
      var o = n.i
      Oe.h(be.Dg(Number(r), o, false))
    })(e)
  }
  if (function (e) {
    return 2 === e.length && "cloudTableDataList" === e[0]
  }(e.path)) {
    (function (e) {
      var e$path = e.path
      var n = e.op
      var r = e$path[1]
      var o = n.i
      Oe.h(be.Nj(Number(r), o))
    })(e)
  }
  if (function (e) {
    return 1 === e.length && "cloudDictList" === e[0]
  }(e.path)) {
    (function (e) {
      e.path
      var e$op$i = e.op.i
      Oe.h(be.Bg(e$op$i, false))
    })(e)
  }
  if (function (e) {
    return 1 === e.length && "cloudTableList" === e[0]
  }(e.path)) {
    (function (e) {
      e.path
      var e$op$i = e.op.i
      Oe.h(be.Eg(e$op$i, false))
    })(e)
  }
}
var In = new (function () {
  function e() {
    z.a(this, e)
    this.projectOt = undefined
    this.blink = undefined
    this.widget = undefined
    this.screen = undefined
    this.imageFileList = undefined
    this.soundFileList = undefined
    this.iconFileList = undefined
    this.primitiveVariables = undefined
    this.arrayVariables = undefined
    this.objectVariables = undefined
    this.localStorage = undefined
    this.focus = undefined
    this.broadcasts = undefined
    this.customEvent = undefined
    this.globalWidget = undefined
    this.extensionWidget = undefined
    this.cloudSpace = undefined
  }
  Y.a(e, [{
    key: "init",
    value: function () {
      this.blink = ke
      this.widget = i
      this.screen = d
      this.imageFileList = h
      this.soundFileList = _
      this.iconFileList = y
      this.primitiveVariables = w
      this.arrayVariables = S
      this.objectVariables = j
      this.localStorage = localStorage
      this.focus = V
      this.broadcasts = k
      this.projectOt = c
      this.customEvent = D
      this.globalWidget = P
      this.extensionWidget = G
      this.cloudSpace = H
    }
  }, {
    key: "dispose",
    value: function () {
      var e = this
      Object.keys(this).forEach(function (t) {
        return e[t] = undefined
      })
    }
  }])
  return e
}())()
